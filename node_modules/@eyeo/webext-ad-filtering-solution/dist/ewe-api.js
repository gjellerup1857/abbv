(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["EWE"] = factory();
	else
		root["EWE"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./core/data/icannPublicSuffixList.js":
/*!********************************************!*\
  !*** ./core/data/icannPublicSuffixList.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {

exports.icannPublicSuffixes = {
  "ac": 1,
  "com.ac": 1,
  "edu.ac": 1,
  "gov.ac": 1,
  "net.ac": 1,
  "mil.ac": 1,
  "org.ac": 1,
  "ad": 1,
  "nom.ad": 1,
  "ae": 1,
  "co.ae": 1,
  "net.ae": 1,
  "org.ae": 1,
  "sch.ae": 1,
  "ac.ae": 1,
  "gov.ae": 1,
  "mil.ae": 1,
  "aero": 1,
  "accident-investigation.aero": 1,
  "accident-prevention.aero": 1,
  "aerobatic.aero": 1,
  "aeroclub.aero": 1,
  "aerodrome.aero": 1,
  "agents.aero": 1,
  "aircraft.aero": 1,
  "airline.aero": 1,
  "airport.aero": 1,
  "air-surveillance.aero": 1,
  "airtraffic.aero": 1,
  "air-traffic-control.aero": 1,
  "ambulance.aero": 1,
  "amusement.aero": 1,
  "association.aero": 1,
  "author.aero": 1,
  "ballooning.aero": 1,
  "broker.aero": 1,
  "caa.aero": 1,
  "cargo.aero": 1,
  "catering.aero": 1,
  "certification.aero": 1,
  "championship.aero": 1,
  "charter.aero": 1,
  "civilaviation.aero": 1,
  "club.aero": 1,
  "conference.aero": 1,
  "consultant.aero": 1,
  "consulting.aero": 1,
  "control.aero": 1,
  "council.aero": 1,
  "crew.aero": 1,
  "design.aero": 1,
  "dgca.aero": 1,
  "educator.aero": 1,
  "emergency.aero": 1,
  "engine.aero": 1,
  "engineer.aero": 1,
  "entertainment.aero": 1,
  "equipment.aero": 1,
  "exchange.aero": 1,
  "express.aero": 1,
  "federation.aero": 1,
  "flight.aero": 1,
  "fuel.aero": 1,
  "gliding.aero": 1,
  "government.aero": 1,
  "groundhandling.aero": 1,
  "group.aero": 1,
  "hanggliding.aero": 1,
  "homebuilt.aero": 1,
  "insurance.aero": 1,
  "journal.aero": 1,
  "journalist.aero": 1,
  "leasing.aero": 1,
  "logistics.aero": 1,
  "magazine.aero": 1,
  "maintenance.aero": 1,
  "media.aero": 1,
  "microlight.aero": 1,
  "modelling.aero": 1,
  "navigation.aero": 1,
  "parachuting.aero": 1,
  "paragliding.aero": 1,
  "passenger-association.aero": 1,
  "pilot.aero": 1,
  "press.aero": 1,
  "production.aero": 1,
  "recreation.aero": 1,
  "repbody.aero": 1,
  "res.aero": 1,
  "research.aero": 1,
  "rotorcraft.aero": 1,
  "safety.aero": 1,
  "scientist.aero": 1,
  "services.aero": 1,
  "show.aero": 1,
  "skydiving.aero": 1,
  "software.aero": 1,
  "student.aero": 1,
  "trader.aero": 1,
  "trading.aero": 1,
  "trainer.aero": 1,
  "union.aero": 1,
  "workinggroup.aero": 1,
  "works.aero": 1,
  "af": 1,
  "gov.af": 1,
  "com.af": 1,
  "org.af": 1,
  "net.af": 1,
  "edu.af": 1,
  "ag": 1,
  "com.ag": 1,
  "org.ag": 1,
  "net.ag": 1,
  "co.ag": 1,
  "nom.ag": 1,
  "ai": 1,
  "off.ai": 1,
  "com.ai": 1,
  "net.ai": 1,
  "org.ai": 1,
  "al": 1,
  "com.al": 1,
  "edu.al": 1,
  "gov.al": 1,
  "mil.al": 1,
  "net.al": 1,
  "org.al": 1,
  "am": 1,
  "co.am": 1,
  "com.am": 1,
  "commune.am": 1,
  "net.am": 1,
  "org.am": 1,
  "ao": 1,
  "ed.ao": 1,
  "gv.ao": 1,
  "og.ao": 1,
  "co.ao": 1,
  "pb.ao": 1,
  "it.ao": 1,
  "aq": 1,
  "ar": 1,
  "bet.ar": 1,
  "com.ar": 1,
  "coop.ar": 1,
  "edu.ar": 1,
  "gob.ar": 1,
  "gov.ar": 1,
  "int.ar": 1,
  "mil.ar": 1,
  "musica.ar": 1,
  "mutual.ar": 1,
  "net.ar": 1,
  "org.ar": 1,
  "senasa.ar": 1,
  "tur.ar": 1,
  "arpa": 1,
  "e164.arpa": 1,
  "in-addr.arpa": 1,
  "ip6.arpa": 1,
  "iris.arpa": 1,
  "uri.arpa": 1,
  "urn.arpa": 1,
  "as": 1,
  "gov.as": 1,
  "asia": 1,
  "at": 1,
  "ac.at": 1,
  "co.at": 1,
  "gv.at": 1,
  "or.at": 1,
  "sth.ac.at": 1,
  "au": 1,
  "com.au": 1,
  "net.au": 1,
  "org.au": 1,
  "edu.au": 1,
  "gov.au": 1,
  "asn.au": 1,
  "id.au": 1,
  "info.au": 1,
  "conf.au": 1,
  "oz.au": 1,
  "act.au": 1,
  "nsw.au": 1,
  "nt.au": 1,
  "qld.au": 1,
  "sa.au": 1,
  "tas.au": 1,
  "vic.au": 1,
  "wa.au": 1,
  "act.edu.au": 1,
  "catholic.edu.au": 1,
  "nsw.edu.au": 1,
  "nt.edu.au": 1,
  "qld.edu.au": 1,
  "sa.edu.au": 1,
  "tas.edu.au": 1,
  "vic.edu.au": 1,
  "wa.edu.au": 1,
  "qld.gov.au": 1,
  "sa.gov.au": 1,
  "tas.gov.au": 1,
  "vic.gov.au": 1,
  "wa.gov.au": 1,
  "schools.nsw.edu.au": 1,
  "aw": 1,
  "com.aw": 1,
  "ax": 1,
  "az": 1,
  "com.az": 1,
  "net.az": 1,
  "int.az": 1,
  "gov.az": 1,
  "org.az": 1,
  "edu.az": 1,
  "info.az": 1,
  "pp.az": 1,
  "mil.az": 1,
  "name.az": 1,
  "pro.az": 1,
  "biz.az": 1,
  "ba": 1,
  "com.ba": 1,
  "edu.ba": 1,
  "gov.ba": 1,
  "mil.ba": 1,
  "net.ba": 1,
  "org.ba": 1,
  "bb": 1,
  "biz.bb": 1,
  "co.bb": 1,
  "com.bb": 1,
  "edu.bb": 1,
  "gov.bb": 1,
  "info.bb": 1,
  "net.bb": 1,
  "org.bb": 1,
  "store.bb": 1,
  "tv.bb": 1,
  "bd": 2,
  "be": 1,
  "ac.be": 1,
  "bf": 1,
  "gov.bf": 1,
  "bg": 1,
  "a.bg": 1,
  "b.bg": 1,
  "c.bg": 1,
  "d.bg": 1,
  "e.bg": 1,
  "f.bg": 1,
  "g.bg": 1,
  "h.bg": 1,
  "i.bg": 1,
  "j.bg": 1,
  "k.bg": 1,
  "l.bg": 1,
  "m.bg": 1,
  "n.bg": 1,
  "o.bg": 1,
  "p.bg": 1,
  "q.bg": 1,
  "r.bg": 1,
  "s.bg": 1,
  "t.bg": 1,
  "u.bg": 1,
  "v.bg": 1,
  "w.bg": 1,
  "x.bg": 1,
  "y.bg": 1,
  "z.bg": 1,
  "0.bg": 1,
  "1.bg": 1,
  "2.bg": 1,
  "3.bg": 1,
  "4.bg": 1,
  "5.bg": 1,
  "6.bg": 1,
  "7.bg": 1,
  "8.bg": 1,
  "9.bg": 1,
  "bh": 1,
  "com.bh": 1,
  "edu.bh": 1,
  "net.bh": 1,
  "org.bh": 1,
  "gov.bh": 1,
  "bi": 1,
  "co.bi": 1,
  "com.bi": 1,
  "edu.bi": 1,
  "or.bi": 1,
  "org.bi": 1,
  "biz": 1,
  "bj": 1,
  "africa.bj": 1,
  "agro.bj": 1,
  "architectes.bj": 1,
  "assur.bj": 1,
  "avocats.bj": 1,
  "co.bj": 1,
  "com.bj": 1,
  "eco.bj": 1,
  "econo.bj": 1,
  "edu.bj": 1,
  "info.bj": 1,
  "loisirs.bj": 1,
  "money.bj": 1,
  "net.bj": 1,
  "org.bj": 1,
  "ote.bj": 1,
  "resto.bj": 1,
  "restaurant.bj": 1,
  "tourism.bj": 1,
  "univ.bj": 1,
  "bm": 1,
  "com.bm": 1,
  "edu.bm": 1,
  "gov.bm": 1,
  "net.bm": 1,
  "org.bm": 1,
  "bn": 1,
  "com.bn": 1,
  "edu.bn": 1,
  "gov.bn": 1,
  "net.bn": 1,
  "org.bn": 1,
  "bo": 1,
  "com.bo": 1,
  "edu.bo": 1,
  "gob.bo": 1,
  "int.bo": 1,
  "org.bo": 1,
  "net.bo": 1,
  "mil.bo": 1,
  "tv.bo": 1,
  "web.bo": 1,
  "academia.bo": 1,
  "agro.bo": 1,
  "arte.bo": 1,
  "blog.bo": 1,
  "bolivia.bo": 1,
  "ciencia.bo": 1,
  "cooperativa.bo": 1,
  "democracia.bo": 1,
  "deporte.bo": 1,
  "ecologia.bo": 1,
  "economia.bo": 1,
  "empresa.bo": 1,
  "indigena.bo": 1,
  "industria.bo": 1,
  "info.bo": 1,
  "medicina.bo": 1,
  "movimiento.bo": 1,
  "musica.bo": 1,
  "natural.bo": 1,
  "nombre.bo": 1,
  "noticias.bo": 1,
  "patria.bo": 1,
  "politica.bo": 1,
  "profesional.bo": 1,
  "plurinacional.bo": 1,
  "pueblo.bo": 1,
  "revista.bo": 1,
  "salud.bo": 1,
  "tecnologia.bo": 1,
  "tksat.bo": 1,
  "transporte.bo": 1,
  "wiki.bo": 1,
  "br": 1,
  "9guacu.br": 1,
  "abc.br": 1,
  "adm.br": 1,
  "adv.br": 1,
  "agr.br": 1,
  "aju.br": 1,
  "am.br": 1,
  "anani.br": 1,
  "aparecida.br": 1,
  "app.br": 1,
  "arq.br": 1,
  "art.br": 1,
  "ato.br": 1,
  "b.br": 1,
  "barueri.br": 1,
  "belem.br": 1,
  "bhz.br": 1,
  "bib.br": 1,
  "bio.br": 1,
  "blog.br": 1,
  "bmd.br": 1,
  "boavista.br": 1,
  "bsb.br": 1,
  "campinagrande.br": 1,
  "campinas.br": 1,
  "caxias.br": 1,
  "cim.br": 1,
  "cng.br": 1,
  "cnt.br": 1,
  "com.br": 1,
  "contagem.br": 1,
  "coop.br": 1,
  "coz.br": 1,
  "cri.br": 1,
  "cuiaba.br": 1,
  "curitiba.br": 1,
  "def.br": 1,
  "des.br": 1,
  "det.br": 1,
  "dev.br": 1,
  "ecn.br": 1,
  "eco.br": 1,
  "edu.br": 1,
  "emp.br": 1,
  "enf.br": 1,
  "eng.br": 1,
  "esp.br": 1,
  "etc.br": 1,
  "eti.br": 1,
  "far.br": 1,
  "feira.br": 1,
  "flog.br": 1,
  "floripa.br": 1,
  "fm.br": 1,
  "fnd.br": 1,
  "fortal.br": 1,
  "fot.br": 1,
  "foz.br": 1,
  "fst.br": 1,
  "g12.br": 1,
  "geo.br": 1,
  "ggf.br": 1,
  "goiania.br": 1,
  "gov.br": 1,
  "ac.gov.br": 1,
  "al.gov.br": 1,
  "am.gov.br": 1,
  "ap.gov.br": 1,
  "ba.gov.br": 1,
  "ce.gov.br": 1,
  "df.gov.br": 1,
  "es.gov.br": 1,
  "go.gov.br": 1,
  "ma.gov.br": 1,
  "mg.gov.br": 1,
  "ms.gov.br": 1,
  "mt.gov.br": 1,
  "pa.gov.br": 1,
  "pb.gov.br": 1,
  "pe.gov.br": 1,
  "pi.gov.br": 1,
  "pr.gov.br": 1,
  "rj.gov.br": 1,
  "rn.gov.br": 1,
  "ro.gov.br": 1,
  "rr.gov.br": 1,
  "rs.gov.br": 1,
  "sc.gov.br": 1,
  "se.gov.br": 1,
  "sp.gov.br": 1,
  "to.gov.br": 1,
  "gru.br": 1,
  "imb.br": 1,
  "ind.br": 1,
  "inf.br": 1,
  "jab.br": 1,
  "jampa.br": 1,
  "jdf.br": 1,
  "joinville.br": 1,
  "jor.br": 1,
  "jus.br": 1,
  "leg.br": 1,
  "lel.br": 1,
  "log.br": 1,
  "londrina.br": 1,
  "macapa.br": 1,
  "maceio.br": 1,
  "manaus.br": 1,
  "maringa.br": 1,
  "mat.br": 1,
  "med.br": 1,
  "mil.br": 1,
  "morena.br": 1,
  "mp.br": 1,
  "mus.br": 1,
  "natal.br": 1,
  "net.br": 1,
  "niteroi.br": 1,
  "nom.br": 2,
  "not.br": 1,
  "ntr.br": 1,
  "odo.br": 1,
  "ong.br": 1,
  "org.br": 1,
  "osasco.br": 1,
  "palmas.br": 1,
  "poa.br": 1,
  "ppg.br": 1,
  "pro.br": 1,
  "psc.br": 1,
  "psi.br": 1,
  "pvh.br": 1,
  "qsl.br": 1,
  "radio.br": 1,
  "rec.br": 1,
  "recife.br": 1,
  "rep.br": 1,
  "ribeirao.br": 1,
  "rio.br": 1,
  "riobranco.br": 1,
  "riopreto.br": 1,
  "salvador.br": 1,
  "sampa.br": 1,
  "santamaria.br": 1,
  "santoandre.br": 1,
  "saobernardo.br": 1,
  "saogonca.br": 1,
  "seg.br": 1,
  "sjc.br": 1,
  "slg.br": 1,
  "slz.br": 1,
  "sorocaba.br": 1,
  "srv.br": 1,
  "taxi.br": 1,
  "tc.br": 1,
  "tec.br": 1,
  "teo.br": 1,
  "the.br": 1,
  "tmp.br": 1,
  "trd.br": 1,
  "tur.br": 1,
  "tv.br": 1,
  "udi.br": 1,
  "vet.br": 1,
  "vix.br": 1,
  "vlog.br": 1,
  "wiki.br": 1,
  "zlg.br": 1,
  "bs": 1,
  "com.bs": 1,
  "net.bs": 1,
  "org.bs": 1,
  "edu.bs": 1,
  "gov.bs": 1,
  "bt": 1,
  "com.bt": 1,
  "edu.bt": 1,
  "gov.bt": 1,
  "net.bt": 1,
  "org.bt": 1,
  "bv": 1,
  "bw": 1,
  "co.bw": 1,
  "org.bw": 1,
  "by": 1,
  "gov.by": 1,
  "mil.by": 1,
  "com.by": 1,
  "of.by": 1,
  "bz": 1,
  "com.bz": 1,
  "net.bz": 1,
  "org.bz": 1,
  "edu.bz": 1,
  "gov.bz": 1,
  "ca": 1,
  "ab.ca": 1,
  "bc.ca": 1,
  "mb.ca": 1,
  "nb.ca": 1,
  "nf.ca": 1,
  "nl.ca": 1,
  "ns.ca": 1,
  "nt.ca": 1,
  "nu.ca": 1,
  "on.ca": 1,
  "pe.ca": 1,
  "qc.ca": 1,
  "sk.ca": 1,
  "yk.ca": 1,
  "gc.ca": 1,
  "cat": 1,
  "cc": 1,
  "cd": 1,
  "gov.cd": 1,
  "cf": 1,
  "cg": 1,
  "ch": 1,
  "ci": 1,
  "org.ci": 1,
  "or.ci": 1,
  "com.ci": 1,
  "co.ci": 1,
  "edu.ci": 1,
  "ed.ci": 1,
  "ac.ci": 1,
  "net.ci": 1,
  "go.ci": 1,
  "asso.ci": 1,
  "xn--aroport-bya.ci": 1,
  "int.ci": 1,
  "presse.ci": 1,
  "md.ci": 1,
  "gouv.ci": 1,
  "ck": 2,
  "www.ck": 0,
  "cl": 1,
  "co.cl": 1,
  "gob.cl": 1,
  "gov.cl": 1,
  "mil.cl": 1,
  "cm": 1,
  "co.cm": 1,
  "com.cm": 1,
  "gov.cm": 1,
  "net.cm": 1,
  "cn": 1,
  "ac.cn": 1,
  "com.cn": 1,
  "edu.cn": 1,
  "gov.cn": 1,
  "net.cn": 1,
  "org.cn": 1,
  "mil.cn": 1,
  "xn--55qx5d.cn": 1,
  "xn--io0a7i.cn": 1,
  "xn--od0alg.cn": 1,
  "ah.cn": 1,
  "bj.cn": 1,
  "cq.cn": 1,
  "fj.cn": 1,
  "gd.cn": 1,
  "gs.cn": 1,
  "gz.cn": 1,
  "gx.cn": 1,
  "ha.cn": 1,
  "hb.cn": 1,
  "he.cn": 1,
  "hi.cn": 1,
  "hl.cn": 1,
  "hn.cn": 1,
  "jl.cn": 1,
  "js.cn": 1,
  "jx.cn": 1,
  "ln.cn": 1,
  "nm.cn": 1,
  "nx.cn": 1,
  "qh.cn": 1,
  "sc.cn": 1,
  "sd.cn": 1,
  "sh.cn": 1,
  "sn.cn": 1,
  "sx.cn": 1,
  "tj.cn": 1,
  "xj.cn": 1,
  "xz.cn": 1,
  "yn.cn": 1,
  "zj.cn": 1,
  "hk.cn": 1,
  "mo.cn": 1,
  "tw.cn": 1,
  "co": 1,
  "arts.co": 1,
  "com.co": 1,
  "edu.co": 1,
  "firm.co": 1,
  "gov.co": 1,
  "info.co": 1,
  "int.co": 1,
  "mil.co": 1,
  "net.co": 1,
  "nom.co": 1,
  "org.co": 1,
  "rec.co": 1,
  "web.co": 1,
  "com": 1,
  "coop": 1,
  "cr": 1,
  "ac.cr": 1,
  "co.cr": 1,
  "ed.cr": 1,
  "fi.cr": 1,
  "go.cr": 1,
  "or.cr": 1,
  "sa.cr": 1,
  "cu": 1,
  "com.cu": 1,
  "edu.cu": 1,
  "org.cu": 1,
  "net.cu": 1,
  "gov.cu": 1,
  "inf.cu": 1,
  "cv": 1,
  "com.cv": 1,
  "edu.cv": 1,
  "int.cv": 1,
  "nome.cv": 1,
  "org.cv": 1,
  "cw": 1,
  "com.cw": 1,
  "edu.cw": 1,
  "net.cw": 1,
  "org.cw": 1,
  "cx": 1,
  "gov.cx": 1,
  "cy": 1,
  "ac.cy": 1,
  "biz.cy": 1,
  "com.cy": 1,
  "ekloges.cy": 1,
  "gov.cy": 1,
  "ltd.cy": 1,
  "mil.cy": 1,
  "net.cy": 1,
  "org.cy": 1,
  "press.cy": 1,
  "pro.cy": 1,
  "tm.cy": 1,
  "cz": 1,
  "de": 1,
  "dj": 1,
  "dk": 1,
  "dm": 1,
  "com.dm": 1,
  "net.dm": 1,
  "org.dm": 1,
  "edu.dm": 1,
  "gov.dm": 1,
  "do": 1,
  "art.do": 1,
  "com.do": 1,
  "edu.do": 1,
  "gob.do": 1,
  "gov.do": 1,
  "mil.do": 1,
  "net.do": 1,
  "org.do": 1,
  "sld.do": 1,
  "web.do": 1,
  "dz": 1,
  "art.dz": 1,
  "asso.dz": 1,
  "com.dz": 1,
  "edu.dz": 1,
  "gov.dz": 1,
  "org.dz": 1,
  "net.dz": 1,
  "pol.dz": 1,
  "soc.dz": 1,
  "tm.dz": 1,
  "ec": 1,
  "com.ec": 1,
  "info.ec": 1,
  "net.ec": 1,
  "fin.ec": 1,
  "k12.ec": 1,
  "med.ec": 1,
  "pro.ec": 1,
  "org.ec": 1,
  "edu.ec": 1,
  "gov.ec": 1,
  "gob.ec": 1,
  "mil.ec": 1,
  "edu": 1,
  "ee": 1,
  "edu.ee": 1,
  "gov.ee": 1,
  "riik.ee": 1,
  "lib.ee": 1,
  "med.ee": 1,
  "com.ee": 1,
  "pri.ee": 1,
  "aip.ee": 1,
  "org.ee": 1,
  "fie.ee": 1,
  "eg": 1,
  "com.eg": 1,
  "edu.eg": 1,
  "eun.eg": 1,
  "gov.eg": 1,
  "mil.eg": 1,
  "name.eg": 1,
  "net.eg": 1,
  "org.eg": 1,
  "sci.eg": 1,
  "er": 2,
  "es": 1,
  "com.es": 1,
  "nom.es": 1,
  "org.es": 1,
  "gob.es": 1,
  "edu.es": 1,
  "et": 1,
  "com.et": 1,
  "gov.et": 1,
  "org.et": 1,
  "edu.et": 1,
  "biz.et": 1,
  "name.et": 1,
  "info.et": 1,
  "net.et": 1,
  "eu": 1,
  "fi": 1,
  "aland.fi": 1,
  "fj": 1,
  "ac.fj": 1,
  "biz.fj": 1,
  "com.fj": 1,
  "gov.fj": 1,
  "info.fj": 1,
  "mil.fj": 1,
  "name.fj": 1,
  "net.fj": 1,
  "org.fj": 1,
  "pro.fj": 1,
  "fk": 2,
  "com.fm": 1,
  "edu.fm": 1,
  "net.fm": 1,
  "org.fm": 1,
  "fm": 1,
  "fo": 1,
  "fr": 1,
  "asso.fr": 1,
  "com.fr": 1,
  "gouv.fr": 1,
  "nom.fr": 1,
  "prd.fr": 1,
  "tm.fr": 1,
  "avoues.fr": 1,
  "cci.fr": 1,
  "greta.fr": 1,
  "huissier-justice.fr": 1,
  "ga": 1,
  "gb": 1,
  "edu.gd": 1,
  "gov.gd": 1,
  "gd": 1,
  "ge": 1,
  "com.ge": 1,
  "edu.ge": 1,
  "gov.ge": 1,
  "org.ge": 1,
  "mil.ge": 1,
  "net.ge": 1,
  "pvt.ge": 1,
  "gf": 1,
  "gg": 1,
  "co.gg": 1,
  "net.gg": 1,
  "org.gg": 1,
  "gh": 1,
  "com.gh": 1,
  "edu.gh": 1,
  "gov.gh": 1,
  "org.gh": 1,
  "mil.gh": 1,
  "gi": 1,
  "com.gi": 1,
  "ltd.gi": 1,
  "gov.gi": 1,
  "mod.gi": 1,
  "edu.gi": 1,
  "org.gi": 1,
  "gl": 1,
  "co.gl": 1,
  "com.gl": 1,
  "edu.gl": 1,
  "net.gl": 1,
  "org.gl": 1,
  "gm": 1,
  "gn": 1,
  "ac.gn": 1,
  "com.gn": 1,
  "edu.gn": 1,
  "gov.gn": 1,
  "org.gn": 1,
  "net.gn": 1,
  "gov": 1,
  "gp": 1,
  "com.gp": 1,
  "net.gp": 1,
  "mobi.gp": 1,
  "edu.gp": 1,
  "org.gp": 1,
  "asso.gp": 1,
  "gq": 1,
  "gr": 1,
  "com.gr": 1,
  "edu.gr": 1,
  "net.gr": 1,
  "org.gr": 1,
  "gov.gr": 1,
  "gs": 1,
  "gt": 1,
  "com.gt": 1,
  "edu.gt": 1,
  "gob.gt": 1,
  "ind.gt": 1,
  "mil.gt": 1,
  "net.gt": 1,
  "org.gt": 1,
  "gu": 1,
  "com.gu": 1,
  "edu.gu": 1,
  "gov.gu": 1,
  "guam.gu": 1,
  "info.gu": 1,
  "net.gu": 1,
  "org.gu": 1,
  "web.gu": 1,
  "gw": 1,
  "gy": 1,
  "co.gy": 1,
  "com.gy": 1,
  "edu.gy": 1,
  "gov.gy": 1,
  "net.gy": 1,
  "org.gy": 1,
  "hk": 1,
  "com.hk": 1,
  "edu.hk": 1,
  "gov.hk": 1,
  "idv.hk": 1,
  "net.hk": 1,
  "org.hk": 1,
  "xn--55qx5d.hk": 1,
  "xn--wcvs22d.hk": 1,
  "xn--lcvr32d.hk": 1,
  "xn--mxtq1m.hk": 1,
  "xn--gmqw5a.hk": 1,
  "xn--ciqpn.hk": 1,
  "xn--gmq050i.hk": 1,
  "xn--zf0avx.hk": 1,
  "xn--io0a7i.hk": 1,
  "xn--mk0axi.hk": 1,
  "xn--od0alg.hk": 1,
  "xn--od0aq3b.hk": 1,
  "xn--tn0ag.hk": 1,
  "xn--uc0atv.hk": 1,
  "xn--uc0ay4a.hk": 1,
  "hm": 1,
  "hn": 1,
  "com.hn": 1,
  "edu.hn": 1,
  "org.hn": 1,
  "net.hn": 1,
  "mil.hn": 1,
  "gob.hn": 1,
  "hr": 1,
  "iz.hr": 1,
  "from.hr": 1,
  "name.hr": 1,
  "com.hr": 1,
  "ht": 1,
  "com.ht": 1,
  "shop.ht": 1,
  "firm.ht": 1,
  "info.ht": 1,
  "adult.ht": 1,
  "net.ht": 1,
  "pro.ht": 1,
  "org.ht": 1,
  "med.ht": 1,
  "art.ht": 1,
  "coop.ht": 1,
  "pol.ht": 1,
  "asso.ht": 1,
  "edu.ht": 1,
  "rel.ht": 1,
  "gouv.ht": 1,
  "perso.ht": 1,
  "hu": 1,
  "co.hu": 1,
  "info.hu": 1,
  "org.hu": 1,
  "priv.hu": 1,
  "sport.hu": 1,
  "tm.hu": 1,
  "2000.hu": 1,
  "agrar.hu": 1,
  "bolt.hu": 1,
  "casino.hu": 1,
  "city.hu": 1,
  "erotica.hu": 1,
  "erotika.hu": 1,
  "film.hu": 1,
  "forum.hu": 1,
  "games.hu": 1,
  "hotel.hu": 1,
  "ingatlan.hu": 1,
  "jogasz.hu": 1,
  "konyvelo.hu": 1,
  "lakas.hu": 1,
  "media.hu": 1,
  "news.hu": 1,
  "reklam.hu": 1,
  "sex.hu": 1,
  "shop.hu": 1,
  "suli.hu": 1,
  "szex.hu": 1,
  "tozsde.hu": 1,
  "utazas.hu": 1,
  "video.hu": 1,
  "id": 1,
  "ac.id": 1,
  "biz.id": 1,
  "co.id": 1,
  "desa.id": 1,
  "go.id": 1,
  "mil.id": 1,
  "my.id": 1,
  "net.id": 1,
  "or.id": 1,
  "ponpes.id": 1,
  "sch.id": 1,
  "web.id": 1,
  "ie": 1,
  "gov.ie": 1,
  "il": 1,
  "ac.il": 1,
  "co.il": 1,
  "gov.il": 1,
  "idf.il": 1,
  "k12.il": 1,
  "muni.il": 1,
  "net.il": 1,
  "org.il": 1,
  "xn--4dbrk0ce": 1,
  "xn--4dbgdty6c.xn--4dbrk0ce": 1,
  "xn--5dbhl8d.xn--4dbrk0ce": 1,
  "xn--8dbq2a.xn--4dbrk0ce": 1,
  "xn--hebda8b.xn--4dbrk0ce": 1,
  "im": 1,
  "ac.im": 1,
  "co.im": 1,
  "com.im": 1,
  "ltd.co.im": 1,
  "net.im": 1,
  "org.im": 1,
  "plc.co.im": 1,
  "tt.im": 1,
  "tv.im": 1,
  "in": 1,
  "5g.in": 1,
  "6g.in": 1,
  "ac.in": 1,
  "ai.in": 1,
  "am.in": 1,
  "bihar.in": 1,
  "biz.in": 1,
  "business.in": 1,
  "ca.in": 1,
  "cn.in": 1,
  "co.in": 1,
  "com.in": 1,
  "coop.in": 1,
  "cs.in": 1,
  "delhi.in": 1,
  "dr.in": 1,
  "edu.in": 1,
  "er.in": 1,
  "firm.in": 1,
  "gen.in": 1,
  "gov.in": 1,
  "gujarat.in": 1,
  "ind.in": 1,
  "info.in": 1,
  "int.in": 1,
  "internet.in": 1,
  "io.in": 1,
  "me.in": 1,
  "mil.in": 1,
  "net.in": 1,
  "nic.in": 1,
  "org.in": 1,
  "pg.in": 1,
  "post.in": 1,
  "pro.in": 1,
  "res.in": 1,
  "travel.in": 1,
  "tv.in": 1,
  "uk.in": 1,
  "up.in": 1,
  "us.in": 1,
  "info": 1,
  "int": 1,
  "eu.int": 1,
  "io": 1,
  "com.io": 1,
  "iq": 1,
  "gov.iq": 1,
  "edu.iq": 1,
  "mil.iq": 1,
  "com.iq": 1,
  "org.iq": 1,
  "net.iq": 1,
  "ir": 1,
  "ac.ir": 1,
  "co.ir": 1,
  "gov.ir": 1,
  "id.ir": 1,
  "net.ir": 1,
  "org.ir": 1,
  "sch.ir": 1,
  "xn--mgba3a4f16a.ir": 1,
  "xn--mgba3a4fra.ir": 1,
  "is": 1,
  "net.is": 1,
  "com.is": 1,
  "edu.is": 1,
  "gov.is": 1,
  "org.is": 1,
  "int.is": 1,
  "it": 1,
  "gov.it": 1,
  "edu.it": 1,
  "abr.it": 1,
  "abruzzo.it": 1,
  "aosta-valley.it": 1,
  "aostavalley.it": 1,
  "bas.it": 1,
  "basilicata.it": 1,
  "cal.it": 1,
  "calabria.it": 1,
  "cam.it": 1,
  "campania.it": 1,
  "emilia-romagna.it": 1,
  "emiliaromagna.it": 1,
  "emr.it": 1,
  "friuli-v-giulia.it": 1,
  "friuli-ve-giulia.it": 1,
  "friuli-vegiulia.it": 1,
  "friuli-venezia-giulia.it": 1,
  "friuli-veneziagiulia.it": 1,
  "friuli-vgiulia.it": 1,
  "friuliv-giulia.it": 1,
  "friulive-giulia.it": 1,
  "friulivegiulia.it": 1,
  "friulivenezia-giulia.it": 1,
  "friuliveneziagiulia.it": 1,
  "friulivgiulia.it": 1,
  "fvg.it": 1,
  "laz.it": 1,
  "lazio.it": 1,
  "lig.it": 1,
  "liguria.it": 1,
  "lom.it": 1,
  "lombardia.it": 1,
  "lombardy.it": 1,
  "lucania.it": 1,
  "mar.it": 1,
  "marche.it": 1,
  "mol.it": 1,
  "molise.it": 1,
  "piedmont.it": 1,
  "piemonte.it": 1,
  "pmn.it": 1,
  "pug.it": 1,
  "puglia.it": 1,
  "sar.it": 1,
  "sardegna.it": 1,
  "sardinia.it": 1,
  "sic.it": 1,
  "sicilia.it": 1,
  "sicily.it": 1,
  "taa.it": 1,
  "tos.it": 1,
  "toscana.it": 1,
  "trentin-sud-tirol.it": 1,
  "xn--trentin-sd-tirol-rzb.it": 1,
  "trentin-sudtirol.it": 1,
  "xn--trentin-sdtirol-7vb.it": 1,
  "trentin-sued-tirol.it": 1,
  "trentin-suedtirol.it": 1,
  "trentino-a-adige.it": 1,
  "trentino-aadige.it": 1,
  "trentino-alto-adige.it": 1,
  "trentino-altoadige.it": 1,
  "trentino-s-tirol.it": 1,
  "trentino-stirol.it": 1,
  "trentino-sud-tirol.it": 1,
  "xn--trentino-sd-tirol-c3b.it": 1,
  "trentino-sudtirol.it": 1,
  "xn--trentino-sdtirol-szb.it": 1,
  "trentino-sued-tirol.it": 1,
  "trentino-suedtirol.it": 1,
  "trentino.it": 1,
  "trentinoa-adige.it": 1,
  "trentinoaadige.it": 1,
  "trentinoalto-adige.it": 1,
  "trentinoaltoadige.it": 1,
  "trentinos-tirol.it": 1,
  "trentinostirol.it": 1,
  "trentinosud-tirol.it": 1,
  "xn--trentinosd-tirol-rzb.it": 1,
  "trentinosudtirol.it": 1,
  "xn--trentinosdtirol-7vb.it": 1,
  "trentinosued-tirol.it": 1,
  "trentinosuedtirol.it": 1,
  "trentinsud-tirol.it": 1,
  "xn--trentinsd-tirol-6vb.it": 1,
  "trentinsudtirol.it": 1,
  "xn--trentinsdtirol-nsb.it": 1,
  "trentinsued-tirol.it": 1,
  "trentinsuedtirol.it": 1,
  "tuscany.it": 1,
  "umb.it": 1,
  "umbria.it": 1,
  "val-d-aosta.it": 1,
  "val-daosta.it": 1,
  "vald-aosta.it": 1,
  "valdaosta.it": 1,
  "valle-aosta.it": 1,
  "valle-d-aosta.it": 1,
  "valle-daosta.it": 1,
  "valleaosta.it": 1,
  "valled-aosta.it": 1,
  "valledaosta.it": 1,
  "vallee-aoste.it": 1,
  "xn--valle-aoste-ebb.it": 1,
  "vallee-d-aoste.it": 1,
  "xn--valle-d-aoste-ehb.it": 1,
  "valleeaoste.it": 1,
  "xn--valleaoste-e7a.it": 1,
  "valleedaoste.it": 1,
  "xn--valledaoste-ebb.it": 1,
  "vao.it": 1,
  "vda.it": 1,
  "ven.it": 1,
  "veneto.it": 1,
  "ag.it": 1,
  "agrigento.it": 1,
  "al.it": 1,
  "alessandria.it": 1,
  "alto-adige.it": 1,
  "altoadige.it": 1,
  "an.it": 1,
  "ancona.it": 1,
  "andria-barletta-trani.it": 1,
  "andria-trani-barletta.it": 1,
  "andriabarlettatrani.it": 1,
  "andriatranibarletta.it": 1,
  "ao.it": 1,
  "aosta.it": 1,
  "aoste.it": 1,
  "ap.it": 1,
  "aq.it": 1,
  "aquila.it": 1,
  "ar.it": 1,
  "arezzo.it": 1,
  "ascoli-piceno.it": 1,
  "ascolipiceno.it": 1,
  "asti.it": 1,
  "at.it": 1,
  "av.it": 1,
  "avellino.it": 1,
  "ba.it": 1,
  "balsan-sudtirol.it": 1,
  "xn--balsan-sdtirol-nsb.it": 1,
  "balsan-suedtirol.it": 1,
  "balsan.it": 1,
  "bari.it": 1,
  "barletta-trani-andria.it": 1,
  "barlettatraniandria.it": 1,
  "belluno.it": 1,
  "benevento.it": 1,
  "bergamo.it": 1,
  "bg.it": 1,
  "bi.it": 1,
  "biella.it": 1,
  "bl.it": 1,
  "bn.it": 1,
  "bo.it": 1,
  "bologna.it": 1,
  "bolzano-altoadige.it": 1,
  "bolzano.it": 1,
  "bozen-sudtirol.it": 1,
  "xn--bozen-sdtirol-2ob.it": 1,
  "bozen-suedtirol.it": 1,
  "bozen.it": 1,
  "br.it": 1,
  "brescia.it": 1,
  "brindisi.it": 1,
  "bs.it": 1,
  "bt.it": 1,
  "bulsan-sudtirol.it": 1,
  "xn--bulsan-sdtirol-nsb.it": 1,
  "bulsan-suedtirol.it": 1,
  "bulsan.it": 1,
  "bz.it": 1,
  "ca.it": 1,
  "cagliari.it": 1,
  "caltanissetta.it": 1,
  "campidano-medio.it": 1,
  "campidanomedio.it": 1,
  "campobasso.it": 1,
  "carbonia-iglesias.it": 1,
  "carboniaiglesias.it": 1,
  "carrara-massa.it": 1,
  "carraramassa.it": 1,
  "caserta.it": 1,
  "catania.it": 1,
  "catanzaro.it": 1,
  "cb.it": 1,
  "ce.it": 1,
  "cesena-forli.it": 1,
  "xn--cesena-forl-mcb.it": 1,
  "cesenaforli.it": 1,
  "xn--cesenaforl-i8a.it": 1,
  "ch.it": 1,
  "chieti.it": 1,
  "ci.it": 1,
  "cl.it": 1,
  "cn.it": 1,
  "co.it": 1,
  "como.it": 1,
  "cosenza.it": 1,
  "cr.it": 1,
  "cremona.it": 1,
  "crotone.it": 1,
  "cs.it": 1,
  "ct.it": 1,
  "cuneo.it": 1,
  "cz.it": 1,
  "dell-ogliastra.it": 1,
  "dellogliastra.it": 1,
  "en.it": 1,
  "enna.it": 1,
  "fc.it": 1,
  "fe.it": 1,
  "fermo.it": 1,
  "ferrara.it": 1,
  "fg.it": 1,
  "fi.it": 1,
  "firenze.it": 1,
  "florence.it": 1,
  "fm.it": 1,
  "foggia.it": 1,
  "forli-cesena.it": 1,
  "xn--forl-cesena-fcb.it": 1,
  "forlicesena.it": 1,
  "xn--forlcesena-c8a.it": 1,
  "fr.it": 1,
  "frosinone.it": 1,
  "ge.it": 1,
  "genoa.it": 1,
  "genova.it": 1,
  "go.it": 1,
  "gorizia.it": 1,
  "gr.it": 1,
  "grosseto.it": 1,
  "iglesias-carbonia.it": 1,
  "iglesiascarbonia.it": 1,
  "im.it": 1,
  "imperia.it": 1,
  "is.it": 1,
  "isernia.it": 1,
  "kr.it": 1,
  "la-spezia.it": 1,
  "laquila.it": 1,
  "laspezia.it": 1,
  "latina.it": 1,
  "lc.it": 1,
  "le.it": 1,
  "lecce.it": 1,
  "lecco.it": 1,
  "li.it": 1,
  "livorno.it": 1,
  "lo.it": 1,
  "lodi.it": 1,
  "lt.it": 1,
  "lu.it": 1,
  "lucca.it": 1,
  "macerata.it": 1,
  "mantova.it": 1,
  "massa-carrara.it": 1,
  "massacarrara.it": 1,
  "matera.it": 1,
  "mb.it": 1,
  "mc.it": 1,
  "me.it": 1,
  "medio-campidano.it": 1,
  "mediocampidano.it": 1,
  "messina.it": 1,
  "mi.it": 1,
  "milan.it": 1,
  "milano.it": 1,
  "mn.it": 1,
  "mo.it": 1,
  "modena.it": 1,
  "monza-brianza.it": 1,
  "monza-e-della-brianza.it": 1,
  "monza.it": 1,
  "monzabrianza.it": 1,
  "monzaebrianza.it": 1,
  "monzaedellabrianza.it": 1,
  "ms.it": 1,
  "mt.it": 1,
  "na.it": 1,
  "naples.it": 1,
  "napoli.it": 1,
  "no.it": 1,
  "novara.it": 1,
  "nu.it": 1,
  "nuoro.it": 1,
  "og.it": 1,
  "ogliastra.it": 1,
  "olbia-tempio.it": 1,
  "olbiatempio.it": 1,
  "or.it": 1,
  "oristano.it": 1,
  "ot.it": 1,
  "pa.it": 1,
  "padova.it": 1,
  "padua.it": 1,
  "palermo.it": 1,
  "parma.it": 1,
  "pavia.it": 1,
  "pc.it": 1,
  "pd.it": 1,
  "pe.it": 1,
  "perugia.it": 1,
  "pesaro-urbino.it": 1,
  "pesarourbino.it": 1,
  "pescara.it": 1,
  "pg.it": 1,
  "pi.it": 1,
  "piacenza.it": 1,
  "pisa.it": 1,
  "pistoia.it": 1,
  "pn.it": 1,
  "po.it": 1,
  "pordenone.it": 1,
  "potenza.it": 1,
  "pr.it": 1,
  "prato.it": 1,
  "pt.it": 1,
  "pu.it": 1,
  "pv.it": 1,
  "pz.it": 1,
  "ra.it": 1,
  "ragusa.it": 1,
  "ravenna.it": 1,
  "rc.it": 1,
  "re.it": 1,
  "reggio-calabria.it": 1,
  "reggio-emilia.it": 1,
  "reggiocalabria.it": 1,
  "reggioemilia.it": 1,
  "rg.it": 1,
  "ri.it": 1,
  "rieti.it": 1,
  "rimini.it": 1,
  "rm.it": 1,
  "rn.it": 1,
  "ro.it": 1,
  "roma.it": 1,
  "rome.it": 1,
  "rovigo.it": 1,
  "sa.it": 1,
  "salerno.it": 1,
  "sassari.it": 1,
  "savona.it": 1,
  "si.it": 1,
  "siena.it": 1,
  "siracusa.it": 1,
  "so.it": 1,
  "sondrio.it": 1,
  "sp.it": 1,
  "sr.it": 1,
  "ss.it": 1,
  "suedtirol.it": 1,
  "xn--sdtirol-n2a.it": 1,
  "sv.it": 1,
  "ta.it": 1,
  "taranto.it": 1,
  "te.it": 1,
  "tempio-olbia.it": 1,
  "tempioolbia.it": 1,
  "teramo.it": 1,
  "terni.it": 1,
  "tn.it": 1,
  "to.it": 1,
  "torino.it": 1,
  "tp.it": 1,
  "tr.it": 1,
  "trani-andria-barletta.it": 1,
  "trani-barletta-andria.it": 1,
  "traniandriabarletta.it": 1,
  "tranibarlettaandria.it": 1,
  "trapani.it": 1,
  "trento.it": 1,
  "treviso.it": 1,
  "trieste.it": 1,
  "ts.it": 1,
  "turin.it": 1,
  "tv.it": 1,
  "ud.it": 1,
  "udine.it": 1,
  "urbino-pesaro.it": 1,
  "urbinopesaro.it": 1,
  "va.it": 1,
  "varese.it": 1,
  "vb.it": 1,
  "vc.it": 1,
  "ve.it": 1,
  "venezia.it": 1,
  "venice.it": 1,
  "verbania.it": 1,
  "vercelli.it": 1,
  "verona.it": 1,
  "vi.it": 1,
  "vibo-valentia.it": 1,
  "vibovalentia.it": 1,
  "vicenza.it": 1,
  "viterbo.it": 1,
  "vr.it": 1,
  "vs.it": 1,
  "vt.it": 1,
  "vv.it": 1,
  "je": 1,
  "co.je": 1,
  "net.je": 1,
  "org.je": 1,
  "jm": 2,
  "jo": 1,
  "com.jo": 1,
  "org.jo": 1,
  "net.jo": 1,
  "edu.jo": 1,
  "sch.jo": 1,
  "gov.jo": 1,
  "mil.jo": 1,
  "name.jo": 1,
  "jobs": 1,
  "jp": 1,
  "ac.jp": 1,
  "ad.jp": 1,
  "co.jp": 1,
  "ed.jp": 1,
  "go.jp": 1,
  "gr.jp": 1,
  "lg.jp": 1,
  "ne.jp": 1,
  "or.jp": 1,
  "aichi.jp": 1,
  "akita.jp": 1,
  "aomori.jp": 1,
  "chiba.jp": 1,
  "ehime.jp": 1,
  "fukui.jp": 1,
  "fukuoka.jp": 1,
  "fukushima.jp": 1,
  "gifu.jp": 1,
  "gunma.jp": 1,
  "hiroshima.jp": 1,
  "hokkaido.jp": 1,
  "hyogo.jp": 1,
  "ibaraki.jp": 1,
  "ishikawa.jp": 1,
  "iwate.jp": 1,
  "kagawa.jp": 1,
  "kagoshima.jp": 1,
  "kanagawa.jp": 1,
  "kochi.jp": 1,
  "kumamoto.jp": 1,
  "kyoto.jp": 1,
  "mie.jp": 1,
  "miyagi.jp": 1,
  "miyazaki.jp": 1,
  "nagano.jp": 1,
  "nagasaki.jp": 1,
  "nara.jp": 1,
  "niigata.jp": 1,
  "oita.jp": 1,
  "okayama.jp": 1,
  "okinawa.jp": 1,
  "osaka.jp": 1,
  "saga.jp": 1,
  "saitama.jp": 1,
  "shiga.jp": 1,
  "shimane.jp": 1,
  "shizuoka.jp": 1,
  "tochigi.jp": 1,
  "tokushima.jp": 1,
  "tokyo.jp": 1,
  "tottori.jp": 1,
  "toyama.jp": 1,
  "wakayama.jp": 1,
  "yamagata.jp": 1,
  "yamaguchi.jp": 1,
  "yamanashi.jp": 1,
  "xn--4pvxs.jp": 1,
  "xn--vgu402c.jp": 1,
  "xn--c3s14m.jp": 1,
  "xn--f6qx53a.jp": 1,
  "xn--8pvr4u.jp": 1,
  "xn--uist22h.jp": 1,
  "xn--djrs72d6uy.jp": 1,
  "xn--mkru45i.jp": 1,
  "xn--0trq7p7nn.jp": 1,
  "xn--8ltr62k.jp": 1,
  "xn--2m4a15e.jp": 1,
  "xn--efvn9s.jp": 1,
  "xn--32vp30h.jp": 1,
  "xn--4it797k.jp": 1,
  "xn--1lqs71d.jp": 1,
  "xn--5rtp49c.jp": 1,
  "xn--5js045d.jp": 1,
  "xn--ehqz56n.jp": 1,
  "xn--1lqs03n.jp": 1,
  "xn--qqqt11m.jp": 1,
  "xn--kbrq7o.jp": 1,
  "xn--pssu33l.jp": 1,
  "xn--ntsq17g.jp": 1,
  "xn--uisz3g.jp": 1,
  "xn--6btw5a.jp": 1,
  "xn--1ctwo.jp": 1,
  "xn--6orx2r.jp": 1,
  "xn--rht61e.jp": 1,
  "xn--rht27z.jp": 1,
  "xn--djty4k.jp": 1,
  "xn--nit225k.jp": 1,
  "xn--rht3d.jp": 1,
  "xn--klty5x.jp": 1,
  "xn--kltx9a.jp": 1,
  "xn--kltp7d.jp": 1,
  "xn--uuwu58a.jp": 1,
  "xn--zbx025d.jp": 1,
  "xn--ntso0iqx3a.jp": 1,
  "xn--elqq16h.jp": 1,
  "xn--4it168d.jp": 1,
  "xn--klt787d.jp": 1,
  "xn--rny31h.jp": 1,
  "xn--7t0a264c.jp": 1,
  "xn--5rtq34k.jp": 1,
  "xn--k7yn95e.jp": 1,
  "xn--tor131o.jp": 1,
  "xn--d5qv7z876c.jp": 1,
  "kawasaki.jp": 2,
  "kitakyushu.jp": 2,
  "kobe.jp": 2,
  "nagoya.jp": 2,
  "sapporo.jp": 2,
  "sendai.jp": 2,
  "yokohama.jp": 2,
  "city.kawasaki.jp": 0,
  "city.kitakyushu.jp": 0,
  "city.kobe.jp": 0,
  "city.nagoya.jp": 0,
  "city.sapporo.jp": 0,
  "city.sendai.jp": 0,
  "city.yokohama.jp": 0,
  "aisai.aichi.jp": 1,
  "ama.aichi.jp": 1,
  "anjo.aichi.jp": 1,
  "asuke.aichi.jp": 1,
  "chiryu.aichi.jp": 1,
  "chita.aichi.jp": 1,
  "fuso.aichi.jp": 1,
  "gamagori.aichi.jp": 1,
  "handa.aichi.jp": 1,
  "hazu.aichi.jp": 1,
  "hekinan.aichi.jp": 1,
  "higashiura.aichi.jp": 1,
  "ichinomiya.aichi.jp": 1,
  "inazawa.aichi.jp": 1,
  "inuyama.aichi.jp": 1,
  "isshiki.aichi.jp": 1,
  "iwakura.aichi.jp": 1,
  "kanie.aichi.jp": 1,
  "kariya.aichi.jp": 1,
  "kasugai.aichi.jp": 1,
  "kira.aichi.jp": 1,
  "kiyosu.aichi.jp": 1,
  "komaki.aichi.jp": 1,
  "konan.aichi.jp": 1,
  "kota.aichi.jp": 1,
  "mihama.aichi.jp": 1,
  "miyoshi.aichi.jp": 1,
  "nishio.aichi.jp": 1,
  "nisshin.aichi.jp": 1,
  "obu.aichi.jp": 1,
  "oguchi.aichi.jp": 1,
  "oharu.aichi.jp": 1,
  "okazaki.aichi.jp": 1,
  "owariasahi.aichi.jp": 1,
  "seto.aichi.jp": 1,
  "shikatsu.aichi.jp": 1,
  "shinshiro.aichi.jp": 1,
  "shitara.aichi.jp": 1,
  "tahara.aichi.jp": 1,
  "takahama.aichi.jp": 1,
  "tobishima.aichi.jp": 1,
  "toei.aichi.jp": 1,
  "togo.aichi.jp": 1,
  "tokai.aichi.jp": 1,
  "tokoname.aichi.jp": 1,
  "toyoake.aichi.jp": 1,
  "toyohashi.aichi.jp": 1,
  "toyokawa.aichi.jp": 1,
  "toyone.aichi.jp": 1,
  "toyota.aichi.jp": 1,
  "tsushima.aichi.jp": 1,
  "yatomi.aichi.jp": 1,
  "akita.akita.jp": 1,
  "daisen.akita.jp": 1,
  "fujisato.akita.jp": 1,
  "gojome.akita.jp": 1,
  "hachirogata.akita.jp": 1,
  "happou.akita.jp": 1,
  "higashinaruse.akita.jp": 1,
  "honjo.akita.jp": 1,
  "honjyo.akita.jp": 1,
  "ikawa.akita.jp": 1,
  "kamikoani.akita.jp": 1,
  "kamioka.akita.jp": 1,
  "katagami.akita.jp": 1,
  "kazuno.akita.jp": 1,
  "kitaakita.akita.jp": 1,
  "kosaka.akita.jp": 1,
  "kyowa.akita.jp": 1,
  "misato.akita.jp": 1,
  "mitane.akita.jp": 1,
  "moriyoshi.akita.jp": 1,
  "nikaho.akita.jp": 1,
  "noshiro.akita.jp": 1,
  "odate.akita.jp": 1,
  "oga.akita.jp": 1,
  "ogata.akita.jp": 1,
  "semboku.akita.jp": 1,
  "yokote.akita.jp": 1,
  "yurihonjo.akita.jp": 1,
  "aomori.aomori.jp": 1,
  "gonohe.aomori.jp": 1,
  "hachinohe.aomori.jp": 1,
  "hashikami.aomori.jp": 1,
  "hiranai.aomori.jp": 1,
  "hirosaki.aomori.jp": 1,
  "itayanagi.aomori.jp": 1,
  "kuroishi.aomori.jp": 1,
  "misawa.aomori.jp": 1,
  "mutsu.aomori.jp": 1,
  "nakadomari.aomori.jp": 1,
  "noheji.aomori.jp": 1,
  "oirase.aomori.jp": 1,
  "owani.aomori.jp": 1,
  "rokunohe.aomori.jp": 1,
  "sannohe.aomori.jp": 1,
  "shichinohe.aomori.jp": 1,
  "shingo.aomori.jp": 1,
  "takko.aomori.jp": 1,
  "towada.aomori.jp": 1,
  "tsugaru.aomori.jp": 1,
  "tsuruta.aomori.jp": 1,
  "abiko.chiba.jp": 1,
  "asahi.chiba.jp": 1,
  "chonan.chiba.jp": 1,
  "chosei.chiba.jp": 1,
  "choshi.chiba.jp": 1,
  "chuo.chiba.jp": 1,
  "funabashi.chiba.jp": 1,
  "futtsu.chiba.jp": 1,
  "hanamigawa.chiba.jp": 1,
  "ichihara.chiba.jp": 1,
  "ichikawa.chiba.jp": 1,
  "ichinomiya.chiba.jp": 1,
  "inzai.chiba.jp": 1,
  "isumi.chiba.jp": 1,
  "kamagaya.chiba.jp": 1,
  "kamogawa.chiba.jp": 1,
  "kashiwa.chiba.jp": 1,
  "katori.chiba.jp": 1,
  "katsuura.chiba.jp": 1,
  "kimitsu.chiba.jp": 1,
  "kisarazu.chiba.jp": 1,
  "kozaki.chiba.jp": 1,
  "kujukuri.chiba.jp": 1,
  "kyonan.chiba.jp": 1,
  "matsudo.chiba.jp": 1,
  "midori.chiba.jp": 1,
  "mihama.chiba.jp": 1,
  "minamiboso.chiba.jp": 1,
  "mobara.chiba.jp": 1,
  "mutsuzawa.chiba.jp": 1,
  "nagara.chiba.jp": 1,
  "nagareyama.chiba.jp": 1,
  "narashino.chiba.jp": 1,
  "narita.chiba.jp": 1,
  "noda.chiba.jp": 1,
  "oamishirasato.chiba.jp": 1,
  "omigawa.chiba.jp": 1,
  "onjuku.chiba.jp": 1,
  "otaki.chiba.jp": 1,
  "sakae.chiba.jp": 1,
  "sakura.chiba.jp": 1,
  "shimofusa.chiba.jp": 1,
  "shirako.chiba.jp": 1,
  "shiroi.chiba.jp": 1,
  "shisui.chiba.jp": 1,
  "sodegaura.chiba.jp": 1,
  "sosa.chiba.jp": 1,
  "tako.chiba.jp": 1,
  "tateyama.chiba.jp": 1,
  "togane.chiba.jp": 1,
  "tohnosho.chiba.jp": 1,
  "tomisato.chiba.jp": 1,
  "urayasu.chiba.jp": 1,
  "yachimata.chiba.jp": 1,
  "yachiyo.chiba.jp": 1,
  "yokaichiba.chiba.jp": 1,
  "yokoshibahikari.chiba.jp": 1,
  "yotsukaido.chiba.jp": 1,
  "ainan.ehime.jp": 1,
  "honai.ehime.jp": 1,
  "ikata.ehime.jp": 1,
  "imabari.ehime.jp": 1,
  "iyo.ehime.jp": 1,
  "kamijima.ehime.jp": 1,
  "kihoku.ehime.jp": 1,
  "kumakogen.ehime.jp": 1,
  "masaki.ehime.jp": 1,
  "matsuno.ehime.jp": 1,
  "matsuyama.ehime.jp": 1,
  "namikata.ehime.jp": 1,
  "niihama.ehime.jp": 1,
  "ozu.ehime.jp": 1,
  "saijo.ehime.jp": 1,
  "seiyo.ehime.jp": 1,
  "shikokuchuo.ehime.jp": 1,
  "tobe.ehime.jp": 1,
  "toon.ehime.jp": 1,
  "uchiko.ehime.jp": 1,
  "uwajima.ehime.jp": 1,
  "yawatahama.ehime.jp": 1,
  "echizen.fukui.jp": 1,
  "eiheiji.fukui.jp": 1,
  "fukui.fukui.jp": 1,
  "ikeda.fukui.jp": 1,
  "katsuyama.fukui.jp": 1,
  "mihama.fukui.jp": 1,
  "minamiechizen.fukui.jp": 1,
  "obama.fukui.jp": 1,
  "ohi.fukui.jp": 1,
  "ono.fukui.jp": 1,
  "sabae.fukui.jp": 1,
  "sakai.fukui.jp": 1,
  "takahama.fukui.jp": 1,
  "tsuruga.fukui.jp": 1,
  "wakasa.fukui.jp": 1,
  "ashiya.fukuoka.jp": 1,
  "buzen.fukuoka.jp": 1,
  "chikugo.fukuoka.jp": 1,
  "chikuho.fukuoka.jp": 1,
  "chikujo.fukuoka.jp": 1,
  "chikushino.fukuoka.jp": 1,
  "chikuzen.fukuoka.jp": 1,
  "chuo.fukuoka.jp": 1,
  "dazaifu.fukuoka.jp": 1,
  "fukuchi.fukuoka.jp": 1,
  "hakata.fukuoka.jp": 1,
  "higashi.fukuoka.jp": 1,
  "hirokawa.fukuoka.jp": 1,
  "hisayama.fukuoka.jp": 1,
  "iizuka.fukuoka.jp": 1,
  "inatsuki.fukuoka.jp": 1,
  "kaho.fukuoka.jp": 1,
  "kasuga.fukuoka.jp": 1,
  "kasuya.fukuoka.jp": 1,
  "kawara.fukuoka.jp": 1,
  "keisen.fukuoka.jp": 1,
  "koga.fukuoka.jp": 1,
  "kurate.fukuoka.jp": 1,
  "kurogi.fukuoka.jp": 1,
  "kurume.fukuoka.jp": 1,
  "minami.fukuoka.jp": 1,
  "miyako.fukuoka.jp": 1,
  "miyama.fukuoka.jp": 1,
  "miyawaka.fukuoka.jp": 1,
  "mizumaki.fukuoka.jp": 1,
  "munakata.fukuoka.jp": 1,
  "nakagawa.fukuoka.jp": 1,
  "nakama.fukuoka.jp": 1,
  "nishi.fukuoka.jp": 1,
  "nogata.fukuoka.jp": 1,
  "ogori.fukuoka.jp": 1,
  "okagaki.fukuoka.jp": 1,
  "okawa.fukuoka.jp": 1,
  "oki.fukuoka.jp": 1,
  "omuta.fukuoka.jp": 1,
  "onga.fukuoka.jp": 1,
  "onojo.fukuoka.jp": 1,
  "oto.fukuoka.jp": 1,
  "saigawa.fukuoka.jp": 1,
  "sasaguri.fukuoka.jp": 1,
  "shingu.fukuoka.jp": 1,
  "shinyoshitomi.fukuoka.jp": 1,
  "shonai.fukuoka.jp": 1,
  "soeda.fukuoka.jp": 1,
  "sue.fukuoka.jp": 1,
  "tachiarai.fukuoka.jp": 1,
  "tagawa.fukuoka.jp": 1,
  "takata.fukuoka.jp": 1,
  "toho.fukuoka.jp": 1,
  "toyotsu.fukuoka.jp": 1,
  "tsuiki.fukuoka.jp": 1,
  "ukiha.fukuoka.jp": 1,
  "umi.fukuoka.jp": 1,
  "usui.fukuoka.jp": 1,
  "yamada.fukuoka.jp": 1,
  "yame.fukuoka.jp": 1,
  "yanagawa.fukuoka.jp": 1,
  "yukuhashi.fukuoka.jp": 1,
  "aizubange.fukushima.jp": 1,
  "aizumisato.fukushima.jp": 1,
  "aizuwakamatsu.fukushima.jp": 1,
  "asakawa.fukushima.jp": 1,
  "bandai.fukushima.jp": 1,
  "date.fukushima.jp": 1,
  "fukushima.fukushima.jp": 1,
  "furudono.fukushima.jp": 1,
  "futaba.fukushima.jp": 1,
  "hanawa.fukushima.jp": 1,
  "higashi.fukushima.jp": 1,
  "hirata.fukushima.jp": 1,
  "hirono.fukushima.jp": 1,
  "iitate.fukushima.jp": 1,
  "inawashiro.fukushima.jp": 1,
  "ishikawa.fukushima.jp": 1,
  "iwaki.fukushima.jp": 1,
  "izumizaki.fukushima.jp": 1,
  "kagamiishi.fukushima.jp": 1,
  "kaneyama.fukushima.jp": 1,
  "kawamata.fukushima.jp": 1,
  "kitakata.fukushima.jp": 1,
  "kitashiobara.fukushima.jp": 1,
  "koori.fukushima.jp": 1,
  "koriyama.fukushima.jp": 1,
  "kunimi.fukushima.jp": 1,
  "miharu.fukushima.jp": 1,
  "mishima.fukushima.jp": 1,
  "namie.fukushima.jp": 1,
  "nango.fukushima.jp": 1,
  "nishiaizu.fukushima.jp": 1,
  "nishigo.fukushima.jp": 1,
  "okuma.fukushima.jp": 1,
  "omotego.fukushima.jp": 1,
  "ono.fukushima.jp": 1,
  "otama.fukushima.jp": 1,
  "samegawa.fukushima.jp": 1,
  "shimogo.fukushima.jp": 1,
  "shirakawa.fukushima.jp": 1,
  "showa.fukushima.jp": 1,
  "soma.fukushima.jp": 1,
  "sukagawa.fukushima.jp": 1,
  "taishin.fukushima.jp": 1,
  "tamakawa.fukushima.jp": 1,
  "tanagura.fukushima.jp": 1,
  "tenei.fukushima.jp": 1,
  "yabuki.fukushima.jp": 1,
  "yamato.fukushima.jp": 1,
  "yamatsuri.fukushima.jp": 1,
  "yanaizu.fukushima.jp": 1,
  "yugawa.fukushima.jp": 1,
  "anpachi.gifu.jp": 1,
  "ena.gifu.jp": 1,
  "gifu.gifu.jp": 1,
  "ginan.gifu.jp": 1,
  "godo.gifu.jp": 1,
  "gujo.gifu.jp": 1,
  "hashima.gifu.jp": 1,
  "hichiso.gifu.jp": 1,
  "hida.gifu.jp": 1,
  "higashishirakawa.gifu.jp": 1,
  "ibigawa.gifu.jp": 1,
  "ikeda.gifu.jp": 1,
  "kakamigahara.gifu.jp": 1,
  "kani.gifu.jp": 1,
  "kasahara.gifu.jp": 1,
  "kasamatsu.gifu.jp": 1,
  "kawaue.gifu.jp": 1,
  "kitagata.gifu.jp": 1,
  "mino.gifu.jp": 1,
  "minokamo.gifu.jp": 1,
  "mitake.gifu.jp": 1,
  "mizunami.gifu.jp": 1,
  "motosu.gifu.jp": 1,
  "nakatsugawa.gifu.jp": 1,
  "ogaki.gifu.jp": 1,
  "sakahogi.gifu.jp": 1,
  "seki.gifu.jp": 1,
  "sekigahara.gifu.jp": 1,
  "shirakawa.gifu.jp": 1,
  "tajimi.gifu.jp": 1,
  "takayama.gifu.jp": 1,
  "tarui.gifu.jp": 1,
  "toki.gifu.jp": 1,
  "tomika.gifu.jp": 1,
  "wanouchi.gifu.jp": 1,
  "yamagata.gifu.jp": 1,
  "yaotsu.gifu.jp": 1,
  "yoro.gifu.jp": 1,
  "annaka.gunma.jp": 1,
  "chiyoda.gunma.jp": 1,
  "fujioka.gunma.jp": 1,
  "higashiagatsuma.gunma.jp": 1,
  "isesaki.gunma.jp": 1,
  "itakura.gunma.jp": 1,
  "kanna.gunma.jp": 1,
  "kanra.gunma.jp": 1,
  "katashina.gunma.jp": 1,
  "kawaba.gunma.jp": 1,
  "kiryu.gunma.jp": 1,
  "kusatsu.gunma.jp": 1,
  "maebashi.gunma.jp": 1,
  "meiwa.gunma.jp": 1,
  "midori.gunma.jp": 1,
  "minakami.gunma.jp": 1,
  "naganohara.gunma.jp": 1,
  "nakanojo.gunma.jp": 1,
  "nanmoku.gunma.jp": 1,
  "numata.gunma.jp": 1,
  "oizumi.gunma.jp": 1,
  "ora.gunma.jp": 1,
  "ota.gunma.jp": 1,
  "shibukawa.gunma.jp": 1,
  "shimonita.gunma.jp": 1,
  "shinto.gunma.jp": 1,
  "showa.gunma.jp": 1,
  "takasaki.gunma.jp": 1,
  "takayama.gunma.jp": 1,
  "tamamura.gunma.jp": 1,
  "tatebayashi.gunma.jp": 1,
  "tomioka.gunma.jp": 1,
  "tsukiyono.gunma.jp": 1,
  "tsumagoi.gunma.jp": 1,
  "ueno.gunma.jp": 1,
  "yoshioka.gunma.jp": 1,
  "asaminami.hiroshima.jp": 1,
  "daiwa.hiroshima.jp": 1,
  "etajima.hiroshima.jp": 1,
  "fuchu.hiroshima.jp": 1,
  "fukuyama.hiroshima.jp": 1,
  "hatsukaichi.hiroshima.jp": 1,
  "higashihiroshima.hiroshima.jp": 1,
  "hongo.hiroshima.jp": 1,
  "jinsekikogen.hiroshima.jp": 1,
  "kaita.hiroshima.jp": 1,
  "kui.hiroshima.jp": 1,
  "kumano.hiroshima.jp": 1,
  "kure.hiroshima.jp": 1,
  "mihara.hiroshima.jp": 1,
  "miyoshi.hiroshima.jp": 1,
  "naka.hiroshima.jp": 1,
  "onomichi.hiroshima.jp": 1,
  "osakikamijima.hiroshima.jp": 1,
  "otake.hiroshima.jp": 1,
  "saka.hiroshima.jp": 1,
  "sera.hiroshima.jp": 1,
  "seranishi.hiroshima.jp": 1,
  "shinichi.hiroshima.jp": 1,
  "shobara.hiroshima.jp": 1,
  "takehara.hiroshima.jp": 1,
  "abashiri.hokkaido.jp": 1,
  "abira.hokkaido.jp": 1,
  "aibetsu.hokkaido.jp": 1,
  "akabira.hokkaido.jp": 1,
  "akkeshi.hokkaido.jp": 1,
  "asahikawa.hokkaido.jp": 1,
  "ashibetsu.hokkaido.jp": 1,
  "ashoro.hokkaido.jp": 1,
  "assabu.hokkaido.jp": 1,
  "atsuma.hokkaido.jp": 1,
  "bibai.hokkaido.jp": 1,
  "biei.hokkaido.jp": 1,
  "bifuka.hokkaido.jp": 1,
  "bihoro.hokkaido.jp": 1,
  "biratori.hokkaido.jp": 1,
  "chippubetsu.hokkaido.jp": 1,
  "chitose.hokkaido.jp": 1,
  "date.hokkaido.jp": 1,
  "ebetsu.hokkaido.jp": 1,
  "embetsu.hokkaido.jp": 1,
  "eniwa.hokkaido.jp": 1,
  "erimo.hokkaido.jp": 1,
  "esan.hokkaido.jp": 1,
  "esashi.hokkaido.jp": 1,
  "fukagawa.hokkaido.jp": 1,
  "fukushima.hokkaido.jp": 1,
  "furano.hokkaido.jp": 1,
  "furubira.hokkaido.jp": 1,
  "haboro.hokkaido.jp": 1,
  "hakodate.hokkaido.jp": 1,
  "hamatonbetsu.hokkaido.jp": 1,
  "hidaka.hokkaido.jp": 1,
  "higashikagura.hokkaido.jp": 1,
  "higashikawa.hokkaido.jp": 1,
  "hiroo.hokkaido.jp": 1,
  "hokuryu.hokkaido.jp": 1,
  "hokuto.hokkaido.jp": 1,
  "honbetsu.hokkaido.jp": 1,
  "horokanai.hokkaido.jp": 1,
  "horonobe.hokkaido.jp": 1,
  "ikeda.hokkaido.jp": 1,
  "imakane.hokkaido.jp": 1,
  "ishikari.hokkaido.jp": 1,
  "iwamizawa.hokkaido.jp": 1,
  "iwanai.hokkaido.jp": 1,
  "kamifurano.hokkaido.jp": 1,
  "kamikawa.hokkaido.jp": 1,
  "kamishihoro.hokkaido.jp": 1,
  "kamisunagawa.hokkaido.jp": 1,
  "kamoenai.hokkaido.jp": 1,
  "kayabe.hokkaido.jp": 1,
  "kembuchi.hokkaido.jp": 1,
  "kikonai.hokkaido.jp": 1,
  "kimobetsu.hokkaido.jp": 1,
  "kitahiroshima.hokkaido.jp": 1,
  "kitami.hokkaido.jp": 1,
  "kiyosato.hokkaido.jp": 1,
  "koshimizu.hokkaido.jp": 1,
  "kunneppu.hokkaido.jp": 1,
  "kuriyama.hokkaido.jp": 1,
  "kuromatsunai.hokkaido.jp": 1,
  "kushiro.hokkaido.jp": 1,
  "kutchan.hokkaido.jp": 1,
  "kyowa.hokkaido.jp": 1,
  "mashike.hokkaido.jp": 1,
  "matsumae.hokkaido.jp": 1,
  "mikasa.hokkaido.jp": 1,
  "minamifurano.hokkaido.jp": 1,
  "mombetsu.hokkaido.jp": 1,
  "moseushi.hokkaido.jp": 1,
  "mukawa.hokkaido.jp": 1,
  "muroran.hokkaido.jp": 1,
  "naie.hokkaido.jp": 1,
  "nakagawa.hokkaido.jp": 1,
  "nakasatsunai.hokkaido.jp": 1,
  "nakatombetsu.hokkaido.jp": 1,
  "nanae.hokkaido.jp": 1,
  "nanporo.hokkaido.jp": 1,
  "nayoro.hokkaido.jp": 1,
  "nemuro.hokkaido.jp": 1,
  "niikappu.hokkaido.jp": 1,
  "niki.hokkaido.jp": 1,
  "nishiokoppe.hokkaido.jp": 1,
  "noboribetsu.hokkaido.jp": 1,
  "numata.hokkaido.jp": 1,
  "obihiro.hokkaido.jp": 1,
  "obira.hokkaido.jp": 1,
  "oketo.hokkaido.jp": 1,
  "okoppe.hokkaido.jp": 1,
  "otaru.hokkaido.jp": 1,
  "otobe.hokkaido.jp": 1,
  "otofuke.hokkaido.jp": 1,
  "otoineppu.hokkaido.jp": 1,
  "oumu.hokkaido.jp": 1,
  "ozora.hokkaido.jp": 1,
  "pippu.hokkaido.jp": 1,
  "rankoshi.hokkaido.jp": 1,
  "rebun.hokkaido.jp": 1,
  "rikubetsu.hokkaido.jp": 1,
  "rishiri.hokkaido.jp": 1,
  "rishirifuji.hokkaido.jp": 1,
  "saroma.hokkaido.jp": 1,
  "sarufutsu.hokkaido.jp": 1,
  "shakotan.hokkaido.jp": 1,
  "shari.hokkaido.jp": 1,
  "shibecha.hokkaido.jp": 1,
  "shibetsu.hokkaido.jp": 1,
  "shikabe.hokkaido.jp": 1,
  "shikaoi.hokkaido.jp": 1,
  "shimamaki.hokkaido.jp": 1,
  "shimizu.hokkaido.jp": 1,
  "shimokawa.hokkaido.jp": 1,
  "shinshinotsu.hokkaido.jp": 1,
  "shintoku.hokkaido.jp": 1,
  "shiranuka.hokkaido.jp": 1,
  "shiraoi.hokkaido.jp": 1,
  "shiriuchi.hokkaido.jp": 1,
  "sobetsu.hokkaido.jp": 1,
  "sunagawa.hokkaido.jp": 1,
  "taiki.hokkaido.jp": 1,
  "takasu.hokkaido.jp": 1,
  "takikawa.hokkaido.jp": 1,
  "takinoue.hokkaido.jp": 1,
  "teshikaga.hokkaido.jp": 1,
  "tobetsu.hokkaido.jp": 1,
  "tohma.hokkaido.jp": 1,
  "tomakomai.hokkaido.jp": 1,
  "tomari.hokkaido.jp": 1,
  "toya.hokkaido.jp": 1,
  "toyako.hokkaido.jp": 1,
  "toyotomi.hokkaido.jp": 1,
  "toyoura.hokkaido.jp": 1,
  "tsubetsu.hokkaido.jp": 1,
  "tsukigata.hokkaido.jp": 1,
  "urakawa.hokkaido.jp": 1,
  "urausu.hokkaido.jp": 1,
  "uryu.hokkaido.jp": 1,
  "utashinai.hokkaido.jp": 1,
  "wakkanai.hokkaido.jp": 1,
  "wassamu.hokkaido.jp": 1,
  "yakumo.hokkaido.jp": 1,
  "yoichi.hokkaido.jp": 1,
  "aioi.hyogo.jp": 1,
  "akashi.hyogo.jp": 1,
  "ako.hyogo.jp": 1,
  "amagasaki.hyogo.jp": 1,
  "aogaki.hyogo.jp": 1,
  "asago.hyogo.jp": 1,
  "ashiya.hyogo.jp": 1,
  "awaji.hyogo.jp": 1,
  "fukusaki.hyogo.jp": 1,
  "goshiki.hyogo.jp": 1,
  "harima.hyogo.jp": 1,
  "himeji.hyogo.jp": 1,
  "ichikawa.hyogo.jp": 1,
  "inagawa.hyogo.jp": 1,
  "itami.hyogo.jp": 1,
  "kakogawa.hyogo.jp": 1,
  "kamigori.hyogo.jp": 1,
  "kamikawa.hyogo.jp": 1,
  "kasai.hyogo.jp": 1,
  "kasuga.hyogo.jp": 1,
  "kawanishi.hyogo.jp": 1,
  "miki.hyogo.jp": 1,
  "minamiawaji.hyogo.jp": 1,
  "nishinomiya.hyogo.jp": 1,
  "nishiwaki.hyogo.jp": 1,
  "ono.hyogo.jp": 1,
  "sanda.hyogo.jp": 1,
  "sannan.hyogo.jp": 1,
  "sasayama.hyogo.jp": 1,
  "sayo.hyogo.jp": 1,
  "shingu.hyogo.jp": 1,
  "shinonsen.hyogo.jp": 1,
  "shiso.hyogo.jp": 1,
  "sumoto.hyogo.jp": 1,
  "taishi.hyogo.jp": 1,
  "taka.hyogo.jp": 1,
  "takarazuka.hyogo.jp": 1,
  "takasago.hyogo.jp": 1,
  "takino.hyogo.jp": 1,
  "tamba.hyogo.jp": 1,
  "tatsuno.hyogo.jp": 1,
  "toyooka.hyogo.jp": 1,
  "yabu.hyogo.jp": 1,
  "yashiro.hyogo.jp": 1,
  "yoka.hyogo.jp": 1,
  "yokawa.hyogo.jp": 1,
  "ami.ibaraki.jp": 1,
  "asahi.ibaraki.jp": 1,
  "bando.ibaraki.jp": 1,
  "chikusei.ibaraki.jp": 1,
  "daigo.ibaraki.jp": 1,
  "fujishiro.ibaraki.jp": 1,
  "hitachi.ibaraki.jp": 1,
  "hitachinaka.ibaraki.jp": 1,
  "hitachiomiya.ibaraki.jp": 1,
  "hitachiota.ibaraki.jp": 1,
  "ibaraki.ibaraki.jp": 1,
  "ina.ibaraki.jp": 1,
  "inashiki.ibaraki.jp": 1,
  "itako.ibaraki.jp": 1,
  "iwama.ibaraki.jp": 1,
  "joso.ibaraki.jp": 1,
  "kamisu.ibaraki.jp": 1,
  "kasama.ibaraki.jp": 1,
  "kashima.ibaraki.jp": 1,
  "kasumigaura.ibaraki.jp": 1,
  "koga.ibaraki.jp": 1,
  "miho.ibaraki.jp": 1,
  "mito.ibaraki.jp": 1,
  "moriya.ibaraki.jp": 1,
  "naka.ibaraki.jp": 1,
  "namegata.ibaraki.jp": 1,
  "oarai.ibaraki.jp": 1,
  "ogawa.ibaraki.jp": 1,
  "omitama.ibaraki.jp": 1,
  "ryugasaki.ibaraki.jp": 1,
  "sakai.ibaraki.jp": 1,
  "sakuragawa.ibaraki.jp": 1,
  "shimodate.ibaraki.jp": 1,
  "shimotsuma.ibaraki.jp": 1,
  "shirosato.ibaraki.jp": 1,
  "sowa.ibaraki.jp": 1,
  "suifu.ibaraki.jp": 1,
  "takahagi.ibaraki.jp": 1,
  "tamatsukuri.ibaraki.jp": 1,
  "tokai.ibaraki.jp": 1,
  "tomobe.ibaraki.jp": 1,
  "tone.ibaraki.jp": 1,
  "toride.ibaraki.jp": 1,
  "tsuchiura.ibaraki.jp": 1,
  "tsukuba.ibaraki.jp": 1,
  "uchihara.ibaraki.jp": 1,
  "ushiku.ibaraki.jp": 1,
  "yachiyo.ibaraki.jp": 1,
  "yamagata.ibaraki.jp": 1,
  "yawara.ibaraki.jp": 1,
  "yuki.ibaraki.jp": 1,
  "anamizu.ishikawa.jp": 1,
  "hakui.ishikawa.jp": 1,
  "hakusan.ishikawa.jp": 1,
  "kaga.ishikawa.jp": 1,
  "kahoku.ishikawa.jp": 1,
  "kanazawa.ishikawa.jp": 1,
  "kawakita.ishikawa.jp": 1,
  "komatsu.ishikawa.jp": 1,
  "nakanoto.ishikawa.jp": 1,
  "nanao.ishikawa.jp": 1,
  "nomi.ishikawa.jp": 1,
  "nonoichi.ishikawa.jp": 1,
  "noto.ishikawa.jp": 1,
  "shika.ishikawa.jp": 1,
  "suzu.ishikawa.jp": 1,
  "tsubata.ishikawa.jp": 1,
  "tsurugi.ishikawa.jp": 1,
  "uchinada.ishikawa.jp": 1,
  "wajima.ishikawa.jp": 1,
  "fudai.iwate.jp": 1,
  "fujisawa.iwate.jp": 1,
  "hanamaki.iwate.jp": 1,
  "hiraizumi.iwate.jp": 1,
  "hirono.iwate.jp": 1,
  "ichinohe.iwate.jp": 1,
  "ichinoseki.iwate.jp": 1,
  "iwaizumi.iwate.jp": 1,
  "iwate.iwate.jp": 1,
  "joboji.iwate.jp": 1,
  "kamaishi.iwate.jp": 1,
  "kanegasaki.iwate.jp": 1,
  "karumai.iwate.jp": 1,
  "kawai.iwate.jp": 1,
  "kitakami.iwate.jp": 1,
  "kuji.iwate.jp": 1,
  "kunohe.iwate.jp": 1,
  "kuzumaki.iwate.jp": 1,
  "miyako.iwate.jp": 1,
  "mizusawa.iwate.jp": 1,
  "morioka.iwate.jp": 1,
  "ninohe.iwate.jp": 1,
  "noda.iwate.jp": 1,
  "ofunato.iwate.jp": 1,
  "oshu.iwate.jp": 1,
  "otsuchi.iwate.jp": 1,
  "rikuzentakata.iwate.jp": 1,
  "shiwa.iwate.jp": 1,
  "shizukuishi.iwate.jp": 1,
  "sumita.iwate.jp": 1,
  "tanohata.iwate.jp": 1,
  "tono.iwate.jp": 1,
  "yahaba.iwate.jp": 1,
  "yamada.iwate.jp": 1,
  "ayagawa.kagawa.jp": 1,
  "higashikagawa.kagawa.jp": 1,
  "kanonji.kagawa.jp": 1,
  "kotohira.kagawa.jp": 1,
  "manno.kagawa.jp": 1,
  "marugame.kagawa.jp": 1,
  "mitoyo.kagawa.jp": 1,
  "naoshima.kagawa.jp": 1,
  "sanuki.kagawa.jp": 1,
  "tadotsu.kagawa.jp": 1,
  "takamatsu.kagawa.jp": 1,
  "tonosho.kagawa.jp": 1,
  "uchinomi.kagawa.jp": 1,
  "utazu.kagawa.jp": 1,
  "zentsuji.kagawa.jp": 1,
  "akune.kagoshima.jp": 1,
  "amami.kagoshima.jp": 1,
  "hioki.kagoshima.jp": 1,
  "isa.kagoshima.jp": 1,
  "isen.kagoshima.jp": 1,
  "izumi.kagoshima.jp": 1,
  "kagoshima.kagoshima.jp": 1,
  "kanoya.kagoshima.jp": 1,
  "kawanabe.kagoshima.jp": 1,
  "kinko.kagoshima.jp": 1,
  "kouyama.kagoshima.jp": 1,
  "makurazaki.kagoshima.jp": 1,
  "matsumoto.kagoshima.jp": 1,
  "minamitane.kagoshima.jp": 1,
  "nakatane.kagoshima.jp": 1,
  "nishinoomote.kagoshima.jp": 1,
  "satsumasendai.kagoshima.jp": 1,
  "soo.kagoshima.jp": 1,
  "tarumizu.kagoshima.jp": 1,
  "yusui.kagoshima.jp": 1,
  "aikawa.kanagawa.jp": 1,
  "atsugi.kanagawa.jp": 1,
  "ayase.kanagawa.jp": 1,
  "chigasaki.kanagawa.jp": 1,
  "ebina.kanagawa.jp": 1,
  "fujisawa.kanagawa.jp": 1,
  "hadano.kanagawa.jp": 1,
  "hakone.kanagawa.jp": 1,
  "hiratsuka.kanagawa.jp": 1,
  "isehara.kanagawa.jp": 1,
  "kaisei.kanagawa.jp": 1,
  "kamakura.kanagawa.jp": 1,
  "kiyokawa.kanagawa.jp": 1,
  "matsuda.kanagawa.jp": 1,
  "minamiashigara.kanagawa.jp": 1,
  "miura.kanagawa.jp": 1,
  "nakai.kanagawa.jp": 1,
  "ninomiya.kanagawa.jp": 1,
  "odawara.kanagawa.jp": 1,
  "oi.kanagawa.jp": 1,
  "oiso.kanagawa.jp": 1,
  "sagamihara.kanagawa.jp": 1,
  "samukawa.kanagawa.jp": 1,
  "tsukui.kanagawa.jp": 1,
  "yamakita.kanagawa.jp": 1,
  "yamato.kanagawa.jp": 1,
  "yokosuka.kanagawa.jp": 1,
  "yugawara.kanagawa.jp": 1,
  "zama.kanagawa.jp": 1,
  "zushi.kanagawa.jp": 1,
  "aki.kochi.jp": 1,
  "geisei.kochi.jp": 1,
  "hidaka.kochi.jp": 1,
  "higashitsuno.kochi.jp": 1,
  "ino.kochi.jp": 1,
  "kagami.kochi.jp": 1,
  "kami.kochi.jp": 1,
  "kitagawa.kochi.jp": 1,
  "kochi.kochi.jp": 1,
  "mihara.kochi.jp": 1,
  "motoyama.kochi.jp": 1,
  "muroto.kochi.jp": 1,
  "nahari.kochi.jp": 1,
  "nakamura.kochi.jp": 1,
  "nankoku.kochi.jp": 1,
  "nishitosa.kochi.jp": 1,
  "niyodogawa.kochi.jp": 1,
  "ochi.kochi.jp": 1,
  "okawa.kochi.jp": 1,
  "otoyo.kochi.jp": 1,
  "otsuki.kochi.jp": 1,
  "sakawa.kochi.jp": 1,
  "sukumo.kochi.jp": 1,
  "susaki.kochi.jp": 1,
  "tosa.kochi.jp": 1,
  "tosashimizu.kochi.jp": 1,
  "toyo.kochi.jp": 1,
  "tsuno.kochi.jp": 1,
  "umaji.kochi.jp": 1,
  "yasuda.kochi.jp": 1,
  "yusuhara.kochi.jp": 1,
  "amakusa.kumamoto.jp": 1,
  "arao.kumamoto.jp": 1,
  "aso.kumamoto.jp": 1,
  "choyo.kumamoto.jp": 1,
  "gyokuto.kumamoto.jp": 1,
  "kamiamakusa.kumamoto.jp": 1,
  "kikuchi.kumamoto.jp": 1,
  "kumamoto.kumamoto.jp": 1,
  "mashiki.kumamoto.jp": 1,
  "mifune.kumamoto.jp": 1,
  "minamata.kumamoto.jp": 1,
  "minamioguni.kumamoto.jp": 1,
  "nagasu.kumamoto.jp": 1,
  "nishihara.kumamoto.jp": 1,
  "oguni.kumamoto.jp": 1,
  "ozu.kumamoto.jp": 1,
  "sumoto.kumamoto.jp": 1,
  "takamori.kumamoto.jp": 1,
  "uki.kumamoto.jp": 1,
  "uto.kumamoto.jp": 1,
  "yamaga.kumamoto.jp": 1,
  "yamato.kumamoto.jp": 1,
  "yatsushiro.kumamoto.jp": 1,
  "ayabe.kyoto.jp": 1,
  "fukuchiyama.kyoto.jp": 1,
  "higashiyama.kyoto.jp": 1,
  "ide.kyoto.jp": 1,
  "ine.kyoto.jp": 1,
  "joyo.kyoto.jp": 1,
  "kameoka.kyoto.jp": 1,
  "kamo.kyoto.jp": 1,
  "kita.kyoto.jp": 1,
  "kizu.kyoto.jp": 1,
  "kumiyama.kyoto.jp": 1,
  "kyotamba.kyoto.jp": 1,
  "kyotanabe.kyoto.jp": 1,
  "kyotango.kyoto.jp": 1,
  "maizuru.kyoto.jp": 1,
  "minami.kyoto.jp": 1,
  "minamiyamashiro.kyoto.jp": 1,
  "miyazu.kyoto.jp": 1,
  "muko.kyoto.jp": 1,
  "nagaokakyo.kyoto.jp": 1,
  "nakagyo.kyoto.jp": 1,
  "nantan.kyoto.jp": 1,
  "oyamazaki.kyoto.jp": 1,
  "sakyo.kyoto.jp": 1,
  "seika.kyoto.jp": 1,
  "tanabe.kyoto.jp": 1,
  "uji.kyoto.jp": 1,
  "ujitawara.kyoto.jp": 1,
  "wazuka.kyoto.jp": 1,
  "yamashina.kyoto.jp": 1,
  "yawata.kyoto.jp": 1,
  "asahi.mie.jp": 1,
  "inabe.mie.jp": 1,
  "ise.mie.jp": 1,
  "kameyama.mie.jp": 1,
  "kawagoe.mie.jp": 1,
  "kiho.mie.jp": 1,
  "kisosaki.mie.jp": 1,
  "kiwa.mie.jp": 1,
  "komono.mie.jp": 1,
  "kumano.mie.jp": 1,
  "kuwana.mie.jp": 1,
  "matsusaka.mie.jp": 1,
  "meiwa.mie.jp": 1,
  "mihama.mie.jp": 1,
  "minamiise.mie.jp": 1,
  "misugi.mie.jp": 1,
  "miyama.mie.jp": 1,
  "nabari.mie.jp": 1,
  "shima.mie.jp": 1,
  "suzuka.mie.jp": 1,
  "tado.mie.jp": 1,
  "taiki.mie.jp": 1,
  "taki.mie.jp": 1,
  "tamaki.mie.jp": 1,
  "toba.mie.jp": 1,
  "tsu.mie.jp": 1,
  "udono.mie.jp": 1,
  "ureshino.mie.jp": 1,
  "watarai.mie.jp": 1,
  "yokkaichi.mie.jp": 1,
  "furukawa.miyagi.jp": 1,
  "higashimatsushima.miyagi.jp": 1,
  "ishinomaki.miyagi.jp": 1,
  "iwanuma.miyagi.jp": 1,
  "kakuda.miyagi.jp": 1,
  "kami.miyagi.jp": 1,
  "kawasaki.miyagi.jp": 1,
  "marumori.miyagi.jp": 1,
  "matsushima.miyagi.jp": 1,
  "minamisanriku.miyagi.jp": 1,
  "misato.miyagi.jp": 1,
  "murata.miyagi.jp": 1,
  "natori.miyagi.jp": 1,
  "ogawara.miyagi.jp": 1,
  "ohira.miyagi.jp": 1,
  "onagawa.miyagi.jp": 1,
  "osaki.miyagi.jp": 1,
  "rifu.miyagi.jp": 1,
  "semine.miyagi.jp": 1,
  "shibata.miyagi.jp": 1,
  "shichikashuku.miyagi.jp": 1,
  "shikama.miyagi.jp": 1,
  "shiogama.miyagi.jp": 1,
  "shiroishi.miyagi.jp": 1,
  "tagajo.miyagi.jp": 1,
  "taiwa.miyagi.jp": 1,
  "tome.miyagi.jp": 1,
  "tomiya.miyagi.jp": 1,
  "wakuya.miyagi.jp": 1,
  "watari.miyagi.jp": 1,
  "yamamoto.miyagi.jp": 1,
  "zao.miyagi.jp": 1,
  "aya.miyazaki.jp": 1,
  "ebino.miyazaki.jp": 1,
  "gokase.miyazaki.jp": 1,
  "hyuga.miyazaki.jp": 1,
  "kadogawa.miyazaki.jp": 1,
  "kawaminami.miyazaki.jp": 1,
  "kijo.miyazaki.jp": 1,
  "kitagawa.miyazaki.jp": 1,
  "kitakata.miyazaki.jp": 1,
  "kitaura.miyazaki.jp": 1,
  "kobayashi.miyazaki.jp": 1,
  "kunitomi.miyazaki.jp": 1,
  "kushima.miyazaki.jp": 1,
  "mimata.miyazaki.jp": 1,
  "miyakonojo.miyazaki.jp": 1,
  "miyazaki.miyazaki.jp": 1,
  "morotsuka.miyazaki.jp": 1,
  "nichinan.miyazaki.jp": 1,
  "nishimera.miyazaki.jp": 1,
  "nobeoka.miyazaki.jp": 1,
  "saito.miyazaki.jp": 1,
  "shiiba.miyazaki.jp": 1,
  "shintomi.miyazaki.jp": 1,
  "takaharu.miyazaki.jp": 1,
  "takanabe.miyazaki.jp": 1,
  "takazaki.miyazaki.jp": 1,
  "tsuno.miyazaki.jp": 1,
  "achi.nagano.jp": 1,
  "agematsu.nagano.jp": 1,
  "anan.nagano.jp": 1,
  "aoki.nagano.jp": 1,
  "asahi.nagano.jp": 1,
  "azumino.nagano.jp": 1,
  "chikuhoku.nagano.jp": 1,
  "chikuma.nagano.jp": 1,
  "chino.nagano.jp": 1,
  "fujimi.nagano.jp": 1,
  "hakuba.nagano.jp": 1,
  "hara.nagano.jp": 1,
  "hiraya.nagano.jp": 1,
  "iida.nagano.jp": 1,
  "iijima.nagano.jp": 1,
  "iiyama.nagano.jp": 1,
  "iizuna.nagano.jp": 1,
  "ikeda.nagano.jp": 1,
  "ikusaka.nagano.jp": 1,
  "ina.nagano.jp": 1,
  "karuizawa.nagano.jp": 1,
  "kawakami.nagano.jp": 1,
  "kiso.nagano.jp": 1,
  "kisofukushima.nagano.jp": 1,
  "kitaaiki.nagano.jp": 1,
  "komagane.nagano.jp": 1,
  "komoro.nagano.jp": 1,
  "matsukawa.nagano.jp": 1,
  "matsumoto.nagano.jp": 1,
  "miasa.nagano.jp": 1,
  "minamiaiki.nagano.jp": 1,
  "minamimaki.nagano.jp": 1,
  "minamiminowa.nagano.jp": 1,
  "minowa.nagano.jp": 1,
  "miyada.nagano.jp": 1,
  "miyota.nagano.jp": 1,
  "mochizuki.nagano.jp": 1,
  "nagano.nagano.jp": 1,
  "nagawa.nagano.jp": 1,
  "nagiso.nagano.jp": 1,
  "nakagawa.nagano.jp": 1,
  "nakano.nagano.jp": 1,
  "nozawaonsen.nagano.jp": 1,
  "obuse.nagano.jp": 1,
  "ogawa.nagano.jp": 1,
  "okaya.nagano.jp": 1,
  "omachi.nagano.jp": 1,
  "omi.nagano.jp": 1,
  "ookuwa.nagano.jp": 1,
  "ooshika.nagano.jp": 1,
  "otaki.nagano.jp": 1,
  "otari.nagano.jp": 1,
  "sakae.nagano.jp": 1,
  "sakaki.nagano.jp": 1,
  "saku.nagano.jp": 1,
  "sakuho.nagano.jp": 1,
  "shimosuwa.nagano.jp": 1,
  "shinanomachi.nagano.jp": 1,
  "shiojiri.nagano.jp": 1,
  "suwa.nagano.jp": 1,
  "suzaka.nagano.jp": 1,
  "takagi.nagano.jp": 1,
  "takamori.nagano.jp": 1,
  "takayama.nagano.jp": 1,
  "tateshina.nagano.jp": 1,
  "tatsuno.nagano.jp": 1,
  "togakushi.nagano.jp": 1,
  "togura.nagano.jp": 1,
  "tomi.nagano.jp": 1,
  "ueda.nagano.jp": 1,
  "wada.nagano.jp": 1,
  "yamagata.nagano.jp": 1,
  "yamanouchi.nagano.jp": 1,
  "yasaka.nagano.jp": 1,
  "yasuoka.nagano.jp": 1,
  "chijiwa.nagasaki.jp": 1,
  "futsu.nagasaki.jp": 1,
  "goto.nagasaki.jp": 1,
  "hasami.nagasaki.jp": 1,
  "hirado.nagasaki.jp": 1,
  "iki.nagasaki.jp": 1,
  "isahaya.nagasaki.jp": 1,
  "kawatana.nagasaki.jp": 1,
  "kuchinotsu.nagasaki.jp": 1,
  "matsuura.nagasaki.jp": 1,
  "nagasaki.nagasaki.jp": 1,
  "obama.nagasaki.jp": 1,
  "omura.nagasaki.jp": 1,
  "oseto.nagasaki.jp": 1,
  "saikai.nagasaki.jp": 1,
  "sasebo.nagasaki.jp": 1,
  "seihi.nagasaki.jp": 1,
  "shimabara.nagasaki.jp": 1,
  "shinkamigoto.nagasaki.jp": 1,
  "togitsu.nagasaki.jp": 1,
  "tsushima.nagasaki.jp": 1,
  "unzen.nagasaki.jp": 1,
  "ando.nara.jp": 1,
  "gose.nara.jp": 1,
  "heguri.nara.jp": 1,
  "higashiyoshino.nara.jp": 1,
  "ikaruga.nara.jp": 1,
  "ikoma.nara.jp": 1,
  "kamikitayama.nara.jp": 1,
  "kanmaki.nara.jp": 1,
  "kashiba.nara.jp": 1,
  "kashihara.nara.jp": 1,
  "katsuragi.nara.jp": 1,
  "kawai.nara.jp": 1,
  "kawakami.nara.jp": 1,
  "kawanishi.nara.jp": 1,
  "koryo.nara.jp": 1,
  "kurotaki.nara.jp": 1,
  "mitsue.nara.jp": 1,
  "miyake.nara.jp": 1,
  "nara.nara.jp": 1,
  "nosegawa.nara.jp": 1,
  "oji.nara.jp": 1,
  "ouda.nara.jp": 1,
  "oyodo.nara.jp": 1,
  "sakurai.nara.jp": 1,
  "sango.nara.jp": 1,
  "shimoichi.nara.jp": 1,
  "shimokitayama.nara.jp": 1,
  "shinjo.nara.jp": 1,
  "soni.nara.jp": 1,
  "takatori.nara.jp": 1,
  "tawaramoto.nara.jp": 1,
  "tenkawa.nara.jp": 1,
  "tenri.nara.jp": 1,
  "uda.nara.jp": 1,
  "yamatokoriyama.nara.jp": 1,
  "yamatotakada.nara.jp": 1,
  "yamazoe.nara.jp": 1,
  "yoshino.nara.jp": 1,
  "aga.niigata.jp": 1,
  "agano.niigata.jp": 1,
  "gosen.niigata.jp": 1,
  "itoigawa.niigata.jp": 1,
  "izumozaki.niigata.jp": 1,
  "joetsu.niigata.jp": 1,
  "kamo.niigata.jp": 1,
  "kariwa.niigata.jp": 1,
  "kashiwazaki.niigata.jp": 1,
  "minamiuonuma.niigata.jp": 1,
  "mitsuke.niigata.jp": 1,
  "muika.niigata.jp": 1,
  "murakami.niigata.jp": 1,
  "myoko.niigata.jp": 1,
  "nagaoka.niigata.jp": 1,
  "niigata.niigata.jp": 1,
  "ojiya.niigata.jp": 1,
  "omi.niigata.jp": 1,
  "sado.niigata.jp": 1,
  "sanjo.niigata.jp": 1,
  "seiro.niigata.jp": 1,
  "seirou.niigata.jp": 1,
  "sekikawa.niigata.jp": 1,
  "shibata.niigata.jp": 1,
  "tagami.niigata.jp": 1,
  "tainai.niigata.jp": 1,
  "tochio.niigata.jp": 1,
  "tokamachi.niigata.jp": 1,
  "tsubame.niigata.jp": 1,
  "tsunan.niigata.jp": 1,
  "uonuma.niigata.jp": 1,
  "yahiko.niigata.jp": 1,
  "yoita.niigata.jp": 1,
  "yuzawa.niigata.jp": 1,
  "beppu.oita.jp": 1,
  "bungoono.oita.jp": 1,
  "bungotakada.oita.jp": 1,
  "hasama.oita.jp": 1,
  "hiji.oita.jp": 1,
  "himeshima.oita.jp": 1,
  "hita.oita.jp": 1,
  "kamitsue.oita.jp": 1,
  "kokonoe.oita.jp": 1,
  "kuju.oita.jp": 1,
  "kunisaki.oita.jp": 1,
  "kusu.oita.jp": 1,
  "oita.oita.jp": 1,
  "saiki.oita.jp": 1,
  "taketa.oita.jp": 1,
  "tsukumi.oita.jp": 1,
  "usa.oita.jp": 1,
  "usuki.oita.jp": 1,
  "yufu.oita.jp": 1,
  "akaiwa.okayama.jp": 1,
  "asakuchi.okayama.jp": 1,
  "bizen.okayama.jp": 1,
  "hayashima.okayama.jp": 1,
  "ibara.okayama.jp": 1,
  "kagamino.okayama.jp": 1,
  "kasaoka.okayama.jp": 1,
  "kibichuo.okayama.jp": 1,
  "kumenan.okayama.jp": 1,
  "kurashiki.okayama.jp": 1,
  "maniwa.okayama.jp": 1,
  "misaki.okayama.jp": 1,
  "nagi.okayama.jp": 1,
  "niimi.okayama.jp": 1,
  "nishiawakura.okayama.jp": 1,
  "okayama.okayama.jp": 1,
  "satosho.okayama.jp": 1,
  "setouchi.okayama.jp": 1,
  "shinjo.okayama.jp": 1,
  "shoo.okayama.jp": 1,
  "soja.okayama.jp": 1,
  "takahashi.okayama.jp": 1,
  "tamano.okayama.jp": 1,
  "tsuyama.okayama.jp": 1,
  "wake.okayama.jp": 1,
  "yakage.okayama.jp": 1,
  "aguni.okinawa.jp": 1,
  "ginowan.okinawa.jp": 1,
  "ginoza.okinawa.jp": 1,
  "gushikami.okinawa.jp": 1,
  "haebaru.okinawa.jp": 1,
  "higashi.okinawa.jp": 1,
  "hirara.okinawa.jp": 1,
  "iheya.okinawa.jp": 1,
  "ishigaki.okinawa.jp": 1,
  "ishikawa.okinawa.jp": 1,
  "itoman.okinawa.jp": 1,
  "izena.okinawa.jp": 1,
  "kadena.okinawa.jp": 1,
  "kin.okinawa.jp": 1,
  "kitadaito.okinawa.jp": 1,
  "kitanakagusuku.okinawa.jp": 1,
  "kumejima.okinawa.jp": 1,
  "kunigami.okinawa.jp": 1,
  "minamidaito.okinawa.jp": 1,
  "motobu.okinawa.jp": 1,
  "nago.okinawa.jp": 1,
  "naha.okinawa.jp": 1,
  "nakagusuku.okinawa.jp": 1,
  "nakijin.okinawa.jp": 1,
  "nanjo.okinawa.jp": 1,
  "nishihara.okinawa.jp": 1,
  "ogimi.okinawa.jp": 1,
  "okinawa.okinawa.jp": 1,
  "onna.okinawa.jp": 1,
  "shimoji.okinawa.jp": 1,
  "taketomi.okinawa.jp": 1,
  "tarama.okinawa.jp": 1,
  "tokashiki.okinawa.jp": 1,
  "tomigusuku.okinawa.jp": 1,
  "tonaki.okinawa.jp": 1,
  "urasoe.okinawa.jp": 1,
  "uruma.okinawa.jp": 1,
  "yaese.okinawa.jp": 1,
  "yomitan.okinawa.jp": 1,
  "yonabaru.okinawa.jp": 1,
  "yonaguni.okinawa.jp": 1,
  "zamami.okinawa.jp": 1,
  "abeno.osaka.jp": 1,
  "chihayaakasaka.osaka.jp": 1,
  "chuo.osaka.jp": 1,
  "daito.osaka.jp": 1,
  "fujiidera.osaka.jp": 1,
  "habikino.osaka.jp": 1,
  "hannan.osaka.jp": 1,
  "higashiosaka.osaka.jp": 1,
  "higashisumiyoshi.osaka.jp": 1,
  "higashiyodogawa.osaka.jp": 1,
  "hirakata.osaka.jp": 1,
  "ibaraki.osaka.jp": 1,
  "ikeda.osaka.jp": 1,
  "izumi.osaka.jp": 1,
  "izumiotsu.osaka.jp": 1,
  "izumisano.osaka.jp": 1,
  "kadoma.osaka.jp": 1,
  "kaizuka.osaka.jp": 1,
  "kanan.osaka.jp": 1,
  "kashiwara.osaka.jp": 1,
  "katano.osaka.jp": 1,
  "kawachinagano.osaka.jp": 1,
  "kishiwada.osaka.jp": 1,
  "kita.osaka.jp": 1,
  "kumatori.osaka.jp": 1,
  "matsubara.osaka.jp": 1,
  "minato.osaka.jp": 1,
  "minoh.osaka.jp": 1,
  "misaki.osaka.jp": 1,
  "moriguchi.osaka.jp": 1,
  "neyagawa.osaka.jp": 1,
  "nishi.osaka.jp": 1,
  "nose.osaka.jp": 1,
  "osakasayama.osaka.jp": 1,
  "sakai.osaka.jp": 1,
  "sayama.osaka.jp": 1,
  "sennan.osaka.jp": 1,
  "settsu.osaka.jp": 1,
  "shijonawate.osaka.jp": 1,
  "shimamoto.osaka.jp": 1,
  "suita.osaka.jp": 1,
  "tadaoka.osaka.jp": 1,
  "taishi.osaka.jp": 1,
  "tajiri.osaka.jp": 1,
  "takaishi.osaka.jp": 1,
  "takatsuki.osaka.jp": 1,
  "tondabayashi.osaka.jp": 1,
  "toyonaka.osaka.jp": 1,
  "toyono.osaka.jp": 1,
  "yao.osaka.jp": 1,
  "ariake.saga.jp": 1,
  "arita.saga.jp": 1,
  "fukudomi.saga.jp": 1,
  "genkai.saga.jp": 1,
  "hamatama.saga.jp": 1,
  "hizen.saga.jp": 1,
  "imari.saga.jp": 1,
  "kamimine.saga.jp": 1,
  "kanzaki.saga.jp": 1,
  "karatsu.saga.jp": 1,
  "kashima.saga.jp": 1,
  "kitagata.saga.jp": 1,
  "kitahata.saga.jp": 1,
  "kiyama.saga.jp": 1,
  "kouhoku.saga.jp": 1,
  "kyuragi.saga.jp": 1,
  "nishiarita.saga.jp": 1,
  "ogi.saga.jp": 1,
  "omachi.saga.jp": 1,
  "ouchi.saga.jp": 1,
  "saga.saga.jp": 1,
  "shiroishi.saga.jp": 1,
  "taku.saga.jp": 1,
  "tara.saga.jp": 1,
  "tosu.saga.jp": 1,
  "yoshinogari.saga.jp": 1,
  "arakawa.saitama.jp": 1,
  "asaka.saitama.jp": 1,
  "chichibu.saitama.jp": 1,
  "fujimi.saitama.jp": 1,
  "fujimino.saitama.jp": 1,
  "fukaya.saitama.jp": 1,
  "hanno.saitama.jp": 1,
  "hanyu.saitama.jp": 1,
  "hasuda.saitama.jp": 1,
  "hatogaya.saitama.jp": 1,
  "hatoyama.saitama.jp": 1,
  "hidaka.saitama.jp": 1,
  "higashichichibu.saitama.jp": 1,
  "higashimatsuyama.saitama.jp": 1,
  "honjo.saitama.jp": 1,
  "ina.saitama.jp": 1,
  "iruma.saitama.jp": 1,
  "iwatsuki.saitama.jp": 1,
  "kamiizumi.saitama.jp": 1,
  "kamikawa.saitama.jp": 1,
  "kamisato.saitama.jp": 1,
  "kasukabe.saitama.jp": 1,
  "kawagoe.saitama.jp": 1,
  "kawaguchi.saitama.jp": 1,
  "kawajima.saitama.jp": 1,
  "kazo.saitama.jp": 1,
  "kitamoto.saitama.jp": 1,
  "koshigaya.saitama.jp": 1,
  "kounosu.saitama.jp": 1,
  "kuki.saitama.jp": 1,
  "kumagaya.saitama.jp": 1,
  "matsubushi.saitama.jp": 1,
  "minano.saitama.jp": 1,
  "misato.saitama.jp": 1,
  "miyashiro.saitama.jp": 1,
  "miyoshi.saitama.jp": 1,
  "moroyama.saitama.jp": 1,
  "nagatoro.saitama.jp": 1,
  "namegawa.saitama.jp": 1,
  "niiza.saitama.jp": 1,
  "ogano.saitama.jp": 1,
  "ogawa.saitama.jp": 1,
  "ogose.saitama.jp": 1,
  "okegawa.saitama.jp": 1,
  "omiya.saitama.jp": 1,
  "otaki.saitama.jp": 1,
  "ranzan.saitama.jp": 1,
  "ryokami.saitama.jp": 1,
  "saitama.saitama.jp": 1,
  "sakado.saitama.jp": 1,
  "satte.saitama.jp": 1,
  "sayama.saitama.jp": 1,
  "shiki.saitama.jp": 1,
  "shiraoka.saitama.jp": 1,
  "soka.saitama.jp": 1,
  "sugito.saitama.jp": 1,
  "toda.saitama.jp": 1,
  "tokigawa.saitama.jp": 1,
  "tokorozawa.saitama.jp": 1,
  "tsurugashima.saitama.jp": 1,
  "urawa.saitama.jp": 1,
  "warabi.saitama.jp": 1,
  "yashio.saitama.jp": 1,
  "yokoze.saitama.jp": 1,
  "yono.saitama.jp": 1,
  "yorii.saitama.jp": 1,
  "yoshida.saitama.jp": 1,
  "yoshikawa.saitama.jp": 1,
  "yoshimi.saitama.jp": 1,
  "aisho.shiga.jp": 1,
  "gamo.shiga.jp": 1,
  "higashiomi.shiga.jp": 1,
  "hikone.shiga.jp": 1,
  "koka.shiga.jp": 1,
  "konan.shiga.jp": 1,
  "kosei.shiga.jp": 1,
  "koto.shiga.jp": 1,
  "kusatsu.shiga.jp": 1,
  "maibara.shiga.jp": 1,
  "moriyama.shiga.jp": 1,
  "nagahama.shiga.jp": 1,
  "nishiazai.shiga.jp": 1,
  "notogawa.shiga.jp": 1,
  "omihachiman.shiga.jp": 1,
  "otsu.shiga.jp": 1,
  "ritto.shiga.jp": 1,
  "ryuoh.shiga.jp": 1,
  "takashima.shiga.jp": 1,
  "takatsuki.shiga.jp": 1,
  "torahime.shiga.jp": 1,
  "toyosato.shiga.jp": 1,
  "yasu.shiga.jp": 1,
  "akagi.shimane.jp": 1,
  "ama.shimane.jp": 1,
  "gotsu.shimane.jp": 1,
  "hamada.shimane.jp": 1,
  "higashiizumo.shimane.jp": 1,
  "hikawa.shimane.jp": 1,
  "hikimi.shimane.jp": 1,
  "izumo.shimane.jp": 1,
  "kakinoki.shimane.jp": 1,
  "masuda.shimane.jp": 1,
  "matsue.shimane.jp": 1,
  "misato.shimane.jp": 1,
  "nishinoshima.shimane.jp": 1,
  "ohda.shimane.jp": 1,
  "okinoshima.shimane.jp": 1,
  "okuizumo.shimane.jp": 1,
  "shimane.shimane.jp": 1,
  "tamayu.shimane.jp": 1,
  "tsuwano.shimane.jp": 1,
  "unnan.shimane.jp": 1,
  "yakumo.shimane.jp": 1,
  "yasugi.shimane.jp": 1,
  "yatsuka.shimane.jp": 1,
  "arai.shizuoka.jp": 1,
  "atami.shizuoka.jp": 1,
  "fuji.shizuoka.jp": 1,
  "fujieda.shizuoka.jp": 1,
  "fujikawa.shizuoka.jp": 1,
  "fujinomiya.shizuoka.jp": 1,
  "fukuroi.shizuoka.jp": 1,
  "gotemba.shizuoka.jp": 1,
  "haibara.shizuoka.jp": 1,
  "hamamatsu.shizuoka.jp": 1,
  "higashiizu.shizuoka.jp": 1,
  "ito.shizuoka.jp": 1,
  "iwata.shizuoka.jp": 1,
  "izu.shizuoka.jp": 1,
  "izunokuni.shizuoka.jp": 1,
  "kakegawa.shizuoka.jp": 1,
  "kannami.shizuoka.jp": 1,
  "kawanehon.shizuoka.jp": 1,
  "kawazu.shizuoka.jp": 1,
  "kikugawa.shizuoka.jp": 1,
  "kosai.shizuoka.jp": 1,
  "makinohara.shizuoka.jp": 1,
  "matsuzaki.shizuoka.jp": 1,
  "minamiizu.shizuoka.jp": 1,
  "mishima.shizuoka.jp": 1,
  "morimachi.shizuoka.jp": 1,
  "nishiizu.shizuoka.jp": 1,
  "numazu.shizuoka.jp": 1,
  "omaezaki.shizuoka.jp": 1,
  "shimada.shizuoka.jp": 1,
  "shimizu.shizuoka.jp": 1,
  "shimoda.shizuoka.jp": 1,
  "shizuoka.shizuoka.jp": 1,
  "susono.shizuoka.jp": 1,
  "yaizu.shizuoka.jp": 1,
  "yoshida.shizuoka.jp": 1,
  "ashikaga.tochigi.jp": 1,
  "bato.tochigi.jp": 1,
  "haga.tochigi.jp": 1,
  "ichikai.tochigi.jp": 1,
  "iwafune.tochigi.jp": 1,
  "kaminokawa.tochigi.jp": 1,
  "kanuma.tochigi.jp": 1,
  "karasuyama.tochigi.jp": 1,
  "kuroiso.tochigi.jp": 1,
  "mashiko.tochigi.jp": 1,
  "mibu.tochigi.jp": 1,
  "moka.tochigi.jp": 1,
  "motegi.tochigi.jp": 1,
  "nasu.tochigi.jp": 1,
  "nasushiobara.tochigi.jp": 1,
  "nikko.tochigi.jp": 1,
  "nishikata.tochigi.jp": 1,
  "nogi.tochigi.jp": 1,
  "ohira.tochigi.jp": 1,
  "ohtawara.tochigi.jp": 1,
  "oyama.tochigi.jp": 1,
  "sakura.tochigi.jp": 1,
  "sano.tochigi.jp": 1,
  "shimotsuke.tochigi.jp": 1,
  "shioya.tochigi.jp": 1,
  "takanezawa.tochigi.jp": 1,
  "tochigi.tochigi.jp": 1,
  "tsuga.tochigi.jp": 1,
  "ujiie.tochigi.jp": 1,
  "utsunomiya.tochigi.jp": 1,
  "yaita.tochigi.jp": 1,
  "aizumi.tokushima.jp": 1,
  "anan.tokushima.jp": 1,
  "ichiba.tokushima.jp": 1,
  "itano.tokushima.jp": 1,
  "kainan.tokushima.jp": 1,
  "komatsushima.tokushima.jp": 1,
  "matsushige.tokushima.jp": 1,
  "mima.tokushima.jp": 1,
  "minami.tokushima.jp": 1,
  "miyoshi.tokushima.jp": 1,
  "mugi.tokushima.jp": 1,
  "nakagawa.tokushima.jp": 1,
  "naruto.tokushima.jp": 1,
  "sanagochi.tokushima.jp": 1,
  "shishikui.tokushima.jp": 1,
  "tokushima.tokushima.jp": 1,
  "wajiki.tokushima.jp": 1,
  "adachi.tokyo.jp": 1,
  "akiruno.tokyo.jp": 1,
  "akishima.tokyo.jp": 1,
  "aogashima.tokyo.jp": 1,
  "arakawa.tokyo.jp": 1,
  "bunkyo.tokyo.jp": 1,
  "chiyoda.tokyo.jp": 1,
  "chofu.tokyo.jp": 1,
  "chuo.tokyo.jp": 1,
  "edogawa.tokyo.jp": 1,
  "fuchu.tokyo.jp": 1,
  "fussa.tokyo.jp": 1,
  "hachijo.tokyo.jp": 1,
  "hachioji.tokyo.jp": 1,
  "hamura.tokyo.jp": 1,
  "higashikurume.tokyo.jp": 1,
  "higashimurayama.tokyo.jp": 1,
  "higashiyamato.tokyo.jp": 1,
  "hino.tokyo.jp": 1,
  "hinode.tokyo.jp": 1,
  "hinohara.tokyo.jp": 1,
  "inagi.tokyo.jp": 1,
  "itabashi.tokyo.jp": 1,
  "katsushika.tokyo.jp": 1,
  "kita.tokyo.jp": 1,
  "kiyose.tokyo.jp": 1,
  "kodaira.tokyo.jp": 1,
  "koganei.tokyo.jp": 1,
  "kokubunji.tokyo.jp": 1,
  "komae.tokyo.jp": 1,
  "koto.tokyo.jp": 1,
  "kouzushima.tokyo.jp": 1,
  "kunitachi.tokyo.jp": 1,
  "machida.tokyo.jp": 1,
  "meguro.tokyo.jp": 1,
  "minato.tokyo.jp": 1,
  "mitaka.tokyo.jp": 1,
  "mizuho.tokyo.jp": 1,
  "musashimurayama.tokyo.jp": 1,
  "musashino.tokyo.jp": 1,
  "nakano.tokyo.jp": 1,
  "nerima.tokyo.jp": 1,
  "ogasawara.tokyo.jp": 1,
  "okutama.tokyo.jp": 1,
  "ome.tokyo.jp": 1,
  "oshima.tokyo.jp": 1,
  "ota.tokyo.jp": 1,
  "setagaya.tokyo.jp": 1,
  "shibuya.tokyo.jp": 1,
  "shinagawa.tokyo.jp": 1,
  "shinjuku.tokyo.jp": 1,
  "suginami.tokyo.jp": 1,
  "sumida.tokyo.jp": 1,
  "tachikawa.tokyo.jp": 1,
  "taito.tokyo.jp": 1,
  "tama.tokyo.jp": 1,
  "toshima.tokyo.jp": 1,
  "chizu.tottori.jp": 1,
  "hino.tottori.jp": 1,
  "kawahara.tottori.jp": 1,
  "koge.tottori.jp": 1,
  "kotoura.tottori.jp": 1,
  "misasa.tottori.jp": 1,
  "nanbu.tottori.jp": 1,
  "nichinan.tottori.jp": 1,
  "sakaiminato.tottori.jp": 1,
  "tottori.tottori.jp": 1,
  "wakasa.tottori.jp": 1,
  "yazu.tottori.jp": 1,
  "yonago.tottori.jp": 1,
  "asahi.toyama.jp": 1,
  "fuchu.toyama.jp": 1,
  "fukumitsu.toyama.jp": 1,
  "funahashi.toyama.jp": 1,
  "himi.toyama.jp": 1,
  "imizu.toyama.jp": 1,
  "inami.toyama.jp": 1,
  "johana.toyama.jp": 1,
  "kamiichi.toyama.jp": 1,
  "kurobe.toyama.jp": 1,
  "nakaniikawa.toyama.jp": 1,
  "namerikawa.toyama.jp": 1,
  "nanto.toyama.jp": 1,
  "nyuzen.toyama.jp": 1,
  "oyabe.toyama.jp": 1,
  "taira.toyama.jp": 1,
  "takaoka.toyama.jp": 1,
  "tateyama.toyama.jp": 1,
  "toga.toyama.jp": 1,
  "tonami.toyama.jp": 1,
  "toyama.toyama.jp": 1,
  "unazuki.toyama.jp": 1,
  "uozu.toyama.jp": 1,
  "yamada.toyama.jp": 1,
  "arida.wakayama.jp": 1,
  "aridagawa.wakayama.jp": 1,
  "gobo.wakayama.jp": 1,
  "hashimoto.wakayama.jp": 1,
  "hidaka.wakayama.jp": 1,
  "hirogawa.wakayama.jp": 1,
  "inami.wakayama.jp": 1,
  "iwade.wakayama.jp": 1,
  "kainan.wakayama.jp": 1,
  "kamitonda.wakayama.jp": 1,
  "katsuragi.wakayama.jp": 1,
  "kimino.wakayama.jp": 1,
  "kinokawa.wakayama.jp": 1,
  "kitayama.wakayama.jp": 1,
  "koya.wakayama.jp": 1,
  "koza.wakayama.jp": 1,
  "kozagawa.wakayama.jp": 1,
  "kudoyama.wakayama.jp": 1,
  "kushimoto.wakayama.jp": 1,
  "mihama.wakayama.jp": 1,
  "misato.wakayama.jp": 1,
  "nachikatsuura.wakayama.jp": 1,
  "shingu.wakayama.jp": 1,
  "shirahama.wakayama.jp": 1,
  "taiji.wakayama.jp": 1,
  "tanabe.wakayama.jp": 1,
  "wakayama.wakayama.jp": 1,
  "yuasa.wakayama.jp": 1,
  "yura.wakayama.jp": 1,
  "asahi.yamagata.jp": 1,
  "funagata.yamagata.jp": 1,
  "higashine.yamagata.jp": 1,
  "iide.yamagata.jp": 1,
  "kahoku.yamagata.jp": 1,
  "kaminoyama.yamagata.jp": 1,
  "kaneyama.yamagata.jp": 1,
  "kawanishi.yamagata.jp": 1,
  "mamurogawa.yamagata.jp": 1,
  "mikawa.yamagata.jp": 1,
  "murayama.yamagata.jp": 1,
  "nagai.yamagata.jp": 1,
  "nakayama.yamagata.jp": 1,
  "nanyo.yamagata.jp": 1,
  "nishikawa.yamagata.jp": 1,
  "obanazawa.yamagata.jp": 1,
  "oe.yamagata.jp": 1,
  "oguni.yamagata.jp": 1,
  "ohkura.yamagata.jp": 1,
  "oishida.yamagata.jp": 1,
  "sagae.yamagata.jp": 1,
  "sakata.yamagata.jp": 1,
  "sakegawa.yamagata.jp": 1,
  "shinjo.yamagata.jp": 1,
  "shirataka.yamagata.jp": 1,
  "shonai.yamagata.jp": 1,
  "takahata.yamagata.jp": 1,
  "tendo.yamagata.jp": 1,
  "tozawa.yamagata.jp": 1,
  "tsuruoka.yamagata.jp": 1,
  "yamagata.yamagata.jp": 1,
  "yamanobe.yamagata.jp": 1,
  "yonezawa.yamagata.jp": 1,
  "yuza.yamagata.jp": 1,
  "abu.yamaguchi.jp": 1,
  "hagi.yamaguchi.jp": 1,
  "hikari.yamaguchi.jp": 1,
  "hofu.yamaguchi.jp": 1,
  "iwakuni.yamaguchi.jp": 1,
  "kudamatsu.yamaguchi.jp": 1,
  "mitou.yamaguchi.jp": 1,
  "nagato.yamaguchi.jp": 1,
  "oshima.yamaguchi.jp": 1,
  "shimonoseki.yamaguchi.jp": 1,
  "shunan.yamaguchi.jp": 1,
  "tabuse.yamaguchi.jp": 1,
  "tokuyama.yamaguchi.jp": 1,
  "toyota.yamaguchi.jp": 1,
  "ube.yamaguchi.jp": 1,
  "yuu.yamaguchi.jp": 1,
  "chuo.yamanashi.jp": 1,
  "doshi.yamanashi.jp": 1,
  "fuefuki.yamanashi.jp": 1,
  "fujikawa.yamanashi.jp": 1,
  "fujikawaguchiko.yamanashi.jp": 1,
  "fujiyoshida.yamanashi.jp": 1,
  "hayakawa.yamanashi.jp": 1,
  "hokuto.yamanashi.jp": 1,
  "ichikawamisato.yamanashi.jp": 1,
  "kai.yamanashi.jp": 1,
  "kofu.yamanashi.jp": 1,
  "koshu.yamanashi.jp": 1,
  "kosuge.yamanashi.jp": 1,
  "minami-alps.yamanashi.jp": 1,
  "minobu.yamanashi.jp": 1,
  "nakamichi.yamanashi.jp": 1,
  "nanbu.yamanashi.jp": 1,
  "narusawa.yamanashi.jp": 1,
  "nirasaki.yamanashi.jp": 1,
  "nishikatsura.yamanashi.jp": 1,
  "oshino.yamanashi.jp": 1,
  "otsuki.yamanashi.jp": 1,
  "showa.yamanashi.jp": 1,
  "tabayama.yamanashi.jp": 1,
  "tsuru.yamanashi.jp": 1,
  "uenohara.yamanashi.jp": 1,
  "yamanakako.yamanashi.jp": 1,
  "yamanashi.yamanashi.jp": 1,
  "ke": 1,
  "ac.ke": 1,
  "co.ke": 1,
  "go.ke": 1,
  "info.ke": 1,
  "me.ke": 1,
  "mobi.ke": 1,
  "ne.ke": 1,
  "or.ke": 1,
  "sc.ke": 1,
  "kg": 1,
  "org.kg": 1,
  "net.kg": 1,
  "com.kg": 1,
  "edu.kg": 1,
  "gov.kg": 1,
  "mil.kg": 1,
  "kh": 2,
  "ki": 1,
  "edu.ki": 1,
  "biz.ki": 1,
  "net.ki": 1,
  "org.ki": 1,
  "gov.ki": 1,
  "info.ki": 1,
  "com.ki": 1,
  "km": 1,
  "org.km": 1,
  "nom.km": 1,
  "gov.km": 1,
  "prd.km": 1,
  "tm.km": 1,
  "edu.km": 1,
  "mil.km": 1,
  "ass.km": 1,
  "com.km": 1,
  "coop.km": 1,
  "asso.km": 1,
  "presse.km": 1,
  "medecin.km": 1,
  "notaires.km": 1,
  "pharmaciens.km": 1,
  "veterinaire.km": 1,
  "gouv.km": 1,
  "kn": 1,
  "net.kn": 1,
  "org.kn": 1,
  "edu.kn": 1,
  "gov.kn": 1,
  "kp": 1,
  "com.kp": 1,
  "edu.kp": 1,
  "gov.kp": 1,
  "org.kp": 1,
  "rep.kp": 1,
  "tra.kp": 1,
  "kr": 1,
  "ac.kr": 1,
  "co.kr": 1,
  "es.kr": 1,
  "go.kr": 1,
  "hs.kr": 1,
  "kg.kr": 1,
  "mil.kr": 1,
  "ms.kr": 1,
  "ne.kr": 1,
  "or.kr": 1,
  "pe.kr": 1,
  "re.kr": 1,
  "sc.kr": 1,
  "busan.kr": 1,
  "chungbuk.kr": 1,
  "chungnam.kr": 1,
  "daegu.kr": 1,
  "daejeon.kr": 1,
  "gangwon.kr": 1,
  "gwangju.kr": 1,
  "gyeongbuk.kr": 1,
  "gyeonggi.kr": 1,
  "gyeongnam.kr": 1,
  "incheon.kr": 1,
  "jeju.kr": 1,
  "jeonbuk.kr": 1,
  "jeonnam.kr": 1,
  "seoul.kr": 1,
  "ulsan.kr": 1,
  "kw": 1,
  "com.kw": 1,
  "edu.kw": 1,
  "emb.kw": 1,
  "gov.kw": 1,
  "ind.kw": 1,
  "net.kw": 1,
  "org.kw": 1,
  "ky": 1,
  "com.ky": 1,
  "edu.ky": 1,
  "net.ky": 1,
  "org.ky": 1,
  "kz": 1,
  "org.kz": 1,
  "edu.kz": 1,
  "net.kz": 1,
  "gov.kz": 1,
  "mil.kz": 1,
  "com.kz": 1,
  "la": 1,
  "int.la": 1,
  "net.la": 1,
  "info.la": 1,
  "edu.la": 1,
  "gov.la": 1,
  "per.la": 1,
  "com.la": 1,
  "org.la": 1,
  "lb": 1,
  "com.lb": 1,
  "edu.lb": 1,
  "gov.lb": 1,
  "net.lb": 1,
  "org.lb": 1,
  "lc": 1,
  "com.lc": 1,
  "net.lc": 1,
  "co.lc": 1,
  "org.lc": 1,
  "edu.lc": 1,
  "gov.lc": 1,
  "li": 1,
  "lk": 1,
  "gov.lk": 1,
  "sch.lk": 1,
  "net.lk": 1,
  "int.lk": 1,
  "com.lk": 1,
  "org.lk": 1,
  "edu.lk": 1,
  "ngo.lk": 1,
  "soc.lk": 1,
  "web.lk": 1,
  "ltd.lk": 1,
  "assn.lk": 1,
  "grp.lk": 1,
  "hotel.lk": 1,
  "ac.lk": 1,
  "lr": 1,
  "com.lr": 1,
  "edu.lr": 1,
  "gov.lr": 1,
  "org.lr": 1,
  "net.lr": 1,
  "ls": 1,
  "ac.ls": 1,
  "biz.ls": 1,
  "co.ls": 1,
  "edu.ls": 1,
  "gov.ls": 1,
  "info.ls": 1,
  "net.ls": 1,
  "org.ls": 1,
  "sc.ls": 1,
  "lt": 1,
  "gov.lt": 1,
  "lu": 1,
  "lv": 1,
  "com.lv": 1,
  "edu.lv": 1,
  "gov.lv": 1,
  "org.lv": 1,
  "mil.lv": 1,
  "id.lv": 1,
  "net.lv": 1,
  "asn.lv": 1,
  "conf.lv": 1,
  "ly": 1,
  "com.ly": 1,
  "net.ly": 1,
  "gov.ly": 1,
  "plc.ly": 1,
  "edu.ly": 1,
  "sch.ly": 1,
  "med.ly": 1,
  "org.ly": 1,
  "id.ly": 1,
  "ma": 1,
  "co.ma": 1,
  "net.ma": 1,
  "gov.ma": 1,
  "org.ma": 1,
  "ac.ma": 1,
  "press.ma": 1,
  "mc": 1,
  "tm.mc": 1,
  "asso.mc": 1,
  "md": 1,
  "me": 1,
  "co.me": 1,
  "net.me": 1,
  "org.me": 1,
  "edu.me": 1,
  "ac.me": 1,
  "gov.me": 1,
  "its.me": 1,
  "priv.me": 1,
  "mg": 1,
  "org.mg": 1,
  "nom.mg": 1,
  "gov.mg": 1,
  "prd.mg": 1,
  "tm.mg": 1,
  "edu.mg": 1,
  "mil.mg": 1,
  "com.mg": 1,
  "co.mg": 1,
  "mh": 1,
  "mil": 1,
  "mk": 1,
  "com.mk": 1,
  "org.mk": 1,
  "net.mk": 1,
  "edu.mk": 1,
  "gov.mk": 1,
  "inf.mk": 1,
  "name.mk": 1,
  "ml": 1,
  "com.ml": 1,
  "edu.ml": 1,
  "gouv.ml": 1,
  "gov.ml": 1,
  "net.ml": 1,
  "org.ml": 1,
  "presse.ml": 1,
  "mm": 2,
  "mn": 1,
  "gov.mn": 1,
  "edu.mn": 1,
  "org.mn": 1,
  "mo": 1,
  "com.mo": 1,
  "net.mo": 1,
  "org.mo": 1,
  "edu.mo": 1,
  "gov.mo": 1,
  "mobi": 1,
  "mp": 1,
  "mq": 1,
  "mr": 1,
  "gov.mr": 1,
  "ms": 1,
  "com.ms": 1,
  "edu.ms": 1,
  "gov.ms": 1,
  "net.ms": 1,
  "org.ms": 1,
  "mt": 1,
  "com.mt": 1,
  "edu.mt": 1,
  "net.mt": 1,
  "org.mt": 1,
  "mu": 1,
  "com.mu": 1,
  "net.mu": 1,
  "org.mu": 1,
  "gov.mu": 1,
  "ac.mu": 1,
  "co.mu": 1,
  "or.mu": 1,
  "museum": 1,
  "mv": 1,
  "aero.mv": 1,
  "biz.mv": 1,
  "com.mv": 1,
  "coop.mv": 1,
  "edu.mv": 1,
  "gov.mv": 1,
  "info.mv": 1,
  "int.mv": 1,
  "mil.mv": 1,
  "museum.mv": 1,
  "name.mv": 1,
  "net.mv": 1,
  "org.mv": 1,
  "pro.mv": 1,
  "mw": 1,
  "ac.mw": 1,
  "biz.mw": 1,
  "co.mw": 1,
  "com.mw": 1,
  "coop.mw": 1,
  "edu.mw": 1,
  "gov.mw": 1,
  "int.mw": 1,
  "museum.mw": 1,
  "net.mw": 1,
  "org.mw": 1,
  "mx": 1,
  "com.mx": 1,
  "org.mx": 1,
  "gob.mx": 1,
  "edu.mx": 1,
  "net.mx": 1,
  "my": 1,
  "biz.my": 1,
  "com.my": 1,
  "edu.my": 1,
  "gov.my": 1,
  "mil.my": 1,
  "name.my": 1,
  "net.my": 1,
  "org.my": 1,
  "mz": 1,
  "ac.mz": 1,
  "adv.mz": 1,
  "co.mz": 1,
  "edu.mz": 1,
  "gov.mz": 1,
  "mil.mz": 1,
  "net.mz": 1,
  "org.mz": 1,
  "na": 1,
  "info.na": 1,
  "pro.na": 1,
  "name.na": 1,
  "school.na": 1,
  "or.na": 1,
  "dr.na": 1,
  "us.na": 1,
  "mx.na": 1,
  "ca.na": 1,
  "in.na": 1,
  "cc.na": 1,
  "tv.na": 1,
  "ws.na": 1,
  "mobi.na": 1,
  "co.na": 1,
  "com.na": 1,
  "org.na": 1,
  "name": 1,
  "nc": 1,
  "asso.nc": 1,
  "nom.nc": 1,
  "ne": 1,
  "net": 1,
  "nf": 1,
  "com.nf": 1,
  "net.nf": 1,
  "per.nf": 1,
  "rec.nf": 1,
  "web.nf": 1,
  "arts.nf": 1,
  "firm.nf": 1,
  "info.nf": 1,
  "other.nf": 1,
  "store.nf": 1,
  "ng": 1,
  "com.ng": 1,
  "edu.ng": 1,
  "gov.ng": 1,
  "i.ng": 1,
  "mil.ng": 1,
  "mobi.ng": 1,
  "name.ng": 1,
  "net.ng": 1,
  "org.ng": 1,
  "sch.ng": 1,
  "ni": 1,
  "ac.ni": 1,
  "biz.ni": 1,
  "co.ni": 1,
  "com.ni": 1,
  "edu.ni": 1,
  "gob.ni": 1,
  "in.ni": 1,
  "info.ni": 1,
  "int.ni": 1,
  "mil.ni": 1,
  "net.ni": 1,
  "nom.ni": 1,
  "org.ni": 1,
  "web.ni": 1,
  "nl": 1,
  "no": 1,
  "fhs.no": 1,
  "vgs.no": 1,
  "fylkesbibl.no": 1,
  "folkebibl.no": 1,
  "museum.no": 1,
  "idrett.no": 1,
  "priv.no": 1,
  "mil.no": 1,
  "stat.no": 1,
  "dep.no": 1,
  "kommune.no": 1,
  "herad.no": 1,
  "aa.no": 1,
  "ah.no": 1,
  "bu.no": 1,
  "fm.no": 1,
  "hl.no": 1,
  "hm.no": 1,
  "jan-mayen.no": 1,
  "mr.no": 1,
  "nl.no": 1,
  "nt.no": 1,
  "of.no": 1,
  "ol.no": 1,
  "oslo.no": 1,
  "rl.no": 1,
  "sf.no": 1,
  "st.no": 1,
  "svalbard.no": 1,
  "tm.no": 1,
  "tr.no": 1,
  "va.no": 1,
  "vf.no": 1,
  "gs.aa.no": 1,
  "gs.ah.no": 1,
  "gs.bu.no": 1,
  "gs.fm.no": 1,
  "gs.hl.no": 1,
  "gs.hm.no": 1,
  "gs.jan-mayen.no": 1,
  "gs.mr.no": 1,
  "gs.nl.no": 1,
  "gs.nt.no": 1,
  "gs.of.no": 1,
  "gs.ol.no": 1,
  "gs.oslo.no": 1,
  "gs.rl.no": 1,
  "gs.sf.no": 1,
  "gs.st.no": 1,
  "gs.svalbard.no": 1,
  "gs.tm.no": 1,
  "gs.tr.no": 1,
  "gs.va.no": 1,
  "gs.vf.no": 1,
  "akrehamn.no": 1,
  "xn--krehamn-dxa.no": 1,
  "algard.no": 1,
  "xn--lgrd-poac.no": 1,
  "arna.no": 1,
  "brumunddal.no": 1,
  "bryne.no": 1,
  "bronnoysund.no": 1,
  "xn--brnnysund-m8ac.no": 1,
  "drobak.no": 1,
  "xn--drbak-wua.no": 1,
  "egersund.no": 1,
  "fetsund.no": 1,
  "floro.no": 1,
  "xn--flor-jra.no": 1,
  "fredrikstad.no": 1,
  "hokksund.no": 1,
  "honefoss.no": 1,
  "xn--hnefoss-q1a.no": 1,
  "jessheim.no": 1,
  "jorpeland.no": 1,
  "xn--jrpeland-54a.no": 1,
  "kirkenes.no": 1,
  "kopervik.no": 1,
  "krokstadelva.no": 1,
  "langevag.no": 1,
  "xn--langevg-jxa.no": 1,
  "leirvik.no": 1,
  "mjondalen.no": 1,
  "xn--mjndalen-64a.no": 1,
  "mo-i-rana.no": 1,
  "mosjoen.no": 1,
  "xn--mosjen-eya.no": 1,
  "nesoddtangen.no": 1,
  "orkanger.no": 1,
  "osoyro.no": 1,
  "xn--osyro-wua.no": 1,
  "raholt.no": 1,
  "xn--rholt-mra.no": 1,
  "sandnessjoen.no": 1,
  "xn--sandnessjen-ogb.no": 1,
  "skedsmokorset.no": 1,
  "slattum.no": 1,
  "spjelkavik.no": 1,
  "stathelle.no": 1,
  "stavern.no": 1,
  "stjordalshalsen.no": 1,
  "xn--stjrdalshalsen-sqb.no": 1,
  "tananger.no": 1,
  "tranby.no": 1,
  "vossevangen.no": 1,
  "afjord.no": 1,
  "xn--fjord-lra.no": 1,
  "agdenes.no": 1,
  "al.no": 1,
  "xn--l-1fa.no": 1,
  "alesund.no": 1,
  "xn--lesund-hua.no": 1,
  "alstahaug.no": 1,
  "alta.no": 1,
  "xn--lt-liac.no": 1,
  "alaheadju.no": 1,
  "xn--laheadju-7ya.no": 1,
  "alvdal.no": 1,
  "amli.no": 1,
  "xn--mli-tla.no": 1,
  "amot.no": 1,
  "xn--mot-tla.no": 1,
  "andebu.no": 1,
  "andoy.no": 1,
  "xn--andy-ira.no": 1,
  "andasuolo.no": 1,
  "ardal.no": 1,
  "xn--rdal-poa.no": 1,
  "aremark.no": 1,
  "arendal.no": 1,
  "xn--s-1fa.no": 1,
  "aseral.no": 1,
  "xn--seral-lra.no": 1,
  "asker.no": 1,
  "askim.no": 1,
  "askvoll.no": 1,
  "askoy.no": 1,
  "xn--asky-ira.no": 1,
  "asnes.no": 1,
  "xn--snes-poa.no": 1,
  "audnedaln.no": 1,
  "aukra.no": 1,
  "aure.no": 1,
  "aurland.no": 1,
  "aurskog-holand.no": 1,
  "xn--aurskog-hland-jnb.no": 1,
  "austevoll.no": 1,
  "austrheim.no": 1,
  "averoy.no": 1,
  "xn--avery-yua.no": 1,
  "balestrand.no": 1,
  "ballangen.no": 1,
  "balat.no": 1,
  "xn--blt-elab.no": 1,
  "balsfjord.no": 1,
  "bahccavuotna.no": 1,
  "xn--bhccavuotna-k7a.no": 1,
  "bamble.no": 1,
  "bardu.no": 1,
  "beardu.no": 1,
  "beiarn.no": 1,
  "bajddar.no": 1,
  "xn--bjddar-pta.no": 1,
  "baidar.no": 1,
  "xn--bidr-5nac.no": 1,
  "berg.no": 1,
  "bergen.no": 1,
  "berlevag.no": 1,
  "xn--berlevg-jxa.no": 1,
  "bearalvahki.no": 1,
  "xn--bearalvhki-y4a.no": 1,
  "bindal.no": 1,
  "birkenes.no": 1,
  "bjarkoy.no": 1,
  "xn--bjarky-fya.no": 1,
  "bjerkreim.no": 1,
  "bjugn.no": 1,
  "bodo.no": 1,
  "xn--bod-2na.no": 1,
  "badaddja.no": 1,
  "xn--bdddj-mrabd.no": 1,
  "budejju.no": 1,
  "bokn.no": 1,
  "bremanger.no": 1,
  "bronnoy.no": 1,
  "xn--brnny-wuac.no": 1,
  "bygland.no": 1,
  "bykle.no": 1,
  "barum.no": 1,
  "xn--brum-voa.no": 1,
  "bo.telemark.no": 1,
  "xn--b-5ga.telemark.no": 1,
  "bo.nordland.no": 1,
  "xn--b-5ga.nordland.no": 1,
  "bievat.no": 1,
  "xn--bievt-0qa.no": 1,
  "bomlo.no": 1,
  "xn--bmlo-gra.no": 1,
  "batsfjord.no": 1,
  "xn--btsfjord-9za.no": 1,
  "bahcavuotna.no": 1,
  "xn--bhcavuotna-s4a.no": 1,
  "dovre.no": 1,
  "drammen.no": 1,
  "drangedal.no": 1,
  "dyroy.no": 1,
  "xn--dyry-ira.no": 1,
  "donna.no": 1,
  "xn--dnna-gra.no": 1,
  "eid.no": 1,
  "eidfjord.no": 1,
  "eidsberg.no": 1,
  "eidskog.no": 1,
  "eidsvoll.no": 1,
  "eigersund.no": 1,
  "elverum.no": 1,
  "enebakk.no": 1,
  "engerdal.no": 1,
  "etne.no": 1,
  "etnedal.no": 1,
  "evenes.no": 1,
  "evenassi.no": 1,
  "xn--eveni-0qa01ga.no": 1,
  "evje-og-hornnes.no": 1,
  "farsund.no": 1,
  "fauske.no": 1,
  "fuossko.no": 1,
  "fuoisku.no": 1,
  "fedje.no": 1,
  "fet.no": 1,
  "finnoy.no": 1,
  "xn--finny-yua.no": 1,
  "fitjar.no": 1,
  "fjaler.no": 1,
  "fjell.no": 1,
  "flakstad.no": 1,
  "flatanger.no": 1,
  "flekkefjord.no": 1,
  "flesberg.no": 1,
  "flora.no": 1,
  "fla.no": 1,
  "xn--fl-zia.no": 1,
  "folldal.no": 1,
  "forsand.no": 1,
  "fosnes.no": 1,
  "frei.no": 1,
  "frogn.no": 1,
  "froland.no": 1,
  "frosta.no": 1,
  "frana.no": 1,
  "xn--frna-woa.no": 1,
  "froya.no": 1,
  "xn--frya-hra.no": 1,
  "fusa.no": 1,
  "fyresdal.no": 1,
  "forde.no": 1,
  "xn--frde-gra.no": 1,
  "gamvik.no": 1,
  "gangaviika.no": 1,
  "xn--ggaviika-8ya47h.no": 1,
  "gaular.no": 1,
  "gausdal.no": 1,
  "gildeskal.no": 1,
  "xn--gildeskl-g0a.no": 1,
  "giske.no": 1,
  "gjemnes.no": 1,
  "gjerdrum.no": 1,
  "gjerstad.no": 1,
  "gjesdal.no": 1,
  "gjovik.no": 1,
  "xn--gjvik-wua.no": 1,
  "gloppen.no": 1,
  "gol.no": 1,
  "gran.no": 1,
  "grane.no": 1,
  "granvin.no": 1,
  "gratangen.no": 1,
  "grimstad.no": 1,
  "grong.no": 1,
  "kraanghke.no": 1,
  "xn--kranghke-b0a.no": 1,
  "grue.no": 1,
  "gulen.no": 1,
  "hadsel.no": 1,
  "halden.no": 1,
  "halsa.no": 1,
  "hamar.no": 1,
  "hamaroy.no": 1,
  "habmer.no": 1,
  "xn--hbmer-xqa.no": 1,
  "hapmir.no": 1,
  "xn--hpmir-xqa.no": 1,
  "hammerfest.no": 1,
  "hammarfeasta.no": 1,
  "xn--hmmrfeasta-s4ac.no": 1,
  "haram.no": 1,
  "hareid.no": 1,
  "harstad.no": 1,
  "hasvik.no": 1,
  "aknoluokta.no": 1,
  "xn--koluokta-7ya57h.no": 1,
  "hattfjelldal.no": 1,
  "aarborte.no": 1,
  "haugesund.no": 1,
  "hemne.no": 1,
  "hemnes.no": 1,
  "hemsedal.no": 1,
  "heroy.more-og-romsdal.no": 1,
  "xn--hery-ira.xn--mre-og-romsdal-qqb.no": 1,
  "heroy.nordland.no": 1,
  "xn--hery-ira.nordland.no": 1,
  "hitra.no": 1,
  "hjartdal.no": 1,
  "hjelmeland.no": 1,
  "hobol.no": 1,
  "xn--hobl-ira.no": 1,
  "hof.no": 1,
  "hol.no": 1,
  "hole.no": 1,
  "holmestrand.no": 1,
  "holtalen.no": 1,
  "xn--holtlen-hxa.no": 1,
  "hornindal.no": 1,
  "horten.no": 1,
  "hurdal.no": 1,
  "hurum.no": 1,
  "hvaler.no": 1,
  "hyllestad.no": 1,
  "hagebostad.no": 1,
  "xn--hgebostad-g3a.no": 1,
  "hoyanger.no": 1,
  "xn--hyanger-q1a.no": 1,
  "hoylandet.no": 1,
  "xn--hylandet-54a.no": 1,
  "ha.no": 1,
  "xn--h-2fa.no": 1,
  "ibestad.no": 1,
  "inderoy.no": 1,
  "xn--indery-fya.no": 1,
  "iveland.no": 1,
  "jevnaker.no": 1,
  "jondal.no": 1,
  "jolster.no": 1,
  "xn--jlster-bya.no": 1,
  "karasjok.no": 1,
  "karasjohka.no": 1,
  "xn--krjohka-hwab49j.no": 1,
  "karlsoy.no": 1,
  "galsa.no": 1,
  "xn--gls-elac.no": 1,
  "karmoy.no": 1,
  "xn--karmy-yua.no": 1,
  "kautokeino.no": 1,
  "guovdageaidnu.no": 1,
  "klepp.no": 1,
  "klabu.no": 1,
  "xn--klbu-woa.no": 1,
  "kongsberg.no": 1,
  "kongsvinger.no": 1,
  "kragero.no": 1,
  "xn--krager-gya.no": 1,
  "kristiansand.no": 1,
  "kristiansund.no": 1,
  "krodsherad.no": 1,
  "xn--krdsherad-m8a.no": 1,
  "kvalsund.no": 1,
  "rahkkeravju.no": 1,
  "xn--rhkkervju-01af.no": 1,
  "kvam.no": 1,
  "kvinesdal.no": 1,
  "kvinnherad.no": 1,
  "kviteseid.no": 1,
  "kvitsoy.no": 1,
  "xn--kvitsy-fya.no": 1,
  "kvafjord.no": 1,
  "xn--kvfjord-nxa.no": 1,
  "giehtavuoatna.no": 1,
  "kvanangen.no": 1,
  "xn--kvnangen-k0a.no": 1,
  "navuotna.no": 1,
  "xn--nvuotna-hwa.no": 1,
  "kafjord.no": 1,
  "xn--kfjord-iua.no": 1,
  "gaivuotna.no": 1,
  "xn--givuotna-8ya.no": 1,
  "larvik.no": 1,
  "lavangen.no": 1,
  "lavagis.no": 1,
  "loabat.no": 1,
  "xn--loabt-0qa.no": 1,
  "lebesby.no": 1,
  "davvesiida.no": 1,
  "leikanger.no": 1,
  "leirfjord.no": 1,
  "leka.no": 1,
  "leksvik.no": 1,
  "lenvik.no": 1,
  "leangaviika.no": 1,
  "xn--leagaviika-52b.no": 1,
  "lesja.no": 1,
  "levanger.no": 1,
  "lier.no": 1,
  "lierne.no": 1,
  "lillehammer.no": 1,
  "lillesand.no": 1,
  "lindesnes.no": 1,
  "lindas.no": 1,
  "xn--linds-pra.no": 1,
  "lom.no": 1,
  "loppa.no": 1,
  "lahppi.no": 1,
  "xn--lhppi-xqa.no": 1,
  "lund.no": 1,
  "lunner.no": 1,
  "luroy.no": 1,
  "xn--lury-ira.no": 1,
  "luster.no": 1,
  "lyngdal.no": 1,
  "lyngen.no": 1,
  "ivgu.no": 1,
  "lardal.no": 1,
  "lerdal.no": 1,
  "xn--lrdal-sra.no": 1,
  "lodingen.no": 1,
  "xn--ldingen-q1a.no": 1,
  "lorenskog.no": 1,
  "xn--lrenskog-54a.no": 1,
  "loten.no": 1,
  "xn--lten-gra.no": 1,
  "malvik.no": 1,
  "masoy.no": 1,
  "xn--msy-ula0h.no": 1,
  "muosat.no": 1,
  "xn--muost-0qa.no": 1,
  "mandal.no": 1,
  "marker.no": 1,
  "marnardal.no": 1,
  "masfjorden.no": 1,
  "meland.no": 1,
  "meldal.no": 1,
  "melhus.no": 1,
  "meloy.no": 1,
  "xn--mely-ira.no": 1,
  "meraker.no": 1,
  "xn--merker-kua.no": 1,
  "moareke.no": 1,
  "xn--moreke-jua.no": 1,
  "midsund.no": 1,
  "midtre-gauldal.no": 1,
  "modalen.no": 1,
  "modum.no": 1,
  "molde.no": 1,
  "moskenes.no": 1,
  "moss.no": 1,
  "mosvik.no": 1,
  "malselv.no": 1,
  "xn--mlselv-iua.no": 1,
  "malatvuopmi.no": 1,
  "xn--mlatvuopmi-s4a.no": 1,
  "namdalseid.no": 1,
  "aejrie.no": 1,
  "namsos.no": 1,
  "namsskogan.no": 1,
  "naamesjevuemie.no": 1,
  "xn--nmesjevuemie-tcba.no": 1,
  "laakesvuemie.no": 1,
  "nannestad.no": 1,
  "narvik.no": 1,
  "narviika.no": 1,
  "naustdal.no": 1,
  "nedre-eiker.no": 1,
  "nes.akershus.no": 1,
  "nes.buskerud.no": 1,
  "nesna.no": 1,
  "nesodden.no": 1,
  "nesseby.no": 1,
  "unjarga.no": 1,
  "xn--unjrga-rta.no": 1,
  "nesset.no": 1,
  "nissedal.no": 1,
  "nittedal.no": 1,
  "nord-aurdal.no": 1,
  "nord-fron.no": 1,
  "nord-odal.no": 1,
  "norddal.no": 1,
  "nordkapp.no": 1,
  "davvenjarga.no": 1,
  "xn--davvenjrga-y4a.no": 1,
  "nordre-land.no": 1,
  "nordreisa.no": 1,
  "raisa.no": 1,
  "xn--risa-5na.no": 1,
  "nore-og-uvdal.no": 1,
  "notodden.no": 1,
  "naroy.no": 1,
  "xn--nry-yla5g.no": 1,
  "notteroy.no": 1,
  "xn--nttery-byae.no": 1,
  "odda.no": 1,
  "oksnes.no": 1,
  "xn--ksnes-uua.no": 1,
  "oppdal.no": 1,
  "oppegard.no": 1,
  "xn--oppegrd-ixa.no": 1,
  "orkdal.no": 1,
  "orland.no": 1,
  "xn--rland-uua.no": 1,
  "orskog.no": 1,
  "xn--rskog-uua.no": 1,
  "orsta.no": 1,
  "xn--rsta-fra.no": 1,
  "os.hedmark.no": 1,
  "os.hordaland.no": 1,
  "osen.no": 1,
  "osteroy.no": 1,
  "xn--ostery-fya.no": 1,
  "ostre-toten.no": 1,
  "xn--stre-toten-zcb.no": 1,
  "overhalla.no": 1,
  "ovre-eiker.no": 1,
  "xn--vre-eiker-k8a.no": 1,
  "oyer.no": 1,
  "xn--yer-zna.no": 1,
  "oygarden.no": 1,
  "xn--ygarden-p1a.no": 1,
  "oystre-slidre.no": 1,
  "xn--ystre-slidre-ujb.no": 1,
  "porsanger.no": 1,
  "porsangu.no": 1,
  "xn--porsgu-sta26f.no": 1,
  "porsgrunn.no": 1,
  "radoy.no": 1,
  "xn--rady-ira.no": 1,
  "rakkestad.no": 1,
  "rana.no": 1,
  "ruovat.no": 1,
  "randaberg.no": 1,
  "rauma.no": 1,
  "rendalen.no": 1,
  "rennebu.no": 1,
  "rennesoy.no": 1,
  "xn--rennesy-v1a.no": 1,
  "rindal.no": 1,
  "ringebu.no": 1,
  "ringerike.no": 1,
  "ringsaker.no": 1,
  "rissa.no": 1,
  "risor.no": 1,
  "xn--risr-ira.no": 1,
  "roan.no": 1,
  "rollag.no": 1,
  "rygge.no": 1,
  "ralingen.no": 1,
  "xn--rlingen-mxa.no": 1,
  "rodoy.no": 1,
  "xn--rdy-0nab.no": 1,
  "romskog.no": 1,
  "xn--rmskog-bya.no": 1,
  "roros.no": 1,
  "xn--rros-gra.no": 1,
  "rost.no": 1,
  "xn--rst-0na.no": 1,
  "royken.no": 1,
  "xn--ryken-vua.no": 1,
  "royrvik.no": 1,
  "xn--ryrvik-bya.no": 1,
  "rade.no": 1,
  "xn--rde-ula.no": 1,
  "salangen.no": 1,
  "siellak.no": 1,
  "saltdal.no": 1,
  "salat.no": 1,
  "xn--slt-elab.no": 1,
  "xn--slat-5na.no": 1,
  "samnanger.no": 1,
  "sande.more-og-romsdal.no": 1,
  "sande.xn--mre-og-romsdal-qqb.no": 1,
  "sande.vestfold.no": 1,
  "sandefjord.no": 1,
  "sandnes.no": 1,
  "sandoy.no": 1,
  "xn--sandy-yua.no": 1,
  "sarpsborg.no": 1,
  "sauda.no": 1,
  "sauherad.no": 1,
  "sel.no": 1,
  "selbu.no": 1,
  "selje.no": 1,
  "seljord.no": 1,
  "sigdal.no": 1,
  "siljan.no": 1,
  "sirdal.no": 1,
  "skaun.no": 1,
  "skedsmo.no": 1,
  "ski.no": 1,
  "skien.no": 1,
  "skiptvet.no": 1,
  "skjervoy.no": 1,
  "xn--skjervy-v1a.no": 1,
  "skierva.no": 1,
  "xn--skierv-uta.no": 1,
  "skjak.no": 1,
  "xn--skjk-soa.no": 1,
  "skodje.no": 1,
  "skanland.no": 1,
  "xn--sknland-fxa.no": 1,
  "skanit.no": 1,
  "xn--sknit-yqa.no": 1,
  "smola.no": 1,
  "xn--smla-hra.no": 1,
  "snillfjord.no": 1,
  "snasa.no": 1,
  "xn--snsa-roa.no": 1,
  "snoasa.no": 1,
  "snaase.no": 1,
  "xn--snase-nra.no": 1,
  "sogndal.no": 1,
  "sokndal.no": 1,
  "sola.no": 1,
  "solund.no": 1,
  "songdalen.no": 1,
  "sortland.no": 1,
  "spydeberg.no": 1,
  "stange.no": 1,
  "stavanger.no": 1,
  "steigen.no": 1,
  "steinkjer.no": 1,
  "stjordal.no": 1,
  "xn--stjrdal-s1a.no": 1,
  "stokke.no": 1,
  "stor-elvdal.no": 1,
  "stord.no": 1,
  "stordal.no": 1,
  "storfjord.no": 1,
  "omasvuotna.no": 1,
  "strand.no": 1,
  "stranda.no": 1,
  "stryn.no": 1,
  "sula.no": 1,
  "suldal.no": 1,
  "sund.no": 1,
  "sunndal.no": 1,
  "surnadal.no": 1,
  "sveio.no": 1,
  "svelvik.no": 1,
  "sykkylven.no": 1,
  "sogne.no": 1,
  "xn--sgne-gra.no": 1,
  "somna.no": 1,
  "xn--smna-gra.no": 1,
  "sondre-land.no": 1,
  "xn--sndre-land-0cb.no": 1,
  "sor-aurdal.no": 1,
  "xn--sr-aurdal-l8a.no": 1,
  "sor-fron.no": 1,
  "xn--sr-fron-q1a.no": 1,
  "sor-odal.no": 1,
  "xn--sr-odal-q1a.no": 1,
  "sor-varanger.no": 1,
  "xn--sr-varanger-ggb.no": 1,
  "matta-varjjat.no": 1,
  "xn--mtta-vrjjat-k7af.no": 1,
  "sorfold.no": 1,
  "xn--srfold-bya.no": 1,
  "sorreisa.no": 1,
  "xn--srreisa-q1a.no": 1,
  "sorum.no": 1,
  "xn--srum-gra.no": 1,
  "tana.no": 1,
  "deatnu.no": 1,
  "time.no": 1,
  "tingvoll.no": 1,
  "tinn.no": 1,
  "tjeldsund.no": 1,
  "dielddanuorri.no": 1,
  "tjome.no": 1,
  "xn--tjme-hra.no": 1,
  "tokke.no": 1,
  "tolga.no": 1,
  "torsken.no": 1,
  "tranoy.no": 1,
  "xn--trany-yua.no": 1,
  "tromso.no": 1,
  "xn--troms-zua.no": 1,
  "tromsa.no": 1,
  "romsa.no": 1,
  "trondheim.no": 1,
  "troandin.no": 1,
  "trysil.no": 1,
  "trana.no": 1,
  "xn--trna-woa.no": 1,
  "trogstad.no": 1,
  "xn--trgstad-r1a.no": 1,
  "tvedestrand.no": 1,
  "tydal.no": 1,
  "tynset.no": 1,
  "tysfjord.no": 1,
  "divtasvuodna.no": 1,
  "divttasvuotna.no": 1,
  "tysnes.no": 1,
  "tysvar.no": 1,
  "xn--tysvr-vra.no": 1,
  "tonsberg.no": 1,
  "xn--tnsberg-q1a.no": 1,
  "ullensaker.no": 1,
  "ullensvang.no": 1,
  "ulvik.no": 1,
  "utsira.no": 1,
  "vadso.no": 1,
  "xn--vads-jra.no": 1,
  "cahcesuolo.no": 1,
  "xn--hcesuolo-7ya35b.no": 1,
  "vaksdal.no": 1,
  "valle.no": 1,
  "vang.no": 1,
  "vanylven.no": 1,
  "vardo.no": 1,
  "xn--vard-jra.no": 1,
  "varggat.no": 1,
  "xn--vrggt-xqad.no": 1,
  "vefsn.no": 1,
  "vaapste.no": 1,
  "vega.no": 1,
  "vegarshei.no": 1,
  "xn--vegrshei-c0a.no": 1,
  "vennesla.no": 1,
  "verdal.no": 1,
  "verran.no": 1,
  "vestby.no": 1,
  "vestnes.no": 1,
  "vestre-slidre.no": 1,
  "vestre-toten.no": 1,
  "vestvagoy.no": 1,
  "xn--vestvgy-ixa6o.no": 1,
  "vevelstad.no": 1,
  "vik.no": 1,
  "vikna.no": 1,
  "vindafjord.no": 1,
  "volda.no": 1,
  "voss.no": 1,
  "varoy.no": 1,
  "xn--vry-yla5g.no": 1,
  "vagan.no": 1,
  "xn--vgan-qoa.no": 1,
  "voagat.no": 1,
  "vagsoy.no": 1,
  "xn--vgsy-qoa0j.no": 1,
  "vaga.no": 1,
  "xn--vg-yiab.no": 1,
  "valer.ostfold.no": 1,
  "xn--vler-qoa.xn--stfold-9xa.no": 1,
  "valer.hedmark.no": 1,
  "xn--vler-qoa.hedmark.no": 1,
  "np": 2,
  "nr": 1,
  "biz.nr": 1,
  "info.nr": 1,
  "gov.nr": 1,
  "edu.nr": 1,
  "org.nr": 1,
  "net.nr": 1,
  "com.nr": 1,
  "nu": 1,
  "nz": 1,
  "ac.nz": 1,
  "co.nz": 1,
  "cri.nz": 1,
  "geek.nz": 1,
  "gen.nz": 1,
  "govt.nz": 1,
  "health.nz": 1,
  "iwi.nz": 1,
  "kiwi.nz": 1,
  "maori.nz": 1,
  "mil.nz": 1,
  "xn--mori-qsa.nz": 1,
  "net.nz": 1,
  "org.nz": 1,
  "parliament.nz": 1,
  "school.nz": 1,
  "om": 1,
  "co.om": 1,
  "com.om": 1,
  "edu.om": 1,
  "gov.om": 1,
  "med.om": 1,
  "museum.om": 1,
  "net.om": 1,
  "org.om": 1,
  "pro.om": 1,
  "onion": 1,
  "org": 1,
  "pa": 1,
  "ac.pa": 1,
  "gob.pa": 1,
  "com.pa": 1,
  "org.pa": 1,
  "sld.pa": 1,
  "edu.pa": 1,
  "net.pa": 1,
  "ing.pa": 1,
  "abo.pa": 1,
  "med.pa": 1,
  "nom.pa": 1,
  "pe": 1,
  "edu.pe": 1,
  "gob.pe": 1,
  "nom.pe": 1,
  "mil.pe": 1,
  "org.pe": 1,
  "com.pe": 1,
  "net.pe": 1,
  "pf": 1,
  "com.pf": 1,
  "org.pf": 1,
  "edu.pf": 1,
  "pg": 2,
  "ph": 1,
  "com.ph": 1,
  "net.ph": 1,
  "org.ph": 1,
  "gov.ph": 1,
  "edu.ph": 1,
  "ngo.ph": 1,
  "mil.ph": 1,
  "i.ph": 1,
  "pk": 1,
  "com.pk": 1,
  "net.pk": 1,
  "edu.pk": 1,
  "org.pk": 1,
  "fam.pk": 1,
  "biz.pk": 1,
  "web.pk": 1,
  "gov.pk": 1,
  "gob.pk": 1,
  "gok.pk": 1,
  "gon.pk": 1,
  "gop.pk": 1,
  "gos.pk": 1,
  "info.pk": 1,
  "pl": 1,
  "com.pl": 1,
  "net.pl": 1,
  "org.pl": 1,
  "aid.pl": 1,
  "agro.pl": 1,
  "atm.pl": 1,
  "auto.pl": 1,
  "biz.pl": 1,
  "edu.pl": 1,
  "gmina.pl": 1,
  "gsm.pl": 1,
  "info.pl": 1,
  "mail.pl": 1,
  "miasta.pl": 1,
  "media.pl": 1,
  "mil.pl": 1,
  "nieruchomosci.pl": 1,
  "nom.pl": 1,
  "pc.pl": 1,
  "powiat.pl": 1,
  "priv.pl": 1,
  "realestate.pl": 1,
  "rel.pl": 1,
  "sex.pl": 1,
  "shop.pl": 1,
  "sklep.pl": 1,
  "sos.pl": 1,
  "szkola.pl": 1,
  "targi.pl": 1,
  "tm.pl": 1,
  "tourism.pl": 1,
  "travel.pl": 1,
  "turystyka.pl": 1,
  "gov.pl": 1,
  "ap.gov.pl": 1,
  "griw.gov.pl": 1,
  "ic.gov.pl": 1,
  "is.gov.pl": 1,
  "kmpsp.gov.pl": 1,
  "konsulat.gov.pl": 1,
  "kppsp.gov.pl": 1,
  "kwp.gov.pl": 1,
  "kwpsp.gov.pl": 1,
  "mup.gov.pl": 1,
  "mw.gov.pl": 1,
  "oia.gov.pl": 1,
  "oirm.gov.pl": 1,
  "oke.gov.pl": 1,
  "oow.gov.pl": 1,
  "oschr.gov.pl": 1,
  "oum.gov.pl": 1,
  "pa.gov.pl": 1,
  "pinb.gov.pl": 1,
  "piw.gov.pl": 1,
  "po.gov.pl": 1,
  "pr.gov.pl": 1,
  "psp.gov.pl": 1,
  "psse.gov.pl": 1,
  "pup.gov.pl": 1,
  "rzgw.gov.pl": 1,
  "sa.gov.pl": 1,
  "sdn.gov.pl": 1,
  "sko.gov.pl": 1,
  "so.gov.pl": 1,
  "sr.gov.pl": 1,
  "starostwo.gov.pl": 1,
  "ug.gov.pl": 1,
  "ugim.gov.pl": 1,
  "um.gov.pl": 1,
  "umig.gov.pl": 1,
  "upow.gov.pl": 1,
  "uppo.gov.pl": 1,
  "us.gov.pl": 1,
  "uw.gov.pl": 1,
  "uzs.gov.pl": 1,
  "wif.gov.pl": 1,
  "wiih.gov.pl": 1,
  "winb.gov.pl": 1,
  "wios.gov.pl": 1,
  "witd.gov.pl": 1,
  "wiw.gov.pl": 1,
  "wkz.gov.pl": 1,
  "wsa.gov.pl": 1,
  "wskr.gov.pl": 1,
  "wsse.gov.pl": 1,
  "wuoz.gov.pl": 1,
  "wzmiuw.gov.pl": 1,
  "zp.gov.pl": 1,
  "zpisdn.gov.pl": 1,
  "augustow.pl": 1,
  "babia-gora.pl": 1,
  "bedzin.pl": 1,
  "beskidy.pl": 1,
  "bialowieza.pl": 1,
  "bialystok.pl": 1,
  "bielawa.pl": 1,
  "bieszczady.pl": 1,
  "boleslawiec.pl": 1,
  "bydgoszcz.pl": 1,
  "bytom.pl": 1,
  "cieszyn.pl": 1,
  "czeladz.pl": 1,
  "czest.pl": 1,
  "dlugoleka.pl": 1,
  "elblag.pl": 1,
  "elk.pl": 1,
  "glogow.pl": 1,
  "gniezno.pl": 1,
  "gorlice.pl": 1,
  "grajewo.pl": 1,
  "ilawa.pl": 1,
  "jaworzno.pl": 1,
  "jelenia-gora.pl": 1,
  "jgora.pl": 1,
  "kalisz.pl": 1,
  "kazimierz-dolny.pl": 1,
  "karpacz.pl": 1,
  "kartuzy.pl": 1,
  "kaszuby.pl": 1,
  "katowice.pl": 1,
  "kepno.pl": 1,
  "ketrzyn.pl": 1,
  "klodzko.pl": 1,
  "kobierzyce.pl": 1,
  "kolobrzeg.pl": 1,
  "konin.pl": 1,
  "konskowola.pl": 1,
  "kutno.pl": 1,
  "lapy.pl": 1,
  "lebork.pl": 1,
  "legnica.pl": 1,
  "lezajsk.pl": 1,
  "limanowa.pl": 1,
  "lomza.pl": 1,
  "lowicz.pl": 1,
  "lubin.pl": 1,
  "lukow.pl": 1,
  "malbork.pl": 1,
  "malopolska.pl": 1,
  "mazowsze.pl": 1,
  "mazury.pl": 1,
  "mielec.pl": 1,
  "mielno.pl": 1,
  "mragowo.pl": 1,
  "naklo.pl": 1,
  "nowaruda.pl": 1,
  "nysa.pl": 1,
  "olawa.pl": 1,
  "olecko.pl": 1,
  "olkusz.pl": 1,
  "olsztyn.pl": 1,
  "opoczno.pl": 1,
  "opole.pl": 1,
  "ostroda.pl": 1,
  "ostroleka.pl": 1,
  "ostrowiec.pl": 1,
  "ostrowwlkp.pl": 1,
  "pila.pl": 1,
  "pisz.pl": 1,
  "podhale.pl": 1,
  "podlasie.pl": 1,
  "polkowice.pl": 1,
  "pomorze.pl": 1,
  "pomorskie.pl": 1,
  "prochowice.pl": 1,
  "pruszkow.pl": 1,
  "przeworsk.pl": 1,
  "pulawy.pl": 1,
  "radom.pl": 1,
  "rawa-maz.pl": 1,
  "rybnik.pl": 1,
  "rzeszow.pl": 1,
  "sanok.pl": 1,
  "sejny.pl": 1,
  "slask.pl": 1,
  "slupsk.pl": 1,
  "sosnowiec.pl": 1,
  "stalowa-wola.pl": 1,
  "skoczow.pl": 1,
  "starachowice.pl": 1,
  "stargard.pl": 1,
  "suwalki.pl": 1,
  "swidnica.pl": 1,
  "swiebodzin.pl": 1,
  "swinoujscie.pl": 1,
  "szczecin.pl": 1,
  "szczytno.pl": 1,
  "tarnobrzeg.pl": 1,
  "tgory.pl": 1,
  "turek.pl": 1,
  "tychy.pl": 1,
  "ustka.pl": 1,
  "walbrzych.pl": 1,
  "warmia.pl": 1,
  "warszawa.pl": 1,
  "waw.pl": 1,
  "wegrow.pl": 1,
  "wielun.pl": 1,
  "wlocl.pl": 1,
  "wloclawek.pl": 1,
  "wodzislaw.pl": 1,
  "wolomin.pl": 1,
  "wroclaw.pl": 1,
  "zachpomor.pl": 1,
  "zagan.pl": 1,
  "zarow.pl": 1,
  "zgora.pl": 1,
  "zgorzelec.pl": 1,
  "pm": 1,
  "pn": 1,
  "gov.pn": 1,
  "co.pn": 1,
  "org.pn": 1,
  "edu.pn": 1,
  "net.pn": 1,
  "post": 1,
  "pr": 1,
  "com.pr": 1,
  "net.pr": 1,
  "org.pr": 1,
  "gov.pr": 1,
  "edu.pr": 1,
  "isla.pr": 1,
  "pro.pr": 1,
  "biz.pr": 1,
  "info.pr": 1,
  "name.pr": 1,
  "est.pr": 1,
  "prof.pr": 1,
  "ac.pr": 1,
  "pro": 1,
  "aaa.pro": 1,
  "aca.pro": 1,
  "acct.pro": 1,
  "avocat.pro": 1,
  "bar.pro": 1,
  "cpa.pro": 1,
  "eng.pro": 1,
  "jur.pro": 1,
  "law.pro": 1,
  "med.pro": 1,
  "recht.pro": 1,
  "ps": 1,
  "edu.ps": 1,
  "gov.ps": 1,
  "sec.ps": 1,
  "plo.ps": 1,
  "com.ps": 1,
  "org.ps": 1,
  "net.ps": 1,
  "pt": 1,
  "net.pt": 1,
  "gov.pt": 1,
  "org.pt": 1,
  "edu.pt": 1,
  "int.pt": 1,
  "publ.pt": 1,
  "com.pt": 1,
  "nome.pt": 1,
  "pw": 1,
  "co.pw": 1,
  "ne.pw": 1,
  "or.pw": 1,
  "ed.pw": 1,
  "go.pw": 1,
  "belau.pw": 1,
  "py": 1,
  "com.py": 1,
  "coop.py": 1,
  "edu.py": 1,
  "gov.py": 1,
  "mil.py": 1,
  "net.py": 1,
  "org.py": 1,
  "qa": 1,
  "com.qa": 1,
  "edu.qa": 1,
  "gov.qa": 1,
  "mil.qa": 1,
  "name.qa": 1,
  "net.qa": 1,
  "org.qa": 1,
  "sch.qa": 1,
  "re": 1,
  "asso.re": 1,
  "com.re": 1,
  "nom.re": 1,
  "ro": 1,
  "arts.ro": 1,
  "com.ro": 1,
  "firm.ro": 1,
  "info.ro": 1,
  "nom.ro": 1,
  "nt.ro": 1,
  "org.ro": 1,
  "rec.ro": 1,
  "store.ro": 1,
  "tm.ro": 1,
  "www.ro": 1,
  "rs": 1,
  "ac.rs": 1,
  "co.rs": 1,
  "edu.rs": 1,
  "gov.rs": 1,
  "in.rs": 1,
  "org.rs": 1,
  "ru": 1,
  "rw": 1,
  "ac.rw": 1,
  "co.rw": 1,
  "coop.rw": 1,
  "gov.rw": 1,
  "mil.rw": 1,
  "net.rw": 1,
  "org.rw": 1,
  "sa": 1,
  "com.sa": 1,
  "net.sa": 1,
  "org.sa": 1,
  "gov.sa": 1,
  "med.sa": 1,
  "pub.sa": 1,
  "edu.sa": 1,
  "sch.sa": 1,
  "sb": 1,
  "com.sb": 1,
  "edu.sb": 1,
  "gov.sb": 1,
  "net.sb": 1,
  "org.sb": 1,
  "sc": 1,
  "com.sc": 1,
  "gov.sc": 1,
  "net.sc": 1,
  "org.sc": 1,
  "edu.sc": 1,
  "sd": 1,
  "com.sd": 1,
  "net.sd": 1,
  "org.sd": 1,
  "edu.sd": 1,
  "med.sd": 1,
  "tv.sd": 1,
  "gov.sd": 1,
  "info.sd": 1,
  "se": 1,
  "a.se": 1,
  "ac.se": 1,
  "b.se": 1,
  "bd.se": 1,
  "brand.se": 1,
  "c.se": 1,
  "d.se": 1,
  "e.se": 1,
  "f.se": 1,
  "fh.se": 1,
  "fhsk.se": 1,
  "fhv.se": 1,
  "g.se": 1,
  "h.se": 1,
  "i.se": 1,
  "k.se": 1,
  "komforb.se": 1,
  "kommunalforbund.se": 1,
  "komvux.se": 1,
  "l.se": 1,
  "lanbib.se": 1,
  "m.se": 1,
  "n.se": 1,
  "naturbruksgymn.se": 1,
  "o.se": 1,
  "org.se": 1,
  "p.se": 1,
  "parti.se": 1,
  "pp.se": 1,
  "press.se": 1,
  "r.se": 1,
  "s.se": 1,
  "t.se": 1,
  "tm.se": 1,
  "u.se": 1,
  "w.se": 1,
  "x.se": 1,
  "y.se": 1,
  "z.se": 1,
  "sg": 1,
  "com.sg": 1,
  "net.sg": 1,
  "org.sg": 1,
  "gov.sg": 1,
  "edu.sg": 1,
  "per.sg": 1,
  "sh": 1,
  "com.sh": 1,
  "net.sh": 1,
  "gov.sh": 1,
  "org.sh": 1,
  "mil.sh": 1,
  "si": 1,
  "sj": 1,
  "sk": 1,
  "sl": 1,
  "com.sl": 1,
  "net.sl": 1,
  "edu.sl": 1,
  "gov.sl": 1,
  "org.sl": 1,
  "sm": 1,
  "sn": 1,
  "art.sn": 1,
  "com.sn": 1,
  "edu.sn": 1,
  "gouv.sn": 1,
  "org.sn": 1,
  "perso.sn": 1,
  "univ.sn": 1,
  "so": 1,
  "com.so": 1,
  "edu.so": 1,
  "gov.so": 1,
  "me.so": 1,
  "net.so": 1,
  "org.so": 1,
  "sr": 1,
  "ss": 1,
  "biz.ss": 1,
  "com.ss": 1,
  "edu.ss": 1,
  "gov.ss": 1,
  "me.ss": 1,
  "net.ss": 1,
  "org.ss": 1,
  "sch.ss": 1,
  "st": 1,
  "co.st": 1,
  "com.st": 1,
  "consulado.st": 1,
  "edu.st": 1,
  "embaixada.st": 1,
  "mil.st": 1,
  "net.st": 1,
  "org.st": 1,
  "principe.st": 1,
  "saotome.st": 1,
  "store.st": 1,
  "su": 1,
  "sv": 1,
  "com.sv": 1,
  "edu.sv": 1,
  "gob.sv": 1,
  "org.sv": 1,
  "red.sv": 1,
  "sx": 1,
  "gov.sx": 1,
  "sy": 1,
  "edu.sy": 1,
  "gov.sy": 1,
  "net.sy": 1,
  "mil.sy": 1,
  "com.sy": 1,
  "org.sy": 1,
  "sz": 1,
  "co.sz": 1,
  "ac.sz": 1,
  "org.sz": 1,
  "tc": 1,
  "td": 1,
  "tel": 1,
  "tf": 1,
  "tg": 1,
  "th": 1,
  "ac.th": 1,
  "co.th": 1,
  "go.th": 1,
  "in.th": 1,
  "mi.th": 1,
  "net.th": 1,
  "or.th": 1,
  "tj": 1,
  "ac.tj": 1,
  "biz.tj": 1,
  "co.tj": 1,
  "com.tj": 1,
  "edu.tj": 1,
  "go.tj": 1,
  "gov.tj": 1,
  "int.tj": 1,
  "mil.tj": 1,
  "name.tj": 1,
  "net.tj": 1,
  "nic.tj": 1,
  "org.tj": 1,
  "test.tj": 1,
  "web.tj": 1,
  "tk": 1,
  "tl": 1,
  "gov.tl": 1,
  "tm": 1,
  "com.tm": 1,
  "co.tm": 1,
  "org.tm": 1,
  "net.tm": 1,
  "nom.tm": 1,
  "gov.tm": 1,
  "mil.tm": 1,
  "edu.tm": 1,
  "tn": 1,
  "com.tn": 1,
  "ens.tn": 1,
  "fin.tn": 1,
  "gov.tn": 1,
  "ind.tn": 1,
  "info.tn": 1,
  "intl.tn": 1,
  "mincom.tn": 1,
  "nat.tn": 1,
  "net.tn": 1,
  "org.tn": 1,
  "perso.tn": 1,
  "tourism.tn": 1,
  "to": 1,
  "com.to": 1,
  "gov.to": 1,
  "net.to": 1,
  "org.to": 1,
  "edu.to": 1,
  "mil.to": 1,
  "tr": 1,
  "av.tr": 1,
  "bbs.tr": 1,
  "bel.tr": 1,
  "biz.tr": 1,
  "com.tr": 1,
  "dr.tr": 1,
  "edu.tr": 1,
  "gen.tr": 1,
  "gov.tr": 1,
  "info.tr": 1,
  "mil.tr": 1,
  "k12.tr": 1,
  "kep.tr": 1,
  "name.tr": 1,
  "net.tr": 1,
  "org.tr": 1,
  "pol.tr": 1,
  "tel.tr": 1,
  "tsk.tr": 1,
  "tv.tr": 1,
  "web.tr": 1,
  "nc.tr": 1,
  "gov.nc.tr": 1,
  "tt": 1,
  "co.tt": 1,
  "com.tt": 1,
  "org.tt": 1,
  "net.tt": 1,
  "biz.tt": 1,
  "info.tt": 1,
  "pro.tt": 1,
  "int.tt": 1,
  "coop.tt": 1,
  "jobs.tt": 1,
  "mobi.tt": 1,
  "travel.tt": 1,
  "museum.tt": 1,
  "aero.tt": 1,
  "name.tt": 1,
  "gov.tt": 1,
  "edu.tt": 1,
  "tv": 1,
  "tw": 1,
  "edu.tw": 1,
  "gov.tw": 1,
  "mil.tw": 1,
  "com.tw": 1,
  "net.tw": 1,
  "org.tw": 1,
  "idv.tw": 1,
  "game.tw": 1,
  "ebiz.tw": 1,
  "club.tw": 1,
  "xn--zf0ao64a.tw": 1,
  "xn--uc0atv.tw": 1,
  "xn--czrw28b.tw": 1,
  "tz": 1,
  "ac.tz": 1,
  "co.tz": 1,
  "go.tz": 1,
  "hotel.tz": 1,
  "info.tz": 1,
  "me.tz": 1,
  "mil.tz": 1,
  "mobi.tz": 1,
  "ne.tz": 1,
  "or.tz": 1,
  "sc.tz": 1,
  "tv.tz": 1,
  "ua": 1,
  "com.ua": 1,
  "edu.ua": 1,
  "gov.ua": 1,
  "in.ua": 1,
  "net.ua": 1,
  "org.ua": 1,
  "cherkassy.ua": 1,
  "cherkasy.ua": 1,
  "chernigov.ua": 1,
  "chernihiv.ua": 1,
  "chernivtsi.ua": 1,
  "chernovtsy.ua": 1,
  "ck.ua": 1,
  "cn.ua": 1,
  "cr.ua": 1,
  "crimea.ua": 1,
  "cv.ua": 1,
  "dn.ua": 1,
  "dnepropetrovsk.ua": 1,
  "dnipropetrovsk.ua": 1,
  "donetsk.ua": 1,
  "dp.ua": 1,
  "if.ua": 1,
  "ivano-frankivsk.ua": 1,
  "kh.ua": 1,
  "kharkiv.ua": 1,
  "kharkov.ua": 1,
  "kherson.ua": 1,
  "khmelnitskiy.ua": 1,
  "khmelnytskyi.ua": 1,
  "kiev.ua": 1,
  "kirovograd.ua": 1,
  "km.ua": 1,
  "kr.ua": 1,
  "kropyvnytskyi.ua": 1,
  "krym.ua": 1,
  "ks.ua": 1,
  "kv.ua": 1,
  "kyiv.ua": 1,
  "lg.ua": 1,
  "lt.ua": 1,
  "lugansk.ua": 1,
  "luhansk.ua": 1,
  "lutsk.ua": 1,
  "lv.ua": 1,
  "lviv.ua": 1,
  "mk.ua": 1,
  "mykolaiv.ua": 1,
  "nikolaev.ua": 1,
  "od.ua": 1,
  "odesa.ua": 1,
  "odessa.ua": 1,
  "pl.ua": 1,
  "poltava.ua": 1,
  "rivne.ua": 1,
  "rovno.ua": 1,
  "rv.ua": 1,
  "sb.ua": 1,
  "sebastopol.ua": 1,
  "sevastopol.ua": 1,
  "sm.ua": 1,
  "sumy.ua": 1,
  "te.ua": 1,
  "ternopil.ua": 1,
  "uz.ua": 1,
  "uzhgorod.ua": 1,
  "uzhhorod.ua": 1,
  "vinnica.ua": 1,
  "vinnytsia.ua": 1,
  "vn.ua": 1,
  "volyn.ua": 1,
  "yalta.ua": 1,
  "zakarpattia.ua": 1,
  "zaporizhzhe.ua": 1,
  "zaporizhzhia.ua": 1,
  "zhitomir.ua": 1,
  "zhytomyr.ua": 1,
  "zp.ua": 1,
  "zt.ua": 1,
  "ug": 1,
  "co.ug": 1,
  "or.ug": 1,
  "ac.ug": 1,
  "sc.ug": 1,
  "go.ug": 1,
  "ne.ug": 1,
  "com.ug": 1,
  "org.ug": 1,
  "uk": 1,
  "ac.uk": 1,
  "co.uk": 1,
  "gov.uk": 1,
  "ltd.uk": 1,
  "me.uk": 1,
  "net.uk": 1,
  "nhs.uk": 1,
  "org.uk": 1,
  "plc.uk": 1,
  "police.uk": 1,
  "sch.uk": 2,
  "us": 1,
  "dni.us": 1,
  "fed.us": 1,
  "isa.us": 1,
  "kids.us": 1,
  "nsn.us": 1,
  "ak.us": 1,
  "al.us": 1,
  "ar.us": 1,
  "as.us": 1,
  "az.us": 1,
  "ca.us": 1,
  "co.us": 1,
  "ct.us": 1,
  "dc.us": 1,
  "de.us": 1,
  "fl.us": 1,
  "ga.us": 1,
  "gu.us": 1,
  "hi.us": 1,
  "ia.us": 1,
  "id.us": 1,
  "il.us": 1,
  "in.us": 1,
  "ks.us": 1,
  "ky.us": 1,
  "la.us": 1,
  "ma.us": 1,
  "md.us": 1,
  "me.us": 1,
  "mi.us": 1,
  "mn.us": 1,
  "mo.us": 1,
  "ms.us": 1,
  "mt.us": 1,
  "nc.us": 1,
  "nd.us": 1,
  "ne.us": 1,
  "nh.us": 1,
  "nj.us": 1,
  "nm.us": 1,
  "nv.us": 1,
  "ny.us": 1,
  "oh.us": 1,
  "ok.us": 1,
  "or.us": 1,
  "pa.us": 1,
  "pr.us": 1,
  "ri.us": 1,
  "sc.us": 1,
  "sd.us": 1,
  "tn.us": 1,
  "tx.us": 1,
  "ut.us": 1,
  "vi.us": 1,
  "vt.us": 1,
  "va.us": 1,
  "wa.us": 1,
  "wi.us": 1,
  "wv.us": 1,
  "wy.us": 1,
  "k12.ak.us": 1,
  "k12.al.us": 1,
  "k12.ar.us": 1,
  "k12.as.us": 1,
  "k12.az.us": 1,
  "k12.ca.us": 1,
  "k12.co.us": 1,
  "k12.ct.us": 1,
  "k12.dc.us": 1,
  "k12.fl.us": 1,
  "k12.ga.us": 1,
  "k12.gu.us": 1,
  "k12.ia.us": 1,
  "k12.id.us": 1,
  "k12.il.us": 1,
  "k12.in.us": 1,
  "k12.ks.us": 1,
  "k12.ky.us": 1,
  "k12.la.us": 1,
  "k12.ma.us": 1,
  "k12.md.us": 1,
  "k12.me.us": 1,
  "k12.mi.us": 1,
  "k12.mn.us": 1,
  "k12.mo.us": 1,
  "k12.ms.us": 1,
  "k12.mt.us": 1,
  "k12.nc.us": 1,
  "k12.ne.us": 1,
  "k12.nh.us": 1,
  "k12.nj.us": 1,
  "k12.nm.us": 1,
  "k12.nv.us": 1,
  "k12.ny.us": 1,
  "k12.oh.us": 1,
  "k12.ok.us": 1,
  "k12.or.us": 1,
  "k12.pa.us": 1,
  "k12.pr.us": 1,
  "k12.sc.us": 1,
  "k12.tn.us": 1,
  "k12.tx.us": 1,
  "k12.ut.us": 1,
  "k12.vi.us": 1,
  "k12.vt.us": 1,
  "k12.va.us": 1,
  "k12.wa.us": 1,
  "k12.wi.us": 1,
  "k12.wy.us": 1,
  "cc.ak.us": 1,
  "cc.al.us": 1,
  "cc.ar.us": 1,
  "cc.as.us": 1,
  "cc.az.us": 1,
  "cc.ca.us": 1,
  "cc.co.us": 1,
  "cc.ct.us": 1,
  "cc.dc.us": 1,
  "cc.de.us": 1,
  "cc.fl.us": 1,
  "cc.ga.us": 1,
  "cc.gu.us": 1,
  "cc.hi.us": 1,
  "cc.ia.us": 1,
  "cc.id.us": 1,
  "cc.il.us": 1,
  "cc.in.us": 1,
  "cc.ks.us": 1,
  "cc.ky.us": 1,
  "cc.la.us": 1,
  "cc.ma.us": 1,
  "cc.md.us": 1,
  "cc.me.us": 1,
  "cc.mi.us": 1,
  "cc.mn.us": 1,
  "cc.mo.us": 1,
  "cc.ms.us": 1,
  "cc.mt.us": 1,
  "cc.nc.us": 1,
  "cc.nd.us": 1,
  "cc.ne.us": 1,
  "cc.nh.us": 1,
  "cc.nj.us": 1,
  "cc.nm.us": 1,
  "cc.nv.us": 1,
  "cc.ny.us": 1,
  "cc.oh.us": 1,
  "cc.ok.us": 1,
  "cc.or.us": 1,
  "cc.pa.us": 1,
  "cc.pr.us": 1,
  "cc.ri.us": 1,
  "cc.sc.us": 1,
  "cc.sd.us": 1,
  "cc.tn.us": 1,
  "cc.tx.us": 1,
  "cc.ut.us": 1,
  "cc.vi.us": 1,
  "cc.vt.us": 1,
  "cc.va.us": 1,
  "cc.wa.us": 1,
  "cc.wi.us": 1,
  "cc.wv.us": 1,
  "cc.wy.us": 1,
  "lib.ak.us": 1,
  "lib.al.us": 1,
  "lib.ar.us": 1,
  "lib.as.us": 1,
  "lib.az.us": 1,
  "lib.ca.us": 1,
  "lib.co.us": 1,
  "lib.ct.us": 1,
  "lib.dc.us": 1,
  "lib.fl.us": 1,
  "lib.ga.us": 1,
  "lib.gu.us": 1,
  "lib.hi.us": 1,
  "lib.ia.us": 1,
  "lib.id.us": 1,
  "lib.il.us": 1,
  "lib.in.us": 1,
  "lib.ks.us": 1,
  "lib.ky.us": 1,
  "lib.la.us": 1,
  "lib.ma.us": 1,
  "lib.md.us": 1,
  "lib.me.us": 1,
  "lib.mi.us": 1,
  "lib.mn.us": 1,
  "lib.mo.us": 1,
  "lib.ms.us": 1,
  "lib.mt.us": 1,
  "lib.nc.us": 1,
  "lib.nd.us": 1,
  "lib.ne.us": 1,
  "lib.nh.us": 1,
  "lib.nj.us": 1,
  "lib.nm.us": 1,
  "lib.nv.us": 1,
  "lib.ny.us": 1,
  "lib.oh.us": 1,
  "lib.ok.us": 1,
  "lib.or.us": 1,
  "lib.pa.us": 1,
  "lib.pr.us": 1,
  "lib.ri.us": 1,
  "lib.sc.us": 1,
  "lib.sd.us": 1,
  "lib.tn.us": 1,
  "lib.tx.us": 1,
  "lib.ut.us": 1,
  "lib.vi.us": 1,
  "lib.vt.us": 1,
  "lib.va.us": 1,
  "lib.wa.us": 1,
  "lib.wi.us": 1,
  "lib.wy.us": 1,
  "pvt.k12.ma.us": 1,
  "chtr.k12.ma.us": 1,
  "paroch.k12.ma.us": 1,
  "ann-arbor.mi.us": 1,
  "cog.mi.us": 1,
  "dst.mi.us": 1,
  "eaton.mi.us": 1,
  "gen.mi.us": 1,
  "mus.mi.us": 1,
  "tec.mi.us": 1,
  "washtenaw.mi.us": 1,
  "uy": 1,
  "com.uy": 1,
  "edu.uy": 1,
  "gub.uy": 1,
  "mil.uy": 1,
  "net.uy": 1,
  "org.uy": 1,
  "uz": 1,
  "co.uz": 1,
  "com.uz": 1,
  "net.uz": 1,
  "org.uz": 1,
  "va": 1,
  "vc": 1,
  "com.vc": 1,
  "net.vc": 1,
  "org.vc": 1,
  "gov.vc": 1,
  "mil.vc": 1,
  "edu.vc": 1,
  "ve": 1,
  "arts.ve": 1,
  "bib.ve": 1,
  "co.ve": 1,
  "com.ve": 1,
  "e12.ve": 1,
  "edu.ve": 1,
  "firm.ve": 1,
  "gob.ve": 1,
  "gov.ve": 1,
  "info.ve": 1,
  "int.ve": 1,
  "mil.ve": 1,
  "net.ve": 1,
  "nom.ve": 1,
  "org.ve": 1,
  "rar.ve": 1,
  "rec.ve": 1,
  "store.ve": 1,
  "tec.ve": 1,
  "web.ve": 1,
  "vg": 1,
  "vi": 1,
  "co.vi": 1,
  "com.vi": 1,
  "k12.vi": 1,
  "net.vi": 1,
  "org.vi": 1,
  "vn": 1,
  "ac.vn": 1,
  "ai.vn": 1,
  "biz.vn": 1,
  "com.vn": 1,
  "edu.vn": 1,
  "gov.vn": 1,
  "health.vn": 1,
  "id.vn": 1,
  "info.vn": 1,
  "int.vn": 1,
  "io.vn": 1,
  "name.vn": 1,
  "net.vn": 1,
  "org.vn": 1,
  "pro.vn": 1,
  "angiang.vn": 1,
  "bacgiang.vn": 1,
  "backan.vn": 1,
  "baclieu.vn": 1,
  "bacninh.vn": 1,
  "baria-vungtau.vn": 1,
  "bentre.vn": 1,
  "binhdinh.vn": 1,
  "binhduong.vn": 1,
  "binhphuoc.vn": 1,
  "binhthuan.vn": 1,
  "camau.vn": 1,
  "cantho.vn": 1,
  "caobang.vn": 1,
  "daklak.vn": 1,
  "daknong.vn": 1,
  "danang.vn": 1,
  "dienbien.vn": 1,
  "dongnai.vn": 1,
  "dongthap.vn": 1,
  "gialai.vn": 1,
  "hagiang.vn": 1,
  "haiduong.vn": 1,
  "haiphong.vn": 1,
  "hanam.vn": 1,
  "hanoi.vn": 1,
  "hatinh.vn": 1,
  "haugiang.vn": 1,
  "hoabinh.vn": 1,
  "hungyen.vn": 1,
  "khanhhoa.vn": 1,
  "kiengiang.vn": 1,
  "kontum.vn": 1,
  "laichau.vn": 1,
  "lamdong.vn": 1,
  "langson.vn": 1,
  "laocai.vn": 1,
  "longan.vn": 1,
  "namdinh.vn": 1,
  "nghean.vn": 1,
  "ninhbinh.vn": 1,
  "ninhthuan.vn": 1,
  "phutho.vn": 1,
  "phuyen.vn": 1,
  "quangbinh.vn": 1,
  "quangnam.vn": 1,
  "quangngai.vn": 1,
  "quangninh.vn": 1,
  "quangtri.vn": 1,
  "soctrang.vn": 1,
  "sonla.vn": 1,
  "tayninh.vn": 1,
  "thaibinh.vn": 1,
  "thainguyen.vn": 1,
  "thanhhoa.vn": 1,
  "thanhphohochiminh.vn": 1,
  "thuathienhue.vn": 1,
  "tiengiang.vn": 1,
  "travinh.vn": 1,
  "tuyenquang.vn": 1,
  "vinhlong.vn": 1,
  "vinhphuc.vn": 1,
  "yenbai.vn": 1,
  "vu": 1,
  "com.vu": 1,
  "edu.vu": 1,
  "net.vu": 1,
  "org.vu": 1,
  "wf": 1,
  "ws": 1,
  "com.ws": 1,
  "net.ws": 1,
  "org.ws": 1,
  "gov.ws": 1,
  "edu.ws": 1,
  "yt": 1,
  "xn--mgbaam7a8h": 1,
  "xn--y9a3aq": 1,
  "xn--54b7fta0cc": 1,
  "xn--90ae": 1,
  "xn--mgbcpq6gpa1a": 1,
  "xn--90ais": 1,
  "xn--fiqs8s": 1,
  "xn--fiqz9s": 1,
  "xn--lgbbat1ad8j": 1,
  "xn--wgbh1c": 1,
  "xn--e1a4c": 1,
  "xn--qxa6a": 1,
  "xn--mgbah1a3hjkrd": 1,
  "xn--node": 1,
  "xn--qxam": 1,
  "xn--j6w193g": 1,
  "xn--55qx5d.xn--j6w193g": 1,
  "xn--wcvs22d.xn--j6w193g": 1,
  "xn--mxtq1m.xn--j6w193g": 1,
  "xn--gmqw5a.xn--j6w193g": 1,
  "xn--od0alg.xn--j6w193g": 1,
  "xn--uc0atv.xn--j6w193g": 1,
  "xn--2scrj9c": 1,
  "xn--3hcrj9c": 1,
  "xn--45br5cyl": 1,
  "xn--h2breg3eve": 1,
  "xn--h2brj9c8c": 1,
  "xn--mgbgu82a": 1,
  "xn--rvc1e0am3e": 1,
  "xn--h2brj9c": 1,
  "xn--mgbbh1a": 1,
  "xn--mgbbh1a71e": 1,
  "xn--fpcrj9c3d": 1,
  "xn--gecrj9c": 1,
  "xn--s9brj9c": 1,
  "xn--45brj9c": 1,
  "xn--xkc2dl3a5ee0h": 1,
  "xn--mgba3a4f16a": 1,
  "xn--mgba3a4fra": 1,
  "xn--mgbtx2b": 1,
  "xn--mgbayh7gpa": 1,
  "xn--3e0b707e": 1,
  "xn--80ao21a": 1,
  "xn--q7ce6a": 1,
  "xn--fzc2c9e2c": 1,
  "xn--xkc2al3hye2a": 1,
  "xn--mgbc0a9azcg": 1,
  "xn--d1alf": 1,
  "xn--l1acc": 1,
  "xn--mix891f": 1,
  "xn--mix082f": 1,
  "xn--mgbx4cd0ab": 1,
  "xn--mgb9awbf": 1,
  "xn--mgbai9azgqp6j": 1,
  "xn--mgbai9a5eva00b": 1,
  "xn--ygbi2ammx": 1,
  "xn--90a3ac": 1,
  "xn--o1ac.xn--90a3ac": 1,
  "xn--c1avg.xn--90a3ac": 1,
  "xn--90azh.xn--90a3ac": 1,
  "xn--d1at.xn--90a3ac": 1,
  "xn--o1ach.xn--90a3ac": 1,
  "xn--80au.xn--90a3ac": 1,
  "xn--p1ai": 1,
  "xn--wgbl6a": 1,
  "xn--mgberp4a5d4ar": 1,
  "xn--mgberp4a5d4a87g": 1,
  "xn--mgbqly7c0a67fbc": 1,
  "xn--mgbqly7cvafr": 1,
  "xn--mgbpl2fh": 1,
  "xn--yfro4i67o": 1,
  "xn--clchc0ea0b2g2a9gcd": 1,
  "xn--ogbpf8fl": 1,
  "xn--mgbtf8fl": 1,
  "xn--o3cw4h": 1,
  "xn--12c1fe0br.xn--o3cw4h": 1,
  "xn--12co0c3b4eva.xn--o3cw4h": 1,
  "xn--h3cuzk1di.xn--o3cw4h": 1,
  "xn--o3cyx2a.xn--o3cw4h": 1,
  "xn--m3ch0j3a.xn--o3cw4h": 1,
  "xn--12cfi8ixb8l.xn--o3cw4h": 1,
  "xn--pgbs0dh": 1,
  "xn--kpry57d": 1,
  "xn--kprw13d": 1,
  "xn--nnx388a": 1,
  "xn--j1amh": 1,
  "xn--mgb2ddes": 1,
  "xxx": 1,
  "ye": 1,
  "com.ye": 1,
  "edu.ye": 1,
  "gov.ye": 1,
  "net.ye": 1,
  "mil.ye": 1,
  "org.ye": 1,
  "ac.za": 1,
  "agric.za": 1,
  "alt.za": 1,
  "co.za": 1,
  "edu.za": 1,
  "gov.za": 1,
  "grondar.za": 1,
  "law.za": 1,
  "mil.za": 1,
  "net.za": 1,
  "ngo.za": 1,
  "nic.za": 1,
  "nis.za": 1,
  "nom.za": 1,
  "org.za": 1,
  "school.za": 1,
  "tm.za": 1,
  "web.za": 1,
  "zm": 1,
  "ac.zm": 1,
  "biz.zm": 1,
  "co.zm": 1,
  "com.zm": 1,
  "edu.zm": 1,
  "gov.zm": 1,
  "info.zm": 1,
  "mil.zm": 1,
  "net.zm": 1,
  "org.zm": 1,
  "sch.zm": 1,
  "zw": 1,
  "ac.zw": 1,
  "co.zw": 1,
  "gov.zw": 1,
  "mil.zw": 1,
  "org.zw": 1,
  "aaa": 1,
  "aarp": 1,
  "abb": 1,
  "abbott": 1,
  "abbvie": 1,
  "abc": 1,
  "able": 1,
  "abogado": 1,
  "abudhabi": 1,
  "academy": 1,
  "accenture": 1,
  "accountant": 1,
  "accountants": 1,
  "aco": 1,
  "actor": 1,
  "ads": 1,
  "adult": 1,
  "aeg": 1,
  "aetna": 1,
  "afl": 1,
  "africa": 1,
  "agakhan": 1,
  "agency": 1,
  "aig": 1,
  "airbus": 1,
  "airforce": 1,
  "airtel": 1,
  "akdn": 1,
  "alibaba": 1,
  "alipay": 1,
  "allfinanz": 1,
  "allstate": 1,
  "ally": 1,
  "alsace": 1,
  "alstom": 1,
  "amazon": 1,
  "americanexpress": 1,
  "americanfamily": 1,
  "amex": 1,
  "amfam": 1,
  "amica": 1,
  "amsterdam": 1,
  "analytics": 1,
  "android": 1,
  "anquan": 1,
  "anz": 1,
  "aol": 1,
  "apartments": 1,
  "app": 1,
  "apple": 1,
  "aquarelle": 1,
  "arab": 1,
  "aramco": 1,
  "archi": 1,
  "army": 1,
  "art": 1,
  "arte": 1,
  "asda": 1,
  "associates": 1,
  "athleta": 1,
  "attorney": 1,
  "auction": 1,
  "audi": 1,
  "audible": 1,
  "audio": 1,
  "auspost": 1,
  "author": 1,
  "auto": 1,
  "autos": 1,
  "avianca": 1,
  "aws": 1,
  "axa": 1,
  "azure": 1,
  "baby": 1,
  "baidu": 1,
  "banamex": 1,
  "bananarepublic": 1,
  "band": 1,
  "bank": 1,
  "bar": 1,
  "barcelona": 1,
  "barclaycard": 1,
  "barclays": 1,
  "barefoot": 1,
  "bargains": 1,
  "baseball": 1,
  "basketball": 1,
  "bauhaus": 1,
  "bayern": 1,
  "bbc": 1,
  "bbt": 1,
  "bbva": 1,
  "bcg": 1,
  "bcn": 1,
  "beats": 1,
  "beauty": 1,
  "beer": 1,
  "bentley": 1,
  "berlin": 1,
  "best": 1,
  "bestbuy": 1,
  "bet": 1,
  "bharti": 1,
  "bible": 1,
  "bid": 1,
  "bike": 1,
  "bing": 1,
  "bingo": 1,
  "bio": 1,
  "black": 1,
  "blackfriday": 1,
  "blockbuster": 1,
  "blog": 1,
  "bloomberg": 1,
  "blue": 1,
  "bms": 1,
  "bmw": 1,
  "bnpparibas": 1,
  "boats": 1,
  "boehringer": 1,
  "bofa": 1,
  "bom": 1,
  "bond": 1,
  "boo": 1,
  "book": 1,
  "booking": 1,
  "bosch": 1,
  "bostik": 1,
  "boston": 1,
  "bot": 1,
  "boutique": 1,
  "box": 1,
  "bradesco": 1,
  "bridgestone": 1,
  "broadway": 1,
  "broker": 1,
  "brother": 1,
  "brussels": 1,
  "build": 1,
  "builders": 1,
  "business": 1,
  "buy": 1,
  "buzz": 1,
  "bzh": 1,
  "cab": 1,
  "cafe": 1,
  "cal": 1,
  "call": 1,
  "calvinklein": 1,
  "cam": 1,
  "camera": 1,
  "camp": 1,
  "canon": 1,
  "capetown": 1,
  "capital": 1,
  "capitalone": 1,
  "car": 1,
  "caravan": 1,
  "cards": 1,
  "care": 1,
  "career": 1,
  "careers": 1,
  "cars": 1,
  "casa": 1,
  "case": 1,
  "cash": 1,
  "casino": 1,
  "catering": 1,
  "catholic": 1,
  "cba": 1,
  "cbn": 1,
  "cbre": 1,
  "center": 1,
  "ceo": 1,
  "cern": 1,
  "cfa": 1,
  "cfd": 1,
  "chanel": 1,
  "channel": 1,
  "charity": 1,
  "chase": 1,
  "chat": 1,
  "cheap": 1,
  "chintai": 1,
  "christmas": 1,
  "chrome": 1,
  "church": 1,
  "cipriani": 1,
  "circle": 1,
  "cisco": 1,
  "citadel": 1,
  "citi": 1,
  "citic": 1,
  "city": 1,
  "claims": 1,
  "cleaning": 1,
  "click": 1,
  "clinic": 1,
  "clinique": 1,
  "clothing": 1,
  "cloud": 1,
  "club": 1,
  "clubmed": 1,
  "coach": 1,
  "codes": 1,
  "coffee": 1,
  "college": 1,
  "cologne": 1,
  "comcast": 1,
  "commbank": 1,
  "community": 1,
  "company": 1,
  "compare": 1,
  "computer": 1,
  "comsec": 1,
  "condos": 1,
  "construction": 1,
  "consulting": 1,
  "contact": 1,
  "contractors": 1,
  "cooking": 1,
  "cool": 1,
  "corsica": 1,
  "country": 1,
  "coupon": 1,
  "coupons": 1,
  "courses": 1,
  "cpa": 1,
  "credit": 1,
  "creditcard": 1,
  "creditunion": 1,
  "cricket": 1,
  "crown": 1,
  "crs": 1,
  "cruise": 1,
  "cruises": 1,
  "cuisinella": 1,
  "cymru": 1,
  "cyou": 1,
  "dabur": 1,
  "dad": 1,
  "dance": 1,
  "data": 1,
  "date": 1,
  "dating": 1,
  "datsun": 1,
  "day": 1,
  "dclk": 1,
  "dds": 1,
  "deal": 1,
  "dealer": 1,
  "deals": 1,
  "degree": 1,
  "delivery": 1,
  "dell": 1,
  "deloitte": 1,
  "delta": 1,
  "democrat": 1,
  "dental": 1,
  "dentist": 1,
  "desi": 1,
  "design": 1,
  "dev": 1,
  "dhl": 1,
  "diamonds": 1,
  "diet": 1,
  "digital": 1,
  "direct": 1,
  "directory": 1,
  "discount": 1,
  "discover": 1,
  "dish": 1,
  "diy": 1,
  "dnp": 1,
  "docs": 1,
  "doctor": 1,
  "dog": 1,
  "domains": 1,
  "dot": 1,
  "download": 1,
  "drive": 1,
  "dtv": 1,
  "dubai": 1,
  "dunlop": 1,
  "dupont": 1,
  "durban": 1,
  "dvag": 1,
  "dvr": 1,
  "earth": 1,
  "eat": 1,
  "eco": 1,
  "edeka": 1,
  "education": 1,
  "email": 1,
  "emerck": 1,
  "energy": 1,
  "engineer": 1,
  "engineering": 1,
  "enterprises": 1,
  "epson": 1,
  "equipment": 1,
  "ericsson": 1,
  "erni": 1,
  "esq": 1,
  "estate": 1,
  "eurovision": 1,
  "eus": 1,
  "events": 1,
  "exchange": 1,
  "expert": 1,
  "exposed": 1,
  "express": 1,
  "extraspace": 1,
  "fage": 1,
  "fail": 1,
  "fairwinds": 1,
  "faith": 1,
  "family": 1,
  "fan": 1,
  "fans": 1,
  "farm": 1,
  "farmers": 1,
  "fashion": 1,
  "fast": 1,
  "fedex": 1,
  "feedback": 1,
  "ferrari": 1,
  "ferrero": 1,
  "fidelity": 1,
  "fido": 1,
  "film": 1,
  "final": 1,
  "finance": 1,
  "financial": 1,
  "fire": 1,
  "firestone": 1,
  "firmdale": 1,
  "fish": 1,
  "fishing": 1,
  "fit": 1,
  "fitness": 1,
  "flickr": 1,
  "flights": 1,
  "flir": 1,
  "florist": 1,
  "flowers": 1,
  "fly": 1,
  "foo": 1,
  "food": 1,
  "football": 1,
  "ford": 1,
  "forex": 1,
  "forsale": 1,
  "forum": 1,
  "foundation": 1,
  "fox": 1,
  "free": 1,
  "fresenius": 1,
  "frl": 1,
  "frogans": 1,
  "frontier": 1,
  "ftr": 1,
  "fujitsu": 1,
  "fun": 1,
  "fund": 1,
  "furniture": 1,
  "futbol": 1,
  "fyi": 1,
  "gal": 1,
  "gallery": 1,
  "gallo": 1,
  "gallup": 1,
  "game": 1,
  "games": 1,
  "gap": 1,
  "garden": 1,
  "gay": 1,
  "gbiz": 1,
  "gdn": 1,
  "gea": 1,
  "gent": 1,
  "genting": 1,
  "george": 1,
  "ggee": 1,
  "gift": 1,
  "gifts": 1,
  "gives": 1,
  "giving": 1,
  "glass": 1,
  "gle": 1,
  "global": 1,
  "globo": 1,
  "gmail": 1,
  "gmbh": 1,
  "gmo": 1,
  "gmx": 1,
  "godaddy": 1,
  "gold": 1,
  "goldpoint": 1,
  "golf": 1,
  "goo": 1,
  "goodyear": 1,
  "goog": 1,
  "google": 1,
  "gop": 1,
  "got": 1,
  "grainger": 1,
  "graphics": 1,
  "gratis": 1,
  "green": 1,
  "gripe": 1,
  "grocery": 1,
  "group": 1,
  "guardian": 1,
  "gucci": 1,
  "guge": 1,
  "guide": 1,
  "guitars": 1,
  "guru": 1,
  "hair": 1,
  "hamburg": 1,
  "hangout": 1,
  "haus": 1,
  "hbo": 1,
  "hdfc": 1,
  "hdfcbank": 1,
  "health": 1,
  "healthcare": 1,
  "help": 1,
  "helsinki": 1,
  "here": 1,
  "hermes": 1,
  "hiphop": 1,
  "hisamitsu": 1,
  "hitachi": 1,
  "hiv": 1,
  "hkt": 1,
  "hockey": 1,
  "holdings": 1,
  "holiday": 1,
  "homedepot": 1,
  "homegoods": 1,
  "homes": 1,
  "homesense": 1,
  "honda": 1,
  "horse": 1,
  "hospital": 1,
  "host": 1,
  "hosting": 1,
  "hot": 1,
  "hotels": 1,
  "hotmail": 1,
  "house": 1,
  "how": 1,
  "hsbc": 1,
  "hughes": 1,
  "hyatt": 1,
  "hyundai": 1,
  "ibm": 1,
  "icbc": 1,
  "ice": 1,
  "icu": 1,
  "ieee": 1,
  "ifm": 1,
  "ikano": 1,
  "imamat": 1,
  "imdb": 1,
  "immo": 1,
  "immobilien": 1,
  "inc": 1,
  "industries": 1,
  "infiniti": 1,
  "ing": 1,
  "ink": 1,
  "institute": 1,
  "insurance": 1,
  "insure": 1,
  "international": 1,
  "intuit": 1,
  "investments": 1,
  "ipiranga": 1,
  "irish": 1,
  "ismaili": 1,
  "ist": 1,
  "istanbul": 1,
  "itau": 1,
  "itv": 1,
  "jaguar": 1,
  "java": 1,
  "jcb": 1,
  "jeep": 1,
  "jetzt": 1,
  "jewelry": 1,
  "jio": 1,
  "jll": 1,
  "jmp": 1,
  "jnj": 1,
  "joburg": 1,
  "jot": 1,
  "joy": 1,
  "jpmorgan": 1,
  "jprs": 1,
  "juegos": 1,
  "juniper": 1,
  "kaufen": 1,
  "kddi": 1,
  "kerryhotels": 1,
  "kerrylogistics": 1,
  "kerryproperties": 1,
  "kfh": 1,
  "kia": 1,
  "kids": 1,
  "kim": 1,
  "kindle": 1,
  "kitchen": 1,
  "kiwi": 1,
  "koeln": 1,
  "komatsu": 1,
  "kosher": 1,
  "kpmg": 1,
  "kpn": 1,
  "krd": 1,
  "kred": 1,
  "kuokgroup": 1,
  "kyoto": 1,
  "lacaixa": 1,
  "lamborghini": 1,
  "lamer": 1,
  "lancaster": 1,
  "land": 1,
  "landrover": 1,
  "lanxess": 1,
  "lasalle": 1,
  "lat": 1,
  "latino": 1,
  "latrobe": 1,
  "law": 1,
  "lawyer": 1,
  "lds": 1,
  "lease": 1,
  "leclerc": 1,
  "lefrak": 1,
  "legal": 1,
  "lego": 1,
  "lexus": 1,
  "lgbt": 1,
  "lidl": 1,
  "life": 1,
  "lifeinsurance": 1,
  "lifestyle": 1,
  "lighting": 1,
  "like": 1,
  "lilly": 1,
  "limited": 1,
  "limo": 1,
  "lincoln": 1,
  "link": 1,
  "lipsy": 1,
  "live": 1,
  "living": 1,
  "llc": 1,
  "llp": 1,
  "loan": 1,
  "loans": 1,
  "locker": 1,
  "locus": 1,
  "lol": 1,
  "london": 1,
  "lotte": 1,
  "lotto": 1,
  "love": 1,
  "lpl": 1,
  "lplfinancial": 1,
  "ltd": 1,
  "ltda": 1,
  "lundbeck": 1,
  "luxe": 1,
  "luxury": 1,
  "madrid": 1,
  "maif": 1,
  "maison": 1,
  "makeup": 1,
  "man": 1,
  "management": 1,
  "mango": 1,
  "map": 1,
  "market": 1,
  "marketing": 1,
  "markets": 1,
  "marriott": 1,
  "marshalls": 1,
  "mattel": 1,
  "mba": 1,
  "mckinsey": 1,
  "med": 1,
  "media": 1,
  "meet": 1,
  "melbourne": 1,
  "meme": 1,
  "memorial": 1,
  "men": 1,
  "menu": 1,
  "merckmsd": 1,
  "miami": 1,
  "microsoft": 1,
  "mini": 1,
  "mint": 1,
  "mit": 1,
  "mitsubishi": 1,
  "mlb": 1,
  "mls": 1,
  "mma": 1,
  "mobile": 1,
  "moda": 1,
  "moe": 1,
  "moi": 1,
  "mom": 1,
  "monash": 1,
  "money": 1,
  "monster": 1,
  "mormon": 1,
  "mortgage": 1,
  "moscow": 1,
  "moto": 1,
  "motorcycles": 1,
  "mov": 1,
  "movie": 1,
  "msd": 1,
  "mtn": 1,
  "mtr": 1,
  "music": 1,
  "nab": 1,
  "nagoya": 1,
  "natura": 1,
  "navy": 1,
  "nba": 1,
  "nec": 1,
  "netbank": 1,
  "netflix": 1,
  "network": 1,
  "neustar": 1,
  "new": 1,
  "news": 1,
  "next": 1,
  "nextdirect": 1,
  "nexus": 1,
  "nfl": 1,
  "ngo": 1,
  "nhk": 1,
  "nico": 1,
  "nike": 1,
  "nikon": 1,
  "ninja": 1,
  "nissan": 1,
  "nissay": 1,
  "nokia": 1,
  "norton": 1,
  "now": 1,
  "nowruz": 1,
  "nowtv": 1,
  "nra": 1,
  "nrw": 1,
  "ntt": 1,
  "nyc": 1,
  "obi": 1,
  "observer": 1,
  "office": 1,
  "okinawa": 1,
  "olayan": 1,
  "olayangroup": 1,
  "oldnavy": 1,
  "ollo": 1,
  "omega": 1,
  "one": 1,
  "ong": 1,
  "onl": 1,
  "online": 1,
  "ooo": 1,
  "open": 1,
  "oracle": 1,
  "orange": 1,
  "organic": 1,
  "origins": 1,
  "osaka": 1,
  "otsuka": 1,
  "ott": 1,
  "ovh": 1,
  "page": 1,
  "panasonic": 1,
  "paris": 1,
  "pars": 1,
  "partners": 1,
  "parts": 1,
  "party": 1,
  "pay": 1,
  "pccw": 1,
  "pet": 1,
  "pfizer": 1,
  "pharmacy": 1,
  "phd": 1,
  "philips": 1,
  "phone": 1,
  "photo": 1,
  "photography": 1,
  "photos": 1,
  "physio": 1,
  "pics": 1,
  "pictet": 1,
  "pictures": 1,
  "pid": 1,
  "pin": 1,
  "ping": 1,
  "pink": 1,
  "pioneer": 1,
  "pizza": 1,
  "place": 1,
  "play": 1,
  "playstation": 1,
  "plumbing": 1,
  "plus": 1,
  "pnc": 1,
  "pohl": 1,
  "poker": 1,
  "politie": 1,
  "porn": 1,
  "pramerica": 1,
  "praxi": 1,
  "press": 1,
  "prime": 1,
  "prod": 1,
  "productions": 1,
  "prof": 1,
  "progressive": 1,
  "promo": 1,
  "properties": 1,
  "property": 1,
  "protection": 1,
  "pru": 1,
  "prudential": 1,
  "pub": 1,
  "pwc": 1,
  "qpon": 1,
  "quebec": 1,
  "quest": 1,
  "racing": 1,
  "radio": 1,
  "read": 1,
  "realestate": 1,
  "realtor": 1,
  "realty": 1,
  "recipes": 1,
  "red": 1,
  "redstone": 1,
  "redumbrella": 1,
  "rehab": 1,
  "reise": 1,
  "reisen": 1,
  "reit": 1,
  "reliance": 1,
  "ren": 1,
  "rent": 1,
  "rentals": 1,
  "repair": 1,
  "report": 1,
  "republican": 1,
  "rest": 1,
  "restaurant": 1,
  "review": 1,
  "reviews": 1,
  "rexroth": 1,
  "rich": 1,
  "richardli": 1,
  "ricoh": 1,
  "ril": 1,
  "rio": 1,
  "rip": 1,
  "rocks": 1,
  "rodeo": 1,
  "rogers": 1,
  "room": 1,
  "rsvp": 1,
  "rugby": 1,
  "ruhr": 1,
  "run": 1,
  "rwe": 1,
  "ryukyu": 1,
  "saarland": 1,
  "safe": 1,
  "safety": 1,
  "sakura": 1,
  "sale": 1,
  "salon": 1,
  "samsclub": 1,
  "samsung": 1,
  "sandvik": 1,
  "sandvikcoromant": 1,
  "sanofi": 1,
  "sap": 1,
  "sarl": 1,
  "sas": 1,
  "save": 1,
  "saxo": 1,
  "sbi": 1,
  "sbs": 1,
  "sca": 1,
  "scb": 1,
  "schaeffler": 1,
  "schmidt": 1,
  "scholarships": 1,
  "school": 1,
  "schule": 1,
  "schwarz": 1,
  "science": 1,
  "scot": 1,
  "search": 1,
  "seat": 1,
  "secure": 1,
  "security": 1,
  "seek": 1,
  "select": 1,
  "sener": 1,
  "services": 1,
  "seven": 1,
  "sew": 1,
  "sex": 1,
  "sexy": 1,
  "sfr": 1,
  "shangrila": 1,
  "sharp": 1,
  "shaw": 1,
  "shell": 1,
  "shia": 1,
  "shiksha": 1,
  "shoes": 1,
  "shop": 1,
  "shopping": 1,
  "shouji": 1,
  "show": 1,
  "silk": 1,
  "sina": 1,
  "singles": 1,
  "site": 1,
  "ski": 1,
  "skin": 1,
  "sky": 1,
  "skype": 1,
  "sling": 1,
  "smart": 1,
  "smile": 1,
  "sncf": 1,
  "soccer": 1,
  "social": 1,
  "softbank": 1,
  "software": 1,
  "sohu": 1,
  "solar": 1,
  "solutions": 1,
  "song": 1,
  "sony": 1,
  "soy": 1,
  "spa": 1,
  "space": 1,
  "sport": 1,
  "spot": 1,
  "srl": 1,
  "stada": 1,
  "staples": 1,
  "star": 1,
  "statebank": 1,
  "statefarm": 1,
  "stc": 1,
  "stcgroup": 1,
  "stockholm": 1,
  "storage": 1,
  "store": 1,
  "stream": 1,
  "studio": 1,
  "study": 1,
  "style": 1,
  "sucks": 1,
  "supplies": 1,
  "supply": 1,
  "support": 1,
  "surf": 1,
  "surgery": 1,
  "suzuki": 1,
  "swatch": 1,
  "swiss": 1,
  "sydney": 1,
  "systems": 1,
  "tab": 1,
  "taipei": 1,
  "talk": 1,
  "taobao": 1,
  "target": 1,
  "tatamotors": 1,
  "tatar": 1,
  "tattoo": 1,
  "tax": 1,
  "taxi": 1,
  "tci": 1,
  "tdk": 1,
  "team": 1,
  "tech": 1,
  "technology": 1,
  "temasek": 1,
  "tennis": 1,
  "teva": 1,
  "thd": 1,
  "theater": 1,
  "theatre": 1,
  "tiaa": 1,
  "tickets": 1,
  "tienda": 1,
  "tips": 1,
  "tires": 1,
  "tirol": 1,
  "tjmaxx": 1,
  "tjx": 1,
  "tkmaxx": 1,
  "tmall": 1,
  "today": 1,
  "tokyo": 1,
  "tools": 1,
  "top": 1,
  "toray": 1,
  "toshiba": 1,
  "total": 1,
  "tours": 1,
  "town": 1,
  "toyota": 1,
  "toys": 1,
  "trade": 1,
  "trading": 1,
  "training": 1,
  "travel": 1,
  "travelers": 1,
  "travelersinsurance": 1,
  "trust": 1,
  "trv": 1,
  "tube": 1,
  "tui": 1,
  "tunes": 1,
  "tushu": 1,
  "tvs": 1,
  "ubank": 1,
  "ubs": 1,
  "unicom": 1,
  "university": 1,
  "uno": 1,
  "uol": 1,
  "ups": 1,
  "vacations": 1,
  "vana": 1,
  "vanguard": 1,
  "vegas": 1,
  "ventures": 1,
  "verisign": 1,
  "versicherung": 1,
  "vet": 1,
  "viajes": 1,
  "video": 1,
  "vig": 1,
  "viking": 1,
  "villas": 1,
  "vin": 1,
  "vip": 1,
  "virgin": 1,
  "visa": 1,
  "vision": 1,
  "viva": 1,
  "vivo": 1,
  "vlaanderen": 1,
  "vodka": 1,
  "volvo": 1,
  "vote": 1,
  "voting": 1,
  "voto": 1,
  "voyage": 1,
  "wales": 1,
  "walmart": 1,
  "walter": 1,
  "wang": 1,
  "wanggou": 1,
  "watch": 1,
  "watches": 1,
  "weather": 1,
  "weatherchannel": 1,
  "webcam": 1,
  "weber": 1,
  "website": 1,
  "wed": 1,
  "wedding": 1,
  "weibo": 1,
  "weir": 1,
  "whoswho": 1,
  "wien": 1,
  "wiki": 1,
  "williamhill": 1,
  "win": 1,
  "windows": 1,
  "wine": 1,
  "winners": 1,
  "wme": 1,
  "wolterskluwer": 1,
  "woodside": 1,
  "work": 1,
  "works": 1,
  "world": 1,
  "wow": 1,
  "wtc": 1,
  "wtf": 1,
  "xbox": 1,
  "xerox": 1,
  "xfinity": 1,
  "xihuan": 1,
  "xin": 1,
  "xn--11b4c3d": 1,
  "xn--1ck2e1b": 1,
  "xn--1qqw23a": 1,
  "xn--30rr7y": 1,
  "xn--3bst00m": 1,
  "xn--3ds443g": 1,
  "xn--3pxu8k": 1,
  "xn--42c2d9a": 1,
  "xn--45q11c": 1,
  "xn--4gbrim": 1,
  "xn--55qw42g": 1,
  "xn--55qx5d": 1,
  "xn--5su34j936bgsg": 1,
  "xn--5tzm5g": 1,
  "xn--6frz82g": 1,
  "xn--6qq986b3xl": 1,
  "xn--80adxhks": 1,
  "xn--80aqecdr1a": 1,
  "xn--80asehdb": 1,
  "xn--80aswg": 1,
  "xn--8y0a063a": 1,
  "xn--9dbq2a": 1,
  "xn--9et52u": 1,
  "xn--9krt00a": 1,
  "xn--b4w605ferd": 1,
  "xn--bck1b9a5dre4c": 1,
  "xn--c1avg": 1,
  "xn--c2br7g": 1,
  "xn--cck2b3b": 1,
  "xn--cckwcxetd": 1,
  "xn--cg4bki": 1,
  "xn--czr694b": 1,
  "xn--czrs0t": 1,
  "xn--czru2d": 1,
  "xn--d1acj3b": 1,
  "xn--eckvdtc9d": 1,
  "xn--efvy88h": 1,
  "xn--fct429k": 1,
  "xn--fhbei": 1,
  "xn--fiq228c5hs": 1,
  "xn--fiq64b": 1,
  "xn--fjq720a": 1,
  "xn--flw351e": 1,
  "xn--fzys8d69uvgm": 1,
  "xn--g2xx48c": 1,
  "xn--gckr3f0f": 1,
  "xn--gk3at1e": 1,
  "xn--hxt814e": 1,
  "xn--i1b6b1a6a2e": 1,
  "xn--imr513n": 1,
  "xn--io0a7i": 1,
  "xn--j1aef": 1,
  "xn--jlq480n2rg": 1,
  "xn--jvr189m": 1,
  "xn--kcrx77d1x4a": 1,
  "xn--kput3i": 1,
  "xn--mgba3a3ejt": 1,
  "xn--mgba7c0bbn0a": 1,
  "xn--mgbab2bd": 1,
  "xn--mgbca7dzdo": 1,
  "xn--mgbi4ecexp": 1,
  "xn--mgbt3dhd": 1,
  "xn--mk1bu44c": 1,
  "xn--mxtq1m": 1,
  "xn--ngbc5azd": 1,
  "xn--ngbe9e0a": 1,
  "xn--ngbrx": 1,
  "xn--nqv7f": 1,
  "xn--nqv7fs00ema": 1,
  "xn--nyqy26a": 1,
  "xn--otu796d": 1,
  "xn--p1acf": 1,
  "xn--pssy2u": 1,
  "xn--q9jyb4c": 1,
  "xn--qcka1pmc": 1,
  "xn--rhqv96g": 1,
  "xn--rovu88b": 1,
  "xn--ses554g": 1,
  "xn--t60b56a": 1,
  "xn--tckwe": 1,
  "xn--tiq49xqyj": 1,
  "xn--unup4y": 1,
  "xn--vermgensberater-ctb": 1,
  "xn--vermgensberatung-pwb": 1,
  "xn--vhquv": 1,
  "xn--vuq861b": 1,
  "xn--w4r85el8fhu5dnra": 1,
  "xn--w4rs40l": 1,
  "xn--xhq521b": 1,
  "xn--zfr164b": 1,
  "xyz": 1,
  "yachts": 1,
  "yahoo": 1,
  "yamaxun": 1,
  "yandex": 1,
  "yodobashi": 1,
  "yoga": 1,
  "yokohama": 1,
  "you": 1,
  "youtube": 1,
  "yun": 1,
  "zappos": 1,
  "zara": 1,
  "zero": 1,
  "zip": 1,
  "zone": 1,
  "zuerich": 1
}

/***/ }),

/***/ "./core/data/nonIcannPublicSuffixList.js":
/*!***********************************************!*\
  !*** ./core/data/nonIcannPublicSuffixList.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports) => {

exports.nonIcannPublicSuffixes = {
  "cc.ua": 1,
  "inf.ua": 1,
  "ltd.ua": 1,
  "611.to": 1,
  "graphox.us": 1,
  "devcdnaccesso.com": 2,
  "on-acorn.io": 2,
  "activetrail.biz": 1,
  "adobeaemcloud.com": 1,
  "dev.adobeaemcloud.com": 2,
  "hlx.live": 1,
  "adobeaemcloud.net": 1,
  "hlx.page": 1,
  "hlx3.page": 1,
  "adobeio-static.net": 1,
  "adobeioruntime.net": 1,
  "beep.pl": 1,
  "airkitapps.com": 1,
  "airkitapps-au.com": 1,
  "airkitapps.eu": 1,
  "aivencloud.com": 1,
  "akadns.net": 1,
  "akamai.net": 1,
  "akamai-staging.net": 1,
  "akamaiedge.net": 1,
  "akamaiedge-staging.net": 1,
  "akamaihd.net": 1,
  "akamaihd-staging.net": 1,
  "akamaiorigin.net": 1,
  "akamaiorigin-staging.net": 1,
  "akamaized.net": 1,
  "akamaized-staging.net": 1,
  "edgekey.net": 1,
  "edgekey-staging.net": 1,
  "edgesuite.net": 1,
  "edgesuite-staging.net": 1,
  "barsy.ca": 1,
  "compute.estate": 2,
  "alces.network": 2,
  "kasserver.com": 1,
  "altervista.org": 1,
  "alwaysdata.net": 1,
  "myamaze.net": 1,
  "execute-api.cn-north-1.amazonaws.com.cn": 1,
  "execute-api.cn-northwest-1.amazonaws.com.cn": 1,
  "execute-api.af-south-1.amazonaws.com": 1,
  "execute-api.ap-east-1.amazonaws.com": 1,
  "execute-api.ap-northeast-1.amazonaws.com": 1,
  "execute-api.ap-northeast-2.amazonaws.com": 1,
  "execute-api.ap-northeast-3.amazonaws.com": 1,
  "execute-api.ap-south-1.amazonaws.com": 1,
  "execute-api.ap-south-2.amazonaws.com": 1,
  "execute-api.ap-southeast-1.amazonaws.com": 1,
  "execute-api.ap-southeast-2.amazonaws.com": 1,
  "execute-api.ap-southeast-3.amazonaws.com": 1,
  "execute-api.ap-southeast-4.amazonaws.com": 1,
  "execute-api.ca-central-1.amazonaws.com": 1,
  "execute-api.eu-central-1.amazonaws.com": 1,
  "execute-api.eu-central-2.amazonaws.com": 1,
  "execute-api.eu-north-1.amazonaws.com": 1,
  "execute-api.eu-south-1.amazonaws.com": 1,
  "execute-api.eu-south-2.amazonaws.com": 1,
  "execute-api.eu-west-1.amazonaws.com": 1,
  "execute-api.eu-west-2.amazonaws.com": 1,
  "execute-api.eu-west-3.amazonaws.com": 1,
  "execute-api.il-central-1.amazonaws.com": 1,
  "execute-api.me-central-1.amazonaws.com": 1,
  "execute-api.me-south-1.amazonaws.com": 1,
  "execute-api.sa-east-1.amazonaws.com": 1,
  "execute-api.us-east-1.amazonaws.com": 1,
  "execute-api.us-east-2.amazonaws.com": 1,
  "execute-api.us-gov-east-1.amazonaws.com": 1,
  "execute-api.us-gov-west-1.amazonaws.com": 1,
  "execute-api.us-west-1.amazonaws.com": 1,
  "execute-api.us-west-2.amazonaws.com": 1,
  "cloudfront.net": 1,
  "auth.af-south-1.amazoncognito.com": 1,
  "auth.ap-northeast-1.amazoncognito.com": 1,
  "auth.ap-northeast-2.amazoncognito.com": 1,
  "auth.ap-northeast-3.amazoncognito.com": 1,
  "auth.ap-south-1.amazoncognito.com": 1,
  "auth.ap-southeast-1.amazoncognito.com": 1,
  "auth.ap-southeast-2.amazoncognito.com": 1,
  "auth.ap-southeast-3.amazoncognito.com": 1,
  "auth.ca-central-1.amazoncognito.com": 1,
  "auth.eu-central-1.amazoncognito.com": 1,
  "auth.eu-north-1.amazoncognito.com": 1,
  "auth.eu-south-1.amazoncognito.com": 1,
  "auth.eu-west-1.amazoncognito.com": 1,
  "auth.eu-west-2.amazoncognito.com": 1,
  "auth.eu-west-3.amazoncognito.com": 1,
  "auth.il-central-1.amazoncognito.com": 1,
  "auth.me-south-1.amazoncognito.com": 1,
  "auth.sa-east-1.amazoncognito.com": 1,
  "auth.us-east-1.amazoncognito.com": 1,
  "auth-fips.us-east-1.amazoncognito.com": 1,
  "auth.us-east-2.amazoncognito.com": 1,
  "auth-fips.us-east-2.amazoncognito.com": 1,
  "auth-fips.us-gov-west-1.amazoncognito.com": 1,
  "auth.us-west-1.amazoncognito.com": 1,
  "auth-fips.us-west-1.amazoncognito.com": 1,
  "auth.us-west-2.amazoncognito.com": 1,
  "auth-fips.us-west-2.amazoncognito.com": 1,
  "compute.amazonaws.com": 2,
  "compute-1.amazonaws.com": 2,
  "compute.amazonaws.com.cn": 2,
  "us-east-1.amazonaws.com": 1,
  "emrappui-prod.cn-north-1.amazonaws.com.cn": 1,
  "emrnotebooks-prod.cn-north-1.amazonaws.com.cn": 1,
  "emrstudio-prod.cn-north-1.amazonaws.com.cn": 1,
  "emrappui-prod.cn-northwest-1.amazonaws.com.cn": 1,
  "emrnotebooks-prod.cn-northwest-1.amazonaws.com.cn": 1,
  "emrstudio-prod.cn-northwest-1.amazonaws.com.cn": 1,
  "emrappui-prod.af-south-1.amazonaws.com": 1,
  "emrnotebooks-prod.af-south-1.amazonaws.com": 1,
  "emrstudio-prod.af-south-1.amazonaws.com": 1,
  "emrappui-prod.ap-east-1.amazonaws.com": 1,
  "emrnotebooks-prod.ap-east-1.amazonaws.com": 1,
  "emrstudio-prod.ap-east-1.amazonaws.com": 1,
  "emrappui-prod.ap-northeast-1.amazonaws.com": 1,
  "emrnotebooks-prod.ap-northeast-1.amazonaws.com": 1,
  "emrstudio-prod.ap-northeast-1.amazonaws.com": 1,
  "emrappui-prod.ap-northeast-2.amazonaws.com": 1,
  "emrnotebooks-prod.ap-northeast-2.amazonaws.com": 1,
  "emrstudio-prod.ap-northeast-2.amazonaws.com": 1,
  "emrappui-prod.ap-northeast-3.amazonaws.com": 1,
  "emrnotebooks-prod.ap-northeast-3.amazonaws.com": 1,
  "emrstudio-prod.ap-northeast-3.amazonaws.com": 1,
  "emrappui-prod.ap-south-1.amazonaws.com": 1,
  "emrnotebooks-prod.ap-south-1.amazonaws.com": 1,
  "emrstudio-prod.ap-south-1.amazonaws.com": 1,
  "emrappui-prod.ap-southeast-1.amazonaws.com": 1,
  "emrnotebooks-prod.ap-southeast-1.amazonaws.com": 1,
  "emrstudio-prod.ap-southeast-1.amazonaws.com": 1,
  "emrappui-prod.ap-southeast-2.amazonaws.com": 1,
  "emrnotebooks-prod.ap-southeast-2.amazonaws.com": 1,
  "emrstudio-prod.ap-southeast-2.amazonaws.com": 1,
  "emrappui-prod.ap-southeast-3.amazonaws.com": 1,
  "emrnotebooks-prod.ap-southeast-3.amazonaws.com": 1,
  "emrstudio-prod.ap-southeast-3.amazonaws.com": 1,
  "emrappui-prod.ca-central-1.amazonaws.com": 1,
  "emrnotebooks-prod.ca-central-1.amazonaws.com": 1,
  "emrstudio-prod.ca-central-1.amazonaws.com": 1,
  "emrappui-prod.eu-central-1.amazonaws.com": 1,
  "emrnotebooks-prod.eu-central-1.amazonaws.com": 1,
  "emrstudio-prod.eu-central-1.amazonaws.com": 1,
  "emrappui-prod.eu-north-1.amazonaws.com": 1,
  "emrnotebooks-prod.eu-north-1.amazonaws.com": 1,
  "emrstudio-prod.eu-north-1.amazonaws.com": 1,
  "emrappui-prod.eu-south-1.amazonaws.com": 1,
  "emrnotebooks-prod.eu-south-1.amazonaws.com": 1,
  "emrstudio-prod.eu-south-1.amazonaws.com": 1,
  "emrappui-prod.eu-west-1.amazonaws.com": 1,
  "emrnotebooks-prod.eu-west-1.amazonaws.com": 1,
  "emrstudio-prod.eu-west-1.amazonaws.com": 1,
  "emrappui-prod.eu-west-2.amazonaws.com": 1,
  "emrnotebooks-prod.eu-west-2.amazonaws.com": 1,
  "emrstudio-prod.eu-west-2.amazonaws.com": 1,
  "emrappui-prod.eu-west-3.amazonaws.com": 1,
  "emrnotebooks-prod.eu-west-3.amazonaws.com": 1,
  "emrstudio-prod.eu-west-3.amazonaws.com": 1,
  "emrappui-prod.me-central-1.amazonaws.com": 1,
  "emrnotebooks-prod.me-central-1.amazonaws.com": 1,
  "emrstudio-prod.me-central-1.amazonaws.com": 1,
  "emrappui-prod.me-south-1.amazonaws.com": 1,
  "emrnotebooks-prod.me-south-1.amazonaws.com": 1,
  "emrstudio-prod.me-south-1.amazonaws.com": 1,
  "emrappui-prod.sa-east-1.amazonaws.com": 1,
  "emrnotebooks-prod.sa-east-1.amazonaws.com": 1,
  "emrstudio-prod.sa-east-1.amazonaws.com": 1,
  "emrappui-prod.us-east-1.amazonaws.com": 1,
  "emrnotebooks-prod.us-east-1.amazonaws.com": 1,
  "emrstudio-prod.us-east-1.amazonaws.com": 1,
  "emrappui-prod.us-east-2.amazonaws.com": 1,
  "emrnotebooks-prod.us-east-2.amazonaws.com": 1,
  "emrstudio-prod.us-east-2.amazonaws.com": 1,
  "emrappui-prod.us-gov-east-1.amazonaws.com": 1,
  "emrnotebooks-prod.us-gov-east-1.amazonaws.com": 1,
  "emrstudio-prod.us-gov-east-1.amazonaws.com": 1,
  "emrappui-prod.us-gov-west-1.amazonaws.com": 1,
  "emrnotebooks-prod.us-gov-west-1.amazonaws.com": 1,
  "emrstudio-prod.us-gov-west-1.amazonaws.com": 1,
  "emrappui-prod.us-west-1.amazonaws.com": 1,
  "emrnotebooks-prod.us-west-1.amazonaws.com": 1,
  "emrstudio-prod.us-west-1.amazonaws.com": 1,
  "emrappui-prod.us-west-2.amazonaws.com": 1,
  "emrnotebooks-prod.us-west-2.amazonaws.com": 1,
  "emrstudio-prod.us-west-2.amazonaws.com": 1,
  "cn-north-1.airflow.amazonaws.com.cn": 2,
  "cn-northwest-1.airflow.amazonaws.com.cn": 2,
  "ap-northeast-1.airflow.amazonaws.com": 2,
  "ap-northeast-2.airflow.amazonaws.com": 2,
  "ap-south-1.airflow.amazonaws.com": 2,
  "ap-southeast-1.airflow.amazonaws.com": 2,
  "ap-southeast-2.airflow.amazonaws.com": 2,
  "ca-central-1.airflow.amazonaws.com": 2,
  "eu-central-1.airflow.amazonaws.com": 2,
  "eu-north-1.airflow.amazonaws.com": 2,
  "eu-west-1.airflow.amazonaws.com": 2,
  "eu-west-2.airflow.amazonaws.com": 2,
  "eu-west-3.airflow.amazonaws.com": 2,
  "sa-east-1.airflow.amazonaws.com": 2,
  "us-east-1.airflow.amazonaws.com": 2,
  "us-east-2.airflow.amazonaws.com": 2,
  "us-west-2.airflow.amazonaws.com": 2,
  "s3.dualstack.cn-north-1.amazonaws.com.cn": 1,
  "s3-accesspoint.dualstack.cn-north-1.amazonaws.com.cn": 1,
  "s3-website.dualstack.cn-north-1.amazonaws.com.cn": 1,
  "s3.cn-north-1.amazonaws.com.cn": 1,
  "s3-accesspoint.cn-north-1.amazonaws.com.cn": 1,
  "s3-deprecated.cn-north-1.amazonaws.com.cn": 1,
  "s3-object-lambda.cn-north-1.amazonaws.com.cn": 1,
  "s3-website.cn-north-1.amazonaws.com.cn": 1,
  "s3.dualstack.cn-northwest-1.amazonaws.com.cn": 1,
  "s3-accesspoint.dualstack.cn-northwest-1.amazonaws.com.cn": 1,
  "s3.cn-northwest-1.amazonaws.com.cn": 1,
  "s3-accesspoint.cn-northwest-1.amazonaws.com.cn": 1,
  "s3-object-lambda.cn-northwest-1.amazonaws.com.cn": 1,
  "s3-website.cn-northwest-1.amazonaws.com.cn": 1,
  "s3.dualstack.af-south-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.af-south-1.amazonaws.com": 1,
  "s3-website.dualstack.af-south-1.amazonaws.com": 1,
  "s3.af-south-1.amazonaws.com": 1,
  "s3-accesspoint.af-south-1.amazonaws.com": 1,
  "s3-object-lambda.af-south-1.amazonaws.com": 1,
  "s3-website.af-south-1.amazonaws.com": 1,
  "s3.dualstack.ap-east-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.ap-east-1.amazonaws.com": 1,
  "s3.ap-east-1.amazonaws.com": 1,
  "s3-accesspoint.ap-east-1.amazonaws.com": 1,
  "s3-object-lambda.ap-east-1.amazonaws.com": 1,
  "s3-website.ap-east-1.amazonaws.com": 1,
  "s3.dualstack.ap-northeast-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.ap-northeast-1.amazonaws.com": 1,
  "s3-website.dualstack.ap-northeast-1.amazonaws.com": 1,
  "s3.ap-northeast-1.amazonaws.com": 1,
  "s3-accesspoint.ap-northeast-1.amazonaws.com": 1,
  "s3-object-lambda.ap-northeast-1.amazonaws.com": 1,
  "s3-website.ap-northeast-1.amazonaws.com": 1,
  "s3.dualstack.ap-northeast-2.amazonaws.com": 1,
  "s3-accesspoint.dualstack.ap-northeast-2.amazonaws.com": 1,
  "s3-website.dualstack.ap-northeast-2.amazonaws.com": 1,
  "s3.ap-northeast-2.amazonaws.com": 1,
  "s3-accesspoint.ap-northeast-2.amazonaws.com": 1,
  "s3-object-lambda.ap-northeast-2.amazonaws.com": 1,
  "s3-website.ap-northeast-2.amazonaws.com": 1,
  "s3.dualstack.ap-northeast-3.amazonaws.com": 1,
  "s3-accesspoint.dualstack.ap-northeast-3.amazonaws.com": 1,
  "s3-website.dualstack.ap-northeast-3.amazonaws.com": 1,
  "s3.ap-northeast-3.amazonaws.com": 1,
  "s3-accesspoint.ap-northeast-3.amazonaws.com": 1,
  "s3-object-lambda.ap-northeast-3.amazonaws.com": 1,
  "s3-website.ap-northeast-3.amazonaws.com": 1,
  "s3.dualstack.ap-south-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.ap-south-1.amazonaws.com": 1,
  "s3-website.dualstack.ap-south-1.amazonaws.com": 1,
  "s3.ap-south-1.amazonaws.com": 1,
  "s3-accesspoint.ap-south-1.amazonaws.com": 1,
  "s3-object-lambda.ap-south-1.amazonaws.com": 1,
  "s3-website.ap-south-1.amazonaws.com": 1,
  "s3.dualstack.ap-south-2.amazonaws.com": 1,
  "s3-accesspoint.dualstack.ap-south-2.amazonaws.com": 1,
  "s3.ap-south-2.amazonaws.com": 1,
  "s3-accesspoint.ap-south-2.amazonaws.com": 1,
  "s3-object-lambda.ap-south-2.amazonaws.com": 1,
  "s3-website.ap-south-2.amazonaws.com": 1,
  "s3.dualstack.ap-southeast-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.ap-southeast-1.amazonaws.com": 1,
  "s3-website.dualstack.ap-southeast-1.amazonaws.com": 1,
  "s3.ap-southeast-1.amazonaws.com": 1,
  "s3-accesspoint.ap-southeast-1.amazonaws.com": 1,
  "s3-object-lambda.ap-southeast-1.amazonaws.com": 1,
  "s3-website.ap-southeast-1.amazonaws.com": 1,
  "s3.dualstack.ap-southeast-2.amazonaws.com": 1,
  "s3-accesspoint.dualstack.ap-southeast-2.amazonaws.com": 1,
  "s3-website.dualstack.ap-southeast-2.amazonaws.com": 1,
  "s3.ap-southeast-2.amazonaws.com": 1,
  "s3-accesspoint.ap-southeast-2.amazonaws.com": 1,
  "s3-object-lambda.ap-southeast-2.amazonaws.com": 1,
  "s3-website.ap-southeast-2.amazonaws.com": 1,
  "s3.dualstack.ap-southeast-3.amazonaws.com": 1,
  "s3-accesspoint.dualstack.ap-southeast-3.amazonaws.com": 1,
  "s3.ap-southeast-3.amazonaws.com": 1,
  "s3-accesspoint.ap-southeast-3.amazonaws.com": 1,
  "s3-object-lambda.ap-southeast-3.amazonaws.com": 1,
  "s3-website.ap-southeast-3.amazonaws.com": 1,
  "s3.dualstack.ap-southeast-4.amazonaws.com": 1,
  "s3-accesspoint.dualstack.ap-southeast-4.amazonaws.com": 1,
  "s3.ap-southeast-4.amazonaws.com": 1,
  "s3-accesspoint.ap-southeast-4.amazonaws.com": 1,
  "s3-object-lambda.ap-southeast-4.amazonaws.com": 1,
  "s3-website.ap-southeast-4.amazonaws.com": 1,
  "s3.dualstack.ca-central-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.ca-central-1.amazonaws.com": 1,
  "s3-accesspoint-fips.dualstack.ca-central-1.amazonaws.com": 1,
  "s3-fips.dualstack.ca-central-1.amazonaws.com": 1,
  "s3-website.dualstack.ca-central-1.amazonaws.com": 1,
  "s3.ca-central-1.amazonaws.com": 1,
  "s3-accesspoint.ca-central-1.amazonaws.com": 1,
  "s3-accesspoint-fips.ca-central-1.amazonaws.com": 1,
  "s3-fips.ca-central-1.amazonaws.com": 1,
  "s3-object-lambda.ca-central-1.amazonaws.com": 1,
  "s3-website.ca-central-1.amazonaws.com": 1,
  "s3.dualstack.eu-central-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.eu-central-1.amazonaws.com": 1,
  "s3-website.dualstack.eu-central-1.amazonaws.com": 1,
  "s3.eu-central-1.amazonaws.com": 1,
  "s3-accesspoint.eu-central-1.amazonaws.com": 1,
  "s3-object-lambda.eu-central-1.amazonaws.com": 1,
  "s3-website.eu-central-1.amazonaws.com": 1,
  "s3.dualstack.eu-central-2.amazonaws.com": 1,
  "s3-accesspoint.dualstack.eu-central-2.amazonaws.com": 1,
  "s3.eu-central-2.amazonaws.com": 1,
  "s3-accesspoint.eu-central-2.amazonaws.com": 1,
  "s3-object-lambda.eu-central-2.amazonaws.com": 1,
  "s3-website.eu-central-2.amazonaws.com": 1,
  "s3.dualstack.eu-north-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.eu-north-1.amazonaws.com": 1,
  "s3.eu-north-1.amazonaws.com": 1,
  "s3-accesspoint.eu-north-1.amazonaws.com": 1,
  "s3-object-lambda.eu-north-1.amazonaws.com": 1,
  "s3-website.eu-north-1.amazonaws.com": 1,
  "s3.dualstack.eu-south-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.eu-south-1.amazonaws.com": 1,
  "s3-website.dualstack.eu-south-1.amazonaws.com": 1,
  "s3.eu-south-1.amazonaws.com": 1,
  "s3-accesspoint.eu-south-1.amazonaws.com": 1,
  "s3-object-lambda.eu-south-1.amazonaws.com": 1,
  "s3-website.eu-south-1.amazonaws.com": 1,
  "s3.dualstack.eu-south-2.amazonaws.com": 1,
  "s3-accesspoint.dualstack.eu-south-2.amazonaws.com": 1,
  "s3.eu-south-2.amazonaws.com": 1,
  "s3-accesspoint.eu-south-2.amazonaws.com": 1,
  "s3-object-lambda.eu-south-2.amazonaws.com": 1,
  "s3-website.eu-south-2.amazonaws.com": 1,
  "s3.dualstack.eu-west-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.eu-west-1.amazonaws.com": 1,
  "s3-website.dualstack.eu-west-1.amazonaws.com": 1,
  "s3.eu-west-1.amazonaws.com": 1,
  "s3-accesspoint.eu-west-1.amazonaws.com": 1,
  "s3-deprecated.eu-west-1.amazonaws.com": 1,
  "s3-object-lambda.eu-west-1.amazonaws.com": 1,
  "s3-website.eu-west-1.amazonaws.com": 1,
  "s3.dualstack.eu-west-2.amazonaws.com": 1,
  "s3-accesspoint.dualstack.eu-west-2.amazonaws.com": 1,
  "s3.eu-west-2.amazonaws.com": 1,
  "s3-accesspoint.eu-west-2.amazonaws.com": 1,
  "s3-object-lambda.eu-west-2.amazonaws.com": 1,
  "s3-website.eu-west-2.amazonaws.com": 1,
  "s3.dualstack.eu-west-3.amazonaws.com": 1,
  "s3-accesspoint.dualstack.eu-west-3.amazonaws.com": 1,
  "s3-website.dualstack.eu-west-3.amazonaws.com": 1,
  "s3.eu-west-3.amazonaws.com": 1,
  "s3-accesspoint.eu-west-3.amazonaws.com": 1,
  "s3-object-lambda.eu-west-3.amazonaws.com": 1,
  "s3-website.eu-west-3.amazonaws.com": 1,
  "s3.dualstack.il-central-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.il-central-1.amazonaws.com": 1,
  "s3.il-central-1.amazonaws.com": 1,
  "s3-accesspoint.il-central-1.amazonaws.com": 1,
  "s3-object-lambda.il-central-1.amazonaws.com": 1,
  "s3-website.il-central-1.amazonaws.com": 1,
  "s3.dualstack.me-central-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.me-central-1.amazonaws.com": 1,
  "s3.me-central-1.amazonaws.com": 1,
  "s3-accesspoint.me-central-1.amazonaws.com": 1,
  "s3-object-lambda.me-central-1.amazonaws.com": 1,
  "s3-website.me-central-1.amazonaws.com": 1,
  "s3.dualstack.me-south-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.me-south-1.amazonaws.com": 1,
  "s3.me-south-1.amazonaws.com": 1,
  "s3-accesspoint.me-south-1.amazonaws.com": 1,
  "s3-object-lambda.me-south-1.amazonaws.com": 1,
  "s3-website.me-south-1.amazonaws.com": 1,
  "s3.amazonaws.com": 1,
  "s3-1.amazonaws.com": 1,
  "s3-ap-east-1.amazonaws.com": 1,
  "s3-ap-northeast-1.amazonaws.com": 1,
  "s3-ap-northeast-2.amazonaws.com": 1,
  "s3-ap-northeast-3.amazonaws.com": 1,
  "s3-ap-south-1.amazonaws.com": 1,
  "s3-ap-southeast-1.amazonaws.com": 1,
  "s3-ap-southeast-2.amazonaws.com": 1,
  "s3-ca-central-1.amazonaws.com": 1,
  "s3-eu-central-1.amazonaws.com": 1,
  "s3-eu-north-1.amazonaws.com": 1,
  "s3-eu-west-1.amazonaws.com": 1,
  "s3-eu-west-2.amazonaws.com": 1,
  "s3-eu-west-3.amazonaws.com": 1,
  "s3-external-1.amazonaws.com": 1,
  "s3-fips-us-gov-east-1.amazonaws.com": 1,
  "s3-fips-us-gov-west-1.amazonaws.com": 1,
  "mrap.accesspoint.s3-global.amazonaws.com": 1,
  "s3-me-south-1.amazonaws.com": 1,
  "s3-sa-east-1.amazonaws.com": 1,
  "s3-us-east-2.amazonaws.com": 1,
  "s3-us-gov-east-1.amazonaws.com": 1,
  "s3-us-gov-west-1.amazonaws.com": 1,
  "s3-us-west-1.amazonaws.com": 1,
  "s3-us-west-2.amazonaws.com": 1,
  "s3-website-ap-northeast-1.amazonaws.com": 1,
  "s3-website-ap-southeast-1.amazonaws.com": 1,
  "s3-website-ap-southeast-2.amazonaws.com": 1,
  "s3-website-eu-west-1.amazonaws.com": 1,
  "s3-website-sa-east-1.amazonaws.com": 1,
  "s3-website-us-east-1.amazonaws.com": 1,
  "s3-website-us-gov-west-1.amazonaws.com": 1,
  "s3-website-us-west-1.amazonaws.com": 1,
  "s3-website-us-west-2.amazonaws.com": 1,
  "s3.dualstack.sa-east-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.sa-east-1.amazonaws.com": 1,
  "s3-website.dualstack.sa-east-1.amazonaws.com": 1,
  "s3.sa-east-1.amazonaws.com": 1,
  "s3-accesspoint.sa-east-1.amazonaws.com": 1,
  "s3-object-lambda.sa-east-1.amazonaws.com": 1,
  "s3-website.sa-east-1.amazonaws.com": 1,
  "s3.dualstack.us-east-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.us-east-1.amazonaws.com": 1,
  "s3-accesspoint-fips.dualstack.us-east-1.amazonaws.com": 1,
  "s3-fips.dualstack.us-east-1.amazonaws.com": 1,
  "s3-website.dualstack.us-east-1.amazonaws.com": 1,
  "s3.us-east-1.amazonaws.com": 1,
  "s3-accesspoint.us-east-1.amazonaws.com": 1,
  "s3-accesspoint-fips.us-east-1.amazonaws.com": 1,
  "s3-deprecated.us-east-1.amazonaws.com": 1,
  "s3-fips.us-east-1.amazonaws.com": 1,
  "s3-object-lambda.us-east-1.amazonaws.com": 1,
  "s3-website.us-east-1.amazonaws.com": 1,
  "s3.dualstack.us-east-2.amazonaws.com": 1,
  "s3-accesspoint.dualstack.us-east-2.amazonaws.com": 1,
  "s3-accesspoint-fips.dualstack.us-east-2.amazonaws.com": 1,
  "s3-fips.dualstack.us-east-2.amazonaws.com": 1,
  "s3.us-east-2.amazonaws.com": 1,
  "s3-accesspoint.us-east-2.amazonaws.com": 1,
  "s3-accesspoint-fips.us-east-2.amazonaws.com": 1,
  "s3-deprecated.us-east-2.amazonaws.com": 1,
  "s3-fips.us-east-2.amazonaws.com": 1,
  "s3-object-lambda.us-east-2.amazonaws.com": 1,
  "s3-website.us-east-2.amazonaws.com": 1,
  "s3.dualstack.us-gov-east-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.us-gov-east-1.amazonaws.com": 1,
  "s3-accesspoint-fips.dualstack.us-gov-east-1.amazonaws.com": 1,
  "s3-fips.dualstack.us-gov-east-1.amazonaws.com": 1,
  "s3.us-gov-east-1.amazonaws.com": 1,
  "s3-accesspoint.us-gov-east-1.amazonaws.com": 1,
  "s3-accesspoint-fips.us-gov-east-1.amazonaws.com": 1,
  "s3-fips.us-gov-east-1.amazonaws.com": 1,
  "s3-object-lambda.us-gov-east-1.amazonaws.com": 1,
  "s3-website.us-gov-east-1.amazonaws.com": 1,
  "s3.dualstack.us-gov-west-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.us-gov-west-1.amazonaws.com": 1,
  "s3-accesspoint-fips.dualstack.us-gov-west-1.amazonaws.com": 1,
  "s3-fips.dualstack.us-gov-west-1.amazonaws.com": 1,
  "s3.us-gov-west-1.amazonaws.com": 1,
  "s3-accesspoint.us-gov-west-1.amazonaws.com": 1,
  "s3-accesspoint-fips.us-gov-west-1.amazonaws.com": 1,
  "s3-fips.us-gov-west-1.amazonaws.com": 1,
  "s3-object-lambda.us-gov-west-1.amazonaws.com": 1,
  "s3-website.us-gov-west-1.amazonaws.com": 1,
  "s3.dualstack.us-west-1.amazonaws.com": 1,
  "s3-accesspoint.dualstack.us-west-1.amazonaws.com": 1,
  "s3-accesspoint-fips.dualstack.us-west-1.amazonaws.com": 1,
  "s3-fips.dualstack.us-west-1.amazonaws.com": 1,
  "s3-website.dualstack.us-west-1.amazonaws.com": 1,
  "s3.us-west-1.amazonaws.com": 1,
  "s3-accesspoint.us-west-1.amazonaws.com": 1,
  "s3-accesspoint-fips.us-west-1.amazonaws.com": 1,
  "s3-fips.us-west-1.amazonaws.com": 1,
  "s3-object-lambda.us-west-1.amazonaws.com": 1,
  "s3-website.us-west-1.amazonaws.com": 1,
  "s3.dualstack.us-west-2.amazonaws.com": 1,
  "s3-accesspoint.dualstack.us-west-2.amazonaws.com": 1,
  "s3-accesspoint-fips.dualstack.us-west-2.amazonaws.com": 1,
  "s3-fips.dualstack.us-west-2.amazonaws.com": 1,
  "s3-website.dualstack.us-west-2.amazonaws.com": 1,
  "s3.us-west-2.amazonaws.com": 1,
  "s3-accesspoint.us-west-2.amazonaws.com": 1,
  "s3-accesspoint-fips.us-west-2.amazonaws.com": 1,
  "s3-deprecated.us-west-2.amazonaws.com": 1,
  "s3-fips.us-west-2.amazonaws.com": 1,
  "s3-object-lambda.us-west-2.amazonaws.com": 1,
  "s3-website.us-west-2.amazonaws.com": 1,
  "notebook.af-south-1.sagemaker.aws": 1,
  "notebook.ap-east-1.sagemaker.aws": 1,
  "notebook.ap-northeast-1.sagemaker.aws": 1,
  "notebook.ap-northeast-2.sagemaker.aws": 1,
  "notebook.ap-northeast-3.sagemaker.aws": 1,
  "notebook.ap-south-1.sagemaker.aws": 1,
  "notebook.ap-south-2.sagemaker.aws": 1,
  "notebook.ap-southeast-1.sagemaker.aws": 1,
  "notebook.ap-southeast-2.sagemaker.aws": 1,
  "notebook.ap-southeast-3.sagemaker.aws": 1,
  "notebook.ap-southeast-4.sagemaker.aws": 1,
  "notebook.ca-central-1.sagemaker.aws": 1,
  "notebook.eu-central-1.sagemaker.aws": 1,
  "notebook.eu-central-2.sagemaker.aws": 1,
  "notebook.eu-north-1.sagemaker.aws": 1,
  "notebook.eu-south-1.sagemaker.aws": 1,
  "notebook.eu-south-2.sagemaker.aws": 1,
  "notebook.eu-west-1.sagemaker.aws": 1,
  "notebook.eu-west-2.sagemaker.aws": 1,
  "notebook.eu-west-3.sagemaker.aws": 1,
  "notebook.il-central-1.sagemaker.aws": 1,
  "notebook.me-central-1.sagemaker.aws": 1,
  "notebook.me-south-1.sagemaker.aws": 1,
  "notebook.sa-east-1.sagemaker.aws": 1,
  "notebook.us-east-1.sagemaker.aws": 1,
  "notebook-fips.us-east-1.sagemaker.aws": 1,
  "notebook.us-east-2.sagemaker.aws": 1,
  "notebook-fips.us-east-2.sagemaker.aws": 1,
  "notebook.us-gov-east-1.sagemaker.aws": 1,
  "notebook-fips.us-gov-east-1.sagemaker.aws": 1,
  "notebook.us-gov-west-1.sagemaker.aws": 1,
  "notebook-fips.us-gov-west-1.sagemaker.aws": 1,
  "notebook.us-west-1.sagemaker.aws": 1,
  "notebook.us-west-2.sagemaker.aws": 1,
  "notebook-fips.us-west-2.sagemaker.aws": 1,
  "notebook.cn-north-1.sagemaker.com.cn": 1,
  "notebook.cn-northwest-1.sagemaker.com.cn": 1,
  "studio.af-south-1.sagemaker.aws": 1,
  "studio.ap-east-1.sagemaker.aws": 1,
  "studio.ap-northeast-1.sagemaker.aws": 1,
  "studio.ap-northeast-2.sagemaker.aws": 1,
  "studio.ap-northeast-3.sagemaker.aws": 1,
  "studio.ap-south-1.sagemaker.aws": 1,
  "studio.ap-southeast-1.sagemaker.aws": 1,
  "studio.ap-southeast-2.sagemaker.aws": 1,
  "studio.ap-southeast-3.sagemaker.aws": 1,
  "studio.ca-central-1.sagemaker.aws": 1,
  "studio.eu-central-1.sagemaker.aws": 1,
  "studio.eu-north-1.sagemaker.aws": 1,
  "studio.eu-south-1.sagemaker.aws": 1,
  "studio.eu-west-1.sagemaker.aws": 1,
  "studio.eu-west-2.sagemaker.aws": 1,
  "studio.eu-west-3.sagemaker.aws": 1,
  "studio.il-central-1.sagemaker.aws": 1,
  "studio.me-central-1.sagemaker.aws": 1,
  "studio.me-south-1.sagemaker.aws": 1,
  "studio.sa-east-1.sagemaker.aws": 1,
  "studio.us-east-1.sagemaker.aws": 1,
  "studio.us-east-2.sagemaker.aws": 1,
  "studio.us-gov-east-1.sagemaker.aws": 1,
  "studio-fips.us-gov-east-1.sagemaker.aws": 1,
  "studio.us-gov-west-1.sagemaker.aws": 1,
  "studio-fips.us-gov-west-1.sagemaker.aws": 1,
  "studio.us-west-1.sagemaker.aws": 1,
  "studio.us-west-2.sagemaker.aws": 1,
  "studio.cn-north-1.sagemaker.com.cn": 1,
  "studio.cn-northwest-1.sagemaker.com.cn": 1,
  "analytics-gateway.ap-northeast-1.amazonaws.com": 1,
  "analytics-gateway.ap-northeast-2.amazonaws.com": 1,
  "analytics-gateway.ap-south-1.amazonaws.com": 1,
  "analytics-gateway.ap-southeast-1.amazonaws.com": 1,
  "analytics-gateway.ap-southeast-2.amazonaws.com": 1,
  "analytics-gateway.eu-central-1.amazonaws.com": 1,
  "analytics-gateway.eu-west-1.amazonaws.com": 1,
  "analytics-gateway.us-east-1.amazonaws.com": 1,
  "analytics-gateway.us-east-2.amazonaws.com": 1,
  "analytics-gateway.us-west-2.amazonaws.com": 1,
  "amplifyapp.com": 2,
  "awsapprunner.com": 2,
  "webview-assets.aws-cloud9.af-south-1.amazonaws.com": 1,
  "vfs.cloud9.af-south-1.amazonaws.com": 1,
  "webview-assets.cloud9.af-south-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.ap-east-1.amazonaws.com": 1,
  "vfs.cloud9.ap-east-1.amazonaws.com": 1,
  "webview-assets.cloud9.ap-east-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.ap-northeast-1.amazonaws.com": 1,
  "vfs.cloud9.ap-northeast-1.amazonaws.com": 1,
  "webview-assets.cloud9.ap-northeast-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.ap-northeast-2.amazonaws.com": 1,
  "vfs.cloud9.ap-northeast-2.amazonaws.com": 1,
  "webview-assets.cloud9.ap-northeast-2.amazonaws.com": 1,
  "webview-assets.aws-cloud9.ap-northeast-3.amazonaws.com": 1,
  "vfs.cloud9.ap-northeast-3.amazonaws.com": 1,
  "webview-assets.cloud9.ap-northeast-3.amazonaws.com": 1,
  "webview-assets.aws-cloud9.ap-south-1.amazonaws.com": 1,
  "vfs.cloud9.ap-south-1.amazonaws.com": 1,
  "webview-assets.cloud9.ap-south-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.ap-southeast-1.amazonaws.com": 1,
  "vfs.cloud9.ap-southeast-1.amazonaws.com": 1,
  "webview-assets.cloud9.ap-southeast-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.ap-southeast-2.amazonaws.com": 1,
  "vfs.cloud9.ap-southeast-2.amazonaws.com": 1,
  "webview-assets.cloud9.ap-southeast-2.amazonaws.com": 1,
  "webview-assets.aws-cloud9.ca-central-1.amazonaws.com": 1,
  "vfs.cloud9.ca-central-1.amazonaws.com": 1,
  "webview-assets.cloud9.ca-central-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.eu-central-1.amazonaws.com": 1,
  "vfs.cloud9.eu-central-1.amazonaws.com": 1,
  "webview-assets.cloud9.eu-central-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.eu-north-1.amazonaws.com": 1,
  "vfs.cloud9.eu-north-1.amazonaws.com": 1,
  "webview-assets.cloud9.eu-north-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.eu-south-1.amazonaws.com": 1,
  "vfs.cloud9.eu-south-1.amazonaws.com": 1,
  "webview-assets.cloud9.eu-south-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.eu-west-1.amazonaws.com": 1,
  "vfs.cloud9.eu-west-1.amazonaws.com": 1,
  "webview-assets.cloud9.eu-west-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.eu-west-2.amazonaws.com": 1,
  "vfs.cloud9.eu-west-2.amazonaws.com": 1,
  "webview-assets.cloud9.eu-west-2.amazonaws.com": 1,
  "webview-assets.aws-cloud9.eu-west-3.amazonaws.com": 1,
  "vfs.cloud9.eu-west-3.amazonaws.com": 1,
  "webview-assets.cloud9.eu-west-3.amazonaws.com": 1,
  "webview-assets.aws-cloud9.me-south-1.amazonaws.com": 1,
  "vfs.cloud9.me-south-1.amazonaws.com": 1,
  "webview-assets.cloud9.me-south-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.sa-east-1.amazonaws.com": 1,
  "vfs.cloud9.sa-east-1.amazonaws.com": 1,
  "webview-assets.cloud9.sa-east-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.us-east-1.amazonaws.com": 1,
  "vfs.cloud9.us-east-1.amazonaws.com": 1,
  "webview-assets.cloud9.us-east-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.us-east-2.amazonaws.com": 1,
  "vfs.cloud9.us-east-2.amazonaws.com": 1,
  "webview-assets.cloud9.us-east-2.amazonaws.com": 1,
  "webview-assets.aws-cloud9.us-west-1.amazonaws.com": 1,
  "vfs.cloud9.us-west-1.amazonaws.com": 1,
  "webview-assets.cloud9.us-west-1.amazonaws.com": 1,
  "webview-assets.aws-cloud9.us-west-2.amazonaws.com": 1,
  "vfs.cloud9.us-west-2.amazonaws.com": 1,
  "webview-assets.cloud9.us-west-2.amazonaws.com": 1,
  "cn-north-1.eb.amazonaws.com.cn": 1,
  "cn-northwest-1.eb.amazonaws.com.cn": 1,
  "elasticbeanstalk.com": 1,
  "af-south-1.elasticbeanstalk.com": 1,
  "ap-east-1.elasticbeanstalk.com": 1,
  "ap-northeast-1.elasticbeanstalk.com": 1,
  "ap-northeast-2.elasticbeanstalk.com": 1,
  "ap-northeast-3.elasticbeanstalk.com": 1,
  "ap-south-1.elasticbeanstalk.com": 1,
  "ap-southeast-1.elasticbeanstalk.com": 1,
  "ap-southeast-2.elasticbeanstalk.com": 1,
  "ap-southeast-3.elasticbeanstalk.com": 1,
  "ca-central-1.elasticbeanstalk.com": 1,
  "eu-central-1.elasticbeanstalk.com": 1,
  "eu-north-1.elasticbeanstalk.com": 1,
  "eu-south-1.elasticbeanstalk.com": 1,
  "eu-west-1.elasticbeanstalk.com": 1,
  "eu-west-2.elasticbeanstalk.com": 1,
  "eu-west-3.elasticbeanstalk.com": 1,
  "il-central-1.elasticbeanstalk.com": 1,
  "me-south-1.elasticbeanstalk.com": 1,
  "sa-east-1.elasticbeanstalk.com": 1,
  "us-east-1.elasticbeanstalk.com": 1,
  "us-east-2.elasticbeanstalk.com": 1,
  "us-gov-east-1.elasticbeanstalk.com": 1,
  "us-gov-west-1.elasticbeanstalk.com": 1,
  "us-west-1.elasticbeanstalk.com": 1,
  "us-west-2.elasticbeanstalk.com": 1,
  "elb.amazonaws.com.cn": 2,
  "elb.amazonaws.com": 2,
  "awsglobalaccelerator.com": 1,
  "eero.online": 1,
  "eero-stage.online": 1,
  "t3l3p0rt.net": 1,
  "tele.amune.org": 1,
  "apigee.io": 1,
  "siiites.com": 1,
  "appspacehosted.com": 1,
  "appspaceusercontent.com": 1,
  "appudo.net": 1,
  "on-aptible.com": 1,
  "user.aseinet.ne.jp": 1,
  "gv.vc": 1,
  "d.gv.vc": 1,
  "user.party.eus": 1,
  "pimienta.org": 1,
  "poivron.org": 1,
  "potager.org": 1,
  "sweetpepper.org": 1,
  "myasustor.com": 1,
  "cdn.prod.atlassian-dev.net": 1,
  "translated.page": 1,
  "autocode.dev": 1,
  "myfritz.net": 1,
  "onavstack.net": 1,
  "awdev.ca": 2,
  "advisor.ws": 2,
  "ecommerce-shop.pl": 1,
  "b-data.io": 1,
  "backplaneapp.io": 1,
  "balena-devices.com": 1,
  "rs.ba": 1,
  "banzai.cloud": 2,
  "app.banzaicloud.io": 1,
  "backyards.banzaicloud.io": 2,
  "base.ec": 1,
  "official.ec": 1,
  "buyshop.jp": 1,
  "fashionstore.jp": 1,
  "handcrafted.jp": 1,
  "kawaiishop.jp": 1,
  "supersale.jp": 1,
  "theshop.jp": 1,
  "shopselect.net": 1,
  "base.shop": 1,
  "beagleboard.io": 1,
  "beget.app": 2,
  "betainabox.com": 1,
  "bnr.la": 1,
  "bitbucket.io": 1,
  "blackbaudcdn.net": 1,
  "of.je": 1,
  "bluebite.io": 1,
  "boomla.net": 1,
  "boutir.com": 1,
  "boxfuse.io": 1,
  "square7.ch": 1,
  "bplaced.com": 1,
  "bplaced.de": 1,
  "square7.de": 1,
  "bplaced.net": 1,
  "square7.net": 1,
  "shop.brendly.rs": 1,
  "browsersafetymark.io": 1,
  "uk0.bigv.io": 1,
  "dh.bytemark.co.uk": 1,
  "vm.bytemark.co.uk": 1,
  "cafjs.com": 1,
  "mycd.eu": 1,
  "canva-apps.cn": 1,
  "canva-apps.com": 1,
  "drr.ac": 1,
  "uwu.ai": 1,
  "carrd.co": 1,
  "crd.co": 1,
  "ju.mp": 1,
  "ae.org": 1,
  "br.com": 1,
  "cn.com": 1,
  "com.de": 1,
  "com.se": 1,
  "de.com": 1,
  "eu.com": 1,
  "gb.net": 1,
  "hu.net": 1,
  "jp.net": 1,
  "jpn.com": 1,
  "mex.com": 1,
  "ru.com": 1,
  "sa.com": 1,
  "se.net": 1,
  "uk.com": 1,
  "uk.net": 1,
  "us.com": 1,
  "za.bz": 1,
  "za.com": 1,
  "ar.com": 1,
  "hu.com": 1,
  "kr.com": 1,
  "no.com": 1,
  "qc.com": 1,
  "uy.com": 1,
  "africa.com": 1,
  "gr.com": 1,
  "in.net": 1,
  "web.in": 1,
  "us.org": 1,
  "co.com": 1,
  "aus.basketball": 1,
  "nz.basketball": 1,
  "radio.am": 1,
  "radio.fm": 1,
  "c.la": 1,
  "certmgr.org": 1,
  "cx.ua": 1,
  "discourse.group": 1,
  "discourse.team": 1,
  "cleverapps.io": 1,
  "clerk.app": 1,
  "clerkstage.app": 1,
  "lcl.dev": 2,
  "lclstage.dev": 2,
  "stg.dev": 2,
  "stgstage.dev": 2,
  "clickrising.net": 1,
  "c66.me": 1,
  "cloud66.ws": 1,
  "cloud66.zone": 1,
  "jdevcloud.com": 1,
  "wpdevcloud.com": 1,
  "cloudaccess.host": 1,
  "freesite.host": 1,
  "cloudaccess.net": 1,
  "cloudcontrolled.com": 1,
  "cloudcontrolapp.com": 1,
  "cloudera.site": 2,
  "cf-ipfs.com": 1,
  "cloudflare-ipfs.com": 1,
  "trycloudflare.com": 1,
  "pages.dev": 1,
  "r2.dev": 1,
  "workers.dev": 1,
  "wnext.app": 1,
  "co.ca": 1,
  "otap.co": 2,
  "co.cz": 1,
  "c.cdn77.org": 1,
  "cdn77-ssl.net": 1,
  "r.cdn77.net": 1,
  "rsc.cdn77.org": 1,
  "ssl.origin.cdn77-secure.org": 1,
  "cloudns.asia": 1,
  "cloudns.biz": 1,
  "cloudns.club": 1,
  "cloudns.cc": 1,
  "cloudns.eu": 1,
  "cloudns.in": 1,
  "cloudns.info": 1,
  "cloudns.org": 1,
  "cloudns.pro": 1,
  "cloudns.pw": 1,
  "cloudns.us": 1,
  "cnpy.gdn": 1,
  "codeberg.page": 1,
  "co.nl": 1,
  "co.no": 1,
  "webhosting.be": 1,
  "hosting-cluster.nl": 1,
  "ac.ru": 1,
  "edu.ru": 1,
  "gov.ru": 1,
  "int.ru": 1,
  "mil.ru": 1,
  "test.ru": 1,
  "dyn.cosidns.de": 1,
  "dynamisches-dns.de": 1,
  "dnsupdater.de": 1,
  "internet-dns.de": 1,
  "l-o-g-i-n.de": 1,
  "dynamic-dns.info": 1,
  "feste-ip.net": 1,
  "knx-server.net": 1,
  "static-access.net": 1,
  "realm.cz": 1,
  "cryptonomic.net": 2,
  "cupcake.is": 1,
  "curv.dev": 1,
  "customer-oci.com": 2,
  "oci.customer-oci.com": 2,
  "ocp.customer-oci.com": 2,
  "ocs.customer-oci.com": 2,
  "cyon.link": 1,
  "cyon.site": 1,
  "fnwk.site": 1,
  "folionetwork.site": 1,
  "platform0.app": 1,
  "daplie.me": 1,
  "localhost.daplie.me": 1,
  "dattolocal.com": 1,
  "dattorelay.com": 1,
  "dattoweb.com": 1,
  "mydatto.com": 1,
  "dattolocal.net": 1,
  "mydatto.net": 1,
  "biz.dk": 1,
  "co.dk": 1,
  "firm.dk": 1,
  "reg.dk": 1,
  "store.dk": 1,
  "dyndns.dappnode.io": 1,
  "dapps.earth": 2,
  "bzz.dapps.earth": 2,
  "builtwithdark.com": 1,
  "demo.datadetect.com": 1,
  "instance.datadetect.com": 1,
  "edgestack.me": 1,
  "ddns5.com": 1,
  "debian.net": 1,
  "deno.dev": 1,
  "deno-staging.dev": 1,
  "dedyn.io": 1,
  "deta.app": 1,
  "deta.dev": 1,
  "rss.my.id": 2,
  "diher.solutions": 2,
  "discordsays.com": 1,
  "discordsez.com": 1,
  "jozi.biz": 1,
  "dnshome.de": 1,
  "online.th": 1,
  "shop.th": 1,
  "drayddns.com": 1,
  "shoparena.pl": 1,
  "dreamhosters.com": 1,
  "mydrobo.com": 1,
  "drud.io": 1,
  "drud.us": 1,
  "duckdns.org": 1,
  "bip.sh": 1,
  "bitbridge.net": 1,
  "dy.fi": 1,
  "tunk.org": 1,
  "dyndns-at-home.com": 1,
  "dyndns-at-work.com": 1,
  "dyndns-blog.com": 1,
  "dyndns-free.com": 1,
  "dyndns-home.com": 1,
  "dyndns-ip.com": 1,
  "dyndns-mail.com": 1,
  "dyndns-office.com": 1,
  "dyndns-pics.com": 1,
  "dyndns-remote.com": 1,
  "dyndns-server.com": 1,
  "dyndns-web.com": 1,
  "dyndns-wiki.com": 1,
  "dyndns-work.com": 1,
  "dyndns.biz": 1,
  "dyndns.info": 1,
  "dyndns.org": 1,
  "dyndns.tv": 1,
  "at-band-camp.net": 1,
  "ath.cx": 1,
  "barrel-of-knowledge.info": 1,
  "barrell-of-knowledge.info": 1,
  "better-than.tv": 1,
  "blogdns.com": 1,
  "blogdns.net": 1,
  "blogdns.org": 1,
  "blogsite.org": 1,
  "boldlygoingnowhere.org": 1,
  "broke-it.net": 1,
  "buyshouses.net": 1,
  "cechire.com": 1,
  "dnsalias.com": 1,
  "dnsalias.net": 1,
  "dnsalias.org": 1,
  "dnsdojo.com": 1,
  "dnsdojo.net": 1,
  "dnsdojo.org": 1,
  "does-it.net": 1,
  "doesntexist.com": 1,
  "doesntexist.org": 1,
  "dontexist.com": 1,
  "dontexist.net": 1,
  "dontexist.org": 1,
  "doomdns.com": 1,
  "doomdns.org": 1,
  "dvrdns.org": 1,
  "dyn-o-saur.com": 1,
  "dynalias.com": 1,
  "dynalias.net": 1,
  "dynalias.org": 1,
  "dynathome.net": 1,
  "dyndns.ws": 1,
  "endofinternet.net": 1,
  "endofinternet.org": 1,
  "endoftheinternet.org": 1,
  "est-a-la-maison.com": 1,
  "est-a-la-masion.com": 1,
  "est-le-patron.com": 1,
  "est-mon-blogueur.com": 1,
  "for-better.biz": 1,
  "for-more.biz": 1,
  "for-our.info": 1,
  "for-some.biz": 1,
  "for-the.biz": 1,
  "forgot.her.name": 1,
  "forgot.his.name": 1,
  "from-ak.com": 1,
  "from-al.com": 1,
  "from-ar.com": 1,
  "from-az.net": 1,
  "from-ca.com": 1,
  "from-co.net": 1,
  "from-ct.com": 1,
  "from-dc.com": 1,
  "from-de.com": 1,
  "from-fl.com": 1,
  "from-ga.com": 1,
  "from-hi.com": 1,
  "from-ia.com": 1,
  "from-id.com": 1,
  "from-il.com": 1,
  "from-in.com": 1,
  "from-ks.com": 1,
  "from-ky.com": 1,
  "from-la.net": 1,
  "from-ma.com": 1,
  "from-md.com": 1,
  "from-me.org": 1,
  "from-mi.com": 1,
  "from-mn.com": 1,
  "from-mo.com": 1,
  "from-ms.com": 1,
  "from-mt.com": 1,
  "from-nc.com": 1,
  "from-nd.com": 1,
  "from-ne.com": 1,
  "from-nh.com": 1,
  "from-nj.com": 1,
  "from-nm.com": 1,
  "from-nv.com": 1,
  "from-ny.net": 1,
  "from-oh.com": 1,
  "from-ok.com": 1,
  "from-or.com": 1,
  "from-pa.com": 1,
  "from-pr.com": 1,
  "from-ri.com": 1,
  "from-sc.com": 1,
  "from-sd.com": 1,
  "from-tn.com": 1,
  "from-tx.com": 1,
  "from-ut.com": 1,
  "from-va.com": 1,
  "from-vt.com": 1,
  "from-wa.com": 1,
  "from-wi.com": 1,
  "from-wv.com": 1,
  "from-wy.com": 1,
  "ftpaccess.cc": 1,
  "fuettertdasnetz.de": 1,
  "game-host.org": 1,
  "game-server.cc": 1,
  "getmyip.com": 1,
  "gets-it.net": 1,
  "go.dyndns.org": 1,
  "gotdns.com": 1,
  "gotdns.org": 1,
  "groks-the.info": 1,
  "groks-this.info": 1,
  "ham-radio-op.net": 1,
  "here-for-more.info": 1,
  "hobby-site.com": 1,
  "hobby-site.org": 1,
  "home.dyndns.org": 1,
  "homedns.org": 1,
  "homeftp.net": 1,
  "homeftp.org": 1,
  "homeip.net": 1,
  "homelinux.com": 1,
  "homelinux.net": 1,
  "homelinux.org": 1,
  "homeunix.com": 1,
  "homeunix.net": 1,
  "homeunix.org": 1,
  "iamallama.com": 1,
  "in-the-band.net": 1,
  "is-a-anarchist.com": 1,
  "is-a-blogger.com": 1,
  "is-a-bookkeeper.com": 1,
  "is-a-bruinsfan.org": 1,
  "is-a-bulls-fan.com": 1,
  "is-a-candidate.org": 1,
  "is-a-caterer.com": 1,
  "is-a-celticsfan.org": 1,
  "is-a-chef.com": 1,
  "is-a-chef.net": 1,
  "is-a-chef.org": 1,
  "is-a-conservative.com": 1,
  "is-a-cpa.com": 1,
  "is-a-cubicle-slave.com": 1,
  "is-a-democrat.com": 1,
  "is-a-designer.com": 1,
  "is-a-doctor.com": 1,
  "is-a-financialadvisor.com": 1,
  "is-a-geek.com": 1,
  "is-a-geek.net": 1,
  "is-a-geek.org": 1,
  "is-a-green.com": 1,
  "is-a-guru.com": 1,
  "is-a-hard-worker.com": 1,
  "is-a-hunter.com": 1,
  "is-a-knight.org": 1,
  "is-a-landscaper.com": 1,
  "is-a-lawyer.com": 1,
  "is-a-liberal.com": 1,
  "is-a-libertarian.com": 1,
  "is-a-linux-user.org": 1,
  "is-a-llama.com": 1,
  "is-a-musician.com": 1,
  "is-a-nascarfan.com": 1,
  "is-a-nurse.com": 1,
  "is-a-painter.com": 1,
  "is-a-patsfan.org": 1,
  "is-a-personaltrainer.com": 1,
  "is-a-photographer.com": 1,
  "is-a-player.com": 1,
  "is-a-republican.com": 1,
  "is-a-rockstar.com": 1,
  "is-a-socialist.com": 1,
  "is-a-soxfan.org": 1,
  "is-a-student.com": 1,
  "is-a-teacher.com": 1,
  "is-a-techie.com": 1,
  "is-a-therapist.com": 1,
  "is-an-accountant.com": 1,
  "is-an-actor.com": 1,
  "is-an-actress.com": 1,
  "is-an-anarchist.com": 1,
  "is-an-artist.com": 1,
  "is-an-engineer.com": 1,
  "is-an-entertainer.com": 1,
  "is-by.us": 1,
  "is-certified.com": 1,
  "is-found.org": 1,
  "is-gone.com": 1,
  "is-into-anime.com": 1,
  "is-into-cars.com": 1,
  "is-into-cartoons.com": 1,
  "is-into-games.com": 1,
  "is-leet.com": 1,
  "is-lost.org": 1,
  "is-not-certified.com": 1,
  "is-saved.org": 1,
  "is-slick.com": 1,
  "is-uberleet.com": 1,
  "is-very-bad.org": 1,
  "is-very-evil.org": 1,
  "is-very-good.org": 1,
  "is-very-nice.org": 1,
  "is-very-sweet.org": 1,
  "is-with-theband.com": 1,
  "isa-geek.com": 1,
  "isa-geek.net": 1,
  "isa-geek.org": 1,
  "isa-hockeynut.com": 1,
  "issmarterthanyou.com": 1,
  "isteingeek.de": 1,
  "istmein.de": 1,
  "kicks-ass.net": 1,
  "kicks-ass.org": 1,
  "knowsitall.info": 1,
  "land-4-sale.us": 1,
  "lebtimnetz.de": 1,
  "leitungsen.de": 1,
  "likes-pie.com": 1,
  "likescandy.com": 1,
  "merseine.nu": 1,
  "mine.nu": 1,
  "misconfused.org": 1,
  "mypets.ws": 1,
  "myphotos.cc": 1,
  "neat-url.com": 1,
  "office-on-the.net": 1,
  "on-the-web.tv": 1,
  "podzone.net": 1,
  "podzone.org": 1,
  "readmyblog.org": 1,
  "saves-the-whales.com": 1,
  "scrapper-site.net": 1,
  "scrapping.cc": 1,
  "selfip.biz": 1,
  "selfip.com": 1,
  "selfip.info": 1,
  "selfip.net": 1,
  "selfip.org": 1,
  "sells-for-less.com": 1,
  "sells-for-u.com": 1,
  "sells-it.net": 1,
  "sellsyourhome.org": 1,
  "servebbs.com": 1,
  "servebbs.net": 1,
  "servebbs.org": 1,
  "serveftp.net": 1,
  "serveftp.org": 1,
  "servegame.org": 1,
  "shacknet.nu": 1,
  "simple-url.com": 1,
  "space-to-rent.com": 1,
  "stuff-4-sale.org": 1,
  "stuff-4-sale.us": 1,
  "teaches-yoga.com": 1,
  "thruhere.net": 1,
  "traeumtgerade.de": 1,
  "webhop.biz": 1,
  "webhop.info": 1,
  "webhop.net": 1,
  "webhop.org": 1,
  "worse-than.tv": 1,
  "writesthisblog.com": 1,
  "ddnss.de": 1,
  "dyn.ddnss.de": 1,
  "dyndns.ddnss.de": 1,
  "dyndns1.de": 1,
  "dyn-ip24.de": 1,
  "home-webserver.de": 1,
  "dyn.home-webserver.de": 1,
  "myhome-server.de": 1,
  "ddnss.org": 1,
  "definima.net": 1,
  "definima.io": 1,
  "ondigitalocean.app": 1,
  "digitaloceanspaces.com": 2,
  "bci.dnstrace.pro": 1,
  "ddnsfree.com": 1,
  "ddnsgeek.com": 1,
  "giize.com": 1,
  "gleeze.com": 1,
  "kozow.com": 1,
  "loseyourip.com": 1,
  "ooguy.com": 1,
  "theworkpc.com": 1,
  "casacam.net": 1,
  "dynu.net": 1,
  "accesscam.org": 1,
  "camdvr.org": 1,
  "freeddns.org": 1,
  "mywire.org": 1,
  "webredirect.org": 1,
  "myddns.rocks": 1,
  "blogsite.xyz": 1,
  "dynv6.net": 1,
  "e4.cz": 1,
  "easypanel.app": 1,
  "easypanel.host": 1,
  "elementor.cloud": 1,
  "elementor.cool": 1,
  "en-root.fr": 1,
  "mytuleap.com": 1,
  "tuleap-partners.com": 1,
  "encr.app": 1,
  "encoreapi.com": 1,
  "onred.one": 1,
  "staging.onred.one": 1,
  "eu.encoway.cloud": 1,
  "eu.org": 1,
  "al.eu.org": 1,
  "asso.eu.org": 1,
  "at.eu.org": 1,
  "au.eu.org": 1,
  "be.eu.org": 1,
  "bg.eu.org": 1,
  "ca.eu.org": 1,
  "cd.eu.org": 1,
  "ch.eu.org": 1,
  "cn.eu.org": 1,
  "cy.eu.org": 1,
  "cz.eu.org": 1,
  "de.eu.org": 1,
  "dk.eu.org": 1,
  "edu.eu.org": 1,
  "ee.eu.org": 1,
  "es.eu.org": 1,
  "fi.eu.org": 1,
  "fr.eu.org": 1,
  "gr.eu.org": 1,
  "hr.eu.org": 1,
  "hu.eu.org": 1,
  "ie.eu.org": 1,
  "il.eu.org": 1,
  "in.eu.org": 1,
  "int.eu.org": 1,
  "is.eu.org": 1,
  "it.eu.org": 1,
  "jp.eu.org": 1,
  "kr.eu.org": 1,
  "lt.eu.org": 1,
  "lu.eu.org": 1,
  "lv.eu.org": 1,
  "mc.eu.org": 1,
  "me.eu.org": 1,
  "mk.eu.org": 1,
  "mt.eu.org": 1,
  "my.eu.org": 1,
  "net.eu.org": 1,
  "ng.eu.org": 1,
  "nl.eu.org": 1,
  "no.eu.org": 1,
  "nz.eu.org": 1,
  "paris.eu.org": 1,
  "pl.eu.org": 1,
  "pt.eu.org": 1,
  "q-a.eu.org": 1,
  "ro.eu.org": 1,
  "ru.eu.org": 1,
  "se.eu.org": 1,
  "si.eu.org": 1,
  "sk.eu.org": 1,
  "tr.eu.org": 1,
  "uk.eu.org": 1,
  "us.eu.org": 1,
  "eurodir.ru": 1,
  "eu-1.evennode.com": 1,
  "eu-2.evennode.com": 1,
  "eu-3.evennode.com": 1,
  "eu-4.evennode.com": 1,
  "us-1.evennode.com": 1,
  "us-2.evennode.com": 1,
  "us-3.evennode.com": 1,
  "us-4.evennode.com": 1,
  "twmail.cc": 1,
  "twmail.net": 1,
  "twmail.org": 1,
  "mymailer.com.tw": 1,
  "url.tw": 1,
  "onfabrica.com": 1,
  "apps.fbsbx.com": 1,
  "ru.net": 1,
  "adygeya.ru": 1,
  "bashkiria.ru": 1,
  "bir.ru": 1,
  "cbg.ru": 1,
  "com.ru": 1,
  "dagestan.ru": 1,
  "grozny.ru": 1,
  "kalmykia.ru": 1,
  "kustanai.ru": 1,
  "marine.ru": 1,
  "mordovia.ru": 1,
  "msk.ru": 1,
  "mytis.ru": 1,
  "nalchik.ru": 1,
  "nov.ru": 1,
  "pyatigorsk.ru": 1,
  "spb.ru": 1,
  "vladikavkaz.ru": 1,
  "vladimir.ru": 1,
  "abkhazia.su": 1,
  "adygeya.su": 1,
  "aktyubinsk.su": 1,
  "arkhangelsk.su": 1,
  "armenia.su": 1,
  "ashgabad.su": 1,
  "azerbaijan.su": 1,
  "balashov.su": 1,
  "bashkiria.su": 1,
  "bryansk.su": 1,
  "bukhara.su": 1,
  "chimkent.su": 1,
  "dagestan.su": 1,
  "east-kazakhstan.su": 1,
  "exnet.su": 1,
  "georgia.su": 1,
  "grozny.su": 1,
  "ivanovo.su": 1,
  "jambyl.su": 1,
  "kalmykia.su": 1,
  "kaluga.su": 1,
  "karacol.su": 1,
  "karaganda.su": 1,
  "karelia.su": 1,
  "khakassia.su": 1,
  "krasnodar.su": 1,
  "kurgan.su": 1,
  "kustanai.su": 1,
  "lenug.su": 1,
  "mangyshlak.su": 1,
  "mordovia.su": 1,
  "msk.su": 1,
  "murmansk.su": 1,
  "nalchik.su": 1,
  "navoi.su": 1,
  "north-kazakhstan.su": 1,
  "nov.su": 1,
  "obninsk.su": 1,
  "penza.su": 1,
  "pokrovsk.su": 1,
  "sochi.su": 1,
  "spb.su": 1,
  "tashkent.su": 1,
  "termez.su": 1,
  "togliatti.su": 1,
  "troitsk.su": 1,
  "tselinograd.su": 1,
  "tula.su": 1,
  "tuva.su": 1,
  "vladikavkaz.su": 1,
  "vladimir.su": 1,
  "vologda.su": 1,
  "channelsdvr.net": 1,
  "u.channelsdvr.net": 1,
  "edgecompute.app": 1,
  "fastly-edge.com": 1,
  "fastly-terrarium.com": 1,
  "fastlylb.net": 1,
  "map.fastlylb.net": 1,
  "freetls.fastly.net": 1,
  "map.fastly.net": 1,
  "a.prod.fastly.net": 1,
  "global.prod.fastly.net": 1,
  "a.ssl.fastly.net": 1,
  "b.ssl.fastly.net": 1,
  "global.ssl.fastly.net": 1,
  "user.fm": 2,
  "fastvps-server.com": 1,
  "fastvps.host": 1,
  "myfast.host": 1,
  "fastvps.site": 1,
  "myfast.space": 1,
  "fedorainfracloud.org": 1,
  "fedorapeople.org": 1,
  "cloud.fedoraproject.org": 1,
  "app.os.fedoraproject.org": 1,
  "app.os.stg.fedoraproject.org": 1,
  "conn.uk": 1,
  "copro.uk": 1,
  "hosp.uk": 1,
  "mydobiss.com": 1,
  "fh-muenster.io": 1,
  "filegear.me": 1,
  "filegear-au.me": 1,
  "filegear-de.me": 1,
  "filegear-gb.me": 1,
  "filegear-ie.me": 1,
  "filegear-jp.me": 1,
  "filegear-sg.me": 1,
  "firebaseapp.com": 1,
  "fireweb.app": 1,
  "flap.id": 1,
  "onflashdrive.app": 1,
  "fldrv.com": 1,
  "fly.dev": 1,
  "edgeapp.net": 1,
  "shw.io": 1,
  "flynnhosting.net": 1,
  "forgeblocks.com": 1,
  "id.forgerock.io": 1,
  "framer.app": 1,
  "framercanvas.com": 1,
  "framer.media": 1,
  "framer.photos": 1,
  "framer.website": 1,
  "framer.wiki": 1,
  "frusky.de": 2,
  "ravpage.co.il": 1,
  "0e.vc": 1,
  "freebox-os.com": 1,
  "freeboxos.com": 1,
  "fbx-os.fr": 1,
  "fbxos.fr": 1,
  "freebox-os.fr": 1,
  "freeboxos.fr": 1,
  "freedesktop.org": 1,
  "freemyip.com": 1,
  "wien.funkfeuer.at": 1,
  "futurecms.at": 2,
  "ex.futurecms.at": 2,
  "in.futurecms.at": 2,
  "futurehosting.at": 1,
  "futuremailing.at": 1,
  "ex.ortsinfo.at": 2,
  "kunden.ortsinfo.at": 2,
  "statics.cloud": 2,
  "independent-commission.uk": 1,
  "independent-inquest.uk": 1,
  "independent-inquiry.uk": 1,
  "independent-panel.uk": 1,
  "independent-review.uk": 1,
  "public-inquiry.uk": 1,
  "royal-commission.uk": 1,
  "campaign.gov.uk": 1,
  "service.gov.uk": 1,
  "api.gov.uk": 1,
  "gehirn.ne.jp": 1,
  "usercontent.jp": 1,
  "gentapps.com": 1,
  "gentlentapis.com": 1,
  "lab.ms": 1,
  "cdn-edges.net": 1,
  "ghost.io": 1,
  "gsj.bz": 1,
  "githubusercontent.com": 1,
  "githubpreview.dev": 1,
  "github.io": 1,
  "gitlab.io": 1,
  "gitapp.si": 1,
  "gitpage.si": 1,
  "glitch.me": 1,
  "nog.community": 1,
  "co.ro": 1,
  "shop.ro": 1,
  "lolipop.io": 1,
  "angry.jp": 1,
  "babyblue.jp": 1,
  "babymilk.jp": 1,
  "backdrop.jp": 1,
  "bambina.jp": 1,
  "bitter.jp": 1,
  "blush.jp": 1,
  "boo.jp": 1,
  "boy.jp": 1,
  "boyfriend.jp": 1,
  "but.jp": 1,
  "candypop.jp": 1,
  "capoo.jp": 1,
  "catfood.jp": 1,
  "cheap.jp": 1,
  "chicappa.jp": 1,
  "chillout.jp": 1,
  "chips.jp": 1,
  "chowder.jp": 1,
  "chu.jp": 1,
  "ciao.jp": 1,
  "cocotte.jp": 1,
  "coolblog.jp": 1,
  "cranky.jp": 1,
  "cutegirl.jp": 1,
  "daa.jp": 1,
  "deca.jp": 1,
  "deci.jp": 1,
  "digick.jp": 1,
  "egoism.jp": 1,
  "fakefur.jp": 1,
  "fem.jp": 1,
  "flier.jp": 1,
  "floppy.jp": 1,
  "fool.jp": 1,
  "frenchkiss.jp": 1,
  "girlfriend.jp": 1,
  "girly.jp": 1,
  "gloomy.jp": 1,
  "gonna.jp": 1,
  "greater.jp": 1,
  "hacca.jp": 1,
  "heavy.jp": 1,
  "her.jp": 1,
  "hiho.jp": 1,
  "hippy.jp": 1,
  "holy.jp": 1,
  "hungry.jp": 1,
  "icurus.jp": 1,
  "itigo.jp": 1,
  "jellybean.jp": 1,
  "kikirara.jp": 1,
  "kill.jp": 1,
  "kilo.jp": 1,
  "kuron.jp": 1,
  "littlestar.jp": 1,
  "lolipopmc.jp": 1,
  "lolitapunk.jp": 1,
  "lomo.jp": 1,
  "lovepop.jp": 1,
  "lovesick.jp": 1,
  "main.jp": 1,
  "mods.jp": 1,
  "mond.jp": 1,
  "mongolian.jp": 1,
  "moo.jp": 1,
  "namaste.jp": 1,
  "nikita.jp": 1,
  "nobushi.jp": 1,
  "noor.jp": 1,
  "oops.jp": 1,
  "parallel.jp": 1,
  "parasite.jp": 1,
  "pecori.jp": 1,
  "peewee.jp": 1,
  "penne.jp": 1,
  "pepper.jp": 1,
  "perma.jp": 1,
  "pigboat.jp": 1,
  "pinoko.jp": 1,
  "punyu.jp": 1,
  "pupu.jp": 1,
  "pussycat.jp": 1,
  "pya.jp": 1,
  "raindrop.jp": 1,
  "readymade.jp": 1,
  "sadist.jp": 1,
  "schoolbus.jp": 1,
  "secret.jp": 1,
  "staba.jp": 1,
  "stripper.jp": 1,
  "sub.jp": 1,
  "sunnyday.jp": 1,
  "thick.jp": 1,
  "tonkotsu.jp": 1,
  "under.jp": 1,
  "upper.jp": 1,
  "velvet.jp": 1,
  "verse.jp": 1,
  "versus.jp": 1,
  "vivian.jp": 1,
  "watson.jp": 1,
  "weblike.jp": 1,
  "whitesnow.jp": 1,
  "zombie.jp": 1,
  "heteml.net": 1,
  "cloudapps.digital": 1,
  "london.cloudapps.digital": 1,
  "pymnt.uk": 1,
  "homeoffice.gov.uk": 1,
  "ro.im": 1,
  "goip.de": 1,
  "run.app": 1,
  "a.run.app": 1,
  "web.app": 1,
  "0emm.com": 2,
  "appspot.com": 1,
  "r.appspot.com": 2,
  "codespot.com": 1,
  "googleapis.com": 1,
  "googlecode.com": 1,
  "pagespeedmobilizer.com": 1,
  "publishproxy.com": 1,
  "withgoogle.com": 1,
  "withyoutube.com": 1,
  "gateway.dev": 2,
  "cloud.goog": 1,
  "translate.goog": 1,
  "usercontent.goog": 2,
  "cloudfunctions.net": 1,
  "blogspot.ae": 1,
  "blogspot.al": 1,
  "blogspot.am": 1,
  "blogspot.ba": 1,
  "blogspot.be": 1,
  "blogspot.bg": 1,
  "blogspot.bj": 1,
  "blogspot.ca": 1,
  "blogspot.cf": 1,
  "blogspot.ch": 1,
  "blogspot.cl": 1,
  "blogspot.co.at": 1,
  "blogspot.co.id": 1,
  "blogspot.co.il": 1,
  "blogspot.co.ke": 1,
  "blogspot.co.nz": 1,
  "blogspot.co.uk": 1,
  "blogspot.co.za": 1,
  "blogspot.com": 1,
  "blogspot.com.ar": 1,
  "blogspot.com.au": 1,
  "blogspot.com.br": 1,
  "blogspot.com.by": 1,
  "blogspot.com.co": 1,
  "blogspot.com.cy": 1,
  "blogspot.com.ee": 1,
  "blogspot.com.eg": 1,
  "blogspot.com.es": 1,
  "blogspot.com.mt": 1,
  "blogspot.com.ng": 1,
  "blogspot.com.tr": 1,
  "blogspot.com.uy": 1,
  "blogspot.cv": 1,
  "blogspot.cz": 1,
  "blogspot.de": 1,
  "blogspot.dk": 1,
  "blogspot.fi": 1,
  "blogspot.fr": 1,
  "blogspot.gr": 1,
  "blogspot.hk": 1,
  "blogspot.hr": 1,
  "blogspot.hu": 1,
  "blogspot.ie": 1,
  "blogspot.in": 1,
  "blogspot.is": 1,
  "blogspot.it": 1,
  "blogspot.jp": 1,
  "blogspot.kr": 1,
  "blogspot.li": 1,
  "blogspot.lt": 1,
  "blogspot.lu": 1,
  "blogspot.md": 1,
  "blogspot.mk": 1,
  "blogspot.mr": 1,
  "blogspot.mx": 1,
  "blogspot.my": 1,
  "blogspot.nl": 1,
  "blogspot.no": 1,
  "blogspot.pe": 1,
  "blogspot.pt": 1,
  "blogspot.qa": 1,
  "blogspot.re": 1,
  "blogspot.ro": 1,
  "blogspot.rs": 1,
  "blogspot.ru": 1,
  "blogspot.se": 1,
  "blogspot.sg": 1,
  "blogspot.si": 1,
  "blogspot.sk": 1,
  "blogspot.sn": 1,
  "blogspot.td": 1,
  "blogspot.tw": 1,
  "blogspot.ug": 1,
  "blogspot.vn": 1,
  "goupile.fr": 1,
  "gov.nl": 1,
  "awsmppl.com": 1,
  "xn--gnstigbestellen-zvb.de": 1,
  "xn--gnstigliefern-wob.de": 1,
  "fin.ci": 1,
  "free.hr": 1,
  "caa.li": 1,
  "ua.rs": 1,
  "conf.se": 1,
  "hs.zone": 1,
  "hs.run": 1,
  "hashbang.sh": 1,
  "hasura.app": 1,
  "hasura-app.io": 1,
  "pages.it.hs-heilbronn.de": 1,
  "hepforge.org": 1,
  "herokuapp.com": 1,
  "herokussl.com": 1,
  "ravendb.cloud": 1,
  "ravendb.community": 1,
  "ravendb.me": 1,
  "development.run": 1,
  "ravendb.run": 1,
  "homesklep.pl": 1,
  "secaas.hk": 1,
  "hoplix.shop": 1,
  "orx.biz": 1,
  "biz.gl": 1,
  "col.ng": 1,
  "firm.ng": 1,
  "gen.ng": 1,
  "ltd.ng": 1,
  "ngo.ng": 1,
  "edu.scot": 1,
  "sch.so": 1,
  "ie.ua": 1,
  "hostyhosting.io": 1,
  "xn--hkkinen-5wa.fi": 1,
  "moonscale.io": 2,
  "moonscale.net": 1,
  "iki.fi": 1,
  "ibxos.it": 1,
  "iliadboxos.it": 1,
  "impertrixcdn.com": 1,
  "impertrix.com": 1,
  "smushcdn.com": 1,
  "wphostedmail.com": 1,
  "wpmucdn.com": 1,
  "tempurl.host": 1,
  "wpmudev.host": 1,
  "dyn-berlin.de": 1,
  "in-berlin.de": 1,
  "in-brb.de": 1,
  "in-butter.de": 1,
  "in-dsl.de": 1,
  "in-dsl.net": 1,
  "in-dsl.org": 1,
  "in-vpn.de": 1,
  "in-vpn.net": 1,
  "in-vpn.org": 1,
  "biz.at": 1,
  "info.at": 1,
  "info.cx": 1,
  "ac.leg.br": 1,
  "al.leg.br": 1,
  "am.leg.br": 1,
  "ap.leg.br": 1,
  "ba.leg.br": 1,
  "ce.leg.br": 1,
  "df.leg.br": 1,
  "es.leg.br": 1,
  "go.leg.br": 1,
  "ma.leg.br": 1,
  "mg.leg.br": 1,
  "ms.leg.br": 1,
  "mt.leg.br": 1,
  "pa.leg.br": 1,
  "pb.leg.br": 1,
  "pe.leg.br": 1,
  "pi.leg.br": 1,
  "pr.leg.br": 1,
  "rj.leg.br": 1,
  "rn.leg.br": 1,
  "ro.leg.br": 1,
  "rr.leg.br": 1,
  "rs.leg.br": 1,
  "sc.leg.br": 1,
  "se.leg.br": 1,
  "sp.leg.br": 1,
  "to.leg.br": 1,
  "pixolino.com": 1,
  "na4u.ru": 1,
  "iopsys.se": 1,
  "ipifony.net": 1,
  "iservschule.de": 1,
  "mein-iserv.de": 1,
  "schulplattform.de": 1,
  "schulserver.de": 1,
  "test-iserv.de": 1,
  "iserv.dev": 1,
  "iobb.net": 1,
  "mel.cloudlets.com.au": 1,
  "cloud.interhostsolutions.be": 1,
  "mycloud.by": 1,
  "alp1.ae.flow.ch": 1,
  "appengine.flow.ch": 1,
  "es-1.axarnet.cloud": 1,
  "diadem.cloud": 1,
  "vip.jelastic.cloud": 1,
  "jele.cloud": 1,
  "it1.eur.aruba.jenv-aruba.cloud": 1,
  "it1.jenv-aruba.cloud": 1,
  "keliweb.cloud": 1,
  "cs.keliweb.cloud": 1,
  "oxa.cloud": 1,
  "tn.oxa.cloud": 1,
  "uk.oxa.cloud": 1,
  "primetel.cloud": 1,
  "uk.primetel.cloud": 1,
  "ca.reclaim.cloud": 1,
  "uk.reclaim.cloud": 1,
  "us.reclaim.cloud": 1,
  "ch.trendhosting.cloud": 1,
  "de.trendhosting.cloud": 1,
  "jele.club": 1,
  "amscompute.com": 1,
  "dopaas.com": 1,
  "paas.hosted-by-previder.com": 1,
  "rag-cloud.hosteur.com": 1,
  "rag-cloud-ch.hosteur.com": 1,
  "jcloud.ik-server.com": 1,
  "jcloud-ver-jpc.ik-server.com": 1,
  "demo.jelastic.com": 1,
  "kilatiron.com": 1,
  "paas.massivegrid.com": 1,
  "jed.wafaicloud.com": 1,
  "lon.wafaicloud.com": 1,
  "ryd.wafaicloud.com": 1,
  "j.scaleforce.com.cy": 1,
  "jelastic.dogado.eu": 1,
  "fi.cloudplatform.fi": 1,
  "demo.datacenter.fi": 1,
  "paas.datacenter.fi": 1,
  "jele.host": 1,
  "mircloud.host": 1,
  "paas.beebyte.io": 1,
  "sekd1.beebyteapp.io": 1,
  "jele.io": 1,
  "cloud-fr1.unispace.io": 1,
  "jc.neen.it": 1,
  "cloud.jelastic.open.tim.it": 1,
  "jcloud.kz": 1,
  "upaas.kazteleport.kz": 1,
  "cloudjiffy.net": 1,
  "fra1-de.cloudjiffy.net": 1,
  "west1-us.cloudjiffy.net": 1,
  "jls-sto1.elastx.net": 1,
  "jls-sto2.elastx.net": 1,
  "jls-sto3.elastx.net": 1,
  "faststacks.net": 1,
  "fr-1.paas.massivegrid.net": 1,
  "lon-1.paas.massivegrid.net": 1,
  "lon-2.paas.massivegrid.net": 1,
  "ny-1.paas.massivegrid.net": 1,
  "ny-2.paas.massivegrid.net": 1,
  "sg-1.paas.massivegrid.net": 1,
  "jelastic.saveincloud.net": 1,
  "nordeste-idc.saveincloud.net": 1,
  "j.scaleforce.net": 1,
  "jelastic.tsukaeru.net": 1,
  "sdscloud.pl": 1,
  "unicloud.pl": 1,
  "mircloud.ru": 1,
  "jelastic.regruhosting.ru": 1,
  "enscaled.sg": 1,
  "jele.site": 1,
  "jelastic.team": 1,
  "orangecloud.tn": 1,
  "j.layershift.co.uk": 1,
  "phx.enscaled.us": 1,
  "mircloud.us": 1,
  "myjino.ru": 1,
  "hosting.myjino.ru": 2,
  "landing.myjino.ru": 2,
  "spectrum.myjino.ru": 2,
  "vps.myjino.ru": 2,
  "jotelulu.cloud": 1,
  "triton.zone": 2,
  "cns.joyent.com": 2,
  "js.org": 1,
  "kaas.gg": 1,
  "khplay.nl": 1,
  "ktistory.com": 1,
  "kapsi.fi": 1,
  "keymachine.de": 1,
  "kinghost.net": 1,
  "uni5.net": 1,
  "knightpoint.systems": 1,
  "koobin.events": 1,
  "oya.to": 1,
  "kuleuven.cloud": 1,
  "ezproxy.kuleuven.be": 1,
  "co.krd": 1,
  "edu.krd": 1,
  "krellian.net": 1,
  "webthings.io": 1,
  "git-repos.de": 1,
  "lcube-server.de": 1,
  "svn-repos.de": 1,
  "leadpages.co": 1,
  "lpages.co": 1,
  "lpusercontent.com": 1,
  "lelux.site": 1,
  "co.business": 1,
  "co.education": 1,
  "co.events": 1,
  "co.financial": 1,
  "co.network": 1,
  "co.place": 1,
  "co.technology": 1,
  "app.lmpm.com": 1,
  "linkyard.cloud": 1,
  "linkyard-cloud.ch": 1,
  "members.linode.com": 1,
  "nodebalancer.linode.com": 2,
  "linodeobjects.com": 2,
  "ip.linodeusercontent.com": 1,
  "we.bs": 1,
  "user.localcert.dev": 2,
  "localzone.xyz": 1,
  "loginline.app": 1,
  "loginline.dev": 1,
  "loginline.io": 1,
  "loginline.services": 1,
  "loginline.site": 1,
  "servers.run": 1,
  "lohmus.me": 1,
  "krasnik.pl": 1,
  "leczna.pl": 1,
  "lubartow.pl": 1,
  "lublin.pl": 1,
  "poniatowa.pl": 1,
  "swidnik.pl": 1,
  "glug.org.uk": 1,
  "lug.org.uk": 1,
  "lugs.org.uk": 1,
  "barsy.bg": 1,
  "barsy.co.uk": 1,
  "barsyonline.co.uk": 1,
  "barsycenter.com": 1,
  "barsyonline.com": 1,
  "barsy.club": 1,
  "barsy.de": 1,
  "barsy.eu": 1,
  "barsy.in": 1,
  "barsy.info": 1,
  "barsy.io": 1,
  "barsy.me": 1,
  "barsy.menu": 1,
  "barsy.mobi": 1,
  "barsy.net": 1,
  "barsy.online": 1,
  "barsy.org": 1,
  "barsy.pro": 1,
  "barsy.pub": 1,
  "barsy.ro": 1,
  "barsy.shop": 1,
  "barsy.site": 1,
  "barsy.support": 1,
  "barsy.uk": 1,
  "magentosite.cloud": 2,
  "mayfirst.info": 1,
  "mayfirst.org": 1,
  "hb.cldmail.ru": 1,
  "cn.vu": 1,
  "mazeplay.com": 1,
  "mcpe.me": 1,
  "mcdir.me": 1,
  "mcdir.ru": 1,
  "mcpre.ru": 1,
  "vps.mcdir.ru": 1,
  "mediatech.by": 1,
  "mediatech.dev": 1,
  "hra.health": 1,
  "miniserver.com": 1,
  "memset.net": 1,
  "messerli.app": 1,
  "cloud.metacentrum.cz": 2,
  "custom.metacentrum.cz": 1,
  "flt.cloud.muni.cz": 1,
  "usr.cloud.muni.cz": 1,
  "meteorapp.com": 1,
  "eu.meteorapp.com": 1,
  "co.pl": 1,
  "azurecontainer.io": 2,
  "azurewebsites.net": 1,
  "azure-mobile.net": 1,
  "cloudapp.net": 1,
  "azurestaticapps.net": 1,
  "1.azurestaticapps.net": 1,
  "2.azurestaticapps.net": 1,
  "3.azurestaticapps.net": 1,
  "4.azurestaticapps.net": 1,
  "5.azurestaticapps.net": 1,
  "6.azurestaticapps.net": 1,
  "7.azurestaticapps.net": 1,
  "centralus.azurestaticapps.net": 1,
  "eastasia.azurestaticapps.net": 1,
  "eastus2.azurestaticapps.net": 1,
  "westeurope.azurestaticapps.net": 1,
  "westus2.azurestaticapps.net": 1,
  "csx.cc": 1,
  "mintere.site": 1,
  "forte.id": 1,
  "mozilla-iot.org": 1,
  "bmoattachments.org": 1,
  "net.ru": 1,
  "org.ru": 1,
  "pp.ru": 1,
  "hostedpi.com": 1,
  "customer.mythic-beasts.com": 1,
  "caracal.mythic-beasts.com": 1,
  "fentiger.mythic-beasts.com": 1,
  "lynx.mythic-beasts.com": 1,
  "ocelot.mythic-beasts.com": 1,
  "oncilla.mythic-beasts.com": 1,
  "onza.mythic-beasts.com": 1,
  "sphinx.mythic-beasts.com": 1,
  "vs.mythic-beasts.com": 1,
  "x.mythic-beasts.com": 1,
  "yali.mythic-beasts.com": 1,
  "cust.retrosnub.co.uk": 1,
  "ui.nabu.casa": 1,
  "cloud.nospamproxy.com": 1,
  "netlify.app": 1,
  "4u.com": 1,
  "ngrok.app": 1,
  "ngrok-free.app": 1,
  "ngrok.dev": 1,
  "ngrok-free.dev": 1,
  "ngrok.io": 1,
  "ap.ngrok.io": 1,
  "au.ngrok.io": 1,
  "eu.ngrok.io": 1,
  "in.ngrok.io": 1,
  "jp.ngrok.io": 1,
  "sa.ngrok.io": 1,
  "us.ngrok.io": 1,
  "ngrok.pizza": 1,
  "torun.pl": 1,
  "nh-serv.co.uk": 1,
  "nfshost.com": 1,
  "developer.app": 2,
  "noop.app": 1,
  "northflank.app": 2,
  "build.run": 2,
  "code.run": 2,
  "database.run": 2,
  "migration.run": 2,
  "noticeable.news": 1,
  "dnsking.ch": 1,
  "mypi.co": 1,
  "n4t.co": 1,
  "001www.com": 1,
  "ddnslive.com": 1,
  "myiphost.com": 1,
  "forumz.info": 1,
  "16-b.it": 1,
  "32-b.it": 1,
  "64-b.it": 1,
  "soundcast.me": 1,
  "tcp4.me": 1,
  "dnsup.net": 1,
  "hicam.net": 1,
  "now-dns.net": 1,
  "ownip.net": 1,
  "vpndns.net": 1,
  "dynserv.org": 1,
  "now-dns.org": 1,
  "x443.pw": 1,
  "now-dns.top": 1,
  "ntdll.top": 1,
  "freeddns.us": 1,
  "crafting.xyz": 1,
  "zapto.xyz": 1,
  "nsupdate.info": 1,
  "nerdpol.ovh": 1,
  "blogsyte.com": 1,
  "brasilia.me": 1,
  "cable-modem.org": 1,
  "ciscofreak.com": 1,
  "collegefan.org": 1,
  "couchpotatofries.org": 1,
  "damnserver.com": 1,
  "ddns.me": 1,
  "ditchyourip.com": 1,
  "dnsfor.me": 1,
  "dnsiskinky.com": 1,
  "dvrcam.info": 1,
  "dynns.com": 1,
  "eating-organic.net": 1,
  "fantasyleague.cc": 1,
  "geekgalaxy.com": 1,
  "golffan.us": 1,
  "health-carereform.com": 1,
  "homesecuritymac.com": 1,
  "homesecuritypc.com": 1,
  "hopto.me": 1,
  "ilovecollege.info": 1,
  "loginto.me": 1,
  "mlbfan.org": 1,
  "mmafan.biz": 1,
  "myactivedirectory.com": 1,
  "mydissent.net": 1,
  "myeffect.net": 1,
  "mymediapc.net": 1,
  "mypsx.net": 1,
  "mysecuritycamera.com": 1,
  "mysecuritycamera.net": 1,
  "mysecuritycamera.org": 1,
  "net-freaks.com": 1,
  "nflfan.org": 1,
  "nhlfan.net": 1,
  "no-ip.ca": 1,
  "no-ip.co.uk": 1,
  "no-ip.net": 1,
  "noip.us": 1,
  "onthewifi.com": 1,
  "pgafan.net": 1,
  "point2this.com": 1,
  "pointto.us": 1,
  "privatizehealthinsurance.net": 1,
  "quicksytes.com": 1,
  "read-books.org": 1,
  "securitytactics.com": 1,
  "serveexchange.com": 1,
  "servehumour.com": 1,
  "servep2p.com": 1,
  "servesarcasm.com": 1,
  "stufftoread.com": 1,
  "ufcfan.org": 1,
  "unusualperson.com": 1,
  "workisboring.com": 1,
  "3utilities.com": 1,
  "bounceme.net": 1,
  "ddns.net": 1,
  "ddnsking.com": 1,
  "gotdns.ch": 1,
  "hopto.org": 1,
  "myftp.biz": 1,
  "myftp.org": 1,
  "myvnc.com": 1,
  "no-ip.biz": 1,
  "no-ip.info": 1,
  "no-ip.org": 1,
  "noip.me": 1,
  "redirectme.net": 1,
  "servebeer.com": 1,
  "serveblog.net": 1,
  "servecounterstrike.com": 1,
  "serveftp.com": 1,
  "servegame.com": 1,
  "servehalflife.com": 1,
  "servehttp.com": 1,
  "serveirc.com": 1,
  "serveminecraft.net": 1,
  "servemp3.com": 1,
  "servepics.com": 1,
  "servequake.com": 1,
  "sytes.net": 1,
  "webhop.me": 1,
  "zapto.org": 1,
  "stage.nodeart.io": 1,
  "pcloud.host": 1,
  "nyc.mn": 1,
  "static.observableusercontent.com": 1,
  "cya.gg": 1,
  "omg.lol": 1,
  "cloudycluster.net": 1,
  "omniwe.site": 1,
  "123hjemmeside.dk": 1,
  "123hjemmeside.no": 1,
  "123homepage.it": 1,
  "123kotisivu.fi": 1,
  "123minsida.se": 1,
  "123miweb.es": 1,
  "123paginaweb.pt": 1,
  "123sait.ru": 1,
  "123siteweb.fr": 1,
  "123webseite.at": 1,
  "123webseite.de": 1,
  "123website.be": 1,
  "123website.ch": 1,
  "123website.lu": 1,
  "123website.nl": 1,
  "service.one": 1,
  "simplesite.com": 1,
  "simplesite.com.br": 1,
  "simplesite.gr": 1,
  "simplesite.pl": 1,
  "nid.io": 1,
  "opensocial.site": 1,
  "opencraft.hosting": 1,
  "orsites.com": 1,
  "operaunite.com": 1,
  "tech.orange": 1,
  "authgear-staging.com": 1,
  "authgearapps.com": 1,
  "skygearapp.com": 1,
  "outsystemscloud.com": 1,
  "webpaas.ovh.net": 2,
  "hosting.ovh.net": 2,
  "ownprovider.com": 1,
  "own.pm": 1,
  "owo.codes": 2,
  "ox.rs": 1,
  "oy.lc": 1,
  "pgfog.com": 1,
  "pagefrontapp.com": 1,
  "pagexl.com": 1,
  "paywhirl.com": 2,
  "bar0.net": 1,
  "bar1.net": 1,
  "bar2.net": 1,
  "rdv.to": 1,
  "art.pl": 1,
  "gliwice.pl": 1,
  "krakow.pl": 1,
  "poznan.pl": 1,
  "wroc.pl": 1,
  "zakopane.pl": 1,
  "pantheonsite.io": 1,
  "gotpantheon.com": 1,
  "mypep.link": 1,
  "perspecta.cloud": 1,
  "lk3.ru": 1,
  "on-web.fr": 1,
  "bc.platform.sh": 1,
  "ent.platform.sh": 1,
  "eu.platform.sh": 1,
  "us.platform.sh": 1,
  "platformsh.site": 2,
  "tst.site": 2,
  "platter-app.com": 1,
  "platter-app.dev": 1,
  "platterp.us": 1,
  "pdns.page": 1,
  "plesk.page": 1,
  "pleskns.com": 1,
  "dyn53.io": 1,
  "onporter.run": 1,
  "co.bn": 1,
  "postman-echo.com": 1,
  "pstmn.io": 1,
  "mock.pstmn.io": 1,
  "httpbin.org": 1,
  "prequalifyme.today": 1,
  "xen.prgmr.com": 1,
  "priv.at": 1,
  "prvcy.page": 1,
  "dweb.link": 2,
  "protonet.io": 1,
  "chirurgiens-dentistes-en-france.fr": 1,
  "byen.site": 1,
  "pubtls.org": 1,
  "pythonanywhere.com": 1,
  "eu.pythonanywhere.com": 1,
  "qoto.io": 1,
  "qualifioapp.com": 1,
  "ladesk.com": 1,
  "qbuser.com": 1,
  "cloudsite.builders": 1,
  "instances.spawn.cc": 1,
  "instantcloud.cn": 1,
  "ras.ru": 1,
  "qa2.com": 1,
  "qcx.io": 1,
  "sys.qcx.io": 2,
  "dev-myqnapcloud.com": 1,
  "alpha-myqnapcloud.com": 1,
  "myqnapcloud.com": 1,
  "quipelements.com": 2,
  "vapor.cloud": 1,
  "vaporcloud.io": 1,
  "rackmaze.com": 1,
  "rackmaze.net": 1,
  "g.vbrplsbx.io": 1,
  "on-k3s.io": 2,
  "on-rancher.cloud": 2,
  "on-rio.io": 2,
  "readthedocs.io": 1,
  "rhcloud.com": 1,
  "app.render.com": 1,
  "onrender.com": 1,
  "firewalledreplit.co": 1,
  "id.firewalledreplit.co": 1,
  "repl.co": 1,
  "id.repl.co": 1,
  "repl.run": 1,
  "resindevice.io": 1,
  "devices.resinstaging.io": 1,
  "hzc.io": 1,
  "wellbeingzone.eu": 1,
  "wellbeingzone.co.uk": 1,
  "adimo.co.uk": 1,
  "itcouldbewor.se": 1,
  "git-pages.rit.edu": 1,
  "rocky.page": 1,
  "xn--90amc.xn--p1acf": 1,
  "xn--j1aef.xn--p1acf": 1,
  "xn--j1ael8b.xn--p1acf": 1,
  "xn--h1ahn.xn--p1acf": 1,
  "xn--j1adp.xn--p1acf": 1,
  "xn--c1avg.xn--p1acf": 1,
  "xn--80aaa0cvac.xn--p1acf": 1,
  "xn--h1aliz.xn--p1acf": 1,
  "xn--90a1af.xn--p1acf": 1,
  "xn--41a.xn--p1acf": 1,
  "180r.com": 1,
  "dojin.com": 1,
  "sakuratan.com": 1,
  "sakuraweb.com": 1,
  "x0.com": 1,
  "2-d.jp": 1,
  "bona.jp": 1,
  "crap.jp": 1,
  "daynight.jp": 1,
  "eek.jp": 1,
  "flop.jp": 1,
  "halfmoon.jp": 1,
  "jeez.jp": 1,
  "matrix.jp": 1,
  "mimoza.jp": 1,
  "ivory.ne.jp": 1,
  "mail-box.ne.jp": 1,
  "mints.ne.jp": 1,
  "mokuren.ne.jp": 1,
  "opal.ne.jp": 1,
  "sakura.ne.jp": 1,
  "sumomo.ne.jp": 1,
  "topaz.ne.jp": 1,
  "netgamers.jp": 1,
  "nyanta.jp": 1,
  "o0o0.jp": 1,
  "rdy.jp": 1,
  "rgr.jp": 1,
  "rulez.jp": 1,
  "s3.isk01.sakurastorage.jp": 1,
  "s3.isk02.sakurastorage.jp": 1,
  "saloon.jp": 1,
  "sblo.jp": 1,
  "skr.jp": 1,
  "tank.jp": 1,
  "uh-oh.jp": 1,
  "undo.jp": 1,
  "rs.webaccel.jp": 1,
  "user.webaccel.jp": 1,
  "websozai.jp": 1,
  "xii.jp": 1,
  "squares.net": 1,
  "jpn.org": 1,
  "kirara.st": 1,
  "x0.to": 1,
  "from.tv": 1,
  "sakura.tv": 1,
  "builder.code.com": 2,
  "dev-builder.code.com": 2,
  "stg-builder.code.com": 2,
  "sandcats.io": 1,
  "logoip.de": 1,
  "logoip.com": 1,
  "fr-par-1.baremetal.scw.cloud": 1,
  "fr-par-2.baremetal.scw.cloud": 1,
  "nl-ams-1.baremetal.scw.cloud": 1,
  "fnc.fr-par.scw.cloud": 1,
  "functions.fnc.fr-par.scw.cloud": 1,
  "k8s.fr-par.scw.cloud": 1,
  "nodes.k8s.fr-par.scw.cloud": 1,
  "s3.fr-par.scw.cloud": 1,
  "s3-website.fr-par.scw.cloud": 1,
  "whm.fr-par.scw.cloud": 1,
  "priv.instances.scw.cloud": 1,
  "pub.instances.scw.cloud": 1,
  "k8s.scw.cloud": 1,
  "k8s.nl-ams.scw.cloud": 1,
  "nodes.k8s.nl-ams.scw.cloud": 1,
  "s3.nl-ams.scw.cloud": 1,
  "s3-website.nl-ams.scw.cloud": 1,
  "whm.nl-ams.scw.cloud": 1,
  "k8s.pl-waw.scw.cloud": 1,
  "nodes.k8s.pl-waw.scw.cloud": 1,
  "s3.pl-waw.scw.cloud": 1,
  "s3-website.pl-waw.scw.cloud": 1,
  "scalebook.scw.cloud": 1,
  "smartlabeling.scw.cloud": 1,
  "dedibox.fr": 1,
  "schokokeks.net": 1,
  "gov.scot": 1,
  "service.gov.scot": 1,
  "scrysec.com": 1,
  "firewall-gateway.com": 1,
  "firewall-gateway.de": 1,
  "my-gateway.de": 1,
  "my-router.de": 1,
  "spdns.de": 1,
  "spdns.eu": 1,
  "firewall-gateway.net": 1,
  "my-firewall.org": 1,
  "myfirewall.org": 1,
  "spdns.org": 1,
  "seidat.net": 1,
  "sellfy.store": 1,
  "senseering.net": 1,
  "minisite.ms": 1,
  "magnet.page": 1,
  "biz.ua": 1,
  "co.ua": 1,
  "pp.ua": 1,
  "shiftcrypto.dev": 1,
  "shiftcrypto.io": 1,
  "shiftedit.io": 1,
  "myshopblocks.com": 1,
  "myshopify.com": 1,
  "shopitsite.com": 1,
  "shopware.store": 1,
  "mo-siemens.io": 1,
  "1kapp.com": 1,
  "appchizi.com": 1,
  "applinzi.com": 1,
  "sinaapp.com": 1,
  "vipsinaapp.com": 1,
  "siteleaf.net": 1,
  "bounty-full.com": 1,
  "alpha.bounty-full.com": 1,
  "beta.bounty-full.com": 1,
  "aeroport.fr": 1,
  "avocat.fr": 1,
  "chambagri.fr": 1,
  "chirurgiens-dentistes.fr": 1,
  "experts-comptables.fr": 1,
  "medecin.fr": 1,
  "notaires.fr": 1,
  "pharmacien.fr": 1,
  "port.fr": 1,
  "veterinaire.fr": 1,
  "small-web.org": 1,
  "vp4.me": 1,
  "snowflake.app": 1,
  "privatelink.snowflake.app": 1,
  "streamlit.app": 1,
  "streamlitapp.com": 1,
  "try-snowplow.com": 1,
  "srht.site": 1,
  "stackhero-network.com": 1,
  "musician.io": 1,
  "novecore.site": 1,
  "static.land": 1,
  "dev.static.land": 1,
  "sites.static.land": 1,
  "storebase.store": 1,
  "vps-host.net": 1,
  "atl.jelastic.vps-host.net": 1,
  "njs.jelastic.vps-host.net": 1,
  "ric.jelastic.vps-host.net": 1,
  "playstation-cloud.com": 1,
  "apps.lair.io": 1,
  "stolos.io": 2,
  "spacekit.io": 1,
  "customer.speedpartner.de": 1,
  "myspreadshop.at": 1,
  "myspreadshop.com.au": 1,
  "myspreadshop.be": 1,
  "myspreadshop.ca": 1,
  "myspreadshop.ch": 1,
  "myspreadshop.com": 1,
  "myspreadshop.de": 1,
  "myspreadshop.dk": 1,
  "myspreadshop.es": 1,
  "myspreadshop.fi": 1,
  "myspreadshop.fr": 1,
  "myspreadshop.ie": 1,
  "myspreadshop.it": 1,
  "myspreadshop.net": 1,
  "myspreadshop.nl": 1,
  "myspreadshop.no": 1,
  "myspreadshop.pl": 1,
  "myspreadshop.se": 1,
  "myspreadshop.co.uk": 1,
  "api.stdlib.com": 1,
  "storipress.app": 1,
  "storj.farm": 1,
  "utwente.io": 1,
  "soc.srcf.net": 1,
  "user.srcf.net": 1,
  "temp-dns.com": 1,
  "supabase.co": 1,
  "supabase.in": 1,
  "supabase.net": 1,
  "su.paba.se": 1,
  "s5y.io": 2,
  "sensiosite.cloud": 2,
  "syncloud.it": 1,
  "dscloud.biz": 1,
  "direct.quickconnect.cn": 1,
  "dsmynas.com": 1,
  "familyds.com": 1,
  "diskstation.me": 1,
  "dscloud.me": 1,
  "i234.me": 1,
  "myds.me": 1,
  "synology.me": 1,
  "dscloud.mobi": 1,
  "dsmynas.net": 1,
  "familyds.net": 1,
  "dsmynas.org": 1,
  "familyds.org": 1,
  "vpnplus.to": 1,
  "direct.quickconnect.to": 1,
  "tabitorder.co.il": 1,
  "mytabit.co.il": 1,
  "mytabit.com": 1,
  "taifun-dns.de": 1,
  "beta.tailscale.net": 1,
  "ts.net": 1,
  "gda.pl": 1,
  "gdansk.pl": 1,
  "gdynia.pl": 1,
  "med.pl": 1,
  "sopot.pl": 1,
  "site.tb-hosting.com": 1,
  "edugit.io": 1,
  "s3.teckids.org": 1,
  "telebit.app": 1,
  "telebit.io": 1,
  "telebit.xyz": 2,
  "firenet.ch": 2,
  "svc.firenet.ch": 2,
  "reservd.com": 1,
  "thingdustdata.com": 1,
  "cust.dev.thingdust.io": 1,
  "cust.disrec.thingdust.io": 1,
  "cust.prod.thingdust.io": 1,
  "cust.testing.thingdust.io": 1,
  "reservd.dev.thingdust.io": 1,
  "reservd.disrec.thingdust.io": 1,
  "reservd.testing.thingdust.io": 1,
  "tickets.io": 1,
  "arvo.network": 1,
  "azimuth.network": 1,
  "tlon.network": 1,
  "torproject.net": 1,
  "pages.torproject.net": 1,
  "bloxcms.com": 1,
  "townnews-staging.com": 1,
  "12hp.at": 1,
  "2ix.at": 1,
  "4lima.at": 1,
  "lima-city.at": 1,
  "12hp.ch": 1,
  "2ix.ch": 1,
  "4lima.ch": 1,
  "lima-city.ch": 1,
  "trafficplex.cloud": 1,
  "de.cool": 1,
  "12hp.de": 1,
  "2ix.de": 1,
  "4lima.de": 1,
  "lima-city.de": 1,
  "1337.pictures": 1,
  "clan.rip": 1,
  "lima-city.rocks": 1,
  "webspace.rocks": 1,
  "lima.zone": 1,
  "transurl.be": 2,
  "transurl.eu": 2,
  "transurl.nl": 2,
  "site.transip.me": 1,
  "tuxfamily.org": 1,
  "dd-dns.de": 1,
  "diskstation.eu": 1,
  "diskstation.org": 1,
  "dray-dns.de": 1,
  "draydns.de": 1,
  "dyn-vpn.de": 1,
  "dynvpn.de": 1,
  "mein-vigor.de": 1,
  "my-vigor.de": 1,
  "my-wan.de": 1,
  "syno-ds.de": 1,
  "synology-diskstation.de": 1,
  "synology-ds.de": 1,
  "typedream.app": 1,
  "pro.typeform.com": 1,
  "uber.space": 1,
  "uberspace.de": 2,
  "hk.com": 1,
  "hk.org": 1,
  "ltd.hk": 1,
  "inc.hk": 1,
  "it.com": 1,
  "name.pm": 1,
  "sch.tf": 1,
  "biz.wf": 1,
  "sch.wf": 1,
  "org.yt": 1,
  "virtualuser.de": 1,
  "virtual-user.de": 1,
  "upli.io": 1,
  "urown.cloud": 1,
  "dnsupdate.info": 1,
  "lib.de.us": 1,
  "2038.io": 1,
  "vercel.app": 1,
  "vercel.dev": 1,
  "now.sh": 1,
  "router.management": 1,
  "v-info.info": 1,
  "voorloper.cloud": 1,
  "neko.am": 1,
  "nyaa.am": 1,
  "be.ax": 1,
  "cat.ax": 1,
  "es.ax": 1,
  "eu.ax": 1,
  "gg.ax": 1,
  "mc.ax": 1,
  "us.ax": 1,
  "xy.ax": 1,
  "nl.ci": 1,
  "xx.gl": 1,
  "app.gp": 1,
  "blog.gt": 1,
  "de.gt": 1,
  "to.gt": 1,
  "be.gy": 1,
  "cc.hn": 1,
  "blog.kg": 1,
  "io.kg": 1,
  "jp.kg": 1,
  "tv.kg": 1,
  "uk.kg": 1,
  "us.kg": 1,
  "de.ls": 1,
  "at.md": 1,
  "de.md": 1,
  "jp.md": 1,
  "to.md": 1,
  "indie.porn": 1,
  "vxl.sh": 1,
  "ch.tc": 1,
  "me.tc": 1,
  "we.tc": 1,
  "nyan.to": 1,
  "at.vg": 1,
  "blog.vu": 1,
  "dev.vu": 1,
  "me.vu": 1,
  "v.ua": 1,
  "vultrobjects.com": 2,
  "wafflecell.com": 1,
  "webhare.dev": 2,
  "reserve-online.net": 1,
  "reserve-online.com": 1,
  "bookonline.app": 1,
  "hotelwithflight.com": 1,
  "wedeploy.io": 1,
  "wedeploy.me": 1,
  "wedeploy.sh": 1,
  "remotewd.com": 1,
  "pages.wiardweb.com": 1,
  "wmflabs.org": 1,
  "toolforge.org": 1,
  "wmcloud.org": 1,
  "panel.gg": 1,
  "daemon.panel.gg": 1,
  "messwithdns.com": 1,
  "woltlab-demo.com": 1,
  "myforum.community": 1,
  "community-pro.de": 1,
  "diskussionsbereich.de": 1,
  "community-pro.net": 1,
  "meinforum.net": 1,
  "affinitylottery.org.uk": 1,
  "raffleentry.org.uk": 1,
  "weeklylottery.org.uk": 1,
  "wpenginepowered.com": 1,
  "js.wpenginepowered.com": 1,
  "wixsite.com": 1,
  "editorx.io": 1,
  "wixstudio.io": 1,
  "wix.run": 1,
  "half.host": 1,
  "xnbay.com": 1,
  "u2.xnbay.com": 1,
  "u2-local.xnbay.com": 1,
  "cistron.nl": 1,
  "demon.nl": 1,
  "xs4all.space": 1,
  "yandexcloud.net": 1,
  "storage.yandexcloud.net": 1,
  "website.yandexcloud.net": 1,
  "official.academy": 1,
  "yolasite.com": 1,
  "ybo.faith": 1,
  "yombo.me": 1,
  "homelink.one": 1,
  "ybo.party": 1,
  "ybo.review": 1,
  "ybo.science": 1,
  "ybo.trade": 1,
  "ynh.fr": 1,
  "nohost.me": 1,
  "noho.st": 1,
  "za.net": 1,
  "za.org": 1,
  "bss.design": 1,
  "basicserver.io": 1,
  "virtualserver.io": 1,
  "enterprisecloud.nu": 1
}

/***/ }),

/***/ "./core/data/resources.js":
/*!********************************!*\
  !*** ./core/data/resources.js ***!
  \********************************/
/***/ ((__unused_webpack_module, exports) => {

exports.resources = {
  "blank-text": "data:text/plain,",
  "blank-css": "data:text/css,",
  "blank-js": "data:application/javascript,",
  "blank-html": "data:text/html,<!DOCTYPE html><html><head></head><body></body></html>",
  "blank-mp3": "data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjIwLjEwMAAAAAAAAAAAAAAA//tUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAGAAADAABgYGBgYGBgYGBgYGBgYGBggICAgICAgICAgICAgICAgICgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4P////////////////////8AAAAATGF2YzU4LjM1AAAAAAAAAAAAAAAAJAYAAAAAAAAAAwDVxttG//sUZAAP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAETEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZB4P8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZDwP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZFoP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZHgP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZJYP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",
  "blank-mp4": "data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAuJtZGF0AAACrwYF//+r3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2MCByMzAxMU0gY2RlOWE5MyAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjAgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MCB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz0yIGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAACNliIQAK//+9dvzLK5umjbe9jc2CT9EPcfnoOYC2tjtP+go4QAAAwRtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAKAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACLnRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAZAAAADgAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAACgAAAAAAAEAAAAAAaZtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAADIAAAACAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAFRbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABEXN0YmwAAACtc3RzZAAAAAAAAAABAAAAnWF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAZAA4AEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAA3YXZjQwFkAAr/4QAaZ2QACvNlHJ42JwEQAAADABAAAAMDIPEiWWABAAZo6+PLIsD8+PgAAAAAEHBhc3AAAAABAAAAAQAAABhzdHRzAAAAAAAAAAEAAAABAAACAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAALaAAAAAQAAABRzdGNvAAAAAAAAAAEAAAAwAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1OC40NS4xMDA=",
  "1x1-transparent-gif": "data:image/gif;base64,R0lGODlhAQABAIABAAAAAP///yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",
  "2x2-transparent-png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAC0lEQVQI12NgQAcAABIAAe+JVKQAAAAASUVORK5CYII=",
  "3x2-transparent-png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAYAAACddGYaAAAAC0lEQVQI12NgwAUAABoAASRETuUAAAAASUVORK5CYII=",
  "32x32-transparent-png": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGklEQVRYw+3BAQEAAACCIP+vbkhAAQAAAO8GECAAAZf3V9cAAAAASUVORK5CYII="
}

/***/ }),

/***/ "./core/lib/analytics.js":
/*!*******************************!*\
  !*** ./core/lib/analytics.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



const {Prefs} = __webpack_require__(/*! prefs */ "./sdk/api/prefs.js");

const {MILLIS_IN_DAY} = __webpack_require__(/*! ./time */ "./core/lib/time.js");

/**
 * Converts a version string into a `Date` object with minute-level precision.
 *
 * @param {string} version The version string in `YYYYMMDD[HH[MM]]` format or
 *   just the value `"0"`.
 *
 * @returns {Date} A `Date` object. If the value of `version` is `"0"`, the
 *   returned value represents the Unix epoch.
 */
function versionToDate(version) {
  if (version == "0") {
    return new Date(0);
  }

  let year = version.substring(0, 4);
  let month = version.substring(4, 6);
  let date = version.substring(6, 8);

  let hours = version.substring(8, 10) || "00";
  let minutes = version.substring(10, 12) || "00";

  // The input is nearly a valid ISO 8601 timestamp, except for the hyphens,
  // the colon, and the special characters T and Z. We can use the timestamp
  // string version of the Date constructor directly. Alternatively, we could
  // use Date.UTC(), but that would require some adjustment to the values
  // (e.g. the month must be 0-based).
  return new Date(`${year}-${month}-${date}T${hours}:${minutes}Z`);
}

/**
 * Strips the value of the `firstVersion` parameter down to either `YYYYMMDD`,
 * `YYYYMM`, or `YYYY` depending on its distance from the value of the
 * `currentVersion` parameter.
 *
 * @param {string} firstVersion A version string in `YYYYMMDD[HH[MM]]` format
 *   with an optional `"-E"` suffix or just `"0"` or `"0-E"`.
 * @param {string} currentVersion A version string in `YYYYMMDD[HH[MM]]` format
 *   or just `"0"`.
 *
 * @returns {?string}
 */
function stripFirstVersion(firstVersion, currentVersion) {
  let eFlag = firstVersion.endsWith("-E");
  if (eFlag) {
    firstVersion = firstVersion.slice(0, -2);
  }

  try {
    let firstDate = versionToDate(firstVersion);
    let currentDate = versionToDate(currentVersion);

    if (currentDate - firstDate > 365 * MILLIS_IN_DAY) {
      firstVersion = firstVersion.substring(0, 4);
    }
    else if (currentDate - firstDate > 30 * MILLIS_IN_DAY) {
      firstVersion = firstVersion.substring(0, 6);
    }
    else {
      firstVersion = firstVersion.substring(0, 8);
    }
  }
  catch (error) {
    return null;
  }

  if (eFlag) {
    firstVersion += "-E";
  }

  return firstVersion;
}

/**
 * Checks whether this is a fresh installation.
 * @returns {boolean}
 */
function isFreshInstall() {
  return !("data" in Prefs.notificationdata);
}

/**
 * `{@link module:analytics.analytics analytics}` implementation.
 */
class Analytics {
  /**
   * @hideconstructor
   */
  constructor() {
  }

  /**
   * Checks whether the given URL is trusted for analytics purposes based on
   * the value of the `analytics.trustedHosts` preference.
   *
   * @param {string} url The URL.
   *
   * @returns {boolean} Whether the URL is trusted.
   */
  isTrusted(url) {
    let {trustedHosts} = Prefs.analytics || {};
    if (Array.isArray(trustedHosts)) {
      try {
        return trustedHosts.includes(new URL(url).host);
      }
      catch (error) {
      }
    }

    return false;
  }

  /**
   * Returns a string indicating the version of the first ever downloaded
   * resource (as recorded by
   * `{@link module:analytics~Analytics#recordVersion recordVersion()}`), for
   * the purpose of cohort analysis.
   *
   * For privacy reasons, the original value is stripped down to either
   * `YYYYMMDD`, `YYYYMM`, or `YYYY` depending on its age. An `-E` suffix is
   * appended to the original value if it was recorded on an existing
   * installation.
   *
   * @returns {?string} A string indicating the version of the first ever
   *   downloaded resource, or `"0"` or `"0-E"` if there is no data, or `null`
   *   in case of a parsing error.
   */
  getFirstVersion() {
    let {analytics} = Prefs;
    if (analytics) {
      let {firstVersion = "0", currentVersion = "0"} = analytics.data || {};
      let strippedFirstVersion = stripFirstVersion(firstVersion,
                                                   currentVersion);
      if (strippedFirstVersion) {
        if (strippedFirstVersion == "0" && !isFreshInstall()) {
          strippedFirstVersion = "0-E";
        }

        return strippedFirstVersion;
      }
    }

    return null;
  }

  /**
   * Records the version of a downloaded resource for the purpose of cohort
   * analysis.
   *
   * The value of the `analytics` preference must be set at least to an
   * empty object, otherwise nothing is ever recorded and
   * `{@link module:analytics~Analytics#getFirstVersion getFirstVersion()}`
   * always returns `null`.
   *
   * @param {string} version The version, in `YYYYMMDD[HH[MM]]` format.
   */
  recordVersion(version) {
    if (!/^(\d{8}|\d{10}|\d{12})$/.test(version)) {
      return;
    }

    let {analytics} = Prefs;
    if (analytics) {
      if (!analytics.data) {
        analytics.data = {};
      }

      let {data} = analytics;

      data.currentVersion = version;

      if (typeof data.firstVersion == "undefined") {
        // If this is not a new installation, set the -E flag.
        if (!isFreshInstall()) {
          version += "-E";
        }

        data.firstVersion = version;
      }

      // JSON values aren't saved unless they are assigned a different object.
      Prefs.analytics = JSON.parse(JSON.stringify(analytics));
    }
  }
}

/**
 * Implements data analytics functions.
 * @type {module:analytics~Analytics}
 */
exports.analytics = new Analytics();


/***/ }),

/***/ "./core/lib/caching.js":
/*!*****************************!*\
  !*** ./core/lib/caching.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * A `Cache` object represents a cache of arbitrary data.
 * @package
 */
exports.Cache = class Cache extends Map {
  /**
   * Creates a cache.
   * @param {number} capacity The maximum number of entries that can exist in
   *   the cache.
   */
  constructor(capacity) {
    // Note: This check works for non-number values.
    if (!(capacity >= 1)) {
      throw new Error("capacity must be a positive number.");
    }

    super();
    this._capacity = capacity;
  }

  /**
   * Writes an entry to the cache.
   *
   * If the cache has reached the specified maximum number of entries, all the
   * old entries are cleared first.
   *
   * @param {?*} key The key for the entry.
   * @param {?*} value The value of the entry.
   */
  set(key, value) {
    // To prevent logical errors, neither key nor value is allowed to be
    // undefined.
    if (typeof key == "undefined") {
      throw new Error("key must not be undefined.");
    }

    if (typeof value == "undefined") {
      throw new Error("value must not be undefined.");
    }

    if (this.size == this._capacity && !this.has(key)) {
      this.clear();
    }

    super.set(key, value);
  }
};


/***/ }),

/***/ "./core/lib/contentTypes.js":
/*!**********************************!*\
  !*** ./core/lib/contentTypes.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



let contentTypes =
/**
 * Content types for request blocking and allowing (allowlisting).
 *
 * There are two kinds of content types: resource types, and special
 * (non-resource) types.
 *
 * Resource types include web resources like scripts, images, and so on.
 *
 * Special types include filter options for popup blocking and CSP header
 * injection as well as flags for allowing documents.
 *
 * By default a filter matches any resource type, but if a filter has an
 * explicit resource type, special option, or allowing flag, like
 * `$script`, `$popup`, or `$elemhide`, then it matches only the given type,
 * option, or flag.
 *
 * @type {Object}
 *
 * @public
 */
exports.contentTypes = {
  // Types of web resources.
  OTHER: 1,
  SCRIPT: 2,
  IMAGE: 4,
  STYLESHEET: 8,
  OBJECT: 16,
  SUBDOCUMENT: 32,
  WEBSOCKET: 128,
  WEBRTC: 256,
  WEBBUNDLE: 512,
  PING: 1024,
  XMLHTTPREQUEST: 2048, // 1 << 11

  MEDIA: 16384,
  FONT: 32768, // 1 << 15

  // Special filter options.
  POPUP: 1 << 24,
  CSP: 1 << 25,
  HEADER: 1 << 26,

  // Allowing flags.
  DOCUMENT: 1 << 27,
  GENERICBLOCK: 1 << 28,
  ELEMHIDE: 1 << 29,
  GENERICHIDE: 1 << 30
};

// Backwards compatibility.
contentTypes.BACKGROUND = contentTypes.IMAGE;
contentTypes.XBL = contentTypes.OTHER;
contentTypes.DTD = contentTypes.OTHER;

const RESOURCE_TYPES =
/**
 * Bitmask for resource types like `$script`, `$image`, `$stylesheet`, and so
 * on.
 *
 * If a filter has no explicit content type, it applies to all resource types
 * (but not to any {@link module:contentTypes.SPECIAL_TYPES special types}).
 *
 * @const {number}
 *
 * @package
 */
// The first 24 bits are reserved for resource types like "script", "image",
// and so on.
// https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest/ResourceType
exports.RESOURCE_TYPES = (1 << 24) - 1;

const SPECIAL_TYPES = ~RESOURCE_TYPES & (1 << 31) - 1;
/**
 * Bitmask for special "types" (options and flags) like `$csp`, `$elemhide`,
 * and so on.
 *
 * @const {number}
 *
 * @package
 */
exports.SPECIAL_TYPES = SPECIAL_TYPES;

/**
 * Bitmask for "types" that match against request context more than
 * actual content type. When matching against context types, you
 * should also include the request's resource type.
 *
 * @const {number}
 *
 * @package
 */
const CONTEXT_TYPES = contentTypes.HEADER | contentTypes.CSP;
exports.CONTEXT_TYPES = CONTEXT_TYPES;

/**
 * Bitmask for "types" (flags) that are for exception rules only, like
 * `$document`, `$elemhide`, and so on.
 *
 * @const {number}
 *
 * @package
 */
exports.ALLOWING_TYPES = contentTypes.DOCUMENT |
                         contentTypes.GENERICBLOCK |
                         contentTypes.ELEMHIDE |
                         contentTypes.GENERICHIDE;

/**
 * Yields individual types from a filter's type mask.
 *
 * @param {number} contentType A filter's type mask.
 * @param {number} [selection] Which types to yield.
 *
 * @generator
 * @yields {number}
 *
 * @package
 */
exports.enumerateTypes = function* enumerateTypes(contentType, selection = ~0) {
  for (let mask = contentType & selection, bitIndex = 0;
    mask != 0; mask >>>= 1, bitIndex++) {
    if ((mask & 1) != 0) {
      // Note: The zero-fill right shift by zero is necessary for dropping the
      // sign.
      yield 1 << bitIndex >>> 0;
    }
  }
};


/***/ }),

/***/ "./core/lib/date.js":
/*!**************************!*\
  !*** ./core/lib/date.js ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



const toLocalISODateString =
/**
 * Formats only the date portion in ISO format (YYYY-MM-DD).
 *
 * Differs from Date.prototype.toISOString() in that it uses the local timezone
 * to determine the date, and does not include the time portion in the result.
 *
 * @param {Date} date date to be formatted
 * @return {String} date string in the format YYYY-MM-DD
 */
exports.toLocalISODateString = function(date) {
  let year = String(date.getFullYear()).padStart(4, "0");
  let month = String(date.getMonth() + 1).padStart(2, "0");
  let day = String(date.getDate()).padStart(2, "0");

  return `${year}-${month}-${day}`;
};

/**
 * Formats only the date portion in ISO format (YYYY-MM-DD), using the passed in
 * cutoff time instead of midnight as the boundary between days.
 *
 * @param {Date} date Date to be formatted
 * @param {number} dayCutoffMinutes Number of minutes after midnight in the
 *   local timezone which shold be used as the boundary between days instead of
 *   midnight.
 * @return {String} Date string in the format YYYY-MM-DD
 */
exports.toLocalISODateStringWithCutoffTime = function(date, dayCutoffMinutes) {
  let timeOfDay = date.getHours() * 60 + date.getMinutes();
  let dayBucket = date;
  if (timeOfDay < dayCutoffMinutes) {
    dayBucket.setDate(dayBucket.getDate() - 1);
  }

  return toLocalISODateString(dayBucket);
};


/***/ }),

/***/ "./core/lib/dnr/index.js":
/*!*******************************!*\
  !*** ./core/lib/dnr/index.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */



/** @module */

const {Pattern} = __webpack_require__(/*! ../patterns */ "./core/lib/patterns.js");
const {parseDomains, hasWildcard} = __webpack_require__(/*! ../url */ "./core/lib/url.js");
const {contentTypes, RESOURCE_TYPES} = __webpack_require__(/*! ../contentTypes */ "./core/lib/contentTypes.js");
const {
  generateCSPRules,
  generateAllowingRules,
  generateRedirectRules,
  generateBlockingRules,
  validateRule
} = __webpack_require__(/*! ./rules */ "./core/lib/dnr/rules.js");
const {parse, FilterParsingError} = __webpack_require__(/*! ../filters */ "./core/lib/filters/index.js");

/**
 * @typedef {Object} ConverterOptions
 * @property {function} isRegexSupported a sync/async method to check if a
 *  generic regular expression is compatible with the engine.
 * @property {function} modifyRule a sync method to modify a DNR rule if needed.
 */

/**
 * Returns a callback bound to the given options.
 * @param {ConverterOptions} options in Mv3 Web extensions this would be
 *  `chrome.declarativeNetRequest.isRegexSupported`, so that it's possible to
 *  pass `chrome.declarativeNetRequest` directly as option.
 * @returns {function}
 */
exports.createConverter = options => convert.bind({
  ...options,
  // ensure a callback to verify RegExp when needed
  // By default regex are not supported.
  isRegexSupported: options.isRegexSupported || (() => false),
  // ensure a callback to modify a DNR rule when needed
  modifyRule: options.modifyRule || ((rule, context) => rule)
});

/**
 * @typedef {Object} Rule see https://developer.chrome.com/docs/extensions/reference/declarativeNetRequest/#type-Rule
 * @property {object} action see https://developer.chrome.com/docs/extensions/reference/declarativeNetRequest/#type-RuleAction
 * @property {object} condition see https://developer.chrome.com/docs/extensions/reference/declarativeNetRequest/#type-RuleCondition
 * @property {number} id a unique identifier for this rule
 * @property {number?} priority optional priority of the filter
 */

/**
 * Returns an array with DNR Rules if the text is network related, or an Error
 * if no suitable rule can be created.
 * @param {string} text the filter text to convert or the generated error.
 * @returns {Promise<Rule[]|FilterParsingError>}
 */
async function convert(text) {
  const result = parse(text);

  if (result instanceof FilterParsingError) {
    return result;
  }

  return await asDNR.call(this, result);
}

/** Convert a parsed filter to a DeclarativeNetRequest
 *
 * To work properly this function must be bound to an object that
 * has a method `isRegexSupported` that will return whether the RegExp
 * passed as argument is valid or not for DNR. This is necessary as
 * they have to be RE2 expection and this syntax isn't supported by native
 * JavaScript. There is a (native) node module or the Chrome WebExtension
 * API. `createConverter` will provide a default function that always
 * return true.
 *
 * @param {module:filters/index~ParsedFilter} parsedFilter The parsed filter
 *   object.
 * @return {Promise<Rule[]|Error>}
 */
async function asDNR(parsedFilter) {
  let {
    blocking,
    text,
    regexpSource,
    contentType,
    matchCase,
    domains,
    thirdParty,
    sitekeys,
    header,
    rewrite,
    csp
  } = parsedFilter;

  // Sitekey aren't currently handled with DeclarativeNetRequest
  if (sitekeys || header) {
    return new FilterParsingError("filter_unknown_option",
                                  {
                                    option: sitekeys ? "sitekey" : "header",
                                    text
                                  });
  }

  try {
    const urlPattern = new Pattern(regexpSource, matchCase);
    let {pattern: urlFilter} = urlPattern;
    let checkValidRegExp = true;
    let hostname;

    matchCase = urlPattern.matchCase;

    if (urlFilter) {
      // We need to split out the hostname part (if any) of the filter, then
      // decide if it can be matched as lowercase or not.
      let match = /^(\|\||[a-zA-Z]*:\/\/)([^*^?/|]*)(.*)$/.exec(urlFilter);
      if (match) {
        hostname = match[2].toLowerCase();
        urlFilter = match[1] + hostname + match[3];
      }

      // The declarativeNetRequest API does not like the urlFilter to have a
      // redundant ||* prefix, so let's strip that now.
      if (urlFilter.startsWith("||*")) {
        // A pattern beginning with `||*` isn't allowed, and `*`
        // should be used instead. So let's remove the `||`
        // See https://developer.chrome.com/docs/extensions/reference/declarativeNetRequest/#type-RuleCondition
        urlFilter = urlFilter.substr(2);
      }
    }
    else if (urlPattern.regexp) {
      checkValidRegExp = await this.isRegexSupported({
        regex: urlPattern.regexp.source,
        isCaseSensitive: matchCase
      });
    }

    if (!checkValidRegExp) {
      return new FilterParsingError("filter_invalid_regexp",
                                    {
                                      regexp: urlPattern.regexp.source,
                                      text
                                    });
    }

    const filter = {
      blocking,
      regexp: urlPattern.regexp,
      contentType: contentType || RESOURCE_TYPES,
      thirdParty,
      rewrite,
      csp,
      domains: domains === null ? null : parseDomains(
        domains.toLowerCase(), "|")
    };


    // Filter TLD wildcards are not supported in DNR,
    // However ".*" in URL part of request filters are interpreted as
    // "dot followed by sequence of characters" and are supported by Chromium:
    // https://developer.chrome.com/docs/extensions/reference/api/declarativeNetRequest#property-RuleCondition-urlFilter
    // The TLD wildcards in domains list are not supported by Chromium
    // and thus are not converted into DNR rules.
    if (filter.domains) {
      for (let domain of filter.domains.keys()) {
        if (hasWildcard(domain)) {
          return [];
        }
      }
    }

    let result;
    if (contentType & contentTypes.CSP) {
      result = generateCSPRules(filter, urlFilter, matchCase);
    }
    else if (!blocking) {
      result = generateAllowingRules(filter, urlFilter, matchCase);
    }
    else if (rewrite) {
      result = generateRedirectRules(filter, urlFilter, matchCase);
    }
    else {
      result = generateBlockingRules(filter, urlFilter, matchCase);
    }

    let context = {
      text: parsedFilter.text
    };
    return result
      .map(rule => this.modifyRule(rule, context))
      .map(validateRule);
  }
  catch (error) {
    return new FilterParsingError("filter_invalid_regexp",
                                  {regexp: regexpSource, text});
  }
}

exports.asDNR = asDNR;


/***/ }),

/***/ "./core/lib/dnr/mapper.js":
/*!********************************!*\
  !*** ./core/lib/dnr/mapper.js ***!
  \********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */



/** @module */

/**
 * DNR Mapper. Will lazy load the data as needed.
 */
exports.DnrMapper = class DnrMapper {
  /**
   * @param {Function} loader The loader for the mapping data. The
   *     loader function will return the JSON parse output of the map
   *     files. In a Web Extension it will likely use `fetch` to load
   *     it from the extension files. The loader will be called when
   *     the map needs to be used the first time. The function can be
   *     async.
   *
   * @constructor
   */
  constructor(loader) {
    this.loader = loader;
    // A null map is a map that needs to be loaded.
    this.map = null;
  }

  /**
   * Call the loader.
   * @private
   */
  async _loadMapper() {
    this.map = new Map(await this.loader());
  }

  /**
   * Load the map. Because it is async it can't be done on a get.
   * Ideally you'd delay calling it to when neeeded. It is safe to
   * call more than once.
   * @async
   */
  async load() {
    if (this.map === null) {
      await this._loadMapper();
    }
  }

  /**
   * Get the rule ids for the text. Make sure `load()` has been called
   * once previously.
   *
   * @param {string} text The filter text to get the mapping from.
   *
   * @returns {?Array.<number>} The array of rule IDs if found.
   */
  get(text) {
    if (this.map === null) {
      throw new Error("Mapper not loaded.");
    }

    return this.map.get(text);
  }
};


/***/ }),

/***/ "./core/lib/dnr/rules.js":
/*!*******************************!*\
  !*** ./core/lib/dnr/rules.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */



/** @module */

const {contentTypes} = __webpack_require__(/*! ../contentTypes */ "./core/lib/contentTypes.js");
const {resources} = __webpack_require__(/*! ../../data/resources.js */ "./core/data/resources.js");

// We differentiate generic rules from specific ones in order to support the
// conversion of $genericblock exception filters. Since with the
// declarativeNetRequest API "allow" rules take priority over "allowAllRequest"
// rules, we also need to take care to give "allowAllRequest" rules a slighlty
// higher priority.
const GENERIC_PRIORITY = 1000;
exports.GENERIC_PRIORITY = GENERIC_PRIORITY;
const GENERIC_ALLOW_ALL_PRIORITY = 1001;
exports.GENERIC_ALLOW_ALL_PRIORITY = GENERIC_ALLOW_ALL_PRIORITY;
const SPECIFIC_PRIORITY = 2000;
exports.SPECIFIC_PRIORITY = SPECIFIC_PRIORITY;
const SPECIFIC_ALLOW_ALL_PRIORITY = 2001;
exports.SPECIFIC_ALLOW_ALL_PRIORITY = SPECIFIC_ALLOW_ALL_PRIORITY;


const requestTypes = new Map([
  [contentTypes.OTHER, ["other", "csp_report"]],
  [contentTypes.SCRIPT, ["script"]],
  [contentTypes.IMAGE, ["image"]],
  [contentTypes.STYLESHEET, ["stylesheet"]],
  [contentTypes.OBJECT, ["object"]],
  [contentTypes.SUBDOCUMENT, ["sub_frame"]],
  [contentTypes.WEBSOCKET, ["websocket"]],
  [contentTypes.WEBBUNDLE, ["webbundle"]],
  [contentTypes.PING, ["ping"]],
  [contentTypes.XMLHTTPREQUEST, ["xmlhttprequest"]],
  [contentTypes.MEDIA, ["media"]],
  [contentTypes.FONT, ["font"]]
]);
exports.requestTypes = requestTypes;

const supportedRequestTypes = Array.from(requestTypes.keys())
                                   .reduce(((srt, t) => srt | t));
exports.supportedRequestTypes = supportedRequestTypes;

function getResourceTypes(filterContentType) {
  // The default is to match everything except "main_frame", which is fine.
  if ((filterContentType & supportedRequestTypes) == supportedRequestTypes) {
    return;
  }

  let result = [];

  for (let [mask, types] of requestTypes) {
    if (filterContentType & mask) {
      result = result.concat(types);
    }
  }

  return result;
}

function getDomains(filterDomains) {
  let domains = [];
  let excludedDomains = [];
  let isGenericFilter = true;

  if (filterDomains) {
    for (let [domain, enabled] of filterDomains) {
      if (domain == "") {
        isGenericFilter = enabled;
      }
      else {
        (enabled ? domains : excludedDomains).push(domain);
      }
    }
  }

  return {domains, excludedDomains, isGenericFilter};
}

function getCondition(filter, urlFilter, resourceTypes, matchCase) {
  let condition = {};

  if (urlFilter) {
    condition.urlFilter = urlFilter;
  }
  else if (filter.regexp) {
    condition.regexFilter = filter.regexp.source;
  }

  if (resourceTypes) {
    condition.resourceTypes = resourceTypes;
  }

  // Before Chromium 118, the default for isUrlFilterCaseSensitive is true. From
  // Chromium 118, the default is false. If we at some point make our minimum
  // supported Chromium 118, then we can leave this undefined if !matchCase.
  condition.isUrlFilterCaseSensitive = matchCase;

  if (filter.thirdParty != null) {
    condition.domainType = filter.thirdParty ? "thirdParty" : "firstParty";
  }

  let {domains, excludedDomains, isGenericFilter} = getDomains(filter.domains);

  if (domains.length) {
    condition.domains = domains;
  }
  if (excludedDomains.length) {
    condition.excludedDomains = excludedDomains;
  }

  return [condition, isGenericFilter];
}

exports.generateRedirectRules = function(filter, urlFilter, matchCase) {
  let url = resources[filter.rewrite];

  // We can't generate rules for unknown abp-resources...
  if (!url) {
    return [];
  }

  let resourceTypes = getResourceTypes(filter.contentType);

  // We can't generate rules for filters which don't include any supported
  // resource types.
  if (resourceTypes && resourceTypes.length == 0) {
    return [];
  }

  let [condition, isGenericFilter] = getCondition(
    filter, urlFilter, resourceTypes, matchCase
  );

  return [{
    priority: isGenericFilter ? GENERIC_PRIORITY : SPECIFIC_PRIORITY,
    condition,
    action: {
      type: "redirect",
      redirect: {url}
    }
  }];
};

exports.generateCSPRules = function(filter, urlFilter, matchCase) {
  let [condition, isGenericFilter] = getCondition(
    filter, urlFilter, ["main_frame", "sub_frame"], matchCase
  );

  let rule;

  if (!filter.blocking) {
    // The DNR makes no distinction between CSP rules and main_frame/sub_frame
    // rules. Ideally, we would give CSP rules a different priority therefore,
    // to ensure that a $csp exception filter would not accidentally allowlist
    // the whole website. Unfortunately, I don't think that's possible if we are
    // to also support the distinction between specific and generic rules.
    //   Luckily, we are adding an "allow" rule (not "allowAllRequest") here and
    // there is no such thing as a blocking filter which applies to the
    // $document (main_frame), so we don't have to worry about that. There is
    // such a thing as a $subdocument blocking filter though, which a $csp
    // exception filter should not usually affect.
    //   As a compromise in order to support both $csp and $genericblock, we
    // accept that $csp exception filters might wrongly prevent frame-blocking
    // filters from matching. If this compromise proves problematic, we might
    // need to reconsider this in the future.
    rule = {
      action: {
        type: "allow"
      },
      condition,
      priority: filter.contentType & contentTypes.GENERICBLOCK ?
                  GENERIC_PRIORITY : SPECIFIC_PRIORITY
    };
  }
  else {
    rule = {
      action: {
        type: "modifyHeaders",
        responseHeaders: [{
          header: "Content-Security-Policy",
          operation: "append",
          value: filter.csp
        }]
      },
      condition,
      priority: isGenericFilter ? GENERIC_PRIORITY : SPECIFIC_PRIORITY
    };
  }

  // Chromium doesn't consider main_frame requests to have initiated from their
  // URL, so the domains/excludedDomains rule conditions won't work as expected
  // for main_frame requests. This is a problem for $csp filters which also use
  // the $domain option. As a partial workaround, we generate a separate
  // urlFilter rule for each domain. But note, we can't support excludedDomains
  // ($csp=...$~domain=...) or urlFilter conditions (||...$csp=...,domain=...).
  // See https://bugs.chromium.org/p/chromium/issues/detail?id=1207326
  //
  // Note: Hopefully, this workaround won't be necessary for long, but if we
  // need it long-term, then perhaps we should generate one rule with a longer
  // regexFilter condition instead. But if we do that, we will need to be
  // careful not to hit the memory limit for regular expression rule conditions
  // and also to match subdomains correctly.
  if (rule.condition.excludedDomains) {
    return [];
  }
  if (rule.condition.domains) {
    if (condition.urlFilter) {
      return [];
    }

    let {domains} = condition;
    delete condition.domains;

    let rules = [];
    for (let domain of domains) {
      let domainRule = JSON.parse(JSON.stringify(rule));
      domainRule.condition.urlFilter = "||" + domain + "^";
      rules.push(domainRule);
    }

    return rules;
  }

  return [rule];
};

exports.generateBlockingRules = function(filter, urlFilter, matchCase) {
  let resourceTypes = getResourceTypes(filter.contentType);

  // We can't generate rules for filters which don't include any supported
  // resource types.
  if (resourceTypes && resourceTypes.length == 0) {
    return [];
  }

  let [condition, isGenericFilter] = getCondition(
    filter, urlFilter, resourceTypes, matchCase
  );

  return [{
    priority: isGenericFilter ? GENERIC_PRIORITY : SPECIFIC_PRIORITY,
    condition,
    action: {
      type: "block"
    }
  }];
};

exports.generateAllowingRules = function(filter, urlFilter, matchCase) {
  let rules = [];
  let {contentType} = filter;

  let genericBlock = contentType & contentTypes.GENERICBLOCK;

  if (contentType & contentTypes.DOCUMENT || genericBlock) {
    contentType &= ~contentTypes.SUBDOCUMENT;

    rules.push({
      priority: genericBlock ?
                  GENERIC_ALLOW_ALL_PRIORITY : SPECIFIC_ALLOW_ALL_PRIORITY,
      condition: getCondition(
        filter, urlFilter, ["main_frame", "sub_frame"], matchCase)[0],
      action: {
        type: "allowAllRequests"
      }
    });
  }

  let resourceTypes = getResourceTypes(contentType);
  if (!resourceTypes || resourceTypes.length) {
    rules.push({
      priority: genericBlock ? GENERIC_PRIORITY : SPECIFIC_PRIORITY,
      condition: getCondition(filter, urlFilter, resourceTypes, matchCase)[0],
      action: {
        type: "allow"
      }
    });
  }

  return rules;
};

function validateIsAsciiOnly(str) {
  // [0-127] range is considered to be allowed ASCII characters
  if (!/^[\x00-\x7F]*$/.test(str)) {
    throw new Error(`Invalid ASCII characters found in: "${str}"`);
  }
}
exports.validateIsAsciiOnly = validateIsAsciiOnly;

function validateDomains(domains) {
  if (domains) {
    for (let domain of domains) {
      validateIsAsciiOnly(domain);
    }
  }
}

function validateCondition(condition) {
  if (condition.urlFilter) {
    validateIsAsciiOnly(condition.urlFilter);
  }
  if (condition.regexFilter) {
    validateIsAsciiOnly(condition.regexFilter);
  }

  validateDomains(condition.initiatorDomains);
  validateDomains(condition.requestDomains);

  // deprecated starting Chrome 101
  validateDomains(condition.domains);
  validateDomains(condition.excludedDomains);

  // starting Chrome 101
  validateDomains(condition.excludedInitiatorDomains);
  validateDomains(condition.excludedRequestDomains);
}

exports.validateRule = function(rule) {
  try {
    validateCondition(rule.condition);
    return rule;
  }
  catch (e) {
    return e;
  }
};


/***/ }),

/***/ "./core/lib/downloader.js":
/*!********************************!*\
  !*** ./core/lib/downloader.js ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file Downloads a set of URLs in regular time intervals.
 */

const {MILLIS_IN_DAY} = __webpack_require__(/*! ./time */ "./core/lib/time.js");
const {isLocalhost} = __webpack_require__(/*! ./url */ "./core/lib/url.js");

/**
 * A type of function that yields `{@link module:downloader.Downloadable}`
 * objects to a `{@link module:downloader.Downloader}`.
 *
 * **Note**: The implementation must yield a new
 * `{@link module:downloader.Downloadable}` instance on each call with
 * up-to-date values for properties like
 * `{@link module:downloader.Downloadable#lastCheck}`,
 * `{@link module:downloader.Downloadable#lastVersion}`,
 * `{@link module:downloader.Downloadable#downloadCount}`, and others. If a
 * value is outdated, it may result in unexpected behavior.
 *
 * @callback DataSource
 *
 * @yields {module:downloader.Downloadable}
 * @generator
 *
 * @see module:downloader.Downloader
 * @see module:downloader.Downloader#dataSource
 */

/**
 * Use a `Downloader` object to download a set of URLs at regular time
 * intervals.
 *
 * This class is used by `{@link module:synchronizer.synchronizer}` and
 * `{@link module:notifications.notifications}`.
 *
 * @example
 *
 * function* dataSource()
 * {
 *   yield new Downloadable("https://example.com/filters.txt");
 * }
 *
 * let initialDelay = 1000;
 * let checkInterval = 60000;
 *
 * let downloader = new Downloader(dataSource);
 * downloader.scheduleChecks(checkInterval, initialDelay);
 *
 * downloader.onDownloadStarted = function(downloadable)
 * {
 *   console.log(`Downloading ${downloadable.url} ...`);
 * }
 *
 * @package
 */
exports.Downloader = class Downloader {
  /**
   * Creates a new downloader instance.
   * @param {module:downloader~DataSource} dataSource
   *   A function that yields `{@link module:downloader.Downloadable}` objects
   *   on each {@link module:downloader.Downloader#scheduleChecks check}.
   */
  constructor(dataSource) {
    /**
     * Maximal time interval that the checks can be left out until the soft
     * expiration interval increases.
     * @type {number}
     */
    this.maxAbsenceInterval = 1 * MILLIS_IN_DAY;

    /**
     * Minimal time interval before retrying a download after an error.
     * @type {number}
     */
    this.minRetryInterval = 1 * MILLIS_IN_DAY;

    /**
     * Maximal allowed expiration interval; larger expiration
     * intervals will be corrected.
     * @type {number}
     */
    this.maxExpirationInterval = 14 * MILLIS_IN_DAY;

    /**
     * Maximal number of redirects before the download is considered as failed.
     * @type {number}
     */
    this.maxRedirects = 5;

    /**
     * Called whenever expiration intervals for an object need to be adapted.
     * @type {function?}
     */
    this.onExpirationChange = null;

    /**
     * Callback to be triggered whenever a download starts.
     * @type {function?}
     */
    this.onDownloadStarted = null;

    /**
     * Callback to be triggered whenever a download finishes successfully.
     *
     * The callback can return an error code to indicate that the data is
     * wrong.
     *
     * @type {function?}
     */
    this.onDownloadSuccess = null;

    /**
     * Callback to be triggered whenever a download fails.
     * @type {function?}
     */
    this.onDownloadError = null;

    /**
     * A function that yields `{@link module:downloader.Downloadable}` objects
     * on each {@link module:downloader.Downloader#scheduleChecks check}.
     * @type {module:downloader~DataSource}
     */
    this.dataSource = dataSource;

    /**
     * Set containing the URLs of objects currently being downloaded.
     * (for DiffUpdatable subscriptions it's subscription URL, not diff URL)
     * @type {Set.<string>}
     */
    this._downloading = new Set();

    /**
     * Store the timeout ID for scheduled checks.
     * @type {number}
     */
    this._timeout = 0;
  }

  /**
   * Schedules checks at regular time intervals.
   *
   * @param {number} interval The interval between checks in milliseconds.
   * @param {number} delay The delay before the initial check in milliseconds.
   */
  scheduleChecks(interval, delay) {
    // clear previous timeouts if called too many times
    this.unscheduleChecks();

    let check = () => {
      try {
        this._doCheck();
      }
      finally {
        // Schedule the next check only after the callback has finished with
        // the current check.
        this._timeout =
          setTimeout(check, interval); // eslint-disable-line no-undef
      }
    };

    // Note: test/_common.js overrides setTimeout() for the tests; if this
    // global function is used anywhere else, it may give incorrect results.
    // This is why we disable ESLint's no-undef rule locally.
    // https://gitlab.com/eyeo/adblockplus/abc/adblockpluscore/issues/43
    this._timeout = setTimeout(check, delay); // eslint-disable-line no-undef
  }

  /**
   * Clear previously scheduled checks, if any.
   */
  unscheduleChecks() {
    if (this._timeout) {
      clearTimeout(this._timeout); // eslint-disable-line no-undef
      this._timeout = 0;
    }
  }

  /**
   * Checks whether anything needs downloading.
   */
  _doCheck() {
    let now = Date.now();
    for (let downloadable of this.dataSource()) {
      if (downloadable.lastCheck &&
          now - downloadable.lastCheck > this.maxAbsenceInterval) {
        // No checks for a long time interval - user must have been offline,
        // e.g.  during a weekend. Increase soft expiration to prevent load
        // peaks on the server.
        downloadable.softExpiration += now - downloadable.lastCheck;
      }
      downloadable.lastCheck = now;

      // Sanity check: do expiration times make sense? Make sure people changing
      // system clock don't get stuck with outdated subscriptions.
      if (downloadable.hardExpiration - now > this.maxExpirationInterval) {
        downloadable.hardExpiration = now + this.maxExpirationInterval;
      }
      if (downloadable.softExpiration - now > this.maxExpirationInterval) {
        downloadable.softExpiration = now + this.maxExpirationInterval;
      }

      // Notify the caller about changes to expiration parameters
      if (this.onExpirationChange) {
        this.onExpirationChange(downloadable);
      }

      // Does that object need downloading?
      if (downloadable.softExpiration > now &&
          downloadable.hardExpiration > now) {
        continue;
      }

      // Do not retry downloads too often
      if (downloadable.lastError &&
          now - downloadable.lastError < this.minRetryInterval) {
        continue;
      }

      this._download(downloadable, 0);
    }
  }

  /**
   * Checks whether an address is currently being downloaded.
   * @param {string} url
   * @returns {boolean}
   */
  isDownloading(url) {
    return this._downloading.has(url);
  }

  /**
   * Starts downloading for an object.
   * @param {Downloadable} downloadable
   */
  download(downloadable) {
    this._download(downloadable, 0);
  }

  /**
   * Generates the real download URL for an object by appending various
   * parameters.
   * @param {Downloadable} downloadable
   * @returns {string}
   */
  getDownloadUrl(downloadable) {
    const {addonName, addonVersion, application, applicationVersion,
           platform, platformVersion, manifestVersion} = __webpack_require__(/*! info */ "./sdk/api/info.js");

    let url = downloadable.redirectURL || downloadable.url;
    if (url.includes("?")) {
      url += "&";
    }
    else {
      url += "?";
    }

    // We limit the download count to 4+ to keep the request anonymized.
    let {downloadCount, disabled} = downloadable;
    if (downloadCount > 4) {
      downloadCount = "4+";
    }
    if (typeof disabled == "undefined") {
      disabled = false;
    }

    url += "addonName=" + encodeURIComponent(addonName) +
           "&addonVersion=" + encodeURIComponent(addonVersion) +
           "&application=" + encodeURIComponent(application) +
           "&applicationVersion=" + encodeURIComponent(applicationVersion) +
           "&platform=" + encodeURIComponent(platform) +
           "&platformVersion=" + encodeURIComponent(platformVersion) +
           "&lastVersion=" + encodeURIComponent(downloadable.lastVersion) +
           "&downloadCount=" + encodeURIComponent(downloadCount) +
           "&disabled=" + String(disabled) +
           "&manifestVersion=" + encodeURIComponent(manifestVersion) +
           "&safe=true";

    if (downloadable.firstVersion && !downloadable.redirectURL) {
      url += "&firstVersion=" + encodeURIComponent(downloadable.firstVersion);
    }

    return url;
  }

  _download(downloadable, redirects) {
    if (this.isDownloading(downloadable.originalUrl || downloadable.url)) {
      return;
    }

    let downloadUrl = this.getDownloadUrl(downloadable);
    let responseStatus = 0;

    let errorCallback = error => {
      console.warn("Adblock Plus: Downloading URL " + downloadable.url +
                   " failed (" + error + ")\n" +
                   "Download address: " + downloadUrl + "\n" +
                   "Server response: " + responseStatus);

      if (this.onDownloadError) {
        // Allow one extra redirect if the error handler gives us a redirect URL
        let redirectCallback = null;
        if (redirects <= this.maxRedirects) {
          redirectCallback = url => {
            downloadable.redirectURL = url;
            this._download(downloadable, redirects + 1);
          };
        }

        this.onDownloadError(
          downloadable, downloadUrl, error, responseStatus, redirectCallback
        );
      }
    };

    if (!Downloader.isValidURL(downloadUrl)) {
      errorCallback("synchronize_invalid_url");
      return;
    }

    let requestURL = new URL(downloadUrl);

    let initObj = {
      cache: "no-store",
      credentials: "omit",
      referrer: "no-referrer",
      method: downloadable.method
    };

    let handleError = () => {
      this._downloading.delete(downloadable.originalUrl || downloadable.url);
      errorCallback("synchronize_connection_error");
    };

    let handleResponse = response => {
      this._downloading.delete(downloadable.originalUrl || downloadable.url);

      // If the Response.url property is available [1], disallow redirection
      // from HTTPS to any other protocol.
      // [1]: https://developer.mozilla.org/en-US/docs/Web/API/Response/url#Browser_compatibility
      if (typeof response.url == "string" && requestURL.protocol == "https:" &&
          new URL(response.url).protocol != requestURL.protocol) {
        errorCallback("synchronize_connection_error");
        return;
      }

      responseStatus = response.status;

      if (responseStatus != 200) {
        function isDiffTooOld(dateString) {
          let date = new Date(dateString);
          let currentDate = new Date();
          let difference = currentDate - date;

          // The maximum age for diff URLs is 6 weeks. This length was set
          // somewhat arbitrarily, so it might be adjusted in the future
          // by the FLOPS team
          // https://jira.eyeo.com/browse/EE-297
          const sixWeeksInMilliseconds = 6 * 7 * 24 * 60 * 60 * 1000;
          return difference > sixWeeksInMilliseconds;
        }

        if (isDiffTooOld(downloadable.lastModified)) {
          errorCallback("synchronize_diff_too_old");
        }
        else {
          errorCallback("synchronize_connection_error");
        }
        return;
      }

      // We need to keep updated the subscription version even via HEAD.
      if (downloadable.method === "HEAD" || downloadable.originalUrl) {
        // However, as we don't know if the server would respond with such
        // detail, we need to be sure there is such `Date` or `date` field.
        let date = response.headers.get("Date") || response.headers.get("date");
        if (date) {
          // if that's the case, we want it to be formatted as YYYYMMDDHHMM.
          downloadable.lastVersion =
            new Date(date).toISOString().replace(/\D/g, "").slice(0, 12);
        }
      }

      if (!downloadable.disabled) {
        downloadable.downloadCount++;
      }

      response.text().then(
        responseText => {
          this.onDownloadSuccess(
            downloadable, responseText, errorCallback, url => {
              if (redirects >= this.maxRedirects) {
                errorCallback("synchronize_connection_error");
                return;
              }

              downloadable.redirectURL = url;
              this._download(downloadable, redirects + 1);
            }
          );
        },
        () => {
          errorCallback("synchronize_connection_error");
        }
      );
    };

    fetch(requestURL.href, initObj).then(handleResponse, handleError);

    this._downloading.add(downloadable.originalUrl || downloadable.url);

    if (this.onDownloadStarted) {
      this.onDownloadStarted(downloadable);
    }
  }

  /**
   * Produces a soft and a hard expiration time for a given supplied
   * expiration interval.
   *
   * Downloadable things, like Subscription, have a certain time after
   * which they expire and you need to download a new, updated version.
   *
   * To spread the load on our download servers, we'd rather that all
   * users not download updates at exactly the same time, so on
   * download we calculate a soft expiration time, which is randomly
   * chosen between 80% and 120% of the original time. When we pass
   * the soft expiration, we start trying to download updates.
   *
   * However, there are other events that could cause downloads to all
   * happen at the same time. If many people leave their computer off
   * over the weekend and sign in at the beginning of business hours
   * on Monday, we could still see a spike in downloads at the same
   * time. To combat this, the soft expiration time may be delayed to
   * accomodate these periods of inactivity.
   *
   * There are limits to how far we want to delay our download due to
   * inactivity. This is why we also calculate a hard expiration time,
   * which is 200% of the original time. When we pass the hard
   * expiration, we should try to download an update whether there was
   * inactivity or not.
   *
   * This function must be called to calculate the new expiration
   * times as soon as a new version is downloaded.
   *
   * @param {number} interval how often in milliseconds the
   * downloadable should be updated
   * @returns {Array.<number>} soft and hard expiration times in
   * milliseconds since the Unix epoch
   */
  processExpirationInterval(interval) {
    interval = Math.min(Math.max(interval, 0), this.maxExpirationInterval);
    let soft = Math.round(interval * (Math.random() * 0.4 + 0.8));
    let hard = interval * 2;
    let now = Date.now();
    return [now + soft, now + hard];
  }
};

/**
 * Checks whether a URL is a valid download URL.
 *
 * For a URL to be a valid download URL, its scheme must be `https` or `data`.
 * If the host component of the URL is `localhost`, `127.0.0.1`, or `[::1]`,
 * however, but its scheme is not `https` or `data`, the URL is still
 * considered to be a valid download URL.
 *
 * `https://example.com/`, `data:,Hello%2C%20World!`, and
 * `http://127.0.0.1/example.txt` are all examples of valid download URLs.
 *
 * @param {string} url The URL.
 *
 * @returns {boolean} Whether the URL is a valid download URL.
 *
 * @package
 */
exports.Downloader.isValidURL = function isValidURL(url) {
  try {
    url = new URL(url);
  }
  catch (error) {
    return false;
  }

  if (!["https:", "data:"].includes(url.protocol) &&
      !isLocalhost(url.hostname)) {
    return false;
  }

  return true;
};

/**
 * A `Downloadable` object represents a downloadable resource.
 * @package
 */
exports.Downloadable = class Downloadable {
  /**
   * Creates an object that can be downloaded by the downloader.
   * @param {string} url  URL that has to be requested for the object
   */
  constructor(url) {
    /**
     * URL that the download was redirected to if any.
     * @type {string?}
     */
    this.redirectURL = null;

    /**
     * Time of last download error or 0 if the last download was successful.
     * @type {number}
     */
    this.lastError = 0;

    /**
     * Time of last check whether the object needs downloading.
     * @type {number}
     */
    this.lastCheck = 0;

    /**
     * Object version corresponding to the last successful download.
     * @type {number}
     */
    this.lastVersion = 0;

    /**
     * A string indicating the version of the first ever downloaded resource,
     * in `YYYY[MM[DD]][-E]` format or just `"0"` or `"0-E"`.
     *
     * Note that unlike `{@link module:downloader.Downloadable#lastVersion}`
     * this property is related to analytics and its value is common across all
     * downloadable resources.
     *
     * If `{@link module:downloader.Downloadable#url}` is not a trusted URL,
     * the value of this property should be set to `null`.
     *
     * @see module:analytics~Analytics#getFirstVersion
     * @see module:analytics~Analytics#isTrusted
     *
     * @type {?string}
     *
     * @package
     */
    this.firstVersion = null;

    /**
     * Soft expiration time in milliseconds since the Unix epoch. This
     * will increase if no checks are performed for a while.
     *
     * Updates should be downloaded if `softExpiration` or
     * `{@link module:downloader.Downloadable#hardExpiration}` are in the past.
     * @type {number}
     */
    this.softExpiration = 0;

    /**
     * Hard expiration time in milliseconds since the Unix epoch. This
     * is fixed.
     *
     * Updates should be downloaded if
     * `{@link module:downloader.Downloadable#softExpiration}` or
     * `hardExpiration` are in the past.
     * @type {number}
     */
    this.hardExpiration = 0;

    /**
     * Number indicating how often the object was downloaded.
     * @type {number}
     */
    this.downloadCount = 0;

    /**
     * Request method to use, which is either "GET" or "HEAD".
     * @type {string}
     */
    this.method = "GET";

    /**
     * URL that has to be requested for the object.
     * @type {string}
     */
    this.url = url;

    /**
     * URL that stores the subscription URL when downloading occurs for
     * the m3 diff mechanism.
     * @type {string}
     */
    this.originalUrl = null;
  }
};


/***/ }),

/***/ "./core/lib/elemHide.js":
/*!******************************!*\
  !*** ./core/lib/elemHide.js ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file Element hiding implementation.
 */

const {domainSuffixes, hasWildcard, matchesWildcards} =
  __webpack_require__(/*! ./url */ "./core/lib/url.js");
const {FiltersByDomain, FilterMap} = __webpack_require__(/*! ./filtersByDomain */ "./core/lib/filtersByDomain.js");
const {Cache} = __webpack_require__(/*! ./caching */ "./core/lib/caching.js");
const {ElemHideExceptions} = __webpack_require__(/*! ./elemHideExceptions */ "./core/lib/elemHideExceptions.js");

class ElemHide {
  /**
   * @param {ElemHideExceptions} elemHideExceptions The associated element
   *   hiding exceptions.
   */
  constructor(elemHideExceptions) {
    if (!(elemHideExceptions instanceof ElemHideExceptions)) {
      throw new Error("elemHideExceptions must be an ElemHideExceptions");
    }

    /** @type {ElemHideExceptions} */
    this.elemHideExceptions = elemHideExceptions;

    /**
     * Lookup table, active flag, by filter by domain.
     *
     * (Only contains filters that aren't unconditionally matched for all
     * domains.)
     *
     * @type {FiltersByDomain}
     *
     * @private
     */
    this._filtersByDomain = new FiltersByDomain();

    /**
     * Lookup table, filter by selector.
     *
     * (Only used for selectors that are unconditionally matched for all
     * domains.)
     *
     * @type {Map.<string, Filter>}
     *
     * @private
     */
    this._filterBySelector = new Map();

    /**
     * This array caches the keys of
     * `{@link module:elemHide~ElemHide#_filterBySelector _filterBySelector}`
     * (selectors which unconditionally apply on all domains).
     *
     * It will be `null` if the cache needs to be rebuilt.
     *
     * @type {?Array.<string>}
     *
     * @private
     */
    this._unconditionalSelectors = null;

    /**
     * The default style sheet that applies on all domains.
     *
     * This is based on the value of
     * `{@link module:elemHide~ElemHide#_unconditionalSelectors
     *         _unconditionalSelectors}`.
     *
     * @type {?string}
     *
     * @private
     */
    this._defaultStyleSheet = null;

    /**
     * The common style sheet that applies on all unknown domains.
     *
     * This is a concatenation of the default style sheet and an additional
     * style sheet based on selectors from all generic filters that are not in
     * the `{@link module:elemHide~ElemHide#_unconditionalSelectors
     *             _unconditionalSelectors}` list.
     *
     * @type {?string}
     *
     * @private
     */
    this._commonStyleSheet = null;

    /**
     * Cache of generated domain-specific style sheets.
     *
     * This contains entries for only known domains. If a domain is unknown, it
     * gets `{@link module:elemHide~ElemHide#_commonStyleSheet
     *              _commonStyleSheet}`.
     *
     * @type {Cache.<string, string>}
     *
     * @private
     */
    this._styleSheetCache = new Cache(100);

    /**
     * Set containing known element hiding filters
     * @type {Set.<module:filterClasses.ElemHideFilter>}
     * @private
     */
    this._filters = new Set();

    /**
     * All domains known to occur in exceptions
     * @type {Set.<string>}
     * @private
     */
    this._exceptionDomains = new Set();

    /**
     * All domain with wildcards known to occur in exceptions
     * @type {Set<any>}
     * @private
     */
    this._exceptionDomainsWithWildcards = new Set();

    this.elemHideExceptions.on("added", this._onExceptionAdded.bind(this));
  }

  /**
   * Removes all known element hiding filters.
   */
  clear() {
    this._commonStyleSheet = null;

    for (let collection of [this._styleSheetCache, this._filtersByDomain,
                            this._filterBySelector, this._filters,
                            this._exceptionDomains,
                            this._exceptionDomainsWithWildcards]) {
      collection.clear();
    }

    this._unconditionalSelectors = null;
    this._defaultStyleSheet = null;
  }

  /**
   * Add a new element hiding filter.
   * @param {module:filterClasses.ElemHideFilter} filter
   */
  add(filter) {
    if (this._filters.has(filter)) {
      return;
    }

    this._styleSheetCache.clear();
    this._commonStyleSheet = null;

    let {domains, selector} = filter;

    if (!(domains || this.elemHideExceptions.hasExceptions(selector))) {
      // The new filter's selector is unconditionally applied to all domains
      this._filterBySelector.set(selector, filter);
      this._unconditionalSelectors = null;
      this._defaultStyleSheet = null;
    }
    else {
      // The new filter's selector only applies to some domains
      this._filtersByDomain.add(filter, domains);
    }

    this._filters.add(filter);
  }

  /**
   * Removes an existing element hiding filter.
   * @param {module:filterClasses.ElemHideFilter} filter
   */
  remove(filter) {
    if (!this._filters.has(filter)) {
      return;
    }

    this._styleSheetCache.clear();
    this._commonStyleSheet = null;

    let {selector} = filter;

    // Unconditially applied element hiding filters
    if (this._filterBySelector.get(selector) == filter) {
      this._filterBySelector.delete(selector);
      this._unconditionalSelectors = null;
      this._defaultStyleSheet = null;
    }
    // Conditionally applied element hiding filters
    else {
      this._filtersByDomain.remove(filter);
    }

    this._filters.delete(filter);
  }

  /**
   * Checks whether an element hiding filter exists.
   * @param {module:filterClasses.ElemHideFilter} filter
   * @returns {boolean}
   */
  has(filter) {
    return this._filters.has(filter);
  }

  /**
   * @typedef {Object} ElemHideStyleSheet
   * @property {string} code CSS code.
   * @property {?Array.<string>} selectors List of selectors.
   * @property {?Array.<string>} exceptions List of exceptions.
   */

  /**
   * Returns a style sheet for a given domain based on the current set of
   * filters.
   *
   * @param {string} domain The domain.
   * @param {boolean} [specificOnly=false] Whether selectors from generic
   *   filters should be included.
   * @param {boolean} [includeExceptions=false] Whether the return value should
   *   include a separate list of exceptions.
   *
   * @returns {module:elemHide~ElemHideStyleSheet} An object containing the CSS
   *   code and the list of selectors.
   */
  getStyleSheet(domain, specificOnly = false,
                includeExceptions = false) {
    let code = null;
    let selectors = null;
    let exceptions = null;

    if (specificOnly) {
      if (includeExceptions) {
        let selectorsAndExceptions =
          this._getConditionalSelectorsWithExceptions(domain, true);

        selectors = selectorsAndExceptions.selectors;
        exceptions = selectorsAndExceptions.exceptions;
      }
      else {
        selectors = this._getConditionalSelectors(domain, true);
      }

      code = createStyleSheet(selectors);
    }
    else {
      let knownSuffix = this._getKnownSuffix(domain);

      let selectorsAndExceptions =
        this._getConditionalSelectorsWithExceptions(knownSuffix, false);

      selectors = selectorsAndExceptions.selectors;
      exceptions = selectorsAndExceptions.exceptions;
      code = knownSuffix == "" ? this._getCommonStyleSheet() :
        this._getDefaultStyleSheet() + createStyleSheet(selectors);

      selectors = this._getUnconditionalSelectors().concat(selectors);
    }

    return {
      code,
      selectors,
      exceptions: includeExceptions ? exceptions : null
    };
  }

  /**
   * Returns the suffix of the given domain that is known.
   *
   * If no suffix is known, an empty string is returned.
   *
   * @param {?string} domain
   *
   * @returns {string}
   *
   * @private
   */
  _getKnownSuffix(domain) {
    for (let suffix of domainSuffixes(domain)) {
      if (this._filtersByDomain.has(suffix) ||
          this._exceptionDomains.has(suffix)) {
        return suffix;
      }

      for (let domainWithWildcards of this._exceptionDomainsWithWildcards) {
        if (matchesWildcards(suffix, domainWithWildcards)) {
          return suffix;
        }
      }
    }

    return "";
  }

  /**
   * Returns a list of selectors that apply on each website unconditionally.
   * @returns {string[]}
   * @private
   */
  _getUnconditionalSelectors() {
    if (!this._unconditionalSelectors) {
      this._unconditionalSelectors = [...this._filterBySelector.keys()];
    }

    return this._unconditionalSelectors;
  }

  /**
   * Returns the list of selectors that apply on a given domain from the subset
   * of filters that do not apply unconditionally on all domains.
   *
   * @param {string} domain The domain.
   * @param {boolean} specificOnly Whether selectors from generic filters should
   *   be included.
   *
   * @returns {Array.<string>} The list of selectors.
   *
   * @private
   */
  _getConditionalSelectors(domain, specificOnly) {
    let selectors = [];

    let excluded = new Set();

    for (let currentDomain of domainSuffixes(domain, !specificOnly)) {
      let map = this._filtersByDomain.get(currentDomain);
      if (map) {
        for (let [filter, include] of (map instanceof FilterMap ?
          map.entries() : [[map, true]])) {
          if (!include) {
            excluded.add(filter);
          }
          else {
            let {selector} = filter;
            if ((excluded.size == 0 || !excluded.has(filter)) &&
                !this.elemHideExceptions.getException(selector, domain)) {
              selectors.push(selector);
            }
          }
        }
      }
    }

    return selectors;
  }

  /**
   * Returns the list of selectors and the list of exceptions that apply on a
   * given domain from the subset of filters that do not apply unconditionally
   * on all domains.
   *
   * @param {string} domain The domain.
   * @param {boolean} specificOnly Whether selectors from generic filters should
   *   be included.
   *
   * @returns {{selectors: Array.<string>,
   *            exceptions: Array.<module:filterClasses.ElemHideException>}}
   *   An object containing the lists of selectors and exceptions.
   *
   * @private
   */
  _getConditionalSelectorsWithExceptions(domain, specificOnly) {
    let selectors = [];
    let exceptions = [];

    let excluded = new Set();

    for (let currentDomain of domainSuffixes(domain, !specificOnly)) {
      let map = this._filtersByDomain.get(currentDomain);
      if (map) {
        for (let [filter, include] of (map instanceof FilterMap ?
          map.entries() : [[map, true]])) {
          if (!include) {
            excluded.add(filter);
          }
          else if (excluded.size == 0 || !excluded.has(filter)) {
            let {selector} = filter;
            let exception =
                this.elemHideExceptions.getException(selector, domain);

            if (exception) {
              exceptions.push(exception);
            }
            else {
              selectors.push(selector);
            }
          }
        }
      }
    }

    return {selectors, exceptions};
  }

  /**
   * Returns the default style sheet that applies on all domains.
   * @returns {string}
   * @private
   */
  _getDefaultStyleSheet() {
    if (!this._defaultStyleSheet) {
      this._defaultStyleSheet =
        createStyleSheet(this._getUnconditionalSelectors());
    }

    return this._defaultStyleSheet;
  }

  /**
   * Returns the common style sheet that applies on all unknown domains.
   * @returns {string}
   * @private
   */
  _getCommonStyleSheet() {
    if (!this._commonStyleSheet) {
      this._commonStyleSheet =
        this._getDefaultStyleSheet() +
        createStyleSheet(this._getConditionalSelectors("", false));
    }

    return this._commonStyleSheet;
  }

  /**
   * Returns the domain-specific style sheet that applies on a given domain.
   * @param {string} domain
   * @returns {string}
   * @private
   */
  _getDomainSpecificStyleSheet(domain) {
    let styleSheet = this._styleSheetCache.get(domain);

    if (typeof styleSheet == "undefined") {
      styleSheet =
        createStyleSheet(this._getConditionalSelectors(domain, false));
      this._styleSheetCache.set(domain, styleSheet);
    }

    return styleSheet;
  }

  _onExceptionAdded(exception) {
    let {domains, selector} = exception;

    this._styleSheetCache.clear();
    this._commonStyleSheet = null;

    if (domains) {
      for (let domain of domains.keys()) {
        // Note: Once an exception domain is known it never becomes unknown,
        // even when all the exceptions containing that domain are removed.
        // This is a best-case optimization.
        if (domain != "") {
          if (hasWildcard(domain)) {
            this._exceptionDomainsWithWildcards.add(domain);
          }
          else {
            this._exceptionDomains.add(domain);
          }
        }
      }
    }

    // If this is the first exception for a previously unconditionally applied
    // element hiding selector we need to take care to update the lookups.
    let unconditionalFilterForSelector = this._filterBySelector.get(selector);
    if (unconditionalFilterForSelector) {
      this._filtersByDomain.add(unconditionalFilterForSelector);
      this._filterBySelector.delete(selector);
      this._unconditionalSelectors = null;
      this._defaultStyleSheet = null;
    }
  }
}

/**
 * Container for element hiding filters.
 */
exports.ElemHide = ElemHide;

/**
 * Yields rules from a style sheet returned by
 * `{@link module:elemHide.createStyleSheet createStyleSheet()}`.
 *
 * @param {string} styleSheet A style sheet returned by
 *   `{@link module:elemHide.createStyleSheet createStyleSheet()}`. If the
 *   given style sheet is *not* a value previously returned by a call to
 *   `{@link module:elemHide.createStyleSheet createStyleSheet()}`, the
 *   behavior is undefined.
 *
 * @generator
 * @yields {string} A rule from the given style sheet.
 */
exports.rulesFromStyleSheet = function* rulesFromStyleSheet(styleSheet) {
  let startIndex = 0;
  while (startIndex < styleSheet.length) {
    let ruleTerminatorIndex = styleSheet.indexOf("\n", startIndex);
    yield styleSheet.substring(startIndex, ruleTerminatorIndex);
    startIndex = ruleTerminatorIndex + 1;
  }
};

/**
 * Escapes curly braces to prevent CSS rule injection.
 *
 * @param {string} selector
 *
 * @returns {string}
 */
function escapeSelector(selector) {
  return selector.replace(/[{}]/g, c => `\\${c.charCodeAt().toString(16)} `);
}

/**
 * Creates an element hiding CSS rule for a given list of selectors.
 *
 * @param {string} selector The CSS selector for the rule.
 * @param {string} [declarationBlock] Optional CSS code to use as the
 *   declaration block. By default, the code `{display: none !important;}` is
 *   used. If specified, the value is injected as-is into the rule.
 *
 * @returns {string} A CSS rule.
 */
function createRule(
  selector,
  declarationBlock = "{display: none !important;}"
) {
  return `${escapeSelector(selector)} ${declarationBlock}\n`;
}

let createStyleSheet =
/**
 * Creates an element hiding CSS style sheet from a given list of selectors.
 *
 * @param {Array.<string>} selectors The list of selectors.
 * @param {string} [declarationBlock] Optional CSS code to use as the
 *   declaration block. By default, the code `{display: none !important;}` is
 *   used. If specified, the value is injected as-is into the style sheet.
 *
 * @returns {string} A CSS style sheet.
 */
exports.createStyleSheet = function createStyleSheet(selectors,
                                                     declarationBlock) {
  let styleSheet = "";

  for (let selector of selectors) {
    styleSheet += createRule(selector, declarationBlock);
  }

  return styleSheet;
};


/***/ }),

/***/ "./core/lib/elemHideEmulation.js":
/*!***************************************!*\
  !*** ./core/lib/elemHideEmulation.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



const {ElemHideExceptions} = __webpack_require__(/*! ./elemHideExceptions */ "./core/lib/elemHideExceptions.js");

/**
 * @file Element hiding emulation implementation.
 */

class ElemHideEmulation extends Set {
  /**
   * Construct an ElemHideEmulation object
   * @param {ElemHideExceptions} elemHideExceptions The associated element
   *  hiding exceptions.
   */
  constructor(elemHideExceptions) {
    super();
    if (!(elemHideExceptions instanceof ElemHideExceptions)) {
      throw new Error("elemHideExceptions must be an ElemHideExceptions");
    }

    /** @type {ElemHideExceptions} */
    this.elemHideExceptions = elemHideExceptions;
  }

  /**
   * Removes an existing element hiding emulation filter.
   * @param {module:filterClasses.ElemHideEmulationFilter} filter
   *
   * @deprecated Use
   *   <code>ElemHideEmulation#delete</code>
   *   instead.
   */
  remove(filter) {
    this.delete(filter);
  }

  /**
   * Returns a list of all element hiding emulation filters active on the given
   * domain.
   * @param {string} domain The domain.
   * @returns {Array.<module:filterClasses.ElemHideEmulationFilter>} A list of
   *   element hiding emulation filters.
   */
  getFilters(domain) {
    let result = [];

    for (let filter of this) {
      if (filter.isActiveOnDomain(domain) &&
          !this.elemHideExceptions.getException(filter.selector, domain)) {
        result.push(filter);
      }
    }

    return result;
  }

  /**
   * Returns a list of all element hiding emulation filters active on the given
   * domain.
   * @param {string} domain The domain.
   * @returns {Array.<module:filterClasses.ElemHideEmulationFilter>} A list of
   *   element hiding emulation filters.
   *
   * @deprecated Use
   *   <code>{@link
   *          module:elemHideEmulation~ElemHideEmulation#getFilters}</code>
   *   instead.
   * @see module:elemHideEmulation~ElemHideEmulation#getFilters
   */
  getRulesForDomain(domain) {
    return this.getFilters(domain);
  }
}

/**
 * Container for element hiding emulation filters.
 */
exports.ElemHideEmulation = ElemHideEmulation;


/***/ }),

/***/ "./core/lib/elemHideExceptions.js":
/*!****************************************!*\
  !*** ./core/lib/elemHideExceptions.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file Element hiding exceptions implementation.
 */

const {EventEmitter} = __webpack_require__(/*! ./events */ "./core/lib/events.js");

class ElemHideExceptions extends EventEmitter {
  /**
   * @hideconstructor
   */
  constructor() {
    super();

    /**
     * Lookup table, lists of element hiding exceptions by selector
     * @type {Map.<string, Set.<module:filterClasses.ElemHideException>>}
     * @private
     */
    this._exceptionsBySelector = new Map();

    /**
     * Set containing known element hiding exceptions
     * @type {Set.<module:filterClasses.ElemHideException>}
     * @private
     */
    this._exceptions = new Set();
  }

  /**
   * Removes all known element hiding exceptions.
   */
  clear() {
    this._exceptionsBySelector.clear();
    this._exceptions.clear();
  }

  /**
   * Adds a new element hiding exception.
   * @param {module:filterClasses.ElemHideException} exception
   */
  add(exception) {
    if (this._exceptions.has(exception)) {
      return;
    }

    let {selector} = exception;
    let set = this._exceptionsBySelector.get(selector);
    if (set) {
      set.add(exception);
    }
    else {
      this._exceptionsBySelector.set(selector, new Set([exception]));
    }

    this._exceptions.add(exception);

    this.emit("added", exception);
  }

  /**
   * Removes an existing element hiding exception.
   * @param {module:filterClasses.ElemHideException} exception
   */
  remove(exception) {
    if (!this._exceptions.has(exception)) {
      return;
    }

    let {selector} = exception;
    let set = this._exceptionsBySelector.get(selector);
    set.delete(exception);
    if (set.size == 0) {
      this._exceptionsBySelector.delete(selector);
    }

    this._exceptions.delete(exception);

    this.emit("removed", exception);
  }

  /**
   * Checks whether an element hiding exception exists.
   * @param {module:filterClasses.ElemHideException} exception
   * @returns {boolean}
   */
  has(exception) {
    return this._exceptions.has(exception);
  }

  /**
   * Checks whether any exception rules are registered for a selector.
   * @param {string} selector
   * @returns {boolean}
   */
  hasExceptions(selector) {
    return this._exceptionsBySelector.has(selector);
  }

  /**
   * Checks whether an exception rule is registered for a selector on a
   * particular domain.
   * @param {string} selector
   * @param {?string} [domain]
   * @returns {?module:filterClasses.ElemHideException}
   */
  getException(selector, domain) {
    let exceptions = this._exceptionsBySelector.get(selector);
    if (exceptions) {
      for (let exception of exceptions) {
        if (exception.isActiveOnDomain(domain)) {
          return exception;
        }
      }
    }

    return null;
  }
}

/**
 * Container for element hiding exceptions.
 */
exports.ElemHideExceptions = ElemHideExceptions;


/***/ }),

/***/ "./core/lib/events.js":
/*!****************************!*\
  !*** ./core/lib/events.js ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * Registers and emits named events.
 */
exports.EventEmitter = class EventEmitter {
  constructor() {
    this._listeners = new Map();
  }

  /**
   * Adds a listener for the specified event name.
   *
   * @param {string}   name
   * @param {function} listener
   */
  on(name, listener) {
    let listeners = this._listeners.get(name);
    if (listeners) {
      listeners.push(listener);
    }
    else {
      this._listeners.set(name, [listener]);
    }
  }

  /**
   * Removes a listener for the specified event name.
   *
   * @param {string}   name
   * @param {function} listener
   */
  off(name, listener) {
    let listeners = this._listeners.get(name);
    if (listeners) {
      if (listeners.length > 1) {
        let idx = listeners.indexOf(listener);
        if (idx != -1) {
          listeners.splice(idx, 1);
        }
      }
      else if (listeners[0] === listener) {
        // We must use strict equality above for compatibility with
        // Array.prototype.indexOf
        this._listeners.delete(name);
      }
    }
  }

  /**
   * Returns a copy of the array of listeners for the specified event.
   *
   * @param {string} name
   *
   * @returns {Array.<function>}
   */
  listeners(name) {
    let listeners = this._listeners.size > 0 ? this._listeners.get(name) : null;
    return listeners ? listeners.slice() : [];
  }

  /**
   * Checks whether there are any listeners for the specified event.
   *
   * @param {string} [name] The name of the event. If omitted, checks whether
   *   there are any listeners for any event.
   *
   * @returns {boolean}
   */
  hasListeners(name) {
    return this._listeners.size > 0 &&
           (typeof name == "undefined" || this._listeners.has(name));
  }

  /**
   * Calls all previously added listeners for the given event name.
   *
   * @param {string} name
   * @param {...*}   [args]
   */
  emit(name, ...args) {
    let listeners = this._listeners.size > 0 ? this._listeners.get(name) : null;
    if (listeners) {
      for (let listener of listeners.slice()) {
        listener(...args);
      }
    }
  }
};


/***/ }),

/***/ "./core/lib/features.js":
/*!******************************!*\
  !*** ./core/lib/features.js ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * Modes of operation for the filterEngine.
 *
 * @type {Object}
 *
 * @public
 */
exports.Features = {
  // Default features: Manifest v2.
  DEFAULT: 0,
  // We have DeclarativeNetRequest
  DNR: 1
};

let featureFlags = {};

/**
 * Resets all known feature flags back to their default values.
 */
let resetFeatureFlags =
exports.resetFeatureFlags = function() {
  // Add new feature flags here!

  featureFlags.example = false;  // example feature used by tests
  featureFlags.inlineCss = false;
};

resetFeatureFlags();

/**
 * Sets the active set of feature flags.
 *
 * @param {Object} newFlags An object where each property is a feature to be
 * set.
 * @throws {Error} If any of the feature are not known, and so could not be
 * set. Any known features will still be set.
 */
exports.setFeatureFlags = function(newFlags) {
  let unknownFeatures = [];

  for (let feature in newFlags) {
    if (!Object.hasOwnProperty.call(featureFlags, feature)) {
      unknownFeatures.push(feature);
    }
    else {
      featureFlags[feature] = newFlags[feature];
    }
  }

  if (unknownFeatures.length > 0) {
    throw new Error(`Unknown feature flags: ${unknownFeatures.join(", ")}`);
  }
};

/**
 * Gets the current status of a feature flag. Used to determine which codepath
 * to take.
 *
 * @param {string} feature The name of the feature.
 * @returns {bool} The value of the feature flag, either from its default value
 * or as set by `setFeatureFlags`.
 * @throws {Error} If the feature is not one of the features set in
 * `resetFeatureFlags`.
 */
exports.isFeatureEnabled = function(feature) {
  if (typeof featureFlags[feature] == "undefined") {
    throw new Error(`Unknown feature flag: ${feature}`);
  }

  return featureFlags[feature];
};


/***/ }),

/***/ "./core/lib/filterClasses.js":
/*!***********************************!*\
  !*** ./core/lib/filterClasses.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file Definition of Filter class and its subclasses.
 */

const {
  contentTypes, RESOURCE_TYPES, CONTEXT_TYPES
} = __webpack_require__(/*! ./contentTypes */ "./core/lib/contentTypes.js");
const {CONTENT_FILTER, parse, FilterParsingError} = __webpack_require__(/*! ./filters */ "./core/lib/filters/index.js");
const {Pattern} = __webpack_require__(/*! ./patterns */ "./core/lib/patterns.js");
const {parseDomains, domainSuffixes, isValidDomainWildcard,
       hasWildcard, matchesWildcards} = __webpack_require__(/*! ./url */ "./core/lib/url.js");
const {isFeatureEnabled} = __webpack_require__(/*! ./features.js */ "./core/lib/features.js");
const {verifyCSSProperties} = __webpack_require__(/*! ./filters/inlineCssValidation */ "./core/lib/filters/inlineCssValidation.js");

const {resources} = __webpack_require__(/*! ../data/resources.js */ "./core/data/resources.js");

const MIN_GENERIC_CONTENT_FILTER_BODY_LENGTH = 3;

/** The filter state
 * @type {module:filterState.FilterState}
 */
let filterState = null;

/**
 * @typedef {Object} HttpHeader
 * @property {string} name
 * @property {?string} value
 */

/**
 * Map of internal resources for URL rewriting.
 * @type {Map.<string,string>}
 */
let resourceMap = new Map(
  Object.keys(resources).map(key => [key, resources[key]])
);

let isActiveFilter =
/**
 * Checks whether the given filter is an active filter.
 *
 * Filters of type `blocking`, `allowing`, `elemhide`, `elemhideexception`,
 * `elemhideemulation`, and `snippet` are considered active; filters of type
 * `invalid` and `comment` are not considered active.
 *
 * @param {?Filter} filter The filter.
 *
 * @returns {boolean} Whether the filter is active.
 */
exports.isActiveFilter = function isActiveFilter(filter) {
  return filter instanceof ActiveFilter;
};

let Filter =
/**
 * Abstract base class for filters
 */
exports.Filter = class Filter {
  /**
   * @param {string} text   string representation of the filter
   */
  constructor(text) {
    this.text = text;
  }

  static useFilterState(reference) {
    filterState = reference;
  }

  /**
   * Filter type as a string, e.g. "blocking".
   *
   * Can be `blocking`, `allowing`, `elemhide`, `elemhideexception`,
   * `elemhideemulation`, `snippet`, `comment` or `invalid`.
   *
   * @type {string}
   */
  get type() {
    throw new Error("Please define filter type in the subclass");
  }

  /**
   * True if filter should only be loaded if it comes from a
   * privileged subscription (circumvention subscriptions or special
   * subscriptions).
   * @type {bool}
   */
  get requiresPrivilegedSubscription() {
    return false;
  }

  /**
   * Serializes the filter for writing out on disk.
   * @yields {string}
   */
  *serialize() {
    let {text} = this;

    yield "[Filter]";
    yield "text=" + text;
  }

  toString() {
    return this.text;
  }
};

/**
 * Cache for known filters, maps string representation to filter objects.
 * @type {Map.<string, module:filterClasses.Filter>}
 */
let knownFilters = new Map();

/**
 * Creates a filter of correct type from its text representation - does the
 * basic parsing and calls the right constructor then.
 *
 * @param {string} text   as in Filter()\
 * @return {module:filterClasses.Filter}
 */
exports.Filter.fromText = function(text) {
  let filter = knownFilters.get(text);
  if (filter) {
    return filter;
  }

  if (text.length === 0) {
    filter = new InvalidFilter(text, "filter_empty");
  }
  else if (text[0] == "!") {
    filter = new CommentFilter(text);
  }
  else {
    let match = text.includes("#") ? CONTENT_FILTER.exec(text) : null;
    if (match) {
      filter = ContentFilter.fromText(text, match[1], match[2], match[3]);
    }
    else {
      filter = URLFilter.fromText(text);
    }
  }

  if (filter.domains) {
    for (let domainWithWildcard of filter.domains.keys()) {
      if (domainWithWildcard == "") {
        continue;
      }

      if (!isValidDomainWildcard(domainWithWildcard)) {
        filter = new InvalidFilter(text, "filter_invalid_wildcard");
      }
    }
  }

  if (filter.type !== "invalid") {
    knownFilters.set(filter.text, filter);
  }

  return filter;
};

/**
 * Deserializes a filter
 *
 * @param {Object}  obj map of serialized properties and their values
 * @return {module:filterClasses.Filter} filter or null if the filter couldn't
 *   be created
 */
exports.Filter.fromObject = function(obj) {
  let filter = Filter.fromText(obj.text);
  if (isActiveFilter(filter) && filterState) {
    filterState.fromObject(filter.text, obj);
  }
  return filter;
};

let {normalize} = __webpack_require__(/*! ./filters/index.js */ "./core/lib/filters/index.js");
exports.Filter.normalize = normalize;

let InvalidFilter =
/**
 * Class for invalid filters
 * @extends module:filterClasses.Filter
 */
exports.InvalidFilter = class InvalidFilter extends Filter {
  /**
   * @param {string} text see {@link module:filterClasses.Filter Filter()}
   * @param {string} reason Reason why this filter is invalid
   * @param {string?} option The optional option passed to the filter
   * @private
   */
  constructor(text, reason, option = null) {
    super(text);

    this.reason = reason;
    this.option = option;
  }

  get type() {
    return "invalid";
  }

  *serialize() {}
};

let CommentFilter =
/**
 * Class for comments
 * @extends module:filterClasses.Filter
 */
exports.CommentFilter = class CommentFilter extends Filter {
  /**
   * @param {string} text see {@link module:filterClasses.Filter Filter()}
   * @private
   */
  constructor(text) {
    super(text);
  }

  get type() {
    return "comment";
  }

  *serialize() {}
};

let ActiveFilter =
/**
 * Abstract base class for filters that can get hits
 * @extends module:filterClasses.Filter
 */
exports.ActiveFilter = class ActiveFilter extends Filter {
  /**
   * @param {string} text
   *   see {@link module:filterClasses.Filter Filter()}
   * @param {string} [domains]
   *   Domains that the filter is restricted to separated by domainSeparator
   *   e.g. "foo.com|bar.com|~baz.com"
   * @private
   */
  constructor(text, domains) {
    super(text);

    /**
     * String that the domains property should be generated from
     * @type {?string}
     */
    this.domainSource = domains || null;

    this._domains = domains ? void 0 : null;
  }

  /**
   * Number of filters contained, will always be 1 (required to
   * optimize {@link module:matcher.Matcher Matcher}).
   * @type {number}
   */
  get size() {
    return 1;
  }

  /**
   * See Filter.serialize()
   * @inheritdoc
   */
  *serialize() {
    if (filterState) {
      yield* filterState.serialize(this.text);
    }
  }

  /**
   * Defines whether the filter is disabled globally.
   * @type {boolean}
   * @deprecated use
   * {@link module:filterClasses.ActiveFilter#isDisabledForSubscription} and
   * {@link module:filterClasses.ActiveFilter#setDisabledForSubscription} for
   * disabling and enabling filters for specific subscriptions.
   */
  get disabled() {
    return filterState && !filterState.isEnabled(this.text);
  }
  set disabled(value) {
    if (filterState) {
      filterState.setEnabled(this.text, !value);
    }
  }

  /**
   * Defines which subscriptions the filter is disabled for.
   * See {@link module:filterClasses.ActiveFilter#isDisabledForSubscription} and
   * {@link module:filterClasses.ActiveFilter#setDisabledForSubscription} for
   * disabling and enabling filters.
   * @type {Set<string>}
   */
  get disabledSubscriptions() {
    if (!filterState) {
      return new Set();
    }
    return filterState.disabledSubscriptions(this.text);
  }

  /**
   * Checks whether this filter is disabled.
   * @param {string} subscriptionUrl The subscription to check for
   * enabled / disabled state.
   * @return {boolean} true if the filter is disabled
   */
  isDisabledForSubscription(subscriptionUrl) {
    return filterState &&
      filterState.isDisabledForSubscription(this.text, subscriptionUrl);
  }
  /**
   * Disables or enables the filter.
   * @param {string} [subscriptionUrl] The subscription on which to
   * disable / enable the filter.
   * @param {boolean} [value] new disabled value, true for disabled
   * and false for enabled
   */
  setDisabledForSubscription(subscriptionUrl, value) {
    if (filterState) {
      filterState.setDisabledForSubscription(this.text, subscriptionUrl, value);
    }
  }

  /**
   * Separator character used in domainSource property
   * @type {string}
   */
  get domainSeparator() {
    return ",";
  }

  /**
   * Number of hits on the filter since the last reset
   * @type {number}
   */
  get hitCount() {
    return filterState ? filterState.getHitCount(this.text) : 0;
  }
  set hitCount(value) {
    if (filterState) {
      filterState.setHitCount(this.text, value);
    }
  }

  /**
   * Last time the filter had a hit (in milliseconds since the beginning of the
   * epoch)
   * @type {number}
   */
  get lastHit() {
    return filterState ? filterState.getLastHit(this.text) : 0;
  }
  set lastHit(value) {
    if (filterState) {
      filterState.setLastHit(this.text, value);
    }
  }

  /**
   * Map containing domains that this filter should match on/not match
   * on or null if the filter should match on all domains
   * @type {?Map.<string,boolean>}
   */
  get domains() {
    if (typeof this._domains == "undefined") {
      let {domainSource: source, domainSeparator: sep} = this;
      this._domains = parseDomains(source.toLowerCase(), sep);
    }
    return this._domains;
  }

  /**
   * Array containing public keys of websites that this filter should apply to
   * @type {?Array.<string>}
   */
  get sitekeys() {
    return null;
  }

  /**
   * String that the sitekey property should be generated from
   * @type {?string}
   */
  get sitekeySource() {
    return null;
  }

  /**
   * Checks whether this filter is active on a domain.
   * @param {?string} [docDomain] domain name of the document that loads the URL
   * @param {string} [sitekey] public key provided by the document
   * @return {boolean} true in case of the filter being active
   */
  isActiveOnDomain(docDomain, sitekey) {
    // Sitekeys are case-sensitive so we shouldn't convert them to
    // upper-case to avoid false positives here. Instead we need to
    // change the way filter options are parsed.
    if (this.sitekeys &&
        (!sitekey || !this.sitekeys.includes(sitekey))) {
      return false;
    }

    let {domains} = this;

    // If no domains are set the rule matches everywhere
    if (!domains) {
      return true;
    }

    if (docDomain == null) {
      docDomain = "";
    }
    else if (docDomain[docDomain.length - 1] == ".") {
      docDomain = docDomain.substring(0, docDomain.length - 1);
    }

    // If the document has no host name, match only if the filter
    // isn't restricted to specific domains
    if (!docDomain) {
      return domains.get("");
    }

    for (docDomain of domainSuffixes(docDomain)) {
      // exact domain match
      let isDomainIncluded = domains.get(docDomain);
      if (typeof isDomainIncluded != "undefined") {
        return isDomainIncluded;
      }

      // domains with wildcards match
      for (let [domain, isActiveOnDomain] of domains.entries()) {
        if (hasWildcard(domain)) {
          if (matchesWildcards(docDomain, domain)) {
            return isActiveOnDomain;
          }
        }
      }
    }

    return domains.get("");
  }

  /**
   * Checks whether this filter is active only on a domain and its subdomains.
   * @param {?string} [docDomain]
   * @return {boolean}
   */
  isActiveOnlyOnDomain(docDomain) {
    let {domains} = this;

    if (!domains || domains.get("")) {
      return false;
    }

    if (docDomain == null) {
      docDomain = "";
    }
    else if (docDomain[docDomain.length - 1] == ".") {
      docDomain = docDomain.substring(0, docDomain.length - 1);
    }

    if (!docDomain) {
      return false;
    }

    for (let [domain, isIncluded] of domains) {
      if (isIncluded && domain != docDomain) {
        if (domain.length <= docDomain.length) {
          return false;
        }

        if (!domain.endsWith("." + docDomain)) {
          return false;
        }
      }
    }

    return true;
  }

  /**
   * Checks whether this filter is generic or specific
   * @return {boolean}
   */
  isGeneric() {
    let {sitekeys, domains} = this;

    return !(sitekeys && sitekeys.length) && (!domains || domains.get(""));
  }

  /**
   * Yields the filter itself (required to optimize
   *   {@link module:matcher.Matcher Matcher}).
   * @yields {module:filterClasses.ActiveFilter}
   * @package
   */
  *[Symbol.iterator]() {
    yield this;
  }
};

let URLFilter =
/**
 * Abstract base class for URL filters
 * @extends module:filterClasses.ActiveFilter
 */
exports.URLFilter = class URLFilter extends ActiveFilter {
  /**
   * @param {string} text see {@link module:filterClasses.Filter Filter()}
   * @param {string} regexpSource
   *   filter part that the regular expression should be build from
   * @param {number} [contentType]
   *   Content types the filter applies to, combination of values from
   *   `{@link module:contentTypes.contentTypes}`
   * @param {boolean} [matchCase]
   *   Defines whether the filter should distinguish between lower and upper
   *   case letters
   * @param {string} [domains]
   *   Domains that the filter is restricted to, e.g. "foo.com|bar.com|~baz.com"
   * @param {boolean} [thirdParty]
   *   Defines whether the filter should apply to third-party or first-party
   *   content only
   * @param {string} [sitekeys]
   *   Public keys of websites that this filter should apply to
   * @param {?HttpHeader} [header]
   *   Header-based filtering.
   * @param {?string} [rewrite]
   *   The name of the internal resource to which to rewrite the
   *   URL. e.g. if the value of the `$rewrite` option is
   *   `abp-resource:blank-html`, this should be `blank-html`.
   *
   * @private
   */
  constructor(text, regexpSource, contentType, matchCase, domains, thirdParty,
              sitekeys, header, rewrite) {
    super(text, domains);

    this._sitekeySource = sitekeys == null ? null : sitekeys;
    this._sitekeys = sitekeys == null ? null : void 0;

    /**
     * Content types the filter applies to, combination of values from
     * `{@link module:contentTypes.contentTypes}`
     * @type {number}
     */
    this.contentType = contentType != null ? contentType : RESOURCE_TYPES;

    /**
     * Defines whether the filter should apply to third-party or
     * first-party content only. Can be null (apply to all content).
     * @type {?boolean}
     */
    this.thirdParty = thirdParty != null ? thirdParty : null;

    /**
     * Header-based filtering expression. Refer to the filter
     * documentation reference for the syntax, or
     * `{@link BlockingFilter.filterHeaders}` for the reference
     * implementation.
     * @type {?HttpHeader}
     */
    this.header = header != null ? header : null;

    /**
     * The name of the internal resource to which to rewrite the
     * URL. e.g. if the value of the `$rewrite` option is
     * `abp-resource:blank-html`, this should be `blank-html`.
     * @type {?string}
     */
    this.rewrite = rewrite != null ? rewrite : null;

    /**
     * Pattern for matching request URLs
     * @type {Pattern}
     */
    this.urlPattern = new Pattern(regexpSource, matchCase);
  }

  /**
   * Expression from which a regular expression should be generated -
   * for delayed creation of the regexp property.
   *
   * Undefined if the filter uses a regex literal pattern.
   * @type {?string}
   * @deprecated Use <code>filter.urlPattern.pattern</code>, or other
   * functions available on <code>{@link module:patterns.Pattern}</code>.
   */
  get pattern() {
    return this.urlPattern.pattern;
  }

  /**
   * Regular expression to be used when testing against this pattern
   * @type {RegExp}
   * @deprecated Use <code>filter.urlPattern.regexp</code>, or other
   * functions available on <code>{@link module:patterns.Pattern}</code>.
   */
  get regexp() {
    return this.urlPattern.regexp;
  }

  /**
   * Defines whether the filter should distinguish between lower and
   * upper case letters
   * @type {boolean}
   */
  get matchCase() {
    return this.urlPattern.matchCase;
  }

  /**
   * @see ActiveFilter.domainSeparator
   */
  get domainSeparator() {
    return "|";
  }

  /**
   * @see ActiveFilter.sitekeys
   */
  get sitekeys() {
    if (typeof this._sitekeys == "undefined") {
      this._sitekeys = this._sitekeySource.split("|");
    }

    return this._sitekeys;
  }

  /**
   * @see ActiveFilter.sitekeySource
   */
  get sitekeySource() {
    return this._sitekeySource;
  }

  /**
   * Tests whether the URL request matches this filter
   * @param {module:url.URLRequest} request URL request to be tested
   * @param {number} typeMask bitmask of content / request types to match
   * @param {?string} [sitekey] public key provided by the document
   * @return {boolean} true in case of a match
   */
  matches(request, typeMask, sitekey) {
    let contextMask = typeMask & CONTEXT_TYPES;
    let resourceMask = typeMask & ~CONTEXT_TYPES;
    return (this.contentType & resourceMask) != 0 &&
      (contextMask == 0 ?
       (this.contentType & CONTEXT_TYPES) == 0 :
       (this.contentType & contextMask) != 0
      ) &&
      (this.thirdParty == null || this.thirdParty == request.thirdParty) &&
      (this.urlPattern.regexp ?
       this.isActiveOnDomain(request.documentHostname, sitekey) &&
       this.urlPattern.matchesLocation(request) :
       this.urlPattern.matchesLocation(request) &&
       this.isActiveOnDomain(request.documentHostname, sitekey));
  }
};

/**
 * Creates a URL filter from its text representation
 *
 * @param {string} filterText   same as in Filter()
 * @return {module:filterClasses.Filter}
 */
exports.URLFilter.fromText = function(filterText) {
  let result = parse(filterText);

  if (result instanceof FilterParsingError) {
    let option = null;
    if (result.message == "filter_unknown_option" && result.detail) {
      option = result.detail.option;
    }
    return new InvalidFilter(filterText, result.message, option);
  }

  let {
    blocking,
    text,
    regexpSource,
    contentType,
    matchCase,
    domains,
    thirdParty,
    sitekeys,
    header,
    rewrite,
    csp
  } = result;

  try {
    if (blocking) {
      return new BlockingFilter(
        text,
        regexpSource,
        contentType,
        matchCase,
        domains,
        thirdParty,
        sitekeys,
        header,
        rewrite,
        csp
      );
    }
    return new AllowingFilter(
      text,
      regexpSource,
      contentType,
      matchCase,
      domains,
      thirdParty,
      sitekeys,
      header
    );
  }
  catch (e) {
    return new InvalidFilter(filterText, "filter_invalid_regexp");
  }
};

/**
 * @deprecated Use <code>{@link contentTypes}</code> instead.
 * @see contentTypes
 */
// For backwards compatibility.
URLFilter.typeMap = contentTypes;

let BlockingFilter =
/**
 * Class for blocking filters
 * @extends module:filterClasses.URLFilter
 */
exports.BlockingFilter = class BlockingFilter extends URLFilter {
  /**
   * @param {string} text see {@link module:filterClasses.Filter Filter()}
   * @param {string} regexpSource see
   *   {@link module:filterClasses.URLFilter URLFilter()}
   * @param {number} [contentType] see
   *   {@link module:filterClasses.URLFilter URLFilter()}
   * @param {boolean} [matchCase] see
   *   {@link module:filterClasses.URLFilter URLFilter()}
   * @param {string} [domains] see
   *   {@link module:filterClasses.URLFilter URLFilter()}
   * @param {boolean} [thirdParty] see
   *   {@link module:filterClasses.URLFilter URLFilter()}
   * @param {string} [sitekeys] see
   *   {@link module:filterClasses.URLFilter URLFilter()}
   * @param {?HttpHeader} [header] see
   *   {@link module:filterClasses.URLFilter URLFilter()}
   * @param {?string} [rewrite]
   *   The name of the internal resource to which to rewrite the
   *   URL. e.g. if the value of the `$rewrite` option is
   *   `abp-resource:blank-html`, this should be `blank-html`.
   * @param {?string} [csp]
   *   Content Security Policy to inject when the filter matches
   *
   * @private
   */
  constructor(text, regexpSource, contentType, matchCase, domains, thirdParty,
              sitekeys, header, rewrite, csp) {
    super(
      text,
      regexpSource,
      contentType,
      matchCase,
      domains,
      thirdParty,
      sitekeys,
      header,
      rewrite
    );

    /**
     * Content Security Policy to inject for matching requests.
     * @type {?string}
     */
    this.csp = csp != null ? csp : null;
  }

  get type() {
    return "blocking";
  }

  get requiresPrivilegedSubscription() {
    return (this.contentType & contentTypes.HEADER) != 0;
  }

  /**
   * Rewrites an URL.
   * @param {string} url the URL to rewrite
   * @return {string} the rewritten URL, or the original in case of failure
   */
  rewriteUrl(url) {
    return resourceMap.get(this.rewrite) || url;
  }

  /**
   * Filter headers.
   *
   * This function would be called by the request blocker code after
   * matching the request.
   *
   * @param {webRequest.HttpHeaders} headers the HTTP response headers
   *   to match, as they are returned by the request blocker. They
   *   follow the {@link webRequest API
   *   https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest/HttpHeaders}.
   * @return {boolean} Whether the headers match. Will return true if
   *   there is nothing to match against, or if the header is present
   *   but no value.
   */
  filterHeaders(headers) {
    if (!this.header) {
      return true;
    }

    for (let header of headers) {
      if (header.name.toLowerCase() == this.header.name) {
        if (this.header.value) {
          if (header.value.includes(this.header.value)) {
            return true;
          }
        }
        else {
          return true;
        }
      }
    }

    return false;
  }
};

let AllowingFilter =
/**
 * Class for allowing (allowlisting) filters
 * @extends module:filterClasses.URLFilter
 */
exports.AllowingFilter = class AllowingFilter extends URLFilter {
  get type() {
    return "allowing";
  }
};

let ContentFilter =
/**
 * Base class for content filters
 * @extends module:filterClasses.ActiveFilter
 */
exports.ContentFilter = class ContentFilter extends ActiveFilter {
  /**
   * @param {string} text see {@link module:filterClasses.Filter Filter()}
   * @param {string} [domains] Host names or domains the filter should be
   *                           restricted to
   * @param {string} body      The body of the filter or the script that should
   *                           be executed or the CSS selector for the HTML
   *                           elements that should be hidden
   *
   * @private
   */
  constructor(text, domains, body) {
    super(text, domains || null);

    this.body = body;
  }
};

/**
 * Creates a content filter from a pre-parsed text representation
 *
 * @param {string} text         same as in Filter()
 * @param {string} [domains]
 *   domains part of the text representation
 * @param {string} [type]
 *   rule type, either:
 *     * "" for an element hiding filter
 *     * "@" for an element hiding exception filter
 *     * "?" for an element hiding emulation filter
 *     * "$" for a snippet filter
 * @param {string} body
 *   body part of the text representation, either a CSS selector or a snippet
 *   script
 * @return {module:filterClasses.ElemHideFilter|
 *          module:filterClasses.ElemHideException|
 *          module:filterClasses.ElemHideEmulationFilter|
 *          module:filterClasses.SnippetFilter|
 *          module:filterClasses.InvalidFilter}
 */
exports.ContentFilter.fromText = function(text, domains, type, body) {
  // We don't allow content filters which have any empty domains.
  // Note: The ContentFilter.prototype.domainSeparator is duplicated here, if
  // that changes this must be changed too.
  if (domains && /(^|,)~?(,|$)/.test(domains)) {
    return new InvalidFilter(text, "filter_invalid_domain");
  }

  let restrictedByDomain = /,[^~][^,.]*\.[^,]/.test("," + domains) ||
      ("," + domains + ",").includes(",localhost,");

  if (type == "$") {
    // Element hiding emulation and snippet filters are inefficient so we need
    // to make sure that they're only applied if they specify active domains.
    // The only exception is "hide-if-classifies" snippet (EE-138).

    let snippetFilter = new SnippetFilter(text, domains, body);
    if (!restrictedByDomain && !snippetFilter.script.startsWith("hide-if-classifies")) {
      return new InvalidFilter(text, "filter_snippet_nodomain");
    }
    return snippetFilter;
  }

  let selector = body;
  let propertiesList;
  let css = null;
  let remove = false;

  if (selector.startsWith("@") && isFeatureEnabled("inlineCss")) {
    return new InvalidFilter(text, "filter_elemhide_invalid_selector");
  }

  let propertiesListExtractingResult = /^(.*[^ ]) +{([^{]*)}$/.exec(body);
  if (propertiesListExtractingResult) {
    [, selector, propertiesList] = propertiesListExtractingResult;
    propertiesList = propertiesList.toLowerCase();
    remove = propertiesList.includes("remove:true;");

    if (!remove) {
      if (!isFeatureEnabled("inlineCss")) {
        return new InvalidFilter(text, "filter_unknown_option");
      }
      css = extractCSSProperties(propertiesList);
      if (!verifyCSSProperties(css)) {
        return new InvalidFilter(text, "filter_elemhide_invalid_inline_css");
      }
    }
  }



  if (type == "?") {
    if (!restrictedByDomain) {
      return new InvalidFilter(text, "filter_elemhideemulation_nodomain");
    }

    return new ElemHideEmulationFilter(text, domains, selector, remove, css);
  }

  if (!restrictedByDomain &&
      body.length < MIN_GENERIC_CONTENT_FILTER_BODY_LENGTH) {
    return new InvalidFilter(text, "filter_elemhide_not_specific_enough");
  }

  if (type == "@") {
    return new ElemHideException(text, domains, selector);
  }

  if (remove || css) {
    // Remove is only implemented for elemhide emulation filters, so if we want
    // it to work on an elemhide filter then it needs to instantiate an elemhide
    // emulation filter instead.
    //
    // Inline CSS is also currently only implemented for
    // ElemHideEmulationFilter, but should be implemented for normal
    // ElemHideFilter later.
    return new ElemHideEmulationFilter(text, domains, selector, remove, css);
  }

  return new ElemHideFilter(text, domains, selector);
};

function extractCSSProperties(propertiesList) {
  const importantFlag = "!important";

  const properties = propertiesList.split(";");
  let css = Object.create(null);

  for (const property of properties) {
    if (!property) {
      continue;
    }

    let colonIndex = property.indexOf(":");

    let name;
    let value;

    if (colonIndex < 0) {
      name = property;
      value = "";
    }
    else {
      name = property.substring(0, colonIndex);
      value = property.substring(colonIndex + 1);
    }

    name = name.trim();
    value = value.trim();

    if (value.endsWith(importantFlag)) {
      value = value.substring(0, value.length - importantFlag.length).trimEnd();
    }

    css[name] = value;
  }

  return css;
}

let ElemHideBase =
/**
 * Base class for element hiding filters
 * @extends module:filterClasses.ContentFilter
 */
exports.ElemHideBase = class ElemHideBase extends ContentFilter {
  /**
   * CSS selector for the HTML elements that should be hidden
   * @type {string}
   */
  get selector() {
    return this.body;
  }
};

let ElemHideFilter =
/**
 * Class for element hiding filters
 * @extends module:filterClasses.ElemHideBase
 */
exports.ElemHideFilter = class ElemHideFilter extends ElemHideBase {
  /**
   * @param {string} text see {@link module:filterClasses.Filter Filter()}
   * @param {string} [domains]  see
   *   {@link module:filterClasses.ElemHideBase ElemHideBase()}
   * @param {string} selector see
   *   {@link module:filterClasses.ElemHideBase ElemHideBase()}
   *
   * @private
   */
  constructor(text, domains, selector) {
    super(text, domains, selector);
  }

  get type() {
    return "elemhide";
  }
};

let ElemHideException =
/**
 * Class for element hiding exceptions
 * @extends module:filterClasses.ElemHideBase
 */
exports.ElemHideException = class ElemHideException extends ElemHideBase {
  /**
   * @param {string} text see {@link module:filterClasses.Filter Filter()}
   * @param {string} [domains]  see
   *   {@link module:filterClasses.ElemHideBase ElemHideBase()}
   * @param {string} selector see
   *   {@link module:filterClasses.ElemHideBase ElemHideBase()}
   *
   * @private
   */
  constructor(text, domains, selector) {
    super(text, domains, selector);
  }

  get type() {
    return "elemhideexception";
  }
};

let ElemHideEmulationFilter =
/**
 * Class for element hiding emulation filters
 */
exports.ElemHideEmulationFilter =
class ElemHideEmulationFilter extends ElemHideBase {
  /**
   * @param {string} text see {@link module:filterClasses.Filter Filter()}
   * @param {string} domains see
   *   {@link module:filterClasses.ElemHideBase ElemHideBase()}
   * @param {string} selector see
   *   {@link module:filterClasses.ElemHideBase ElemHideBase()}
   * @param {boolean} remove if the element should be removed from the DOM
   * @param {?Object} css Key-Value pairs of Inline CSS properties
   *   to be applied to the element
   * @constructor
   * @extends module:filterClasses.ElemHideBase
   *
   * @private
   */
  constructor(text, domains, selector, remove, css = null) {
    super(text, domains, selector);
    this._remove = remove;
    this._css = css;
  }

  get type() {
    return "elemhideemulation";
  }

  get remove() {
    return this._remove;
  }

  get css() {
    return this._css;
  }

  get requiresPrivilegedSubscription() {
    return this._css;
  }
};

let SnippetFilter =
/**
 * Class for snippet filters
 * @extends module:filterClasses.ContentFilter
 */
exports.SnippetFilter = class SnippetFilter extends ContentFilter {
  get type() {
    return "snippet";
  }
  get requiresPrivilegedSubscription() {
    return true;
  }

  /**
   * Script that should be executed
   * @type {string}
   */
  get script() {
    return this.body;
  }
};


/***/ }),

/***/ "./core/lib/filterEngine.js":
/*!**********************************!*\
  !*** ./core/lib/filterEngine.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



__webpack_require__(/*! ./polyfill */ "./core/lib/polyfill.js");
const {parseURL} = __webpack_require__(/*! ./url */ "./core/lib/url.js");
const {Filter} = __webpack_require__(/*! ./filterClasses */ "./core/lib/filterClasses.js");
const {newDefaultMatcher} = __webpack_require__(/*! ./matcher */ "./core/lib/matcher.js");
const {ElemHide} = __webpack_require__(/*! ./elemHide */ "./core/lib/elemHide.js");
const {ElemHideEmulation} = __webpack_require__(/*! ./elemHideEmulation */ "./core/lib/elemHideEmulation.js");
const {ElemHideExceptions} = __webpack_require__(/*! ./elemHideExceptions */ "./core/lib/elemHideExceptions.js");
const {setRecommendations} = __webpack_require__(/*! ./recommendations */ "./core/lib/recommendations.js");
const {Snippets} = __webpack_require__(/*! ./snippets */ "./core/lib/snippets.js");
const {Features} = __webpack_require__(/*! ./features */ "./core/lib/features.js");

/**
 * Filter engine.
 */
class FilterEngine {
  /**
   * @typedef FilterEngineOptions
   * @type {object}
   * @property {?Array.<object>} recommendations The index of known downloadable
   *   subscriptions.
   * @property {?module:features.Features} features Enable specific features
   */
  /**
   * Creates a `{@link module:filterEngine.FilterEngine FilterEngine}`
   * object.
   *
   * @param {?FilterEngineOptions} options The options to create the engine.
   */
  constructor(options) {
    /** Activated features
     * @type {Features}
     */
    this.features = options ? options.features : Features.DEFAULT;

    if (options && options.recommendations) {
      setRecommendations(options.recommendations);
    }

    /** The `{@link module:elemHideExceptions.ElemHideExceptions}` for
     *    the engine.
     * @type {module:elemHideExceptions.ElemHideExceptions}
     */
    this.elemHideExceptions = new ElemHideExceptions();
    /** The `{@link module:elemHide.ElemHide}` for the engine.
     * @type {module:elemHide.ElemHide}
     */
    this.elemHide = new ElemHide(this.elemHideExceptions);
    /** The `{@link module:elemHideEmulation.ElemHideEmulation}` for
     *    the engine.
     * @type {module:elemHideEmulation.ElemHideEmulation}
     */
    this.elemHideEmulation = new ElemHideEmulation(this.elemHideExceptions);
    /** The `{@link module:snippets.Snippets}` for the engine.
     * @type {module:snippets.Snippets}
     */
    this.snippets = new Snippets();
    /** The `{@link module:matcher.CombinedMatcher}` to use with the engine.
     * @type {module:matcher.CombinedMatcher}
     */
    this.defaultMatcher = newDefaultMatcher();

    /** The `{@link module:filterListener.FilterListener}` to use.
     * @type {?module:filterListener.FilterListener}
     */
    this._filterListener = null;
    /** The `{@link module:filterStorage.FilterStorage}` to use.
     * @type {?module:filterStorage.FilterStorage}
     */
    this._filterStorage = null;

    /**
     * The promise returned by
     * `{@link module:filterEngine.FilterEngine#initialize}`.
     * @type {?Promise}
     * @private
     */
    this._initializationPromise = null;
  }

  /**
   * Initializes a `{@link module:filterEngine.FilterEngine FilterEngine}`
   * object with the given filters or filters loaded from disk.
   *
   * @param {Iterable.<string>} [filterSource] An iterable object that yields
   *   the text of the filters with which to initialize the
   *   `{@link module:filterEngine.FilterEngine FilterEngine}` object. If
   *   omitted, filters are loaded from disk.
   *
   * @returns {Promise} A promise that is fulfilled when the initialization is
   *   complete.
   *
   * @public
   */
  initialize(filterSource) {
    if (!this._initializationPromise) {
      if (typeof filterSource == "undefined") {
        // Note: filterListener.js and filterStorage.js must be loaded
        // conditionally here in local scope in order for the engine
        // to be able to work in standalone mode with no disk and
        // network I/O.
        const {FilterStorage} = __webpack_require__(/*! ./filterStorage */ "./core/lib/filterStorage.js");
        const {FilterListener} = __webpack_require__(/*! ./filterListener */ "./core/lib/filterListener.js");
        this._filterStorage = new FilterStorage({features: this.features});
        this._filterListener = new FilterListener();
        this._initializationPromise = this._filterListener.initialize(
          this, this._filterStorage
        );
      }
      else {
        this._initializationPromise = Promise.resolve().then(() => {
          for (let text of filterSource) {
            text = Filter.normalize(text, true);
            if (text) {
              let filter = Filter.fromText(text);
              if (filter.type !== "invalid") {
                this.add(filter);
              }
            }
          }
        });
      }
    }

    return this._initializationPromise;
  }

  get filterStorage() {
    return this._filterStorage;
  }

  /**
   * Selects the appropriate module for the given filter type.
   *
   * @param {string} type The type of a filter. This must be one of
   *   `"blocking"`, `"allowing"`, `"elemhide"`, `"elemhideemulation"`,
   *   `"elemhideexception"`, and `"snippet"`; otherwise the function returns
   *   `null`.
   *
   * @returns {?object} The appropriate module for the given filter type.
   */
  selectModule(type) {
    switch (type) {
      case "blocking":
      case "allowing":
        return this.defaultMatcher;
      case "elemhide":
        return this.elemHide;
      case "elemhideemulation":
        return this.elemHideEmulation;
      case "elemhideexception":
        return this.elemHideExceptions;
      case "snippet":
        return this.snippets;
    }

    return null;
  }

  /**
   * Adds a new filter.
   * @param {module:filterClasses.ActiveFilter} filter
   * @package
   */
  add(filter) {
    let module = this.selectModule(filter.type);
    if (module) {
      module.add(filter);
    }
  }

  /**
   * Removes an existing filter.
   * @param {module:filterClasses.ActiveFilter} filter
   * @package
   */
  remove(filter) {
    let module = this.selectModule(filter.type);
    if (module) {
      module.remove(filter);
    }
  }

  /**
   * Checks whether a filter exists.
   * @param {module:filterClasses.ActiveFilter} filter
   * @returns {boolean}
   * @package
   */
  has(filter) {
    let module = this.selectModule(filter.type);
    if (module) {
      return module.has(filter);
    }
    return false;
  }

  /**
   * Clears all filters.
   * @package
   */
  clear() {
    this.defaultMatcher.clear();
    this.elemHide.clear();
    this.elemHideEmulation.clear();
    this.elemHideExceptions.clear();
    this.snippets.clear();
  }

  /**
   * Matches existing URL filters against a web resource
   * (HTML document, CSS style sheet, PNG image, etc.) and returns the matching
   * filter if there's a match.
   *
   * @param {string|URL|module:url~URLInfo} url The URL of the resource.
   * @param {number} typeMask The
   *   {@link module:contentTypes.contentTypes content types} associated with
   *   the resource.
   * @param {string} documentHostname The hostname of the document of the
   *   resource.
   * @param {?string} [sitekey] An optional public key associated with the
   *   document of the resource.
   * @param {boolean} [specificOnly] Whether to ignore any generic filters.
   *
   * @returns {?string} A URL filter if there's a match; otherwise `null`.
   *
   * @public
   */
  match(url, typeMask, documentHostname, sitekey = null, specificOnly = false) {
    if (typeof url == "string") {
      url = parseURL(url);
    }

    let filter = this.defaultMatcher.match(
      url, typeMask, documentHostname, sitekey, specificOnly
    );
    return filter ? filter.text : null;
  }
}

/**
 * The `FilterEngine` class maintains filters for request blocking, element
 * hiding, and snippets.
 *
 * @public
 *
 * @example
 *
 * let {contentTypes, FilterEngine} = require("adblockpluscore");
 *
 * let filterEnginer = new FilterEngine();
 * await filterEngine.initialize(
 *   [
 *     "/annoying-ad^$image",
 *     "||example.com/social-widget.html^"
 *   ]
 * );
 *
 * let resource = {
 *   url: "https://ad-server.example.net/annoying-ad.png",
 *   documentURL: "https://news.example.com/world.html"
 * };
 *
 * let filter = filterEngine.match(resource.url, contentTypes.IMAGE,
 *                                 new URL(resource.documentURL).hostname);
 * console.log(filter); // prints "/annoying-ad^$image"
 */
exports.FilterEngine = FilterEngine;


/***/ }),

/***/ "./core/lib/filterListener.js":
/*!************************************!*\
  !*** ./core/lib/filterListener.js ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file Synchronization between filter storage and the filter engine.
 */

const {filterNotifier} = __webpack_require__(/*! ./filterNotifier */ "./core/lib/filterNotifier.js");
const {isActiveFilter, Filter} = __webpack_require__(/*! ./filterClasses */ "./core/lib/filterClasses.js");

/**
 * Checks whether filters from a given subscription should be deployed to the
 * filter engine.
 *
 * If the subscription is both valid and enabled, the function returns `true`;
 * otherwise, it returns `false`.
 *
 * @param {module:subscriptionClasses.Subscription} subscription
 *   The subscription.
 *
 * @returns {boolean} Whether filters from the subscription should be deployed
 *   to the filter engine.
 */
function shouldDeployFilters(subscription) {
  return subscription.valid && !subscription.disabled;
}

/**
 * Deploys a filter to the filter engine.
 *
 * The filter is deployed only if it belongs to at least one subscription that
 * is both valid and enabled.
 *
 * If the filter is a snippet filter, or a block filter with the `$header`
 * options, it is deployed only if it belongs to at
 * least one subscription that is valid, enabled, and of
 * {@link module:subscriptionClasses.Subscription#type type}
 * `circumvention` or a
 * {@link module:subscriptionClasses.SpecialSubscription special subscription}
 * that keeps user-defined filters.
 *
 * @param {module:filterEngine.FilterEngine} engine A reference to the
 *   filter engine.
 * @param {module:filterStorage.FilterStorage} storage A reference to
 *   the filter storage.
 * @param {Filter} filter The filter.
 * @param {?Array.<module:subscriptionClasses.Subscription>} [subscriptions]
 *   A list of subscriptions to which the filter belongs. If omitted or `null`,
 *   the information is looked up from
 *   {@link module:filterStorage.filterStorage filter storage}.
 */
function deployFilter(engine, storage, filter, subscriptions = null) {
  if (!isActiveFilter(filter)) {
    return;
  }

  let deploy = false;
  let allowPrivileged = false;
  let requiresPrivilegedSubscription = filter.requiresPrivilegedSubscription;

  for (let subscription of subscriptions ||
                           storage.subscriptions(filter.text)) {
    if (shouldDeployFilters(subscription) &&
        !filter.isDisabledForSubscription(subscription.url)) {
      deploy = true;
      if (!requiresPrivilegedSubscription) {
        break;
      }

      // Allow snippets to be executed only by the circumvention lists or the
      // user's own filters.
      if (subscription.privileged) {
        allowPrivileged = true;
        break;
      }
    }
  }

  if (!deploy) {
    return;
  }

  if (requiresPrivilegedSubscription && !allowPrivileged) {
    return;
  }

  engine.add(filter);
}

/**
 * Undeploys a filter from the filter engine.
 *
 * The filter is undeployed only if it does not belong to at least one
 * subscription that is both valid and enabled.
 *
 * @param {module:filterEngine.FilterEngine} engine A reference to the
 *   filter engine.
 * @param {module:filterStorage.FilterStorage} storage A reference to the
 *   filter storage.
 * @param {module:filterClasses.Filter} filter The filter.
 */
function undeployFilter(engine, storage, filter) {
  if (!isActiveFilter(filter)) {
    return;
  }

  let requiresPrivilegedSubscription = filter.requiresPrivilegedSubscription;

  for (let subscription of storage.subscriptions(filter.text)) {
    if (shouldDeployFilters(subscription) &&
        !filter.isDisabledForSubscription(subscription.url)) {
      if (!requiresPrivilegedSubscription ||
          (requiresPrivilegedSubscription && subscription.privileged)) {
        return;
      }
    }
  }

  engine.remove(filter);
}

/**
 * `{@link module:filterListener.filterListener filterListener}`
 * implementation.
 */
class FilterListener {
  /**
   * Initializes filter listener on startup, registers the necessary hooks.
   *
   * Initialization is asynchronous; once complete,
   * `{@link module:filterNotifier.filterNotifier filterNotifier}` emits the
   * `ready` event.
   *
   * @hideconstructor
   */
  constructor() {
    /**
     * A reference to the filter engine.
     * @type {?module:filterEngine.FilterEngine}
     * @private
     */
    this._engine = null;

    /**
     * A reference to the filter storage
     * @type {?module:filterStorage.FilterStorage}
     * @private
     */
    this._storage = null;

    /**
     * Increases on filter changes, filters will be saved if it exceeds 1.
     * @type {number}
     * @private
     */
    this._isDirty = 0;
  }

  /**
   * Initializes filter listener.
   * @param {module:filterEngine.FilterEngine} engine A reference to the
   *   filter engine.
   * @param {module:filterStorage.FilterStorage} storage A reference to the
   *   filter storage.
   * @returns {Promise} A promise that is fulfilled when the initialization is
   *   complete.
   * @package
   */
  async initialize(engine, storage) {
    if (engine == null || typeof engine != "object") {
      throw new Error("engine must be a non-null object.");
    }
    if (storage == null || typeof storage != "object") {
      throw new Error("filterStorage must be a non-null object.");
    }

    if (this._engine != null || this._storage != null) {
      throw new Error("Filter listener already initialized.");
    }

    this._engine = engine;
    this._storage = storage;

    await storage.loadFromDisk();

    let promise = Promise.resolve();

    // Initialize filters from each subscription asynchronously on startup by
    // setting up a chain of promises.
    for (let subscription of storage.subscriptions()) {
      if (shouldDeployFilters(subscription)) {
        await promise.then(() => {
          for (let text of subscription.filterText()) {
            deployFilter(
              this._engine, storage, Filter.fromText(text), [subscription]
            );
          }
        });
      }
    }

    filterNotifier.on("filter.added", this._onFilterAdded.bind(this));
    filterNotifier.on("filter.removed", this._onFilterRemoved.bind(this));
    filterNotifier.on("filter.moved", this._onGenericChange.bind(this));

    filterNotifier.on("filterState.enabled",
                      this._onFilterStateEnabled.bind(this));
    filterNotifier.on("filterState.disabledSubscriptions",
                      this._onFilterStateEnabled.bind(this));
    filterNotifier.on("filterState.hitCount",
                      this._onFilterStateHitCount.bind(this));
    filterNotifier.on("filterState.lastHit",
                      this._onFilterStateLastHit.bind(this));

    filterNotifier.on("subscription.added",
                      this._onSubscriptionAdded.bind(this));
    filterNotifier.on("subscription.removed",
                      this._onSubscriptionRemoved.bind(this));
    filterNotifier.on("subscription.disabled",
                      this._onSubscriptionDisabled.bind(this));
    filterNotifier.on("subscription.updated",
                      this._onSubscriptionUpdated.bind(this));
    filterNotifier.on("subscription.title", this._onGenericChange.bind(this));
    filterNotifier.on("subscription.fixedTitle",
                      this._onGenericChange.bind(this));
    filterNotifier.on("subscription.homepage",
                      this._onGenericChange.bind(this));
    filterNotifier.on("subscription.downloadStatus",
                      this._onGenericChange.bind(this));
    filterNotifier.on("subscription.lastCheck",
                      this._onGenericChange.bind(this));
    filterNotifier.on("subscription.errors",
                      this._onGenericChange.bind(this));
    filterNotifier.on("subscription.privileged",
                      this._onGenericChange.bind(this));

    filterNotifier.on("load", this._onLoad.bind(this));
    filterNotifier.on("save", this._onSave.bind(this));

    // Indicate that all filters are ready for use.
    filterNotifier.emit("ready");
  }

  /**
   * Increases "dirty factor" of the filters and calls
   * filterStorage.saveToDisk() if it becomes 1 or more.
   *
   * Save is executed delayed to prevent multiple subsequent calls. If the
   * parameter is 0 it forces saving filters if any changes were recorded after
   * the previous save.
   *
   * @param {number} factor
   *
   * @private
   */
  _setDirty(factor) {
    if (factor == 0 && this._isDirty > 0) {
      this._isDirty = 1;
    }
    else {
      this._isDirty += factor;
    }
    if (this._isDirty >= 1) {
      this._isDirty = 0;
      this._storage.saveToDisk();
    }
  }

  _onSubscriptionAdded(subscription) {
    this._setDirty(1);

    if (shouldDeployFilters(subscription)) {
      for (let text of subscription.filterText()) {
        deployFilter(
          this._engine, this._storage, Filter.fromText(text), [subscription]
        );
      }
    }
  }

  _onSubscriptionRemoved(subscription) {
    this._setDirty(1);

    if (shouldDeployFilters(subscription)) {
      for (let text of subscription.filterText()) {
        undeployFilter(this._engine, this._storage, Filter.fromText(text));
      }
    }
  }

  _onSubscriptionDisabled(subscription, newValue) {
    this._setDirty(1);

    if (this._storage.hasSubscription(subscription)) {
      if (newValue == false) {
        for (let text of subscription.filterText()) {
          deployFilter(
            this._engine, this._storage, Filter.fromText(text), [subscription]
          );
        }
      }
      else {
        for (let text of subscription.filterText()) {
          undeployFilter(this._engine, this._storage, Filter.fromText(text));
        }
      }
    }
  }

  _onSubscriptionUpdated(subscription, textDelta) {
    this._setDirty(1);

    if (textDelta && shouldDeployFilters(subscription) &&
        this._storage.hasSubscription(subscription)) {
      for (let text of textDelta.removed) {
        undeployFilter(
          this._engine, this._storage, Filter.fromText(text)
        );
      }

      for (let text of textDelta.added) {
        deployFilter(
          this._engine, this._storage, Filter.fromText(text), [subscription]
        );
      }
    }
  }

  _onFilterAdded(filter) {
    this._setDirty(1);
    deployFilter(this._engine, this._storage, filter);
  }

  _onFilterRemoved(filter) {
    this._setDirty(1);
    undeployFilter(this._engine, this._storage, filter);
  }

  _onFilterStateEnabled(text, newValue) {
    this._setDirty(1);

    // it's difficult to tell from newValue alone if we need to add or
    // remove the filter. Luckily, deployFilter and undeployFilter do
    // full checks that the filter should be added / removed.
    let filter = Filter.fromText(text);
    if (this._engine.has(filter)) {
      undeployFilter(this._engine, this._storage, filter);
    }
    else {
      deployFilter(this._engine, this._storage, filter);
    }
  }

  _onFilterStateHitCount(text, newValue) {
    if (newValue == 0) {
      this._setDirty(0);
    }
    else {
      this._setDirty(0.002);
    }
  }

  _onFilterStateLastHit() {
    this._setDirty(0.002);
  }

  _onGenericChange() {
    this._setDirty(1);
  }

  _onLoad() {
    this._isDirty = 0;

    this._engine.clear();

    for (let subscription of this._storage.subscriptions()) {
      if (shouldDeployFilters(subscription)) {
        for (let text of subscription.filterText()) {
          deployFilter(
            this._engine, this._storage, Filter.fromText(text), [subscription]
          );
        }
      }
    }
  }

  _onSave() {
    this._isDirty = 0;
  }
}

/**
 * Component synchronizing filter storage with the filter engine.
 * @package
 */
exports.FilterListener = FilterListener;


/***/ }),

/***/ "./core/lib/filterNotifier.js":
/*!************************************!*\
  !*** ./core/lib/filterNotifier.js ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file This component manages listeners and calls them to distribute
 * messages about filter changes.
 */

const {EventEmitter} = __webpack_require__(/*! ./events */ "./core/lib/events.js");

/**
 * This object allows registering and triggering listeners for filter events.
 * @type {module:events.EventEmitter}
 */
exports.filterNotifier = new EventEmitter();


/***/ }),

/***/ "./core/lib/filterState.js":
/*!*********************************!*\
  !*** ./core/lib/filterState.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



const {filterNotifier} = __webpack_require__(/*! ./filterNotifier */ "./core/lib/filterNotifier.js");
const {Filter} = __webpack_require__(/*! ./filterClasses */ "./core/lib/filterClasses.js");

class FilterState {
  /**
   * Construct a new FilterState.
   * As a side effect this will set the global FilterState used
   * by Filter. Avoid constructing it more than once.
   */
  constructor() {
    /**
     * Internal map containing filter state.
     * @type {Map.<string, FilterStateEntry>}
     */
    this.map = new Map();

    // For now we'll assume that this is the filter state
    Filter.useFilterState(this);
  }

  /**
   * Gets which subscriptions this filters has been disabled for.
   * @param {string} filterText The text of the filter.
   * @returns {Set<string>} Set of subscription urls that this filter
   * has been disabled for.
   */
  disabledSubscriptions(filterText) {
    let state = this.map.get(filterText);
    if (!state || typeof state.disabledSubscriptions !== "object") {
      return new Set();
    }
    return state.disabledSubscriptions;
  }

  /**
   * Reset the disabled status of this filter to the default of
   * enabled for all subscriptions.
   * @param {string} filterText The text of the filter.
   */
  resetEnabled(filterText) {
    this._updateStateObject(filterText, state => {
      state.resetEnabled();
    });
  }

  /**
   * Checks whether a filter is disabled for a subscription.
   * @param {string} filterText The text of the filter.
   * @param {string} subscriptionUrl The subscription to check for
   * enabled / disabled state.
   * @returns {boolean} Whether the filter is disabled.
   */
  isDisabledForSubscription(filterText, subscriptionUrl) {
    let state = this.map.get(filterText);
    if (state) {
      return state.isDisabledForSubscription(subscriptionUrl);
    }
    return false;
  }

  /**
   * Sets the disabled state of a filter for a subscription.
   * @param {string} filterText The text of the filter.
   * @param {string} subscriptionUrl The subscription to enable /
   * disable the filter in.
   * @param {boolean} disabled The new disabled state of the filter.
   */
  setDisabledForSubscription(filterText, subscriptionUrl, disabled) {
    this._updateStateObject(filterText, state => {
      state.setDisabledForSubscription(subscriptionUrl, disabled);
    });
  }

  /**
   * Checks whether a filter is enabled.
   * @param {string} filterText The text of the filter.
   * @returns {boolean} Whether the filter is enabled.
   * @deprecated Use
   * {@link module:filterState.FilterState#isDisabledForSubscription} instead
   */
  isEnabled(filterText) {
    let state = this.map.get(filterText);
    if (state) {
      return state.enabled;
    }
    return true;
  }

  /**
   * Sets the enabled state of a filter.
   * @param {string} filterText The text of the filter.
   * @param {boolean} enabled The new enabled state of the filter.
   * @deprecated Use
   * {@link module:filterState.FilterState#setDisabledForSubscription} instead
   */
  setEnabled(filterText, enabled) {
    this._updateStateObject(filterText, state => {
      state.enabled = enabled;
    });
  }

  /**
   * Toggles the enabled state of a filter.
   * @param {string} filterText The text of the filter.
   * @deprecated Use
   * {@link module:filterState.FilterState#setDisabledForSubscription} instead
   */
  toggleEnabled(filterText) {
    let newValue = !this.isEnabled(filterText);
    this.setEnabled(filterText, newValue);
  }

  /**
   * Returns the hit count of a filter.
   * @param {string} filterText The text of the filter.
   * @returns {number} The hit count of the filter.
   */
  getHitCount(filterText) {
    let state = this.map.get(filterText);
    if (state) {
      return state.hitCount;
    }

    return 0;
  }

  /**
   * Sets the hit count of a filter.
   * @param {string} filterText The text of the filter.
   * @param {number} hitCount The new hit count of the filter.
   */
  setHitCount(filterText, hitCount) {
    this._updateStateObject(filterText, state => {
      state.hitCount = hitCount;
    });
  }

  /**
   * Resets the hit count of a filter.
   * @param {string} filterText The text of the filter.
   */
  resetHitCount(filterText) {
    this.setHitCount(filterText, 0);
  }

  /**
   * Returns the last hit time of a filter.
   * @param {string} filterText The text of the filter.
   * @returns {number} The last hit time of the filter in milliseconds since
   *   the Unix epoch.
   */
  getLastHit(filterText) {
    let state = this.map.get(filterText);
    if (state) {
      return state.lastHit;
    }

    return 0;
  }

  /**
   * Sets the last hit time of a filter.
   * @param {string} filterText The text of the filter.
   * @param {number} lastHit The new last hit time of the filter in
   *   milliseconds since the Unix epoch.
   */
  setLastHit(filterText, lastHit) {
    this._updateStateObject(filterText, state => {
      state.lastHit = lastHit;
    });
  }

  /**
   * Resets the last hit time of a filter.
   * @param {string} filterText The text of the filter.
   */
  resetLastHit(filterText) {
    this.setLastHit(filterText, 0);
  }

  /**
   * Registers a filter hit by incrementing the hit count of the filter and
   * setting the last hit time of the filter to the current time.
   * @param {string} filterText The text of the filter.
   */
  registerHit(filterText) {
    let now = Date.now();
    this._updateStateObject(filterText, state => {
      state.hitCount++;
      state.lastHit = now;
    });
  }

  /**
   * Resets the hit count and last hit time of a filter.
   * @param {string} filterText The text of the filter.
   */
  resetHits(filterText) {
    this._updateStateObject(filterText, state => {
      state.hitCount = 0;
      state.lastHit = 0;
    });
  }

  /**
   * Resets the enabled state, hit count, and last hit time of a filter.
   * @param {string} filterText The text of the filter.
   */
  reset(filterText) {
    let state = this.map.get(filterText);
    if (!state) {
      return;
    }

    this.map.delete(filterText);

    if (state.enabled !== true) {
      filterNotifier.emit("filterState.enabled",
                          filterText,
                          true,
                          state.enabled);
    }

    if (state.disabledSubscriptions && state.disabledSubscriptions.size > 0) {
      filterNotifier.emit("filterState.disabledSubscriptions",
                          filterText,
                          new Set(),
                          state.disabledSubscriptions);
    }

    if (state.hitCount != 0) {
      filterNotifier.emit("filterState.hitCount",
                          filterText,
                          0,
                          state.hitCount);
    }

    if (state.lastHit != 0) {
      filterNotifier.emit("filterState.lastHit", filterText, 0, state.lastHit);
    }
  }

  /**
   * Serializes the state of a filter.
   * @param {string} filterText The text of the filter.
   * @yields {string} The next line in the serialized representation of the
   *   state of the filter.
   * @see module:filterState.FilterState#fromObject
   * @package
   */
  *serialize(filterText) {
    let state = this.map.get(filterText);
    if (!state) {
      return;
    }

    yield "[Filter]";
    yield "text=" + filterText;

    if (state.disabled) {
      yield "disabled=true";
    }
    else if (typeof state.disabledSubscriptions === "object") {
      for (let disabledSubscription of state.disabledSubscriptions) {
        yield "disabledSubscriptions[]=" + disabledSubscription;
      }
    }

    if (state.hitCount != 0) {
      yield "hitCount=" + state.hitCount;
    }
    if (state.lastHit != 0) {
      yield "lastHit=" + state.lastHit;
    }
  }

  /**
   * Reads the state of a filter from an object representation.
   * @param {string} filterText The text of the filter.
   * @param {Object} object An object containing at least one of `disabled`,
   *   `hitCount`, and `lastHit` properties and their appropriate values.
   * @see module:filterState.FilterState#serialize
   * @package
   */
  fromObject(filterText, object) {
    if (!("disabled" in object ||
          "disabledSubscriptions" in object ||
          "hitCount" in object ||
          "lastHit" in object)) {
      return;
    }

    let state = new FilterStateEntry();
    if (String(object.disabled) == "true") {
      state.disabled = true;
    }
    else if (typeof object.disabledSubscriptions === "object") {
      state.disabledSubscriptions = new Set(object.disabledSubscriptions);
    }

    state.hitCount = parseInt(object.hitCount, 10) || 0;
    state.lastHit = parseInt(object.lastHit, 10) || 0;
    if (!state.isEmpty()) {
      this.map.set(filterText, state);
    }
  }

  _updateStateObject(filterText, doUpdate) {
    let state = this.map.get(filterText);
    if (!state) {
      state = new FilterStateEntry();
      this.map.set(filterText, state);
    }

    let oldHitCount = state.hitCount;
    let oldLastHit = state.lastHit;
    let oldEnabled = state.enabled;
    let oldDisabledSubscriptions = new Set(state.disabledSubscriptions);

    doUpdate(state);

    let newHitCount = state.hitCount;
    let newLastHit = state.lastHit;
    let newEnabled = state.enabled;
    let newDisabledSubscriptions = new Set(state.disabledSubscriptions);

    if (state.isEmpty()) {
      this.map.delete(filterText);
    }

    if (oldHitCount !== newHitCount) {
      filterNotifier.emit("filterState.hitCount",
                          filterText,
                          newHitCount,
                          oldHitCount);
    }

    if (oldLastHit !== newLastHit) {
      filterNotifier.emit("filterState.lastHit",
                          filterText,
                          newLastHit,
                          oldLastHit);
    }

    if (oldEnabled !== newEnabled) {
      filterNotifier.emit("filterState.enabled",
                          filterText,
                          newEnabled,
                          oldEnabled);
    }

    if (!disabledSubscriptionsEquals(oldDisabledSubscriptions,
                                     newDisabledSubscriptions)) {
      filterNotifier.emit("filterState.disabledSubscriptions",
                          filterText,
                          newDisabledSubscriptions,
                          oldDisabledSubscriptions);
    }
  }
}

/**
 * Represents the state for a single filter.
 * See {@link module:filterState.FilterState}
 */
class FilterStateEntry {
  constructor() {
    /**
     * The hit count of the filter.
     * @type {number}
     */
    this.hitCount = 0;

    /**
     * The last hit time of the filter in milliseconds since the Unix epoch.
     * @type {number}
     */
    this.lastHit = 0;
  }

  /**
   * Check if the state is empty, so we know if we can clean it up.
   * @returns {boolean}
   */
  isEmpty() {
    return this.hitCount === 0 &&
      this.lastHit === 0 &&
      !this.disabled &&
      !this.disabledSubscriptions;
  }

  /**
   * Check if a filter is disabled for a specified subscription.
   * @param {string} subscriptionUrl The subscription to check for
   * enabled / disabled state.
   * @returns {boolean}
   */
  isDisabledForSubscription(subscriptionUrl) {
    if (this.disabled === true) {
      return true;
    }
    return this.disabledSubscriptions &&
      this.disabledSubscriptions.has(subscriptionUrl);
  }

  /**
   * Sets the disabled state of a filter.
   * @param {string} subscriptionUrl The subscription to enable /
   * disable the filter in.
   * @param {boolean} disabled The new disabled state of the filter.
   */
  setDisabledForSubscription(subscriptionUrl, disabled) {
    delete this.disabled;

    if (!this.disabledSubscriptions && !disabled) {
      return;
    }

    if (!this.disabledSubscriptions) {
      this.disabledSubscriptions = new Set();
    }

    if (disabled) {
      this.disabledSubscriptions.add(subscriptionUrl);
    }
    else {
      this.disabledSubscriptions.delete(subscriptionUrl);
      if (this.disabledSubscriptions.size === 0) {
        delete this.disabledSubscriptions;
      }
    }
  }

  /**
   * Reset the disabled status of this filter to the default of
   * enabled for all subscriptions.
   */
  resetEnabled() {
    delete this.disabled;
    delete this.disabledSubscriptions;
  }

  /**
   * Representation of filter state for the deprecated global enabling
   * and disabling of filters, as well as the `filterState.enabled`
   * events.
   * @type {boolean}
   * @deprecated Prefer {@link isDisabledForSubscription}
   */
  get enabled() {
    return !this.disabled;
  }
  set enabled(value) {
    delete this.disabledSubscriptions;
    this.disabled = !value;
  }
}

/**
 * Checks if two sets of disabled subscription urls contain exactly
 * the same subscription urls.
 * @param {Set<string>} oldDisabledSubscriptions
 * @param {Set<string>} newDisabledSubscriptions
 * @returns {boolean}
 */
function disabledSubscriptionsEquals(oldDisabledSubscriptions,
                                     newDisabledSubscriptions) {
  if (oldDisabledSubscriptions.size !== newDisabledSubscriptions.size) {
    return false;
  }

  for (let old of oldDisabledSubscriptions) {
    if (!newDisabledSubscriptions.has(old)) {
      return false;
    }
  }
  return true;
}

/**
 * Maintains filter state.
 */
exports.FilterState = FilterState;


/***/ }),

/***/ "./core/lib/filterStorage.js":
/*!***********************************!*\
  !*** ./core/lib/filterStorage.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file `filterStorage` object responsible for managing the user's
 * subscriptions and filters.
 */

const {IO} = __webpack_require__(/*! io */ "./sdk/api/io.js");
const {Prefs} = __webpack_require__(/*! prefs */ "./sdk/api/prefs.js");
const {isActiveFilter} = __webpack_require__(/*! ./filterClasses */ "./core/lib/filterClasses.js");
const {Subscription, SpecialSubscription} = __webpack_require__(/*! ./subscriptionClasses */ "./core/lib/subscriptionClasses.js");
const {filterNotifier} = __webpack_require__(/*! ./filterNotifier */ "./core/lib/filterNotifier.js");
const {INIParser} = __webpack_require__(/*! ./iniParser */ "./core/lib/iniParser.js");
const {FilterState} = __webpack_require__(/*! ./filterState */ "./core/lib/filterState.js");
const {Synchronizer} = __webpack_require__(/*! ./synchronizer */ "./core/lib/synchronizer.js");
const {Features} = __webpack_require__(/*! ./features */ "./core/lib/features.js");

/**
 * The Error type returned by filter storage.
 *
 * @property {Object} detail Contains information about the error.
 * @property {string} [detail.text] The text of the filter for
     `filter_not_found`.
 * @property {Array.<string>} [detail.exist] The list of duplicate
 *   filters.
 */
class FilterStorageError extends Error {
  /** Construct a FilterParsingError
   * @constructor
   * @param {string} message The error message.
   * @param {Object} detail The `FilterStorageError` detail.
   */
  constructor(message, detail) {
    super(message);
    this.detail = detail;
  }
}

exports.FilterStorageError = FilterStorageError;

/**
 * @typedef {Object} Stats
 * @property {boolean} exists
 * @property {number} lastModified
 */

/**
 * A cache for all source files and backup stats.
 * @type {Map<string, Stats>}
 * @private
 */
let stats = new Map();

/**
 * An asynchronous guard for multiple backups renmaing operations. It gets
 * reassigned to a new Promise that rename all backups one more time.
 * @type {Promise<void>}
 * @private
 */
let backupQueue = Promise.resolve();

/**
 * Version number of the filter storage file format.
 * @type {number}
 */
const FORMAT_VERSION = 5;

/**
 * Reads the user's filters from disk, manages them in memory, and writes them
 * back to disk.
 */
class FilterStorage {
  /**
   * @typedef FilterStorageOptions
   * @type {object}
   * @property {?module:features.Features} features Enable specific features
   */
  /**
   * Construct a FilterStorage
   *
   * @param {?FilterStorageOptions} options The options to create the storage.
   */
  constructor(options) {
    /**
     * Will be set to `true` after the initial
     * `{@link module:filterStorage.FilterStorage#loadFromDisk loadFromDisk()}`
     * call completes.
     * @type {boolean}
     */
    this.initialized = false;

    /**
     * Will be set to `true` if no `patterns.ini` file exists.
     * @type {boolean}
     */
    this.firstRun = false;

    /** Activated features
     * @type {Features}
     */
    this.features = options ? options.features : Features.DEFAULT;
    Subscription.dnr = (this.features & Features.DNR) != 0;

    /**
     * Map of properties listed in the filter storage file before the sections
     * start. Right now this should be only the format version.
     * @type {Object}
     */
    this.fileProperties = Object.create(null);

    /**
     * Map of subscriptions already on the list, by their URL/identifier.
     * @type {Map.<string,module:subscriptionClasses.Subscription>}
     * @private
     */
    this._knownSubscriptions = new Map();

    /**
     * Map of subscriptions with metadata, by their URL/identifier.
     *
     * It can be used to answer "which subscriptions have metadata?".
     * @type {Map.<string,module:subscriptionClasses.Subscription>}
     * @private
     */
    this._metadataSubscriptions = new Map();

    /**
     * Will be set to `true` if
     * `{@link module:filterStorage.FilterStorage#saveToDisk saveToDisk()}`
     * is running (reentrance protection).
     * @type {boolean}
     * @private
     */
    this._saving = false;
    this._initSaving();

    /**
     * Will be set to `true` if a
     * `{@link module:filterStorage.FilterStorage#saveToDisk saveToDisk()}`
     * call arrives while
     * `{@link module:filterStorage.FilterStorage#saveToDisk saveToDisk()}`
     * is already running (delayed execution).
     * @type {boolean}
     * @private
     */
    this._needsSave = false;

    /**
     * This property is for testing purpose only and it should never be used
     * directly via code.
     * @type {Map<string, Stats>}
     * @private
     */
    this._stats = stats;

    this.synchronizer = new Synchronizer(this);
    this.filterState = new FilterState();
  }

  _initSaving() {
    if (this._saving) {
      const fs = this;
      this._savingPromise = new Promise((resolve, reject) => {
        fs._savingPromiseResolve = resolve;
        fs._savingPromiseReject = reject;
      });
    }
    else {
      if (this._savingPromiseResolve) {
        this._savingPromiseResolve();
      }

      this._savingPromise = null;
      this._savingPromiseResolve = null;
      this._savingPromiseReject = null;
    }
  }

  setSaving(newValue, skipInit = false) {
    if (newValue == this._saving) {
      return;
    }
    this._saving = newValue;
    if (!skipInit) {
      this._initSaving();
    }
  }

  /**
   * The version number of the `patterns.ini` format used.
   * @type {number}
   */
  get formatVersion() {
    return FORMAT_VERSION;
  }

  /**
   * The file containing the subscriptions.
   * @type {string}
   */
  static get sourceFile() {
    return "patterns.ini";
  }

  /**
   * Yields subscriptions in the storage.
   * @param {?string} [filterText] The filter text for which to look. If
   *   specified, the function yields only those subscriptions that contain the
   *   given filter text. By default the function yields all subscriptions.
   * @yields {module:subscriptionClasses.Subscription}
   */
  *subscriptions(filterText = null) {
    if (filterText == null) {
      yield* this._knownSubscriptions.values();
    }
    else {
      for (let subscription of this._knownSubscriptions.values()) {
        if (subscription.hasFilterText(filterText)) {
          yield subscription;
        }
      }
    }
  }

  /**
   * Returns the number of subscriptions in the storage.
   * @param {?string} [filterText] The filter text for which to look. If
   *   specified, the function counts only those subscriptions that contain the
   *   given filter text. By default the function counts all subscriptions.
   * @returns {number}
   */
  getSubscriptionCount(filterText = null) {
    if (filterText == null) {
      return this._knownSubscriptions.size;
    }

    let count = 0;
    for (let subscription of this._knownSubscriptions.values()) {
      if (subscription.hasFilterText(filterText)) {
        count++;
      }
    }
    return count;
  }

  /**
   * Finds the filter group that a filter should be added to by default. Will
   * return `null` if this group doesn't exist yet.
   * @param {Filter} filter
   * @returns {?module:subscriptionClasses.SpecialSubscription}
   */
  getGroupForFilter(filter) {
    let generalSubscription = null;
    for (let subscription of this._knownSubscriptions.values()) {
      // We ignore disabled subscriptions and subscriptions
      // without metadata
      if (
        subscription instanceof SpecialSubscription &&
        !subscription.disabled && !subscription.metadata
      ) {
        // Always prefer specialized subscriptions
        if (subscription.isDefaultFor(filter)) {
          return subscription;
        }

        // If this is a general subscription - store it as fallback
        if (!generalSubscription &&
            (!subscription.defaults || !subscription.defaults.length)) {
          generalSubscription = subscription;
        }
      }
    }
    return generalSubscription;
  }

  /**
   * Checks whether a given subscription is in the storage.
   * @param {module:subscriptionClasses.Subscription|string} subscription
   *   or the URL of the subscription.
   * @returns {boolean}
   */
  hasSubscription(subscription) {
    if (typeof subscription == "string") {
      return this._knownSubscriptions.has(subscription);
    }

    return this._knownSubscriptions.has(subscription.url);
  }

  /**
   * Get the the subscription from the storage.
   * @param {string} subscription The URL of the subscription.
   * @returns {module:subscriptionClasses.Subscription}
   */
  getSubscription(subscription) {
    return this._knownSubscriptions.get(subscription);
  }

  /**
   * Adds a subscription to the storage.
   * @param {module:subscriptionClasses.Subscription} subscription The
   *   subscription to be added.
   */
  addSubscription(subscription) {
    if (this._knownSubscriptions.has(subscription.url)) {
      return;
    }

    this._knownSubscriptions.set(subscription.url, subscription);

    filterNotifier.emit("subscription.added", subscription);
  }

  /**
   * Removes a subscription from the storage.
   * @param {module:subscriptionClasses.Subscription} subscription The
   *   subscription to be removed.
   */
  removeSubscription(subscription) {
    if (!this._knownSubscriptions.has(subscription.url)) {
      return;
    }

    this._knownSubscriptions.delete(subscription.url);
    this._metadataSubscriptions.delete(subscription.url);

    // This should be the last remaining reference to the Subscription
    // object.
    Subscription.knownSubscriptions.delete(subscription.url);

    filterNotifier.emit("subscription.removed", subscription);
  }

  /**
   * Removes all the subscriptions from the storage (fast, for testing).
   * @private
   */
  _clear() {
    this._knownSubscriptions.clear();
    this._metadataSubscriptions.clear();
    Subscription.knownSubscriptions.clear();
    this._stats.clear();

    // not using `setSaving(false)` as it might not resolve
    // possible saving promise if reSaving is in progress.
    this._saving = false;
    this._initSaving();

    this._needsSave = false;

    this.filterState = new FilterState();
  }

  /**
   * Replaces the list of filters in a subscription with a new list.
   * @param {module:subscriptionClasses.Subscription} subscription The
   *   subscription to be updated.
   * @param {Array.<string>} filterText The new filter text.
   */
  updateSubscriptionFilters(subscription, filterText) {
    let update = subscription.updateFilterText(filterText);
    filterNotifier.emit(
      "subscription.updated",
      subscription,
      update
    );
  }

  /**
   * Checks if a filter exists in any active special subscription.
   *
   * @param {Filter} filter The filter to check.
   * @return {bool} True if the filter appears in a special subscription.
   */
  filterExists(filter) {
    for (let currentSubscription of this._knownSubscriptions.values()) {
      if (currentSubscription instanceof SpecialSubscription &&
          !currentSubscription.disabled &&
          currentSubscription.hasFilterText(filter.text)) {
        return true;
      }
    }

    return false;
  }

  /**
   * Adds user-defined filters to the storage with metadata. Filters which
   * already exist in a special subscription are skipped.
   *
   * @async
   * @param {Filter|Array<Filter>} filters Filter(s) to add. If the list
   *   contains duplicate entries, they'll be skipped.
   * @param {Object} metadata The metadata block.
   *
   * @return {Promise<module:subscriptionClasses.SpecialSubscription|null>}
   *   Promise resolves to the subscription the new filters are in, or null if
   *   no filters were added.
   */
  async addFiltersWithMetadata(filters, metadata) {
    let list = Array.isArray(filters) ? filters : [filters];

    let newFilters = list.filter(filter => !this.filterExists(filter));

    if (newFilters.length == 0) {
      return null;
    }

    let subscription = null;

    for (let filter of newFilters) {
      if (!subscription) {
        subscription = SpecialSubscription.createForFilter(filter);
      }
      // We make sure we don't have a duplicate already from `filters`.
      else if (!subscription.hasFilterText(filter.text)) {
        subscription.addFilterText(filter.text);
      }
    }

    this._metadataSubscriptions.set(subscription.url, subscription);
    this.addSubscription(subscription);

    for (let filter of newFilters) {
      if (this.filterState.isDisabledForSubscription(
        filter.text, subscription.url)) {
        this.filterState.setDisabledForSubscription(
          filter.text, subscription.url, false);
      }
    }

    subscription.metadata = metadata;

    return subscription;
  }

  /**
   * Get the metadata for a filter.
   *
   * @async
   * @param {string} text The filter text.
   * @return {Promise<?Object>} The metadata if any found.
   *
   * This function will iterate through all the subscriptions with metadata
   * to find a `SpecialSubscription` that contains the filter text.
   */
  async getMetadataForFilter(text) {
    for (let currentSubscription of this._metadataSubscriptions.values()) {
      if (currentSubscription.hasFilterText(text)) {
        return currentSubscription.metadata;
      }
    }

    return null;
  }

  /**
   * Set the metadata for a filter that already has metadata.
   *
   * A filter can have metadata only if it was added using
   * `addFiltersWithMetadata()`. It is currently not possible to add metadata
   * to an existing custom filter that was added with `addFilter()`. In that
   * case, the function will return a `filter_not_found` error.
   *
   * @async
   * @param {string} text The filter text.
   * @param {Object} metadata The metadata.
   *
   * @return {Promise<module:subscriptionClasses.SpecialSubscription>} The
   *   subscription whose metadata was changed.
   */
  async setMetadataForFilter(text, metadata) {
    for (let currentSubscription of this._metadataSubscriptions.values()) {
      if (currentSubscription.hasFilterText(text)) {
        currentSubscription.metadata = metadata;
        return currentSubscription;
      }
    }

    throw new FilterStorageError("filter_not_found", {text});
  }

  /**
   * Checks and enables the filter for the subscription.
   * @param {string} filterText The filter text.
   * @param {string} subscriptionUrl The subscription URL to enable filter for.
   * @private
   */
  enableFilter(filterText, subscriptionUrl) {
    if (this.filterState.isDisabledForSubscription(
      filterText, subscriptionUrl)) {
      this.filterState.setDisabledForSubscription(
        filterText, subscriptionUrl, false);
    }
  }

  /**
   * Adds a user-defined filter to the storage.
   *
   * @async
   * @param {Filter} filter
   * @param {?module:subscriptionClasses.SpecialSubscription} [subscription]
   *   The subscription that the filter should be added to.
   * @param {number} [position] The position within the subscription at which
   *   the filter should be added. If not specified, the filter is added at the
   *   end of the subscription.
   *
   * @return {Promise<module:subscriptionClasses.SpecialSubscription>} The
   *   subscription the filter is in. Either existing or added.
   */
  async addFilter(filter, subscription, position) {
    if (!subscription) {
      for (let currentSubscription of this._knownSubscriptions.values()) {
        if (currentSubscription instanceof SpecialSubscription &&
            !currentSubscription.disabled &&
            currentSubscription.hasFilterText(filter.text)) {
          return currentSubscription;
        }
      }
      subscription = this.getGroupForFilter(filter);
    }
    if (!subscription) {
      // No group for this filter exists, create one
      subscription = SpecialSubscription.createForFilter(filter);
      this.addSubscription(subscription);
      this.enableFilter(filter.text, subscription.url);
      return subscription;
    }

    if (typeof position == "undefined") {
      position = subscription.filterCount;
    }

    subscription.insertFilterTextAt(filter.text, position);
    this.enableFilter(filter.text, subscription.url);
    filterNotifier.emit("filter.added", filter, subscription, position);
    return subscription;
  }

  /**
   * Removes a user-defined filter from the storage.
   * @param {module:filterClasses.Filter} filter
   * @param {?module:subscriptionClasses.SpecialSubscription} [subscription]
   *   The subscription that the filter should be removed from. If not
   *   specified, the filter will be removed from all subscriptions.
   * @param {number} [position] The position within the subscription at which
   *   the filter should be removed. If not specified, all instances of the
   *   filter will be removed.
   */
  removeFilter(filter, subscription, position) {
    let subscriptions = (
      subscription ? [subscription] : this._knownSubscriptions.values()
    );
    for (let currentSubscription of subscriptions) {
      if (currentSubscription instanceof SpecialSubscription &&
          (currentSubscription == subscription ||
           currentSubscription.hasFilterText(filter.text))) {
        let positions = [];
        if (typeof position == "undefined") {
          let index = -1;
          do {
            index = currentSubscription.findFilterTextIndex(
              filter.text, index + 1);
            if (index >= 0) {
              positions.push(index);
            }
          } while (index >= 0);
        }
        else {
          positions.push(position);
        }

        for (let j = positions.length - 1; j >= 0; j--) {
          let currentPosition = positions[j];
          let currentFilterText =
            currentSubscription.filterTextAt(currentPosition);
          if (currentFilterText && currentFilterText == filter.text) {
            currentSubscription.deleteFilterAt(currentPosition);
            filterNotifier.emit(
              "filter.removed", filter, currentSubscription, currentPosition
            );
          }
        }
      }
    }
  }

  /**
   * Moves a user-defined filter to a new position.
   * @param {module:filterClasses.Filter} filter
   * @param {module:subscriptionClasses.SpecialSubscription} subscription The
   *   subscription where the filter is located.
   * @param {number} oldPosition The current position of the filter.
   * @param {number} newPosition The new position of the filter.
   */
  moveFilter(filter, subscription, oldPosition, newPosition) {
    if (!(subscription instanceof SpecialSubscription)) {
      return;
    }

    let currentFilterText = subscription.filterTextAt(oldPosition);
    if (!currentFilterText || currentFilterText != filter.text) {
      return;
    }

    newPosition = Math.min(Math.max(newPosition, 0),
                           subscription.filterCount - 1);
    if (oldPosition == newPosition) {
      return;
    }

    subscription.deleteFilterAt(oldPosition);
    subscription.insertFilterTextAt(filter.text, newPosition);
    filterNotifier.emit(
      "filter.moved", filter, subscription, oldPosition, newPosition
    );
  }

  /**
   * Increases the hit count for a filter by one.
   * @param {Filter} filter
   */
  increaseHitCount(filter) {
    if (!Prefs.savestats || !isActiveFilter(filter)) {
      return;
    }

    this.filterState.registerHit(filter.text);
  }

  /**
   * Resets hit count for some filters.
   * @param {?Array.<Filter>} [filters] The filters to be reset. If not
   *   specified, all filters will be reset.
   */
  resetHitCounts(filters) {
    if (filters) {
      for (let filter of filters) {
        this.filterState.resetHits(filter.text);
      }
    }
    else {
      for (let text of this.filterState.map.keys()) {
        this.filterState.resetHits(text);
      }
    }
  }

  /**
   * @callback TextSink
   * @param {string?} line
   */

  /**
   * Allows importing previously serialized filter data.
   * @param {boolean} silent If `true`, no "load" notification will be sent
   *   out.
   * @returns {TextSink} The function to be called for each line of data.
   *   Calling it with `null` as the argument finalizes the import and replaces
   *   existing data. No changes will be applied before finalization, so import
   *   can be "aborted" by forgetting this callback.
   * @package
   */
  importData(silent) {
    let parser = new INIParser(this.filterState);
    return line => {
      parser.process(line);
      if (line === null) {
        let knownSubscriptions = new Map();
        let metadataSubscriptions = new Map();
        for (let subscription of parser.subscriptions) {
          // Convert to the new terminology when loading.
          if (Array.isArray(subscription.defaults)) {
            subscription.defaults.forEach((type, i, arr) => {
              if (type == "whitelist") {
                arr[i] = "allowing";
              }
            });
          }
          knownSubscriptions.set(subscription.url, subscription);
          if (subscription.metadata) {
            metadataSubscriptions.set(subscription.url, subscription);
          }
        }

        this.fileProperties = parser.fileProperties;
        this._knownSubscriptions = knownSubscriptions;
        this._metadataSubscriptions = metadataSubscriptions;

        if (!silent) {
          filterNotifier.emit("load");
        }
      }
    };
  }

  /**
   * Loads all subscriptions from disk.
   * @returns {Promise} A promise resolved or rejected when loading is complete.
   * @package
   */
  async loadFromDisk() {
    let tryBackup = async backupIndex => {
      try {
        await this.restoreBackup(backupIndex, true);
      }
      catch (error) {
        // Give up
      }
    };

    try {
      let statData = await statFile(FilterStorage.sourceFile);

      if (!statData.exists) {
        this.firstRun = true;
        return;
      }

      let parser = this.importData(true);
      await IO.readFromFile(FilterStorage.sourceFile, parser);
      parser(null);
    }
    catch (error) {
      console.warn(error);
      await tryBackup(1);
    }

    this.initialized = true;
    filterNotifier.emit("load");
  }

  /**
   * Constructs the file name for a `patterns.ini` backup.
   * @param {number} backupIndex Number of the backup file (1 being the most
   *   recent).
   * @returns {string} Backup file name.
   * @package
   */
  static getBackupName(backupIndex) {
    let [name, extension] = FilterStorage.sourceFile.split(".", 2);
    return (name + "-backup" + backupIndex + "." + extension);
  }

  /**
   * Restores an automatically created backup.
   * @param {number} backupIndex Number of the backup to restore (1 being the
   *   most recent).
   * @param {boolean} silent If `true`, no "load" notification will be sent
   *   out.
   * @returns {Promise} A promise resolved or rejected when restoration is
   *   complete.
   * @package
   */
  async restoreBackup(backupIndex, silent) {
    let backupFile = FilterStorage.getBackupName(backupIndex);
    let parser = this.importData(silent);
    await IO.readFromFile(backupFile, parser);
    parser(null);
    return this.saveToDisk();
  }

  /**
   * Generator serializing filter data and yielding it line by line.
   * @yields {string}
   */
  *exportData() {
    // Do not persist external subscriptions
    let subscriptions = [];
    for (let subscription of this._knownSubscriptions.values()) {
      if (!(subscription instanceof SpecialSubscription &&
            subscription.filterCount == 0)) {
        subscriptions.push(subscription);
      }
    }

    yield "# Adblock Plus preferences";
    yield "version=" + this.formatVersion;

    let saved = new Set();

    // Save subscriptions
    for (let subscription of subscriptions) {
      yield* subscription.serialize();
      yield* subscription.serializeFilters();
    }

    // Save filter data
    for (let subscription of subscriptions) {
      for (let text of subscription.filterText()) {
        if (!saved.has(text)) {
          yield* this.filterState.serialize(text);
          saved.add(text);
        }
      }
    }
  }

  /**
   * Saves all subscriptions back to disk.
   * @param {boolean} [skipInitSavePromise=false] Skip init new saving promise
   * @returns {Promise} A promise resolved or rejected when saving is complete.
   * @package
   */
  async saveToDisk(skipInitSavePromise = false) {
    if (this._saving) {
      this._needsSave = true;
      return;
    }

    this.setSaving(true, skipInitSavePromise);
    try {
      let {patternsbackups} = Prefs;
      let isBackupRequired = async() => {
        // First check whether we need to create a backup
        if (patternsbackups <= 0) {
          return false;
        }

        let statData = await statFile(FilterStorage.sourceFile);
        if (!statData.exists) {
          return false;
        }

        let backupStatData = await statFile(FilterStorage.getBackupName(1));
        if (backupStatData.exists &&
            (Date.now() - backupStatData.lastModified) / 3600000 <
              Prefs.patternsbackupinterval) {
          return false;
        }

        return true;
      };

      if (await isBackupRequired()) {
        try {
          // if patternsbackups is 1 just create it, otherwise create a
          // backup-0 that will be shifted among others later on
          let i = patternsbackups > 1 ? 0 : 1;
          await renameFile(
            FilterStorage.sourceFile, FilterStorage.getBackupName(i)
          );

          // if there is more than a backup, backup-0 up to backup-X need to be
          // renamed but without blocking this callback
          if (patternsbackups > 1) {
            // keep queueing backups as these come, considering backup1 and
            // backup 0 are always safe thanks to the this._saving flag
            backupQueue = backupQueue.then(() => new Promise(resolve => {
              let renameAll = async index => {
                if (index > 0) {
                  try {
                    let source = FilterStorage.getBackupName(index - 1);
                    let dest = FilterStorage.getBackupName(index);
                    await renameFile(source, dest);
                  }
                  catch (error) {
                    // Expected error, backup file doesn't exist.
                  }
                  renameAll(index - 1);
                }
                else {
                  resolve();
                }
              };
              renameAll(patternsbackups);
            }));
          }
        }
        catch (error) {
          // This is actually an unexpected error that could happen only if
          // the disk had issues in renaming the source file.
          console.warn(error);
        }
      }
    }
    catch (error) {
      // Errors during backup creation shouldn't prevent writing filters.
      console.warn(error);
    }

    try {
      await IO.writeToFile(FilterStorage.sourceFile, this.exportData());
      stats.set(
        FilterStorage.sourceFile, {exists: true, lastModified: Date.now()}
      );
      filterNotifier.emit("save");
    }
    catch (error) {
      // If saving failed, report error but continue -
      // we still have to process flags.
      console.warn(error);
      stats.delete(FilterStorage.sourceFile);
    }

    // if it still needs reSaving, don't resolve current promise here and
    // skip creating new promise in internal `saveToDisk()` below
    this.setSaving(false, this._needsSave);

    if (this._needsSave) {
      this._needsSave = false;
      this.saveToDisk(true);
    }
  }

  async awaitSavingComplete() {
    if (!this._saving) {
      return;
    }

    await this._savingPromise;
  }

  /**
   * @typedef {Object} FileInfo
   * @property {number} index
   * @property {number} lastModified
   */

  /**
   * Returns a promise resolving in a list of existing backup files.
   * @returns {Promise.<Array.<FileInfo>>}
   * @package
   */
  async getBackupFiles() {
    let backups = [];

    let checkBackupFile = async index => {
      try {
        let statData = await statFile(FilterStorage.getBackupName(index));
        if (!statData.exists) {
          return backups;
        }

        backups.push({
          index,
          lastModified: statData.lastModified
        });

        return checkBackupFile(index + 1);
      }
      catch (error) {
        // Something went wrong, return whatever data we got so far.
        console.warn(error);
        return backups;
      }
    };

    return checkBackupFile(1);
  }

  /**
   * Clears the cache
   * @ignore
   */
  clearStats() {
    this._stats.clear();
  }
}

exports.FilterStorage = FilterStorage;

/**
 * Given a path, return its stats, if known, or a Stats object with properties
 * exists = false and lastModified = 0.
 * @param {string} path
 * @returns {Stats}
 */
async function statFile(path) {
  let known = stats.get(path);
  if (known) {
    return known;
  }

  try {
    known = await IO.statFile(path);
  }
  catch (error) {
    known = {exists: false, lastModified: 0};
  }
  stats.set(path, known);
  return known;
}

/**
 * Given a source path and a destination path, tries to rename the source and,
 * if it succeed, remove the source from the stats and set stats for dest.
 * @param {string} source
 * @param {string} dest
 */
async function renameFile(source, dest) {
  await IO.renameFile(source, dest);
  stats.delete(source);
  stats.set(dest, {exists: true, lastModified: Date.now()});
}


/***/ }),

/***/ "./core/lib/filters/index.js":
/*!***********************************!*\
  !*** ./core/lib/filters/index.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */



/** @module */

const {contentTypes, RESOURCE_TYPES} = __webpack_require__(/*! ../contentTypes */ "./core/lib/contentTypes.js");

/**
 * Regular expression that content filters should match
 * @type {RegExp}
 */
const CONTENT_FILTER = /^([^/|@"!]*?)#([@?$])?#(.+)$/;
exports.CONTENT_FILTER = CONTENT_FILTER;

/**
 * Regular expression that options on a RegExp filter should match
 * @type {RegExp}
 */
const FILTER_OPTIONS = /\$(~?[\w-]+(?:=[^,]*)?(?:,~?[\w-]+(?:=[^,]*)?)*)$/;
exports.FILTER_OPTIONS = FILTER_OPTIONS;

// used to reduce possible short filters damage
const MIN_GENERIC_URL_FILTER_PATTERN_LENGTH = 4;

/**
 * Regular expression that matches an invalid Content Security Policy
 * @type {RegExp}
 */
const INVALID_CSP = /(;|^) ?(base-uri|referrer|report-to|report-uri|upgrade-insecure-requests)\b/i;
exports.INVALID_CSP = INVALID_CSP;

/**
 * The Error type returned by parse.
 *
 * For example `filter_unknown_option` will have `option`.
 * @property {Object} detail Contains information about the error.
 * @property {string} [detail.option] The option for `filter_unknown_option`.
 * @property {string} [detail.regexp] The regexp for `filter_invalid_regexp`.
 * @property {string} detail.text The text of the rejected filter.
 */
class FilterParsingError extends Error {
  /** Construct a FilterParsingError
   * @constructor
   * @param {string} message The error message.
   * @param {Object} detail The FilterParsingError detail. Contains at
   *   least `text`.
   */
  constructor(message, detail) {
    super(message);
    this.detail = detail;
  }
}

exports.FilterParsingError = FilterParsingError;

/**
 * @typedef {Object} ParsedFilter
 * @property {bool} blocking Whether it's a blocking filter or not.
 * @property {string} text The filter text.
 * @property {string} regexpSource The source of the matching RegExp.
 * @property {number} contentType The
 *   {@link module:contentTypes.contentTypes content types} for the filter.
 * @property {bool?} matchCase If the filter is case sensitive.
 * @property {Array<string>?} domains The domains to match
 *   (`$domains` option).
 * @property {Array<string>?} sitekeys The sitekeys to match.
 * @property {object?} headers The headers filtering.
 * @property {string?} rewrite The URL for to rewrite to.
 * @property {string?} csp The CSP directive.
 */

/**
 * Parse the filter text representation into a structure.
 *
 * This is meant to be called by
 * {module:filterClasses.URLFilter.fromText}
 *
 * @param {string} text the filter normalized text. Call normalize()
 *   on the text prior to this, unless it is already normalized.
 * @return {ParsedFilter|FilterParsingError}
 *   The parsed filter, or a FilterParsingError.
 */
exports.parse = function parse(text) {
  // exclude empty text, comments, and content filters
  if (text.length < 1) {
    return new FilterParsingError("filter_empty", {text});
  }

  if (text[0] === "!" || CONTENT_FILTER.test(text)) {
    return new FilterParsingError("invalid", {text});
  }

  // parse like an ABP URLFilter
  let blocking = true;
  let origText = text;
  if (text.startsWith("@@")) {
    blocking = false;
    text = text.substring(2);
  }

  let contentType = null;
  let matchCase = null;
  let domains = null;
  let sitekeys = null;
  let thirdParty = null;
  let csp = null;
  let rewrite = null;
  let header = null;
  let options;
  let match = text.includes("$") ? FILTER_OPTIONS.exec(text) : null;
  if (match) {
    text = match.input.substring(0, match.index);

    options = match[1].split(",");
    let cspSet = false;
    let headerSet = false;

    for (let option of options) {
      let value = null;
      let separatorIndex = option.indexOf("=");
      if (separatorIndex >= 0) {
        value = option.substring(separatorIndex + 1);
        option = option.substring(0, separatorIndex);
      }

      let inverse = option[0] == "~";
      if (inverse) {
        option = option.substring(1);
      }

      let optionUpperCase = option.toUpperCase();
      let type = contentTypes[optionUpperCase.replace(/-/, "_")];
      if (type) {
        if (inverse) {
          if (contentType == null) {
            contentType = RESOURCE_TYPES;
          }
          contentType &= ~type;
        }
        else if (type === contentTypes.CSP) {
          if (blocking && !value) {
            return new FilterParsingError("filter_invalid_csp",
                                          {text: origText});
          }
          cspSet = true;
          csp = value;
        }
        else if (type === contentTypes.HEADER) {
          if (blocking && !value) {
            return new FilterParsingError("filter_invalid_header",
                                          {text: origText});
          }
          headerSet = true;
          if (value) {
            let headerRaw = value.replace(/([^\\])\\x2c/g, "$1,")
                .replace(/\\\\x2c/g, "\\x2c");
            let equal = headerRaw.indexOf("=");
            if (equal == headerRaw.length - 1) {
              // This case is "key=" with no value
              header = {
                name: headerRaw.substring(0, equal).toLowerCase()
              };
            }
            else if (equal >= 0) {
              header = {
                name: headerRaw.substring(0, equal).toLowerCase(),
                value: headerRaw.substring(equal + 1)
              };
            }
            else {
              header = {
                name: headerRaw.toLowerCase()
              };
            }

            if (header.name.length == 0) {
              return new FilterParsingError("filter_invalid_header",
                                            {text: origText});
            }
            if (/^\/[\s\S]*\/$/.test(header.value)) {
              return new FilterParsingError("filter_invalid_header",
                                            {text: origText});
            }
          }
        }
        else {
          contentType |= type;
        }
      }
      else {
        switch (optionUpperCase) {
          case "MATCH-CASE":
            matchCase = !inverse;
            break;
          case "DOMAIN":
            if (!value) {
              return new FilterParsingError("filter_unknown_option",
                                            {option, text: origText});
            }
            domains = value;
            break;
          case "THIRD-PARTY":
            thirdParty = !inverse;
            break;
          case "SITEKEY":
            if (!value) {
              return new FilterParsingError("filter_unknown_option",
                                            {option, text: origText});
            }
            // Sitekeys are case-sensitive, they shouldn't be uppercased.
            sitekeys = value;
            break;
          case "REWRITE":
            if (value == null) {
              return new FilterParsingError("filter_unknown_option",
                                            {option, text: origText});
            }
            if (!value.startsWith("abp-resource:")) {
              return new FilterParsingError("filter_invalid_rewrite",
                                            {text: origText});
            }
            rewrite = value.substring("abp-resource:".length);
            break;
          default:
            return new FilterParsingError("filter_unknown_option",
                                          {option, text: origText});
        }
      }
    }
    if (cspSet || headerSet) {
      if (contentType == null) {
        contentType = RESOURCE_TYPES;
      }
      if (cspSet) {
        contentType |= contentTypes.CSP;
      }
      if (headerSet) {
        contentType |= contentTypes.HEADER;
      }
    }
  }

  let isGeneric = !sitekeys && !domains;
  if (isGeneric) {
    let minTextLength = MIN_GENERIC_URL_FILTER_PATTERN_LENGTH;
    let {length} = text;
    if (length > 0 && text[0] === "|") {
      minTextLength++;
      if (length > 1 && text[1] === "|") {
        minTextLength++;
      }
    }
    if (length < minTextLength && !text.includes("*")) {
      return new FilterParsingError("filter_url_not_specific_enough",
                                    {text: origText});
    }
  }
  // We expect filters to use Punycode for domains these days, so let's just
  // skip filters which don't. See #6647.
  else if (domains && /[^\x00-\x7F]/.test(domains)) {
    return new FilterParsingError("filter_invalid_domain", {text: origText});
  }

  if (blocking) {
    if (csp && INVALID_CSP.test(csp)) {
      return new FilterParsingError("filter_invalid_csp", {text: origText});
    }

    if (rewrite) {
      if (text.startsWith("||")) {
        if (!domains && thirdParty != false) {
          return new FilterParsingError("filter_invalid_rewrite",
                                        {text: origText});
        }
      }
      else if (text.startsWith("*")) {
        if (!domains) {
          return new FilterParsingError("filter_invalid_rewrite",
                                        {text: origText});
        }
      }
      else {
        return new FilterParsingError("filter_invalid_rewrite",
                                      {text: origText});
      }
    }
  }

  return {
    blocking,
    text: origText,
    regexpSource: text,
    contentType,
    matchCase,
    domains,
    thirdParty,
    sitekeys,
    header,
    rewrite,
    csp
  };
};

/**
 * Removes unnecessary whitespaces from filter text, will only return null if
 * the input parameter is null.
 *
 * @param {string} text
 * @param {boolean?} dontSanitize avoid expensive operations on text.
 * @return {string}
 */
exports.normalize = function(text, dontSanitize = false) {
  if (text === "") {
    return text;
  }

  // Remove line breaks, tabs etc
  text = text.replace(/[^\S ]+/g, "");

  const removeSpaces = s => s.replace(/ +/g, "");

  const trimSpaces = action => {
    if (!action.includes(":")) {
      return "";
    }

    let [key, value] = action.split(":");
    value = value.replace("!important", "");

    // Required to allow CSS properties with spaces
    // e.g. "border: 1px solid black"
    return key.trimStart().trimEnd() + ":" + value.trimStart().trimEnd() + ";";
  };

  const formatInnerCurlyBraceText = actionBody => {
    const actions = actionBody.split(";");
    let formatted = "";

    for (const action of actions) {
      if (!action) {
        continue;
      }

      formatted += trimSpaces(action);
    }

    return formatted;
  };

  if (dontSanitize) {
    return text.trim();
  }

  if (!text.includes(" ")) {
    return text;
  }

  // Don't remove spaces inside comments
  if (/^ *!/.test(text)) {
    return text.trim();
  }

  // Special treatment for content filters, right side is allowed to contain
  // spaces
  if (CONTENT_FILTER.test(text)) {
    // Matches filter with multiple elements inside trailing curly braces
    // with the form "{property}: {value};" with any whitespaces ignored
    // Note: The semi-colon for the final element is optional
    // i.e. "{property}: {value}" is also valid
    const elemhideWithTrailingBracesMatches = /^(.*?)(#[@?]?#)(.*) +\{( *.* *: *[^;]+ *(;)? *)\} *$/.exec(text);

    if (elemhideWithTrailingBracesMatches) {
      const [
        ,
        domains,
        separator,
        body,
        textInsideCurlyBraces
      ] = elemhideWithTrailingBracesMatches;

      return removeSpaces(domains) +
        separator +
        body.trim() +
        " {" +
        formatInnerCurlyBraceText(textInsideCurlyBraces) +
        "}";
    }

    const [, domains, separator, body] = /^(.*?)(#[@?$]?#?)(.*)$/.exec(text);
    return removeSpaces(domains) + separator + body.trim();
  }

  // For most regexp filters we strip all spaces, but $csp filter options
  // are allowed to contain single (non trailing) spaces.
  let strippedText = removeSpaces(text);
  if (!strippedText.includes("$") || !/\b(csp|header)=/i.test(strippedText)) {
    return strippedText;
  }

  let optionsMatch = FILTER_OPTIONS.exec(strippedText);
  if (!optionsMatch) {
    return strippedText;
  }

  // For $csp filters we must first separate out the options part of the
  // text, being careful to preserve its spaces.
  let beforeOptions = strippedText.substring(0, optionsMatch.index);
  let strippedDollarIndex = -1;
  let dollarIndex = -1;
  do {
    strippedDollarIndex = beforeOptions.indexOf("$", strippedDollarIndex + 1);
    dollarIndex = text.indexOf("$", dollarIndex + 1);
  }
  while (strippedDollarIndex != -1);
  let optionsText = text.substring(dollarIndex + 1);

  // Then we can normalize spaces in the options part safely
  let options = optionsText.split(",");
  for (let i = 0; i < options.length; i++) {
    let option = options[i];
    let optionMatch = /^ *(c *s *p|h *e *a *d *e *r) *=/i.exec(option);
    if (optionMatch) {
      options[i] = removeSpaces(optionMatch[0]) +
        option.substring(optionMatch[0].length).trim().replace(/ +/g, " ");
    }
    else {
      options[i] = removeSpaces(option);
    }
  }

  return beforeOptions + "$" + options.join();
};


/***/ }),

/***/ "./core/lib/filters/inlineCssValidation.js":
/*!*************************************************!*\
  !*** ./core/lib/filters/inlineCssValidation.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */



/** @module */

/**
 * Validates the CSS properties based on the rules in
 * https://gitlab.com/eyeo/adblockplus/ad-filtering-working-group/-/blob/main/filter-syntax.md#valid-css-property-names-and-values
 *
 * @param {Object} css The parsed properties to validate. Each property on the
 *   object should be a valid CSS property.
 * @returns {boolean} True if the CSS properties are all valid.x
 */
exports.verifyCSSProperties = function verifyCSSProperties(css) {
  if (Object.keys(css).length == 0) {
    return false;
  }

  for (let name in css) {
    if (!verifyCSSPropertyName(name) || !verifyCSSPropertyValue(css[name])) {
      return false;
    }
  }

  return true;
};

function verifyCSSPropertyName(name) {
  return /^(-?[a-z]+)+$/.test(name);
}

function verifyCSSPropertyValue(value) {
  // splitting is to allow lists of valid values, for example in shorthand
  // properties like `margin` or `border`.
  let subvalues = value.split(" ").filter(subvalue => subvalue.length > 0);
  if (subvalues.length == 0) {
    return false;
  }

  return subvalues.every(subvalue => {
    return CSS_VALIDATION_WHITELIST.some(validValue => {
      if (validValue instanceof RegExp) {
        return validValue.test(subvalue);
      }

      return validValue == subvalue;
    });
  });
}

// This should be kept in sync with https://gitlab.com/eyeo/adblockplus/ad-filtering-working-group/-/blob/main/filter-syntax.md#property-values
const CSS_VALIDATION_WHITELIST = [
  "inherit",
  "initial",
  "none",
  "revert",
  "revert-layer",
  "unset",
  /^#[0-9a-f]{3,8}$/,
  "currentcolor",
  /^[+-]?(\d+(\.\d+)?|\.\d+)(e[+-]?\d+)?(cm|mm|q|in|pc|pt|px|em|ex|ch|rem|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|%|fr)?$/,
  "absolute",
  "all",
  "auto",
  "block",
  "both",
  "clip",
  "collapse",
  "contain",
  "dashed",
  "default",
  "dotted",
  "double",
  "element",
  "fit-content",
  "fixed",
  "flex",
  "flow-root",
  "flow",
  "grid",
  "groove",
  "hidden",
  "inline-block",
  "inline-flex",
  "inline-grid",
  "inline-table",
  "inline",
  "inset",
  "left",
  "list-item",
  "max-content",
  "min-content",
  "outset",
  "pointer",
  "relative",
  "ridge",
  "right",
  "ruby",
  "scroll",
  "solid",
  "static",
  "sticky",
  "table-row",
  "table",
  "text",
  "thin",
  "transparent",
  "true",
  "visible"
];


/***/ }),

/***/ "./core/lib/filters/lists.js":
/*!***********************************!*\
  !*** ./core/lib/filters/lists.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */



/** @module */

/**
 * Given some text containing a filter list, parse each line and return all
 * details.
 * @param {string} filters The filter list file/text to parse.
 * @returns {Object.<error?, lines?, params?, minVersion?>} All parsed details,
 *  if available. `lines` will contain the header in the first line.
 */
function parseFilterList(filters) {
  let lines = filters.split(/[\r\n]+/);
  // The filter list always start with a header, at minimum `[Adblock]`.
  let headerMatch = /\[Adblock(?:\s*Plus\s*([\d.]+)?)?\]/i.exec(lines[0]);

  if (!headerMatch) {
    return {error: "synchronize_invalid_data"};
  }

  let minVersion = headerMatch[1];

  let params = {
    redirect: null,
    homepage: null,
    title: null,
    version: null,
    expires: null,
    abtest: null,
    diffurl: null,
    lastmodified: null
  };

  for (let {hasOwnProperty} = Object.prototype, i = 1; i < lines.length; i++) {
    let match = /^\s*!\s*(.*?)\s*:\s*(.*)/.exec(lines[i]);
    if (!match) {
      break;
    }

    let keyword = match[1].toLowerCase().replace(/\s/g, "");
    if (hasOwnProperty.call(params, keyword)) {
      params[keyword] = match[2];
      lines.splice(i--, 1);
    }
  }

  params["lastModified"] = params.lastmodified;
  delete params.lastmodified;

  return {lines, params, minVersion};
}

exports.parseFilterList = parseFilterList;


/***/ }),

/***/ "./core/lib/filtersByDomain.js":
/*!*************************************!*\
  !*** ./core/lib/filtersByDomain.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



const {hasWildcard, matchesWildcards} = __webpack_require__(/*! ./url */ "./core/lib/url.js");

/**
 * Map to be used instead when a filter has a blank `domains` property.
 * @type {Map.<string, boolean>}
 */
let defaultDomains = new Map([["", true]]);

let FilterMap =
/**
 * A `FilterMap` object contains a set of filters, each mapped to a boolean
 * value indicating whether the filter should be applied.
 *
 * It is used by
 * `{@link module:filtersByDomain.FiltersByDomain FiltersByDomain}`.
 *
 * @package
 */
exports.FilterMap = class FilterMap extends Map {};

/**
 * A `FiltersByDomain` object contains a set of domains, each mapped to a set
 * of filters along with a boolean value for each filter indicating whether the
 * filter should be applied to the domain.
 *
 * @package
 */
exports.FiltersByDomain = class FiltersByDomain extends Map {
  constructor(source) {
    super(source);

    // We keep concrete domains list (eg. "example.com") in `this` map
    // and the domain with wildcards in internal `domainsWithWildcards` map
    // because of different way of matching.
    // `Map` uses "equals" implementation for `get()` and for
    // wildcarded matching implementation we need to iterate existing entries
    // and call our own `matchesWildcards(..)` implementation.
    // So at filter adding to add it to the according map and override all the
    // relevant methods (has, get) to run the wildcards-related logic.
    this.domainsWithWildcards = new Map();
  }

  /**
   * Adds a filter and all of its domains to the object.
   *
   * @param {module:filterClasses.ActiveFilter} filter The filter.
   * @param {Map.<string, boolean>} [domains] The filter's domains. If not
   *   given, the `{@link module:filterClasses.ActiveFilter#domains domains}`
   *   property of `filter` is used.
   */
  add(filter, domains = filter.domains) {
    for (let [domain, include] of domains || defaultDomains) {
      if (!include && domain == "") {
        continue;
      }

      if (hasWildcard(domain)) {
        this._addToMap(filter, domain, include, this.domainsWithWildcards);
      }
      else {
        this._addToMap(filter, domain, include, this);
      }
    }
  }

  _addToMap(filter, domain, include, toMap) {
    let map = toMap.get(domain, true);
    if (!map) {
      toMap.set(domain, include ? filter : new FilterMap([[filter, false]]));
    }
    else if (map.size == 1 && !(map instanceof FilterMap)) {
      if (filter != map) {
        toMap.set(domain, new FilterMap([[map, true], [filter, include]]));
      }
    }
    else {
      map.set(filter, include);
    }
  }

  has(domain) {
    let result = super.has(domain);
    if (!result) {
      // no filters for the concrete domain
      for (let domainWithWildcards of this.domainsWithWildcards.keys()) {
        if (matchesWildcards(domain, domainWithWildcards)) {
          result = true;
          break;
        }
      }
    }
    return result;
  }

  get(domain, skipWildcardCheck) {
    let result = [];
    let map = super.get(domain);
    if (map) {
      result.push(map);
    }

    if (!skipWildcardCheck) {
      for (let [domainWithWildcards, filterOrMap] of
        this.domainsWithWildcards.entries()) {
        if (matchesWildcards(domain, domainWithWildcards)) {
          result.push(filterOrMap);
        }
      }
    }

    if (result.length == 0) {
      result = void 0;
    }
    else if (result.length == 1) {
      result = result[0];
    }
    else {
      // merge the results
      let mergedMap = new FilterMap();
      for (let filterOrMap of result) {
        let fromMap = (filterOrMap instanceof Map ?
          filterOrMap : new Map([[filterOrMap, true]]));

        for (let [filter, isIncluded] of fromMap.entries()) {
          mergedMap.set(filter, isIncluded);
        }
      }
      result = mergedMap;
    }

    return result;
  }

  clear() {
    super.clear();
    this.domainsWithWildcards.clear();
  }

  /**
   * Removes a filter and all of its domains from the object.
   *
   * @param {module:filterClasses.ActiveFilter} filter The filter.
   * @param {Map.<string, boolean>} [domains] The filter's domains. If not
   *   given, the `{@link module:filterClasses.ActiveFilter#domains domains}`
   *   property of `filter` is used.
   */
  remove(filter, domains = filter.domains) {
    for (let domain of (domains || defaultDomains).keys()) {
      if (hasWildcard(domain)) {
        this._removeFromMap(filter, domain, this.domainsWithWildcards);
      }
      else {
        this._removeFromMap(filter, domain, this);
      }
    }
  }

  _removeFromMap(filter, domain, fromMap) {
    let map = fromMap.get(domain);
    if (map) {
      if (map.size > 1 || map instanceof FilterMap) {
        map.delete(filter);

        if (map.size == 0) {
          fromMap.delete(domain);
        }
        else if (map.size == 1) {
          for (let [lastFilter, include] of map.entries()) {
            // Reduce Map { "example.com" => Map { filter => true } } to
            // Map { "example.com" => filter }
            if (include) {
              fromMap.set(domain, lastFilter);
            }

            break;
          }
        }
      }
      else if (filter == map) {
        fromMap.delete(domain);
      }
    }
  }
};


/***/ }),

/***/ "./core/lib/index.js":
/*!***************************!*\
  !*** ./core/lib/index.js ***!
  \***************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/**
 * @module
 *
 * @borrows module:contentTypes.contentTypes as contentTypes
 * @borrows module:features.Features as Features
 * @borrows module:filterEngine.FilterEngine as FilterEngine
 * @borrows module:synchronizer.Synchronizer as Synchronizer
 * @borrows module:url.parseURL as parseURL
 */



const {contentTypes} = __webpack_require__(/*! ./contentTypes */ "./core/lib/contentTypes.js");
const {Features} = __webpack_require__(/*! ./features */ "./core/lib/features.js");
const {FilterEngine} = __webpack_require__(/*! ./filterEngine */ "./core/lib/filterEngine.js");
const {Synchronizer} = __webpack_require__(/*! ./synchronizer */ "./core/lib/synchronizer.js");
const {parseURL} = __webpack_require__(/*! ./url */ "./core/lib/url.js");

module.exports = {
  contentTypes,
  Features,
  FilterEngine,
  Synchronizer,
  parseURL
};


/***/ }),

/***/ "./core/lib/iniParser.js":
/*!*******************************!*\
  !*** ./core/lib/iniParser.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file INI parsing.
 */

const {isActiveFilter, Filter} = __webpack_require__(/*! ./filterClasses */ "./core/lib/filterClasses.js");
const {FilterState} = __webpack_require__(/*! ./filterState */ "./core/lib/filterState.js");
const {Subscription} = __webpack_require__(/*! ./subscriptionClasses */ "./core/lib/subscriptionClasses.js");

/**
 * Parses filter data.
 * @package
 */
exports.INIParser = class INIParser {
  /** @param {FilterState} filterState the filter state */
  constructor(filterState) {
    if (!(filterState instanceof FilterState)) {
      throw new Error("filterState must be a FilterState object");
    }

    /**
     * Properties of the filter data.
     * @type {Object}
     */
    this.fileProperties = {};

    /**
     * The list of subscriptions in the filter data.
     * @type {Array.<module:subscriptionClasses.Subscription>}
     */
    this.subscriptions = [];

    /** @type {module:filterState.FilterState} */
    this.filterState = filterState;

    this._wantObj = true;
    this._curObj = this.fileProperties;
    this._curSection = null;
  }

  /**
   * Processes a line of filter data.
   *
   * @param {string?} line The line of filter data to process. This may be
   *   `null`, which indicates the end of the filter data.
   */
  process(line) {
    let match = null;
    if (this._wantObj === true && (match = /^(\w+)=(.*)$/.exec(line))) {
      this._curObj[match[1]] = match[2];
    }
    else if (this._wantObj === true && (match = /^(\w+)\[]=(.*)$/.exec(line))) {
      if (!this._curObj[match[1]]) {
        this._curObj[match[1]] = [];
      }
      this._curObj[match[1]].push(match[2]);
    }
    else if (line === null || (match = /^\s*\[(.+)\]\s*$/.exec(line))) {
      if (this._curObj) {
        // Process current object before going to next section
        switch (this._curSection) {
          case "filter":
            if ("text" in this._curObj) {
              let {text} = this._curObj;
              if (isActiveFilter(Filter.fromText(text))) {
                this.filterState.fromObject(text, this._curObj);
              }
            }
            break;

          case "subscription":
            let subscription = Subscription.fromObject(this._curObj);
            if (subscription) {
              this.subscriptions.push(subscription);
            }
            break;

          case "subscription filters":
            if (this.subscriptions.length) {
              let currentSubscription = this.subscriptions[
              this.subscriptions.length - 1
              ];
              currentSubscription.updateFilterText(this._curObj);
            }
            break;
        }
      }

      if (line === null) {
        return;
      }

      this._curSection = match[1].toLowerCase();
      switch (this._curSection) {
        case "filter":
        case "subscription":
          this._wantObj = true;
          this._curObj = {};
          break;
        case "subscription filters":
          this._wantObj = false;
          this._curObj = [];
          break;
        default:
          this._wantObj = null;
          this._curObj = null;
      }
    }
    else if (this._wantObj === false && line) {
      this._curObj.push(line.replace(/\\\[/g, "["));
    }
  }
};


/***/ }),

/***/ "./core/lib/jsbn.js":
/*!**************************!*\
  !*** ./core/lib/jsbn.js ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

/*
 * Copyright (c) 2003-2005  Tom Wu
 * All Rights Reserved.
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY
 * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,
 * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER
 * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF
 * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT
 * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * In addition, the following condition applies:
 *
 * All redistributions must retain an intact copy of this copyright notice
 * and disclaimer.
 */

// Basic JavaScript BN library - subset useful for RSA encryption.

// Modified by eyeo GmbH to better support going to and from JS binary
// strings (base 256) and our particular use case.

// Bits per digit
var dbits;

// JavaScript engine analysis
var canary = 0xdeadbeefcafe;
var j_lm = ((canary&0xffffff)==0xefcafe);

// (public) Constructor
let BigInteger = exports.BigInteger = function BigInteger(a,b,c) {
  if(a != null)
    if("number" == typeof a) this.fromNumber(a,b,c);
    else if(b == null && "string" != typeof a) this.fromString(a,256);
    else this.fromString(a,b);
};

// return new, unset BigInteger
function nbi() { return new BigInteger(null); }

// am: Compute w_j += (x*this_i), propagate carries,
// c is initial carry, returns final carry.
// c < 3*dvalue, x < 2*dvalue, this_i < dvalue
// We need to select the fastest one that works in this environment.

// am1: use a single mult and divide to get the high bits,
// max digit bits should be 26 because
// max internal value = 2*dvalue^2-2*dvalue (< 2^53)
function am1(i,x,w,j,c,n) {
  while(--n >= 0) {
    var v = x*this[i++]+w[j]+c;
    c = Math.floor(v/0x4000000);
    w[j++] = v&0x3ffffff;
  }
  return c;
}
// am2 avoids a big mult-and-extract completely.
// Max digit bits should be <= 30 because we do bitwise ops
// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)
function am2(i,x,w,j,c,n) {
  var xl = x&0x7fff, xh = x>>15;
  while(--n >= 0) {
    var l = this[i]&0x7fff;
    var h = this[i++]>>15;
    var m = xh*l+h*xl;
    l = xl*l+((m&0x7fff)<<15)+w[j]+(c&0x3fffffff);
    c = (l>>>30)+(m>>>15)+xh*h+(c>>>30);
    w[j++] = l&0x3fffffff;
  }
  return c;
}
// Alternately, set max digit bits to 28 since some
// browsers slow down when dealing with 32-bit numbers.
function am3(i,x,w,j,c,n) {
  var xl = x&0x3fff, xh = x>>14;
  while(--n >= 0) {
    var l = this[i]&0x3fff;
    var h = this[i++]>>14;
    var m = xh*l+h*xl;
    l = xl*l+((m&0x3fff)<<14)+w[j]+c;
    c = (l>>28)+(m>>14)+xh*h;
    w[j++] = l&0xfffffff;
  }
  return c;
}
if(j_lm && (typeof navigator != "undefined" && navigator.appName == "Microsoft Internet Explorer")) { /** MODIFIED **/
  BigInteger.prototype.am = am2;
  dbits = 30;
}
else if(j_lm && (typeof navigator != "undefined" && navigator.appName != "Netscape")) { /** MODIFIED **/
  BigInteger.prototype.am = am1;
  dbits = 26;
}
else { // Mozilla/Netscape seems to prefer am3
  BigInteger.prototype.am = am3;
  dbits = 28;
}

BigInteger.prototype.DB = dbits;
BigInteger.prototype.DM = ((1<<dbits)-1);
BigInteger.prototype.DV = (1<<dbits);

var BI_FP = 52;
BigInteger.prototype.FV = Math.pow(2,BI_FP);
BigInteger.prototype.F1 = BI_FP-dbits;
BigInteger.prototype.F2 = 2*dbits-BI_FP;

// Digit conversions
var BI_RM = "0123456789abcdefghijklmnopqrstuvwxyz";
var BI_RC = new Array();
var rr,vv;
rr = "0".charCodeAt(0);
for(vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;
rr = "a".charCodeAt(0);
for(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;
rr = "A".charCodeAt(0);
for(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;

function int2char(n) { return BI_RM.charAt(n); }
function intAt(s,i) {
  var c = BI_RC[s.charCodeAt(i)];
  return (c==null)?-1:c;
}

// (protected) copy this to r
function bnpCopyTo(r) {
  for(var i = this.t-1; i >= 0; --i) r[i] = this[i];
  r.t = this.t;
  r.s = this.s;
}

// (protected) set from integer value x, -DV <= x < DV
function bnpFromInt(x) {
  this.t = 1;
  this.s = (x<0)?-1:0;
  if(x > 0) this[0] = x;
  else if(x < -1) this[0] = x+DV;
  else this.t = 0;
}

// return bigint initialized to value
function nbv(i) { var r = nbi(); r.fromInt(i); return r; }

// (protected) set from string and radix
function bnpFromString(s,b) {
  var k;
  if(b == 16) k = 4;
  else if(b == 8) k = 3;
  else if(b == 256) k = 8; // byte array
  else if(b == 2) k = 1;
  else if(b == 32) k = 5;
  else if(b == 4) k = 2;
  else { this.fromRadix(s,b); return; }
  this.t = 0;
  this.s = 0;
  var i = s.length, mi = false, sh = 0;
  while(--i >= 0) {
    var x = (k==8)?s.charCodeAt(i)&0xff:intAt(s,i);   /** MODIFIED **/
    if(x < 0) {
      if(s.charAt(i) == "-") mi = true;
      continue;
    }
    mi = false;
    if(sh == 0)
      this[this.t++] = x;
    else if(sh+k > this.DB) {
      this[this.t-1] |= (x&((1<<(this.DB-sh))-1))<<sh;
      this[this.t++] = (x>>(this.DB-sh));
    }
    else
      this[this.t-1] |= x<<sh;
    sh += k;
    if(sh >= this.DB) sh -= this.DB;
  }
  if(k == 8 && (s[0]&0x80) != 0) {
    this.s = -1;
    if(sh > 0) this[this.t-1] |= ((1<<(this.DB-sh))-1)<<sh;
  }
  this.clamp();
  if(mi) BigInteger.ZERO.subTo(this,this);
}

// (protected) clamp off excess high words
function bnpClamp() {
  var c = this.s&this.DM;
  while(this.t > 0 && this[this.t-1] == c) --this.t;
}

// (public) return string representation in given radix
function bnToString(b) {
  if(this.s < 0) return "-"+this.negate().toString(b);
  var k;
  if(b == 16) k = 4;
  else if(b == 8) k = 3;
  else if(b == 256) k = 8; // byte array      /** MODIFIED **/
  else if(b == 2) k = 1;
  else if(b == 32) k = 5;
  else if(b == 4) k = 2;
  else return this.toRadix(b);
  var km = (1<<k)-1, d, m = false, r = "", i = this.t;
  var p = this.DB-(i*this.DB)%k;
  if(i-- > 0) {
    if(p < this.DB && (d = this[i]>>p) > 0) { m = true; r = (k==8)?String.fromCharCode(d):int2char(d); }   /** MODIFIED **/
    while(i >= 0) {
      if(p < k) {
        d = (this[i]&((1<<p)-1))<<(k-p);
        d |= this[--i]>>(p+=this.DB-k);
      }
      else {
        d = (this[i]>>(p-=k))&km;
        if(p <= 0) { p += this.DB; --i; }
      }
      if(d > 0) m = true;
      if(m) r += (k==8)?String.fromCharCode(d):int2char(d);    /** MODIFIED **/
    }
  }
  return m?r:"0";
}

// (public) -this
function bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this,r); return r; }

// (public) |this|
function bnAbs() { return (this.s<0)?this.negate():this; }

// (public) return + if this > a, - if this < a, 0 if equal
function bnCompareTo(a) {
  var r = this.s-a.s;
  if(r != 0) return r;
  var i = this.t;
  r = i-a.t;
  if(r != 0) return r;
  while(--i >= 0) if((r=this[i]-a[i]) != 0) return r;
  return 0;
}

// returns bit length of the integer x
function nbits(x) {
  var r = 1, t;
  if((t=x>>>16) != 0) { x = t; r += 16; }
  if((t=x>>8) != 0) { x = t; r += 8; }
  if((t=x>>4) != 0) { x = t; r += 4; }
  if((t=x>>2) != 0) { x = t; r += 2; }
  if((t=x>>1) != 0) { x = t; r += 1; }
  return r;
}

// (public) return the number of bits in "this"
function bnBitLength() {
  if(this.t <= 0) return 0;
  return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM));
}

// (protected) r = this << n*DB
function bnpDLShiftTo(n,r) {
  var i;
  for(i = this.t-1; i >= 0; --i) r[i+n] = this[i];
  for(i = n-1; i >= 0; --i) r[i] = 0;
  r.t = this.t+n;
  r.s = this.s;
}

// (protected) r = this >> n*DB
function bnpDRShiftTo(n,r) {
  for(var i = n; i < this.t; ++i) r[i-n] = this[i];
  r.t = Math.max(this.t-n,0);
  r.s = this.s;
}

// (protected) r = this << n
function bnpLShiftTo(n,r) {
  var bs = n%this.DB;
  var cbs = this.DB-bs;
  var bm = (1<<cbs)-1;
  var ds = Math.floor(n/this.DB), c = (this.s<<bs)&this.DM, i;
  for(i = this.t-1; i >= 0; --i) {
    r[i+ds+1] = (this[i]>>cbs)|c;
    c = (this[i]&bm)<<bs;
  }
  for(i = ds-1; i >= 0; --i) r[i] = 0;
  r[ds] = c;
  r.t = this.t+ds+1;
  r.s = this.s;
  r.clamp();
}

// (protected) r = this >> n
function bnpRShiftTo(n,r) {
  r.s = this.s;
  var ds = Math.floor(n/this.DB);
  if(ds >= this.t) { r.t = 0; return; }
  var bs = n%this.DB;
  var cbs = this.DB-bs;
  var bm = (1<<bs)-1;
  r[0] = this[ds]>>bs;
  for(var i = ds+1; i < this.t; ++i) {
    r[i-ds-1] |= (this[i]&bm)<<cbs;
    r[i-ds] = this[i]>>bs;
  }
  if(bs > 0) r[this.t-ds-1] |= (this.s&bm)<<cbs;
  r.t = this.t-ds;
  r.clamp();
}

// (protected) r = this - a
function bnpSubTo(a,r) {
  var i = 0, c = 0, m = Math.min(a.t,this.t);
  while(i < m) {
    c += this[i]-a[i];
    r[i++] = c&this.DM;
    c >>= this.DB;
  }
  if(a.t < this.t) {
    c -= a.s;
    while(i < this.t) {
      c += this[i];
      r[i++] = c&this.DM;
      c >>= this.DB;
    }
    c += this.s;
  }
  else {
    c += this.s;
    while(i < a.t) {
      c -= a[i];
      r[i++] = c&this.DM;
      c >>= this.DB;
    }
    c -= a.s;
  }
  r.s = (c<0)?-1:0;
  if(c < -1) r[i++] = this.DV+c;
  else if(c > 0) r[i++] = c;
  r.t = i;
  r.clamp();
}

// (protected) r = this * a, r != this,a (HAC 14.12)
// "this" should be the larger one if appropriate.
function bnpMultiplyTo(a,r) {
  var x = this.abs(), y = a.abs();
  var i = x.t;
  r.t = i+y.t;
  while(--i >= 0) r[i] = 0;
  for(i = 0; i < y.t; ++i) r[i+x.t] = x.am(0,y[i],r,i,0,x.t);
  r.s = 0;
  r.clamp();
  if(this.s != a.s) BigInteger.ZERO.subTo(r,r);
}

// (protected) r = this^2, r != this (HAC 14.16)
function bnpSquareTo(r) {
  var x = this.abs();
  var i = r.t = 2*x.t;
  while(--i >= 0) r[i] = 0;
  for(i = 0; i < x.t-1; ++i) {
    var c = x.am(i,x[i],r,2*i,0,1);
    if((r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1)) >= x.DV) {
      r[i+x.t] -= x.DV;
      r[i+x.t+1] = 1;
    }
  }
  if(r.t > 0) r[r.t-1] += x.am(i,x[i],r,2*i,0,1);
  r.s = 0;
  r.clamp();
}

// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)
// r != q, this != m.  q or r may be null.
function bnpDivRemTo(m,q,r) {
  var pm = m.abs();
  if(pm.t <= 0) return;
  var pt = this.abs();
  if(pt.t < pm.t) {
    if(q != null) q.fromInt(0);
    if(r != null) this.copyTo(r);
    return;
  }
  if(r == null) r = nbi();
  var y = nbi(), ts = this.s, ms = m.s;
  var nsh = this.DB-nbits(pm[pm.t-1]);	// normalize modulus
  if(nsh > 0) { pm.lShiftTo(nsh,y); pt.lShiftTo(nsh,r); }
  else { pm.copyTo(y); pt.copyTo(r); }
  var ys = y.t;
  var y0 = y[ys-1];
  if(y0 == 0) return;
  var yt = y0*(1<<this.F1)+((ys>1)?y[ys-2]>>this.F2:0);
  var d1 = this.FV/yt, d2 = (1<<this.F1)/yt, e = 1<<this.F2;
  var i = r.t, j = i-ys, t = (q==null)?nbi():q;
  y.dlShiftTo(j,t);
  if(r.compareTo(t) >= 0) {
    r[r.t++] = 1;
    r.subTo(t,r);
  }
  BigInteger.ONE.dlShiftTo(ys,t);
  t.subTo(y,y);	// "negative" y so we can replace sub with am later
  while(y.t < ys) y[y.t++] = 0;
  while(--j >= 0) {
    // Estimate quotient digit
    var qd = (r[--i]==y0)?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);
    if((r[i]+=y.am(0,qd,r,j,0,ys)) < qd) {	// Try it out
      y.dlShiftTo(j,t);
      r.subTo(t,r);
      while(r[i] < --qd) r.subTo(t,r);
    }
  }
  if(q != null) {
    r.drShiftTo(ys,q);
    if(ts != ms) BigInteger.ZERO.subTo(q,q);
  }
  r.t = ys;
  r.clamp();
  if(nsh > 0) r.rShiftTo(nsh,r);	// Denormalize remainder
  if(ts < 0) BigInteger.ZERO.subTo(r,r);
}

// (public) this mod a
function bnMod(a) {
  var r = nbi();
  this.abs().divRemTo(a,null,r);
  if(this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r,r);
  return r;
}

// Modular reduction using "classic" algorithm
function Classic(m) { this.m = m; }
function cConvert(x) {
  if(x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);
  else return x;
}
function cRevert(x) { return x; }
function cReduce(x) { x.divRemTo(this.m,null,x); }
function cMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }
function cSqrTo(x,r) { x.squareTo(r); this.reduce(r); }

Classic.prototype.convert = cConvert;
Classic.prototype.revert = cRevert;
Classic.prototype.reduce = cReduce;
Classic.prototype.mulTo = cMulTo;
Classic.prototype.sqrTo = cSqrTo;

// (protected) return "-1/this % 2^DB"; useful for Mont. reduction
// justification:
//         xy == 1 (mod m)
//         xy =  1+km
//   xy(2-xy) = (1+km)(1-km)
// x[y(2-xy)] = 1-k^2m^2
// x[y(2-xy)] == 1 (mod m^2)
// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2
// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.
// JS multiply "overflows" differently from C/C++, so care is needed here.
function bnpInvDigit() {
  if(this.t < 1) return 0;
  var x = this[0];
  if((x&1) == 0) return 0;
  var y = x&3;		// y == 1/x mod 2^2
  y = (y*(2-(x&0xf)*y))&0xf;	// y == 1/x mod 2^4
  y = (y*(2-(x&0xff)*y))&0xff;	// y == 1/x mod 2^8
  y = (y*(2-(((x&0xffff)*y)&0xffff)))&0xffff;	// y == 1/x mod 2^16
  // last step - calculate inverse mod DV directly;
  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints
  y = (y*(2-x*y%this.DV))%this.DV;		// y == 1/x mod 2^dbits
  // we really want the negative inverse, and -DV < y < DV
  return (y>0)?this.DV-y:-y;
}

// Montgomery reduction
function Montgomery(m) {
  this.m = m;
  this.mp = m.invDigit();
  this.mpl = this.mp&0x7fff;
  this.mph = this.mp>>15;
  this.um = (1<<(m.DB-15))-1;
  this.mt2 = 2*m.t;
}

// xR mod m
function montConvert(x) {
  var r = nbi();
  x.abs().dlShiftTo(this.m.t,r);
  r.divRemTo(this.m,null,r);
  if(x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r,r);
  return r;
}

// x/R mod m
function montRevert(x) {
  var r = nbi();
  x.copyTo(r);
  this.reduce(r);
  return r;
}

// x = x/R mod m (HAC 14.32)
function montReduce(x) {
  while(x.t <= this.mt2)	// pad x so am has enough room later
    x[x.t++] = 0;
  for(var i = 0; i < this.m.t; ++i) {
    // faster way of calculating u0 = x[i]*mp mod DV
    var j = x[i]&0x7fff;
    var u0 = (j*this.mpl+(((j*this.mph+(x[i]>>15)*this.mpl)&this.um)<<15))&x.DM;
    // use am to combine the multiply-shift-add into one call
    j = i+this.m.t;
    x[j] += this.m.am(0,u0,x,i,0,this.m.t);
    // propagate carry
    while(x[j] >= x.DV) { x[j] -= x.DV; x[++j]++; }
  }
  x.clamp();
  x.drShiftTo(this.m.t,x);
  if(x.compareTo(this.m) >= 0) x.subTo(this.m,x);
}

// r = "x^2/R mod m"; x != r
function montSqrTo(x,r) { x.squareTo(r); this.reduce(r); }

// r = "xy/R mod m"; x,y != r
function montMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }

Montgomery.prototype.convert = montConvert;
Montgomery.prototype.revert = montRevert;
Montgomery.prototype.reduce = montReduce;
Montgomery.prototype.mulTo = montMulTo;
Montgomery.prototype.sqrTo = montSqrTo;

// (protected) true iff this is even
function bnpIsEven() { return ((this.t>0)?(this[0]&1):this.s) == 0; }

// (protected) this^e, e < 2^32, doing sqr and mul with "r" (HAC 14.79)
function bnpExp(e,z) {
  if(e > 0xffffffff || e < 1) return BigInteger.ONE;
  var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e)-1;
  g.copyTo(r);
  while(--i >= 0) {
    z.sqrTo(r,r2);
    if((e&(1<<i)) > 0) z.mulTo(r2,g,r);
    else { var t = r; r = r2; r2 = t; }
  }
  return z.revert(r);
}

// (public) this^e % m, 0 <= e < 2^32
function bnModPowInt(e,m) {
  var z;
  if(e < 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);
  return this.exp(e,z);
}

// protected
BigInteger.prototype.copyTo = bnpCopyTo;
BigInteger.prototype.fromInt = bnpFromInt;
BigInteger.prototype.fromString = bnpFromString;
BigInteger.prototype.clamp = bnpClamp;
BigInteger.prototype.dlShiftTo = bnpDLShiftTo;
BigInteger.prototype.drShiftTo = bnpDRShiftTo;
BigInteger.prototype.lShiftTo = bnpLShiftTo;
BigInteger.prototype.rShiftTo = bnpRShiftTo;
BigInteger.prototype.subTo = bnpSubTo;
BigInteger.prototype.multiplyTo = bnpMultiplyTo;
BigInteger.prototype.squareTo = bnpSquareTo;
BigInteger.prototype.divRemTo = bnpDivRemTo;
BigInteger.prototype.invDigit = bnpInvDigit;
BigInteger.prototype.isEven = bnpIsEven;
BigInteger.prototype.exp = bnpExp;

// public
BigInteger.prototype.toString = bnToString;
BigInteger.prototype.negate = bnNegate;
BigInteger.prototype.abs = bnAbs;
BigInteger.prototype.compareTo = bnCompareTo;
BigInteger.prototype.bitLength = bnBitLength;
BigInteger.prototype.mod = bnMod;
BigInteger.prototype.modPowInt = bnModPowInt;

// "constants"
BigInteger.ZERO = nbv(0);
BigInteger.ONE = nbv(1);


/***/ }),

/***/ "./core/lib/matcher.js":
/*!*****************************!*\
  !*** ./core/lib/matcher.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file Matcher class implementing matching addresses against
 *               a list of filters.
 */

const {RESOURCE_TYPES, SPECIAL_TYPES, ALLOWING_TYPES, contentTypes,
       enumerateTypes} = __webpack_require__(/*! ./contentTypes */ "./core/lib/contentTypes.js");
const {compilePatterns} = __webpack_require__(/*! ./patterns */ "./core/lib/patterns.js");
const {domainSuffixes, URLRequest} = __webpack_require__(/*! ./url */ "./core/lib/url.js");
const {Filter} = __webpack_require__(/*! ./filterClasses */ "./core/lib/filterClasses.js");
const {FiltersByDomain, FilterMap} = __webpack_require__(/*! ./filtersByDomain */ "./core/lib/filtersByDomain.js");
const {Cache} = __webpack_require__(/*! ./caching */ "./core/lib/caching.js");

/**
 * Returns the amount of filters per map.
 * @param {Map} map
 * @param {string} keyword
 * @returns {number}
 */
let countFilters = (map, keyword) => {
  let list = map.get(keyword);
  if (!list) {
    return 0;
  }
  if (list instanceof Filter) {
    return 1;
  }
  return list.length;
};

/**
 * Returns a list of filters, if any, or an empty list.
 * @param {Map} map
 * @param {string} keyword
 * @returns {Array.<module:filterClasses.URLFilter>}
 */
let getFilters = (map, keyword) => {
  let list = map.get(keyword);
  if (!list) {
    return Array.prototype;
  }
  if (list instanceof Filter) {
    return [list];
  }
  return list;
};

/**
 * Checks if the keyword is bad for use.
 * @param {string} keyword
 * @returns {boolean}
 */
function isBadKeyword(keyword) {
  return keyword == "https" || keyword == "http" || keyword == "com" ||
         keyword == "js";
}

/**
 * Adds a filter by a given keyword to a map.
 * @param {module:filterClasses.URLFilter} filter
 * @param {string} keyword
 * @param {Map.<string,(module:filterClasses.URLFilter|
 *                      Array.<module:filterClasses.URLFilter>)>} map
 */
function addFilterByKeyword(filter, keyword, map) {
  // this dance is to avoid storing arrays for single filters
  let list = map.get(keyword);
  // when the keyword is known, promote as array if needed
  if (list) {
    if (list instanceof Filter) {
      map.set(keyword, [list, filter]);
    }
    else {
      list.push(filter);
    }
  }
  else {
    // store just the filter without the Array
    map.set(keyword, filter);
  }
}

/**
 * Removes a filter by a given keyword from a map.
 * @param {module:filterClasses.URLFilter} filter
 * @param {string} keyword
 * @param {Map.<string,(module:filterClasses.URLFilter|
 *                      Array.<module:filterClasses.URLFilter>)>} map
 */
function removeFilterByKeyword(filter, keyword, map) {
  // this dance is to normalize back the keyword entry, if any
  let list = map.get(keyword);
  if (list) {
    // when the value is a filter, remove the keyword if filter matches
    if (list instanceof Filter) {
      if (list == filter) {
        map.delete(keyword);
      }
    }
    // otherwise find the index and drop the array if the list has 1 item
    else {
      let i = list.findIndex(item => item === filter);
      if (i >= 0) {
        list.splice(i, 1);
        if (list.length === 1) {
          map.set(keyword, list[0]);
        }
      }
    }
  }
}

/**
 * Checks whether a filter matches a given URL request.
 *
 * @param {module:filterClasses.URLFilter} filter The filter.
 * @param {module:url.URLRequest} request The URL request.
 * @param {number} typeMask A mask specifying the content type of the URL
 *   request.
 * @param {?string} [sitekey] An optional public key associated with the
 *   URL request.
 * @param {?Array} [collection] An optional list to which to append the filter
 *   if it matches. If omitted, the function directly returns the filter if it
 *   matches.
 *
 * @returns {?module:filterClasses.URLFilter} The filter if it matches and
 *   `collection` is omitted; otherwise `null`.
 */
function matchFilter(filter, request, typeMask, sitekey, collection) {
  if (filter.matches(request, typeMask, sitekey)) {
    if (!collection) {
      return filter;
    }

    collection.push(filter);
  }

  return null;
}

/**
 * Checks whether a particular filter is slow.
 * @param {module:filterClasses.URLFilter} filter
 * @returns {boolean}
 */
exports.isSlowFilter = function isSlowFilter(filter) {
  return !filter.urlPattern.hasKeywords();
};

let Matcher =
/**
 * Blocking/allowing filter matching
 */
exports.Matcher = class Matcher {
  constructor() {
    /**
     * Lookup table for keywords by their associated filter
     * @type {Map.<module:filterClasses.URLFilter,string>}
     * @private
     */
    this._keywordByFilter = new Map();

    /**
     * Lookup table for simple filters by their associated keyword
     * @type {Map.<string,(module:filterClasses.URLFilter|
     *                     Array.<module:filterClasses.URLFilter>)>}
     * @private
     */
    this._simpleFiltersByKeyword = new Map();

    /**
     * Lookup table for complex filters by their associated keyword
     * @type {Map.<string,(module:filterClasses.URLFilter|
     *                     Array.<module:filterClasses.URLFilter>)>}
     * @private
     */
    this._complexFiltersByKeyword = new Map();

    /**
     * Lookup table of compiled patterns for simple filters by their associated
     * keyword
     * @type {Map.<string,?module:patterns~CompiledPatterns>}
     * @private
     */
    this._compiledPatternsByKeyword = new Map();

    /**
     * Compiled patterns for generic complex filters with no associated
     * keyword.
     * @type {?module:patterns~CompiledPatterns|boolean}
     * @private
     */
    this._keywordlessCompiledPatterns = false;

    /**
     * Lookup table of domain maps for complex filters by their associated
     * keyword
     * @type {Map.<string,
     *             Map.<string,
     *                  (module:filterClasses.URLFilter|
     *                   Map.<module:filterClasses.URLFilter,boolean>)>>}
     * @private
     */
    this._filterDomainMapsByKeyword = new Map();

    /**
     * Lookup table of type-specific lookup tables for complex filters by their
     * associated keyword
     * @type {Map.<string,
     *             Map.<string,
     *                  (module:filterClasses.URLFilter|
     *                   Array.<module:filterClasses.URLFilter>)>>}
     * @private
     */
    this._filterMapsByType = new Map();
  }

  /**
   * Removes all known filters
   */
  clear() {
    this._keywordByFilter.clear();
    this._simpleFiltersByKeyword.clear();
    this._complexFiltersByKeyword.clear();
    this._compiledPatternsByKeyword.clear();
    this._keywordlessCompiledPatterns = false;
    this._filterDomainMapsByKeyword.clear();
    this._filterMapsByType.clear();
  }

  /**
   * Adds a filter to the matcher
   * @param {module:filterClasses.URLFilter} filter
   */
  add(filter) {
    if (this._keywordByFilter.has(filter)) {
      return;
    }

    // Look for a suitable keyword
    let keyword = this.findKeyword(filter);
    let simple = filter.contentType == RESOURCE_TYPES && filter.isGeneric();

    addFilterByKeyword(filter, keyword, simple ? this._simpleFiltersByKeyword :
        this._complexFiltersByKeyword);

    this._keywordByFilter.set(filter, keyword);

    if (simple) {
      if (this._compiledPatternsByKeyword.size > 0) {
        this._compiledPatternsByKeyword.delete(keyword);
      }

      return;
    }

    if (keyword == "") {
      this._keywordlessCompiledPatterns = false;
    }

    for (let type of enumerateTypes(filter.contentType, SPECIAL_TYPES)) {
      let map = this._filterMapsByType.get(type);
      if (!map) {
        this._filterMapsByType.set(type, map = new Map());
      }

      addFilterByKeyword(filter, keyword, map);
    }

    let {domains} = filter;

    let filtersByDomain = this._filterDomainMapsByKeyword.get(keyword);
    if (!filtersByDomain) {
      // In most cases, there is only one pure generic filter to a keyword.
      // Instead of Map { "foo" => Map { "" => Map { filter => true } } }, we
      // can just reduce it to Map { "foo" => filter } and save a lot of
      // memory.
      if (!domains) {
        this._filterDomainMapsByKeyword.set(keyword, filter);
        return;
      }

      filtersByDomain = new FiltersByDomain();
      this._filterDomainMapsByKeyword.set(keyword, filtersByDomain);
    }
    else if (!(filtersByDomain instanceof FiltersByDomain)) {
      filtersByDomain = new FiltersByDomain([["", filtersByDomain]]);
      this._filterDomainMapsByKeyword.set(keyword, filtersByDomain);
    }

    filtersByDomain.add(filter, domains);
  }

  /**
   * Removes a filter from the matcher
   * @param {module:filterClasses.URLFilter} filter
   */
  remove(filter) {
    let keyword = this._keywordByFilter.get(filter);
    if (typeof keyword == "undefined") {
      return;
    }

    let simple = filter.contentType == RESOURCE_TYPES && filter.isGeneric();

    removeFilterByKeyword(
      filter,
      keyword,
      simple ?
        this._simpleFiltersByKeyword :
        this._complexFiltersByKeyword
    );

    this._keywordByFilter.delete(filter);

    if (simple) {
      if (this._compiledPatternsByKeyword.size > 0) {
        this._compiledPatternsByKeyword.delete(keyword);
      }

      return;
    }

    if (keyword == "") {
      this._keywordlessCompiledPatterns = false;
    }

    for (let type of enumerateTypes(filter.contentType, SPECIAL_TYPES)) {
      let map = this._filterMapsByType.get(type);
      if (map) {
        removeFilterByKeyword(filter, keyword, map);
      }
    }

    let filtersByDomain = this._filterDomainMapsByKeyword.get(keyword);
    if (filtersByDomain) {
      // Because of the memory optimization in the add function, most of the
      // time this will be a filter rather than a map.
      if (!(filtersByDomain instanceof FiltersByDomain)) {
        this._filterDomainMapsByKeyword.delete(keyword);
        return;
      }

      filtersByDomain.remove(filter);

      if (filtersByDomain.size == 0) {
        this._filterDomainMapsByKeyword.delete(keyword);
      }
      else if (filtersByDomain.size == 1) {
        for (let [lastDomain, map] of filtersByDomain.entries()) {
          // Reduce Map { "foo" => Map { "" => filter } } to
          // Map { "foo" => filter }
          if (lastDomain == "" && !(map instanceof FilterMap)) {
            this._filterDomainMapsByKeyword.set(keyword, map);
          }

          break;
        }
      }
    }
  }

  /**
   * Checks whether a filter exists in the matcher
   * @param {module:filterClasses.URLFilter} filter
   * @returns {boolean}
   */
  has(filter) {
    return this._keywordByFilter.has(filter);
  }

  /**
   * Chooses a keyword to be associated with the filter.
   *
   * Because it will perform some internal optimizations, there is no
   * guarantee that this function will always return the same result when
   * called with the same filter.
   *
   * @param {module:filterClasses.Filter} filter
   * @returns {string} keyword or an empty string if no keyword could be found
   * @protected
   */
  findKeyword(filter) {
    let result = "";

    let candidates = filter.urlPattern.keywordCandidates();
    if (!candidates) {
      return result;
    }

    let resultCount = 0xFFFFFF;
    let resultLength = 0;

    for (let i = 0, l = candidates.length; i < l; i++) {
      let candidate = candidates[i].substring(1);

      if (isBadKeyword(candidate)) {
        continue;
      }

      let simpleCount = countFilters(this._simpleFiltersByKeyword, candidate);
      let complexCount = countFilters(this._complexFiltersByKeyword,
                                      candidate);

      let count = simpleCount + complexCount;

      if (count < resultCount ||
          (count == resultCount && candidate.length > resultLength)) {
        result = candidate;
        resultCount = count;
        resultLength = candidate.length;
      }
    }

    return result;
  }

  _matchFiltersByDomain(filtersByDomain, request, typeMask, sitekey,
                        specificOnly, collection) {
    let excluded = null;

    let domain = request.documentHostname || "";
    for (let suffix of domainSuffixes(domain, !specificOnly)) {
      let map = filtersByDomain.get(suffix);
      if (map) {
        if (map instanceof FilterMap) {
          for (let [filter, include] of map.entries()) {
            if (!include) {
              if (excluded) {
                excluded.add(filter);
              }
              else {
                excluded = new Set([filter]);
              }
            }
            else if (
              (!excluded || !excluded.has(filter)) &&
              matchFilter(filter, request, typeMask, sitekey, collection)
            ) {
              return filter;
            }
          }
        }
        else if ((!excluded || !excluded.has(map)) &&
                 matchFilter(map, request, typeMask, sitekey, collection)) {
          return map;
        }
      }
    }

    return null;
  }

  _checkEntryMatchSimpleQuickCheck(keyword, request, filters) {
    let compiled = this._compiledPatternsByKeyword.get(keyword);
    if (typeof compiled == "undefined") {
      compiled = compilePatterns(filters);
      this._compiledPatternsByKeyword.set(keyword, compiled);
    }

    // If compilation failed (e.g. too many filters), return true because this
    // is only a pre-check.
    return !compiled || compiled.test(request);
  }

  _checkEntryMatchSimple(keyword, request, collection) {
    let filters = getFilters(this._simpleFiltersByKeyword, keyword);
    let {length} = filters;
    if (length) {
      // For simple filters where there's more than one filter to the keyword,
      // we do a quick check using a single compiled pattern that combines all
      // the patterns. This is a lot faster for requests that are not going to
      // be blocked (i.e. most requests).
      if (length === 1 ||
          this._checkEntryMatchSimpleQuickCheck(keyword, request, filters)) {
        for (let filter of filters) {
          // Simple filters match any resource type.
          if (matchFilter(filter, request, RESOURCE_TYPES, null, collection)) {
            return filter;
          }
        }
      }
    }

    return null;
  }

  _checkEntryMatchForType(keyword, request, typeMask, sitekey, specificOnly,
                          collection) {
    let filtersForType = this._filterMapsByType.get(typeMask & SPECIAL_TYPES);
    if (filtersForType) {
      for (let filter of getFilters(filtersForType, keyword)) {
        if (specificOnly && filter.isGeneric()) {
          continue;
        }

        if (matchFilter(filter, request, typeMask, sitekey, collection)) {
          return filter;
        }
      }
    }

    return null;
  }

  _checkEntryMatchByDomain(keyword, request, typeMask, sitekey, specificOnly,
                           collection) {
    let filtersByDomain = this._filterDomainMapsByKeyword.get(keyword);
    if (filtersByDomain) {
      if (filtersByDomain instanceof FiltersByDomain) {
        if (keyword == "" && !specificOnly) {
          let compiled = this._keywordlessCompiledPatterns;

          // If the value is false, it indicates that we need to initialize it
          // to either a CompiledPatterns object or null.
          if (compiled == false) {
            // Compile all the patterns from the generic filters into a single
            // object. It is worth doing this for the keywordless generic
            // complex filters because they must be checked against every
            // single URL request that has not already been blocked by one of
            // the simple filters (i.e. most URL requests).
            let map = filtersByDomain.get("");
            if (map instanceof FilterMap) {
              compiled = compilePatterns([...map.keys()]);
            }

            this._keywordlessCompiledPatterns = compiled || null;
          }

          // We can skip the generic filters if none of them pass the test.
          if (compiled && !compiled.test(request)) {
            specificOnly = true;
          }
        }

        return this._matchFiltersByDomain(
          filtersByDomain, request, typeMask, sitekey, specificOnly, collection
        );
      }

      // Because of the memory optimization in the add function, most of the
      // time this will be a filter rather than a map.

      // Also see #7312: If it's a single filter, it's always the equivalent of
      // Map { "" => Map { filter => true } } (i.e. applies to any domain). If
      // the specific-only flag is set, we skip it.
      if (!specificOnly) {
        return matchFilter(
          filtersByDomain, request, typeMask, sitekey, collection
        );
      }
    }

    return null;
  }

  /**
   * Checks whether the entries for a particular keyword match a URL
   * @param {string} keyword
   * @param {module:url.URLRequest} request
   * @param {number} typeMask
   * @param {?string} [sitekey]
   * @param {boolean} [specificOnly]
   * @param {?Array.<module:filterClasses.Filter>} [collection] An optional
   *   list of filters to which to append any results. If specified, the
   *   function adds *all* matching filters to the list; if omitted,
   *   the function directly returns the first matching filter.
   * @returns {?module:filterClasses.Filter}
   * @protected
   */
  checkEntryMatch(keyword, request, typeMask, sitekey, specificOnly,
                  collection) {
    // We need to skip the simple (location-only) filters if the type mask does
    // not contain any resource types.
    if (!specificOnly && (typeMask & RESOURCE_TYPES) != 0) {
      let filter = this._checkEntryMatchSimple(keyword, request, collection);
      if (filter) {
        return filter;
      }
    }

    // If the type mask contains a special type (first condition) and it is
    // the only type in the mask (second condition with OTHER exception),
    // we can use the type-specific map, which typically contains a lot fewer
    // filters. This enables faster lookups for allowing types like $document,
    // $elemhide, and so on, as well as other special types like $csp.
    if ((typeMask & SPECIAL_TYPES) != 0 && (
      (typeMask & typeMask - 1) == 0 ||
      (typeMask & RESOURCE_TYPES) == contentTypes.OTHER)) {
      return this._checkEntryMatchForType(
        keyword, request, typeMask, sitekey, specificOnly, collection
      );
    }


    return this._checkEntryMatchByDomain(
      keyword, request, typeMask, sitekey, specificOnly, collection
    );
  }

  /**
   * @see #match
   * @deprecated
   * @inheritdoc
   */
  matchesAny(url, typeMask, docDomain, sitekey, specificOnly) {
    return this.match(url, typeMask, docDomain, sitekey, specificOnly);
  }

  /**
   * Tests whether the URL matches any of the known filters
   * @param {URL|module:url~URLInfo|string} url
   *   URL to be tested
   * @param {number} typeMask
   *   bitmask of content / request types to match
   * @param {?string} [docDomain]
   *   domain name of the document that loads the URL
   * @param {?string} [sitekey]
   *   public key provided by the document
   * @param {boolean} [specificOnly]
   *   should be `true` if generic matches should be ignored
   * @returns {?module:filterClasses.URLFilter}
   *   matching filter or `null`
   */
  match(url, typeMask, docDomain, sitekey, specificOnly) {
    let request = URLRequest.from(url, docDomain);
    let candidates = request.lowerCaseHref.match(/[a-z0-9%]{2,}|$/g);

    for (let i = 0, l = candidates.length; i < l; i++) {
      if (isBadKeyword(candidates[i])) {
        continue;
      }

      let result = this.checkEntryMatch(
        candidates[i], request, typeMask, sitekey, specificOnly
      );
      if (result) {
        return result;
      }
    }

    return null;
  }
};

class CombinedMatcher {
  constructor() {
    /**
     * Matcher for blocking rules.
     * @type {module:matcher.Matcher}
     * @private
     */
    this._blocking = new Matcher();

    /**
     * Matcher for exception rules.
     * @type {module:matcher.Matcher}
     * @private
     */
    this._allowing = new Matcher();

    /**
     * Lookup table of previous match results
     * @type {module:caching.Cache.<string, ?(module:filterClasses.URLFilter|
     *                                        MatcherSearchResults)>}
     * @private
     */
    this._resultCache = new Cache(10000);
  }

  /**
   * @see module:matcher.Matcher#clear
   */
  clear() {
    this._blocking.clear();
    this._allowing.clear();
    this._resultCache.clear();
  }

  /**
   * @see module:matcher.Matcher#add
   * @param {module:filterClasses.Filter} filter
   */
  add(filter) {
    if (filter.type == "allowing") {
      this._allowing.add(filter);
    }
    else {
      this._blocking.add(filter);
    }

    this._resultCache.clear();
  }

  /**
   * @see module:matcher.Matcher#remove
   * @param {module:filterClasses.Filter} filter
   */
  remove(filter) {
    if (filter.type == "allowing") {
      this._allowing.remove(filter);
    }
    else {
      this._blocking.remove(filter);
    }

    this._resultCache.clear();
  }

  /**
   * @see module:matcher.Matcher#has
   * @param {module:filterClasses.Filter} filter
   * @returns {boolean}
   */
  has(filter) {
    if (filter.type == "allowing") {
      return this._allowing.has(filter);
    }
    return this._blocking.has(filter);
  }

  /**
   * @see module:matcher.Matcher#findKeyword
   * @param {module:filterClasses.Filter} filter
   * @returns {string} keyword
   * @protected
   */
  findKeyword(filter) {
    if (filter.type == "allowing") {
      return this._allowing.findKeyword(filter);
    }
    return this._blocking.findKeyword(filter);
  }

  _matchInternal(url, typeMask, docDomain, sitekey, specificOnly,
                 exhaustiveSearch) {
    let request = URLRequest.from(url, docDomain);
    let candidates = request.lowerCaseHref.match(/[a-z0-9%]{2,}|$/g)
        .filter(candidate => !isBadKeyword(candidate));
    let typeIsOnlyAllowing = (typeMask & ~ALLOWING_TYPES) == 0;

    let allowingHit = null;
    let blockingHit = null;

    let findAllowing = () => {
      for (let i = 0, l = candidates.length; !allowingHit && i < l; i++) {
        allowingHit = this._allowing.checkEntryMatch(
          candidates[i], request, typeMask, sitekey
        );
      }
    };

    let findBlocking = () => {
      for (let i = 0, l = candidates.length; !blockingHit && i < l; i++) {
        blockingHit = this._blocking.checkEntryMatch(
          candidates[i], request, typeMask, sitekey, specificOnly
        );
      }
    };

    if (exhaustiveSearch) {
      findAllowing();
      if (!allowingHit && !typeIsOnlyAllowing) {
        findBlocking();
      }
    }
    else if (typeIsOnlyAllowing) {
      findAllowing();
    }
    else {
      findBlocking();
      if (blockingHit) {
        findAllowing();
      }
    }

    return allowingHit || blockingHit;
  }

  _searchInternal(url, typeMask, docDomain, sitekey, specificOnly, filterType) {
    let hits = {};

    let searchBlocking = filterType == "blocking" || filterType == "all";
    let searchAllowing = filterType == "allowing" || filterType == "all";

    if (searchBlocking) {
      hits.blocking = [];
    }

    if (searchAllowing) {
      hits.allowing = [];
    }

    // If the type mask includes no types other than allowing types, we
    // can skip the blocking filters.
    if ((typeMask & ~ALLOWING_TYPES) == 0) {
      searchBlocking = false;
    }

    let request = URLRequest.from(url, docDomain);
    let candidates = request.lowerCaseHref.match(/[a-z0-9%]{2,}|$/g);

    for (let i = 0, l = candidates.length; i < l; i++) {
      if (isBadKeyword(candidates[i])) {
        continue;
      }

      if (searchBlocking) {
        this._blocking.checkEntryMatch(
          candidates[i],
          request,
          typeMask,
          sitekey,
          specificOnly,
          hits.blocking
        );
      }


      if (searchAllowing) {
        this._allowing.checkEntryMatch(
          candidates[i], request, typeMask, sitekey, false, hits.allowing
        );
      }
    }

    return hits;
  }

  /**
   * @see #match
   * @deprecated
   * @inheritdoc
   */
  matchesAny(url, typeMask, docDomain, sitekey, specificOnly) {
    return this.match(url, typeMask, docDomain, sitekey, specificOnly);
  }

  /**
   * Tests whether the URL matches any of the known filters
   *
   * If both a blocking and an allowing filter matches, the allowing filter is
   * prioritized.
   *
   * If only an allowing filter matches, then the allowing filter will not be
   * returned unless it is one of the `{@link module:contentTypes.ALLOWING_TYPES
   * ALLOWING_TYPES}` used for exception rules only, or if `exhaustiveSearch` is
   * true. In other words, the allowing filter is only returned if it is
   * expected to change blocking behaviour.
   *
   * @param {URL|module:url~URLInfo|string} url
   *   URL to be tested
   * @param {number} typeMask
   *   bitmask of content / request types to match
   * @param {?string} [docDomain]
   *   domain name of the document that loads the URL
   * @param {?string} [sitekey]
   *   public key provided by the document
   * @param {boolean} [specificOnly]
   *   should be `true` if generic matches should be ignored
   * @param {boolean} [exhaustiveSearch=false]
   *   should return a matched allowing filter, even if the filter will have no
   *   effect on blocking behaviour
   * @returns {?module:filterClasses.URLFilter}
   *   matching filter or `null`
   */
  match(url, typeMask, docDomain, sitekey, specificOnly,
        exhaustiveSearch = false) {
    let key = `${url} ${typeMask} ${docDomain} ${sitekey} ${specificOnly} ${exhaustiveSearch}`;
    let result = this._resultCache.get(key);
    if (typeof result != "undefined") {
      return result;
    }

    result = this._matchInternal(
      url, typeMask, docDomain, sitekey, specificOnly, exhaustiveSearch
    );

    this._resultCache.set(key, result);

    return result;
  }

  /**
   * @typedef {Object} MatcherSearchResults
   * @property {Array.<module:filterClasses.BlockingFilter>} [blocking] List of
   *   blocking filters found.
   * @property {Array.<module:filterClasses.AllowingFilter>} [allowing] List
   *   of allowing filters found.
   */

  /**
   * Searches all blocking and allowing filters and returns results matching
   * the given parameters.
   *
   * @param {URL|module:url~URLInfo|string} url
   * @param {number} typeMask
   * @param {?string} [docDomain]
   * @param {?string} [sitekey]
   * @param {boolean} [specificOnly]
   * @param {string} [filterType] The types of filters to look for. This can be
   *   `"blocking"`, `"allowing"`, or `"all"` (default).
   *
   * @returns {MatcherSearchResults}
   */
  search(url, typeMask, docDomain, sitekey, specificOnly, filterType = "all") {
    let key = `* ${url} ${typeMask} ${docDomain} ${sitekey} ` +
              `${specificOnly} ${filterType}`;

    let result = this._resultCache.get(key);
    if (typeof result != "undefined") {
      return result;
    }

    result = this._searchInternal(
      url, typeMask, docDomain, sitekey, specificOnly, filterType
    );

    this._resultCache.set(key, result);

    return result;
  }

  /**
   * Tests whether the URL is allowlisted
   * @see module:matcher.Matcher#match
   * @inheritdoc
   * @returns {boolean}
   */
  isAllowlisted(url, typeMask, docDomain, sitekey) {
    return !!this._allowing.match(url, typeMask, docDomain, sitekey);
  }
}

/**
 * Combines a matcher for blocking and exception rules, automatically sorts
 * rules into two `{@link module:matcher.Matcher Matcher}` instances.
 */
exports.CombinedMatcher = CombinedMatcher;

/**
 * Create the `{@link module:matcher~CombinedMatcher CombinedMatcher}`
 * instance that should usually be used.
 * @returns {module:matcher.CombinedMatcher}
 */
exports.newDefaultMatcher = function() {
  return new CombinedMatcher();
};


/***/ }),

/***/ "./core/lib/notifications.js":
/*!***********************************!*\
  !*** ./core/lib/notifications.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file Handles notifications.
 */

const {Prefs} = __webpack_require__(/*! prefs */ "./sdk/api/prefs.js");

const {MILLIS_IN_MINUTE, MILLIS_IN_HOUR, MILLIS_IN_DAY} = __webpack_require__(/*! ./time */ "./core/lib/time.js");
const {Downloader, Downloadable} = __webpack_require__(/*! ./downloader */ "./core/lib/downloader.js");
const {compareVersions} = __webpack_require__(/*! ./versions */ "./core/lib/versions.js");
const {analytics} = __webpack_require__(/*! ./analytics */ "./core/lib/analytics.js");
const {EventEmitter} = __webpack_require__(/*! ./events */ "./core/lib/events.js");

const INITIAL_DELAY = 1 * MILLIS_IN_MINUTE;
const CHECK_INTERVAL = 1 * MILLIS_IN_HOUR;
const EXPIRATION_INTERVAL = 1 * MILLIS_IN_DAY;

let getPreferredMillis = (field, fallback) =>
                          field in Prefs ? Prefs[field] : fallback;

/**
 * The default locale for the localization of notification texts.
 * @type {string}
 * @default
 */
const DEFAULT_LOCALE = "en-US";

/**
 * Returns the numerical severity of a notification.
 * @param {Object} notification The notification.
 * @returns {number} The numerical severity of the notification.
 */
function getNumericalSeverity(notification) {
  switch (notification.type) {
    case "information":
      return 0;
    case "newtab":
    case "relentless":
      return 1;
    case "critical":
      return 2;
  }

  return 0;
}

/**
 * Saves notification data to preferences.
 * @param {string} [key] The key to save.
 */
function saveNotificationData(key = "notificationdata") {
  // JSON values aren't saved unless they are assigned a different object.
  Prefs[key] = JSON.parse(JSON.stringify(Prefs[key]));
}

/**
 * Localizes a notification text.
 *
 * @param {Object} translations The set of translations from which to select
 *   the localization.
 * @param {string} locale The locale string to use for the selection. If no
 *   localized version is found in the `translations` object for the given
 *   locale, the
 *   {@link module:notifications~DEFAULT_LOCALE default locale} is used.
 *
 * @returns {*} The localized text; `undefined` if no localized version is
 *   found in the `translations` object.
 */
function localize(translations, locale) {
  if (locale in translations) {
    return translations[locale];
  }

  let languagePart = locale.substring(0, locale.indexOf("-"));
  if (languagePart && languagePart in translations) {
    return translations[languagePart];
  }

  return translations[DEFAULT_LOCALE];
}

function isValidNotification(notification) {
  // Only notifications that are meant to be opened in a new tab must
  // contain at least one URL to open.
  if (notification.type == "newtab" &&
      !(notification.links && notification.links.length > 0)) {
    return false;
  }

  return true;
}

/**
 * `{@link module:notifications.notifications}` implementation.
 *
 * It also emits the named events `downloaded`, `ignored-category-added` and
 * `ignored-category-removed` built with `{@link module:events.EventEmitter
 *                                               EventEmitter}`
 */
class Notifications extends EventEmitter {
  /**
   * @hideconstructor
   */
  constructor() {
    super();

    /**
     * Whether the fetching of notifications has been started.
     * @private
     */
    this._started = false;

    /**
     * Whether all ignorable notifications should be ignored.
     * @type {boolean}
     */
    this.ignored = false;

    /**
     * The locale for the localization of notification texts.
     * @type {string}
     * @default {@link module:notifications~DEFAULT_LOCALE}
     */
    this.locale = DEFAULT_LOCALE;

    /**
     * The number to consider when performing the blockedTotalMin and
     * blockedTotalMax target checks.
     *
     * This property needs to be initialized at startup and updated
     * whenever a blocking filter matches. If set to null (default),
     * notifications using these target checks are ignored.
     *
     * If the deprecated preferences Prefs.show_statsinpopup and
     * Prefs.blocked_total exist they take precedence over this property.
     * @type {?number}
     */
    this.numBlocked = null;

    /**
     * Listeners for notifications to be shown.
     * @type {Set.<function>}
     * @private
     */
    this._showListeners = new Set();

    /**
     * Local notifications added via
     * `{@link module:notifications~Notifications#addNotification
     *         addNotification()}`.
     * @type {Set.<Object>}
     * @private
     */
    this._localNotifications = new Set();

    /**
     * The object providing actual downloading functionality.
     * @type {module:downloader.Downloader}
     * @private
     */
    this._downloader = new Downloader(this._getDownloadables.bind(this));

    this._downloader.onExpirationChange = this._onExpirationChange.bind(this);
    this._downloader.onDownloadSuccess = this._onDownloadSuccess.bind(this);
    this._downloader.onDownloadError = this._onDownloadError.bind(this);
    this._onBlockedTotal = this._onBlockedTotal.bind(this);
  }

  /**
   * Starts fetching notifications.
   *
   * No notifications are fetched until this function has been called at least
   * once.
   */
  start() {
    if (this._started) {
      return;
    }

    Prefs.on("blocked_total", this._onBlockedTotal);

    this._downloader.scheduleChecks(
      getPreferredMillis("notifications_check_interval", CHECK_INTERVAL),
      getPreferredMillis("notifications_initial_delay", INITIAL_DELAY)
    );
    this._started = true;
  }

  /**
   * Stops fetching notifications.
   */
  stop() {
    this._started = false;
    this._downloader.unscheduleChecks();

    Prefs.off("blocked_total", this._onBlockedTotal);
  }

  /**
   * Sets an alternative storage backend for storing local
   * notifications. By default, local notifications are stored in
   * memory.
   *
   * The new storage backend is expected to provide similar
   * functionality to a Set. Notifications will be added to it,
   * deleted from it, and iterated over.
   *
   * @param {object} storageBackend
   * @param {function} storageBackend.add Add a new notification.
   * @param {function} storageBackend.delete Remove a notification.
   * @param {function} storageBackend.Symbol.iterator Returns an iterable of all
   *   local notifications.
   */
  setLocalNotificationStorage(storageBackend) {
    if (this._localNotifications == storageBackend) {
      return;
    }

    for (let notification of this._localNotifications) {
      storageBackend.add(notification);
    }

    this._localNotifications = storageBackend;
  }

  /**
   * Yields a `{@link module:downloader.Downloadable Downloadable}` instance
   * for the notifications download.
   * @yields {module:downloader.Downloadable}
   * @private
   */
  *_getDownloadables() {
    let {notificationurl: url, notificationdata} = Prefs;

    let downloadable = new Downloadable(url);

    if (analytics.isTrusted(url)) {
      downloadable.firstVersion = analytics.getFirstVersion();
    }

    if (typeof notificationdata.lastError == "number") {
      downloadable.lastError = notificationdata.lastError;
    }
    if (typeof notificationdata.lastCheck == "number") {
      downloadable.lastCheck = notificationdata.lastCheck;
    }

    if (typeof notificationdata.data == "object" &&
        "version" in notificationdata.data) {
      downloadable.lastVersion = notificationdata.data.version;
    }

    if (typeof notificationdata.softExpiration == "number") {
      downloadable.softExpiration = notificationdata.softExpiration;
    }
    if (typeof notificationdata.hardExpiration == "number") {
      downloadable.hardExpiration = notificationdata.hardExpiration;
    }
    if (typeof notificationdata.downloadCount == "number") {
      downloadable.downloadCount = notificationdata.downloadCount;
    }

    yield downloadable;
  }

  _onExpirationChange(downloadable) {
    Prefs.notificationdata.lastCheck = downloadable.lastCheck;
    Prefs.notificationdata.softExpiration = downloadable.softExpiration;
    Prefs.notificationdata.hardExpiration = downloadable.hardExpiration;

    saveNotificationData();
  }

  _onDownloadSuccess(downloadable, responseText, errorCallback,
                     redirectCallback) {
    try {
      let data = JSON.parse(responseText);

      if (typeof data.version == "string" &&
          analytics.isTrusted(downloadable.redirectURL || downloadable.url)) {
        analytics.recordVersion(data.version);
      }

      let notifications = [];
      for (let notification of data.notifications) {
        if (!isValidNotification(notification)) {
          console.warn(`Invalid notification with ID "${notification.id}"`);
          continue;
        }

        if ("severity" in notification) {
          if (!("type" in notification)) {
            notification.type = notification.severity;
          }
          delete notification.severity;
        }

        notifications.push(notification);
      }
      data.notifications = notifications;

      Prefs.notificationdata.data = data;
    }
    catch (error) {
      console.warn(error);
      errorCallback("synchronize_invalid_data");
      return;
    }

    let expirationInterval = getPreferredMillis(
      "notifications_expiration_interval",
      EXPIRATION_INTERVAL
    );

    Prefs.notificationdata.lastError = 0;
    Prefs.notificationdata.downloadStatus = "synchronize_ok";
    [
      Prefs.notificationdata.softExpiration,
      Prefs.notificationdata.hardExpiration
    ] = this._downloader.processExpirationInterval(expirationInterval);
    Prefs.notificationdata.downloadCount = downloadable.downloadCount;

    saveNotificationData();

    this.emit("downloaded");
    this.showNext();
  }

  _onDownloadError(downloadable, downloadURL, error, responseStatus,
                   redirectCallback) {
    Prefs.notificationdata.lastError = Date.now();
    Prefs.notificationdata.downloadStatus = error;

    saveNotificationData();
  }

  _onBlockedTotal() {
    this.showNext();
  }

  /**
   * Adds a listener for notifications to be shown.
   * @param {function} listener Listener to be invoked when a notification is
   *   to be shown.
   */
  addShowListener(listener) {
    this._showListeners.add(listener);
  }

  /**
   * Removes the supplied listener.
   * @param {function} listener Listener that was added via
   *   `{@link module:notifications~Notifications#addShowListener
   *           addShowListener()}`.
   */
  removeShowListener(listener) {
    this._showListeners.delete(listener);
  }

  /**
   * Returns whether user preferences indicate that notifications
   * should be ignored.
   * @return {boolean}
   */
  shouldIgnoreNotifications() {
    return this.ignored ||
      Prefs.notifications_ignoredcategories.includes("*");
  }

  /**
   * Returns all local and remote notifications.
   * @returns {Array.<Object>} All local and remote notifications.
   * @private
   */
  _getNotifications() {
    let remoteNotifications = [];
    if (typeof Prefs.notificationdata.data == "object" &&
        Prefs.notificationdata.data.notifications instanceof Array) {
      remoteNotifications = Prefs.notificationdata.data.notifications;
    }

    return [...this._localNotifications, ...remoteNotifications];
  }

  /**
   * Determines which notification is to be shown next.
   * @returns {?object} The notification to be shown, or `null` if there is
   *   none.
   * @private
   */
  _getNextToShow() {
    let notifications = this._getNotifications();
    if (notifications.length == 0) {
      return null;
    }

    const {addonName, addonVersion, application, applicationVersion,
           platform, platformVersion} = __webpack_require__(/*! info */ "./sdk/api/info.js");

    let {numBlocked} = this;
    // Compatibility for legacy adblockpluschrome
    if ("blocked_total" in Prefs) {
      numBlocked = Prefs.blocked_total;
    }
    if (Prefs.show_statsinpopup === false) {
      numBlocked = null;
    }

    let targetChecks = {
      extension: v => v == addonName,
      extensionMinVersion:
        v => compareVersions(addonVersion, v) >= 0,
      extensionMaxVersion:
        v => compareVersions(addonVersion, v) <= 0,
      application: v => v == application,
      applicationMinVersion:
        v => compareVersions(applicationVersion, v) >= 0,
      applicationMaxVersion:
        v => compareVersions(applicationVersion, v) <= 0,
      platform: v => v == platform,
      platformMinVersion:
        v => compareVersions(platformVersion, v) >= 0,
      platformMaxVersion:
        v => compareVersions(platformVersion, v) <= 0,
      blockedTotalMin: v => numBlocked != null && numBlocked >= v,
      blockedTotalMax: v => numBlocked != null && numBlocked <= v,
      locales: v => v.includes(this.locale)
    };

    let notificationToShow = null;
    for (let notification of notifications) {
      if (notification.type != "critical") {
        let shown;
        if (typeof Prefs.notificationdata.shown == "object") {
          shown = Prefs.notificationdata.shown[notification.id];
        }

        if (typeof shown != "undefined") {
          if (typeof notification.interval == "number") {
            if (shown + notification.interval > Date.now()) {
              continue;
            }
          }
          else if (shown) {
            continue;
          }
        }

        if (notification.type != "relentless" &&
            this.shouldIgnoreNotifications()) {
          continue;
        }
      }

      if (notification.targets instanceof Array) {
        let match = false;

        for (let target of notification.targets) {
          let keys = Object.keys(target);
          if (keys.every(
            key => Object.prototype.hasOwnProperty.call(targetChecks, key) &&
                   targetChecks[key](target[key]))
          ) {
            match = true;
            break;
          }
        }

        if (!match) {
          continue;
        }
      }

      if (!notificationToShow || getNumericalSeverity(notification) >
                                 getNumericalSeverity(notificationToShow)) {
        notificationToShow = notification;
      }
    }

    return notificationToShow;
  }

  /**
   * Shows a notification once.
   * @param {Object} notification The notification to show.
   * @param {Object} [options]
   * @param {boolean} [options.ignorable=false] If true, user preference will
   *   be considered to determine whether notification should be shown.
   */
  showNotification(notification, options = {}) {
    if (options.ignorable && this.shouldIgnoreNotifications()) {
      return;
    }

    for (let showListener of this._showListeners) {
      showListener(notification);
    }
  }

  /**
   * Invokes the listeners added via
   * `{@link module:notifications~Notifications#addShowListener
   *         addShowListener()}` with the next notification to be shown.
   *
   * This method should be called whenever a page loads.
   */
  showNext() {
    let notification = this._getNextToShow();
    if (notification) {
      for (let showListener of this._showListeners) {
        showListener(notification);
      }
    }
  }

  /**
   * Marks a notification as shown.
   * @param {string} id The ID of the notification to be marked as shown.
   */
  markAsShown(id) {
    let notifications = this._getNotifications();

    // Ignore if there's no notification with the given ID.
    if (!notifications.some(notification => notification.id == id)) {
      return;
    }

    let now = Date.now();
    let data = Prefs.notificationdata;

    if (data.shown instanceof Array) {
      let newShown = {};
      for (let oldId of data.shown) {
        newShown[oldId] = now;
      }
      data.shown = newShown;
    }

    if (typeof data.shown != "object") {
      data.shown = {};
    }

    data.shown[id] = now;

    saveNotificationData();
  }

  /**
   * Localizes the texts of the given notification based on the
   * {@link module:notifications~Notifications#locale locale}.
   * @param {Object} notification The notification.
   * @returns {Object} The localized texts.
   */
  getLocalizedTexts(notification) {
    let textKeys = ["title", "message"];
    let localizedTexts = {};

    for (let key of textKeys) {
      if (key in notification) {
        if (typeof notification[key] == "string") {
          localizedTexts[key] = notification[key];
        }
        else {
          localizedTexts[key] = localize(notification[key], this.locale);
        }
      }
    }

    return localizedTexts;
  }

  /**
   * Adds a local notification.
   * @param {Object} notification The notification to add.
   */
  addNotification(notification) {
    if (!isValidNotification(notification)) {
      throw new Error(`Invalid notification with ID "${notification.id}"`);
    }

    this._localNotifications.add(notification);
  }

  /**
   * Removes an existing local notification.
   * @param {Object} notification The notification to remove.
   */
  removeNotification(notification) {
    this._localNotifications.delete(notification);
  }

  /**
   * Toggles whether notifications of a specific category should be ignored.
   * @param {string} category The notification category identifier.
   * @param {boolean} [forceValue] Whether to force the specified value.
   */
  toggleIgnoreCategory(category, forceValue) {
    let categories = Prefs.notifications_ignoredcategories;
    let index = categories.indexOf(category);
    if (index == -1 && forceValue != false) {
      categories.push(category);
      Prefs.notifications_ignoredcategories = categories;
      this.emit("ignored-category-added", category);
    }
    else if (index != -1 && forceValue != true) {
      categories.splice(index, 1);
      Prefs.notifications_ignoredcategories = categories;
      this.emit("ignored-category-removed", category);
    }

    saveNotificationData("notifications_ignoredcategories");
  }

  /**
   * Returns the number of times the notifications data have been downloaded.
   * @returns {number}
   */
  getDownloadCount() {
    return Prefs.notificationdata.downloadCount || 0;
  }

  /**
   * Returns the list of ignored categories.
   * @returns {Array.<string>}
   */
  getIgnoredCategories() {
    return Prefs.notifications_ignoredcategories;
  }
}

/**
 * Regularly fetches notifications and decides which notification to show.
 * @type {module:notifications~Notifications}
 */
exports.notifications = new Notifications();


/***/ }),

/***/ "./core/lib/patterns.js":
/*!******************************!*\
  !*** ./core/lib/patterns.js ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * The maximum number of patterns that
 * `{@link module:patterns.compilePatterns compilePatterns()}` will compile
 * into regular expressions.
 * @type {number}
 */
const COMPILE_PATTERNS_MAX = 100;

/**
 * Regular expression used to match the `^` suffix in an otherwise literal
 * pattern.
 * @type {RegExp}
 */
let separatorRegExp = /[\x00-\x24\x26-\x2C\x2F\x3A-\x40\x5B-\x5E\x60\x7B-\x7F]/;

let filterToRegExp =
/**
 * Converts filter text into regular expression string
 * @param {string} text as in Filter()
 * @return {string} regular expression representation of filter text
 * @package
 */
exports.filterToRegExp = function filterToRegExp(text) {
  // remove multiple wildcards
  text = text.replace(/\*+/g, "*");

  // remove leading wildcard
  if (text[0] == "*") {
    text = text.substring(1);
  }

  // remove trailing wildcard
  if (text[text.length - 1] == "*") {
    text = text.substring(0, text.length - 1);
  }

  return text
    // remove anchors following separator placeholder
    .replace(/\^\|$/, "^")
    // escape special symbols
    .replace(/\W/g, "\\$&")
    // replace wildcards by .*
    .replace(/\\\*/g, ".*")
    // process separator placeholders (all ANSI characters but alphanumeric
    // characters and _%.-)
    .replace(/\\\^/g, `(?:${separatorRegExp.source}|$)`)
    // process extended anchor at expression start
    .replace(/^\\\|\\\|/, "^[\\w\\-]+:\\/+(?:[^\\/]+\\.)?")
    // process anchor at expression start
    .replace(/^\\\|/, "^")
    // process anchor at expression end
    .replace(/\\\|$/, "$");
};

/**
 * Regular expression used to match the `||` prefix in an otherwise literal
 * pattern.
 * @type {RegExp}
 */
let extendedAnchorRegExp = new RegExp(filterToRegExp("||") + "$");

/**
 * Regular expression for matching a keyword in a filter.
 * @type {RegExp}
 */
let keywordRegExp = /[^a-z0-9%*][a-z0-9%]{2,}(?=[^a-z0-9%*])/;

/**
 * Regular expression for matching all keywords in a filter.
 * @type {RegExp}
 */
let allKeywordsRegExp = new RegExp(keywordRegExp, "g");

/**
 * A `CompiledPatterns` object represents the compiled version of multiple URL
 * request patterns. It is returned by
 * `{@link module:patterns.compilePatterns compilePatterns()}`.
 */
class CompiledPatterns {
  /**
   * Creates an object with the given regular expressions for case-sensitive
   * and case-insensitive matching respectively.
   * @param {?RegExp} [caseSensitive]
   * @param {?RegExp} [caseInsensitive]
   * @private
   */
  constructor(caseSensitive, caseInsensitive) {
    this._caseSensitive = caseSensitive;
    this._caseInsensitive = caseInsensitive;
  }

  /**
   * Tests whether the given URL request matches the patterns used to create
   * this object.
   * @param {module:url.URLRequest} request
   * @returns {boolean}
   */
  test(request) {
    return ((this._caseSensitive &&
             this._caseSensitive.test(request.href)) ||
            (this._caseInsensitive &&
             this._caseInsensitive.test(request.lowerCaseHref)));
  }
}

/**
 * Compiles patterns from the given filters into a single
 * `{@link module:patterns~CompiledPatterns CompiledPatterns}` object.
 *
 * @param {module:filterClasses.URLFilter|
 *         Set.<module:filterClasses.URLFilter>} filters
 *   The filters. If the number of filters exceeds
 *   `{@link module:patterns~COMPILE_PATTERNS_MAX COMPILE_PATTERNS_MAX}`, the
 *   function returns `null`.
 *
 * @returns {?module:patterns~CompiledPatterns}
 *
 * @package
 */
exports.compilePatterns = function compilePatterns(filters) {
  let list = Array.isArray(filters) ? filters : [filters];

  // If the number of filters is too large, it may choke especially on low-end
  // platforms. As a precaution, we refuse to compile. Ideally we would check
  // the length of the regular expression source rather than the number of
  // filters, but this is far more straightforward and practical.
  if (list.length > COMPILE_PATTERNS_MAX) {
    return null;
  }

  let caseSensitive = "";
  let caseInsensitive = "";

  for (let filter of filters) {
    let source = filter.urlPattern.regexpSource;

    if (filter.matchCase) {
      caseSensitive += source + "|";
    }
    else {
      caseInsensitive += source + "|";
    }
  }

  let caseSensitiveRegExp = null;
  let caseInsensitiveRegExp = null;

  try {
    if (caseSensitive) {
      caseSensitiveRegExp = new RegExp(caseSensitive.slice(0, -1));
    }

    if (caseInsensitive) {
      caseInsensitiveRegExp = new RegExp(caseInsensitive.slice(0, -1));
    }
  }
  catch (error) {
    // It is possible in theory for the regular expression to be too large
    // despite COMPILE_PATTERNS_MAX
    return null;
  }

  return new CompiledPatterns(caseSensitiveRegExp, caseInsensitiveRegExp);
};

/**
 * Patterns for matching against URLs.
 *
 * Internally, this may be a RegExp or match directly against the
 * pattern for simple literal patterns.
 */
exports.Pattern = class Pattern {
  /**
   * @param {string} pattern pattern that requests URLs should be
   * matched against in filter text notation
   * @param {bool} matchCase `true` if comparisons must be case
   * sensitive
   */
  constructor(pattern, matchCase) {
    this.matchCase = matchCase || false;

    if (!this.matchCase) {
      pattern = pattern.toLowerCase();
    }

    if (pattern.length >= 2 &&
        pattern[0] == "/" &&
        pattern[pattern.length - 1] == "/") {
      // The filter is a regular expression - convert it immediately to
      // catch syntax errors
      pattern = pattern.substring(1, pattern.length - 1);
      this._regexp = new RegExp(pattern);
    }
    else {
      // Patterns like /foo/bar/* exist so that they are not treated as regular
      // expressions. We drop any superfluous wildcards here so our
      // optimizations can kick in.
      pattern = pattern.replace(/^\*+/, "").replace(/\*+$/, "");

      // No need to convert this filter to regular expression yet, do it on
      // demand
      this.pattern = pattern;
    }
  }

  /**
   * Checks whether the pattern is a string of literal characters with
   * no wildcards or any other special characters.
   *
   * If the pattern is prefixed with a `||` or suffixed with a `^` but otherwise
   * contains no special characters, it is still considered to be a literal
   * pattern.
   *
   * @returns {boolean}
   */
  isLiteralPattern() {
    return typeof this.pattern !== "undefined" &&
      !/[*^|]/.test(this.pattern.replace(/^\|{1,2}/, "").replace(/[|^]$/, ""));
  }

  /**
   * Regular expression to be used when testing against this pattern.
   *
   * null if the pattern is matched without using regular expressions.
   * @type {RegExp}
   */
  get regexp() {
    if (typeof this._regexp == "undefined") {
      this._regexp = this.isLiteralPattern() ?
        null : new RegExp(filterToRegExp(this.pattern));
    }
    return this._regexp;
  }

  /**
   * Pattern in regular expression notation. This will have a value
   * even if `regexp` returns null.
   * @type {string}
   */
  get regexpSource() {
    return this._regexp ? this._regexp.source : filterToRegExp(this.pattern);
  }

  /**
   * Checks whether the given URL request matches this filter's pattern.
   * @param {module:url.URLRequest} request The URL request to check.
   * @returns {boolean} `true` if the URL request matches.
   */
  matchesLocation(request) {
    let location = this.matchCase ? request.href : request.lowerCaseHref;
    let regexp = this.regexp;
    if (regexp) {
      return regexp.test(location);
    }

    let pattern = this.pattern;
    let startsWithAnchor = pattern[0] == "|";
    let startsWithExtendedAnchor = startsWithAnchor && pattern[1] == "|";
    let endsWithSeparator = pattern[pattern.length - 1] == "^";
    let endsWithAnchor = !endsWithSeparator &&
        pattern[pattern.length - 1] == "|";

    if (startsWithExtendedAnchor) {
      pattern = pattern.substr(2);
    }
    else if (startsWithAnchor) {
      pattern = pattern.substr(1);
    }

    if (endsWithSeparator || endsWithAnchor) {
      pattern = pattern.slice(0, -1);
    }

    let index = location.indexOf(pattern);

    while (index != -1) {
      // The "||" prefix requires that the text that follows does not start
      // with a forward slash.
      if ((startsWithExtendedAnchor ?
           location[index] != "/" &&
           extendedAnchorRegExp.test(location.substring(0, index)) :
           startsWithAnchor ?
           index == 0 :
           true) &&
          (endsWithSeparator ?
           !location[index + pattern.length] ||
           separatorRegExp.test(location[index + pattern.length]) :
           endsWithAnchor ?
           index == location.length - pattern.length :
           true)) {
        return true;
      }

      if (pattern == "") {
        return true;
      }

      index = location.indexOf(pattern, index + 1);
    }

    return false;
  }

  /**
   * Checks whether the pattern has keywords
   * @returns {boolean}
   */
  hasKeywords() {
    return this.pattern && keywordRegExp.test(this.pattern);
  }

  /**
   * Finds all keywords that could be associated with this pattern
   * @returns {string[]}
   */
  keywordCandidates() {
    if (!this.pattern) {
      return null;
    }
    return this.pattern.toLowerCase().match(allKeywordsRegExp);
  }
};


/***/ }),

/***/ "./core/lib/polyfill.js":
/*!******************************!*\
  !*** ./core/lib/polyfill.js ***!
  \******************************/
/***/ (() => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */



// Promise.prototype.finally is not supported in Firefox < 58
if (!Promise.prototype.finally) {
  Promise.prototype.finally = function(fn) {
    return this.then(fn, fn);
  };
}


/***/ }),

/***/ "./core/lib/random.js":
/*!****************************!*\
  !*** ./core/lib/random.js ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * Generates a random integer between min (inclusive) and max (exclusive).
 *
 * @param {number} min The minimum integer to generate (inclusive).
 * @param {number} max The maximum integer to generate (exclusive).
 * @return {number} A random integer between min and max
 */
exports.randomInteger = function(min, max) {
  if (min > max) {
    throw new Error("Cannot generate random integer in range, " +
      `min (${min}) must be less than max (${max})`);
  }

  let range = max - min;
  return Math.floor(Math.random() * range + min);
};


/***/ }),

/***/ "./core/lib/recommendations.js":
/*!*************************************!*\
  !*** ./core/lib/recommendations.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * A `Recommendation` object represents a recommended filter subscription.
 */
class Recommendation {
  /**
   * Creates a `Recommendation` object from the given source object.
   * @param {object} source The source object.
   * @private
   */
  constructor(source) {
    this._source = source;
  }

  /**
   * The id (UUID) of the subscription.
   * If the id is not null, there is a 1:1 relationship with `id` : `url`.
   * @type {?string}
   */
  get id() {
    return this._source.id;
  }

  /**
   * The required subscription ids.
   * @type {?Array.<string>}
   */
  get requires() {
    return this._source.requires;
  }

  /**
   * The type of the recommended filter subscription.
   * @type {string}
   */
  get type() {
    return this._source.type;
  }

  /**
   * The languages of the recommended filter subscription.
   * @type {Array.<string>}
   */
  get languages() {
    return this._source.languages ? [...this._source.languages] : [];
  }

  /**
   * The title of the recommended filter subscription.
   * @type {string}
   */
  get title() {
    return this._source.title;
  }

  /**
   * The URL of the recommended filter subscription.
   * @type {string}
   */
  get url() {
    return this._source.url;
  }

  /**
   * The home page of the recommended filter subscription.
   * @type {string}
   */
  get homepage() {
    return this._source.homepage;
  }

  /**
   * The manifest v2 URL
   * @type {?string}
   */
  get mv2URL() {
    return this._source.mv2_url;
  }

  /**
   * Where this recommendation will get updates from.
   * @type {?string}
   */
  get diffURL() {
    return this._source.diff_url;
  }

  /**
   * Expiration interval from the subscription header.
   * Usually the number of days or hours between expirations.
   * @example "1 days"
   * @example "6 hours"
   * @type {?string}
   */
  get expires() {
    return this._source.expires;
  }

  /**
   * True if this subscription can load filters that require privileged access,
   * like snippets.
   * @type {?bool}
   */
  get privileged() {
    return this._source.privileged;
  }
}

let _recommendations = null;

/**
 * Set the recommendations. This is required. It should be done before
 * any other operation on subscriptions, and shouldn't be called more
 * than once.
 *
 * @param {object} recommendations The available recommended subscriptions.
 */
exports.setRecommendations = function(recommendations) {
  _recommendations = recommendations;
};

/**
 * Returns an array of
 * `{@link module:recommendations~Recommendation Recommendation}` objects
 * representing recommended filter subscriptions.
 *
 * @returns {Array.<module:recommendations~Recommendation>} An array of objects
 *  representing recommended filter subscriptions.
 */
exports.recommendations = function recommendations() {
  if (!_recommendations) {
    _recommendations = __webpack_require__(/*! ../data/subscriptions.json */ "./core/data/subscriptions.json");
  }

  return _recommendations.map(source => new Recommendation(source));
};

exports.Recommendation = Recommendation;


/***/ }),

/***/ "./core/lib/rsa.js":
/*!*************************!*\
  !*** ./core/lib/rsa.js ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/* global crypto, TextEncoder */

/** @module */



const Rusha = __webpack_require__(/*! ./rusha.js */ "./core/lib/rusha.js");
const {BigInteger} = __webpack_require__(/*! ./jsbn.js */ "./core/lib/jsbn.js");

/**
 * @file Provides ASN.1 sitekeys verifications.
 */

let base64ToArrayBuffer =
/**
 * Converts a base64 string to an array buffer byte array.
 * @param {string} base64 Base64 encoded string.
 * @return {Uint8Array} The same data, encoded as an array buffer.
 */
exports.base64ToArrayBuffer = function base64ToArrayBuffer(base64) {
  let binaryString = atob(base64);
  return Uint8Array.from(binaryString, c => c.charCodeAt(0));
};

/**
 * Converts an array buffer byte array into a base64 string.
 * @param {Uint8Array} buffer Byte array of any data.
 * @return {string} The same data, encoded as a base64 string.
 */
exports.arrayBufferToBase64 = function arrayBufferToBase64(buffer) {
  let binary = "";
  let bytes = new Uint8Array(buffer);
  for (let i = 0; i < bytes.byteLength; i++) {
    binary += String.fromCharCode(bytes[i]);
  }

  return btoa(binary);
};

/**
 * Checks whether the signature is valid for the given public key and data.
 * The verification is based on ASN.1 over SHA-1. This procedure is known as
 * RSA_PKCS1_SHA1 and it is the default kind of procedure, in OpenSSL, when
 * SEC_OID_ISO_SHA_WITH_RSA_SIGNATURE is used to create the key/signature pair.
 * @param {string} key a base 64 public key used to verify.
 * @param {string} signature a base 64 signature used to verify.
 * @param {string} data a unique identifier of the resource to verify.
 * @returns {Promise<boolean>} resolves with true if the signature is valid
 */
exports.verifySignature = async function verifySignature(key, signature, data) {
  let signAlgorithm = {
    name: "RSASSA-PKCS1-v1_5",
    hash: {name: "SHA-1"}
  };
  try {
    return await crypto.subtle.verify(
      signAlgorithm,
      await crypto.subtle.importKey(
        "spki",
        base64ToArrayBuffer(key),
        signAlgorithm,
        true,
        ["verify"]
      ),
      base64ToArrayBuffer(signature),
      new TextEncoder().encode(data)
    );
  }
  catch ({message}) {
    console.warn("Invalid encrypted signature: " + message);
    return false;
  }
};

// Define ASN.1 templates for the data structures used
function seq(...args) {
  return {type: 0x30, children: args};
}
function obj(id) {
  return {type: 0x06, content: id};
}
function bitStr(contents) {
  return {type: 0x03, encapsulates: contents};
}
function intResult(id) {
  return {type: 0x02, out: id};
}
function octetResult(id) {
  return {type: 0x04, out: id};
}

// See http://www.cryptopp.com/wiki/Keys_and_Formats#RSA_PublicKey
// 2A 86 48 86 F7 0D 01 01 01 means 1.2.840.113549.1.1.1
let publicKeyTemplate = seq(
  seq(obj("\x2A\x86\x48\x86\xF7\x0D\x01\x01\x01"), {}),
  bitStr(seq(intResult("n"), intResult("e")))
);

// See http://tools.ietf.org/html/rfc3447#section-9.2 step 2
// 2B 0E 03 02 1A means 1.3.14.3.2.26
let signatureTemplate = seq(
  seq(obj("\x2B\x0E\x03\x02\x1A"), {}),
  octetResult("sha1")
);

/**
 * Reads ASN.1 data matching the template passed in. This will throw an
 * exception if the data format doesn't match the template. On success an
 * object containing result properties is returned.
 * @see http://luca.ntop.org/Teaching/Appunti/asn1.html for info on the format.
 * @param {string} data
 * @param {Object} templ
 * @returns {Object}
 */
function readASN1(data, templ) {
  let pos = 0;
  function next() {
    return data.charCodeAt(pos++);
  }

  function readLength() {
    let len = next();
    if (len & 0x80) {
      let cnt = len & 0x7F;
      if (cnt > 2 || cnt == 0) {
        throw "Unsupported length";
      }

      len = 0;
      for (let i = 0; i < cnt; i++) {
        len += next() << (cnt - 1 - i) * 8;
      }
      return len;
    }
    return len;
  }

  function readNode(curTempl) {
    let type = next();
    let len = readLength();
    if ("type" in curTempl && curTempl.type != type) {
      throw "Unexpected type";
    }
    if ("content" in curTempl &&
        curTempl.content != data.substring(pos, pos + len)) {
      throw "Unexpected content";
    }
    if ("out" in curTempl) {
      out[curTempl.out] = new BigInteger(data.substring(pos, pos + len), 256);
    }
    if ("children" in curTempl) {
      let i;
      let end;
      for (i = 0, end = pos + len; pos < end; i++) {
        if (i >= curTempl.children.length) {
          throw "Too many children";
        }
        readNode(curTempl.children[i]);
      }
      if (i < curTempl.children.length) {
        throw "Too few children";
      }
      if (pos > end) {
        throw "Children too large";
      }
    }
    else if ("encapsulates" in curTempl) {
      if (next() != 0) {
        throw "Encapsulation expected";
      }
      readNode(curTempl.encapsulates);
    }
    else {
      pos += len;
    }
  }

  let out = {};
  readNode(templ);
  if (pos != data.length) {
    throw "Too much data";
  }
  return out;
}

/**
 * Reads a BER-encoded RSA public key. On success returns an object with the
 * properties n and e (the components of the key), otherwise null.
 * @param {string} key
 * @return {?Object}
 */
function readPublicKey(key) {
  try {
    return readASN1(atob(key), publicKeyTemplate);
  }
  catch (e) {
    console.warn("Invalid RSA public key: " + e);
    return null;
  }
}

let rusha;

/**
 * Checks whether the signature is valid for the given public key and data.
 * The verification is based on ASN.1 over SHA-1. This procedure is known as
 * RSA_PKCS1_SHA1 and it is the default kind of procedure, in OpenSSL, when
 * SEC_OID_ISO_SHA_WITH_RSA_SIGNATURE is used to create the key/signature pair.
 *
 * This function is synchronous, and so does not return a
 * promise. It's recommended to use the asynchronous version,
 * `{@link module:rsa.verifySignature verifySignature}`, if possible.
 * @param {string} key a base 64 public key used to verify.
 * @param {string} signature a base 64 signature used to verify.
 * @param {string} data a unique identifier of the resource to verify.
 * @returns {boolean} true if the signature is valid.
 */
exports.verifySignatureSync =
function verifySignatureSync(key, signature, data) {
  if (typeof rusha == "undefined") {
    rusha = new Rusha();
  }

  let keyData = readPublicKey(key);
  if (!keyData) {
    return false;
  }

  // We need the exponent as regular number
  keyData.e = parseInt(keyData.e.toString(16), 16);

  // Decrypt signature data using RSA algorithm
  let sigInt = new BigInteger(atob(signature), 256);
  let digest = sigInt.modPowInt(keyData.e, keyData.n).toString(256);

  try {
    let pos = 0;
    let next = () => digest.charCodeAt(pos++);

    // Skip padding, see http://tools.ietf.org/html/rfc3447#section-9.2 step 5
    if (next() != 1) {
      throw "Wrong padding in signature digest";
    }
    while (next() == 255) {}
    if (digest.charCodeAt(pos - 1) != 0) {
      throw "Wrong padding in signature digest";
    }

    // Rest is an ASN.1 structure, get the SHA1 hash from it and compare to
    // the real one
    let {sha1} = readASN1(digest.substring(pos), signatureTemplate);
    let expected = new BigInteger(rusha.digest(data), 16);
    return (sha1.compareTo(expected) == 0);
  }
  catch (e) {
    console.warn("Invalid encrypted signature: " + e);
    return false;
  }
};


/***/ }),

/***/ "./core/lib/rusha.js":
/*!***************************!*\
  !*** ./core/lib/rusha.js ***!
  \***************************/
/***/ ((module, exports, __webpack_require__) => {

(function () {
    var /*
 * Rusha, a JavaScript implementation of the Secure Hash Algorithm, SHA-1,
 * as defined in FIPS PUB 180-1, tuned for high performance with large inputs.
 * (http://github.com/srijs/rusha)
 *
 * Inspired by Paul Johnstons implementation (http://pajhome.org.uk/crypt/md5).
 *
 * Copyright (c) 2013 Sam Rijs (http://awesam.de).
 * Released under the terms of the MIT license as follows:
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 */
    util = {
        getDataType: function (data) {
            if (typeof data === 'string') {
                return 'string';
            }
            if (data instanceof Array) {
                return 'array';
            }
            if (typeof __webpack_require__.g !== 'undefined' && __webpack_require__.g.Buffer && __webpack_require__.g.Buffer.isBuffer(data)) {
                return 'buffer';
            }
            if (data instanceof ArrayBuffer) {
                return 'arraybuffer';
            }
            if (data.buffer instanceof ArrayBuffer) {
                return 'view';
            }
            if (data instanceof Blob) {
                return 'blob';
            }
            throw new Error('Unsupported data type.');
        }
    };
    function Rusha(chunkSize) {
        'use strict';
        var // Private object structure.
        self$2 = { fill: 0 };
        var // Calculate the length of buffer that the sha1 routine uses
        // including the padding.
        padlen = function (len) {
            for (len += 9; len % 64 > 0; len += 1);
            return len;
        };
        var padZeroes = function (bin, len) {
            for (var i$2 = len >> 2; i$2 < bin.length; i$2++)
                bin[i$2] = 0;
        };
        var padData = function (bin, chunkLen, msgLen) {
            bin[chunkLen >> 2] |= 128 << 24 - (chunkLen % 4 << 3);
            // To support msgLen >= 2 GiB, use a float division when computing the
            // high 32-bits of the big-endian message length in bits.
            bin[((chunkLen >> 2) + 2 & ~15) + 14] = msgLen / (1 << 29) | 0;
            bin[((chunkLen >> 2) + 2 & ~15) + 15] = msgLen << 3;
        };
        var // Convert a binary string and write it to the heap.
        // A binary string is expected to only contain char codes < 256.
        convStr = function (H8, H32, start, len, off) {
            var str = this, i$2, om = off % 4, lm = len % 4, j = len - lm;
            if (j > 0) {
                switch (om) {
                case 0:
                    H8[off + 3 | 0] = str.charCodeAt(start);
                case 1:
                    H8[off + 2 | 0] = str.charCodeAt(start + 1);
                case 2:
                    H8[off + 1 | 0] = str.charCodeAt(start + 2);
                case 3:
                    H8[off | 0] = str.charCodeAt(start + 3);
                }
            }
            for (i$2 = om; i$2 < j; i$2 = i$2 + 4 | 0) {
                H32[off + i$2 >> 2] = str.charCodeAt(start + i$2) << 24 | str.charCodeAt(start + i$2 + 1) << 16 | str.charCodeAt(start + i$2 + 2) << 8 | str.charCodeAt(start + i$2 + 3);
            }
            switch (lm) {
            case 3:
                H8[off + j + 1 | 0] = str.charCodeAt(start + j + 2);
            case 2:
                H8[off + j + 2 | 0] = str.charCodeAt(start + j + 1);
            case 1:
                H8[off + j + 3 | 0] = str.charCodeAt(start + j);
            }
        };
        var // Convert a buffer or array and write it to the heap.
        // The buffer or array is expected to only contain elements < 256.
        convBuf = function (H8, H32, start, len, off) {
            var buf = this, i$2, om = off % 4, lm = len % 4, j = len - lm;
            if (j > 0) {
                switch (om) {
                case 0:
                    H8[off + 3 | 0] = buf[start];
                case 1:
                    H8[off + 2 | 0] = buf[start + 1];
                case 2:
                    H8[off + 1 | 0] = buf[start + 2];
                case 3:
                    H8[off | 0] = buf[start + 3];
                }
            }
            for (i$2 = 4 - om; i$2 < j; i$2 = i$2 += 4 | 0) {
                H32[off + i$2 >> 2] = buf[start + i$2] << 24 | buf[start + i$2 + 1] << 16 | buf[start + i$2 + 2] << 8 | buf[start + i$2 + 3];
            }
            switch (lm) {
            case 3:
                H8[off + j + 1 | 0] = buf[start + j + 2];
            case 2:
                H8[off + j + 2 | 0] = buf[start + j + 1];
            case 1:
                H8[off + j + 3 | 0] = buf[start + j];
            }
        };
        var convBlob = function (H8, H32, start, len, off) {
            var blob = this, i$2, om = off % 4, lm = len % 4, j = len - lm;
            var buf = new Uint8Array(reader.readAsArrayBuffer(blob.slice(start, start + len)));
            if (j > 0) {
                switch (om) {
                case 0:
                    H8[off + 3 | 0] = buf[0];
                case 1:
                    H8[off + 2 | 0] = buf[1];
                case 2:
                    H8[off + 1 | 0] = buf[2];
                case 3:
                    H8[off | 0] = buf[3];
                }
            }
            for (i$2 = 4 - om; i$2 < j; i$2 = i$2 += 4 | 0) {
                H32[off + i$2 >> 2] = buf[i$2] << 24 | buf[i$2 + 1] << 16 | buf[i$2 + 2] << 8 | buf[i$2 + 3];
            }
            switch (lm) {
            case 3:
                H8[off + j + 1 | 0] = buf[j + 2];
            case 2:
                H8[off + j + 2 | 0] = buf[j + 1];
            case 1:
                H8[off + j + 3 | 0] = buf[j];
            }
        };
        var convFn = function (data) {
            switch (util.getDataType(data)) {
            case 'string':
                return convStr.bind(data);
            case 'array':
                return convBuf.bind(data);
            case 'buffer':
                return convBuf.bind(data);
            case 'arraybuffer':
                return convBuf.bind(new Uint8Array(data));
            case 'view':
                return convBuf.bind(new Uint8Array(data.buffer, data.byteOffset, data.byteLength));
            case 'blob':
                return convBlob.bind(data);
            }
        };
        var slice = function (data, offset) {
            switch (util.getDataType(data)) {
            case 'string':
                return data.slice(offset);
            case 'array':
                return data.slice(offset);
            case 'buffer':
                return data.slice(offset);
            case 'arraybuffer':
                return data.slice(offset);
            case 'view':
                return data.buffer.slice(offset);
            }
        };
        var // Precompute 00 - ff strings
        precomputedHex = new Array(256);
        for (var i = 0; i < 256; i++) {
            precomputedHex[i] = (i < 16 ? '0' : '') + i.toString(16);
        }
        var // Convert an ArrayBuffer into its hexadecimal string representation.
        hex = function (arrayBuffer) {
            var binarray = new Uint8Array(arrayBuffer);
            var res = new Array(arrayBuffer.byteLength);
            for (var i$2 = 0; i$2 < res.length; i$2++) {
                res[i$2] = precomputedHex[binarray[i$2]];
            }
            return res.join('');
        };
        var ceilHeapSize = function (v) {
            // The asm.js spec says:
            // The heap object's byteLength must be either
            // 2^n for n in [12, 24) or 2^24 * n for n ≥ 1.
            // Also, byteLengths smaller than 2^16 are deprecated.
            var p;
            if (// If v is smaller than 2^16, the smallest possible solution
                // is 2^16.
                v <= 65536)
                return 65536;
            if (// If v < 2^24, we round up to 2^n,
                // otherwise we round up to 2^24 * n.
                v < 16777216) {
                for (p = 1; p < v; p = p << 1);
            } else {
                for (p = 16777216; p < v; p += 16777216);
            }
            return p;
        };
        var // Initialize the internal data structures to a new capacity.
        init = function (size) {
            if (size % 64 > 0) {
                throw new Error('Chunk size must be a multiple of 128 bit');
            }
            self$2.maxChunkLen = size;
            self$2.padMaxChunkLen = padlen(size);
            // The size of the heap is the sum of:
            // 1. The padded input message size
            // 2. The extended space the algorithm needs (320 byte)
            // 3. The 160 bit state the algoritm uses
            self$2.heap = new ArrayBuffer(ceilHeapSize(self$2.padMaxChunkLen + 320 + 20));
            self$2.h32 = new Int32Array(self$2.heap);
            self$2.h8 = new Int8Array(self$2.heap);
            self$2.core = new Rusha._core({
                Int32Array: Int32Array,
                DataView: DataView
            }, {}, self$2.heap);
            self$2.buffer = null;
        };
        // Initialize the data structures according
        // to a chunk size.
        init(chunkSize || 64 * 1024);
        var initState = function (heap, padMsgLen) {
            var io = new Int32Array(heap, padMsgLen + 320, 5);
            io[0] = 1732584193;
            io[1] = -271733879;
            io[2] = -1732584194;
            io[3] = 271733878;
            io[4] = -1009589776;
        };
        var padChunk = function (chunkLen, msgLen) {
            var padChunkLen = padlen(chunkLen);
            var view = new Int32Array(self$2.heap, 0, padChunkLen >> 2);
            padZeroes(view, chunkLen);
            padData(view, chunkLen, msgLen);
            return padChunkLen;
        };
        var // Write data to the heap.
        write = function (data, chunkOffset, chunkLen) {
            convFn(data)(self$2.h8, self$2.h32, chunkOffset, chunkLen, 0);
        };
        var // Initialize and call the RushaCore,
        // assuming an input buffer of length len * 4.
        coreCall = function (data, chunkOffset, chunkLen, msgLen, finalize) {
            var padChunkLen = chunkLen;
            if (finalize) {
                padChunkLen = padChunk(chunkLen, msgLen);
            }
            write(data, chunkOffset, chunkLen);
            self$2.core.hash(padChunkLen, self$2.padMaxChunkLen);
        };
        var getRawDigest = function (heap, padMaxChunkLen) {
            var io = new Int32Array(heap, padMaxChunkLen + 320, 5);
            var out = new Int32Array(5);
            var arr = new DataView(out.buffer);
            arr.setInt32(0, io[0], false);
            arr.setInt32(4, io[1], false);
            arr.setInt32(8, io[2], false);
            arr.setInt32(12, io[3], false);
            arr.setInt32(16, io[4], false);
            return out;
        };
        var // Calculate the hash digest as an array of 5 32bit integers.
        rawDigest = this.rawDigest = function (str) {
            var msgLen = str.byteLength || str.length || str.size || 0;
            initState(self$2.heap, self$2.padMaxChunkLen);
            var chunkOffset = 0, chunkLen = self$2.maxChunkLen, last;
            for (chunkOffset = 0; msgLen > chunkOffset + chunkLen; chunkOffset += chunkLen) {
                coreCall(str, chunkOffset, chunkLen, msgLen, false);
            }
            coreCall(str, chunkOffset, msgLen - chunkOffset, msgLen, true);
            return getRawDigest(self$2.heap, self$2.padMaxChunkLen);
        };
        // The digest and digestFrom* interface returns the hash digest
        // as a hex string.
        this.digest = this.digestFromString = this.digestFromBuffer = this.digestFromArrayBuffer = function (str) {
            return hex(rawDigest(str).buffer);
        };
    }
    ;
    // The low-level RushCore module provides the heart of Rusha,
    // a high-speed sha1 implementation working on an Int32Array heap.
    // At first glance, the implementation seems complicated, however
    // with the SHA1 spec at hand, it is obvious this almost a textbook
    // implementation that has a few functions hand-inlined and a few loops
    // hand-unrolled.
    Rusha._core = function RushaCore(stdlib, foreign, heap) {
        'use asm';
        var H = new stdlib.Int32Array(heap);
        function hash(k, x) {
            // k in bytes
            k = k | 0;
            x = x | 0;
            var i = 0, j = 0, y0 = 0, z0 = 0, y1 = 0, z1 = 0, y2 = 0, z2 = 0, y3 = 0, z3 = 0, y4 = 0, z4 = 0, t0 = 0, t1 = 0;
            y0 = H[x + 320 >> 2] | 0;
            y1 = H[x + 324 >> 2] | 0;
            y2 = H[x + 328 >> 2] | 0;
            y3 = H[x + 332 >> 2] | 0;
            y4 = H[x + 336 >> 2] | 0;
            for (i = 0; (i | 0) < (k | 0); i = i + 64 | 0) {
                z0 = y0;
                z1 = y1;
                z2 = y2;
                z3 = y3;
                z4 = y4;
                for (j = 0; (j | 0) < 64; j = j + 4 | 0) {
                    t1 = H[i + j >> 2] | 0;
                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 & y2 | ~y1 & y3) | 0) + ((t1 + y4 | 0) + 1518500249 | 0) | 0;
                    y4 = y3;
                    y3 = y2;
                    y2 = y1 << 30 | y1 >>> 2;
                    y1 = y0;
                    y0 = t0;
                    H[k + j >> 2] = t1;
                }
                for (j = k + 64 | 0; (j | 0) < (k + 80 | 0); j = j + 4 | 0) {
                    t1 = (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) << 1 | (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) >>> 31;
                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 & y2 | ~y1 & y3) | 0) + ((t1 + y4 | 0) + 1518500249 | 0) | 0;
                    y4 = y3;
                    y3 = y2;
                    y2 = y1 << 30 | y1 >>> 2;
                    y1 = y0;
                    y0 = t0;
                    H[j >> 2] = t1;
                }
                for (j = k + 80 | 0; (j | 0) < (k + 160 | 0); j = j + 4 | 0) {
                    t1 = (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) << 1 | (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) >>> 31;
                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 ^ y2 ^ y3) | 0) + ((t1 + y4 | 0) + 1859775393 | 0) | 0;
                    y4 = y3;
                    y3 = y2;
                    y2 = y1 << 30 | y1 >>> 2;
                    y1 = y0;
                    y0 = t0;
                    H[j >> 2] = t1;
                }
                for (j = k + 160 | 0; (j | 0) < (k + 240 | 0); j = j + 4 | 0) {
                    t1 = (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) << 1 | (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) >>> 31;
                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 & y2 | y1 & y3 | y2 & y3) | 0) + ((t1 + y4 | 0) - 1894007588 | 0) | 0;
                    y4 = y3;
                    y3 = y2;
                    y2 = y1 << 30 | y1 >>> 2;
                    y1 = y0;
                    y0 = t0;
                    H[j >> 2] = t1;
                }
                for (j = k + 240 | 0; (j | 0) < (k + 320 | 0); j = j + 4 | 0) {
                    t1 = (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) << 1 | (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) >>> 31;
                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 ^ y2 ^ y3) | 0) + ((t1 + y4 | 0) - 899497514 | 0) | 0;
                    y4 = y3;
                    y3 = y2;
                    y2 = y1 << 30 | y1 >>> 2;
                    y1 = y0;
                    y0 = t0;
                    H[j >> 2] = t1;
                }
                y0 = y0 + z0 | 0;
                y1 = y1 + z1 | 0;
                y2 = y2 + z2 | 0;
                y3 = y3 + z3 | 0;
                y4 = y4 + z4 | 0;
            }
            H[x + 320 >> 2] = y0;
            H[x + 324 >> 2] = y1;
            H[x + 328 >> 2] = y2;
            H[x + 332 >> 2] = y3;
            H[x + 336 >> 2] = y4;
        }
        return { hash: hash };
    };
    exports = Rusha;
    if (// If we'e running in Node.JS, export a module.
        true) {
        module.exports = Rusha;
    } else {}
    if (// If we're running in a webworker, accept
        // messages containing a jobid and a buffer
        // or blob object, and return the hash result.
        typeof FileReaderSync !== 'undefined') {
        var reader = new FileReaderSync(), hasher = new Rusha(4 * 1024 * 1024);
        self.onmessage = function onMessage(event) {
            var hash, data = event.data.data;
            try {
                hash = hasher.digest(data);
                self.postMessage({
                    id: event.data.id,
                    hash: hash
                });
            } catch (e) {
                self.postMessage({
                    id: event.data.id,
                    error: e.name
                });
            }
        };
    }
}());


/***/ }),

/***/ "./core/lib/snippets.js":
/*!******************************!*\
  !*** ./core/lib/snippets.js ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file Snippets implementation.
 */

const {EventEmitter} = __webpack_require__(/*! ./events */ "./core/lib/events.js");

let singleCharacterEscapes = new Map([
  ["n", "\n"], ["r", "\r"], ["t", "\t"]
]);

/**
 * `{@link module:snippets.snippets snippets}` implementation.
 */
class Snippets extends EventEmitter {
  /**
   * @hideconstructor
   */
  constructor() {
    super();

    /**
     * All known snippet filters.
     * @type {Set.<module:filterClasses.SnippetFilter>}
     * @private
     */
    this._filters = new Set();
  }

  /**
   * Removes all known snippet filters.
   */
  clear() {
    let {_filters} = this;

    if (_filters.size == 0) {
      return;
    }

    _filters.clear();

    this.emit("snippets.filtersCleared");
  }

  /**
   * Adds a new snippet filter.
   * @param {module:filterClasses.SnippetFilter} filter
   */
  add(filter) {
    let {_filters} = this;
    let {size} = _filters;

    _filters.add(filter);

    if (size != _filters.size) {
      this.emit("snippets.filterAdded", filter);
    }
  }

  /**
   * Removes an existing snippet filter.
   * @param {module:filterClasses.SnippetFilter} filter
   */
  remove(filter) {
    let {_filters} = this;
    let {size} = _filters;

    _filters.delete(filter);

    if (size != _filters.size) {
      this.emit("snippets.filterRemoved", filter);
    }
  }

  /**
   * Checks whether a snippet filter exists.
   * @param {module:filterClasses.SnippetFilter} filter
   * @returns {boolean}
   */
  has(filter) {
    return this._filters.has(filter);
  }

  /**
   * Returns a list of all snippet filters active on the given domain.
   * @param {string} domain The domain.
   * @returns {Array.<module:filterClasses.SnippetFilter>} A list of snippet
   *   filters.
   */
  getFilters(domain) {
    let result = [];

    for (let filter of this._filters) {
      if (filter.isActiveOnDomain(domain)) {
        result.push(filter);
      }
    }

    return result;
  }

  /**
   * Returns a list of all snippet filters active on the given domain.
   * @param {string} domain The domain.
   * @returns {Array.<module:filterClasses.SnippetFilter>} A list of snippet
   *   filters.
   *
   * @deprecated Use <code>{@link module:snippets~Snippets#getFilters}</code>
   *   instead.
   * @see module:snippets~Snippets#getFilters
   */
  getFiltersForDomain(domain) {
    return this.getFilters(domain);
  }
}

/**
 * Container for snippet filters.
 */
exports.Snippets = Snippets;

let parseScript =
/**
 * Parses a script and returns a list of all its commands and their arguments.
 * @param {string} script The script.
 * @returns {Array.<string[]>} A list of commands and their arguments.
 * @package
 */
exports.parseScript = function parseScript(script) {
  let tree = [];

  let escape = false;
  let withinQuotes = false;

  let unicodeEscape = null;

  let quotesClosed = false;

  let call = [];
  let argument = "";

  for (let character of script.trim() + ";") {
    let afterQuotesClosed = quotesClosed;
    quotesClosed = false;

    if (unicodeEscape != null) {
      unicodeEscape += character;

      if (unicodeEscape.length == 4) {
        let codePoint = parseInt(unicodeEscape, 16);
        if (!isNaN(codePoint)) {
          argument += String.fromCodePoint(codePoint);
        }

        unicodeEscape = null;
      }
    }
    else if (escape) {
      escape = false;

      if (character == "u") {
        unicodeEscape = "";
      }
      else {
        argument += singleCharacterEscapes.get(character) || character;
      }
    }
    else if (character == "\\") {
      escape = true;
    }
    else if (character == "'") {
      withinQuotes = !withinQuotes;

      if (!withinQuotes) {
        quotesClosed = true;
      }
    }
    else if (withinQuotes || character != ";" && !/\s/.test(character)) {
      argument += character;
    }
    else {
      if (argument || afterQuotesClosed) {
        call.push(argument);
        argument = "";
      }

      if (character == ";" && call.length > 0) {
        tree.push(call);
        call = [];
      }
    }
  }

  return tree;
};

/**
 * Compiles a script against a given list of libraries, passed as JSON
 * serialized string, or a an array of strings, into executable code.
 * @param {string|Array.<string>} scripts One or more scripts to convert into
 *  executable code.
 * @param {string} isolatedSnippetsLibrary The stringified bundle to be executed
 * in the isolated content script context.
 * @param {string} injectedSnippetsLibrary The stringified bundle to be injected
 * and executed in the main context.
 * @param {string|Array.<string>} injectedSnippetsList An array containing the
 * available injectable snippets.
 * @param {object} [environment] An object containing environment variables.
 * @returns {string} Executable code.
 */
exports.compileScript = function compileScript(scripts,
                                               isolatedSnippetsLibrary,
                                               injectedSnippetsLibrary,
                                               injectedSnippetsList,
                                               environment = {}) {
  let isolatedLib = JSON.stringify(isolatedSnippetsLibrary);
  let injectedLib = JSON.stringify(injectedSnippetsLibrary);
  let jsonEnv = JSON.stringify(environment);
  return `
    "use strict";
    (() => 
    {
      let scripts = ${JSON.stringify([].concat(scripts).map(parseScript))};

      let isolatedLib = ${isolatedLib};
      let imports = Object.create(null);
      let injectedSnippetsCount = 0;
      let loadLibrary = new Function("exports", "environment", isolatedLib);
      loadLibrary(imports, ${jsonEnv});
      const isolatedSnippets = imports.snippets;

      let injectedLib = ${injectedLib};
      let injectedSnippetsList = ${JSON.stringify(injectedSnippetsList)};
      let executable = "(() => {";
      executable += "let environment = ${jsonEnv.replace(/[\\"]/g, "\\$&")};";
      executable += injectedLib;

      let {hasOwnProperty} = Object.prototype;
      for (let script of scripts)
      {
        for (let [name, ...args] of script)
        {
          if (hasOwnProperty.call(isolatedSnippets, name))
          {
            let value = isolatedSnippets[name];
            if (typeof value == "function")
              value(...args);
          }
          if (injectedSnippetsList.includes(name))
          {
            executable += stringifyFunctionCall(name, ...args);
            injectedSnippetsCount++;
          }
        }
      }

      executable += "})();";

      if (injectedSnippetsCount > 0)
        injectSnippetsInMainContext(executable);

      function stringifyFunctionCall(func, ...params)
      {
        // Call JSON.stringify on the arguments to avoid any arbitrary code
        // execution.
        const f = "snippets['" + func + "']";
        const parameters = params.map(JSON.stringify).join(",");
        return f + "(" + parameters + ");";
      }

      function injectSnippetsInMainContext(exec)
      {
        // injecting phase
        let script = document.createElement("script");
        script.type = "application/javascript";
        script.async = false;

        // Firefox 58 only bypasses site CSPs when assigning to 'src',
        // while Chrome 67 and Microsoft Edge (tested on 44.17763.1.0)
        // only bypass site CSPs when using 'textContent'.
        if (typeof netscape != "undefined" && typeof browser != "undefined")
        {
          let url = URL.createObjectURL(new Blob([exec]));
          script.src = url;
          document.documentElement.appendChild(script);
          URL.revokeObjectURL(url);
        }
        else
        {
          script.textContent = exec;
          document.documentElement.appendChild(script);
        }

        document.documentElement.removeChild(script);
      }
    })();
  `;
};


/***/ }),

/***/ "./core/lib/subscriptionClasses.js":
/*!*****************************************!*\
  !*** ./core/lib/subscriptionClasses.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file Definition of Subscription class and its subclasses.
 */

const {recommendations} = __webpack_require__(/*! ./recommendations */ "./core/lib/recommendations.js");
const {isActiveFilter, Filter} = __webpack_require__(/*! ./filterClasses */ "./core/lib/filterClasses.js");
const {filterNotifier} = __webpack_require__(/*! ./filterNotifier */ "./core/lib/filterNotifier.js");
const {Downloader} = __webpack_require__(/*! ./downloader */ "./core/lib/downloader.js");

let _recommendationsByURL = null;

/**
 * Clean the maps cache
 * @ignore
 */
exports._clean = function() {
  _recommendationsByURL = null;
  _urlByMv2URL = null;
};

/**
 * Subscription recommendation by URL.
 *
 * If `Subscription.dnr` is falsey then the mv2URL is the actual URL
 * as we would have with manifest v2.
 *
 * @returns {Map.<string, Recommendation>}
 */
function recommendationsByURL() {
  if (_recommendationsByURL) {
    return _recommendationsByURL;
  }

  _recommendationsByURL = new Map();

  for (let recommendation of recommendations()) {
    if (Subscription.dnr && recommendation.url) {
      _recommendationsByURL.set(recommendation.url, recommendation);
    }
    else if (recommendation.mv2URL) {
      _recommendationsByURL.set(recommendation.mv2URL, recommendation);
    }
  }
  return _recommendationsByURL;
}

let _urlByMv2URL = null;

/**
 * Subscription URL by mv2_url.
 *
 * @returns {Map.<string, string>}
 */
function urlByMv2URL() {
  if (_urlByMv2URL) {
    return _urlByMv2URL;
  }

  _urlByMv2URL = new Map();
  for (let recommendation of recommendations()) {
    if (recommendation.mv2URL) {
      _urlByMv2URL.set(recommendation.mv2URL, recommendation.url);
    }
  }
  return _urlByMv2URL;
}

let Subscription =
/**
 * The `Subscription` class represents a filter subscription.
 * @abstract
 */
exports.Subscription = class Subscription {
  /**
   * Creates a `Subscription` object.
   * @param {string} url The URL of the subscription.
   * @param {string} [title] The title of the subscription.
   * @private
   */
  constructor(url, title) {
    /**
     * The URL of the subscription.
     * @type {string}
     * @see module:subscriptionClasses.Subscription#url
     * @private
     */
    this._url = url;

    /**
     * Whether the URL of the subscription is a valid subscription URL.
     * @type {boolean}
     * @private
     * @see module:subscriptionClasses.Subscription#valid
     */
    this._urlValid = Subscription.isValidURL(url);

    let recommendation = recommendationsByURL().get(url);
    /**
     * The type of the subscription.
     * @type {?string}
     * @default <code>null</code>
     * @private
     * @see module:subscriptionClasses.Subscription#type
     */
    this._type = recommendation ? recommendation.type : null;

    /**
     * The id (UUID) of the subscription.
     * @type {?string}
     * @default <code>null</code>
     * @private
     */
    this._id = recommendation ? recommendation.id : null;

    /**
     * Filter text contained in the subscription.
     * @type {Array.<string>}
     * @private
     */
    this._filterText = [];

    /**
     * A searchable index of filter text in the subscription.
     * @type {Set.<string>}
     * @private
     */
    this._filterTextIndex = new Set();

    /**
     * The title of the subscription.
     * @type {?string}
     * @default <code>null</code>
     * @private
     * @see module:subscriptionClasses.Subscription#title
     */
    this._title = null;

    if (title) {
      this._title = title;
    }

    this._privileged = recommendation ? recommendation.privileged : false;

    /**
     * Whether the title of the subscription is non-editable.
     * @type {boolean}
     * @default <code>false</code>
     * @private
     * @see module:subscriptionClasses.Subscription#fixedTitle
     */
    this._fixedTitle = false;

    /**
     * Whether the subscription is disabled.
     * @type {boolean}
     * @default <code>false</code>
     * @private
     * @see module:subscriptionClasses.Subscription#disabled
     */
    this._disabled = false;

    Subscription.knownSubscriptions.set(url, this);
  }

  /**
   * The id (UUID) of the subscription.
   * @type {string}
   */
  get id() {
    return this._id;
  }

  /**
   * The URL of the subscription.
   * @type {string}
   */
  get url() {
    return this._url;
  }

  /**
   * Whether the subscription is valid.
   * @type {boolean}
   * @package
   */
  get valid() {
    // This should return a value based on Subscription#_urlValid after
    // https://gitlab.com/eyeo/adblockplus/abpui/adblockplusui/-/issues/753
    return true;
  }

  /**
   * The type of the subscription.
   * @type {?string}
   * @default <code>null</code>
   */
  get type() {
    return this._type;
  }

  /**
   * True if this subscription can load filters that require
   * privileged access, like snippets. Defaults to the result of the type being
   * "circumvention" if this value is null
   * @type {bool}
   */
  get privileged() {
    if (this._privileged == null) {
      return this._type === "circumvention";
    }

    return this._privileged;
  }

  set privileged(value) {
    if (value !== this._privileged) {
      let oldValue = this._privileged;
      this._privileged = value;
      filterNotifier.emit("subscription.privileged", this, value, oldValue);
    }
  }

  /**
   * The title of the subscription.
   * @type {string}
   */
  get title() {
    return this._title;
  }

  set title(value) {
    if (value != this._title) {
      let oldValue = this._title;
      this._title = value;
      filterNotifier.emit("subscription.title", this, value, oldValue);
    }
  }

  /**
   * Whether the title of the subscription is non-editable.
   * @type {boolean}
   * @default <code>false</code>
   */
  get fixedTitle() {
    return this._fixedTitle;
  }

  set fixedTitle(value) {
    if (value != this._fixedTitle) {
      let oldValue = this._fixedTitle;
      this._fixedTitle = value;
      filterNotifier.emit("subscription.fixedTitle", this, value, oldValue);
    }
  }

  /**
   * Whether the subscription is downloadable.
   * @type {boolean}
   * @default <code>false</code>
   */
  get downloadable() {
    return false;
  }

  /**
   * Has filters bundled along with the extension, which should be reloaded on
   * extension update.
   * @type {string}
   */
  get hasBundledFilters() {
    return false;
  }

  /**
   * Whether the subscription is disabled.
   * @type {boolean}
   * @default <code>false</code>
   */
  get disabled() {
    return this._disabled;
  }

  set disabled(value) {
    if (value != this._disabled) {
      let oldValue = this._disabled;
      this._disabled = value;
      filterNotifier.emit("subscription.disabled", this, value, oldValue);
    }
  }

  /**
   * The number of filters in the subscription.
   * @type {number}
   * @default <code>0</code>
   */
  get filterCount() {
    return this._filterText.length;
  }

  /**
   * Returns an iterator that yields the text for each filter in the
   * subscription.
   * @returns {Iterator.<string>}
   */
  filterText() {
    return this._filterText[Symbol.iterator]();
  }

  /**
   * Set parameters for CountableSubscriptions.
   *
   * @param {object} params The params from the filter list. `params` is
   *   the `params` field as returned by
   *   `{@link module:filters/lists.parseFilterList parseFilterList()}`.
   */
  setParams(params) {
    if (params.homepage) {
      let url;
      try {
        url = new URL(params.homepage);
      }
      catch (e) {
        url = null;
      }

      if (url && (url.protocol == "http:" || url.protocol == "https:")) {
        this.homepage = url.href;
      }
    }

    if (params.title) {
      this.title = params.title;
      this.fixedTitle = true;
    }
    else {
      this.fixedTitle = false;
    }

    if (params.version) {
      this.version = parseInt(params.version, 10);
    }

    if (this.type) {
      this.abtest = params.abtest;
    }

    if (params.diffURL) {
      this.diffURL = params.diffURL;
    }

    if (params.lastModified){
      this.lastModified = params.lastModified;
    }
  }

  /**
   * Set the filter text, and reset the index. Call this before adding
   * to the storage.
   *
   * The filter texts will be normalized with `{@link
   * module:filterClasses.Filter#normalize Filter.normalize()}` like
   * if they were loaded from a filter list.
   *
   * It is important to not call this beside the initialisation of the
   * subscription as it doesn't notify of changes
   *
   * @param {Array.<string>} text The text strings.
   * @param {object?} params The filter list params if any. `params` is
   *   the `params` field as returned by
   *   `{@link module:filters/lists.parseFilterList parseFilterList()}`.
   *
   * An error will be thrown if `text` isn't an array.
   */
  setFilterText(text, params = null) {
    if (!Array.isArray(text)) {
      throw new Error("setFilterText() must be called with an Array");
    }

    this._filterText = text.map(t => Filter.normalize(t));
    this._filterTextIndex = new Set(this._filterText);

    if (params) {
      this.setParams(params);
    }
  }

  /**
   * Checks whether the subscription has the given filter text.
   * @param {string} filterText The filter text.
   * @returns {boolean} Whether the subscription has the filter text.
   * @package
   */
  hasFilterText(filterText) {
    return this._filterTextIndex.has(filterText);
  }

  /**
   * Returns the filter text at the given `0`-based index.
   * @param {number} index The `0`-based index. If the index is out of bounds,
   *   the return value is `null`.
   * @returns {?module:filterClasses.Filter} The filter text.
   */
  filterTextAt(index) {
    return this._filterText[index] || null;
  }

  /**
   * Returns the `0`-based index of the given filter.
   *
   * @param {module:filterClasses.Filter} filter The filter.
   * @param {number} [fromIndex] The `0`-based index from which to start the
   *   search.
   *
   * @returns {number} The `0`-based index at which the filter is found. If the
   *   filter is not found in the subscription, the return value is `-1`.
   *
   * @see {@link findFilterTextIndex} if you only have a filter text.
   * @deprecated
   */
  findFilterIndex(filter, fromIndex = 0) {
    return this.findFilterTextIndex(filter.text, fromIndex);
  }

  /**
   * Returns the `0`-based index of the given filter.
   *
   * @param {string} filterText The filter text..
   * @param {number} [fromIndex] The `0`-based index from which to start the
   *   search.
   *
   * @returns {number} The `0`-based index at which the filter is
   *   found. If the filter is not found in the subscription, the
   *   return value is `-1`.
   */
  findFilterTextIndex(filterText, fromIndex = 0) {
    return this._filterText.indexOf(filterText, fromIndex);
  }

  /**
   * Removes all filters from the subscription.
   */
  clearFilters() {
    this._filterText = [];
    this._filterTextIndex.clear();
  }

  /**
   * Adds a filter to the subscription.
   * @param {module:filterClasses.Filter} filter The filter.
   *
   * @see {@link addFilterText} if you only have a filter text.
   * @deprecated
   */
  addFilter(filter) {
    this.addFilterText(filter.text);
  }

  /**
   * Adds a filter text to the subscription.
   * @param {string} text The filter text.
   */
  addFilterText(text) {
    this._filterText.push(text);
    this._filterTextIndex.add(text);
  }

  /**
   * Inserts a filter into the subscription at the given `0`-based index.
   *
   * @param {module:filterClasses.Filter} filter The filter.
   * @param {number} index The `0`-based index. If the index is out of bounds,
   *   the filter is inserted at the beginning or at the end accordingly.
   * @see {@link insertFilterTextAt} if you only have a filter text.
   * @deprecated
   */
  insertFilterAt(filter, index) {
    this.insertFilterTextAt(filter.text, index);
  }

  /**
   * Inserts a filter into the subscription at the given `0`-based index.
   *
   * @param {string} filterText The filter text.
   * @param {number} index The `0`-based index. If the index is out of bounds,
   *   the filter is inserted at the beginning or at the end accordingly.
   */
  insertFilterTextAt(filterText, index) {
    this._filterText.splice(index, 0, filterText);
    this._filterTextIndex.add(filterText);
  }

  /**
   * Deletes a filter from the subscription at the given `0`-based index.
   * @param {number} index The `0`-based index. If the index is out of bounds,
   *   no filter is deleted.
   */
  deleteFilterAt(index) {
    // Ignore index if out of bounds on the negative side, for consistency.
    if (index < 0) {
      return;
    }

    let [filterText] = this._filterText.splice(index, 1);
    if (!this._filterText.includes(filterText)) {
      this._filterTextIndex.delete(filterText);
    }
  }

  /**
   * Updates the filter text of the subscription.
   * @param {Array.<string>} filterText The new filter text.
   * @returns {{added: Array.<string>, removed: Array.<string>}} An object
   *   containing two lists of the text of added and removed filters
   *   respectively.
   * @package
   */
  updateFilterText(filterText) {
    let added = [];
    let removed = [];

    if (this._filterText.length == 0) {
      added = [...filterText];
    }
    else if (filterText.length > 0) {
      for (let text of filterText) {
        if (!this._filterTextIndex.has(text)) {
          added.push(text);
        }
      }
    }

    this._filterTextIndex = new Set(filterText);

    if (filterText.length == 0) {
      removed = [...this._filterText];
    }
    else if (this._filterText.length > 0) {
      for (let text of this._filterText) {
        if (!this._filterTextIndex.has(text)) {
          removed.push(text);
        }
      }
    }

    this._filterText = [...filterText];

    return {added, removed};
  }

  /**
   * Serializes the subscription for writing out on disk.
   * @yields {string}
   * @package
   */
  *serialize() {
    let {url, _title, _fixedTitle, _disabled, _id} = this;

    yield "[Subscription]";
    yield "url=" + url;

    if (_title) {
      yield "title=" + _title;
    }
    if (_fixedTitle) {
      yield "fixedTitle=true";
    }
    if (_disabled) {
      yield "disabled=true";
    }
    if (_id) {
      yield "id=" + _id;
    }
  }

  /**
   * Serializes the subscription's filter text for writing out on disk.
   * @yields {string}
   * @package
   */
  *serializeFilters() {
    let {_filterText} = this;

    yield "[Subscription filters]";

    for (let text of _filterText) {
      yield text.replace(/\[/g, "\\[");
    }
  }

  /**
   * Returns a string representing the subscription.
   * @returns {string}
   */
  toString() {
    return [...this.serialize()].join("\n");
  }
};

/**
 * Cache for known filter subscriptions that maps subscription URLs to
 * subscription objects.
 * @type {Map.<string, module:subscriptionClasses.Subscription>}
 * @package
 */
exports.Subscription.knownSubscriptions = new Map();
/**
 * We operate in DNR mode. Default is false.
 * @type {bool}
 * @package
 */
exports.Subscription.dnr = false;

/**
 * Returns the subscription object for a subscription URL.
 *
 * Every subscription URL maps to its own unique object. If no such object
 * exists, a new one is created internally; otherwise the existing object is
 * used.
 *
 * If `Subscription.dnr` is true, it will remap `mv2_url` to the canonical
 * `url` if necessary.
 *
 * @param {string} url The subscription URL.
 *
 * @returns {module:subscriptionClasses.Subscription} A subscription
 * object (can be any subclass thereof.
 */
exports.Subscription.fromURL = function(url) {
  let subscription = Subscription.knownSubscriptions.get(url);
  if (subscription) {
    return subscription;
  }

  if (url[0] != "~") {
    let downloadable = true;
    let title = null;
    let params = null;
    let updatableThroughDiffs = false;

    if (Subscription.dnr) {
      // In DNR we check if we got a mv2 URL and remap.
      let actualUrl = urlByMv2URL().get(url);
      if (actualUrl) {
        subscription = Subscription.knownSubscriptions.get(actualUrl);
        if (subscription) {
          return subscription;
        }

        url = actualUrl;
      }

      let recommendation = recommendationsByURL().get(url);
      if (recommendation) {
        // In DNR we use the recommendation title.
        title = recommendation.title;

        // All the known subscriptions are considered to be either
        // user countable or diff updatable
        downloadable = false;
        // We have to set the params like if the list was downloaded.
        params = {
          homepage: recommendation.homepage,
          // The effect of setting title here is that it will make the
          // fixedTitle property to be true.
          // This is the equivalent of the title being set by the
          // filter list.
          title
        };

        if (recommendation.diffURL) {
          params.diffURL = recommendation.diffURL;
          updatableThroughDiffs = true;
        }
      }
    }

    if (downloadable) {
      subscription = new FullUpdatableSubscription(url, title);
    }
    else if (updatableThroughDiffs) {
      subscription = new DiffUpdatableSubscription(url, title, params);
    }
    else {
      subscription = new CountableSubscription(url, title, params);
    }

    return subscription;
  }

  return new SpecialSubscription(url);
};

/**
 * Deserializes a subscription.
 * @param {Object} obj A map of serialized properties and their values.
 * @returns {module:subscriptionClasses.Subscription} A subscription object.
 * @package
 */
exports.Subscription.fromObject = function(obj) {
  let result;
  if (obj.url[0] != "~") {
    // URL is valid - this is a regular subscription
    // Unless indicated otherwise it is downloadable.
    if (("downloadable" in obj) && (obj.downloadable == "false")){
      if ("diffURL" in obj) {
        result = new DiffUpdatableSubscription(obj.url, obj.title);
      }
      else {
        result = new CountableSubscription(obj.url, obj.title);
      }
    }
    else {
      result = new FullUpdatableSubscription(obj.url, obj.title);
    }

    if (result.type) {
      result.abtest = obj.abtest;
    }

    if ("diffURL" in obj) {
      result.diffURL = obj.diffURL;
    }
    if ("downloadStatus" in obj) {
      result._downloadStatus = obj.downloadStatus;
    }
    if ("lastSuccess" in obj) {
      result.lastSuccess = parseInt(obj.lastSuccess, 10) || 0;
    }
    if ("lastCheck" in obj) {
      result._lastCheck = parseInt(obj.lastCheck, 10) || 0;
    }
    if ("expires" in obj) {
      result.expires = parseInt(obj.expires, 10) || 0;
    }
    if ("softExpiration" in obj) {
      result.softExpiration = parseInt(obj.softExpiration, 10) || 0;
    }
    if ("errors" in obj) {
      result._errors = parseInt(obj.errors, 10) || 0;
    }
    if ("version" in obj) {
      result.version = parseInt(obj.version, 10) || 0;
    }
    if ("requiredVersion" in obj) {
      result.requiredVersion = obj.requiredVersion;
    }
    if ("homepage" in obj) {
      result._homepage = obj.homepage;
    }
    if ("lastDownload" in obj) {
      result._lastDownload = parseInt(obj.lastDownload, 10) || 0;
    }
    if ("downloadCount" in obj) {
      result.downloadCount = parseInt(obj.downloadCount, 10) || 0;
    }
  }
  else {
    result = new SpecialSubscription(obj.url, obj.title);
    if ("defaults" in obj) {
      result.defaults = obj.defaults.split(" ");
    }
    if ("metadata" in obj) {
      result._metadata = JSON.parse(obj.metadata);
    }
  }
  if ("id" in obj) {
    result._id = obj.id;
  }
  if ("fixedTitle" in obj) {
    result._fixedTitle = (obj.fixedTitle == "true");
  }
  if ("disabled" in obj) {
    result._disabled = (obj.disabled == "true");
  }

  return result;
};

/**
 * Checks whether a URL is a valid subscription URL.
 * @param {string} url The URL.
 * @returns {boolean} Whether the URL is a valid subscription URL.
 */
exports.Subscription.isValidURL = function isValidURL(url) {
  return typeof url == "string" &&
    (url.startsWith("~user~") || Downloader.isValidURL(url));
};

let SpecialSubscription =
/**
 * The `SpecialSubscription` class represents a special filter subscription.
 *
 * This type of subscription is used for keeping user-defined filters.
 * @extends module:subscriptionClasses.Subscription
 */
exports.SpecialSubscription = class SpecialSubscription extends Subscription {
  /**
   * Creates a `SpecialSubscription` object.
   * @param {string} url The URL of the subscription.
   * @param {string} [title] The title of the subscription.
   * @private
   */
  constructor(url, title) {
    super(url, title);

    /**
     * Filter types that should be added to this subscription by default.
     *
     * Entries should correspond to keys in
     * `{@link module:subscriptionClasses.SpecialSubscription.defaultsMap}`.
     *
     * @type {?Array.<string>}
     *
     * @package
     */
    this.defaults = null;

    this._metadata = null;
  }

  get privileged() {
    return true;
  }

  /**
   * Checks whether the given filter should be added to this subscription by
   * default.
   * @param {Filter} filter The filter.
   * @returns {boolean} Whether the filter should be added to this subscription
   *   by default.
   * @package
   */
  isDefaultFor(filter) {
    if (this.defaults && this.defaults.length) {
      for (let type of this.defaults) {
        if (SpecialSubscription.defaultsMap.get(type).includes(filter.type)) {
          return true;
        }
        if (!isActiveFilter(filter) && type == "blocking") {
          return true;
        }
      }
    }

    return false;
  }

  /**
   * Set the metadata block for the special subscription
   *
   * @param {object} [value] The metadata
   */
  set metadata(value) {
    let oldValue = this._metadata;
    this._metadata = value;
    filterNotifier.emit("subscription.metadata", this, value, oldValue);
  }

  /**
   * Get the metadata block.
   * @return {?object} the metadata object or null
   */
  get metadata() {
    return this._metadata;
  }

  /**
   * Serializes the subscription for writing out on disk.
   * @yields {string}
   * @package
   */
  *serialize() {
    let {defaults, _lastDownload, _metadata} = this;

    yield* super.serialize();

    if (defaults) {
      yield "defaults=" +
            defaults.map(
              // remap for the stored format.
              type => type == "allowing" ? "whitelist" : type
            ).filter(
              type => SpecialSubscription.defaultsMap.has(type)
            ).join(" ");
    }
    // Metadata is encoded as a JSON on a single line.
    // This should be safe.
    if (_metadata) {
      yield "metadata=" + JSON.stringify(_metadata);
    }

    if (_lastDownload) {
      yield "lastDownload=" + _lastDownload;
    }
  }
};

/**
 * A map of filter types.
 * @type {Map.<string, Array.<string>>}
 * @package
 */
exports.SpecialSubscription.defaultsMap = new Map([
  ["allowing", ["allowing"]],
  // deprecated terminology
  ["whitelist", ["allowing"]],
  ["blocking", ["blocking"]],
  ["elemhide", ["elemhide", "elemhideexception", "elemhideemulation"]]
]);

/**
 * Creates a new special subscription.
 * @param {string} [title] The title of the subscription.
 * @returns {module:subscriptionClasses.SpecialSubscription} A new special
 *   subscription.
 * @package
 */
exports.SpecialSubscription.create = function(title) {
  let url;
  do {
    url = "~user~" + Math.round(Math.random() * 1000000);
  }
  while (Subscription.knownSubscriptions.has(url));
  return new SpecialSubscription(url, title);
};

/**
 * Creates a new special subscription and adds the given filter to it.
 *
 * Once created, the subscription acts as the default for all filters of the
 * {@link module:filterClasses.Filter#type type}.
 *
 * @param {module:filterClasses.Filter} filter The filter.
 *
 * @returns {module:subscriptionClasses.SpecialSubscription} A new special
 *   subscription.
 *
 * @package
 */
exports.SpecialSubscription.createForFilter = function(filter) {
  let subscription = SpecialSubscription.create();
  subscription.addFilter(filter);
  for (let [type, mappedTypes] of SpecialSubscription.defaultsMap) {
    if (mappedTypes.includes(filter.type)) {
      subscription.defaults = [type];
    }
  }
  if (!subscription.defaults) {
    subscription.defaults = ["blocking"];
  }
  return subscription;
};

let RegularSubscription =
/**
 * The `RegularSubscription` class represents a regular filter subscription
 * that is not by default downloaded off the internet.
 * `CountableSubscription` is a subclass of this.
 *
 * In a manifest v2 context it shouldn't be encountered. In manifest v3, it's
 * the default.
 *
 * @extends module:subscriptionClasses.Subscription
 */
exports.RegularSubscription = class RegularSubscription extends Subscription {
  /**
   * Creates a `RegularSubscription` object.
   * @param {string} url The URL of the subscription.
   * @param {string} [title] The title of the subscription.
   * @private
   */
  constructor(url, title) {
    super(url, title || url);

    /**
     * The homepage of the subscription.
     * @type {?string}
     * @default <code>null</code>
     * @private
     * @see module:subscriptionClasses.RegularSubscription#homepage
     */
    this._homepage = null;

    /**
     * The last time the subscription was downloaded, in seconds since the
     * beginning of the Unix epoch.
     * @type {number}
     * @default <code>0</code>
     * @private
     * @see module:subscriptionClasses.RegularSubscription#lastDownload
     */
    this._lastDownload = 0;

    let recommendation = recommendationsByURL().get(url);
    /**
     * The languages that apply for this subscription.
     * @type {?Array.<string>}
     */
    this._languages = recommendation ? recommendation.languages : null;
  }

  /**
   * The homepage of the subscription.
   * @type {?string}
   * @default <code>null</code>
   */
  get homepage() {
    return this._homepage;
  }

  set homepage(value) {
    if (value != this._homepage) {
      let oldValue = this._homepage;
      this._homepage = value;
      filterNotifier.emit("subscription.homepage", this, value, oldValue);
    }
  }

  /**
   * The languages that apply for this subscription.
   * @type {?Array.<string>}
   * @default <code>null</code>
   */
  get languages() {
    return this._languages;
  }

  /**
   * The last time the subscription was downloaded, in seconds since the
   * beginning of the Unix epoch.
   * @type {number}
   * @default <code>0</code>
   */
  get lastDownload() {
    return this._lastDownload;
  }

  set lastDownload(value) {
    if (value != this._lastDownload) {
      let oldValue = this._lastDownload;
      this._lastDownload = value;
      filterNotifier.emit("subscription.lastDownload", this, value, oldValue);
    }
  }

  /**
   * Serializes the subscription for writing out on disk.
   * @yields {string}
   * @package
   */
  *serialize() {
    let {_homepage, _lastDownload} = this;

    yield* super.serialize();

    // To keep compatibility downloadable is true if missing
    if (!this.downloadable) {
      yield "downloadable=false";
    }
    if (_homepage) {
      yield "homepage=" + _homepage;
    }
    if (_lastDownload) {
      yield "lastDownload=" + _lastDownload;
    }
  }
};

/**
 * Once initialized, the shared Synchronizer singleton will be stored in here.
 * @type {module:synchronizer.Synchronizer}
 */
let synchronizer = null;

let CountableSubscription =
/**
 * The `CountableSubscription` class represents a regular filter
 * subscription which will indicate it to the remote `url` it is in
 * use by issuing a `HEAD` http request instead of a `GET`.
 *
 * However it will have its property `downloadable` still set to
 * `false`.
 *
 * @extends module:subscriptionClasses.RegularSubscription
 */
exports.CountableSubscription =
class CountableSubscription extends RegularSubscription {
  /**
   * Allows downloadable subscriptions to update themselves once re-enabled,
   * via receiving the Synchronizer singleton.
   * @param {module:synchronizer~Synchronizer} reference the Synchronizer
   */
  static useSynchronizer(reference) {
    synchronizer = reference;
  }

  /**
   * Creates a `CountableSubscription` object.
   *
   * @param {string} url The URL of the subscription.
   * @param {string} [title] The title of the subscription.
   * @param {?object} [params] The params to pass to
   *    `{@link Subscription.setParams}`. Can be omitted or `null`.
   * @private
   */
  constructor(url, title, params) {
    super(url, title);

    if (params) {
      this.setParams(params);
    }

    /**
     * The status of the last download.
     * @type {?string}
     * @default <code>null</code>
     * @private
     * @see module:subscriptionClasses.CountableSubscription#downloadStatus
     */
    this._downloadStatus = null;

    /**
     * The last time the subscription was considered for an update, in seconds
     * since the beginning of the Unix epoch.
     * @type {number}
     * @default <code>0</code>
     * @private
     * @see module:subscriptionClasses.CountableSubscription#lastCheck
     */
    this._lastCheck = 0;

    /**
     * The number of download failures since the last successful download.
     * @type {number}
     * @default <code>0</code>
     * @private
     * @see module:subscriptionClasses.CountableSubscription#errors
     */
    this._errors = 0;

    /**
     * The last time the subscription was successfully downloaded, in seconds
     * since the beginning of the Unix epoch.
     * @type {number}
     * @default <code>0</code>
     */
    this.lastSuccess = 0;

    /**
     * The hard expiration time of the subscription, in seconds since the
     * beginning of the Unix epoch.
     *
     * Updates should be downloaded if `{@link
     * module:subscriptionClasses.CountableSubscription#softExpiration}`
     * or `expires` are in the past.
     * @type {number}
     * @default <code>0</code>
     */
    this.expires = 0;

    /**
     * The soft expiration time of the subscription, in seconds since the
     * beginning of the Unix epoch.
     *
     * Updates should be downloaded if `softExpiration` or
     * `{@link module:subscriptionClasses.CountableSubscription#expires}`
     * are in the past.
     * @type {number}
     * @default <code>0</code>
     */
    this.softExpiration = 0;

    /**
     * The version of the subscription data that was retrieved on last
     * successful download.
     * @type {number}
     * @default <code>0</code>
     */
    this.version = 0;

    /**
     * The minimal Adblock Plus version required for the subscription.
     * @type {?string}
     * @default <code>null</code>
     */
    this.requiredVersion = null;

    /**
     * The number of times the subscription has been downloaded.
     * @type {number}
     * @default <code>0</code>
     */
    this.downloadCount = 0;
  }

  /**
   * Whether this is a countable subscription, i.e. a subscription that
   * will connect to the URL. A downloadable subscription is countable,
   * but not the other way around.
   *
   * @type {boolean}
   * @default <code>true</code>
   */
  get countable() {
    return true;
  }

  get hasBundledFilters() {
    return true;
  }

  /**
   * Whether the subscription is disabled. Once re-enabled, it ensures the
   * synchronizer downloads latest version of this subscription.
   * @type {boolean}
   * @default <code>false</code>
   */
  get disabled() {
    return super.disabled;
  }

  set disabled(value) {
    let {_disabled} = this;
    super.disabled = value;
    if (synchronizer && _disabled && !value) {
      synchronizer.execute(this);
    }
  }

  /**
   * The status of the last download.
   *
   * A message ID which can have the following values:
   * - `synchronize_ok` - The subscription is perfectly fine.
   * - `synchronize_connection_error` - An error has occurred when trying to
   *    download the subscription.
   * - `synchronize_invalid_url` - The subscription URL is invalid.
   * - `synchronize_too_many_filters` - A custom user subscription cannot
   *    update because there aren't enough dynamic rules available.
   * - `synchronize_dnr_error` - Downloading succeeded but, an error occurred
   *    while updating the custom subscription.
   * - `synchronize_diff_too_many_filters` - A diff updatable subscription
   *    cannot update because there aren't enough dynamic rules available.
   * - `synchronize_diff_error` - Downloading succeeded but, an error occurred
   *    while updating the diff updatable subscription.
   *
   * If the initial download is not completed yet, then it is null.
   *
   * @type {?string}
   * @default <code>null</code>
   */
  get downloadStatus() {
    return this._downloadStatus;
  }

  set downloadStatus(value) {
    let oldValue = this._downloadStatus;
    this._downloadStatus = value;
    filterNotifier.emit("subscription.downloadStatus", this, value, oldValue);
  }

  /**
   * The last time the subscription was considered for an update, in seconds
   * since the beginning of the Unix epoch.
   *
   * This is used to increase the soft expiration time if the user doesn't use
   * Adblock Plus for some time.
   *
   * @type {number}
   * @default <code>0</code>
   */
  get lastCheck() {
    return this._lastCheck;
  }

  set lastCheck(value) {
    if (value != this._lastCheck) {
      let oldValue = this._lastCheck;
      this._lastCheck = value;
      filterNotifier.emit("subscription.lastCheck", this, value, oldValue);
    }
  }

  /**
   * The number of download failures since the last successful download.
   * @type {number}
   * @default <code>0</code>
   */
  get errors() {
    return this._errors;
  }

  set errors(value) {
    if (value != this._errors) {
      let oldValue = this._errors;
      this._errors = value;
      filterNotifier.emit("subscription.errors", this, value, oldValue);
    }
  }

  /**
   * Serializes the subscription for writing out on disk.
   * @yields {string}
   * @package
   */
  *serialize() {
    let {downloadStatus, lastSuccess, lastCheck, expires,
         softExpiration, errors, version, requiredVersion,
         downloadCount} = this;

    yield* super.serialize();

    if (downloadStatus) {
      yield "downloadStatus=" + downloadStatus;
    }
    if (lastSuccess) {
      yield "lastSuccess=" + lastSuccess;
    }
    if (lastCheck) {
      yield "lastCheck=" + lastCheck;
    }
    if (expires) {
      yield "expires=" + expires;
    }
    if (softExpiration) {
      yield "softExpiration=" + softExpiration;
    }
    if (errors) {
      yield "errors=" + errors;
    }
    if (version) {
      yield "version=" + version;
    }
    if (requiredVersion) {
      yield "requiredVersion=" + requiredVersion;
    }
    if (downloadCount) {
      yield "downloadCount=" + downloadCount;
    }
  }
};

let FullUpdatableSubscription =
/**
 * The `FullUpdatableSubscription` class represents a regular filter
 * subscription whose content (filter text) is downloaded from a filter list
 * off the internet from `url` with a full update.
 *
 * It will have its property `downloadable` set to `true`.
 *
 * @extends module:subscriptionClasses.CountableSubscription
 */
exports.FullUpdatableSubscription =
class FullUpdatableSubscription extends CountableSubscription {
  /** Construct a new FullUpdatableSubscription
   *
   * @param {string} url The URL of the subscription.
   * @param {string} [title] The title of the subscription.
   *
   * @private
   */
  constructor(url, title) {
    super(url, title);
  }

  /**
   * Whether the subscription is downloadable.
   * @type {boolean}
   * @default <code>true</code>
   */
  get downloadable() {
    return true;
  }

  get hasBundledFilters() {
    return false;
  }
};

let DiffUpdatableSubscription =
/**
 * The `DiffUpdatableSubscription` class represents a regular filter
 * subscription whose content (filter text) is downloaded from a filter list
 * off the internet from `url`. The key difference between this and a
 * `{@link CountableSubscription}` is that this class has a diffurl
 * from where updates will be handled
 *
 * It will have its `downloadable` property set to `false`.
 *
 * @extends module:subscriptionClasses.CountableSubscription
 */
exports.DiffUpdatableSubscription =
class DiffUpdatableSubscription extends CountableSubscription {
  /**
   * Construct a new DiffUpdatableSubscription
   * @param {string} url The URL of the subscription.
   * @param {string} [title] The title of the subscription.
   * @param {?object} [params] The params to pass to
   *    `{@link Subscription.setParams}`. Can be omitted or `null`.
   * @private
   */
  constructor(url, title, params) {
    super(url, title);

    if (params) {
      this.setParams(params);
    }
  }

  /**
   * Serializes the subscription for writing out on disk.
   * @yields {string}
   * @package
   */
  *serialize() {
    let {diffURL, lastModified} = this;

    yield* super.serialize();

    if (diffURL) {
      yield "diffURL=" + diffURL;
    }

    if (lastModified) {
      yield "lastModified=" + lastModified;
    }
  }

  /**
   * Updatable subscriptions should not be downloadable as they will rather
   * support getting diffs from a diffURL.
   *
   * @type {boolean}
   * @default <code>true</code>
   */
  get downloadable() {
    return false;
  }

  /**
   * The location where this subscription's content is downloaded from.
   *
   * @type {String}
   */
  get diffURL() {
    return this._diffURL;
  }

  set diffURL(value) {
    let oldValue = this._diffURL;
    this._diffURL = value;
    filterNotifier.emit("subscription.diffURL", this, value, oldValue);
  }

  /**
   * The release date of this subscription, used as base date to calculate the
   * diffs.
   *
   * @type {Date}
   */
  get lastModified() {
    return this._lastModified;
  }

  set lastModified(value) {
    let oldValue = this._lastModified;
    this._lastModified = value;
    filterNotifier.emit("subscription.lastModified", this, value, oldValue);
  }
};


/***/ }),

/***/ "./core/lib/synchronizer.js":
/*!**********************************!*\
  !*** ./core/lib/synchronizer.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * @file Manages synchronization of filter subscriptions.
 */

const {Prefs} = __webpack_require__(/*! prefs */ "./sdk/api/prefs.js");

const {MILLIS_IN_SECOND, MILLIS_IN_MINUTE, MILLIS_IN_HOUR,
       MILLIS_IN_DAY} = __webpack_require__(/*! ./time */ "./core/lib/time.js");
const {Downloader, Downloadable} = __webpack_require__(/*! ./downloader */ "./core/lib/downloader.js");
const {Filter} = __webpack_require__(/*! ./filterClasses */ "./core/lib/filterClasses.js");
const {filterNotifier} = __webpack_require__(/*! ./filterNotifier */ "./core/lib/filterNotifier.js");
const {Subscription,
       CountableSubscription} = __webpack_require__(/*! ./subscriptionClasses */ "./core/lib/subscriptionClasses.js");
const {analytics} = __webpack_require__(/*! ./analytics */ "./core/lib/analytics.js");
const {parseFilterList} = __webpack_require__(/*! ./filters/lists.js */ "./core/lib/filters/lists.js");
const {recommendations} = __webpack_require__(/*! ./recommendations */ "./core/lib/recommendations.js");

const INITIAL_DELAY = 1 * MILLIS_IN_MINUTE;
const CHECK_INTERVAL = 1 * MILLIS_IN_HOUR;
const DEFAULT_EXPIRATION_INTERVAL = 5 * MILLIS_IN_DAY;

let getPreferredMillis = (field, fallback) =>
                          field in Prefs ? Prefs[field] : fallback;

/**
 * Downloads filter subscriptions whenever necessary.
 */
class Synchronizer {
  /**
   * Construct a new synchronizer.
   * @param {FilterStorage} [filterStorage] The associated filter storage.
   */
  constructor(filterStorage) {
    if (filterStorage == null || typeof filterStorage != "object") {
      throw Error("filterStorage must be a valid object");
    }

    /**
     * Whether the downloading of subscriptions has been started.
     * @private
     */
    this._started = false;

    /**
     * The object providing actual downloading functionality.
     * @type {module:downloader.Downloader}
     */
    this._downloader = new Downloader(this._getDownloadables.bind(this));

    this._downloader.onExpirationChange = this._onExpirationChange.bind(this);
    this._downloader.onDownloadStarted = this._onDownloadStarted.bind(this);
    this._downloader.onDownloadSuccess = this._onDownloadSuccess.bind(this);
    this._downloader.onDownloadError = this._onDownloadError.bind(this);

    this._filterStorage = filterStorage;

    // allow subscription to update themselves once re-enabled if needed.
    CountableSubscription.useSynchronizer(this);
  }

  /**
   * Starts downloading subscriptions.
   *
   * No subscriptions are downloaded until this function has been called at
   * least once.
   */
  start() {
    if (this._started) {
      return;
    }

    this._downloader.scheduleChecks(
      getPreferredMillis("subscriptions_check_interval", CHECK_INTERVAL),
      getPreferredMillis("subscriptions_initial_delay", INITIAL_DELAY)
    );
    this._started = true;
  }

  /**
   * Clear any further downloader scheduled check and set its internal state
   * as not started.
   */
  stop() {
    this._started = false;
    this._downloader.unscheduleChecks();
  }

  /**
   * Checks whether a subscription is currently being downloaded.
   * @param {string} url  URL of the subscription
   * @returns {boolean}
   */
  isExecuting(url) {
    return this._downloader.isDownloading(url);
  }

  /**
   * Starts the download of a subscription if it is downloadable.
   *
   * @param {module:subscriptionClasses.CountableSubscription} subscription
   *   Subscription to be downloaded
   * @param {boolean} manual
   *   `true` for a manually started download (should not trigger fallback
   *   requests)
   */
  execute(subscription, manual) {
    this._downloader.download(this._getDownloadable(subscription, manual));
  }

  /**
   * Yields `{@link module:downloader.Downloadable Downloadable}` instances for
   * all subscriptions that can be downloaded.
   * @yields {module:downloader.Downloadable}
   */
  *_getDownloadables() {
    if (!Prefs.subscriptions_autoupdate) {
      return;
    }

    for (let subscription of this._filterStorage.subscriptions()) {
      if (subscription instanceof CountableSubscription) {
        yield this._getDownloadable(subscription, false);
      }
    }
  }

  /**
   * Creates a `{@link module:downloader.Downloadable Downloadable}` instance
   * for a subscription.
   * @param {module:subscriptionClasses.Subscription} subscription
   * @param {boolean} manual
   * @returns {module:downloader.Downloadable}
   */
  _getDownloadable(subscription, manual) {
    let {url, lastDownload, lastSuccess, lastCheck, version, softExpiration,
         expires, downloadCount, disabled, downloadable,
         countable, diffURL, lastModified} = subscription;

    let result;

    // If this is a DiffUpdatable subscription, use the diff URL and set the
    // original URL. We need to set this original URL or it will not be
    // available in the download success callback.
    if (diffURL) {
      result = new Downloadable(diffURL);
      result.originalUrl = url;
    }
    else {
      result = new Downloadable(url);
    }

    if (analytics.isTrusted(url)) {
      result.firstVersion = analytics.getFirstVersion();
    }

    if (lastDownload != lastSuccess) {
      result.lastError = lastDownload * MILLIS_IN_SECOND;
    }

    result.lastCheck = lastCheck * MILLIS_IN_SECOND;
    result.lastVersion = version;
    result.softExpiration = softExpiration * MILLIS_IN_SECOND;
    result.hardExpiration = expires * MILLIS_IN_SECOND;
    result.manual = manual;
    result.downloadCount = downloadCount;
    result.disabled = disabled;
    result.lastModified = lastModified;
    if (!diffURL && (disabled || (countable && !downloadable))) {
      result.method = "HEAD";
    }

    return result;
  }

  _onExpirationChange(downloadable) {
    let subscription = Subscription.fromURL(
      downloadable.originalUrl || downloadable.url);
    subscription.lastCheck = Math.round(
      downloadable.lastCheck / MILLIS_IN_SECOND
    );
    subscription.softExpiration = Math.round(
      downloadable.softExpiration / MILLIS_IN_SECOND
    );
    subscription.expires = Math.round(
      downloadable.hardExpiration / MILLIS_IN_SECOND
    );
  }

  _onDownloadStarted(downloadable) {
    let subscription = Subscription.fromURL(
      downloadable.originalUrl || downloadable.url);
    filterNotifier.emit("subscription.downloading", subscription);
  }

  _onDownloadSuccess(downloadable, responseText, errorCallback,
                     redirectCallback) {
    // if it has originalUrl, it means that it's a diffUpdatable subscription
    let isDiffUpdatable = (downloadable.originalUrl != null);

    let subscription = Subscription.fromURL(downloadable.redirectURL ||
      (isDiffUpdatable ? downloadable.originalUrl : downloadable.url));
    filterNotifier.emit("subscription.downloading", subscription);

    let isHEAD = downloadable.method === "HEAD";

    let {error, lines, params,
         minVersion} = isHEAD || isDiffUpdatable ?
           {params: {}} : parseFilterList(responseText);

    if (error) {
      return errorCallback(error);
    }

    if (params.redirect) {
      return redirectCallback(params.redirect);
    }

    // Handle redirects
    if (downloadable.redirectURL &&
        downloadable.redirectURL != downloadable.url) {
      let oldSubscription = Subscription.fromURL(
        downloadable.originalUrl || downloadable.url);
      subscription.title = oldSubscription.title;
      subscription.disabled = oldSubscription.disabled;
      subscription.lastCheck = oldSubscription.lastCheck;

      let listed = this._filterStorage.hasSubscription(oldSubscription);
      if (listed) {
        this._filterStorage.removeSubscription(oldSubscription);
      }

      Subscription.knownSubscriptions.delete(oldSubscription.url);

      if (listed) {
        this._filterStorage.addSubscription(subscription);
      }
    }

    // The download actually succeeded
    subscription.lastSuccess = subscription.lastDownload = Math.round(
      Date.now() / MILLIS_IN_SECOND
    );
    subscription.downloadStatus = "synchronize_ok";
    subscription.downloadCount = downloadable.downloadCount;
    subscription.errors = 0;

    // Process parameters
    if (params.homepage) {
      let url;
      try {
        url = new URL(params.homepage);
      }
      catch (e) {
        url = null;
      }

      if (url && (url.protocol == "http:" || url.protocol == "https:")) {
        subscription.homepage = url.href;
      }
    }

    if (params.title) {
      subscription.title = params.title;
      subscription.fixedTitle = true;
    }
    else {
      subscription.fixedTitle = false;
    }

    if (params.version) {
      subscription.version = parseInt(params.version, 10);
    }
    else {
      subscription.version = isHEAD || isDiffUpdatable ?
        downloadable.lastVersion : 0;
    }

    if ((params.version || isDiffUpdatable) &&
        analytics.isTrusted(downloadable.redirectURL || downloadable.url)) {
      analytics.recordVersion(subscription.version.toString());
    }

    if (subscription.type) {
      subscription.abtest = params.abtest;
    }

    let headExpInterval = getPreferredMillis(
      "subscriptions_head_expiration_interval",
      MILLIS_IN_DAY
    );

    let defaultExpInterval = getPreferredMillis(
      "subscriptions_default_expiration_interval",
      DEFAULT_EXPIRATION_INTERVAL
    );

    let expirationInterval = isHEAD ? headExpInterval : defaultExpInterval;

    if (isDiffUpdatable) {
      params.expires =
        [...recommendations()].find(
          recommendation => recommendation.url === downloadable.originalUrl
        ).expires;
    }
    if (params.expires) {
      let match = /^(\d+)\s*(h)?/.exec(params.expires);
      if (match) {
        let interval = parseInt(match[1], 10);
        if (match[2]) {
          expirationInterval = interval * MILLIS_IN_HOUR;
        }
        else {
          expirationInterval = interval * MILLIS_IN_DAY;
        }
      }
    }

    let [
      softExpiration,
      hardExpiration
    ] = this._downloader.processExpirationInterval(expirationInterval);
    subscription.softExpiration = Math.round(softExpiration / MILLIS_IN_SECOND);
    subscription.expires = Math.round(hardExpiration / MILLIS_IN_SECOND);

    if (minVersion) {
      subscription.requiredVersion = minVersion;
    }
    else {
      delete subscription.requiredVersion;
    }

    // In case of HEAD request (disabled subscription) notify an update so that
    // the last version of the subscription will be stored for the next time.
    if (isHEAD) {
      filterNotifier.emit("subscription.updated", subscription);
    }
    else if (isDiffUpdatable) {
      const responseObject = JSON.parse(responseText);
      const added = responseObject.filters.add;
      const removed = responseObject.filters.remove;

      filterNotifier.emit("subscription.diffReceived", subscription, {added, removed});
    }
    else if (Subscription.dnr) {
      filterNotifier.emit("subscription.fullUpdateReceived", subscription, lines);
    }
    else {
      this._processFilters(subscription, lines);
    }
  }

  _onDownloadError(downloadable, downloadURL, error, responseStatus,
                   redirectCallback) {
    let subscription = Subscription.fromURL(
      downloadable.originalUrl || downloadable.url);
    subscription.lastDownload = Math.round(Date.now() / MILLIS_IN_SECOND);
    subscription.downloadStatus = error;
    filterNotifier.emit("subscription.downloading", subscription);

    // Request fallback URL if necessary - for automatic updates only
    if (!downloadable.manual) {
      subscription.errors++;

      if (redirectCallback &&
          subscription.errors >= Prefs.subscriptions_fallbackerrors &&
          /^https?:\/\//i.test(subscription.url)) {
        subscription.errors = 0;

        let fallbackURL = Prefs.subscriptions_fallbackurl;
        const {addonVersion} = __webpack_require__(/*! info */ "./sdk/api/info.js");
        fallbackURL = fallbackURL.replace(/%VERSION%/g,
                                          encodeURIComponent(addonVersion));
        fallbackURL = fallbackURL.replace(/%SUBSCRIPTION%/g,
                                          encodeURIComponent(subscription.url));
        fallbackURL = fallbackURL.replace(/%URL%/g,
                                          encodeURIComponent(downloadURL));
        fallbackURL = fallbackURL.replace(/%ERROR%/g,
                                          encodeURIComponent(error));
        fallbackURL = fallbackURL.replace(/%RESPONSESTATUS%/g,
                                          encodeURIComponent(responseStatus));

        let initObj = {
          cache: "no-store",
          credentials: "omit",
          referrer: "no-referrer",
          method: downloadable.method
        };

        fetch(fallbackURL, initObj).then(response => response.text())
          .then(responseText => {
            if (!this._filterStorage.hasSubscription(subscription)) {
              return;
            }

            let match = /^(\d+)(?:\s+(\S+))?$/.exec(responseText);
            if (match && match[1] == "301" &&    // Moved permanently
              match[2] && /^https?:\/\//i.test(match[2])) {
              redirectCallback(match[2]);
            }
            // Gone
            else if (match && match[1] == "410") {
              let data = "[Adblock]\n" +
              [...subscription.filterText()].join("\n");
              redirectCallback("data:text/plain," + encodeURIComponent(data));
            }
          });
      }
    }
  }

  /**
   * Given a valid subscription and some text, it parses all filters and add
   * these in bulk to the specified subscription.
   * @param {module:subscriptionClasses.Subscription} subscription The
   *  Subscription to use as reference for manually added filters.
   * @param {string} filters The filters file/text to add.
   * @param {function} errorCallback A callback invoked if errors occur.
   */
  addSubscriptionFilters(
    subscription, filters, errorCallback
  ) {
    let {error, lines} = parseFilterList(filters);
    if (error) {
      errorCallback(error);
    }
    else {
      this._processFilters(subscription, lines);
    }
  }

  /**
   * Given a list of parsed filters, normalize each line and update the
   * subscription.
   * @private
   * @param {module:subscriptionClasses.Subscription} subscription The
   *  Subscription to use as reference for manually added filters.
   * @param {string[]} lines The parsed filters lines. The first line
   will be skipped over as it is supposed to contain the header.
  */
  _processFilters(subscription, lines) {
    lines.shift();
    let filterText = [];
    for (let line of lines) {
      line = Filter.normalize(line);
      if (line) {
        filterText.push(line);
      }
    }

    this._filterStorage.updateSubscriptionFilters(subscription, filterText);
  }
}

exports.Synchronizer = Synchronizer;


/***/ }),

/***/ "./core/lib/time.js":
/*!**************************!*\
  !*** ./core/lib/time.js ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



/**
 * Number of milliseconds in a second.
 * @const {number}
 * @default 1000
 * @package
 */
exports.MILLIS_IN_SECOND = 1000;

/**
 * Number of milliseconds in a minute.
 * @const {number}
 * @default 60000
 * @package
 */
exports.MILLIS_IN_MINUTE = 60000;

/**
 * Number of milliseconds in an hour.
 * @const {number}
 * @default 3600000
 * @package
 */
exports.MILLIS_IN_HOUR = 3600000;

/**
 * Number of milliseconds in a day.
 * @const {number}
 * @default 86400000
 * @package
 */
exports.MILLIS_IN_DAY = 86400000;

/**
 * Number of minutes in an hour.
 * @const {number}
 * @default 60
 * @package
 */
exports.MINUTES_IN_HOUR = 60;

/**
 * Number of minutes in a day.
 * @const {number}
 * @default 1440
 * @package
 */
exports.MINUTES_IN_DAY = 1440;


/***/ }),

/***/ "./core/lib/url.js":
/*!*************************!*\
  !*** ./core/lib/url.js ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



const {Cache} = __webpack_require__(/*! ./caching */ "./core/lib/caching.js");

const {icannPublicSuffixes} = __webpack_require__(/*! ../data/icannPublicSuffixList.js */ "./core/data/icannPublicSuffixList.js");
const {nonIcannPublicSuffixes} = __webpack_require__(/*! ../data/nonIcannPublicSuffixList.js */ "./core/data/nonIcannPublicSuffixList.js");

// ensure no conflict ever happens with inherited properties
Object.setPrototypeOf(icannPublicSuffixes, null);
Object.setPrototypeOf(nonIcannPublicSuffixes, null);

/**
 * Cache of domain maps.
 *
 * The domains part of filter text (e.g. `example.com,~mail.example.com`) is
 * often repeated across filters. This cache enables deduplication of the
 * `Map` objects that specify on which domains the filter does and does not
 * apply, which reduces memory usage and improves performance.
 *
 * @type {Map.<string, Map.<string, boolean>>}
 */
let domainsCache = new Cache(1000);

/**
 * A `URLInfo` object represents information about a URL.
 *
 * It is returned by `{@link module:url.parseURL parseURL()}`.
 */
class URLInfo {
  /**
   * Creates a `URLInfo` object.
   *
   * @param {string} href The entire URL.
   * @param {string} protocol The protocol scheme of the URL, including the
   *   final `:`.
   * @param {string} [hostname] The hostname of the URL.
   *
   * @private
   */
  constructor(href, protocol, hostname = "") {
    this._href = href;
    this._protocol = protocol;
    this._hostname = hostname;
  }

  /**
   * The entire URL.
   * @type {string}
   */
  get href() {
    return this._href;
  }

  /**
   * The protocol scheme of the URL, including the final `:`.
   * @type {string}
   */
  get protocol() {
    return this._protocol;
  }

  /**
   * The hostname of the URL.
   * @type {string}
   */
  get hostname() {
    return this._hostname;
  }

  /**
   * Returns the entire URL.
   * @returns {string} The entire URL.
   */
  toString() {
    return this._href;
  }
}

let parseURL =
/**
 * Parses a URL to extract the protocol and the hostname.
 *
 * __This is a lightweight alternative to the native `URL` object intended for
 * use primarily within Adblock Plus. Unlike the `URL` object, the `parseURL()`
 * function is not robust and will give incorrect results for invalid URLs. Use
 * this function with valid,
 * [normalized](https://url.spec.whatwg.org/#concept-basic-url-parser),
 * properly encoded (IDNA, etc.) URLs only.__
 *
 * @param {string} url The URL.
 *
 * @returns {module:url~URLInfo} Information about the URL.
 *
 * @public
 */
exports.parseURL = function parseURL(url) {
  let match = /^([^:]+:)(?:\/\/(?:[^/]*@)?(\[[^\]]*\]|[^:/]+))?/.exec(url);

  if (!match) {
    throw new Error(`Failed to parse invalid URL "${url}"`);
  }

  return new URLInfo(url, match[1], match[2]);
};

let domainSuffixes =
/**
 * Yields all suffixes for a domain.
 *
 * For example, given the domain `www.example.com`, this function yields
 * `www.example.com`, `example.com`, and `com`, in that order.
 *
 * If the domain ends with a dot, the dot is ignored.
 *
 * @param {string} domain The domain.
 * @param {boolean} [includeBlank] Whether to include the blank suffix at the
 *   end.
 *
 * @generator
 * @yields {string} The next suffix for the domain.
 *
 * @package
 */
exports.domainSuffixes = function* domainSuffixes(
  domain, includeBlank = false
) {
  // Since any IP address is already expected to be normalized, there's no need
  // to validate it.
  if (isIPAddress(domain)) {
    yield domain;
  }
  else {
    if (domain[domain.length - 1] == ".") {
      domain = domain.substring(0, domain.length - 1);
    }

    while (domain != "") {
      yield domain;

      let dotIndex = domain.indexOf(".");
      domain = dotIndex == -1 ? "" : domain.substr(dotIndex + 1);
    }
  }

  if (includeBlank) {
    yield "";
  }
};

/**
 * Checks whether the given hostname refers to
 * {@link https://en.wikipedia.org/wiki/Localhost localhost}.
 *
 * If the hostname is `localhost`, `127.0.0.1`, or `[::1]`, the function
 * returns `true`; otherwise, it returns `false`.
 *
 * @param {string} hostname The hostname.
 *
 * @returns {boolean} Whether the hostname refers to localhost.
 *
 * @package
 */
exports.isLocalhost = function isLocalhost(hostname) {
  return hostname == "localhost" || hostname == "127.0.0.1" ||
         hostname == "[::1]";
};

/**
 * Checks whether the given hostname is an IP address.
 *
 * Unlike `{@link module:url~isValidIPv4Address isValidIPv4Address()}`, this
 * function only checks whether the hostname _looks like_ an IP address. Use
 * this function with valid, normalized, properly encoded (IDNA) hostnames
 * only.
 *
 * @param {string} hostname An IDNA-encoded hostname.
 *
 * @returns {boolean} Whether the hostname is an IP address.
 */
function isIPAddress(hostname) {
  // Does it look like an IPv6 address?
  if (hostname[0] == "[" && hostname[hostname.length - 1] == "]") {
    return true;
  }

  // Note: The first condition helps us avoid the more expensive regular
  // expression match for most hostnames.
  return hostname[hostname.length - 1] >= 0 &&
         /^\d+\.\d+\.\d+\.\d+$/.test(hostname);
}

/**
 * Checks whether a given address is a valid IPv4 address.
 *
 * Only a normalized IPv4 address is considered valid. e.g. `0x7f.0x0.0x0.0x1`
 * is invalid, whereas `127.0.0.1` is valid.
 *
 * @param {string} address The address to check.
 *
 * @returns {boolean} Whether the address is a valid IPv4 address.
 */
function isValidIPv4Address(address) {
  return /^(((2[0-4]|1[0-9]|[1-9])?[0-9]|25[0-5])\.){4}$/.test(address + ".");
}

/**
 * Checks whether a given hostname is valid.
 *
 * This function is used for filter validation.
 *
 * A hostname occurring in a filter must be normalized. For example,
 * <code>&#x1f642;</code> (slightly smiling face) should be normalized to
 * `xn--938h`; otherwise this function returns `false` for such a hostname.
 * Similarly, IP addresses should be normalized.
 *
 * @param {string} hostname The hostname to check.
 *
 * @returns {boolean} Whether the hostname is valid.
 */
exports.isValidHostname = function isValidHostname(hostname) {
  if (isValidIPv4Address(hostname)) {
    return true;
  }

  // This does not in fact validate the IPv6 address but it's alright for now.
  if (hostname[0] == "[" && hostname[hostname.length - 1] == "]") {
    return true;
  }

  // Based on
  // https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_hostnames
  if (hostname[hostname.length - 1] == ".") {
    hostname = hostname.substring(0, hostname.length - 1);
  }

  if (hostname.length > 253) {
    return false;
  }

  let labels = hostname.split(".");
  for (let [index, label] of labels.entries()) {
    // Wildcards support
    if (label == "*" && index == (labels.length - 1)) {
      return true;
    }
    if (!/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(label)) {
      return false;
    }
  }

  // Based on https://tools.ietf.org/html/rfc3696#section-2
  if (!/\D/.test(labels[labels.length - 1])) {
    return false;
  }

  return true;
};

let getBaseDomain =
/**
 * Gets the base domain for the given hostname.
 *
 * @param {string} hostname
 *
 * @returns {string}
 *
 * @package
 */
exports.getBaseDomain = function getBaseDomain(hostname) {
  let slices = [];
  let cutoff = NaN;

  for (let suffix of domainSuffixes(hostname)) {
    slices.push(suffix);

    let offset = icannPublicSuffixes[suffix];
    if (!(typeof offset == "number")) {
      offset = nonIcannPublicSuffixes[suffix];
    }

    if (typeof offset == "number") {
      cutoff = slices.length - 1 - offset;
      break;
    }
  }

  if (isNaN(cutoff)) {
    return slices.length > 2 ? slices[slices.length - 2] : hostname;
  }

  if (cutoff <= 0) {
    return hostname;
  }

  return slices[cutoff];
};

/**
 * Checks whether a request's origin is different from its document's origin.
 *
 * @param {string} requestHostname The IDNA-encoded hostname of the request.
 * @param {string} documentHostname The IDNA-encoded hostname of the document.
 *
 * @returns {boolean}
 */
function isThirdParty(requestHostname, documentHostname) {
  if (requestHostname[requestHostname.length - 1] == ".") {
    requestHostname = requestHostname.substring(0, requestHostname.length - 1);
  }

  if (documentHostname[documentHostname.length - 1] == ".") {
    documentHostname =
      documentHostname.substring(0, documentHostname.length - 1);
  }

  if (requestHostname == documentHostname) {
    return false;
  }

  if (!requestHostname || !documentHostname) {
    return true;
  }

  if (isIPAddress(requestHostname) || isIPAddress(documentHostname)) {
    return true;
  }

  return getBaseDomain(requestHostname) != getBaseDomain(documentHostname);
}

let URLRequest =
/**
 * The `URLRequest` class represents a URL request.
 */
exports.URLRequest = class URLRequest {
  /**
   * @private
   */
  constructor() {}

  /**
   * The URL of the request.
   * @type {string}
   */
  get href() {
    return this._href;
  }

  /**
   * Information about the URL of the request.
   * @type {module:url~URLInfo}
   * @package
   */
  get urlInfo() {
    if (!this._urlInfo) {
      this._urlInfo = parseURL(this._href);
    }

    return this._urlInfo;
  }

  /**
   * The hostname of the document making the request.
   * @type {?string}
   */
  get documentHostname() {
    return this._documentHostname == null ? null : this._documentHostname;
  }

  /**
   * Whether this is a third-party request.
   * @type {boolean}
   */
  get thirdParty() {
    if (typeof this._thirdParty == "undefined") {
      this._thirdParty = this._documentHostname == null ? false :
        isThirdParty(this.urlInfo.hostname,
          this._documentHostname);
    }

    return this._thirdParty;
  }

  /**
   * Returns the URL of the request.
   * @returns {string}
   */
  toString() {
    return this._href;
  }

  /**
   * The lower-case version of the URL of the request.
   * @type {string}
   * @package
   */
  get lowerCaseHref() {
    if (this._lowerCaseHref == null) {
      this._lowerCaseHref = this._href.toLowerCase();
    }

    return this._lowerCaseHref;
  }
};

/**
 * Returns a `{@link module:url.URLRequest URLRequest}` object for the given
 * URL.
 *
 * @param {string|module:url~URLInfo|URL} url The URL. If this is a `string`,
 *   it must be a canonicalized URL (see
 *   `{@link module:url.parseURL parseURL()}`).
 * @param {?string} [documentHostname] The IDNA-encoded hostname of the
 *   document making the request.
 *
 * @returns {module:url.URLRequest}
 */
exports.URLRequest.from = function(url, documentHostname = null) {
  let request = new URLRequest();

  if (typeof url == "string") {
    request._href = url;
  }
  else {
    request._urlInfo = url instanceof URLInfo ? url :
      new URLInfo(url.href, url.protocol, url.hostname);
    request._href = url.href;
  }

  if (documentHostname != null) {
    request._documentHostname = documentHostname;
  }

  return request;
};

/**
 * Parses the domains part of a filter text
 * (e.g. `example.com,~mail.example.com`) into a `Map` object.
 *
 * @param {string} source The domains part of a filter text.
 * @param {string} separator The string used to separate two or more domains in
 *   the domains part of a filter text.
 *
 * @returns {?Map.<string, boolean>}
 *
 * @package
 */
exports.parseDomains = function parseDomains(source, separator) {
  let domains = domainsCache.get(source);
  if (typeof domains != "undefined") {
    return domains;
  }

  if (source[0] != "~" && !source.includes(separator)) {
    // Fast track for the common one-domain scenario.
    domains = new Map([["", false], [source, true]]);
  }
  else {
    domains = null;

    let hasIncludes = false;
    for (let domain of source.split(separator)) {
      if (domain == "") {
        continue;
      }

      let include;
      if (domain[0] == "~") {
        include = false;
        domain = domain.substring(1);
      }
      else {
        include = true;
        hasIncludes = true;
      }

      if (!domains) {
        domains = new Map();
      }

      domains.set(domain, include);
    }

    if (domains) {
      domains.set("", !hasIncludes);
    }
  }

  domainsCache.set(source, domains);

  return domains;
};

exports.hasWildcard = function hasWildcard(string) {
  return string.includes(".*");
};

/**
 * Checks whether domain URL matches wildcards mask.
 * Note: PSL is taken into account (base domain is checked actually).
 * @param {string} domain domain to check (assuming it's lower-cased)
 * @param {string} domainWithWildcards domain mask (assuming it's lower-cased)
 * @returns {boolean} `true` if domain matches the mask
 */
exports.matchesWildcards = function matchesWildcards(
  domain, domainWithWildcards) {
  // cut off the wildcard. Luckily we know exactly where it is already.
  let expectedPrefix = domainWithWildcards.slice(0, -1);

  // cut off the port if specified
  let portMatch = /^.+(:\d+)$/.exec(domain);
  if (portMatch && portMatch.length > 1) {
    domain = domain.slice(0, -portMatch[1].length);
  }

  for (let suffix of domainSuffixes(domain)) {
    if (!suffix.startsWith(expectedPrefix)) {
      continue;
    }
    let expectedTld = suffix.slice(expectedPrefix.length);
    if (typeof icannPublicSuffixes[expectedTld] == "number") {
      return true;
    }
  }

  return false;
};

exports.isValidDomainWildcard = function isValidDomainWildcard(domain) {
  // ? are not supported
  if (domain.includes("?")) {
    return false;
  }

  // multiple * are not supported
  let asteriskCount = (domain.match(/\*/g) || []).length;
  if (asteriskCount > 1) {
    return false;
  }

  if (asteriskCount == 1) {
    let pos = domain.indexOf("*");

    // * must be the last character in the string
    if (pos < (domain.length - 1)) {
      return false;
    }

    // but not the only character in the string
    if (domain.length == 1) {
      return false;
    }

    // * must be preceeded with .
    if (pos > 0 && domain[pos - 1] != ".") {
      return false;
    }
  }

  return true;
};


/***/ }),

/***/ "./core/lib/versions.js":
/*!******************************!*\
  !*** ./core/lib/versions.js ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */

/** @module */



function parseVersionComponent(comp) {
  if (comp == "*") {
    return Infinity;
  }
  return parseInt(comp, 10) || 0;
}

/**
 * Compares two versions.
 *
 * @param {string} v1 The first version.
 * @param {string} v2 The second version.
 *
 * @returns {number} `-1` if `v1` is older than `v2`; `1` if `v1` is newer than
 *   `v2`; otherwise `0`.
 *
 * @package
 */
exports.compareVersions = function compareVersions(v1, v2) {
  let regexp = /^(.*?)([a-z].*)?$/i;
  let [, head1, tail1] = regexp.exec(v1);
  let [, head2, tail2] = regexp.exec(v2);
  let components1 = head1.split(".");
  let components2 = head2.split(".");

  for (let i = 0; i < components1.length ||
                  i < components2.length; i++) {
    let result = parseVersionComponent(components1[i]) -
                 parseVersionComponent(components2[i]) || 0;

    if (result < 0) {
      return -1;
    }
    else if (result > 0) {
      return 1;
    }
  }

  // Compare version suffix (e.g. 0.1alpha < 0.1b1 < 01.b2 < 0.1).
  // However, note that this is a simple string comparision, meaning: b10 < b2
  if (tail1 == tail2) {
    return 0;
  }
  if (!tail1 || tail2 && tail1 > tail2) {
    return 1;
  }
  return -1;
};


/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/native.js":
/*!******************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/native.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  randomUUID
});

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ rng)
/* harmony export */ });
// Unique ID creation requires a high quality random # generator. In the browser we therefore
// require the crypto API and do not support built-in fallback to lower quality random number
// generators (like Math.random()).
let getRandomValues;
const rnds8 = new Uint8Array(16);
function rng() {
  // lazy load so that environments that need to polyfill have a chance to do so
  if (!getRandomValues) {
    // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation.
    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);

    if (!getRandomValues) {
      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
    }
  }

  return getRandomValues(rnds8);
}

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "unsafeStringify": () => (/* binding */ unsafeStringify)
/* harmony export */ });
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ "./node_modules/uuid/dist/esm-browser/validate.js");

/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */

const byteToHex = [];

for (let i = 0; i < 256; ++i) {
  byteToHex.push((i + 0x100).toString(16).slice(1));
}

function unsafeStringify(arr, offset = 0) {
  // Note: Be careful editing this code!  It's been tuned for performance
  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
}

function stringify(arr, offset = 0) {
  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one
  // of the following:
  // - One or more input array values don't map to a hex octet (leading to
  // "undefined" in the uuid)
  // - Invalid input values for the RFC `version` or `variant` fields

  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__["default"])(uuid)) {
    throw TypeError('Stringified UUID is invalid');
  }

  return uuid;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ "./node_modules/uuid/dist/esm-browser/native.js");
/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ "./node_modules/uuid/dist/esm-browser/rng.js");
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ "./node_modules/uuid/dist/esm-browser/stringify.js");




function v4(options, buf, offset) {
  if (_native_js__WEBPACK_IMPORTED_MODULE_0__["default"].randomUUID && !buf && !options) {
    return _native_js__WEBPACK_IMPORTED_MODULE_0__["default"].randomUUID();
  }

  options = options || {};
  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__["default"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

  rnds[6] = rnds[6] & 0x0f | 0x40;
  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

  if (buf) {
    offset = offset || 0;

    for (let i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }

    return buf;
  }

  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ "./node_modules/uuid/dist/esm-browser/regex.js");


function validate(uuid) {
  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__["default"].test(uuid);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);

/***/ }),

/***/ "./node_modules/webextension-polyfill/dist/browser-polyfill.js":
/*!*********************************************************************!*\
  !*** ./node_modules/webextension-polyfill/dist/browser-polyfill.js ***!
  \*********************************************************************/
/***/ (function(module, exports) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {
  if (true) {
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [module], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else { var mod; }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (module) {
  /* webextension-polyfill - v0.8.0 - Tue Apr 20 2021 11:27:38 */

  /* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */

  /* vim: set sts=2 sw=2 et tw=80: */

  /* This Source Code Form is subject to the terms of the Mozilla Public
   * License, v. 2.0. If a copy of the MPL was not distributed with this
   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
  "use strict";

  if (typeof browser === "undefined" || Object.getPrototypeOf(browser) !== Object.prototype) {
    const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = "The message port closed before a response was received.";
    const SEND_RESPONSE_DEPRECATION_WARNING = "Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)"; // Wrapping the bulk of this polyfill in a one-time-use function is a minor
    // optimization for Firefox. Since Spidermonkey does not fully parse the
    // contents of a function until the first time it's called, and since it will
    // never actually need to be called, this allows the polyfill to be included
    // in Firefox nearly for free.

    const wrapAPIs = extensionAPIs => {
      // NOTE: apiMetadata is associated to the content of the api-metadata.json file
      // at build time by replacing the following "include" with the content of the
      // JSON file.
      const apiMetadata = {
        "alarms": {
          "clear": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "clearAll": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "get": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "getAll": {
            "minArgs": 0,
            "maxArgs": 0
          }
        },
        "bookmarks": {
          "create": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "get": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getChildren": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getRecent": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getSubTree": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getTree": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "move": {
            "minArgs": 2,
            "maxArgs": 2
          },
          "remove": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "removeTree": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "search": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "update": {
            "minArgs": 2,
            "maxArgs": 2
          }
        },
        "browserAction": {
          "disable": {
            "minArgs": 0,
            "maxArgs": 1,
            "fallbackToNoCallback": true
          },
          "enable": {
            "minArgs": 0,
            "maxArgs": 1,
            "fallbackToNoCallback": true
          },
          "getBadgeBackgroundColor": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getBadgeText": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getPopup": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getTitle": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "openPopup": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "setBadgeBackgroundColor": {
            "minArgs": 1,
            "maxArgs": 1,
            "fallbackToNoCallback": true
          },
          "setBadgeText": {
            "minArgs": 1,
            "maxArgs": 1,
            "fallbackToNoCallback": true
          },
          "setIcon": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "setPopup": {
            "minArgs": 1,
            "maxArgs": 1,
            "fallbackToNoCallback": true
          },
          "setTitle": {
            "minArgs": 1,
            "maxArgs": 1,
            "fallbackToNoCallback": true
          }
        },
        "browsingData": {
          "remove": {
            "minArgs": 2,
            "maxArgs": 2
          },
          "removeCache": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "removeCookies": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "removeDownloads": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "removeFormData": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "removeHistory": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "removeLocalStorage": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "removePasswords": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "removePluginData": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "settings": {
            "minArgs": 0,
            "maxArgs": 0
          }
        },
        "commands": {
          "getAll": {
            "minArgs": 0,
            "maxArgs": 0
          }
        },
        "contextMenus": {
          "remove": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "removeAll": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "update": {
            "minArgs": 2,
            "maxArgs": 2
          }
        },
        "cookies": {
          "get": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getAll": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getAllCookieStores": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "remove": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "set": {
            "minArgs": 1,
            "maxArgs": 1
          }
        },
        "devtools": {
          "inspectedWindow": {
            "eval": {
              "minArgs": 1,
              "maxArgs": 2,
              "singleCallbackArg": false
            }
          },
          "panels": {
            "create": {
              "minArgs": 3,
              "maxArgs": 3,
              "singleCallbackArg": true
            },
            "elements": {
              "createSidebarPane": {
                "minArgs": 1,
                "maxArgs": 1
              }
            }
          }
        },
        "downloads": {
          "cancel": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "download": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "erase": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getFileIcon": {
            "minArgs": 1,
            "maxArgs": 2
          },
          "open": {
            "minArgs": 1,
            "maxArgs": 1,
            "fallbackToNoCallback": true
          },
          "pause": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "removeFile": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "resume": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "search": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "show": {
            "minArgs": 1,
            "maxArgs": 1,
            "fallbackToNoCallback": true
          }
        },
        "extension": {
          "isAllowedFileSchemeAccess": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "isAllowedIncognitoAccess": {
            "minArgs": 0,
            "maxArgs": 0
          }
        },
        "history": {
          "addUrl": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "deleteAll": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "deleteRange": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "deleteUrl": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getVisits": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "search": {
            "minArgs": 1,
            "maxArgs": 1
          }
        },
        "i18n": {
          "detectLanguage": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getAcceptLanguages": {
            "minArgs": 0,
            "maxArgs": 0
          }
        },
        "identity": {
          "launchWebAuthFlow": {
            "minArgs": 1,
            "maxArgs": 1
          }
        },
        "idle": {
          "queryState": {
            "minArgs": 1,
            "maxArgs": 1
          }
        },
        "management": {
          "get": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getAll": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "getSelf": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "setEnabled": {
            "minArgs": 2,
            "maxArgs": 2
          },
          "uninstallSelf": {
            "minArgs": 0,
            "maxArgs": 1
          }
        },
        "notifications": {
          "clear": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "create": {
            "minArgs": 1,
            "maxArgs": 2
          },
          "getAll": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "getPermissionLevel": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "update": {
            "minArgs": 2,
            "maxArgs": 2
          }
        },
        "pageAction": {
          "getPopup": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getTitle": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "hide": {
            "minArgs": 1,
            "maxArgs": 1,
            "fallbackToNoCallback": true
          },
          "setIcon": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "setPopup": {
            "minArgs": 1,
            "maxArgs": 1,
            "fallbackToNoCallback": true
          },
          "setTitle": {
            "minArgs": 1,
            "maxArgs": 1,
            "fallbackToNoCallback": true
          },
          "show": {
            "minArgs": 1,
            "maxArgs": 1,
            "fallbackToNoCallback": true
          }
        },
        "permissions": {
          "contains": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getAll": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "remove": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "request": {
            "minArgs": 1,
            "maxArgs": 1
          }
        },
        "runtime": {
          "getBackgroundPage": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "getPlatformInfo": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "openOptionsPage": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "requestUpdateCheck": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "sendMessage": {
            "minArgs": 1,
            "maxArgs": 3
          },
          "sendNativeMessage": {
            "minArgs": 2,
            "maxArgs": 2
          },
          "setUninstallURL": {
            "minArgs": 1,
            "maxArgs": 1
          }
        },
        "sessions": {
          "getDevices": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "getRecentlyClosed": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "restore": {
            "minArgs": 0,
            "maxArgs": 1
          }
        },
        "storage": {
          "local": {
            "clear": {
              "minArgs": 0,
              "maxArgs": 0
            },
            "get": {
              "minArgs": 0,
              "maxArgs": 1
            },
            "getBytesInUse": {
              "minArgs": 0,
              "maxArgs": 1
            },
            "remove": {
              "minArgs": 1,
              "maxArgs": 1
            },
            "set": {
              "minArgs": 1,
              "maxArgs": 1
            }
          },
          "managed": {
            "get": {
              "minArgs": 0,
              "maxArgs": 1
            },
            "getBytesInUse": {
              "minArgs": 0,
              "maxArgs": 1
            }
          },
          "sync": {
            "clear": {
              "minArgs": 0,
              "maxArgs": 0
            },
            "get": {
              "minArgs": 0,
              "maxArgs": 1
            },
            "getBytesInUse": {
              "minArgs": 0,
              "maxArgs": 1
            },
            "remove": {
              "minArgs": 1,
              "maxArgs": 1
            },
            "set": {
              "minArgs": 1,
              "maxArgs": 1
            }
          }
        },
        "tabs": {
          "captureVisibleTab": {
            "minArgs": 0,
            "maxArgs": 2
          },
          "create": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "detectLanguage": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "discard": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "duplicate": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "executeScript": {
            "minArgs": 1,
            "maxArgs": 2
          },
          "get": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getCurrent": {
            "minArgs": 0,
            "maxArgs": 0
          },
          "getZoom": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "getZoomSettings": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "goBack": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "goForward": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "highlight": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "insertCSS": {
            "minArgs": 1,
            "maxArgs": 2
          },
          "move": {
            "minArgs": 2,
            "maxArgs": 2
          },
          "query": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "reload": {
            "minArgs": 0,
            "maxArgs": 2
          },
          "remove": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "removeCSS": {
            "minArgs": 1,
            "maxArgs": 2
          },
          "sendMessage": {
            "minArgs": 2,
            "maxArgs": 3
          },
          "setZoom": {
            "minArgs": 1,
            "maxArgs": 2
          },
          "setZoomSettings": {
            "minArgs": 1,
            "maxArgs": 2
          },
          "update": {
            "minArgs": 1,
            "maxArgs": 2
          }
        },
        "topSites": {
          "get": {
            "minArgs": 0,
            "maxArgs": 0
          }
        },
        "webNavigation": {
          "getAllFrames": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "getFrame": {
            "minArgs": 1,
            "maxArgs": 1
          }
        },
        "webRequest": {
          "handlerBehaviorChanged": {
            "minArgs": 0,
            "maxArgs": 0
          }
        },
        "windows": {
          "create": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "get": {
            "minArgs": 1,
            "maxArgs": 2
          },
          "getAll": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "getCurrent": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "getLastFocused": {
            "minArgs": 0,
            "maxArgs": 1
          },
          "remove": {
            "minArgs": 1,
            "maxArgs": 1
          },
          "update": {
            "minArgs": 2,
            "maxArgs": 2
          }
        }
      };

      if (Object.keys(apiMetadata).length === 0) {
        throw new Error("api-metadata.json has not been included in browser-polyfill");
      }
      /**
       * A WeakMap subclass which creates and stores a value for any key which does
       * not exist when accessed, but behaves exactly as an ordinary WeakMap
       * otherwise.
       *
       * @param {function} createItem
       *        A function which will be called in order to create the value for any
       *        key which does not exist, the first time it is accessed. The
       *        function receives, as its only argument, the key being created.
       */


      class DefaultWeakMap extends WeakMap {
        constructor(createItem, items = undefined) {
          super(items);
          this.createItem = createItem;
        }

        get(key) {
          if (!this.has(key)) {
            this.set(key, this.createItem(key));
          }

          return super.get(key);
        }

      }
      /**
       * Returns true if the given object is an object with a `then` method, and can
       * therefore be assumed to behave as a Promise.
       *
       * @param {*} value The value to test.
       * @returns {boolean} True if the value is thenable.
       */


      const isThenable = value => {
        return value && typeof value === "object" && typeof value.then === "function";
      };
      /**
       * Creates and returns a function which, when called, will resolve or reject
       * the given promise based on how it is called:
       *
       * - If, when called, `chrome.runtime.lastError` contains a non-null object,
       *   the promise is rejected with that value.
       * - If the function is called with exactly one argument, the promise is
       *   resolved to that value.
       * - Otherwise, the promise is resolved to an array containing all of the
       *   function's arguments.
       *
       * @param {object} promise
       *        An object containing the resolution and rejection functions of a
       *        promise.
       * @param {function} promise.resolve
       *        The promise's resolution function.
       * @param {function} promise.reject
       *        The promise's rejection function.
       * @param {object} metadata
       *        Metadata about the wrapped method which has created the callback.
       * @param {boolean} metadata.singleCallbackArg
       *        Whether or not the promise is resolved with only the first
       *        argument of the callback, alternatively an array of all the
       *        callback arguments is resolved. By default, if the callback
       *        function is invoked with only a single argument, that will be
       *        resolved to the promise, while all arguments will be resolved as
       *        an array if multiple are given.
       *
       * @returns {function}
       *        The generated callback function.
       */


      const makeCallback = (promise, metadata) => {
        return (...callbackArgs) => {
          if (extensionAPIs.runtime.lastError) {
            promise.reject(new Error(extensionAPIs.runtime.lastError.message));
          } else if (metadata.singleCallbackArg || callbackArgs.length <= 1 && metadata.singleCallbackArg !== false) {
            promise.resolve(callbackArgs[0]);
          } else {
            promise.resolve(callbackArgs);
          }
        };
      };

      const pluralizeArguments = numArgs => numArgs == 1 ? "argument" : "arguments";
      /**
       * Creates a wrapper function for a method with the given name and metadata.
       *
       * @param {string} name
       *        The name of the method which is being wrapped.
       * @param {object} metadata
       *        Metadata about the method being wrapped.
       * @param {integer} metadata.minArgs
       *        The minimum number of arguments which must be passed to the
       *        function. If called with fewer than this number of arguments, the
       *        wrapper will raise an exception.
       * @param {integer} metadata.maxArgs
       *        The maximum number of arguments which may be passed to the
       *        function. If called with more than this number of arguments, the
       *        wrapper will raise an exception.
       * @param {boolean} metadata.singleCallbackArg
       *        Whether or not the promise is resolved with only the first
       *        argument of the callback, alternatively an array of all the
       *        callback arguments is resolved. By default, if the callback
       *        function is invoked with only a single argument, that will be
       *        resolved to the promise, while all arguments will be resolved as
       *        an array if multiple are given.
       *
       * @returns {function(object, ...*)}
       *       The generated wrapper function.
       */


      const wrapAsyncFunction = (name, metadata) => {
        return function asyncFunctionWrapper(target, ...args) {
          if (args.length < metadata.minArgs) {
            throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);
          }

          if (args.length > metadata.maxArgs) {
            throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);
          }

          return new Promise((resolve, reject) => {
            if (metadata.fallbackToNoCallback) {
              // This API method has currently no callback on Chrome, but it return a promise on Firefox,
              // and so the polyfill will try to call it with a callback first, and it will fallback
              // to not passing the callback if the first call fails.
              try {
                target[name](...args, makeCallback({
                  resolve,
                  reject
                }, metadata));
              } catch (cbError) {
                console.warn(`${name} API method doesn't seem to support the callback parameter, ` + "falling back to call it without a callback: ", cbError);
                target[name](...args); // Update the API method metadata, so that the next API calls will not try to
                // use the unsupported callback anymore.

                metadata.fallbackToNoCallback = false;
                metadata.noCallback = true;
                resolve();
              }
            } else if (metadata.noCallback) {
              target[name](...args);
              resolve();
            } else {
              target[name](...args, makeCallback({
                resolve,
                reject
              }, metadata));
            }
          });
        };
      };
      /**
       * Wraps an existing method of the target object, so that calls to it are
       * intercepted by the given wrapper function. The wrapper function receives,
       * as its first argument, the original `target` object, followed by each of
       * the arguments passed to the original method.
       *
       * @param {object} target
       *        The original target object that the wrapped method belongs to.
       * @param {function} method
       *        The method being wrapped. This is used as the target of the Proxy
       *        object which is created to wrap the method.
       * @param {function} wrapper
       *        The wrapper function which is called in place of a direct invocation
       *        of the wrapped method.
       *
       * @returns {Proxy<function>}
       *        A Proxy object for the given method, which invokes the given wrapper
       *        method in its place.
       */


      const wrapMethod = (target, method, wrapper) => {
        return new Proxy(method, {
          apply(targetMethod, thisObj, args) {
            return wrapper.call(thisObj, target, ...args);
          }

        });
      };

      let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);
      /**
       * Wraps an object in a Proxy which intercepts and wraps certain methods
       * based on the given `wrappers` and `metadata` objects.
       *
       * @param {object} target
       *        The target object to wrap.
       *
       * @param {object} [wrappers = {}]
       *        An object tree containing wrapper functions for special cases. Any
       *        function present in this object tree is called in place of the
       *        method in the same location in the `target` object tree. These
       *        wrapper methods are invoked as described in {@see wrapMethod}.
       *
       * @param {object} [metadata = {}]
       *        An object tree containing metadata used to automatically generate
       *        Promise-based wrapper functions for asynchronous. Any function in
       *        the `target` object tree which has a corresponding metadata object
       *        in the same location in the `metadata` tree is replaced with an
       *        automatically-generated wrapper function, as described in
       *        {@see wrapAsyncFunction}
       *
       * @returns {Proxy<object>}
       */

      const wrapObject = (target, wrappers = {}, metadata = {}) => {
        let cache = Object.create(null);
        let handlers = {
          has(proxyTarget, prop) {
            return prop in target || prop in cache;
          },

          get(proxyTarget, prop, receiver) {
            if (prop in cache) {
              return cache[prop];
            }

            if (!(prop in target)) {
              return undefined;
            }

            let value = target[prop];

            if (typeof value === "function") {
              // This is a method on the underlying object. Check if we need to do
              // any wrapping.
              if (typeof wrappers[prop] === "function") {
                // We have a special-case wrapper for this method.
                value = wrapMethod(target, target[prop], wrappers[prop]);
              } else if (hasOwnProperty(metadata, prop)) {
                // This is an async method that we have metadata for. Create a
                // Promise wrapper for it.
                let wrapper = wrapAsyncFunction(prop, metadata[prop]);
                value = wrapMethod(target, target[prop], wrapper);
              } else {
                // This is a method that we don't know or care about. Return the
                // original method, bound to the underlying object.
                value = value.bind(target);
              }
            } else if (typeof value === "object" && value !== null && (hasOwnProperty(wrappers, prop) || hasOwnProperty(metadata, prop))) {
              // This is an object that we need to do some wrapping for the children
              // of. Create a sub-object wrapper for it with the appropriate child
              // metadata.
              value = wrapObject(value, wrappers[prop], metadata[prop]);
            } else if (hasOwnProperty(metadata, "*")) {
              // Wrap all properties in * namespace.
              value = wrapObject(value, wrappers[prop], metadata["*"]);
            } else {
              // We don't need to do any wrapping for this property,
              // so just forward all access to the underlying object.
              Object.defineProperty(cache, prop, {
                configurable: true,
                enumerable: true,

                get() {
                  return target[prop];
                },

                set(value) {
                  target[prop] = value;
                }

              });
              return value;
            }

            cache[prop] = value;
            return value;
          },

          set(proxyTarget, prop, value, receiver) {
            if (prop in cache) {
              cache[prop] = value;
            } else {
              target[prop] = value;
            }

            return true;
          },

          defineProperty(proxyTarget, prop, desc) {
            return Reflect.defineProperty(cache, prop, desc);
          },

          deleteProperty(proxyTarget, prop) {
            return Reflect.deleteProperty(cache, prop);
          }

        }; // Per contract of the Proxy API, the "get" proxy handler must return the
        // original value of the target if that value is declared read-only and
        // non-configurable. For this reason, we create an object with the
        // prototype set to `target` instead of using `target` directly.
        // Otherwise we cannot return a custom object for APIs that
        // are declared read-only and non-configurable, such as `chrome.devtools`.
        //
        // The proxy handlers themselves will still use the original `target`
        // instead of the `proxyTarget`, so that the methods and properties are
        // dereferenced via the original targets.

        let proxyTarget = Object.create(target);
        return new Proxy(proxyTarget, handlers);
      };
      /**
       * Creates a set of wrapper functions for an event object, which handles
       * wrapping of listener functions that those messages are passed.
       *
       * A single wrapper is created for each listener function, and stored in a
       * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`
       * retrieve the original wrapper, so that  attempts to remove a
       * previously-added listener work as expected.
       *
       * @param {DefaultWeakMap<function, function>} wrapperMap
       *        A DefaultWeakMap object which will create the appropriate wrapper
       *        for a given listener function when one does not exist, and retrieve
       *        an existing one when it does.
       *
       * @returns {object}
       */


      const wrapEvent = wrapperMap => ({
        addListener(target, listener, ...args) {
          target.addListener(wrapperMap.get(listener), ...args);
        },

        hasListener(target, listener) {
          return target.hasListener(wrapperMap.get(listener));
        },

        removeListener(target, listener) {
          target.removeListener(wrapperMap.get(listener));
        }

      });

      const onRequestFinishedWrappers = new DefaultWeakMap(listener => {
        if (typeof listener !== "function") {
          return listener;
        }
        /**
         * Wraps an onRequestFinished listener function so that it will return a
         * `getContent()` property which returns a `Promise` rather than using a
         * callback API.
         *
         * @param {object} req
         *        The HAR entry object representing the network request.
         */


        return function onRequestFinished(req) {
          const wrappedReq = wrapObject(req, {}
          /* wrappers */
          , {
            getContent: {
              minArgs: 0,
              maxArgs: 0
            }
          });
          listener(wrappedReq);
        };
      }); // Keep track if the deprecation warning has been logged at least once.

      let loggedSendResponseDeprecationWarning = false;
      const onMessageWrappers = new DefaultWeakMap(listener => {
        if (typeof listener !== "function") {
          return listener;
        }
        /**
         * Wraps a message listener function so that it may send responses based on
         * its return value, rather than by returning a sentinel value and calling a
         * callback. If the listener function returns a Promise, the response is
         * sent when the promise either resolves or rejects.
         *
         * @param {*} message
         *        The message sent by the other end of the channel.
         * @param {object} sender
         *        Details about the sender of the message.
         * @param {function(*)} sendResponse
         *        A callback which, when called with an arbitrary argument, sends
         *        that value as a response.
         * @returns {boolean}
         *        True if the wrapped listener returned a Promise, which will later
         *        yield a response. False otherwise.
         */


        return function onMessage(message, sender, sendResponse) {
          let didCallSendResponse = false;
          let wrappedSendResponse;
          let sendResponsePromise = new Promise(resolve => {
            wrappedSendResponse = function (response) {
              if (!loggedSendResponseDeprecationWarning) {
                console.warn(SEND_RESPONSE_DEPRECATION_WARNING, new Error().stack);
                loggedSendResponseDeprecationWarning = true;
              }

              didCallSendResponse = true;
              resolve(response);
            };
          });
          let result;

          try {
            result = listener(message, sender, wrappedSendResponse);
          } catch (err) {
            result = Promise.reject(err);
          }

          const isResultThenable = result !== true && isThenable(result); // If the listener didn't returned true or a Promise, or called
          // wrappedSendResponse synchronously, we can exit earlier
          // because there will be no response sent from this listener.

          if (result !== true && !isResultThenable && !didCallSendResponse) {
            return false;
          } // A small helper to send the message if the promise resolves
          // and an error if the promise rejects (a wrapped sendMessage has
          // to translate the message into a resolved promise or a rejected
          // promise).


          const sendPromisedResult = promise => {
            promise.then(msg => {
              // send the message value.
              sendResponse(msg);
            }, error => {
              // Send a JSON representation of the error if the rejected value
              // is an instance of error, or the object itself otherwise.
              let message;

              if (error && (error instanceof Error || typeof error.message === "string")) {
                message = error.message;
              } else {
                message = "An unexpected error occurred";
              }

              sendResponse({
                __mozWebExtensionPolyfillReject__: true,
                message
              });
            }).catch(err => {
              // Print an error on the console if unable to send the response.
              console.error("Failed to send onMessage rejected reply", err);
            });
          }; // If the listener returned a Promise, send the resolved value as a
          // result, otherwise wait the promise related to the wrappedSendResponse
          // callback to resolve and send it as a response.


          if (isResultThenable) {
            sendPromisedResult(result);
          } else {
            sendPromisedResult(sendResponsePromise);
          } // Let Chrome know that the listener is replying.


          return true;
        };
      });

      const wrappedSendMessageCallback = ({
        reject,
        resolve
      }, reply) => {
        if (extensionAPIs.runtime.lastError) {
          // Detect when none of the listeners replied to the sendMessage call and resolve
          // the promise to undefined as in Firefox.
          // See https://github.com/mozilla/webextension-polyfill/issues/130
          if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {
            resolve();
          } else {
            reject(new Error(extensionAPIs.runtime.lastError.message));
          }
        } else if (reply && reply.__mozWebExtensionPolyfillReject__) {
          // Convert back the JSON representation of the error into
          // an Error instance.
          reject(new Error(reply.message));
        } else {
          resolve(reply);
        }
      };

      const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {
        if (args.length < metadata.minArgs) {
          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);
        }

        if (args.length > metadata.maxArgs) {
          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);
        }

        return new Promise((resolve, reject) => {
          const wrappedCb = wrappedSendMessageCallback.bind(null, {
            resolve,
            reject
          });
          args.push(wrappedCb);
          apiNamespaceObj.sendMessage(...args);
        });
      };

      const staticWrappers = {
        devtools: {
          network: {
            onRequestFinished: wrapEvent(onRequestFinishedWrappers)
          }
        },
        runtime: {
          onMessage: wrapEvent(onMessageWrappers),
          onMessageExternal: wrapEvent(onMessageWrappers),
          sendMessage: wrappedSendMessage.bind(null, "sendMessage", {
            minArgs: 1,
            maxArgs: 3
          })
        },
        tabs: {
          sendMessage: wrappedSendMessage.bind(null, "sendMessage", {
            minArgs: 2,
            maxArgs: 3
          })
        }
      };
      const settingMetadata = {
        clear: {
          minArgs: 1,
          maxArgs: 1
        },
        get: {
          minArgs: 1,
          maxArgs: 1
        },
        set: {
          minArgs: 1,
          maxArgs: 1
        }
      };
      apiMetadata.privacy = {
        network: {
          "*": settingMetadata
        },
        services: {
          "*": settingMetadata
        },
        websites: {
          "*": settingMetadata
        }
      };
      return wrapObject(extensionAPIs, staticWrappers, apiMetadata);
    };

    if (typeof chrome != "object" || !chrome || !chrome.runtime || !chrome.runtime.id) {
      throw new Error("This script should only be loaded in a browser extension.");
    } // The build process adds a UMD wrapper around this file, which makes the
    // `module` variable available.


    module.exports = wrapAPIs(chrome);
  } else {
    module.exports = browser;
  }
});


/***/ }),

/***/ "./sdk/api/allowlisting.js":
/*!*********************************!*\
  !*** ./sdk/api/allowlisting.js ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "allowlistPage": () => (/* binding */ allowlistPage),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/contentTypes.js */ "./core/lib/contentTypes.js");
/* harmony import */ var adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/url.js */ "./core/lib/url.js");
/* harmony import */ var adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! adblockpluscore/lib/time.js */ "./core/lib/time.js");
/* harmony import */ var adblockpluscore_lib_rsa_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! adblockpluscore/lib/rsa.js */ "./core/lib/rsa.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _frame_state_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./frame-state.js */ "./sdk/api/frame-state.js");
/* harmony import */ var _filters_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./filters.js */ "./sdk/api/filters.js");
/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./types.js */ "./sdk/api/types.js");
/* harmony import */ var _info_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./info.js */ "./sdk/api/info.js");
/* harmony import */ var _prefs_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./prefs.js */ "./sdk/api/prefs.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */














// Allowlisting depends on comparing timestamps which may be generated on
// different clocks on different servers across the internet. One day everyone
// will have perfectly synchronized clocks. Today however, we need some
// tolerance for if the two clocks are out of sync. Based on
// https://learn.microsoft.com/en-us/windows/security/threat-protection/security-policy-settings/maximum-tolerance-for-computer-clock-synchronization,
// Microsoft seems to expect 5 min to be a reasonable tolerance for clock
// skewing in Windows systems. This is also in the same order of magnitude the
// hour window we have for the timstamp to be valid.
const CLOCK_SKEW_TOLERANCE = 5 * adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_3__.MILLIS_IN_MINUTE;

// Note that this is a default implementation, but it might be
// replaced using `setAllowlistingCallback`. Don't rely on this
// behaviour.
let allowlistingCallback = function(domain, options) {
  let metadata = null;
  if (options && options.expiresAt) {
    metadata = {expiresAt: options.expiresAt};
  }
  return _filters_js__WEBPACK_IMPORTED_MODULE_7__["default"].add([`@@||${domain}^$document`], metadata);
};
let dispatchUnauthorized = () => {};

let authorizedPublicKeys = [];
let publicKeysUpdated = Promise.resolve();

let algorithm = {
  name: "RSASSA-PKCS1-v1_5",
  modulusLength: 4096,
  publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
  hash: {name: "SHA-512"}
};

function getAllowData(domain, timestamp) {
  let str = `${domain},${timestamp}`;
  return (new TextEncoder()).encode(str);
}

async function verifySignature(data, signature, pubKey) {
  return crypto.subtle.verify(
    algorithm,
    pubKey,
    signature,
    data
  );
}

function verifyTimestamp(timestamp) {
  if (typeof timestamp != "number" || isNaN(timestamp)) {
    return false;
  }

  let now = Date.now();

  let inTheFuture = timestamp > now + CLOCK_SKEW_TOLERANCE;
  let tooOld = timestamp < now - adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_3__.MILLIS_IN_HOUR - CLOCK_SKEW_TOLERANCE;
  return !inTheFuture && !tooOld;
}

async function verifyAnySignatures(domain, timestamp, signature) {
  if (typeof signature != "string") {
    return false;
  }

  await publicKeysUpdated;

  let data = getAllowData(domain, timestamp);
  let abSignature = (0,adblockpluscore_lib_rsa_js__WEBPACK_IMPORTED_MODULE_4__.base64ToArrayBuffer)(signature);
  for (let key of authorizedPublicKeys) {
    if (await verifySignature(data, abSignature, key)) {
      return true;
    }
  }
  return false;
}

function verifyOptions(options) {
  if (!options) {
    return true;
  }

  const keys = Object.keys(options);
  if (keys.length !== 1 || keys[0] !== "expiresAt") {
    return false;
  }

  if (!Number.isInteger(options.expiresAt)) {
    return false;
  }

  const now = Date.now();
  const minExpiresAt = now + adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_3__.MILLIS_IN_DAY - CLOCK_SKEW_TOLERANCE;
  const maxExpiresAt = now + 365 * adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_3__.MILLIS_IN_DAY + CLOCK_SKEW_TOLERANCE;
  if (options.expiresAt < minExpiresAt || options.expiresAt > maxExpiresAt) {
    return false;
  }

  return true;
}

async function succeedAllowlisting(domain, options) {
  await allowlistingCallback(domain, options);
  // EE-258: Edge adding dynamic DNR rules return promise earlier,
  // than it actually processes the rules. So we workaround it by
  // waiting for some time longer to let it actually finish the adding.
  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest && (0,_info_js__WEBPACK_IMPORTED_MODULE_9__.isEdge)()) {
    const sleepIntervalMillis = _prefs_js__WEBPACK_IMPORTED_MODULE_10__.Prefs.edge_one_click_allowlisting_delay;
    await new Promise(r => setTimeout(r, sleepIntervalMillis));
  }
  return true;
}

function failAllowlisting(error) {
  dispatchUnauthorized(error);
  return false;
}

async function allowlistPage(
  tabId, frameId, timestamp, signature, options
) {
  let frame = (0,_frame_state_js__WEBPACK_IMPORTED_MODULE_6__.getFrameInfo)(tabId, frameId);
  if (!frame) {
    return failAllowlisting({
      reason: "invalid_frame",
      request: {domain: null, timestamp, signature}
    });
  }

  let domain = frame.hostname;
  let request = {domain, timestamp, signature};

  if (frameId != 0) {
    return failAllowlisting({
      reason: "invalid_frame",
      request
    });
  }

  let urlInfo = (0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_2__.parseURL)(frame.url);
  let alreadyAllowlistedDomain = _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.defaultMatcher.isAllowlisted(
    `${urlInfo.protocol}//${domain}`,
    adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_1__.contentTypes.DOCUMENT,
    domain,
    frame.sitekey
  );
  if (alreadyAllowlistedDomain) {
    return failAllowlisting({
      reason: "already_allowlisted",
      request
    });
  }

  let validOptions = verifyOptions(options);
  if (!validOptions) {
    return failAllowlisting({
      reason: "invalid_options",
      request
    });
  }

  let validTimestamp = verifyTimestamp(timestamp);
  if (!validTimestamp) {
    return failAllowlisting({
      reason: "invalid_timestamp",
      request
    });
  }

  let validSignature = await verifyAnySignatures(domain, timestamp, signature);
  if (!validSignature) {
    return failAllowlisting({
      reason: "invalid_signature",
      request
    });
  }

  return await succeedAllowlisting(domain, options);
}

async function setAuthorizedKeys(keys) {
  let newAuthorizedPublicKeys = [];
  for (let key of keys) {
    let abKey = (0,adblockpluscore_lib_rsa_js__WEBPACK_IMPORTED_MODULE_4__.base64ToArrayBuffer)(key);
    let importedKey = await crypto.subtle.importKey(
      "spki",
      abKey,
      algorithm,
      false,
      ["verify"]
    );
    newAuthorizedPublicKeys.push(importedKey);
  }
  authorizedPublicKeys = newAuthorizedPublicKeys;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  /**
   * Updates the list of public keys used to verify allowlisting
   * requests. If there are any invalid keys, the list of authorized
   * keys keeps its previous value.
   *
   * Any allowlisting requests that come in while this function is in
   * progress will wait for it to finish before verifying any
   * signatures.
   *
   * @param {[string]} keys The new set of public keys. The keys
   *   should be base64 encoded strings, in SPKI format. The keys must
   *   additionally use the RSASSA-PKCS1-v1_5 algorithm, SHA512 hash
   *   and 4096 bit long modulus.
   * @return {Promise} Promise that resolves when the keys have been
   *   updated, or rejects if any of the keys are invalid.
   */
  async setAuthorizedKeys(keys) {
    let resultPromise = setAuthorizedKeys(keys);
    publicKeysUpdated = resultPromise.catch(() => {});
    return await resultPromise;
  },

  /**
   * @callback allowlistingCallback
   * @param {string} domain The domain to allowlist.
   * @param {?Object} options Additional options for the allowlisting.
   * @param {Number} [options.expiresAt] The timestamp when the filter should
   *  expire (allowed 1 day - 365 days in the future).
   */

  /**
   * Set the function called when allowlisting succeeds.
   *
   * If the callback is not set, it has a default implementation that
   * adds an allowlisting filter for the allowlisted domain.
   *
   * @param {allowlistingCallback} callback The user defined function
   *   that will be called. This function should return a promise that
   *   resolves after adding the appropriate allowlisting filters.
   */
  setAllowlistingCallback(callback) {
    allowlistingCallback = callback;
  },

  /**
   * @typedef {Object} AllowlistingAuthorizationError
   * @property {string} reason The reason a request to allowlist was
   *   rejected. Can be "invalid_frame", "already_allowlisted",
   *   "invalid_timestamp", "invalid_signature" or "invalid_options".
   * @property {Object} request The rejected request.
   * @property {string} [request.domain] The domain of the page that
   *   the request came from. This is also the domain that the request
   *   would have allowlisted if it was valid. If this is null, it
   *   means that the frame's domain could not be determined.
   * @property {*} request.timestamp The timestamp in the
   *   request. For a valid request this is a number, but the request
   *   may have been invalid so it might not be a number.
   * @property {*} request.signature The signature in the
   *   request. For a valid request, this is string, but the request
   *   may have been invalid so it might not be a string.
   */

  /**
   * Emitted when an allowlisting request is rejected.
   * @event
   * @type {EventDispatcher<AllowlistingAuthorizationError>}
   */
  onUnauthorized: new _types_js__WEBPACK_IMPORTED_MODULE_8__.EventDispatcher(
    dispatch => {
      dispatchUnauthorized = dispatch;
    },
    () => {
      dispatchUnauthorized = () => {};
    }
  )
});


/***/ }),

/***/ "./sdk/api/browser-features.js":
/*!*************************************!*\
  !*** ./sdk/api/browser-features.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isRunningInServiceWorker": () => (/* binding */ isRunningInServiceWorker)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */



let manifest = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].runtime.getManifest();

function isRunningInServiceWorker() {
  return !!(manifest.background && manifest.background.service_worker);
}


/***/ }),

/***/ "./sdk/api/cdp-metrics-uploader.js":
/*!*****************************************!*\
  !*** ./sdk/api/cdp-metrics-uploader.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "reset": () => (/* binding */ reset),
/* harmony export */   "start": () => (/* binding */ start),
/* harmony export */   "stop": () => (/* binding */ stop)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/v4.js");
/* harmony import */ var adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/time.js */ "./core/lib/time.js");
/* harmony import */ var adblockpluscore_lib_date_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/date.js */ "./core/lib/date.js");
/* harmony import */ var adblockpluscore_lib_random_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! adblockpluscore/lib/random.js */ "./core/lib/random.js");
/* harmony import */ var _info_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./info.js */ "./sdk/api/info.js");
/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./scheduler.js */ "./sdk/api/scheduler.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/* harmony import */ var _telemetry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./telemetry.js */ "./sdk/api/telemetry.js");
/* harmony import */ var _cdp_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cdp.js */ "./sdk/api/cdp.js");
/* harmony import */ var _persistence_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./persistence.js */ "./sdk/api/persistence.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */














const CDP_STORAGE_KEY = "ewe:cdp-metrics-uploader";
let storage = new _persistence_js__WEBPACK_IMPORTED_MODULE_9__.PersistentState(CDP_STORAGE_KEY, webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local);

let scheduler = null;

/**
 * Starts CDP, which will trigger sending aggregated metrics to the CDP
 * server on a schedule.
 *
 * @param {Object} cdp CDP configuration (URLs, bearer)
 * @param {number} errorRetryDelay
 *        Error retry interval in milliseconds
 * @ignore
 */
async function start(cdp, errorRetryDelay = 1 * adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_1__.MILLIS_IN_HOUR) {
  if (!cdp.pingUrl) {
    throw new Error("No CDP `pingUrl` provided");
  }

  if (!cdp.aggregateUrl) {
    throw new Error("No CDP `aggregateUrl` provided");
  }

  if (!cdp.bearer) {
    throw new Error("No CDP `bearer` provided");
  }

  await storage.load();
  await initializeTimeOffset();
  initializeNewSessionListener();
  initializeScheduler(cdp, errorRetryDelay);
}

async function initializeTimeOffset() {
  if (typeof storage.getState().dayCutoffMinutes == "undefined") {
    let dayCutoffMinutes = (0,adblockpluscore_lib_random_js__WEBPACK_IMPORTED_MODULE_3__.randomInteger)(0, adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_1__.MINUTES_IN_DAY);
    storage.getState().dayCutoffMinutes = dayCutoffMinutes;
    await storage.save();
  }
}

async function onCdpSessionStart(event) {
  let state = storage.getState();
  let now = new Date();

  let referenceDateLocal = (0,adblockpluscore_lib_date_js__WEBPACK_IMPORTED_MODULE_2__.toLocalISODateStringWithCutoffTime)(
    now, state.dayCutoffMinutes
  );

  if (!state.bundles) {
    state.bundles = [];
  }

  if (!state.pingBundles) {
    state.pingBundles = [];
  }

  let bundleExists = state.bundles.some(
    bundle => bundle.siteId == event.siteId &&
      bundle.referenceDateLocal == referenceDateLocal
  );

  if (bundleExists) {
    return;
  }

  let scheduledSendTimestamp = new Date(referenceDateLocal).getTime() +
      state.dayCutoffMinutes * adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_1__.MILLIS_IN_MINUTE + // to start of day
      adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_1__.MILLIS_IN_DAY + // add a day to get to the end of the day
      (0,adblockpluscore_lib_random_js__WEBPACK_IMPORTED_MODULE_3__.randomInteger)(0, 12 * adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_1__.MILLIS_IN_HOUR); // random delay of up to 12 hours

  state.bundles.push({
    siteId: event.siteId,
    referenceDateLocal,
    utid: (0,uuid__WEBPACK_IMPORTED_MODULE_10__["default"])(),
    scheduledSendTimestamp
  });

  let existingPingBundle = state.pingBundles.find(
    bundle => bundle.siteId == event.siteId
  );

  // We use the aggregate bundles to see if this is the first session of a day,
  // which would mean scheduling a ping. However, if there is a ping which
  // hasn't managed to send yet (eg because there are errors) then don't queue
  // another one.
  if (existingPingBundle) {
    existingPingBundle.scheduledSendTimestamp = Date.now();
  }
  else {
    if (!state.clientIds) {
      state.clientIds = {};
    }

    if (!state.clientIds[event.siteId]) {
      state.clientIds[event.siteId] = (0,uuid__WEBPACK_IMPORTED_MODULE_10__["default"])();
    }

    state.pingBundles.push({
      siteId: event.siteId,
      clientId: state.clientIds[event.siteId],
      scheduledSendTimestamp: Date.now()
    });
  }

  await storage.save();

  scheduler.checkNow();
}


function initializeNewSessionListener() {
  _cdp_js__WEBPACK_IMPORTED_MODULE_8__["default"].onCdpItem.addListener(onCdpSessionStart, {
    eventType: _cdp_js__WEBPACK_IMPORTED_MODULE_8__.EVENT_SESSION_START
  });
}

function initializeScheduler(cdp, errorRetryDelay) {
  if (scheduler) {
    return;
  }

  scheduler = new _scheduler_js__WEBPACK_IMPORTED_MODULE_5__.Scheduler({
    interval: 0, // this causes the scheduler to always call getNextTimestamp
    errorRetryDelay,
    listener: () => uploadPendingSessionBundles(cdp),
    async getNextTimestamp() {
      let state = storage.getState();
      let lastError = state.lastError;
      let hasAnyAggregateBundles = state.bundles &&
          state.bundles.length > 0;

      let hasAnyPingBundles = state.pingBundles &&
          state.pingBundles.length > 0;

      let nextRetryAfterError = null;
      let nextScheduledAggregateBundleSend = hasAnyAggregateBundles &&
          state.bundles
          .map(bundle => bundle.scheduledSendTimestamp)
          .reduce((a, b) => Math.min(a, b));

      let nextScheduledPingBundleSend = hasAnyPingBundles &&
          state.pingBundles
          .map(bundle => bundle.scheduledSendTimestamp)
          .reduce((a, b) => Math.min(a, b));

      let nextScheduledBundleSend = null;

      if (nextScheduledAggregateBundleSend && nextScheduledPingBundleSend) {
        nextScheduledBundleSend = Math.min(
          nextScheduledAggregateBundleSend,
          nextScheduledPingBundleSend
        );
      }
      else if (nextScheduledAggregateBundleSend) {
        nextScheduledBundleSend = nextScheduledAggregateBundleSend;
      }
      else if (nextScheduledPingBundleSend) {
        nextScheduledBundleSend = nextScheduledPingBundleSend;
      }

      let now = Date.now();
      if (!nextScheduledBundleSend) {
        // Nothing to send right now, try again in an hour.
        return now + adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_1__.MILLIS_IN_HOUR;
      }

      if (lastError) {
        nextRetryAfterError = lastError + errorRetryDelay;
        let nowTimestamp = Date.now();
        let maxNextRetry = nowTimestamp + errorRetryDelay;
        if (nextRetryAfterError > maxNextRetry) {
          // This shouldn't happen if the clocks are working right. It implies
          // that the system clock has been set backwards since we stored that
          // timestamp. Let's correct the storage using our current clock
          // value.
          state.lastError = nowTimestamp;
          await storage.save();
        }
      }

      if (nextScheduledBundleSend) {
        return Math.max(
          nextRetryAfterError,
          nextScheduledBundleSend
        );
      }

      return nextScheduledBundleSend;
    }
  });
}

async function uploadPendingSessionBundles(cdp) {
  let optOut = await _cdp_js__WEBPACK_IMPORTED_MODULE_8__["default"].isOptOut();
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({cdp, optOut});

  let state = storage.getState();

  // slice here does a shallow clone, so we can remove elements from the
  // original in the loop
  let pingBundlesSnapshot = (state.pingBundles || []).slice(0);
  let aggregateBundlesSnapshot = (state.bundles || []).slice(0);

  let now = Date.now();

  try {
    for (let bundle of pingBundlesSnapshot) {
      if (bundle.scheduledSendTimestamp > now) {
        continue;
      }

      if (!optOut) {
        let payload = {
          site_id: bundle.siteId,
          site_client_id: bundle.clientId,
          addon_name: _info_js__WEBPACK_IMPORTED_MODULE_4__.sdkName,
          addon_version: _info_js__WEBPACK_IMPORTED_MODULE_4__.sdkVersion,
          application: _info_js__WEBPACK_IMPORTED_MODULE_4__.application,
          application_version: _info_js__WEBPACK_IMPORTED_MODULE_4__.applicationVersion
        };
        await (0,_telemetry_js__WEBPACK_IMPORTED_MODULE_7__.postWithBearerToken)(cdp.pingUrl, cdp.bearer, {payload});
      }

      state.pingBundles = state.pingBundles.filter(b => b != bundle);
      await storage.save();
    }

    for (let bundle of aggregateBundlesSnapshot) {
      if (bundle.scheduledSendTimestamp > now) {
        continue;
      }

      let startTimestamp = new Date(bundle.referenceDateLocal).getTime();
      let endTimestamp = startTimestamp + adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_1__.MILLIS_IN_DAY;

      if (!optOut) {
        let sessionsCount = (0,_cdp_js__WEBPACK_IMPORTED_MODULE_8__.getData)(_cdp_js__WEBPACK_IMPORTED_MODULE_8__.EVENT_SESSION_START, bundle.siteId)
          .filter(t => t >= startTimestamp && t < endTimestamp)
          .length;

        let payload = {
          site_id: bundle.siteId,
          sessions_count: sessionsCount,
          reference_date_local: bundle.referenceDateLocal,
          utid: bundle.utid,
          addon_name: _info_js__WEBPACK_IMPORTED_MODULE_4__.sdkName,
          addon_version: _info_js__WEBPACK_IMPORTED_MODULE_4__.sdkVersion,
          application: _info_js__WEBPACK_IMPORTED_MODULE_4__.application,
          application_version: _info_js__WEBPACK_IMPORTED_MODULE_4__.applicationVersion
        };
        await (0,_telemetry_js__WEBPACK_IMPORTED_MODULE_7__.postWithBearerToken)(cdp.aggregateUrl, cdp.bearer, {payload});
      }

      state.bundles = state.bundles.filter(b => b != bundle);
      await storage.save();

      await (0,_cdp_js__WEBPACK_IMPORTED_MODULE_8__.clearData)(_cdp_js__WEBPACK_IMPORTED_MODULE_8__.EVENT_SESSION_START, bundle.siteId, endTimestamp);
    }

    if (state.lastError) {
      delete state.lastError;
      await storage.save();
    }
  }
  catch (e) {
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.error)(`CDP error: ${e.message}`);

    state.lastError = Date.now();
    await storage.save();

    return false;
  }

  return true;
}

/**
 * @ignore
 */
async function reset() {
  stop();
  storage.clearState();
  await storage.save();
}

/**
 * @ignore
 */
function stop() {
  if (!scheduler) {
    return;
  }

  scheduler.stop();
  scheduler = null;
  _cdp_js__WEBPACK_IMPORTED_MODULE_8__["default"].onCdpItem.removeListener(onCdpSessionStart);
}


/***/ }),

/***/ "./sdk/api/cdp.js":
/*!************************!*\
  !*** ./sdk/api/cdp.js ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CdpEventDispatcher": () => (/* binding */ CdpEventDispatcher),
/* harmony export */   "EVENT_BLOCKING": () => (/* binding */ EVENT_BLOCKING),
/* harmony export */   "EVENT_PAGE_VIEW": () => (/* binding */ EVENT_PAGE_VIEW),
/* harmony export */   "EVENT_SESSION_START": () => (/* binding */ EVENT_SESSION_START),
/* harmony export */   "_awaitSavingComplete": () => (/* binding */ _awaitSavingComplete),
/* harmony export */   "_restoreConfig": () => (/* binding */ _restoreConfig),
/* harmony export */   "_setConfig": () => (/* binding */ _setConfig),
/* harmony export */   "clearActivity": () => (/* binding */ clearActivity),
/* harmony export */   "clearData": () => (/* binding */ clearData),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getData": () => (/* binding */ getData),
/* harmony export */   "markActive": () => (/* binding */ markActive),
/* harmony export */   "setData": () => (/* binding */ setData),
/* harmony export */   "shouldNotifyActive": () => (/* binding */ shouldNotifyActive),
/* harmony export */   "start": () => (/* binding */ start)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var _prefs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./prefs.js */ "./sdk/api/prefs.js");
/* harmony import */ var adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/url.js */ "./core/lib/url.js");
/* harmony import */ var _frame_state_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./frame-state.js */ "./sdk/api/frame-state.js");
/* harmony import */ var _diagnostics_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./diagnostics.js */ "./sdk/api/diagnostics.js");
/* harmony import */ var _persistence_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./persistence.js */ "./sdk/api/persistence.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/* harmony import */ var _info_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./info.js */ "./sdk/api/info.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */












/**
 * "Page view" event type
 * @ignore
 */
const EVENT_PAGE_VIEW = "page_view";

/**
 * "Session started" event type
 * @ignore
 */
const EVENT_SESSION_START = "session_start";

/**
 * "Resource blocked" event type
 * @ignore
 */
const EVENT_BLOCKING = "blocking";

// Array<Array<String(domainWithWildcard)>>, String(siteId)>
const defaultConfig = [
  [["amazon.*"], "amazon.*"],
  [["search.yahoo.com"], "search.yahoo.com"], // the order matters: earlier than "yahoo.com" below
  [["yahoo.com"], "yahoo.com"]
];
// Map<String(domainWithWildcard), String(siteId)
let cdpDomains;

/**
 * Configure CDP
 * @ignore
 * @param {Array} newConfig An array of array(domain, siteId).
 *                WARNING: the order makes a difference:
                  more specific site buckets should come earlier
                  (eg. subdomain earlier than it's more higher level domain)
 */
function _setConfig(newConfig) {
  cdpDomains = new Map();

  for (const mapping of newConfig) {
    const domainsList = mapping[0];
    const siteId = mapping[1];
    for (const eachDomain of domainsList) {
      /*
      WARNING: in order to handle more specific site buckets first,
      we need to preserve the original entries order, so we rely on `Map`
      promise (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#objects_vs._maps):
      > Iteration happens in insertion order, which corresponds to the order
      > in which each key-value pair was first inserted into the map
      > by the set() method.
      */
      cdpDomains.set(eachDomain, siteId);
    }
  }
}

/**
 * Restore the default CDP configuration
 * @ignore
 */
function _restoreConfig() {
  _setConfig(defaultConfig);
}

_restoreConfig();

// Map<String(event type), Map<String(siteId), Array<Number>(event timestamp)>>
let events = new Map([
  [EVENT_PAGE_VIEW, new _persistence_js__WEBPACK_IMPORTED_MODULE_5__.PersistentState("ewe:cdp-page-view", _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.local)],
  [EVENT_SESSION_START, new _persistence_js__WEBPACK_IMPORTED_MODULE_5__.PersistentState("ewe:cdp-session", _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.local)],
  [EVENT_BLOCKING, new _persistence_js__WEBPACK_IMPORTED_MODULE_5__.PersistentState("ewe:cdp-blocking", _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.local)]
]);
for (const state of events.values()) {
  state.doDebounce();
}

// Map<String(domain), Number(last user activity timestamp)>
let activity = new _persistence_js__WEBPACK_IMPORTED_MODULE_5__.PersistentState("ewe:cdp-activity", _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.local);
activity.doDebounce();

// Map<Listener, Object (filter options)>
let listeners = new Map();

/**
 * The CdpEventDispatcher class allows users to listen to CDP events.
 * @hideconstructor
 */
class CdpEventDispatcher {
  /**
  * @typedef {Object} CdpEventOptions
  * @param {string} [eventType]
  *   The optional filter for event types. Skip for all the event types.
  *   The supported event types are "page_view", "session_start" and "blocking".
  * @param {string?} [siteId]
  *   The optional filter for siteIds.
  *   Skip for all the siteIds.
  */

  /**
   * Attaches a listener function to a event. This listener will be called
   * when the CDP event is emitted if the feature is ON and user did not
   * opt out (`Prefs.cdp_opt_in_out`).
   * @param {function} listener The user defined function that will be called
   *                            once the specified event is emitted.
   * @param {CdpEventOptions} filterOptions The filtering conditions to apply
   *                                        when the event is emitted.
   * @example
   * // Logs all event types on all the tracked domains
   * EWE.reporting.onCdpItem.addListener(console.log);
   * @example
   * // Log all "session_start" items on "webext.com"
   * EWE.reporting.onCdpItem.addListener(
   *   console.log,
   *   {eventType: "session_start", siteId: "webext.com"}
   * );
   */
  addListener(listener, filterOptions = {}) {
    listeners.set(listener, filterOptions);
  }

  removeListener(listener) {
    listeners.delete(listener);
  }
}

function findSiteId(domain) {
  // prefer exact match over wildcard match
  const suffixes = [...(0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_2__.domainSuffixes)(domain)];
  for (const [eachDomain, siteId] of cdpDomains) {
    if (suffixes.includes(eachDomain)) {
      return siteId;
    }
  }

  // wildcard match
  for (const [domainWildcard, siteId] of cdpDomains) {
    // the order of iteration corresponds the order of inserting,
    // we so assume the more specific entries come first in CDP config
    if ((0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_2__.hasWildcard)(domainWildcard) &&
        (0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_2__.matchesWildcards)(domain, domainWildcard)) {
      return siteId;
    }
  }

  return null;
}

async function emitEvent(eventType, siteId, timeStamp) {
  for (const [listener, filterOptions] of listeners) {
    if (filterOptions.eventType && filterOptions.eventType != eventType) {
      continue;
    }

    if (filterOptions.siteId && filterOptions.siteId != siteId) {
      continue;
    }

    await listener({eventType, siteId, timeStamp});
  }
}

async function count(eventType, siteId, timeStamp) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({eventType, siteId, timeStamp});

  const state = events.get(eventType);
  let timestamps = state.getState()[siteId];
  if (!timestamps) {
    timestamps = [];
    state.getState()[siteId] = timestamps;
  }
  timestamps.push(timeStamp);
  await state.save();

  await emitEvent(eventType, siteId, timeStamp);
}

async function onBlockableItem({request}) {
  if (isOptedOut()) {
    return;
  }

  const siteId = findSiteId(new URL(request.url).hostname);
  if (!siteId) {
    return;
  }

  await count(EVENT_BLOCKING, siteId, request.timeStamp);
}

/**
 * Wait for all the savings to be finished
 * @ignore
 */
async function _awaitSavingComplete() {
  for (const state of events.values()) {
    await state.awaitSavingComplete();
  }
  await activity.awaitSavingComplete();
}

/**
 * Set the events. This is for use in testing, in real use the data is set by
 * listening to events.
 * @param {string} eventType The type of event (see EVENT_...)
 * @param {string} domain The domain to get events for
 * @param {Array<Number>} timestamps Event timestamps for the event type and
 *   domain
 * @ignore
 */
async function setData(eventType, domain, timestamps) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({eventType, domain});

  const state = events.get(eventType);
  state.getState()[domain] = timestamps;
  await state.save();
}

/**
 * Return the events
 * @param {string} eventType The type of event (see EVENT_...)
 * @param {string} siteId The domain to get events for
 * @returns {Array<Number>} Event timestamps for the event type and domain
 * @ignore
 */
function getData(eventType, siteId) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({eventType, siteId});

  const timestamps = events.get(eventType).getState()[siteId] || [];
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.debug)(`Got ${timestamps.length} events`);
  return timestamps;
}

/**
 * @ignore
 */
async function clearActivity() {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({});

  activity.clearState();
  await activity.save();
}

/**
 * Delete all the events (of type)
 * @param {string?} eventType The optional type of event (see EVENT_...)
 * @param {string?} siteId The optional siteId to clear the events
 * @param {Number?} timeStamp The optional timestamp to remove the event,
 *                            that happened earlier than timestamp.
 * @returns {Promise}
 * @ignore
 */
async function clearData(eventType, siteId, timeStamp) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({eventType, siteId, timeStamp});

  const eventTypes = eventType ? [eventType] : [...events.keys()];
  for (const eachEventType of eventTypes) {
    const state = events.get(eachEventType);
    if (!siteId && !timeStamp) {
      state.clearState();
    }
    else {
      const siteIds = siteId ? [siteId] : [...state.keys()];
      for (const eachSiteId of siteIds) {
        if (timeStamp) {
          let timeStamps = state.getState()[eachSiteId];
          if (timeStamps) {
            timeStamps = timeStamps.filter(
              eactTimestamp => eactTimestamp >= timeStamp);
            state.getState()[siteId] = timeStamps;
          }
        }
        else {
          delete state.getState()[siteId];
        }
      }
    }
    await state.save();
  }
}

let startupPromise;

function handleBrowserEvent(details, doMarkActive) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)(details);

  if (isOptedOut()) {
    return;
  }

  if (details.frameId != _frame_state_js__WEBPACK_IMPORTED_MODULE_3__.TOP_LEVEL_FRAME_ID) {
    // Counting only outer-most frames
    return;
  }

  const siteId = findSiteId(new URL(details.url).hostname);
  if (!siteId) {
    return;
  }

  const newSession = isNewSession(siteId);
  const {timeStamp} = details;
  count(EVENT_PAGE_VIEW, siteId, timeStamp);
  if (doMarkActive) {
    markActiveForSiteId(siteId);
  }
  if (newSession) {
    count(EVENT_SESSION_START, siteId, timeStamp);
  }

  return siteId;
}

function onBeforeNavigate(details) {
  handleBrowserEvent(details, true);
}

function isNewSession(siteId) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({siteId});

  const lastActivity = activity.getState()[siteId];
  if (!lastActivity) {
    // new navigation to site, new session
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.debug)(`New session for ${siteId}`);
    return true;
  }

  const actuallyPassed = Date.now() - lastActivity;
  if (actuallyPassed > _prefs_js__WEBPACK_IMPORTED_MODULE_1__.Prefs.cdp_session_expiration_interval) {
    // session expired
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.debug)(`Session expired for ${siteId}`);
    return true;
  }

  // pending session
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.debug)(`Pending session for ${siteId}`);
  return false;
}

function isOptedOut() {
  return _prefs_js__WEBPACK_IMPORTED_MODULE_1__.Prefs.cdp_opt_in_out == _prefs_js__WEBPACK_IMPORTED_MODULE_1__.CDP_OPTED_OUT ||
         _prefs_js__WEBPACK_IMPORTED_MODULE_1__.Prefs.cdp_opt_in_out == _prefs_js__WEBPACK_IMPORTED_MODULE_1__.CDP_OPTED_OUT_BY_USER;
}

function onHistoryStateUpdated(details) {
  handleBrowserEvent(details, false);
}

async function markActiveForSiteId(siteId) {
  activity.getState()[siteId] = Date.now();
  await activity.save();
}

/**
 * Remember the last user activity time stamp
 * @param {Number} tabId Tab id
 * @param {Number} frameId Frame id
 * @ignore
 */
async function markActive(tabId, frameId) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({tabId, frameId});

  const frameInfo = (0,_frame_state_js__WEBPACK_IMPORTED_MODULE_3__.getFrameInfo)(tabId, frameId);
  if (!frameInfo) {
    return;
  }

  const siteId = findSiteId(frameInfo.hostname);
  if (!siteId) {
    return;
  }

  await markActiveForSiteId(siteId);
}

/**
 * Checks whether tab domain is tracked for CDP events
 * @param {Number} tabId Tab id
 * @param {Number} frameId Frame id
 * @returns {boolean} Whether the tab domain is tracked for CDP events
 * @ignore
 */
function shouldNotifyActive(tabId, frameId) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({tabId, frameId});

  if (isOptedOut()) {
    return false;
  }

  let frameInfo = (0,_frame_state_js__WEBPACK_IMPORTED_MODULE_3__.getFrameInfo)(tabId, frameId);
  if (!frameInfo) {
    return false;
  }

  const siteId = findSiteId(new URL(frameInfo.url).hostname);
  return siteId != null;
}

async function loadEvents() {
  for (const state of events.values()) {
    await state.load();
  }
}

/**
 * @ignore
 */
async function start() {
  if (!startupPromise) {
    startupPromise = (async() => {
      // assuming `Prefs` are initialized and loaded as
      // we use "user opted out" and "domains" settings

      // CDP must be disabled for Firefox by default
      // and enabled on other browsers. Also we can't override
      // the value if it was set by user intentionally.
      if ((0,_info_js__WEBPACK_IMPORTED_MODULE_7__.isFirefox)() && _prefs_js__WEBPACK_IMPORTED_MODULE_1__.Prefs.cdp_opt_in_out == _prefs_js__WEBPACK_IMPORTED_MODULE_1__.CDP_OPTED_IN) {
        _prefs_js__WEBPACK_IMPORTED_MODULE_1__.Prefs.cdp_opt_in_out = _prefs_js__WEBPACK_IMPORTED_MODULE_1__.CDP_OPTED_OUT;
      }

      new _diagnostics_js__WEBPACK_IMPORTED_MODULE_4__.BlockableEventDispatcher().addListener(onBlockableItem, {
        filterType: "blocking"
      });

      _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].webNavigation.onBeforeNavigate.addListener(onBeforeNavigate);
      _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].webNavigation.onHistoryStateUpdated.addListener(
        onHistoryStateUpdated);

      await loadEvents();
      await activity.load();
    })();
  }

  return startupPromise;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  /**
   * Emitted when any CDP event happened.
   * @event
   * @param {string} eventType Event type
   *                           ("page_view", "session_start", "blocking")
   * @param {string} siteId SiteId
   * @param {FilterMatchInfo} timestamp Event timestamp
   * @type {CdpEventDispatcher<{eventType: string,
   *                           siteId: string,
   *                           timeStamp: Number}>}
   */
  onCdpItem: new CdpEventDispatcher(),

  /**
   * Opt-out from CDP. Default is `true` (used opted out)
   * @param {boolean} value Pass `true` to opt-out
   * @returns {Promise} Promise that resolves when the setting is set.
   */
  async setOptOut(value) {
    _prefs_js__WEBPACK_IMPORTED_MODULE_1__.Prefs.cdp_opt_in_out = (value ?
      _prefs_js__WEBPACK_IMPORTED_MODULE_1__.CDP_OPTED_OUT_BY_USER : _prefs_js__WEBPACK_IMPORTED_MODULE_1__.CDP_OPTED_IN_BY_USER);
  },

  /**
   * Check whether user is opted out from CDP
   * @returns {Promise<boolean>} Returns `true` is user opted out from CDP
   */
  async isOptOut() {
    return _prefs_js__WEBPACK_IMPORTED_MODULE_1__.Prefs.cdp_opt_in_out == _prefs_js__WEBPACK_IMPORTED_MODULE_1__.CDP_OPTED_OUT ||
           _prefs_js__WEBPACK_IMPORTED_MODULE_1__.Prefs.cdp_opt_in_out == _prefs_js__WEBPACK_IMPORTED_MODULE_1__.CDP_OPTED_OUT_BY_USER;
  }
});



/***/ }),

/***/ "./sdk/api/content-filter.js":
/*!***********************************!*\
  !*** ./sdk/api/content-filter.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "applyContentFilters": () => (/* binding */ applyContentFilters),
/* harmony export */   "injectCSS": () => (/* binding */ injectCSS),
/* harmony export */   "removeCSS": () => (/* binding */ removeCSS),
/* harmony export */   "setSnippetLibrary": () => (/* binding */ setSnippetLibrary)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var adblockpluscore_lib_elemHide_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/elemHide.js */ "./core/lib/elemHide.js");
/* harmony import */ var adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/contentTypes.js */ "./core/lib/contentTypes.js");
/* harmony import */ var adblockpluscore_lib_snippets_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! adblockpluscore/lib/snippets.js */ "./core/lib/snippets.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _frame_state_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./frame-state.js */ "./sdk/api/frame-state.js");
/* harmony import */ var _diagnostics_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./diagnostics.js */ "./sdk/api/diagnostics.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/* harmony import */ var _set_operations_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./set-operations.js */ "./sdk/api/set-operations.js");
/* harmony import */ var _cdp_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./cdp.js */ "./sdk/api/cdp.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */














let isolatedLib;
let injectedLib;

function setSnippetLibrary({isolatedCode, injectedCode}) {
  isolatedLib = isolatedCode;
  injectedLib = injectedCode;
}

function calculateSelectorsDiff(previousStylesheet, styleSheet) {
  let diff = (0,_set_operations_js__WEBPACK_IMPORTED_MODULE_8__.arraysDiff)(previousStylesheet.selectors, styleSheet.selectors);
  styleSheet.removedSelectors = diff.removed;
  styleSheet.addedSelectors = diff.added;

  styleSheet.removedCode = (0,adblockpluscore_lib_elemHide_js__WEBPACK_IMPORTED_MODULE_1__.createStyleSheet)(styleSheet.removedSelectors);
  styleSheet.addedCode = (0,adblockpluscore_lib_elemHide_js__WEBPACK_IMPORTED_MODULE_1__.createStyleSheet)(styleSheet.addedSelectors);
}

function generateStylesheet(tabId, previousFrame, frame) {
  let specificOnly = (frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.GENERICHIDE) != 0;
  let tracing = (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_6__.tracingEnabled)(tabId);

  let previousStylesheet;
  if (previousFrame &&
      !(previousFrame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.DOCUMENT) &&
      !(previousFrame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.ELEMHIDE)) {
    previousStylesheet = _core_js__WEBPACK_IMPORTED_MODULE_4__.filterEngine.elemHide.getStyleSheet(
      previousFrame.hostname,
      specificOnly,
      tracing);
  }
  else {
    previousStylesheet = {
      selectors: []
    };
  }

  let styleSheet;
  if (!(frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.DOCUMENT) &&
      !(frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.ELEMHIDE)) {
    styleSheet = _core_js__WEBPACK_IMPORTED_MODULE_4__.filterEngine.elemHide.getStyleSheet(
      frame.hostname,
      specificOnly,
      _debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace);
  }
  else {
    styleSheet = {
      selectors: []
    };
  }

  calculateSelectorsDiff(previousStylesheet, styleSheet);

  if (_debugging_js__WEBPACK_IMPORTED_MODULE_7__.debugOptions.elemHide) {
    let declarationBlock = "{";
    for (let [property, value] of _debugging_js__WEBPACK_IMPORTED_MODULE_7__.debugOptions.cssProperties) {
      declarationBlock += `${property}: ${value} !important;`;
    }
    declarationBlock += "}";

    styleSheet.code = (0,adblockpluscore_lib_elemHide_js__WEBPACK_IMPORTED_MODULE_1__.createStyleSheet)(
      styleSheet.selectors, declarationBlock);
    styleSheet.removedCode = (0,adblockpluscore_lib_elemHide_js__WEBPACK_IMPORTED_MODULE_1__.createStyleSheet)(
      styleSheet.removedSelectors, declarationBlock);
    styleSheet.addedCode = (0,adblockpluscore_lib_elemHide_js__WEBPACK_IMPORTED_MODULE_1__.createStyleSheet)(
      styleSheet.addedSelectors, declarationBlock);
  }

  return styleSheet;
}

async function executeSnippets(tabId, frameId, previousFrame, frame) {
  if (!isolatedLib || !injectedLib) {
    console.warn("Snippets are not initialized. Use `setSnippetLibrary()` to initialize snippets.");
    return;
  }

  let details = {tabId, frameIds: [frameId]};
  let filters = _core_js__WEBPACK_IMPORTED_MODULE_4__.filterEngine.snippets.getFilters(frame.hostname);
  let scripts = filters.map(({script}) => script);
  let environment = {};
  if (_debugging_js__WEBPACK_IMPORTED_MODULE_7__.debugOptions.elemHide) {
    environment.debugCSSProperties = _debugging_js__WEBPACK_IMPORTED_MODULE_7__.debugOptions.snippetsCssProperties;
  }

  let isolatedDependencies = [];
  let isolated = [];
  let main = [];

  for (let script of scripts) {
    for (let [snippet, ...args] of (0,adblockpluscore_lib_snippets_js__WEBPACK_IMPORTED_MODULE_3__.parseScript)(script)) {
      if (isolatedLib.has(snippet)) {
        let dependency = isolatedLib.get(snippet);
        if (dependency) {
          isolatedDependencies.push(dependency);
        }
        isolated.push([snippet, ...args]);
      }
      if (injectedLib.has(snippet)) {
        main.push([snippet, ...args]);
      }
    }
  }

  let execute = [];
  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].scripting && _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].scripting.executeScript) {
    if (isolated.length > 0) {
      if (isolatedDependencies.length) {
        let isolatedDepsPromises = [];
        for (let dependency of isolatedDependencies) {
          (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.debug)(() => `Execute dependency script ${dependency}`);
          isolatedDepsPromises.push(_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].scripting.executeScript({
            target: details,
            world: "ISOLATED",
            func: dependency
          }));
        }
        await Promise.all(isolatedDepsPromises);
      }

      (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.debug)(() => `Execute isolated script ${isolatedLib}`);
      execute.push(
        _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].scripting.executeScript({
          target: details,
          world: "ISOLATED",
          func: isolatedLib,
          args: [environment, ...isolated]
        })
      );
    }

    if (main.length > 0) {
      (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.debug)(() => `Execute main script ${injectedLib}`);
      execute.push(
        _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].scripting.executeScript({
          target: details,
          world: "MAIN",
          injectImmediately: true,
          func: injectedLib,
          args: [environment, ...main]
        })
      );
    }
  }
  else {
    if (isolated.length > 0) {
      const args = JSON.stringify([environment, ...isolated]);
      let code = "";
      // prepend all dependencies before the snippets
      if (isolatedDependencies.length) {
        for (const cb of isolatedDependencies) {
          code += `(${cb})();`;
        }
      }
      code += `(${isolatedLib}).apply(null,${args})`;
      (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.debug)(() => `Execute isolated script ${code}`);
      execute.push(
        _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].tabs.executeScript(
          tabId,
          {
            frameId,
            code,
            matchAboutBlank: true,
            runAt: "document_start"
          }));
    }

    if (main.length > 0) {
      const args = JSON.stringify([environment, ...main]);
      // stringify injectedLib to escape backticks
      let code = JSON.stringify(injectedLib.toString());
      code = `"(${code.slice(1, -1)}).apply(null,${JSON.stringify(args).slice(1, -1)});"`;
      let executable =
        `function injectSnippetsInMainContext(executable)
          {
            // injecting phases
            let script = document.createElement("script");
            script.type = "application/javascript";
            script.async = false;

            // Firefox 58 only bypasses site CSPs when assigning to 'src',
            // while Chrome 67 and Microsoft Edge (tested on 44.17763.1.0)
            // only bypass site CSPs when using 'textContent'.
            if (typeof netscape != "undefined" && typeof browser != "undefined")
            {
              let url = URL.createObjectURL(new Blob([executable]));
              script.src = url;
              document.documentElement.appendChild(script);
              URL.revokeObjectURL(url);
            }
            else
            {
              script.textContent = executable;
              document.documentElement.appendChild(script);
            }

            document.documentElement.removeChild(script);
          };
          {
            const executable = ${code};
            injectSnippetsInMainContext(executable);
          }`;
      (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.debug)(() => `Execute main script ${executable}`);
      execute.push(
        _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].tabs.executeScript(
          tabId,
          {
            frameId,
            code: executable,
            matchAboutBlank: true,
            runAt: "document_start"
          }));
    }
  }

  let request = {tabId, frameId, url: frame.url};
  Promise.all(execute).then(() => filters.forEach(filter => {
    (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_6__.logItem)(request, filter, {
      docDomain: frame.hostname,
      method: "snippet"
    });
  }), () => {});
}

async function applyContentFilters(
  tabId, frameId, previousFrame, skipSnippets) {
  const frame = (0,_frame_state_js__WEBPACK_IMPORTED_MODULE_5__.getFrameInfo)(tabId, frameId);
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({tabId, frameId, previousFrame, frame});
  const emulatedPatterns = [];
  let tracedSelectors;

  if (frame) {
    let styleSheet = generateStylesheet(tabId, previousFrame, frame);
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.debug)(() => JSON.stringify(styleSheet));

    if (previousFrame && !(previousFrame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.DOCUMENT)) {
      await removeCSS(tabId, frameId, styleSheet.removedCode);
    }

    if (!skipSnippets && !(frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.DOCUMENT)) {
      executeSnippets(tabId, frameId, previousFrame, frame);
    }

    if (!(frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.DOCUMENT) &&
      !(frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.ELEMHIDE)) {
      injectCSS(tabId, frameId, styleSheet.addedCode);

      let filters = _core_js__WEBPACK_IMPORTED_MODULE_4__.filterEngine.elemHideEmulation.getFilters(frame.hostname);
      for (const {selector, text, remove, css} of filters) {
        emulatedPatterns.push({selector, text, remove, css});
      }

      if ((0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_6__.tracingEnabled)(tabId)) {
        tracedSelectors = [];
        for (let selector of styleSheet.addedSelectors) {
          tracedSelectors.push([selector, null]);
        }
        for (let exception of styleSheet.exceptions) {
          tracedSelectors.push([exception.selector, exception.text]);
        }
      }
    }
  }
  else {
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.warn)("No frame info");
  }

  let cssProperties;
  if (_debugging_js__WEBPACK_IMPORTED_MODULE_7__.debugOptions.elemHide) {
    cssProperties = _debugging_js__WEBPACK_IMPORTED_MODULE_7__.debugOptions.cssProperties;
  }

  const notifyActive = (0,_cdp_js__WEBPACK_IMPORTED_MODULE_9__.shouldNotifyActive)(tabId, frameId);

  return {emulatedPatterns, cssProperties, tracedSelectors, notifyActive};
}

function injectCSS(tabId, frameId, code) {
  let result;

  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].scripting && _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].scripting.insertCSS) {
    result = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].scripting.insertCSS({
      target: {tabId, frameIds: [frameId]},
      css: code,
      origin: "USER"
    });
  }
  else {
    result = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].tabs.insertCSS(
      tabId,
      {
        code,
        cssOrigin: "user",
        frameId,
        matchAboutBlank: true,
        runAt: "document_start"
      }
    );
  }

  result.catch(() => {}); // Fails if tab or frame no longer exists
}

async function removeCSS(tabId, frameId, code) {
  let result;

  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].scripting && _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].scripting.removeCSS) {
    result = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].scripting.removeCSS({
      target: {tabId, frameIds: [frameId]},
      css: code,
      origin: "USER"
    });
  }
  else if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].tabs.removeCSS) {
    result = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].tabs.removeCSS(
      tabId,
      {
        code,
        cssOrigin: "user",
        frameId,
        matchAboutBlank: true
      }
    );
  }
  else {
    result = Promise.resolve();
  }

  try {
    await result;
  }
  catch (e) {
    // Fails if tab or frame no longer exists
  }
}


/***/ }),

/***/ "./sdk/api/content-message-deferrer.js":
/*!*********************************************!*\
  !*** ./sdk/api/content-message-deferrer.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "_awaitSavingComplete": () => (/* binding */ _awaitSavingComplete),
/* harmony export */   "_doSaveDeferredMessages": () => (/* binding */ _doSaveDeferredMessages),
/* harmony export */   "_getDeferredMessages": () => (/* binding */ _getDeferredMessages),
/* harmony export */   "_loadDeferredMessages": () => (/* binding */ _loadDeferredMessages),
/* harmony export */   "_saveDeferredMessages": () => (/* binding */ _saveDeferredMessages),
/* harmony export */   "getDeferredMessages": () => (/* binding */ getDeferredMessages),
/* harmony export */   "onContentHelloReceived": () => (/* binding */ onContentHelloReceived),
/* harmony export */   "sendContentMessage": () => (/* binding */ sendContentMessage),
/* harmony export */   "start": () => (/* binding */ start)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var _browser_features_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./browser-features.js */ "./sdk/api/browser-features.js");
/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors.js */ "./sdk/errors.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/* harmony import */ var _persistence_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./persistence.js */ "./sdk/api/persistence.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */







// It keeps lists of deferred messages after frame loading is started
// until "ewe:content-hello" message from the injected content script is
// received. Then the messages are sent and the according maps are removed.
// Object<tabId, Object<frameId,[message]>>
let deferredMessages = new _persistence_js__WEBPACK_IMPORTED_MODULE_4__.PersistentState("ewe:deferred-content-messages");
let startupPromise;

// for testing purposes
function _getDeferredMessages() {
  return deferredMessages;
}

function getDeferredMessages(tabId, frameId) {
  const frameIdToMessages = deferredMessages.getState()[tabId];
  if (!frameIdToMessages) {
    return null;
  }

  return frameIdToMessages[frameId];
}

async function sendMessage(tabId, frameId, message) {
  const doSendMessage = () => {
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_3__.trace)({tabId, frameId, message});
    return _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].tabs.sendMessage(tabId, message, {frameId});
  };

  // Retrying to fix a connection error on Chromium 90 and on Firefox
  await doSendMessage().catch(async e => {
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_3__.warn)(`Failed to send the message: ${e.message}, retrying`);
    await (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.ignoreNoConnectionError)(doSendMessage());
  });
}

async function sendContentMessage(tabId, frameId, message) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_3__.trace)({tabId, frameId, message});

  let messages = getDeferredMessages(tabId, frameId);
  if (messages) {
    // content script is not ready yet, deferring
    messages.push(message);
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_3__.debug)(() => "Deferred the message: " + JSON.stringify(message));
    _saveDeferredMessages();
  }
  else {
    await sendMessage(tabId, frameId, message);
  }
}

function cleanDeferredMessages(tabId, frameId) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_3__.trace)({tabId, frameId});

  let frameIdToMessages = deferredMessages.getState()[tabId];
  if (!frameIdToMessages) {
    return;
  }

  delete frameIdToMessages[frameId];
  if (Object.keys(frameIdToMessages).length == 0) {
    delete deferredMessages.getState()[tabId];
  }

  _saveDeferredMessages();
}

async function onContentHelloReceived(tabId, frameId) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_3__.trace)({tabId, frameId});

  const messages = getDeferredMessages(tabId, frameId);
  if (!messages) {
    return;
  }

  cleanDeferredMessages(tabId, frameId);
  for (const message of messages) {
    await sendMessage(tabId, frameId, message);
  }

  _saveDeferredMessages();
}

function initialize(tabId, frameId) {
  let frameIdToMessages = deferredMessages.getState()[tabId];
  if (!frameIdToMessages) {
    frameIdToMessages = {};
    deferredMessages.getState()[tabId] = frameIdToMessages;
  }

  let messages = frameIdToMessages[frameId];
  if (!messages) {
    messages = [];
    frameIdToMessages[frameId] = messages;
  }
}

function onBeforeNavigate(details) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_3__.trace)({details});
  initialize(details.tabId, details.frameId);
}

function onRemoved(tabId) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_3__.trace)({tabId});

  delete deferredMessages.getState()[tabId];
  _saveDeferredMessages();
}

async function _loadDeferredMessages() {
  await deferredMessages.load();
}

function _doSaveDeferredMessages() {
  deferredMessages.save();
}

function _saveDeferredMessages() {
  if (!(0,_browser_features_js__WEBPACK_IMPORTED_MODULE_1__.isRunningInServiceWorker)()) {
    return;
  }

  _doSaveDeferredMessages();
}

async function _awaitSavingComplete() {
  await deferredMessages.awaitSavingComplete();
}

/**
 * Start the message deferrer module. In MV3, this must be called in
 * the first turn of the event loop.
 */
async function start() {
  if (!startupPromise) {
    _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].webNavigation.onBeforeNavigate.addListener(onBeforeNavigate);
    _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].tabs.onRemoved.addListener(onRemoved);

    startupPromise = ((0,_browser_features_js__WEBPACK_IMPORTED_MODULE_1__.isRunningInServiceWorker)() ?
      _loadDeferredMessages() : Promise.resolve(null));
  }

  await startupPromise;
}


/***/ }),

/***/ "./sdk/api/core.js":
/*!*************************!*\
  !*** ./sdk/api/core.js ***!
  \*************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "filterEngine": () => (/* binding */ filterEngine)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var adblockpluscore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore */ "./core/lib/index.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */





let filterEngine = new adblockpluscore__WEBPACK_IMPORTED_MODULE_1__.FilterEngine((function() {
  let features;

  if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
    features = adblockpluscore__WEBPACK_IMPORTED_MODULE_1__.Features.DNR;
  }

  return {features};
})());


/***/ }),

/***/ "./sdk/api/debugging.js":
/*!******************************!*\
  !*** ./sdk/api/debugging.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LOG_COLOR_BLUE": () => (/* binding */ LOG_COLOR_BLUE),
/* harmony export */   "LOG_COLOR_BLUE_BRIGHT": () => (/* binding */ LOG_COLOR_BLUE_BRIGHT),
/* harmony export */   "LOG_COLOR_CYAN": () => (/* binding */ LOG_COLOR_CYAN),
/* harmony export */   "LOG_COLOR_GREEN": () => (/* binding */ LOG_COLOR_GREEN),
/* harmony export */   "LOG_COLOR_MAGENTA": () => (/* binding */ LOG_COLOR_MAGENTA),
/* harmony export */   "LOG_COLOR_RED": () => (/* binding */ LOG_COLOR_RED),
/* harmony export */   "LOG_COLOR_YELLOW": () => (/* binding */ LOG_COLOR_YELLOW),
/* harmony export */   "LOG_LEVEL_DEBUG": () => (/* binding */ LOG_LEVEL_DEBUG),
/* harmony export */   "LOG_LEVEL_ERROR": () => (/* binding */ LOG_LEVEL_ERROR),
/* harmony export */   "LOG_LEVEL_INFO": () => (/* binding */ LOG_LEVEL_INFO),
/* harmony export */   "LOG_LEVEL_TRACE": () => (/* binding */ LOG_LEVEL_TRACE),
/* harmony export */   "LOG_LEVEL_WARNING": () => (/* binding */ LOG_LEVEL_WARNING),
/* harmony export */   "debug": () => (/* binding */ debug),
/* harmony export */   "debugOptions": () => (/* binding */ debugOptions),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "emitLogEvent": () => (/* binding */ emitLogEvent),
/* harmony export */   "error": () => (/* binding */ error),
/* harmony export */   "info": () => (/* binding */ info),
/* harmony export */   "loadDebugOptions": () => (/* binding */ loadDebugOptions),
/* harmony export */   "log": () => (/* binding */ log),
/* harmony export */   "saveDebugOptions": () => (/* binding */ saveDebugOptions),
/* harmony export */   "trace": () => (/* binding */ trace),
/* harmony export */   "warn": () => (/* binding */ warn)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var adblockpluscore_lib_filterStorage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/filterStorage.js */ "./core/lib/filterStorage.js");
/* harmony import */ var _io_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./io.js */ "./sdk/api/io.js");
/* harmony import */ var _info_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./info.js */ "./sdk/api/info.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _prefs_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./prefs.js */ "./sdk/api/prefs.js");
/* harmony import */ var _sitekey_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./sitekey.js */ "./sdk/api/sitekey.js");
/* harmony import */ var _content_message_deferrer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./content-message-deferrer.js */ "./sdk/api/content-message-deferrer.js");
/* harmony import */ var _cdp_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cdp.js */ "./sdk/api/cdp.js");
/* harmony import */ var _subscriptions_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./subscriptions.js */ "./sdk/api/subscriptions.js");
/* eslint-disable no-console */
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */














let defaultDebugOptions = {
  elemHide: false,
  cssProperties: [["background", "#e67370"], ["outline", "solid red"]],
  snippetsCssProperties: [
    ["background", "repeating-linear-gradient(to bottom, #e67370 0," +
     "#e67370 9px, white 9px, white 10px)"],
    ["outline", "solid red"]]
};

let listeners = [];

class DebugEventDispatcher {
  addListener(listener) {
    listeners.push(listener);
  }

  removeListener(listener) {
    let index = listeners.findIndex(existingListener =>
      existingListener == listener
    );

    if (index != -1) {
      listeners.splice(index, 1);
    }
  }
}

/**
 * @ignore
 */
const LOG_LEVEL_INFO = 0;

/**
 * @ignore
 */
const LOG_LEVEL_DEBUG = 1;

/**
 * @ignore
 */
const LOG_LEVEL_WARNING = 2;

/**
 * @ignore
 */
const LOG_LEVEL_ERROR = 3;

/**
 * @ignore
 */
const LOG_LEVEL_TRACE = 4;

/**
 * @ignore
 */
const LOG_COLOR_RED = "\x1b[31m";

/**
 * @ignore
 */
const LOG_COLOR_GREEN = "\x1b[32m";

/**
 * @ignore
 */
const LOG_COLOR_YELLOW = "\x1b[33m";

/**
 * @ignore
 */
const LOG_COLOR_BLUE = "\x1b[34m";

/**
 * @ignore
 */
const LOG_COLOR_MAGENTA = "\x1b[35m";

/**
 * @ignore
 */
const LOG_COLOR_CYAN = "\x1b[36m";

/**
 * @ignore
 */
const LOG_COLOR_BLUE_BRIGHT = "\x1b[94m";

const LEVEL_TO_COLOR = new Map([
  // no color for "LOG_LEVEL_INFO" level (using default)
  [LOG_LEVEL_DEBUG, LOG_COLOR_BLUE],
  [LOG_LEVEL_WARNING, LOG_COLOR_YELLOW],
  [LOG_LEVEL_ERROR, LOG_COLOR_RED],
  [LOG_LEVEL_TRACE, LOG_COLOR_BLUE]
]);

/**
 * Collects the debugging events until print() is called.
 */
class OnRequestLogger {
  constructor(listener) {
    this._wrappedListener = listener;
    this._events = [];
    let self = this;
    this._listener = event => {
      self._events.push(event);
    };
  }

  print() {
    for (let event of this._events) {
      this._wrappedListener(event);
    }
  }

  clear() {
    this._events = [];
  }

  getListener() {
    return this._listener;
  }
}

class ConsoleLogger {
  constructor(
    printTimeStamp = true,
    colorize = true,
    levelToColor = LEVEL_TO_COLOR
  ) {
    this._printTimeStamp = printTimeStamp;
    this._colorize = colorize;
    this._levelToColor = levelToColor;
    this._listener = ({message, level, timeStamp, color}) => {
      // Using default level color if no specific color is passed
      let _color = color || this._levelToColor.get(level);
      let colorizedMessage = this._colorize ?
        this.colorizeMessage(message, _color) :
        message;
      let output = this._printTimeStamp ?
        `${this.formatTime(timeStamp)}: ${colorizedMessage}` :
        colorizedMessage;

      switch (level) {
        case LOG_LEVEL_INFO:
          console.info(output);
          break;

        case LOG_LEVEL_WARNING:
          console.warn(output);
          break;

        case LOG_LEVEL_ERROR:
          console.error(output);
          break;

        case LOG_LEVEL_DEBUG:
        case LOG_LEVEL_TRACE:
          console.debug(output);
          break;
      }
    };
  }

  colorizeMessage(message, color) {
    return color ? `${color}${message}\x1b[0m` : message;
  }

  padStartZero(value, length = 2) {
    return String(value).padStart(length, "0");
  }

  formatTime(ts) {
    return this.padStartZero(ts.getHours()) + ":" +
      this.padStartZero(ts.getMinutes()) + ":" +
      this.padStartZero(ts.getSeconds()) + "." +
      this.padStartZero(ts.getMilliseconds(), 3);
  }

  getListener() {
    return this._listener;
  }
}

const CONSOLE_LOGGER = new ConsoleLogger();
const ON_REQUEST_CONSOLE_LOGGER =
  new OnRequestLogger(CONSOLE_LOGGER.getListener());

function getStackTrace() {
  const stack = new Error().stack.split("\n")
    .slice(3) // skip "Error" line, getStackTrace() and trace()
    .map(it => it
      .trim()
      .replace("at ", ""));
  return stack;
}

function getMessage(messageOrCallback) {
  return typeof messageOrCallback === "string" ?
    messageOrCallback :
    messageOrCallback();
}

function _trace(messageOrCallback, level, color) {
  if (listeners.length) {
    const message = getMessage(messageOrCallback);
    emitLogEvent({message, level, color});
  }
}

/**
 * @ignore
 */
function emitLogEvent({message, level, color, timeStamp = new Date()}) {
  for (let listener of listeners) {
    listener({message, level, timeStamp, color});
  }
}

/**
 * Outputs 'information' message
 * @ignore
 * @param {string|function} messageOrCallback Log message or a callback
 *                                            that returns log message
 * @param {*} color Log output color
 */
function info(messageOrCallback, color) {
  _trace(messageOrCallback, LOG_LEVEL_INFO, color);
}

/**
 * Outputs 'debug' message
 * @ignore
 * @param {string|function} messageOrCallback Log message or a callback
 *                                            that returns log message
 * @param {*} color Log output color
 */
function debug(messageOrCallback, color) {
  _trace(messageOrCallback, LOG_LEVEL_DEBUG, color);
}

/**
 * Outputs 'log' message
 * @ignore
 * @param {string|function} messageOrCallback Log message or a callback
 *                                            that returns log message
 * @param {*} color Log output color
 */
function log(messageOrCallback, color) {
  _trace(messageOrCallback, LOG_LEVEL_INFO, color);
}

/**
 * Outputs 'warning' message
 * @ignore
 * @param {string|function} messageOrCallback Log message or a callback
 *                                            that returns log message
 * @param {*} color Log output color
 */
function warn(messageOrCallback, color) {
  _trace(messageOrCallback, LOG_LEVEL_WARNING, color);
}

/**
 * Outputs 'error' message
 * @ignore
 * @param {string|function} messageOrCallback Log message or a callback
 *                                            that returns log message
 * @param {*} color Log output color
 */
function error(messageOrCallback, color) {
  _trace(messageOrCallback, LOG_LEVEL_ERROR, color);
}

/**
 * Outputs call track and the arguments
 * @ignore
 * @param {Object} args Call arguments
 * @param {*?} color Log output color
 */
function trace(args, color) {
  if (listeners.length) {
    let stackTrace = getStackTrace();
    stackTrace.push(JSON.stringify(args));
    const message = stackTrace.join("\n\t");
    _trace(message, LOG_LEVEL_TRACE, color);
  }
}

/**
 * @ignore
 */
let debugOptions;

const STORAGE_KEY = "ewe:debugOptions";
let savingPromise = Promise.resolve(null);
let storage = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.local;

/**
 * @ignore
 */
async function saveDebugOptions() {
  await savingPromise;

  let obj = {};
  obj[STORAGE_KEY] = JSON.stringify(debugOptions);
  savingPromise = storage.set(obj);
  await savingPromise;
}

/**
 * @ignore
 */
async function loadDebugOptions() {
  let obj = await storage.get(STORAGE_KEY);
  if (!obj || !obj[STORAGE_KEY]) {
    debugOptions = JSON.parse(JSON.stringify(defaultDebugOptions));
    return;
  }

  debugOptions = JSON.parse(obj[STORAGE_KEY]);
}

let initializationPromise;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  /**
   * @ignore
   * Represents a debug log output entry.
   * @typedef {Object} LogEntry
   * @property {string} message Output message.
   * @property {number} level Log level.
   *                          Can be one of `LOG_LEVEL_...` values.
   * @property {Date} timeStamp Timestamp.
   * @property {string|null} color Specific color (ANSI terminal color).
   *                         Can be one of `LOG_COLOR_...` values or `null`.
   */

  /**
   * AddonInfo assigned during start.
   * @type {Object}
   * @property {string} name
   * @property {string} version
   */
  get addonInfo() {
    return {
      name: _info_js__WEBPACK_IMPORTED_MODULE_3__.addonName,
      version: _info_js__WEBPACK_IMPORTED_MODULE_3__.addonVersion,
      bundledSubscriptions: _info_js__WEBPACK_IMPORTED_MODULE_3__.addonBundledSubscriptions,
      bundledSubscriptionsPath: _info_js__WEBPACK_IMPORTED_MODULE_3__.addonBundledSubscriptionsPath,
      manifestVersion: _info_js__WEBPACK_IMPORTED_MODULE_3__.manifestVersion
    };
  },

  /**
   * Causes elements targeted by element hiding, element hiding emulation,
   * or snippets to be highlighted instead of hidden.
   * @param {boolean} enabled Enables or disables debug mode.
   * @returns {Promise} A promise that will resolve once the settings
   *    are saved.
   */
  async setElementHidingDebugMode(enabled) {
    await this.start();
    debugOptions.elemHide = enabled;
    await saveDebugOptions();
  },

  /**
   * Updates the element hiding debug style.
   * @param {Array} cssProperties The css properties for
   *                              the debug element.
   * @param {Array} snippetsCssProperties The css properties for
   *                                      the debug snippet element.
   * @returns {Promise} A promise that will resolve once the settings
   *    are saved.
   */
  async setElementHidingDebugStyle(cssProperties, snippetsCssProperties) {
    await this.start();

    if (cssProperties) {
      debugOptions.cssProperties = cssProperties;
    }

    if (snippetsCssProperties) {
      debugOptions.snippetsCssProperties = snippetsCssProperties;
    }

    await saveDebugOptions();
  },

  /**
   * Resets all of the debug options to their default state.
   * @returns {Promise}
   */
  async clearDebugOptions() {
    await this.start();
    debugOptions = JSON.parse(JSON.stringify(defaultDebugOptions));
    await saveDebugOptions();
  },

  /**
   * @ignore
   * @param {string} text
   */
  async isInFilterStorage(text) {
    let contents = [];
    await _io_js__WEBPACK_IMPORTED_MODULE_2__.IO.readFromFile(adblockpluscore_lib_filterStorage_js__WEBPACK_IMPORTED_MODULE_1__.FilterStorage.sourceFile,
                          line => contents.push(line));
    return contents.some(line => line.includes(text));
  },

  /**
   * @ignore
   * Used internally. Returns a list of warnings in the context of validating
   * that a user has provided the appropriate files to the extension.
   * @param {Array<Recommendation>} [addonInfo.bundledSubscriptions]
   *   A list of subscriptions provided by the integrator.
   * @param {string} [addonInfo.bundledSubscriptionsPath]
   *   A path to subscription files provided by the integrator.
   * @return {Array<String>}
   */
  validateSubscriptions: _subscriptions_js__WEBPACK_IMPORTED_MODULE_9__.validate,

  /**
   * @ignore
   * Used internally. Waits for any pending save actions to complete.
   * @return {Promise} The promise that is resolved once the filter storage
   *   module has saved all items.
   */
  async ensureEverythingHasSaved() {
    await _prefs_js__WEBPACK_IMPORTED_MODULE_5__.awaitSavingComplete();
    await _core_js__WEBPACK_IMPORTED_MODULE_4__.filterEngine.filterStorage.awaitSavingComplete();
    await _sitekey_js__WEBPACK_IMPORTED_MODULE_6__._awaitSavingComplete();
    await _content_message_deferrer_js__WEBPACK_IMPORTED_MODULE_7__._awaitSavingComplete();
    await _cdp_js__WEBPACK_IMPORTED_MODULE_8__._awaitSavingComplete();
  },

  /**
   * @ignore
   * Initialize debugging.
   */
  async start() {
    if (!initializationPromise) {
      initializationPromise = loadDebugOptions();
    }
    return initializationPromise;
  },

  /**
   * @ignore
   * Return the promise for saving the debugging options.
   * @return {Promise}
   */
  async ensureSaved() {
    await savingPromise;
  },

  /**
   * Emitted when having debug output.
   * @event
   * @type {EventDispatcher<LogEntry>}
   */
  onLogEvent: new DebugEventDispatcher(),

  /**
   * Configurable logger (class) that outputs to console
   */
  ConsoleLogger,

  /**
   * Default logger instance that outputs to console
   */
  CONSOLE_LOGGER,

  /**
   * On request logger, that outputs to wrapped logger on `print()`
   */
  OnRequestLogger,

  /**
   * Default logger instance, that outputs to console on `print()`
   */
  ON_REQUEST_CONSOLE_LOGGER
});



/***/ }),

/***/ "./sdk/api/diagnostics.js":
/*!********************************!*\
  !*** ./sdk/api/diagnostics.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BlockableEventDispatcher": () => (/* binding */ BlockableEventDispatcher),
/* harmony export */   "logHiddenElements": () => (/* binding */ logHiddenElements),
/* harmony export */   "logItem": () => (/* binding */ logItem),
/* harmony export */   "loggingEnabled": () => (/* binding */ loggingEnabled),
/* harmony export */   "tracingEnabled": () => (/* binding */ tracingEnabled)
/* harmony export */ });
/* harmony import */ var adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! adblockpluscore/lib/filterClasses.js */ "./core/lib/filterClasses.js");
/* harmony import */ var adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/url.js */ "./core/lib/url.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _filters_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./filters.js */ "./sdk/api/filters.js");
/* harmony import */ var _frame_state_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./frame-state.js */ "./sdk/api/frame-state.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */







let listeners = [];
let defaultOptions = {includeElementHiding: false,
                      includeUnmatched: false,
                      filterType: "blocking",
                      tabId: null};

/**
 * The BlockableEventDispatcher class allows users to listen to
 * filters and requests.
 * @hideconstructor
 */
class BlockableEventDispatcher {
  /**
  * @typedef {Object} BlockableEventOptions
  * @param {boolean} [includeElementHiding=false]
  *   Whether or not element hiding filters accounting for dynamic DOM changes
  *   should also be emitted. This event is emitted after the page has been
  *   fully loaded, and the element hiding filters have been applied. The
  *   expected delay between the filter being applied and the event being
  *   emitted is around two seconds.
  *   Note that this will enable element hiding tracing, which degrades
  *   performance and should only be used to enable ad-hoc diagnostics.
  * @param {boolean} [includeUnmatched=false] Whether or not unmatched requests
  *   should also be emitted. This event is generally emitted after a request is
  *   fully completed. Note that blockable item events may refer to either
  *   requests or documents. Unmatched events only refer to requests. This has
  *   the potentially confusing implication that there may be allowing document
  *   events (eg a $genericblock allowing filter being activated for a document)
  *   as well as an unmatched event for the request that actually loaded the
  *   HTML of the document.
  * @param {string} [filterType="blocking"]
  *   The type of filters to emit. Can be "blocking", "allowing", or "all".
  * @param {Number} [tabId=null]
  *   The tab to filter events for. Element hiding tracing will be limited to
  *   this tab (if `includeElementHiding` is set). If set to `null` events for
  *   all tabs will be considered, and are subject to element hiding tracing
  *   (if `includeElementHiding` is set) which will degrade performance. Note
  *   that in Manifest V3 extensions we expect event listeners to be attached in
  *   the first turn of the event loop. However, it's difficult to have a tabId
  *   in the first turn of the event loop since the tabs APIs are async. This
  *   may make this option unsuitable for MV3.
  */

  /**
   * Attaches a listener function to an event. This listener will be called
   * when the Blockable event is emitted.
   * @param {function} listener The user defined function that will be called
   *                            once the specified event is emitted.
   * @param {BlockableEventOptions} options The filtering conditions to apply
   *                                        when the event is emitted.
   * @example
   * // Logs all blocked requests
   * EWE.reporting.onBlockableItem.addListener(console.log);
   * @example
   * // Log all blockable items of a specific tab for debugging purposes
   * EWE.reporting.onBlockableItem.addListener(
   *   console.log,
   *   {includeElementHiding: true,
   *    includeUnmatched: true,
   *    filterType: "all", tabId}
   * );
   */
  addListener(listener, options) {
    listeners.push({listener, options: {...defaultOptions, ...options}});
  }

  /**
   * Removes the added function. This means the listener will no
   * longer be called by the emitted event.
   * @param {function} listener The user defined function to be removed.
   * @param {Object} options The filtering conditions to apply when
   *                         the event is emitted.
   */
  removeListener(listener, options) {
    let {includeElementHiding, includeUnmatched,
         filterType, tabId} = {...defaultOptions, ...options};

    let index = listeners.findIndex(obj =>
      obj.listener == listener &&
      obj.options.includeElementHiding == includeElementHiding &&
      obj.options.includeUnmatched == includeUnmatched &&
      obj.options.filterType == filterType &&
      obj.options.tabId == tabId
    );

    if (index != -1) {
      listeners.splice(index, 1);
    }
  }
}

function logItem(request, filter, matchInfo = {}) {
  for (let {listener, options} of listeners) {
    let {includeElementHiding, includeUnmatched, filterType, tabId} = options;

    if (tabId != null && tabId != request.tabId) {
      continue;
    }

    if (filter) {
      if (!includeElementHiding && (filter.type == "elemhide" ||
                                    filter.type == "elemhideexception" ||
                                    filter.type == "elemhideemulation")) {
        continue;
      }

      if (filterType != "all" &&
          filterType == "allowing" != (filter.type == "allowing" ||
                                       filter.type == "elemhideexception")) {
        continue;
      }
    }

    if (!includeUnmatched && !filter) {
      continue;
    }

    listener({request, filter: filter && (0,_filters_js__WEBPACK_IMPORTED_MODULE_3__.convertFilter)(filter), matchInfo});
  }
}

function logHiddenElements(selectors, filters, sender) {
  let request = {
    tabId: sender.tab.id,
    frameId: sender.frameId,
    url: sender.url || _frame_state_js__WEBPACK_IMPORTED_MODULE_4__.BLANK_PAGE_URL
  };
  let {hostname} = (0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_1__.parseURL)(request.url);
  let matchInfo = {
    docDomain: hostname,
    method: "elemhide"
  };

  if (selectors.length > 0) {
    // The same filter can be listed in multiple subscriptions
    // or can be added by user, so we need to exclude the duplicates.
    let loggedElemHideFilters = [];
    for (let subscription of _core_js__WEBPACK_IMPORTED_MODULE_2__.filterEngine.filterStorage.subscriptions()) {
      if (subscription.disabled) {
        continue;
      }

      for (let text of subscription.filterText()) {
        let filter = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_0__.Filter.fromText(text);

        if (filter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_0__.ElemHideFilter &&
            selectors.includes(filter.selector) &&
            filter.isActiveOnDomain(hostname) &&
            !loggedElemHideFilters.includes(filter.text)) {
          loggedElemHideFilters.push(filter.text);
          logItem(request, filter, matchInfo);
        }
      }
    }
  }

  for (let text of filters) {
    logItem(request, adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_0__.Filter.fromText(text), matchInfo);
  }
}

function loggingEnabled(tabId) {
  return listeners.some(({options}) =>
    (options.tabId == null || options.tabId == tabId)
  );
}

function tracingEnabled(tabId) {
  return listeners.some(({options}) =>
    options.includeElementHiding &&
    (options.tabId == null || options.tabId == tabId)
  );
}


/***/ }),

/***/ "./sdk/api/dnr-filters.js":
/*!********************************!*\
  !*** ./sdk/api/dnr-filters.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "_dnrDiffSubscriptionUpdate": () => (/* binding */ _dnrDiffSubscriptionUpdate),
/* harmony export */   "addFilters": () => (/* binding */ addFilters),
/* harmony export */   "applyFilterTextUpdate": () => (/* binding */ applyFilterTextUpdate),
/* harmony export */   "clearIsDnrSubscriptionUpdating": () => (/* binding */ clearIsDnrSubscriptionUpdating),
/* harmony export */   "clearRulesetUpdates": () => (/* binding */ clearRulesetUpdates),
/* harmony export */   "disableDynamicRules": () => (/* binding */ disableDynamicRules),
/* harmony export */   "dnrDiffSubscriptionUpdate": () => (/* binding */ dnrDiffSubscriptionUpdate),
/* harmony export */   "dynamicRulesAvailable": () => (/* binding */ dynamicRulesAvailable),
/* harmony export */   "enableAllDisabledStaticRules": () => (/* binding */ enableAllDisabledStaticRules),
/* harmony export */   "enableFilters": () => (/* binding */ enableFilters),
/* harmony export */   "getDynamicFilters": () => (/* binding */ getDynamicFilters),
/* harmony export */   "getDynamicUserFilters": () => (/* binding */ getDynamicUserFilters),
/* harmony export */   "getMetadataForFilter": () => (/* binding */ getMetadataForFilter),
/* harmony export */   "init": () => (/* binding */ init),
/* harmony export */   "isDnrSubscriptionUpdating": () => (/* binding */ isDnrSubscriptionUpdating),
/* harmony export */   "migrateCustomFilters": () => (/* binding */ migrateCustomFilters),
/* harmony export */   "removeAllDynamicFilters": () => (/* binding */ removeAllDynamicFilters),
/* harmony export */   "removeOrDisableFilters": () => (/* binding */ removeOrDisableFilters),
/* harmony export */   "removeSubscriptionsDynamicFilters": () => (/* binding */ removeSubscriptionsDynamicFilters),
/* harmony export */   "restoreDynamicRules": () => (/* binding */ restoreDynamicRules),
/* harmony export */   "setMetadataForFilter": () => (/* binding */ setMetadataForFilter),
/* harmony export */   "testSetDynamicRulesAvailable": () => (/* binding */ testSetDynamicRulesAvailable),
/* harmony export */   "validateFilter": () => (/* binding */ validateFilter)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/filterClasses.js */ "./core/lib/filterClasses.js");
/* harmony import */ var adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/subscriptionClasses.js */ "./core/lib/subscriptionClasses.js");
/* harmony import */ var adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! adblockpluscore/lib/url.js */ "./core/lib/url.js");
/* harmony import */ var adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! adblockpluscore/lib/filterNotifier.js */ "./core/lib/filterNotifier.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var adblockpluscore_lib_dnr_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! adblockpluscore/lib/dnr/index.js */ "./core/lib/dnr/index.js");
/* harmony import */ var adblockpluscore_lib_dnr_mapper_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! adblockpluscore/lib/dnr/mapper.js */ "./core/lib/dnr/mapper.js");
/* harmony import */ var _subscriptions_utils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./subscriptions-utils.js */ "./sdk/api/subscriptions-utils.js");
/* harmony import */ var _subscriptions_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./subscriptions.js */ "./sdk/api/subscriptions.js");
/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../errors.js */ "./sdk/errors.js");
/* harmony import */ var _filters_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./filters.js */ "./sdk/api/filters.js");
/* harmony import */ var _initializer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./initializer.js */ "./sdk/api/initializer.js");
/* harmony import */ var _set_operations_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./set-operations.js */ "./sdk/api/set-operations.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./types.js */ "./sdk/api/types.js");
/* harmony import */ var _prefs_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./prefs.js */ "./sdk/api/prefs.js");
/* harmony import */ var _info_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./info.js */ "./sdk/api/info.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */






















let highestRuleId = 1;

// Filter text to related details (enabled, rule ids, subscription ids, etc) map
let dynamicFilters = new Map();

// Subscription id to last diff update map
let lastDiffUpdates = null;

let initializationPromise;

let getRulesFromFilter = () => Promise.resolve({});
if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
  getRulesFromFilter = (0,adblockpluscore_lib_dnr_index_js__WEBPACK_IMPORTED_MODULE_6__.createConverter)({
    async isRegexSupported(regex) {
      let result = await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.isRegexSupported(regex);
      return result.isSupported;
    }
  });
}

async function restoreDynamicRules(subscriptionId) {
  for (let subscription of _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.subscriptions()) {
    if (subscription.id == subscriptionId) {
      ensureRulesetUpdatesLoaded();

      let lastUpdate = lastDiffUpdates.get(subscription.id);
      if (lastUpdate) {
        await _dnrDiffSubscriptionUpdate(subscription, lastUpdate, true);
      }

      break;
    }
  }
}

async function disableDynamicRules(subscriptionId) {
  let subscriptionDynRules = findDynamicFilters(subscriptionId);
  let {removedDynamicFilters, removeRuleIds} = removeDynamicFilters(
    subscriptionId, [...subscriptionDynRules.keys()]);
  removedDynamicFilters.forEach(text => dynamicFilters.delete(text));
  await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.updateDynamicRules({removeRuleIds});
}

// returns a set of filters (texts) that relate to requested subscription
function findDynamicFilters(subscriptionId) {
  let result = new Set();

  for (let [text, detail] of dynamicFilters.entries()) {
    if (detail && detail.subscriptionIds) {
      let index = detail.subscriptionIds.indexOf(subscriptionId);
      if (index !== -1) {
        result.add(text);
      }
    }
  }

  return result;
}

function countRulesToRemove(subscriptionId, filtersToRemove) {
  let rulesCount = 0;
  for (let text of filtersToRemove) {
    let detail = dynamicFilters.get(text);
    if (detail && detail.ruleIds && detail.subscriptionIds &&
        detail.subscriptionIds.length == 1 &&
        detail.subscriptionIds[0] == subscriptionId) {
      rulesCount += detail.ruleIds.length;
    }
  }
  return rulesCount;
}

/**
 * Remove the dynamic filters for a subscription.
 *
 * @param {String} subscriptionId The subscription id.
 * @param {Array<String>} filters The filter text array to remove.
 *
 * @return {Object} The rules that were removed.
 *
 * @private
 */
function removeDynamicFilters(subscriptionId, filters) {
  let removedDynamicFilters = filters.filter(text => {
    let detail = dynamicFilters.get(text);
    if (detail && detail.subscriptionIds) {
      let index = detail.subscriptionIds.indexOf(subscriptionId);
      if (index !== -1) {
        detail.subscriptionIds.splice(index, 1);
      }
      return detail.subscriptionIds.length == 0;
    }
    return false;
  });

  let removeRuleIds = removedDynamicFilters.flatMap(text => {
    let detail = dynamicFilters.get(text);
    return detail ? detail.ruleIds : [];
  });

  return {removedDynamicFilters, removeRuleIds};
}

// URLs of the subscriptions that are currently updating
let dnrSubscriptionUpdating = new Set();

function isDnrSubscriptionUpdating(url) {
  return dnrSubscriptionUpdating.has(url);
}

function clearIsDnrSubscriptionUpdating() {
  dnrSubscriptionUpdating.clear();
}

/**
 * Update a DNR subscription using full update mechanism (similar to MV2).
 *
 * @param {Subscription} subscription The subscription updated.
 * @param {?object} lines The most recent filter text.
 *
 * @private
 */
async function dnrFullSubscriptionUpdate(subscription, lines) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_14__.debug)("Full update started");

  lines.shift();

  let filterText = [];
  for (let line of lines) {
    line = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.Filter.normalize(line);
    if (line) {
      filterText.push(line);
    }
  }

  try {
    await _dnrFullSubscriptionUpdate(subscription, filterText);
  }
  catch (e) {
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_14__.error)(`Failed to full update: ${e.message}`);
    if (e.type === _errors_js__WEBPACK_IMPORTED_MODULE_10__.ERROR_TOO_MANY_FILTERS) {
      subscription.downloadStatus = "synchronize_too_many_filters";
      e.rulesAvailable = await dynamicRulesAvailable();
    }
    else {
      subscription.downloadStatus = "synchronize_dnr_error";
    }
  }
  finally {
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_14__.debug)("Full update finished");
  }
}

/**
 * Update a DNR subscription using diff mechanism.
 *
 * @param {Subscription} subscription The subscription updated.
 * @param {?object} updates The list of added and removed filter text. If
 *   falsey then nothing happens.
 *
 * @private
 */
async function dnrDiffSubscriptionUpdate(subscription, updates) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_14__.debug)("Diff update started");
  if (isDnrSubscriptionUpdating(subscription.url)) {
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_14__.debug)(`Already updating ${subscription.url}, skipping`);
    return;
  }
  dnrSubscriptionUpdating.add(subscription.url);

  try {
    await _dnrDiffSubscriptionUpdate(subscription, updates);
  }
  catch (e) {
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_14__.error)(`Failed to diff update: ${e.message}`);
    if (e.type === _errors_js__WEBPACK_IMPORTED_MODULE_10__.ERROR_TOO_MANY_FILTERS){
      subscription.downloadStatus = "synchronize_diff_too_many_filters";
      e.rulesAvailable = await dynamicRulesAvailable();
    }
    else {
      subscription.downloadStatus = "synchronize_diff_error";
    }
    // Here we have to decide what to do with this error
    // Some options:
    //  * add the entire error object as a new property of the subscription
    //  * create a new event under EWE.subscription to notify the error
    //  * leave it as it is, the "too_many_filters" status will be enough
  }
  finally {
    dnrSubscriptionUpdating.delete(subscription.url);
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_14__.debug)("Diff update finished");
  }
}

async function removeSubscriptionsDynamicFilters() {
  for (let subscription of _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.subscriptions()) {
    if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_2__.DiffUpdatableSubscription) {
      await disableDynamicRules(subscription.id);
    }
  }
}

async function enableAllDisabledStaticRules() {
  let disableRuleIds = [];
  for (let subscription of _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.subscriptions()) {
    if (!subscription.hasBundledFilters || !subscription.id) {
      continue;
    }

    let enableRuleIds =
      await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.getDisabledRuleIds({
        rulesetId: subscription.id
      });

    await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.updateStaticRules({
      rulesetId: subscription.id,
      disableRuleIds,
      enableRuleIds
    });
  }
}

async function _dnrFullSubscriptionUpdate(subscription, filterText) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_14__.trace)({subscription, filterText});

  // With some path of code the filter engine might not be initialized
  // if the service worker got awaken.
  await _initializer_js__WEBPACK_IMPORTED_MODULE_12__["default"].start();

  let plannedChanges = await processFilterTexts(filterText, subscription.url);

  // All the dynamic filters for this subscription must be removed.
  // User subscriptions don't have an ID, using URL instead
  let knownDynamicFilters = findDynamicFilters(subscription.url);

  if (knownDynamicFilters.size != 0) {
    plannedChanges.relateToThisSubscription.forEach(
      text => knownDynamicFilters.delete(text));

    plannedChanges.relateToOtherSubscriptions.forEach(
      text => knownDynamicFilters.delete(text));
  }

  let dynamicFiltersToRemove = [...knownDynamicFilters.keys()];

  let removeRulesCount = countRulesToRemove(subscription.url,
                                            dynamicFiltersToRemove);
  if (plannedChanges.add.length - removeRulesCount >
      await dynamicRulesAvailable()) {
    throw new _types_js__WEBPACK_IMPORTED_MODULE_15__.FilterError(_errors_js__WEBPACK_IMPORTED_MODULE_10__.ERROR_TOO_MANY_FILTERS);
  }

  // Adding subscription.id into existing filter
  for (let text of plannedChanges.relateToOtherSubscriptions) {
    let filter = dynamicFilters.get(text);
    filter.subscriptionIds.push(subscription.url);
  }

  // Removing subscription.id from existing filters that are removed.
  let {removeRuleIds} = removeDynamicFilters(
    subscription.url, dynamicFiltersToRemove);

  let subscriptionActive = (await _subscriptions_js__WEBPACK_IMPORTED_MODULE_9__["default"].has(subscription.url)) &&
      !subscription.disabled;
  let addRules = subscriptionActive ? plannedChanges.add : void 0;
  await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.updateDynamicRules(
    {addRules, removeRuleIds}
  );

  if (subscriptionActive) {
    plannedChanges.details.forEach(details => {
      let {useFilterEngine, filter, ruleIds, enabled} = details;

      setHighestRuleId(ruleIds);
      dynamicFilters.set(filter.text,
                         {ruleIds, useFilterEngine, enabled, metadata: {},
                          subscriptionIds: [subscription.url]});
    });
  }

  storeDynamicFilters();
  let update = subscription.updateFilterText(filterText);
  adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_4__.filterNotifier.emit(
    "subscription.updated",
    subscription,
    update
  );
}

async function _dnrDiffSubscriptionUpdate(
  subscription, updates, skipEmitting) {
  if (!webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest || !updates) {
    return;
  }
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_14__.trace)({subscription, updates});

  // For now we only want to handle subscriptions that are in the
  // recommendations.
  if (!subscription.type) {
    return;
  }

  // Determine if we need to update static rules.
  let needUpdateStaticRules = !subscription.downloadable;

  let {added, removed} = updates;

  // With some path of code the filter engine might not be initialized
  // if the service worker got awaken.
  await _initializer_js__WEBPACK_IMPORTED_MODULE_12__["default"].start();

  let rollbackCallback = null;
  let filterTextToRuleIdsMapper = null; // to static rules ids

  // The already disabled static rules ids.
  let disabledStaticRulesIds = null;

  // This will contain the text of all the dynamic filters for the subscription
  // and it will be updated to remove those that are still here.
  let knownDynamicFilters = new Set();

  if (needUpdateStaticRules) {
    filterTextToRuleIdsMapper = new adblockpluscore_lib_dnr_mapper_js__WEBPACK_IMPORTED_MODULE_7__.DnrMapper(
      async() => await (0,_subscriptions_utils_js__WEBPACK_IMPORTED_MODULE_8__.getSubscriptionRulesetMap)(subscription.id)
    );
    disabledStaticRulesIds =
      await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.getDisabledRuleIds({
        rulesetId: subscription.id
      });

    ensureRulesetUpdatesLoaded();

    let lastUpdate = lastDiffUpdates.get(subscription.id);

    // All the dynamic filters for this subscription must be removed.
    knownDynamicFilters = findDynamicFilters(subscription.id);

    rollbackCallback = async() => {
      if (!lastUpdate) {
        lastUpdate = {added: [], removed: []};
      }
      await _dnrDiffSubscriptionUpdate(subscription, lastUpdate);
    };
  }

  let filters = await processFilterTexts(
    added, subscription.id, filterTextToRuleIdsMapper);
  if (knownDynamicFilters.size != 0) {
    filters.relateToThisSubscription.forEach(
      text => knownDynamicFilters.delete(text));
  }

  // Adding subscription.id into existing filter
  for (let text of filters.relateToOtherSubscriptions) {
    let filter = dynamicFilters.get(text);
    knownDynamicFilters.delete(text);
    filter.subscriptionIds.push(subscription.id);
  }

  // A union of what is explicitly listed in `removed`
  // and dynamic filters that we had for this subscription previously
  // and not listed in `added` anymore
  let dynamicFiltersToRemove = removed.concat(...knownDynamicFilters.keys());

  // Removing subscription.id from existing filters that are removed.
  let {removedDynamicFilters, removeRuleIds} =
      removeDynamicFilters(subscription.id, dynamicFiltersToRemove);

  if (filters.add.length - removeRuleIds.length >
      await dynamicRulesAvailable()) {
    if (rollbackCallback) {
      await rollbackCallback();
    }
    throw new _types_js__WEBPACK_IMPORTED_MODULE_15__.FilterError(_errors_js__WEBPACK_IMPORTED_MODULE_10__.ERROR_TOO_MANY_FILTERS);
  }

  // Empty array cause exceptions. Make it `undefined`.
  if (removeRuleIds.length == 0) {
    removeRuleIds = void 0;
  }

  // `skipEmitting` signals that's the restoring of dynamic filters,
  // so the subscription is about to be enabled.
  let subscriptionActive = skipEmitting ||
    ((await _subscriptions_js__WEBPACK_IMPORTED_MODULE_9__["default"].has(subscription.url)) && !subscription.disabled);
  await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.updateDynamicRules(
    {addRules: subscriptionActive ? filters.add : void 0, removeRuleIds}
  );

  removedDynamicFilters.forEach(text => dynamicFilters.delete(text));

  if (subscriptionActive) {
    filters.details.forEach(details => {
      let {useFilterEngine, filter, ruleIds, enabled} = details;

      setHighestRuleId(ruleIds);
      dynamicFilters.set(filter.text,
                         {ruleIds, useFilterEngine, enabled, metadata: {},
                          subscriptionIds: [subscription.id]});
    });
  }

  if (needUpdateStaticRules) {
    if (removed.length > 0) {
      await filterTextToRuleIdsMapper.load();
    }

    let disableRuleIds = removed.flatMap(text => {
      let ids = filterTextToRuleIdsMapper.get(text);
      return ids ? ids : [];
    });
    // Empty array cause exceptions. Make it `undefined`.
    if (disableRuleIds.length == 0) {
      disableRuleIds = void 0;
    }

    let enableRuleIds = [...filters.staticRulesToEnable];
    // Reenable the disabled rules to reset the state:
    // `browser.declarativeNetRequest.updateStaticRules` will handle this
    // properly.
    enableRuleIds.push(...disabledStaticRulesIds);

    try {
      await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.updateStaticRules({
        rulesetId: subscription.id,
        disableRuleIds,
        enableRuleIds
      });
    }
    catch (e) {
      if (e.message == _errors_js__WEBPACK_IMPORTED_MODULE_10__.ERROR_DISABLED_RULE_LIMIT_REACHED) {
        // This check is based on the error message because there doesn't
        // currently seem to be another appropriate field it identify this case.
        if (rollbackCallback) {
          await rollbackCallback();
        }
        throw new _types_js__WEBPACK_IMPORTED_MODULE_15__.FilterError(_errors_js__WEBPACK_IMPORTED_MODULE_10__.ERROR_TOO_MANY_FILTERS);
      }
      throw e;
    }
  }

  let storageUpdate = await applyFilterTextUpdate(subscription, updates);

  lastDiffUpdates.set(subscription.id, updates);
  storeRulesetUpdates();
  storeDynamicFilters();

  if (!skipEmitting) {
    // `dnrDiffSubscriptionUpdate()` is currently used for some internal
    // routines, eg. restoring the dynamic rules for the subscription,
    // which does not mean there was a subscription update actually (EE-163),
    // so we might skip emitting the event.
    adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_4__.filterNotifier.emit("subscription.updated", subscription, storageUpdate);
  }
}

/**
 * Apply the filter text update to the subscription.
 *
 * @param {object} subscription The subscription to apply the update to
 * @param {FilterDiffs} updates The update to apply.
 */
async function applyFilterTextUpdate(subscription, updates) {
  ensureRulesetUpdatesLoaded();

  // apply the update to the storage
  let base = lastDiffUpdates.get(subscription.id);
  let storageUpdate;
  if (base) {
    storageUpdate = (0,_set_operations_js__WEBPACK_IMPORTED_MODULE_13__.filtersUpdateDiff)(base, updates);
  }
  else {
    storageUpdate = {
      added: updates.added,
      removed: updates.removed
    };
  }

  for (let text of storageUpdate.removed) {
    let index = subscription.findFilterTextIndex(text);
    if (index >= 0) {
      subscription.deleteFilterAt(index);
    }
  }

  for (let text of storageUpdate.added) {
    subscription.addFilterText(text);
  }

  await _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.saveToDisk();
  return storageUpdate;
}

function validateFilter(filter) {
  if (filter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.InvalidFilter) {
    return new _types_js__WEBPACK_IMPORTED_MODULE_15__.FilterError("invalid_filter", filter.reason, filter.option);
  }

  if ((0,adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.isActiveFilter)(filter) && filter.domains) {
    for (let domain of filter.domains.keys()) {
      if (domain && !(0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_3__.isValidHostname)(domain)) {
        return new _types_js__WEBPACK_IMPORTED_MODULE_15__.FilterError("invalid_domain", domain);
      }
    }
  }

  return null;
}

async function removeAllDynamicFilters() {
  if (!webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
    return;
  }

  dynamicFilters = new Map();
  _prefs_js__WEBPACK_IMPORTED_MODULE_16__.Prefs.dynamic_filters = [];

  let rules = await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.getDynamicRules();
  if (rules.length == 0) {
    return;
  }

  await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.updateDynamicRules({
    removeRuleIds: rules.map(r => r.id)
  });

  return rules;
}

function setHighestRuleId(ruleIds) {
  if (!ruleIds) {
    return;
  }

  for (let id of ruleIds) {
    if (highestRuleId < id) {
      highestRuleId = id;
    }
  }
}

function storeDynamicFilters() {
  let storageArray = [];
  storageArray.push(...dynamicFilters);
  _prefs_js__WEBPACK_IMPORTED_MODULE_16__.Prefs.dynamic_filters = storageArray;
}

function storeRulesetUpdates() {
  let storageArray = [];
  storageArray.push(...lastDiffUpdates);
  _prefs_js__WEBPACK_IMPORTED_MODULE_16__.Prefs.ruleset_updates = storageArray;
}

function ensureRulesetUpdatesLoaded() {
  if (!lastDiffUpdates) {
    loadRulesetUpdates();
  }
}

function loadRulesetUpdates() {
  let rulesetUpdatesArray = _prefs_js__WEBPACK_IMPORTED_MODULE_16__.Prefs.ruleset_updates;
  if (!Array.isArray(rulesetUpdatesArray)) {
    rulesetUpdatesArray = [];
  }

  lastDiffUpdates = new Map(rulesetUpdatesArray);
}

function clearRulesetUpdates() {
  ensureRulesetUpdatesLoaded();
  lastDiffUpdates.clear();
  _prefs_js__WEBPACK_IMPORTED_MODULE_16__.Prefs.ruleset_updates = [];
}

function init() {
  if (!initializationPromise) {
    initializationPromise = (async() => {
      if (!webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
        return;
      }

      let dynamicFilterArray = _prefs_js__WEBPACK_IMPORTED_MODULE_16__.Prefs.dynamic_filters;
      if (Array.isArray(dynamicFilterArray) &&
          dynamicFilterArray.length > 0) {
        dynamicFilters = new Map(dynamicFilterArray);
      }
      else {
        // DNR rules persist after the extension is uninstalled. The same cannot
        // be said for storage. To be safe, if we have no record of dynamic
        // filters let's clear any DNR rules too.
        await removeAllDynamicFilters();
      }

      for (let {ruleIds} of dynamicFilters.values()) {
        setHighestRuleId(ruleIds);
      }

      adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_4__.filterNotifier.on("subscription.diffReceived", dnrDiffSubscriptionUpdate);
      adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_4__.filterNotifier.on("subscription.fullUpdateReceived", dnrFullSubscriptionUpdate);
    })();
  }

  return initializationPromise;
}

async function getRules(filter) {
  let ruleIds = [];
  let filterRules = [];

  // "sitekey" option is not supported in DNR
  if (filter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.URLFilter && !filter.sitekeys) {
    let result = await getRulesFromFilter(filter.text);
    if (result.name == "Error") {
      let {option} = result.detail;
      throw new _types_js__WEBPACK_IMPORTED_MODULE_15__.FilterError(result.message, result.detail.text, option);
    }

    for (let rule of result) {
      let id = ++highestRuleId;
      rule.id = id;
      ruleIds.push(id);
      filterRules.push(rule);
    }
  }

  return {filterRules, ruleIds};
}

/**
 * @typedef {Object} FilterDetails
 * @property {Filter} filter The filter object
 * @property {Array.<number>} ruleIds The rule ids for the filter in
 *   the dynamic ruleset.
 * @property {boolean} enabled Whether the filter is enabled or
 *   disabled.
 *
 * @typedef {Object} ProcessedFilters
 * @property {Array.<Object>} add Rules to add to the dynamic ruleset
 * @property {Array.<Error>} invalid Invalid filters
 * @property {Array.<string>} relateToThisSubscription Filters that exists.
 * @property {Array.<string>} relateToOtherSubscriptions Filters that
 *   exist on other subscriptions.
 * @property {Array.<number>} staticRulesToEnable Static rules to enable.
 * @property {Array.<FilterDetails>} details Details of the filters.
 */
/**
 * Process the filter texts.
 *
 * @param {Array.<string>} texts The array of filter texts.
 * @param {?string} subscriptionId The optional subscription ID.
 * @param {?mapper} mapper The DNR mapper for the subscription. If null then
 *   this doesn't check for static rules to enable or disable.
 *
 * @ignore
 * @returns {Promise<ProcessedFilters>} The processed filters.
 */
async function processFilterTexts(texts, subscriptionId = null, mapper = null) {
  let details = [];
  let add = [];
  let invalid = [];

  // known filter texts that relate to this subscription
  let relateToThisSubscription = [];

  // known filter texts that relate to other subscriptions
  let relateToOtherSubscriptions = [];

  let staticRulesToEnable = [];
  let processedFilterTexts = new Set();

  texts = texts.map(text => adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.Filter.normalize(text));
  for (let text of texts) {
    // skip processing possible filter text duplicates
    if (processedFilterTexts.has(text)) {
      continue;
    }

    let filterDetails = dynamicFilters.get(text);
    let filterIsKnown = (filterDetails != null);
    if (filterDetails) {
      let subscriptionIds = filterDetails.subscriptionIds || [null];
      if (subscriptionIds.includes(subscriptionId)) {
        relateToThisSubscription.push(text);
      }
      else {
        relateToOtherSubscriptions.push(text);
      }
    }

    if (mapper) {
      await mapper.load();
      let staticRuleIds = mapper.get(text);
      if (staticRuleIds) {
        staticRulesToEnable.push(...staticRuleIds);
        filterIsKnown = true;
      }
    }

    if (filterIsKnown) {
      continue;
    }

    let filter = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.Filter.fromText(text);
    let filterError = validateFilter(filter);
    if (filterError) {
      invalid.push(filterError);
      continue;
    }

    if (!_core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.filterState.isEnabled(text)) {
      details.push({filter, ruleIds: [], enabled: false});
    }
    else {
      try {
        let {filterRules, ruleIds} = await getRules(filter);
        if (filterRules) {
          add.push(...filterRules);
        }
        details.push({filter, ruleIds, enabled: true});
      }
      catch (e) {
        invalid.push(e);
      }
    }

    processedFilterTexts.add(text);
  }

  return {
    add,
    invalid,
    relateToThisSubscription,
    relateToOtherSubscriptions,
    staticRulesToEnable,
    details
  };
}

const RULES_LIMIT_KEY = "EWE:Dynamic_Rules_Limit";

/**
 * For testing purpose, set the a maximum number of dynamic
 * rules. This value is used by `dynamicRulesAvailable()`.
 * @param {number} num The maximum number of dynamic rules. A value of
 *   `0` just unset it and uses the "system" default which is
 *   `browser.declarativeNetRequest.MAX_NUMBER_OF_DYNAMIC_AND_SESSION_RULES`
 *   on Chromium < 121/Firefox or
 *   `browser.declarativeNetRequest.MAX_NUMBER_OF_DYNAMIC_RULES`
 *   on more recent versions.
 *
 * @private
 */
async function testSetDynamicRulesAvailable(num) {
  await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.session.set({[RULES_LIMIT_KEY]: num});
}

async function dynamicRulesAvailable() {
  let {declarativeNetRequest} = webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__;
  if (!declarativeNetRequest) {
    return Infinity;
  }

  let overriddenMaxRules = await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.session.get(RULES_LIMIT_KEY);
  let maxRules = overriddenMaxRules[RULES_LIMIT_KEY] > 0 ?
      overriddenMaxRules[RULES_LIMIT_KEY] :
      (0,_info_js__WEBPACK_IMPORTED_MODULE_17__.isFirefox)() ?
        declarativeNetRequest.MAX_NUMBER_OF_DYNAMIC_AND_SESSION_RULES :
        (0,_info_js__WEBPACK_IMPORTED_MODULE_17__.getBrowserVersion)()[0] < 121 ? // Chromium or edge: EE-315
          declarativeNetRequest.MAX_NUMBER_OF_DYNAMIC_AND_SESSION_RULES :
          declarativeNetRequest.MAX_NUMBER_OF_DYNAMIC_RULES;

  let used = (await declarativeNetRequest.getDynamicRules()).length +
      (await declarativeNetRequest.getSessionRules()).length;
  return maxRules - used;
}

async function addFilters(texts, metadata) {
  await init();
  let filters = await processFilterTexts(texts);
  if (filters.invalid.length > 0) {
    throw filters.invalid[0];
  }

  let {length} = filters.add;
  if (length > 0) {
    // always false when !browser.declarativeNetRequest
    if (length > await dynamicRulesAvailable()) {
      throw new _types_js__WEBPACK_IMPORTED_MODULE_15__.FilterError(_errors_js__WEBPACK_IMPORTED_MODULE_10__.ERROR_TOO_MANY_FILTERS);
    }

    // so that this would throw the right error in case
    // browser.declarativeNetRequest doesn't exist or if
    // the API returned a different error instead
    await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.updateDynamicRules({
      addRules: filters.add
    });
  }

  for (let text of filters.relateToOtherSubscriptions) {
    let filter = dynamicFilters.get(text);
    if (!filter.subscriptionIds) {
      filter.subscriptionIds = [];
    }
    filter.subscriptionIds.push(null);
  }

  let subscription;
  for (let filterDetails of filters.details) {
    let {filter, ruleIds, enabled} = filterDetails;
    subscription = await _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.addFilter(filter, subscription);

    setHighestRuleId(ruleIds);
    dynamicFilters.set(filter.text, {ruleIds, enabled, metadata,
                                     subscriptionIds: [null]});
  }

  storeDynamicFilters();

  return {
    added: filters.details.map(detail => detail.filter.text)
      .concat(filters.relateToOtherSubscriptions),
    exists: filters.relateToThisSubscription
  };
}

function setMetadataForFilter(text, metadata) {
  let details = dynamicFilters.get(text);
  if (!details) {
    throw new _types_js__WEBPACK_IMPORTED_MODULE_15__.FilterError(_errors_js__WEBPACK_IMPORTED_MODULE_10__.ERROR_FILTER_NOT_FOUND);
  }

  let oldMetadata = details.metadata;
  details.metadata = metadata;
  _filters_js__WEBPACK_IMPORTED_MODULE_11__.onChangedFilter.emit({...adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.Filter.fromText(text), metadata, oldMetadata},
                       "metadata");

  storeDynamicFilters();
}

function getMetadataForFilter(text) {
  let details = dynamicFilters.get(text);
  if (!details) {
    return null;
  }

  let metadata = details.metadata;
  return (typeof metadata != "undefined") ? metadata : null;
}

async function removeOrDisableFilters(filterTexts, remove = true) {
  await init();

  let {dynamicFilterTexts} = splitFilterTexts(filterTexts);

  await removeOrDisableDynamicFilters(dynamicFilterTexts, remove);
  // It can happen that user filter duplicates existing filter from
  // static ruleset.
  // If we need to disable the filter, then we should
  // also disable the static rule.
  // If we need to remove the dynamic filter, then we should
  // enable the according static rule just like user filter never
  // existed.
  await enableStaticRules(filterTexts, remove);
}

async function enableStaticRules(filterTexts, enable) {
  let dnrMappers = new Map();
  let rulesetIdToRuleIds = new Map();

  // map filter text to (rulesetId => list(ruleIds)) map
  for (let filterText of filterTexts) {
    for (let subscription of
      _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.subscriptions(filterText)) {
      if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_2__.SpecialSubscription ||
        !subscription.id) {
        continue;
      }

      let dnrMapperForThisSubscription = dnrMappers.get(subscription.id);
      if (!dnrMapperForThisSubscription) {
        dnrMapperForThisSubscription = new adblockpluscore_lib_dnr_mapper_js__WEBPACK_IMPORTED_MODULE_7__.DnrMapper(
          async() => await (0,_subscriptions_utils_js__WEBPACK_IMPORTED_MODULE_8__.getSubscriptionRulesetMap)(subscription.id));
        await dnrMapperForThisSubscription.load();
        dnrMappers.set(subscription.id, dnrMapperForThisSubscription);
      }

      try {
        let ruleIds = dnrMapperForThisSubscription.get(filterText);
        if (ruleIds && ruleIds.length) {
          rulesetIdToRuleIds.set(subscription.id, ruleIds);
        }
      }
      catch (e) {
        // mapping file might be missing
      }
    }
  }

  // disable the rules in static rulesets
  for (const [rulesetId, ruleIds] of rulesetIdToRuleIds.entries()) {
    let disableRuleIds = (enable ? void 0 : ruleIds);
    let enableRuleIds = (enable ? ruleIds : void 0);

    await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.updateStaticRules({
      rulesetId, disableRuleIds, enableRuleIds
    });
  }
}

async function removeOrDisableDynamicFilters(filterTexts, remove = true) {
  let ruleIdsToRemove = [];

  for (let text of filterTexts) {
    let details = dynamicFilters.get(text);

    if (remove) {
      // Removing existing filter
      if (details) {
        if (!details.subscriptionIds) {
          details.subscriptionIds = [];
        }

        let index = details.subscriptionIds.indexOf(null);
        if (index !== -1) {
          details.subscriptionIds.splice(index, 1);
        }
      }
      // Removing filter only if subscriptionIds array is empty
      if (details.subscriptionIds && details.subscriptionIds.length == 0) {
        for (let ruleId of details.ruleIds) {
          ruleIdsToRemove.push(ruleId);
        }

        _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.removeFilter(adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.Filter.fromText(text));
        dynamicFilters.delete(text);
      }
      else if (!details.enabled) {
        await enableFilters([text]);
      }
    }
    else {
      for (let ruleId of details.ruleIds) {
        ruleIdsToRemove.push(ruleId);
      }

      // Disabling filter
      _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.filterState.setEnabled(text, false);

      details.enabled = false;
      details.ruleIds = [];
      dynamicFilters.set(text, details);
    }
  }

  if (ruleIdsToRemove.length > 0) {
    await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.updateDynamicRules({
      removeRuleIds: ruleIdsToRemove
    });
  }

  storeDynamicFilters();
}

async function enableDynamicFilters(filterTexts) {
  let rules = [];

  for (let text of filterTexts) {
    let normalized = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.Filter.normalize(text);
    let details = dynamicFilters.get(normalized);

    if (!details || details.enabled) {
      continue;
    }

    let filter = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.Filter.fromText(normalized);
    _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.filterState.setEnabled(filter.text, true);

    let {filterRules, ruleIds} = await getRules(filter);
    rules.push(...filterRules);

    setHighestRuleId(ruleIds);
    dynamicFilters.set(filter.text, {ruleIds, enabled: true});
  }

  if (rules.length == 0) {
    return;
  }

  await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest.updateDynamicRules({
    addRules: rules
  });

  storeDynamicFilters();
}

function splitFilterTexts(filterTexts) {
  let dynamicFilterTexts = [];
  let staticFilterTexts = [];

  let normalizedFilterTexts = filterTexts.map(text => adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.Filter.normalize(text));
  for (let filterText of normalizedFilterTexts) {
    if (dynamicFilters.has(filterText)) {
      dynamicFilterTexts.push(filterText);
    }
    else {
      staticFilterTexts.push(filterText);
    }
  }

  return {dynamicFilterTexts, staticFilterTexts};
}

async function enableFilters(filterTexts) {
  await init();

  let {dynamicFilterTexts, staticFilterTexts} = splitFilterTexts(filterTexts);

  await enableDynamicFilters(dynamicFilterTexts);
  await enableStaticRules(staticFilterTexts, true);
}

async function getDynamicFilters() {
  await init();
  return dynamicFilters;
}

async function getDynamicUserFilters() {
  await init();
  let dynamicUserFilters = new Map();

  for (let [filterText, details] of dynamicFilters.entries()) {
    if (!details.subscriptionIds || details.subscriptionIds.includes(null)) {
      dynamicUserFilters.set(filterText, details);
    }
  }
  return dynamicUserFilters;
}

async function migrateCustomFilters() {
  let filters = [];

  for (let subscription of _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.subscriptions()) {
    if (!(subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_2__.SpecialSubscription)) {
      continue;
    }

    for (let text of subscription.filterText()) {
      filters.push({
        text,
        metadata: subscription.metadata,
        disabled: _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.filterState.isDisabledForSubscription(text, subscription.url)
      });
    }
  }

  for (let filter of filters) {
    try {
      _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.removeFilter(adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.Filter.fromText(filter.text));
      await addFilters([filter.text], filter.metadata);
      if (filter.disabled) {
        await (0,_filters_js__WEBPACK_IMPORTED_MODULE_11__.disableFilter)(filter.text);
      }
    }
    catch (e) {
      let errors = _prefs_js__WEBPACK_IMPORTED_MODULE_16__.Prefs.migration_filter_errors;
      errors.push({error: e.message, filter});
      _prefs_js__WEBPACK_IMPORTED_MODULE_16__.Prefs.migration_filter_errors = errors;
    }
  }
}


/***/ }),

/***/ "./sdk/api/dnr-request-reporter.js":
/*!*****************************************!*\
  !*** ./sdk/api/dnr-request-reporter.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "start": () => (/* binding */ start)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var _diagnostics_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./diagnostics.js */ "./sdk/api/diagnostics.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _initializer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./initializer.js */ "./sdk/api/initializer.js");
/* harmony import */ var _request_filter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./request-filter.js */ "./sdk/api/request-filter.js");
/* harmony import */ var adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! adblockpluscore/lib/contentTypes.js */ "./core/lib/contentTypes.js");
/* harmony import */ var adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! adblockpluscore/lib/filterClasses.js */ "./core/lib/filterClasses.js");
/* harmony import */ var adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! adblockpluscore/lib/url.js */ "./core/lib/url.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */













function getContext(details) {
  let contentType = (0,_request_filter_js__WEBPACK_IMPORTED_MODULE_4__.getRequestContentType)(details);

  if (details.type == "main_frame" || details.type == "sub_frame") {
    let parentFrame = (0,_request_filter_js__WEBPACK_IMPORTED_MODULE_4__.getParentFrameInfoFromWebrequestDetails)(details);
    let {hostname: parentHostname} = parentFrame || {};
    let initiator = details.documentUrl || (0,_request_filter_js__WEBPACK_IMPORTED_MODULE_4__.sanitizeInitiator)(details.initiator);
    // In cross-origin requests, Chrome's initiator has the correct url domain
    let urlInfo = (0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_7__.parseURL)(initiator || details.url);
    let hostname = parentHostname || urlInfo.hostname;

    let docDomain = details.type == "main_frame" ? null : hostname;

    let specificOnlyFilter = _core_js__WEBPACK_IMPORTED_MODULE_2__.filterEngine.defaultMatcher.match(
      details.url, adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_5__.contentTypes.GENERICBLOCK, hostname, null
    );
    let allowingDocumentFilter = _core_js__WEBPACK_IMPORTED_MODULE_2__.filterEngine.defaultMatcher.match(
      details.url, adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_5__.contentTypes.DOCUMENT, hostname, null
    );
    if (!allowingDocumentFilter && parentFrame &&
        parentFrame.allowingDocumentFilter) {
      allowingDocumentFilter = parentFrame.allowingDocumentFilter;
    }

    let specificOnly = !!specificOnlyFilter;

    return {
      allowingDocumentFilter,
      specificOnly,
      docDomain,
      contentType
    };
  }

  let frame = (0,_request_filter_js__WEBPACK_IMPORTED_MODULE_4__.getFrameInfoFromWebrequestDetails)(details);
  if (!frame) {
    let allowingDocumentFilter = null;
    let specificOnly = false;
    let docDomain = null;

    let documentUrl = details.documentUrl ||
        (0,_request_filter_js__WEBPACK_IMPORTED_MODULE_4__.sanitizeInitiator)(details.initiator);
    if (documentUrl) {
      let urlInfo = (0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_7__.parseURL)(documentUrl);
      docDomain = urlInfo.hostname;

      allowingDocumentFilter = _core_js__WEBPACK_IMPORTED_MODULE_2__.filterEngine.defaultMatcher.match(
        documentUrl, adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_5__.contentTypes.DOCUMENT, docDomain, null
      );

      specificOnly = Boolean(_core_js__WEBPACK_IMPORTED_MODULE_2__.filterEngine.defaultMatcher.match(
        documentUrl, adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_5__.contentTypes.GENERICBLOCK, docDomain, null
      ));
    }

    return {
      allowingDocumentFilter,
      specificOnly,
      docDomain,
      contentType
    };
  }

  let allowingDocumentFilter = frame.allowingDocumentFilter;
  let specificOnly = (frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_5__.contentTypes.GENERICBLOCK) != 0;
  let docDomain = frame.hostname;

  return {
    allowingDocumentFilter,
    specificOnly,
    docDomain,
    contentType
  };
}

async function onBeforeRedirect(details) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_8__.trace)({details});

  if (!(0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_1__.loggingEnabled)(details.tabId)) {
    return;
  }

  await _initializer_js__WEBPACK_IMPORTED_MODULE_3__["default"].start();

  if (!details.redirectUrl.startsWith("data:")) {
    return;
  }

  let {
    allowingDocumentFilter,
    specificOnly,
    docDomain,
    contentType
  } = getContext(details);

  if (allowingDocumentFilter) {
    // Our filters would have allowlisted this, so the redirect isn't
    // our filters. Nothing to log here.
    return;
  }

  let potentialFilters = _core_js__WEBPACK_IMPORTED_MODULE_2__.filterEngine.defaultMatcher.search(
    details.url, contentType, docDomain, null, specificOnly, "blocking"
  );
  for (let filter of potentialFilters.blocking) {
    if (filter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_6__.BlockingFilter && typeof filter.rewrite == "string") {
      let rewrittenUrl = filter.rewriteUrl(details.url);
      if (rewrittenUrl == details.redirectUrl) {
        let matchInfo = {
          docDomain, specificOnly, method: "request", rewrittenUrl
        };
        (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_1__.logItem)(details, filter, matchInfo);
        return;
      }
    }
  }
}

async function onErrorOccurred(details) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_8__.trace)({details});

  if (!(0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_1__.loggingEnabled)(details.tabId)) {
    return;
  }

  await _initializer_js__WEBPACK_IMPORTED_MODULE_3__["default"].start();

  let {
    allowingDocumentFilter,
    specificOnly,
    docDomain,
    contentType
  } = getContext(details);

  if (allowingDocumentFilter) {
    // Our filters would have allowlisted this, so the error event
    // isn't from our filters blocking something. Nothing to log here.
    return;
  }

  let potentialFilters = _core_js__WEBPACK_IMPORTED_MODULE_2__.filterEngine.defaultMatcher.search(
    details.url, contentType, docDomain, null, specificOnly, "blocking"
  );
  for (let filter of potentialFilters.blocking) {
    let matchInfo = {docDomain, specificOnly, method: "request"};
    if (filter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_6__.BlockingFilter && typeof filter.rewrite != "string") {
      (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_1__.logItem)(details, filter, matchInfo);
      return;
    }
  }
}

async function onCompleted(details) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_8__.trace)({details});

  if (!(0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_1__.loggingEnabled)(details.tabId)) {
    return;
  }

  await _initializer_js__WEBPACK_IMPORTED_MODULE_3__["default"].start();

  let {
    allowingDocumentFilter,
    specificOnly,
    docDomain,
    contentType
  } = getContext(details);

  if (allowingDocumentFilter) {
    (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_1__.logItem)(details, allowingDocumentFilter, {
      docDomain,
      method: "allowing",
      specificOnly
    });
    return;
  }

  let filter = _core_js__WEBPACK_IMPORTED_MODULE_2__.filterEngine.defaultMatcher.match(
    details.url, contentType, docDomain, null, specificOnly, true
  );
  if (filter) {
    let matchInfo = {docDomain, specificOnly, method: "request"};
    if (filter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_6__.AllowingFilter) {
      (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_1__.logItem)(details, filter, matchInfo);
    }
    return;
  }

  if (details.type == "main_frame" || details.type == "sub_frame") {
    // CSP filters could apply in this case

    let cspTypeMask = adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_5__.contentTypes.CSP | (0,_request_filter_js__WEBPACK_IMPORTED_MODULE_4__.getRequestContentType)(details);
    let hostname = (0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_7__.parseURL)(details.url).hostname;
    let cspMatchInfo = {docDomain: docDomain || hostname,
                        specificOnly, method: "csp"};

    let allowingCspFilter = _core_js__WEBPACK_IMPORTED_MODULE_2__.filterEngine.defaultMatcher.match(
      details.url, cspTypeMask, docDomain, null, specificOnly, true
    );
    if (allowingCspFilter && allowingCspFilter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_6__.AllowingFilter) {
      (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_1__.logItem)(details, allowingCspFilter, cspMatchInfo);
      return;
    }

    let cspFilters = _core_js__WEBPACK_IMPORTED_MODULE_2__.filterEngine.defaultMatcher.search(
      details.url, cspTypeMask, hostname, null, specificOnly, "blocking"
    );

    let appliedCspFilters = false;
    for (let cspFilter of cspFilters.blocking) {
      let cspFilterWasApplied = details.responseHeaders.some(header => {
        return header.name.toLowerCase() == "content-security-policy" &&
          header.value == cspFilter.csp;
      });
      if (cspFilterWasApplied) {
        (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_1__.logItem)(details, cspFilter, cspMatchInfo);
        appliedCspFilters = true;
      }
    }

    if (appliedCspFilters) {
      return;
    }
  }

  let matchInfo = {
    docDomain,
    method: "unmatched",
    specificOnly
  };
  (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_1__.logItem)(details, null, matchInfo);
}

let started = false;

/**
 * Starts listening for filters to log onBlockableItem events. Actual
 * blocking should be done using the declarativeNetRequest API.
 */
function start() {
  if (!webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest || started) {
    return;
  }

  let eventArgs = {
    types: Object.values(webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.ResourceType),
    urls: ["http://*/*", "https://*/*", "ws://*/*", "wss://*/*"]
  };

  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.onBeforeRedirect.addListener(onBeforeRedirect, eventArgs);
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.onErrorOccurred.addListener(onErrorOccurred, eventArgs);
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.onCompleted.addListener(onCompleted, eventArgs, ["responseHeaders"]);

  started = true;
}


/***/ }),

/***/ "./sdk/api/filters.js":
/*!****************************!*\
  !*** ./sdk/api/filters.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "convertFilter": () => (/* binding */ convertFilter),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "disableFilter": () => (/* binding */ disableFilter),
/* harmony export */   "onChangedFilter": () => (/* binding */ onChangedFilter),
/* harmony export */   "start": () => (/* binding */ start)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/url.js */ "./core/lib/url.js");
/* harmony import */ var adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/filterClasses.js */ "./core/lib/filterClasses.js");
/* harmony import */ var adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! adblockpluscore/lib/subscriptionClasses.js */ "./core/lib/subscriptionClasses.js");
/* harmony import */ var adblockpluscore_lib_matcher_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! adblockpluscore/lib/matcher.js */ "./core/lib/matcher.js");
/* harmony import */ var adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! adblockpluscore/lib/filterNotifier.js */ "./core/lib/filterNotifier.js");
/* harmony import */ var adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! adblockpluscore/lib/contentTypes.js */ "./core/lib/contentTypes.js");
/* harmony import */ var adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! adblockpluscore/lib/time.js */ "./core/lib/time.js");
/* harmony import */ var _initializer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./initializer.js */ "./sdk/api/initializer.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./types.js */ "./sdk/api/types.js");
/* harmony import */ var _frame_state_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./frame-state.js */ "./sdk/api/frame-state.js");
/* harmony import */ var _dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./dnr-filters.js */ "./sdk/api/dnr-filters.js");
/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../errors.js */ "./sdk/errors.js");
/* harmony import */ var _prefs_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./prefs.js */ "./sdk/api/prefs.js");
/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./scheduler.js */ "./sdk/api/scheduler.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */




















/**
 * @ignore
 * @param {*} filter Filter object
 * @returns {*} Plain filter object
 */
function convertFilter(filter) {
  return {
    text: filter.text,
    enabled: typeof filter.disabled == "undefined" ? null : !filter.disabled,
    slow: filter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.URLFilter && (0,adblockpluscore_lib_matcher_js__WEBPACK_IMPORTED_MODULE_4__.isSlowFilter)(filter),
    type: filter.type,
    thirdParty: filter.thirdParty != null ? filter.thirdParty : null,
    selector: filter.selector || null,
    csp: filter.csp || null,
    remove: filter.remove || void 0,
    css: filter.css || void 0
  };
}

function makeFilterListener(dispatch) {
  return filter => dispatch(convertFilter(filter));
}

function makeSubListener(dispatch) {
  return subscription => {
    if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.SpecialSubscription) {
      for (let text of subscription.filterText()) {
        dispatch(convertFilter(adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.fromText(text)));
      }
    }
  };
}

async function disable(texts) {
  if (!Array.isArray(texts)) {
    texts = [texts];
  }

  if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
    await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.removeOrDisableFilters)(texts, false);
    return;
  }

  for (let text of texts) {
    let normalized = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.normalize(text);
    _core_js__WEBPACK_IMPORTED_MODULE_9__.filterEngine.filterStorage.filterState.setEnabled(normalized, false);
  }
}

/**
 * @ignore
 */
const disableFilter = disable;

let onChanged = new _types_js__WEBPACK_IMPORTED_MODULE_10__.EventDispatcher(dispatch => {
  adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_5__.filterNotifier.on("filterState.enabled", (text, enabled) => {
    dispatch({...convertFilter(adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.fromText(text)), enabled}, "enabled");
  });

  adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_5__.filterNotifier.on("subscription.metadata", (subscription, value, oldValue) => {
    for (let filter of subscription.filterText()) {
      dispatch({
        ...convertFilter(adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.fromText(filter)),
        metadata: value, oldMetadata: oldValue
      }, "metadata");
    }
  });
});

/**
 * @ignore
 */
let onChangedFilter = onChanged;

/**
 * @namespace filters
 */
const namespace = {
  /**
   * Represents a single filter rule and its state.
   * @typedef {Object} Filter
   * @property {string} text A {@link https://help.eyeo.com/adblockplus/how-to-write-filters|filter}
   *   rule that specifies what content to block or to allow. Used to identify
   *   a filter.
   * @property {boolean|null} enabled Indicates whether this filter would be
   *   applied. Filters are enabled by default. For comment filters returned
   *   value is null.
   * @property {boolean} slow Indicates that this filter is not subject to an
   *   internal optimization. Filters that are considered slow should be
   *   avoided. Only URLFilters can be slow.
   * @property {string} type The filter {@link https://gitlab.com/eyeo/adblockplus/abc/adblockpluscore/-/jobs/artifacts/0.6.0/file/build/docs/module-filterClasses.Filter.html?job=docs#type|type}
   * @property {boolean|null} thirdParty True when the filter applies to
   *   third-party, false to first-party, null otherwise.
   * @property {string|null} selector CSS selector for the HTML elements that
   *   will be hidden.
   * @property {string|null} csp Content Security Policy to be injected.
   * @property {boolean?} remove For element hiding emulation filters, true if
   *   the filter will remove elements from the DOM rather hiding them.
   * @property {Object?} css For element hiding emulation filters. These are
   *   the key-value pairs for the css properties to apply to the matched
   *   element.
   */

  /**
   * Represents the results of calling the `add` function.
   * @typedef {Object} FilterAddResult
   * @property {Array<string>} added The filter texts that were added.
   * @property {Array<string>} exists The filter texts that already exist. They
   *   have not been added, and their metadata has not been updated.
   */

  /**
   * Adds one or multiple filters from texts. Filters which have been previously
   * added are skipped without updating their metadata.
   *
   * If the metadata should be updated for a filter which already exists, this
   * can be achieved by calling `setMetadata`. To see which filters have not had
   * their metadata updated, see the `exists` property on the result of this
   * function call.
   *
   * @param {string|[string]} texts The filter rules to be added.
   * @param {?Object} metadata Extra data to associate with a filter.
   * @param {Number} [metadata.expiresAt] The timestamp when the filter should
   *   expire.
   * @param {Number} [metadata.autoExtendMs] The number of milliseconds to
   *   extend the filter's expiry when the user navigated to a URL that matches
   *   the filter. This parameter is used together with `expiresAt` and when the
   *   user navigates to a URL that matches this filter and is not expired,
   *   the `expiresAt` value will be updated to `Date.now() + autoExtendMs`.
   *
   *   _**Note:** This only applies to document allowlisting filters._
   *
   * @return {Promise<FilterAddResult>} A report of which filters were added,
   *   and which were not added because they already exist.
   * @throws {FilterError|Error} The first filter to add that either failed
   *   validation (FilterError) or that is not supported by the DNR (Error).
   *   If the reason is "filter_invalid_wildcard" that means filter either has
   *   more than 1 `*` or `*` is placed in an unsupported place.
   * @memberof filters
   */
  async add(texts, metadata) {
    if (!Array.isArray(texts)) {
      texts = [texts];
    }

    if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
      const result = await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.addFilters)(texts, metadata);
      updateSchedulerIfNeeded(metadata);
      return result;
    }

    let {filterStorage} = _core_js__WEBPACK_IMPORTED_MODULE_9__.filterEngine;

    let added = [];
    let exists = [];

    let filters = [];
    for (let text of texts) {
      if (added.includes(text) || exists.includes(text)) {
        // Duplicates within the texts passed into this function don't get
        // duplicated in the returned value.
        continue;
      }

      let normalized = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.normalize(text);
      let filter = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.fromText(normalized);
      let error = (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.validateFilter)(filter);

      if (error) {
        throw error;
      }

      if (filterStorage.filterExists(filter)) {
        exists.push(text);
      }
      else {
        filters.push(filter);
        added.push(text);
      }
    }

    if (!metadata) {
      for (let filter of filters) {
        await filterStorage.addFilter(filter);
      }
    }
    else {
      try {
        await filterStorage.addFiltersWithMetadata(filters, metadata);
        updateSchedulerIfNeeded(metadata);
      }
      catch (e) {
        throw new _types_js__WEBPACK_IMPORTED_MODULE_10__.FilterError(e.message);
      }
    }

    return {
      added,
      exists
    };
  },

  /**
   * Set an extra data associated with an added filter.
   * @param {string} text filter text to set metadata for.
   * @param {Object} metadata Extra data to associate with a filter.
   * @returns {Promise<void>} Nothing is done for not added filter.
   * @throws {FilterError} An error will be thrown for not added filter.
   * @memberof filters
   */
  async setMetadata(text, metadata) {
    if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
      (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.setMetadataForFilter)(text, metadata);
      updateSchedulerIfNeeded(metadata);
      return;
    }

    let {filterStorage} = _core_js__WEBPACK_IMPORTED_MODULE_9__.filterEngine;

    try {
      await filterStorage.setMetadataForFilter(text, metadata);
      updateSchedulerIfNeeded(metadata);
    }
    catch (e) {
      if (e.message == _errors_js__WEBPACK_IMPORTED_MODULE_13__.ERROR_FILTER_NOT_FOUND) {
        // filter might be added without a metadata first,
        // so we're trying to make it working in a non-surprising way:
        // by removing the existing filter and readding it with a metadata.
        let filter = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.fromText(adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.normalize(text));
        if (filterStorage.filterExists(filter)) {
          await filterStorage.removeFilter(filter);
          await this.add([text], metadata);
          return;
        }
      }
      throw new _types_js__WEBPACK_IMPORTED_MODULE_10__.FilterError(e.message);
    }
  },

  /**
   * Returns an extra data associated with a filter.
   * @param {string} text The filter text to get metadata for.
   * @return {Promise<?Object>}
   * @memberof filters
   */
  async getMetadata(text) {
    if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
      return (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.getMetadataForFilter)(text);
    }

    return await _core_js__WEBPACK_IMPORTED_MODULE_9__.filterEngine.filterStorage.getMetadataForFilter(text);
  },

  /**
   * Returns an array of user filter objects.
   * @return {Promise<Array<Filter>>}
   * @memberof filters
   */
  async getUserFilters() {
    let result = [];

    for (let subscription of _core_js__WEBPACK_IMPORTED_MODULE_9__.filterEngine.filterStorage.subscriptions()) {
      if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.SpecialSubscription) {
        for (let text of subscription.filterText()) {
          result.push(convertFilter(adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.fromText(text)));
        }
      }
    }

    if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
      for (let [text, details] of (await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.getDynamicUserFilters)()).entries()) {
        if (!result.find(filter => filter.text == text)) {
          let filter = convertFilter(adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.fromText(text));
          filter.enabled = filter.type == "comment" ? null : details.enabled;

          result.push(filter);
        }
      }
    }

    return result;
  },

  /**
   * Returns the allowing filters that will be effective
   * when the given document will be reloaded.
   * @param {number} tabId The id of the tab to lookup.
   * @param {Object} [options]
   * @param {number} [options.frameId=0] The id of the frame to lookup.
   * @param {Array<string>} [options.types=["document"]] The types of filters
   *   to consider. These can be any of "document", "elemhide", "genericblock",
   *   and "generichide".
   * @return {Promise<Array<string>>}
   * @memberof filters
   */
  async getAllowingFilters(tabId, options = {}) {
    let {frameId, types} = {frameId: 0, types: ["document"], ...options};
    let filters = new Set();
    let mask = types.reduce((a, b) => a | adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_6__.contentTypes[b.toUpperCase()], 0);

    for (let frame = (0,_frame_state_js__WEBPACK_IMPORTED_MODULE_11__.getFrameInfo)(tabId, frameId); frame;
         frame = frame.parent) {
      let parentHostname = frame.parent && frame.parent.hostname;
      let docDomain = parentHostname || frame.hostname;
      let matches = _core_js__WEBPACK_IMPORTED_MODULE_9__.filterEngine.defaultMatcher.search(
        frame.url, mask, docDomain, frame.sitekey, false, "allowing");

      for (let filter of matches.allowing) {
        filters.add(filter.text);
      }
    }

    return Array.from(filters);
  },

  /**
   * Returns whether a particular resource is allowlisted.
   * @param {string} url The resource's url.
   * @param {string} type The resource's content type. Can be one of
   *   "background", "csp", "document", "dtd", "elemhide", "font",
   *   "genericblock", "generichide", "header", "image", "media", "object",
   *   "other", "ping", "popup", "script", "stylesheet", "subdocument",
   *   "webbundle", "webrtc", "websocket", "xbl", "xmlhttprequest".
   * @param {number} tabId The id of resource's tab.
   * @param {number} frameId=0 The id of the resource's frame.
   * @return {Promise<bool>}
   * @memberof filters
   */
  async isResourceAllowlisted(url, type, tabId, frameId = 0) {
    let mask = adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_6__.contentTypes[type.toUpperCase()];
    let frame = (0,_frame_state_js__WEBPACK_IMPORTED_MODULE_11__.getFrameInfo)(tabId, frameId) || {};
    let matcher = _core_js__WEBPACK_IMPORTED_MODULE_9__.filterEngine.defaultMatcher;

    // The docDomain for a frame is the hostname of the parent frame
    // (the loader). For top-level frames we use the current URL's hostname.
    let docDomain = frame.hostname || (0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_1__.parseURL)(url).hostname;
    if (matcher.isAllowlisted(url, mask, docDomain, frame.sitekey)) {
      return true;
    }

    for (; frame; frame = frame.parent) {
      if (!frame.url) {
        break;
      }

      let parentHostname = frame.parent && frame.parent.hostname;
      docDomain = parentHostname || frame.hostname;
      if (matcher.isAllowlisted(frame.url, adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_6__.contentTypes.DOCUMENT,
                                docDomain, frame.sitekey)) {
        return true;
      }
    }

    return false;
  },

  /**
   * Enables one or multiple filters. The filters effects
   * will again be applied.
   * @param {string|[string]} texts The filter rules to be enabled.
   * @return {Promise}
   * @memberof filters
   */
  async enable(texts) {
    if (!Array.isArray(texts)) {
      texts = [texts];
    }

    if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
      await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.enableFilters)(texts);
      return;
    }

    for (let text of texts) {
      let normalized = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.normalize(text);
      _core_js__WEBPACK_IMPORTED_MODULE_9__.filterEngine.filterStorage.filterState.setEnabled(normalized, true);
    }
  },

  /**
   * Disables one or multiple filters. The filters will no longer have
   * any effect but will be returned by `filters.getUserFilters()`.
   * @param {string|[string]} texts The filter rules to be disabled.
   * @return {Promise}
   * @memberof filters
   */
  disable,

  /**
   * Removes one or multiple filters. The filters will no longer have
   * any effect and won't be returned by `filters.getUserFilters()`.
   * @param {string|[string]} texts The filter rules to be removed.
   * @return {Promise}
   * @memberof filters
   */
  async remove(texts) {
    if (!Array.isArray(texts)) {
      texts = [texts];
    }

    if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
      await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.removeOrDisableFilters)(texts, true);
      return;
    }

    for (let text of texts) {
      let normalized = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.normalize(text);
      _core_js__WEBPACK_IMPORTED_MODULE_9__.filterEngine.filterStorage.removeFilter(adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.fromText(normalized));
    }
  },

  /**
   * Validates a filter.
   * @param {string} text Filter to be validated
   * @return {null|FilterError}
   * @memberof filters
   */
  validate(text) {
    let normalized = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.normalize(text);
    let filter = adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.fromText(normalized);
    return (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.validateFilter)(filter);
  },

  /**
   * Removes unnecessary whitespaces from filter text, will only return null if
   * the input parameter is null.
   * @param {string} text Filter text to be normalized
   * @return {string} Normalized filter text
   * @memberof filters
   */
  normalize(text) {
    return adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_2__.Filter.normalize(text);
  },

  /**
   * Emitted when a new filter is added.
   * @event
   * @type {EventDispatcher<Filter>}
   * @memberof filters
   */
  onAdded: new _types_js__WEBPACK_IMPORTED_MODULE_10__.EventDispatcher(dispatch => {
    adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_5__.filterNotifier.on("filter.added", makeFilterListener(dispatch));
    adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_5__.filterNotifier.on("subscription.added", makeSubListener(dispatch));
  }),

  /**
   * Emitted when a filter is either enabled or disabled.
   * The property name "enabled" or
   * "metadata" and optionally "oldMetadata" is provided.
   * @event
   * @type {EventDispatcher<Filter, string>}
   * @memberof filters
   */
  onChanged,

  /**
   * Emitted when a filter is removed.
   * @event
   * @type {EventDispatcher<Filter>}
   * @memberof filters
   */
  onRemoved: new _types_js__WEBPACK_IMPORTED_MODULE_10__.EventDispatcher(dispatch => {
    adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_5__.filterNotifier.on("filter.removed", makeFilterListener(dispatch));
    adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_5__.filterNotifier.on("subscription.removed", makeSubListener(dispatch));
  }),

  /**
   * Returns an array of MV2 to MV3 migration errors and the related filters.
   * @return {Promise<array<Filter, string>>} The migration errors.
   * @memberof filters
   */
  async getMigrationErrors() {
    return _prefs_js__WEBPACK_IMPORTED_MODULE_14__.Prefs.migration_filter_errors;
  },

  /**
   * Clears the migration errors.
   * @return {Promise}
   * @memberof filters
   */
  async clearMigrationErrors() {
    _prefs_js__WEBPACK_IMPORTED_MODULE_14__.Prefs.migration_filter_errors = [];
  }
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (namespace);


async function removeExpiredFilters() {
  try {
    // Retrieve the list of user filters
    const filters = await namespace.getUserFilters();
    const now = Date.now();

    const filtersToRemove = [];
    // Iterate over each filter to check for expiration
    for (const filter of filters) {
      const metadata = await namespace.getMetadata(filter.text) || {};
      const {expiresAt} = metadata;

      // If the filter is expired, add it to the list of filters to remove
      if (expiresAt && now > expiresAt) {
        filtersToRemove.push(filter.text);
      }
    }

    // Remove all expired filters
    await namespace.remove(filtersToRemove);
  }
  catch (e) {
    console.error("Error while removing expired filters:", e);
  }
}


async function onCompleted(details) {
  await _initializer_js__WEBPACK_IMPORTED_MODULE_8__["default"].start();

  const {frameId, tabId} = details;

  // Only proceed if the navigation is in the main frame
  if (!(0,_frame_state_js__WEBPACK_IMPORTED_MODULE_11__.isTopLevelFrameId)(frameId)) {
    return;
  }

  try {
    // Retrieve the list of user filters
    const filters = await namespace.getAllowingFilters(tabId);
    const now = Date.now();

    // Iterate over each filter to check if its expiry should be extended
    for (const filterText of filters) {
      const metadata = await namespace.getMetadata(filterText) || {};
      const {expiresAt, autoExtendMs} = metadata;

      // If the filter is set to auto-extend, and it is not expired,
      // extend its expiration date
      const isExtendableFilter = autoExtendMs && expiresAt;
      if (isExtendableFilter && now < expiresAt) {
        await namespace.setMetadata(filterText, {
          ...metadata,
          expiresAt: now + autoExtendMs
        });
      }
    }
  }
  catch (e) {
    console.error("Error while extending expiry for filters:", e);
  }
}

let scheduler;

/**
 * Checks if the scheduler is running and updates the next timestamp if needed.
 *
 * @param {?Object} metadata Extra data to associate with a filter.
 * @param {Number} [metadata.expiresAt] The timestamp when the filter should
 *   expire.
 */
function updateSchedulerIfNeeded(metadata) {
  if (scheduler && metadata && metadata.expiresAt) {
    scheduler.checkNow();
  }
}

/**
 * Starts listening for navigation events to remove expired filters
 * or renew the expiry of filters that are set to auto-extend.
 * @ignore
 */
function start() {
  if (scheduler) {
    return;
  }
  // Listen for navigation events to extend the expiry of filters
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webNavigation.onCompleted.addListener(onCompleted);

  // initialize the scheduler to remove expired filters
  scheduler = new _scheduler_js__WEBPACK_IMPORTED_MODULE_15__.Scheduler({
    interval: 0,
    listener: () => removeExpiredFilters(),
    async getNextTimestamp() {
      await _initializer_js__WEBPACK_IMPORTED_MODULE_8__["default"].start();

      const filters = await namespace.getUserFilters();
      let nextTimestamp = Date.now() + adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_7__.MILLIS_IN_HOUR; // 1h from now

      for (const filter of filters) {
        const metadata = await namespace.getMetadata(filter.text) || {};
        const {expiresAt} = metadata;

        if (expiresAt && expiresAt < nextTimestamp) {
          nextTimestamp = expiresAt;
        }
      }

      return nextTimestamp;
    }
  });
}


/***/ }),

/***/ "./sdk/api/frame-state.js":
/*!********************************!*\
  !*** ./sdk/api/frame-state.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BLANK_PAGE_URL": () => (/* binding */ BLANK_PAGE_URL),
/* harmony export */   "TOP_LEVEL_FRAME_ID": () => (/* binding */ TOP_LEVEL_FRAME_ID),
/* harmony export */   "_clear": () => (/* binding */ _clear),
/* harmony export */   "getFrameInfo": () => (/* binding */ getFrameInfo),
/* harmony export */   "isTopLevelFrameId": () => (/* binding */ isTopLevelFrameId),
/* harmony export */   "isValidChildFrameId": () => (/* binding */ isValidChildFrameId),
/* harmony export */   "isValidFrameId": () => (/* binding */ isValidFrameId),
/* harmony export */   "onSitekeyReceived": () => (/* binding */ onSitekeyReceived),
/* harmony export */   "start": () => (/* binding */ start)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/url.js */ "./core/lib/url.js");
/* harmony import */ var adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/contentTypes.js */ "./core/lib/contentTypes.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _diagnostics_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./diagnostics.js */ "./sdk/api/diagnostics.js");
/* harmony import */ var _sitekey_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sitekey.js */ "./sdk/api/sitekey.js");
/* harmony import */ var _content_filter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./content-filter.js */ "./sdk/api/content-filter.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../errors.js */ "./sdk/errors.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */













/**
 * The URL that browsers use to represent an empty page, about:blank.
 */
const BLANK_PAGE_URL = "about:blank";

/**
 * The frameId of the top level frame on each tab.
 */
const TOP_LEVEL_FRAME_ID = 0;

/**
 * Checks if a frameId corresponds to the top level frame on a tab.
 * @param {number} frameId
 * @return {boolean}
 */
function isTopLevelFrameId(frameId) {
  return frameId == TOP_LEVEL_FRAME_ID;
}

/**
 * Checks if a frameId corresponds to a frame on a tab.
 * @param {number} frameId
 * @return {boolean}
 */
function isValidFrameId(frameId) {
  return frameId >= TOP_LEVEL_FRAME_ID;
}

/**
 * Checks if a frameId corresponds to an iframe.
 * @param {number} frameId
 * @return {boolean}
 */
function isValidChildFrameId(frameId) {
  return frameId > TOP_LEVEL_FRAME_ID;
}

/**
 * All known currently active frames, that can be looked up by
 * `tabId`, and then by `frameId` (`[tabId, [frameId, FrameInfo]]`).
 *
 * Maintaining this state is the central reason for the code in this
 * file. When we start up EWE, we scan all existing tabs for their
 * frames. After that, we hook into various browser events to try to
 * keep it up to date as things change.
 *
 * @type {Map<number, Map<number, FrameInfo>>}
 */
let state = new Map();
let startupPromise;

/**
 * Manages tracking state that is tied to a single specific frame.
 *
 * A simple webpage will have a single frame in a tab. However, when
 * we look at sites with advertising and embedded trackers, they often
 * have many <iframe> elements. Each iframe may have slightly
 * different state, but generally a frame will inherit settings from
 * the frame that it's on (its parent frame).
 *
 * This state is mostly used in applying frame-level allowing filters
 * (eg `$document` filters), but is also used to hold parameters like
 * what hostname to use when checking if filters match a request, and
 * whether or not a sitekey is involved. This needs to be done
 * statefully because we inherit some state from parent frames.
 *
 * We sometimes need access to this data synchronously (for example to
 * do request filtering), but the functions to fetch this data from
 * the browser on demand are asynchronous. The events where we need to
 * make decisions based on the frame usually have some of the frame's
 * state, like the URL of the frame, but don't have the sitekey and
 * don't have all of the information about the parents of the frame.
 *
 * @property {number} tabId The id of the tab.
 * @property {string} url The url of the frame.
 * @property {string} hostname The hostname part of the frame's
 *   URL. If the URL isn't a normal HTTP URL (for example if it's
 *   about:blank) then this will be the parent frame's hostname. If
 *   that also doesn't have a normal HTTP hostname, then this will
 *   default to an empty string.
 * @property {?string} sitekey The sitekey associated with a frame, if
 *   there is one. These sitekeys are read from the
 *   `onHeadersReceived` event. This is inherited from the parent
 *   frame if this frame doesn't have a sitekey of its own.
 * @property {boolean} headersReceived True if we've received an
 *   `onHeadersReceived` event for this frame and have checked it for
 *   sitekeys. If this is false, it could mean that we don't have
 *   enough information yet to make blocking decisions, because a
 *   sitekey might still arrive with the headers.
 * @property {?FrameInfo} parent The frame that this from is on. Null
 *   if this is the top-level frame on a tab.
 * @property {number} allowlisted Bitfield where each set bit is the
 *   content type of an allowlisting filter applied to the frame. This
 *   includes filters that turn of ad filtering entirely, like
 *   `$document` filters, but also includes filters that modify how we
 *   look up request filters like `$genericblock`.
 * @property {?Filter} allowingDocumentFilter The `$document` filter
 *   that is being applied to this frame, if any. This is useful for
 *   logging, for example if a request is allowed because of this
 *   filter. If you just need to check if there is a `$document` filter
 *   applied to the frame or not, you can also check
 *   `frame.allowlisted`.
 *
 * @param {number} tabId The tabId of the tab that the this frame is on.
 * @param {number} frameId The frameId of this frame.
 * @param {?FrameInfo} parent The frame that this from is on. Null
 *   if this is the top-level frame on a tab.
 * @param {string} url The url of the frame.
 * @hideconstructor
 */
class FrameInfo {
  constructor(tabId, frameId, parent, url) {
    this.tabId = tabId;
    this.frameId = frameId;
    this.parent = parent;

    initializeFrameWithUrl(this, url);
    findAllowlistingFilters(this);
  }
}

/**
 * Get a text description of the allowing filter added.
 * @param {number} typeMask Bitset to filter types you want to name.
 * @param {Filter} filter The filter with the allowing reason you want
 *   to name.
 * @return {string} Content type name of the allowing filter just
 *   added.
 */
function getAllowingReason(typeMask, filter) {
  for (let type in adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes) {
    if (typeMask & filter.contentType & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes[type]) {
      return type.toLowerCase();
    }
  }
}

function initializeFrameWithUrl(frame, url) {
  let {
    allowlisted: parentAllowlisted,
    sitekey: parentSitekey,
    allowingDocumentFilter: parentAllowingDocumentFilter,
    hostname: parentHostname
  } = frame.parent || {};

  let urlInfo = (0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_1__.parseURL)(url);
  frame.url = url;
  frame.hostname = urlInfo.hostname || parentHostname || "";

  let sitekey = (0,_sitekey_js__WEBPACK_IMPORTED_MODULE_5__.getSitekey)(frame.tabId, frame.frameId, url);
  frame.sitekey = sitekey || parentSitekey;
  frame.headersReceived = (!!sitekey) || sitekey === null;

  // allowlisted and allowingDocumentFilter start with their parent
  // value, but may have extra allowing filters added when we call
  // findAllowlistingFilters
  frame.allowlisted = parentAllowlisted || 0;
  frame.allowingDocumentFilter = parentAllowingDocumentFilter;
}

/**
 * Checks if the matcher has any allowing filters that should be
 * applied to this frame, and updates `frame.allowlisted` and
 * `frame.allowingDocumentFilter` accordingly.
 *
 * This can only ever add extra allowing filters. It's also safe to
 * call multiple times on the same frame. This would normally be
 * called on a new frame to find its allowing filters, but should also
 * be called whenever a frame is updated in such a way that there
 * could be new allowing filters, for example when a sitekey is added
 * to an existing frame.
 *
 * @param {FrameInfo} frame The frame that will be checked for new
 *   filters, and will be updated.
 * @param {number} tabId The tabId of the tab the frame is on. Used for
 *   logging.
 * @param {number} frameId The frameId of the frame. Used for logging.
 */
function findAllowlistingFilters(frame) {
  let {tabId, frameId, url} = frame;
  let details = {tabId, frameId, url};
  // The docDomain for a frame is the hostname of the parent frame
  // (the loader). For top-level frames we use the current URL's hostname.
  let parentHostname = frame.parent && frame.parent.hostname;
  let matchInfo = {docDomain: parentHostname || frame.hostname,
                   method: "allowing"};

  // This loop will keep trying to find new types of allowing filters
  // for the frame until the matcher doesn't return any more.
  while (true) {
    let typeMask = ~frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.ALLOWING_TYPES;
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.debug)(`Check match tabId=${tabId}, url=${frame.url}, typeMask=${typeMask}, ` +
      `docDomain=${matchInfo.docDomain}, sitekey=${frame.sitekey}`);
    let filter = _core_js__WEBPACK_IMPORTED_MODULE_3__.filterEngine.defaultMatcher.match(
      frame.url, typeMask, matchInfo.docDomain, frame.sitekey
    );

    if (!filter) {
      (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.debug)(`No filter for tabId=${tabId},frameId=${frameId}`);
      break;
    }

    frame.allowlisted |= filter.contentType & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.ALLOWING_TYPES;
    // We need to hold onto document allowing filters because we might
    // need it for logging blockable requests later.
    if (filter.contentType & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.DOCUMENT) {
      frame.allowingDocumentFilter = filter;
    }

    let allowingReason = getAllowingReason(typeMask, filter);
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.debug)(`Allowing tabId=${tabId}, frameId=${frameId} due to ${filter.text}`);
    (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_4__.logItem)(details, filter, {...matchInfo, allowingReason});
  }
}

/**
 * Builds the frame state from scratch using the tabs API.
 *
 * This is called on startup, and in MV3 whenever the service worker
 * starts up. The only shortcoming is that this can't find sitekeys
 * for existing frames, since those are read from headers.
 * @async
 * @return {Promise} Resolves when all frames have been scanned.
 */
async function discoverExistingFrames() {
  let tabs = await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].tabs.query({});
  await Promise.all(tabs.map(({id: tabId}) =>
    _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].webNavigation.getAllFrames({tabId}).then(rawFrames => {
      if (!rawFrames) {
        return;
      }

      // Sort the frames so that we'll add parent frames before the
      // child frames.
      rawFrames.sort((a, b) => a.frameId - b.frameId);

      let frames = new Map();
      state.set(tabId, frames);

      for (let {frameId, parentFrameId, url} of rawFrames) {
        let parent = isValidFrameId(parentFrameId) ?
            frames.get(parentFrameId) :
            null;

        // Chrome unfortunately has a bug where getAllFrames doesn't
        // always return all parent frames
        // (https://bugs.chromium.org/p/chromium/issues/detail?id=725917).
        // Not much we can do about it, but if we can't see the
        // required parent frame we can fall back to the root frame.
        if (isValidChildFrameId(parentFrameId) && !parent) {
          parent = frames.get(TOP_LEVEL_FRAME_ID);
        }

        // Yandex gives undefined or an empty string here sometimes,
        // for example when browsing to pages that Yandex treats
        // specially like their own website.
        if (!url) {
          url = BLANK_PAGE_URL;
        }

        frames.set(frameId, new FrameInfo(tabId, frameId, parent, url));
      }
    })
  ));
}

function onSitekeyReceived(tabId, frameId, url, sitekey) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({tabId, frameId, url, sitekey});

  let frame = getFrameInfo(tabId, frameId);

  // It can happen that sub-frame "onCommitted" event is triggered after it's
  // resource loading event, meaning we don't have a frame information
  // in frame state, thus skip finding allowlisting filters, resulting in
  // frame resources are not allowlisted as expected.
  if (!frame) {
    frame = recordFrameFromNavigationEvent({tabId, frameId, url});
  }
  let isSameFrame = frame.url == url;
  if (isSameFrame) {
    frame.headersReceived = true;
  }

  if (sitekey) {
    // Sometimes the onHeadersReceived event comes after the
    // onCommitted event. This seems to be common when loading
    // iframes: the browser will show the iframe and then start
    // loading its contents. When this happens, we may get a sitekey
    // for a frame that's already being shown, and that may mean we
    // need to add some new allowlisting filters based on that
    // sitekey.
    if (isSameFrame && frame.sitekey != sitekey) {
      frame.sitekey = sitekey;
      findAllowlistingFilters(frame);
    }
  }
}


/**
 * Updates the frame state to reflect that a new frame is being shown.
 *
 * This can broadly be thought of in two categories:
 *
 * 1. The browser has navigated to the new page. Specifically, this is
 *    on the `webNavigation.onCommitted` event, which fires when the
 *    browser has decided to switch to the new document. We will
 *    usually have received headers for the document already by this
 *    point, but not always.
 * 2. The site is a single page application, and has updated its
 *    contents using Javascript and updated its URL with the history
 *    API.
 *
 * @param {Object} details Details object as provided by the
 *   webNavigation API events.
 * @param {number} details.tabId The tabId of the tab that the updated
 *   frame is on.
 * @param {number} details.frameId The frameId of the updated frame.
 * @param {number} [details.parentFrameId=-1] The frameId of the frame
 *   that the updated frame is on. -1 if the updated frame is the
 *   top-level frame.
 * @param {string} details.url The new url of the frame.
 * @param {Object} [options={}]
 * @param {boolean} [options.historyStateUpdated=false] True if this
 *   was triggered by a history state update, rather than by a full
 *   page navigation.
 * @param {boolean} [options.errorOccurred=false] True if this was
 *   triggered by a `webNavigation.onErrorOccurred` event rather than
 *   a `webNavigation.onCommitted` event.
 * @return {FrameInfo} The newly created frame state.
 */
function recordFrameFromNavigationEvent(
  {tabId, frameId, parentFrameId = -1, url},
  {historyStateUpdated = false, errorOccurred = false} = {}) {
  // Yandex gives undefined or an empty string here sometimes,
  // for example when browsing to pages that Yandex treats
  // specially like their own website.
  if (!url) {
    url = BLANK_PAGE_URL;
  }

  let frames = state.get(tabId);

  // We generally need to throw away any existing frame state for the
  // whole tab when a new top-level frame is committed to the
  // tab. This is because all previous frame state was on the old
  // top-level frame. However, if this was a history API update, those
  // frames could still be there on the page so we can't clear them out.
  if (!frames || (isTopLevelFrameId(frameId) && !historyStateUpdated)) {
    frames = new Map();
    state.set(tabId, frames);
  }
  let frame = frames.get(frameId);
  let parent = isValidFrameId(parentFrameId) ? frames.get(parentFrameId) : null;

  // Same as discoverExistingFrames, if we expect a parent but our
  // frame state doesn't seem to have that parent, falling back to the
  // root frame is better than nothing. This might happen due to this
  // bug: https://bugs.chromium.org/p/chromium/issues/detail?id=725917.
  if (isValidChildFrameId(parentFrameId) && !parent) {
    parent = frames.get(TOP_LEVEL_FRAME_ID);
  }

  // If the frame had an error instead of loading, we don't want to
  // use the URL from the error. Otherwise unscrupulous websites could
  // embed their advert in an iframe that has an allowlisted URL, but
  // doesn't actually contain the contents of that URL.
  if (errorOccurred) {
    if (frame) {
      url = frame.url;
    }
    else if (parent) {
      url = parent.url;
    }
  }

  // We might get multiple calls to `recordFrameFromNavigationEvent`
  // for iframes. This is because we need to listen to several
  // different events to hear about all frames, including onCommitted
  // and onBeforeNavigate and onErrorOccurred. To avoid duplicate
  // onBlockableItem events, we check if the frame we already have is
  // the same.
  if (!frame || isTopLevelFrameId(frameId) ||
      frame.url != url || frame.parent != parent) {
    frame = new FrameInfo(tabId, frameId, parent, url);
    frames.set(frameId, frame);
  }
  return frame;
}

function onBeforeNavigate(details) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({details});

  // We know the current frame information is about to become
  // outdated, so we just delete the existing data.
  let frames = state.get(details.tabId);
  if (frames) {
    // Firefox can trigger "onBeforeNavigate" multiple times,
    // so we need to filter out only the actually changed navigations.
    let frame = frames.get(details.frameId);
    if (frame && frame.url != details.url) {
      // We need to skip processing the frame state events for now
      // (such as allowlisted for document) as it will be done later during
      // the `onCommitted`, but we also want to avoid allowlisting for some
      // resources that refer to this tabId/frameId as the URL is changed,
      // and the allowlisting state is currently undetermined.
      frame.isChangingURL = true;
      initializeFrameWithUrl(frame, details.url);
    }
  }

  // If an iframe's URL is "about:srcdoc", that means its contents is
  // actually specified using the srcdoc attribute. Some browsers
  // don't actually emit the webNavigation.onCommitted event for these
  // frames, so we need to use a different event to get them into our
  // frame state.
  if (details.url == "about:srcdoc") {
    recordFrameFromNavigationEvent(details);
  }
}

function onCommitted(details) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({details});

  let frame = recordFrameFromNavigationEvent(details);
  findAllowlistingFilters(frame);
  frame.isChangingURL = false;
}

function onErrorOccurred(details) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({details});

  // On Chrome, errored iframes are never committed, but they are
  // still on the page and their contents can still be manipulated
  // with Javascript so we need them in our frame state.
  // See https://bugs.chromium.org/p/chromium/issues/detail?id=725917
  //
  // Firefox's docs don't mention parentFrameId on this event, but
  // Chrome's do, and it does appear to be there in practice. Check
  // for it before proceeding in case some browsers don't, since it's
  // very important to have the parent frame to record frame state
  // changes.
  if (isValidChildFrameId(details.frameId) &&
      typeof details.parentFrameId == "number") {
    recordFrameFromNavigationEvent(details, {errorOccurred: true});
  }
}

async function onHistoryStateUpdated(details) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({details});

  let previousFrame = getFrameInfo(details.tabId, details.frameId);
  recordFrameFromNavigationEvent(details, {historyStateUpdated: true});

  // Don't rerun the snippets due to possible performance penalty (EE-507)
  let filterData = await (0,_content_filter_js__WEBPACK_IMPORTED_MODULE_6__.applyContentFilters)(
    details.tabId, details.frameId, previousFrame, true);
  try {
    await (0,_errors_js__WEBPACK_IMPORTED_MODULE_8__.ignoreNoConnectionError)(
      _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].tabs.sendMessage(
        details.tabId,
        {type: "ewe:apply-content-features", ...filterData},
        {frameId: details.frameId})
    );
  }
  catch (e) {
    console.error(e);
  }
}

/**
 * @ignore
 */
function _clear() {
  state.clear();
}

function handleOnRemoved(tabId) {
  state.delete(tabId);
  (0,_sitekey_js__WEBPACK_IMPORTED_MODULE_5__.clearTabSitekeys)(tabId);
}

function onRemoved(tabId) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({tabId});
  handleOnRemoved(tabId);
}

function onReplaced(addedTabId, removedTabId) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({addedTabId, removedTabId});
  handleOnRemoved(removedTabId);
}

/**
 * Gets the state for a frame if we have it. If parentFrameId and
 * initiator are also provided, this function may also construct the
 * frame and add it to the frame state.
 *
 * @param {number} tabId The tabId of the tab the frame is on.
 * @param {number} frameId The frameId of the frame.
 * @param {?Object} [metadata] Additional metadata about the web
 *   request context that lead to asking for frame info, which might
 *   be used to create a FrameInfo if one doesn't exist already.
 * @param {?number} metadata.parentFrameId The frameId of the parent of the
 *   frame being requested. If this is set, it could be used to
 *   create the frame if it isn't already in the frame state.
 * @param {?string} metadata.initiator If getting the frame info is
 *   triggered by a web request, this should be the URL that initiated
 *   the request. If this is set, it can be used to provide a
 *   temporary frame state for use with service workers. In Firefox
 *   APIs, there is not an initiator but there is a documentUrl which
 *   can fulfil the same purpose.
 * @param {?string} metadata.documentUrl If getting the frame info is
 *   triggered by a web request, this should be the URL of the frame
 *   that initiated the request. If this is set, it could be used to
 *   create the frame if it isn't already in the frame state. This may
 *   not be available in Chrome. In Chrome, if initiator is provided,
 *   it can also be used to construct a FrameInfo, but this is not
 *   ideal since the initiator only contains the domain part of the
 *   URL.
 * @returns {?FrameInfo}
 */
function getFrameInfo(tabId, frameId,
                             {parentFrameId, initiator, documentUrl} = {}) {
  // tabId is -1 if the request came from a service worker, so we
  // construct a temporary frame state for it to use. We don't store
  // a tabId of -1 in our frame state, so we don't even need to check
  // it before returning.
  if (initiator && tabId == -1) {
    return new FrameInfo(tabId, frameId, null, initiator);
  }

  let frames = state.get(tabId);
  if (frames) {
    let frame = frames.get(frameId);
    if (frame) {
      return frame;
    }
  }

  // Sometimes the webRequest API can trigger for resources in a frame
  // before the onCommitted event for the frame. In this case, it
  // should be safe to construct the frame state early.
  if (documentUrl && typeof parentFrameId == "number") {
    return recordFrameFromNavigationEvent({
      tabId,
      frameId,
      parentFrameId,
      url: documentUrl
    });
  }
}

async function start() {
  if (!startupPromise) {
    (0,_sitekey_js__WEBPACK_IMPORTED_MODULE_5__.addListener)(onSitekeyReceived);

    _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].webNavigation.onBeforeNavigate.addListener(onBeforeNavigate);
    _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].webNavigation.onCommitted.addListener(onCommitted);
    _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].webNavigation.onErrorOccurred.addListener(onErrorOccurred);
    _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].webNavigation.onHistoryStateUpdated.addListener(
      onHistoryStateUpdated);
    _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].tabs.onRemoved.addListener(onRemoved);
    _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].tabs.onReplaced.addListener(onReplaced);

    startupPromise = discoverExistingFrames();
  }

  await startupPromise;
}


/***/ }),

/***/ "./sdk/api/idb.js":
/*!************************!*\
  !*** ./sdk/api/idb.js ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "openDatabase": () => (/* binding */ openDatabase)
/* harmony export */ });
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */

const DB_NAME = "EWE";
const DB_VERSION = 1;

function openDatabase() {
  return new Promise((resolve, reject) => {
    let request = indexedDB.open(DB_NAME, DB_VERSION);

    request.onupgradeneeded = event => {
      let db = event.target.result;
      db.createObjectStore("file-entries");
      db.createObjectStore("file-contents", {autoIncrement: true});
    };

    request.onsuccess = event => resolve(event.target.result);
    request.onerror = event => reject(event.target.error);
  });
}


/***/ }),

/***/ "./sdk/api/index.js":
/*!**************************!*\
  !*** ./sdk/api/index.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "allowlisting": () => (/* reexport safe */ _allowlisting_js__WEBPACK_IMPORTED_MODULE_23__["default"]),
/* harmony export */   "cdp": () => (/* binding */ wrappedCdp),
/* harmony export */   "checkAndInitSubscriptions": () => (/* binding */ checkAndInitSubscriptions),
/* harmony export */   "clearSkipInitRulesets": () => (/* binding */ clearSkipInitRulesets),
/* harmony export */   "debugging": () => (/* binding */ wrappedDebugging),
/* harmony export */   "filters": () => (/* binding */ wrappedFilters),
/* harmony export */   "notifications": () => (/* reexport safe */ _notifications_js__WEBPACK_IMPORTED_MODULE_24__.notifications),
/* harmony export */   "reporting": () => (/* binding */ wrappedReporting),
/* harmony export */   "snippets": () => (/* binding */ snippets),
/* harmony export */   "start": () => (/* binding */ start),
/* harmony export */   "subscriptions": () => (/* binding */ wrappedSubscriptions),
/* harmony export */   "telemetry": () => (/* binding */ wrappedTelemetry),
/* harmony export */   "testing": () => (/* binding */ wrappedTesting)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var _initializer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./initializer.js */ "./sdk/api/initializer.js");
/* harmony import */ var _message_responder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./message-responder.js */ "./sdk/api/message-responder.js");
/* harmony import */ var _content_message_deferrer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./content-message-deferrer.js */ "./sdk/api/content-message-deferrer.js");
/* harmony import */ var _popup_blocker_background_page_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./popup-blocker-background-page.js */ "./sdk/api/popup-blocker-background-page.js");
/* harmony import */ var _popup_blocker_service_worker_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./popup-blocker-service-worker.js */ "./sdk/api/popup-blocker-service-worker.js");
/* harmony import */ var _request_filter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./request-filter.js */ "./sdk/api/request-filter.js");
/* harmony import */ var _dnr_request_reporter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dnr-request-reporter.js */ "./sdk/api/dnr-request-reporter.js");
/* harmony import */ var _sitekey_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./sitekey.js */ "./sdk/api/sitekey.js");
/* harmony import */ var _telemetry_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./telemetry.js */ "./sdk/api/telemetry.js");
/* harmony import */ var _subscriptions_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./subscriptions.js */ "./sdk/api/subscriptions.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/* harmony import */ var _filters_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./filters.js */ "./sdk/api/filters.js");
/* harmony import */ var _reporting_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./reporting.js */ "./sdk/api/reporting.js");
/* harmony import */ var _testing_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./testing.js */ "./sdk/api/testing.js");
/* harmony import */ var _prefs_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./prefs.js */ "./sdk/api/prefs.js");
/* harmony import */ var _cdp_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./cdp.js */ "./sdk/api/cdp.js");
/* harmony import */ var _cdp_metrics_uploader_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./cdp-metrics-uploader.js */ "./sdk/api/cdp-metrics-uploader.js");
/* harmony import */ var _content_filter_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./content-filter.js */ "./sdk/api/content-filter.js");
/* harmony import */ var _info_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./info.js */ "./sdk/api/info.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _dnr_filters_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./dnr-filters.js */ "./sdk/api/dnr-filters.js");
/* harmony import */ var _browser_features_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./browser-features.js */ "./sdk/api/browser-features.js");
/* harmony import */ var _allowlisting_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./allowlisting.js */ "./sdk/api/allowlisting.js");
/* harmony import */ var _notifications_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./notifications.js */ "./sdk/api/notifications.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */





























async function preApiCall() {
  // Service worker can be shut down and we might need
  // to initialize it before the usage.
  await _initializer_js__WEBPACK_IMPORTED_MODULE_1__["default"].start();
}

async function postApiCall() {
  if (!webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
    return;
  }

  await _prefs_js__WEBPACK_IMPORTED_MODULE_15__.awaitSavingComplete();
  await _core_js__WEBPACK_IMPORTED_MODULE_20__.filterEngine.filterStorage.awaitSavingComplete();
  await _sitekey_js__WEBPACK_IMPORTED_MODULE_8__._awaitSavingComplete();
  await _content_message_deferrer_js__WEBPACK_IMPORTED_MODULE_3__._awaitSavingComplete();
  await _cdp_js__WEBPACK_IMPORTED_MODULE_16__._awaitSavingComplete();
}

function isAsync(func) {
  return func.constructor && func.constructor.name === "AsyncFunction";
}

function wrapApiNamespace(target) {
  return new Proxy(target, {
    get(_target, prop, receiver) {
      // wrapping only asynchronous functions
      if (typeof _target[prop] === "function" && isAsync(_target[prop])) {
        return async function(...args) {
          _debugging_js__WEBPACK_IMPORTED_MODULE_11__.debug(() => "API call: " + JSON.stringify({
            method: prop,
            args: [...args]})
          , _debugging_js__WEBPACK_IMPORTED_MODULE_11__.LOG_COLOR_CYAN);
          await preApiCall();
          let result = await _target[prop](...args);
          await postApiCall();
          return result;
        };
      }
      return _target[prop];
    }
  });
}

/**
 * @ignore
 */
const wrappedSubscriptions = wrapApiNamespace(_subscriptions_js__WEBPACK_IMPORTED_MODULE_10__["default"]);


/**
 * @ignore
 */
const wrappedFilters = wrapApiNamespace(_filters_js__WEBPACK_IMPORTED_MODULE_12__["default"]);


/**
 * @ignore
 */
const wrappedReporting = wrapApiNamespace(_reporting_js__WEBPACK_IMPORTED_MODULE_13__["default"]);


/**
 * @ignore
 */
const wrappedDebugging = wrapApiNamespace(_debugging_js__WEBPACK_IMPORTED_MODULE_11__["default"]);


// "Allowlisting" might be used before EWE is actually started
// and it does not require pre- and post- actions.


/**
 * @ignore
 */
const wrappedTelemetry = wrapApiNamespace(_telemetry_js__WEBPACK_IMPORTED_MODULE_9__["default"]);


/**
 * @ignore
 */
const wrappedTesting = wrapApiNamespace(_testing_js__WEBPACK_IMPORTED_MODULE_14__["default"]);


// "Notifications" namespace is already a Proxy


/**
 * @ignore
 */
const wrappedCdp = wrapApiNamespace(_cdp_js__WEBPACK_IMPORTED_MODULE_16__["default"]);



let snippets = {
  /**
   * Snippet callback.
   * @callback SnippetCallback
   * @param {Object} environment
   *   The environment variables
   * @param {...Array.<Array.<string>>} _
   *   The snippets names and arguments.
   */

  /**
   * Enables support for snippet filters.
   * @param {Object} [snippetInfo]
   * @param {SnippetCallback} [snippetInfo.isolatedCode]
   *   The code defining the available snippets to be executed in the isolated
   *   content script context.
   * @param {SnippetCallback} [snippetInfo.injectedCode]
   *   The code defining the available snippets to be injected and executed in
   *   the main context.
   */
  setLibrary: _content_filter_js__WEBPACK_IMPORTED_MODULE_18__.setSnippetLibrary
};

const SKIP_INIT_RULESETS_STORAGE_KEY = "ewe:skip_init_rulesets";

/**
 * @ignore
 */
async function clearSkipInitRulesets() {
  await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.remove(SKIP_INIT_RULESETS_STORAGE_KEY);
}

async function onInstalled(details) {
  // Web extension update (with potential subscriptions filter
  // text changed and repacked) can happen in the same browser session.
  // So in order to not skip the next subscriptions filter text update
  // the flag is removed.
  let manifest = webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.runtime.getManifest();
  if (details.reason != webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.runtime.OnInstalledReason.UPDATE ||
    !details.previousVersion || details.previousVersion == manifest.version) {
    return;
  }

  await clearSkipInitRulesets();
}

/**
* @typedef {Object} FirstRunInfo
* @property {boolean} foundStorage Whether the subscriptions storage was
*                                  initialized or not.
* @property {boolean} foundSubscriptions True when pre-existing subscriptions
*                                        were found, false otherwise.
*                                        Considers also whether custom filters
*                                        exist.
* @property {Array.<string>?} [warnings] An array of warnings.
*/

/**
 * Initializes the filter engine and starts blocking content.
 *
 * Calling this function is required for the other API calls to work, except for
 * API event listener calls, which could also be done before `start()`.
 *
 * In MV3 extensions, this must be called in the first turn of the
 * event loop.
 *
 * @param {Object?} [addonInfo] An object containing addon
 *   information belonging to sdk consumer, that can be accessed via
 *   `debugging` module. (It is usually used as an identifier in
 *   network requests, etc.). This object can be undefined for MV2. If it is,
 *   name and version will default to the extension's name and version.
 * @param {string} [addonInfo.name] Name of the addon/extension.
 * @param {string} [addonInfo.version] Version of the addon/extension.
 * @param {Array<Recommendation>?} [addonInfo.bundledSubscriptions]
 *   A list of subscriptions provided by the integrator. Cannot be undefined
 *   for MV3.
 * @param {string?} [addonInfo.bundledSubscriptionsPath]
 *   A path to subscription files provided by the integrator. Cannot be
 *   undefined for MV3.
 * @param {Object?} [addonInfo.telemetry] Settings for telemetry. The telemetry
 *   module will only be started if this is provided. This module will send a
 *   POST request to the specified telemetry URL every 24 hours with metadata
 *   about the extension. Pings will only happen if `EWE.telemetry.setOptOut`
 *   has been called to opt the user in.
 * @param {string} [addonInfo.telemetry.url] The URL of the location where user
 * active pings will be sent to.
 * @param {string} [addonInfo.telemetry.bearer] The Bearer token accompanying
 *   telemetry API calls.
 * @param {Object?} [addonInfo.cdp] Settings for CDP.
 * @param {string} [addonInfo.cdp.aggregateUrl] The URL to send aggregate
 *   metrics to CDP.
 * @param {string} [addonInfo.cdp.pingUrl] The URL to do the user counting ping
 *   to CDP.
 * @param {string} [addonInfo.cdp.bearer] The Bearer token accompanying CDP API
 *   calls.
 * @param {Object?} [addonInfo.featureFlags] Boolean flags for enabling and
 *   disabling features. If a flag is not set here, the default value will be
 *   used. The default value is the correct state for the flag according to the
 *   SDK at time of release, so under normal circumstances these flags do not
 *   need to be set. Options may be removed from this object without it being
 *   considered a breaking change as features stabilitze and can no longer by
 *   dynamically enabled or disabled. If any features are set here which are
 *   not known features, a warning will be added to the `warnings` property
 *   of the returned `FirstRunInfo`.
 * @param {bool?} [addonInfo.featureFlags.inlineCss] Enable inline CSS in
 *   element hiding and element hiding emulation filters.
 * @return {Promise<FirstRunInfo>} Promise that is resolved after starting up
 *                                 is completed.
 */
async function start(addonInfo) {
  let warnings = [];

  let addonInfoResult = (0,_info_js__WEBPACK_IMPORTED_MODULE_19__.setAddonInfo)(addonInfo);
  if (addonInfoResult.warnings) {
    warnings.push(...addonInfoResult.warnings);
  }

  startSubmodulesWithListeners();

  if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
    webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.runtime.onInstalled.addListener(onInstalled);
    let validateSubscriptionWarnings = await (0,_subscriptions_js__WEBPACK_IMPORTED_MODULE_10__.validate)(
      addonInfo.bundledSubscriptions, addonInfo.bundledSubscriptionsPath);

    if (validateSubscriptionWarnings) {
      warnings.push(...validateSubscriptionWarnings);
    }
  }

  await startSubmodules();

  let {filterStorage} = _core_js__WEBPACK_IMPORTED_MODULE_20__.filterEngine;
  let firstRun = {
    foundSubscriptions: filterStorage.getSubscriptionCount() != 0,
    foundStorage: !filterStorage.firstRun,
    warnings
  };

  if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
    let migratedToMv3 = await checkAndMigrateSubscriptions();
    // If it has just migrated to MV3 there is no diff updates data,
    // so we can skip wiping it.
    await checkAndInitSubscriptions(migratedToMv3);
  }

  if (addonInfo && addonInfo.telemetry) {
    await _telemetry_js__WEBPACK_IMPORTED_MODULE_9__.start(addonInfo.telemetry);
  }

  if (addonInfo && addonInfo.cdp) {
    await _cdp_metrics_uploader_js__WEBPACK_IMPORTED_MODULE_17__.start(addonInfo.cdp);
  }

  return firstRun;
}

function startSubmodulesWithListeners() {
  // for MV3, submodules that register event listeners generally need
  // to register their events in the first turn of the event loop to
  // register their event listeners.
  _message_responder_js__WEBPACK_IMPORTED_MODULE_2__.start();
  _content_message_deferrer_js__WEBPACK_IMPORTED_MODULE_3__.start();
  if ((0,_browser_features_js__WEBPACK_IMPORTED_MODULE_22__.isRunningInServiceWorker)()) {
    _popup_blocker_service_worker_js__WEBPACK_IMPORTED_MODULE_5__.start();
  }

  if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
    _dnr_request_reporter_js__WEBPACK_IMPORTED_MODULE_7__.start();
  }

  _sitekey_js__WEBPACK_IMPORTED_MODULE_8__.start();
  _filters_js__WEBPACK_IMPORTED_MODULE_12__.start();
}

async function startSubmodules() {
  await _initializer_js__WEBPACK_IMPORTED_MODULE_1__["default"].start();

  // MV2-style popup and request blocking assume that initializer is
  // started first.
  if (!(0,_browser_features_js__WEBPACK_IMPORTED_MODULE_22__.isRunningInServiceWorker)()) {
    _popup_blocker_background_page_js__WEBPACK_IMPORTED_MODULE_4__.start();
  }

  if (!webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
    _request_filter_js__WEBPACK_IMPORTED_MODULE_6__.start();
  }

  _core_js__WEBPACK_IMPORTED_MODULE_20__.filterEngine.filterStorage.synchronizer.start();
}

async function checkAndMigrateSubscriptions() {
  if (_prefs_js__WEBPACK_IMPORTED_MODULE_15__.Prefs.migration_state !== _prefs_js__WEBPACK_IMPORTED_MODULE_15__.MIGRATED_TO_MV3) {
    await (0,_subscriptions_js__WEBPACK_IMPORTED_MODULE_10__.migrate)();

    if (_prefs_js__WEBPACK_IMPORTED_MODULE_15__.Prefs.migration_state === _prefs_js__WEBPACK_IMPORTED_MODULE_15__.MIGRATED_TO_MV2) {
      await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_21__.migrateCustomFilters)();
    }

    _prefs_js__WEBPACK_IMPORTED_MODULE_15__.Prefs.migration_state = _prefs_js__WEBPACK_IMPORTED_MODULE_15__.MIGRATED_TO_MV3;
    return true;
  }
  return false;
}

/**
 * @ignore
 * @param {boolean} skipWipeOutDiffs Skip wiping diff updates data
 */
async function checkAndInitSubscriptions(skipWipeOutDiffs) {
  // Loading the subcriptions filter text wipes out diff updates,
  // so we do it in case of web extension update only.
  let skipInit = await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.get(
    [SKIP_INIT_RULESETS_STORAGE_KEY]
  );
  if (skipInit[SKIP_INIT_RULESETS_STORAGE_KEY]) {
    // Rulesets state is not persisted between webext updates
    await (0,_subscriptions_js__WEBPACK_IMPORTED_MODULE_10__.ensureDNRRulesetsEnabled)();
    return;
  }

  if (!skipWipeOutDiffs) {
    // It's a webext update, so we need to wipe out all diffs
    // and start from scratch: full state provided in bundled data.
    await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_21__.clearRulesetUpdates)();
    await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_21__.removeSubscriptionsDynamicFilters)();
    await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_21__.enableAllDisabledStaticRules)();
  }

  await (0,_subscriptions_js__WEBPACK_IMPORTED_MODULE_10__.recoverMigrationErrorSubscriptions)();
  await (0,_subscriptions_js__WEBPACK_IMPORTED_MODULE_10__.updateSubscriptionInformation)();
  await (0,_subscriptions_js__WEBPACK_IMPORTED_MODULE_10__.ensureDNRRulesetsEnabled)();

  await _subscriptions_js__WEBPACK_IMPORTED_MODULE_10__["default"].sync();

  await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.set(
    {[SKIP_INIT_RULESETS_STORAGE_KEY]: true}
  );
}


/***/ }),

/***/ "./sdk/api/info.js":
/*!*************************!*\
  !*** ./sdk/api/info.js ***!
  \*************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addonBundledSubscriptions": () => (/* binding */ addonBundledSubscriptions),
/* harmony export */   "addonBundledSubscriptionsPath": () => (/* binding */ addonBundledSubscriptionsPath),
/* harmony export */   "addonName": () => (/* binding */ addonName),
/* harmony export */   "addonVersion": () => (/* binding */ addonVersion),
/* harmony export */   "application": () => (/* binding */ application),
/* harmony export */   "applicationVersion": () => (/* binding */ applicationVersion),
/* harmony export */   "getBrowserVersion": () => (/* binding */ getBrowserVersion),
/* harmony export */   "initializeDefaultAddonInfo": () => (/* binding */ initializeDefaultAddonInfo),
/* harmony export */   "isEdge": () => (/* binding */ isEdge),
/* harmony export */   "isFirefox": () => (/* binding */ isFirefox),
/* harmony export */   "manifestVersion": () => (/* binding */ manifestVersion),
/* harmony export */   "platform": () => (/* binding */ platform),
/* harmony export */   "platformVersion": () => (/* binding */ platformVersion),
/* harmony export */   "sdkName": () => (/* binding */ sdkName),
/* harmony export */   "sdkVersion": () => (/* binding */ sdkVersion),
/* harmony export */   "setAddonInfo": () => (/* binding */ setAddonInfo)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var adblockpluscore_lib_recommendations_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/recommendations.js */ "./core/lib/recommendations.js");
/* harmony import */ var adblockpluscore_lib_features_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/features.js */ "./core/lib/features.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */






let addonName;
let addonVersion;
let addonBundledSubscriptions;
let addonBundledSubscriptionsPath;
let application;
let applicationVersion;
let platform;
let platformVersion;
let manifestVersion;

let sdkName = "eyeo-webext-ad-filtering-solution";
let sdkVersion = "1.10.0";

initializeDefaultAddonInfo();

function getBrowserVersion() {
  return applicationVersion.split(".").map(str => parseInt(str, 10));
}

function isFirefox() {
  return application.includes("firefox");
}

function isEdge() {
  return application.includes("edg");
}

function initializeDefaultAddonInfo() {
  let manifest = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].runtime.getManifest();

  addonName = manifest.short_name || manifest.name;
  addonVersion = manifest.version;
  application = "unknown";
  applicationVersion = "0";
  platformVersion = "0";
  manifestVersion = String(manifest.manifest_version);

  if (typeof netscape != "undefined") {
    platform = "gecko";

    let match = /\brv:([^;)]+)/.exec(navigator.userAgent);
    if (match) {
      platformVersion = match[1];
    }

    _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].runtime.getBrowserInfo().then(browserInfo => {
      application = browserInfo.name.toLowerCase();
      applicationVersion = browserInfo.version;
    });
  }
  else {
    platform = "chromium";
    parseChromiumUserAgent();
  }
}

function parseChromiumUserAgent() {
  let regexp = /(\S+)\/(\S+)(?:\s*\(.*?\))?/g;
  let match;

  while (match = regexp.exec(navigator.userAgent)) {
    let [, app, version] = match;

    // For compatibility with legacy websites, Chrome's UA
    // also includes a Mozilla, AppleWebKit and Safari tokens.
    // Any further name/version pair indicates a fork.
    if (app == "Mozilla" || app == "AppleWebKit" || app == "Safari") {
      continue;
    }

    if (app == "Chrome") {
      platformVersion = version;
      if (application != "unknown") {
        continue;
      }
    }

    application = app == "OPR" ? "opera" : app.toLowerCase();
    applicationVersion = version;
  }
}

function setAddonInfo(addonInfo) {
  let warnings = [];

  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest) {
    if (!addonInfo) {
      throw new Error("No addonInfo provided to EWE.start");
    }

    if (!addonInfo.bundledSubscriptions) {
      throw new Error("No `bundledSubscriptions` provided");
    }

    if (!addonInfo.bundledSubscriptionsPath) {
      throw new Error("No `bundledSubscriptionsPath` provided");
    }
  }

  if (!addonInfo) {
    return {warnings};
  }

  if (addonInfo.name) {
    addonName = addonInfo.name;
  }
  if (addonInfo.version) {
    addonVersion = addonInfo.version;
  }
  if (addonInfo.manifestVersion) {
    manifestVersion = addonInfo.manifestVersion;
  }

  addonBundledSubscriptions = addonInfo.bundledSubscriptions;
  addonBundledSubscriptionsPath = addonInfo.bundledSubscriptionsPath;

  if (addonBundledSubscriptions &&
      addonBundledSubscriptions.length > 0) {
    (0,adblockpluscore_lib_recommendations_js__WEBPACK_IMPORTED_MODULE_1__.setRecommendations)(addonBundledSubscriptions);
  }

  if (addonInfo.featureFlags) {
    try {
      adblockpluscore_lib_features_js__WEBPACK_IMPORTED_MODULE_2__.setFeatureFlags(addonInfo.featureFlags);
    }
    catch (e) {
      warnings.push(e.message);
    }
  }

  return {warnings};
}


/***/ }),

/***/ "./sdk/api/initializer.js":
/*!********************************!*\
  !*** ./sdk/api/initializer.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _frame_state_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./frame-state.js */ "./sdk/api/frame-state.js");
/* harmony import */ var _io_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./io.js */ "./sdk/api/io.js");
/* harmony import */ var _dnr_filters_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dnr-filters.js */ "./sdk/api/dnr-filters.js");
/* harmony import */ var _prefs_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./prefs.js */ "./sdk/api/prefs.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/* harmony import */ var _cdp_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cdp.js */ "./sdk/api/cdp.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */









let startupPromise;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  /**
   * Initializes stateful modules that may be used in filtering requests.
   *
   * This function is idempotent. If you call it after initialization
   * has already been launched elsewhere, then it will return the same
   * promise as the original initialization. This allows this function
   * to be called anywhere that you need to ensure that initialization
   * has completed before continuing.
   *
   * Calling this function is required for the other API calls to
   * work, except for API event listener calls, which could also be
   * done before `start()`.
   * @return {Promise} Resolves when initialization is complete
   */
  start() {
    if (!startupPromise) {
      startupPromise = (async() => {
        await _io_js__WEBPACK_IMPORTED_MODULE_2__.IO.initialize();
        await _debugging_js__WEBPACK_IMPORTED_MODULE_5__["default"].start();
        await (0,_prefs_js__WEBPACK_IMPORTED_MODULE_4__.init)();
        await _core_js__WEBPACK_IMPORTED_MODULE_0__.filterEngine.initialize();
        await _frame_state_js__WEBPACK_IMPORTED_MODULE_1__.start();
        await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_3__.init)();
        await _cdp_js__WEBPACK_IMPORTED_MODULE_6__.start();
      })();
    }
    return startupPromise;
  }
});


/***/ }),

/***/ "./sdk/api/io-bsl.js":
/*!***************************!*\
  !*** ./sdk/api/io-bsl.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IO": () => (/* binding */ IO)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */



const KEY_PREFIX = "ewe:file:";

function fileToKey(fileName) {
  return KEY_PREFIX + fileName;
}

async function loadFile(fileName) {
  let key = fileToKey(fileName);
  let items = await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.local.get(key);
  let entry = items[key];
  if (entry) {
    return entry;
  }
  throw {type: "NoSuchFile"};
}

function saveFile(fileName, data) {
  return _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.local.set({
    [fileToKey(fileName)]: {
      content: Array.from(data),
      lastModified: Date.now()
    }
  });
}

// IO implementation that is using `browser.storage.local` API
let IO = {
  /**
   * Reads text lines from a file.
   * @param {string} filename
   *    Name of the file to be read
   * @param {TextSink} listener
   *    Function that will be called for each line in the file
   * @return {Promise}
   *    Promise to be resolved or rejected once the operation is completed
   */
  async readFromFile(filename, listener) {
    let entry = await loadFile(filename);
    for (let line of entry.content) {
      listener(line);
    }
  },

  /**
   * Writes text lines to a file.
   * @param {string} filename
   *    Name of the file to be written
   * @param {Iterable.<string>} data
   *    An array-like or iterable object containing the lines (without line
   *    endings)
   * @return {Promise}
   *    Promise to be resolved or rejected once the operation is completed
   */
  writeToFile(filename, data) {
    return saveFile(filename, data);
  },

  /**
   * Renames a file.
   * @param {string} fromFile
   *    Name of the file to be renamed
   * @param {string} newName
   *    New file name, will be overwritten if exists
   * @return {Promise}
   *    Promise to be resolved or rejected once the operation is completed
   */
  async renameFile(fromFile, newName) {
    let entry = await loadFile(fromFile);
    await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.local.set({[fileToKey(newName)]: entry});
    await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.local.remove(fileToKey(fromFile));
  },

  /**
   * Retrieves file metadata.
   * @param {string} filename
   *    Name of the file to be looked up
   * @return {Promise.<StatData>}
   *    Promise to be resolved with file metadata once the operation is
   *    completed
   */
  async statFile(filename) {
    try {
      let entry = await loadFile(filename);
      return {
        exists: true,
        lastModified: entry.lastModified
      };
    }
    catch (error) {
      if (error.type == "NoSuchFile") {
        return Promise.resolve({exists: false});
      }
      throw error;
    }
  },

  async fixPrefixes() {
    let data = await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.local.get();
    for (let key in data) {
      let value = data[key];

      // The order of prefixes matters:
      // the most important should be the last
      // to override the existing values jic.
      for (let eachPrefix of ["abp:file:", "file:"]) {
        if (key.startsWith(eachPrefix)) {
          let obj = {};
          obj[KEY_PREFIX + key.substring(eachPrefix.length)] = value;
          await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.local.set(obj);
          await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.local.remove(key);
        }
      }
    }
  },

  /**
   * Initialize the storage
   * @return {Promise} initialization promise
   */
  async initialize() {
    // Migrating the files with 'file:' and `abp:file:` prefixes
    // to 'ewe:file:' stored in `browser.storage.local` in Firefox private mode.
    // See https://gitlab.com/eyeo/adblockplus/abc/webext-ad-filtering-solution/-/issues/369
    await this.fixPrefixes();
  }
};



/***/ }),

/***/ "./sdk/api/io-idb.js":
/*!***************************!*\
  !*** ./sdk/api/io-idb.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IO": () => (/* binding */ IO),
/* harmony export */   "getDatabase": () => (/* binding */ getDatabase)
/* harmony export */ });
/* harmony import */ var _idb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./idb.js */ "./sdk/api/idb.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */



let database;

function clearContent(filename, entryStore, contentStore) {
  entryStore.get(filename).onsuccess = event => {
    let entry = event.target.result;
    if (entry) {
      contentStore.delete(entry.content);
    }
  };
}

function saveFile(db, filename, lines, lastModified) {
  return new Promise((resolve, reject) => {
    let data = new TextEncoder().encode(Array.from(lines).join("\n"));
    let tx = db.transaction(["file-entries", "file-contents"], "readwrite");
    let entryStore = tx.objectStore("file-entries");
    let contentStore = tx.objectStore("file-contents");

    clearContent(filename, entryStore, contentStore);
    contentStore.add(data).onsuccess = event => {
      let content = event.target.result;
      entryStore.put({lastModified, content}, filename);
    };

    tx.oncomplete = () => resolve();
    tx.onerror = tx.onabort = event => reject(event.target.error);
  });
}

async function initIO(db) {
  database = db;
}

function getDatabase() {
  if (!database) {
    throw new Error("Database hasn't been opened. Did you call start()?");
  }
  return database;
}

// IO implementation that is using `IndexedDB`
let IO = {
  /**
   * Reads text lines from a file.
   * @param {string} filename
   *    Name of the file to be read
   * @param {TextSink} listener
   *    Function that will be called for each line in the file
   * @return {Promise}
   *    Promise to be resolved or rejected once the operation is completed
   */
  async readFromFile(filename, listener) {
    let data = await new Promise((resolve, reject) => {
      let db = getDatabase();
      let tx = db.transaction(["file-entries", "file-contents"], "readonly");
      let entryStore = tx.objectStore("file-entries");
      let contentStore = tx.objectStore("file-contents");

      entryStore.get(filename).onsuccess = entryEvent => {
        let entry = entryEvent.target.result;
        if (!entry) {
          reject(new Error("File does not exist"));
          return;
        }

        contentStore.get(entry.content).onsuccess = contentEvent => {
          resolve(contentEvent.target.result);
        };
      };

      tx.onerror = tx.onabort = event => reject(event.target.error);
    });

    let decoder = new TextDecoder();
    let start = 0;

    while (true) {
      let index = data.indexOf(10 /* newline character */, start + 1000);
      let end = index != -1 ? index : data.length;
      let text = decoder.decode(data.subarray(start, end));

      for (let line of text.split("\n")) {
        listener(line);
      }

      if (index == -1) {
        break;
      }

      start = index + 1;
    }
  },

  /**
   * Writes text lines to a file.
   * @param {string} filename
   *    Name of the file to be written
   * @param {Iterable<string>} lines
   *    An array-like or iterable object containing the lines (without line
   *    endings)
   * @return {Promise}
   *    Promise to be resolved or rejected once the operation is completed
   */
  async writeToFile(filename, lines) {
    await saveFile(getDatabase(), filename, lines, Date.now());
  },

  /**
   * Renames a file.
   * @param {string} oldName
   *    Name of the file to be renamed
   * @param {string} newName
   *    New file name, will be overwritten if exists
   * @return {Promise}
   *    Promise to be resolved or rejected once the operation is completed
   */
  renameFile(oldName, newName) {
    return new Promise((resolve, reject) => {
      let db = getDatabase();
      let tx = db.transaction(["file-entries", "file-contents"], "readwrite");
      let entryStore = tx.objectStore("file-entries");
      let contentStore = tx.objectStore("file-contents");

      entryStore.get(oldName).onsuccess = event => {
        let entry = event.target.result;
        if (!entry) {
          reject(new Error("File does not exist"));
          return;
        }

        clearContent(newName, entryStore, contentStore);
        entryStore.put(entry, newName);
        entryStore.delete(oldName);
      };

      tx.oncomplete = () => resolve();
      tx.onerror = tx.onabort = event => reject(event.target.error);
    });
  },

  /**
   * Retrieves file metadata.
   * @param {string} filename
   *    Name of the file to be looked up
   * @return {Promise<StatData>}
   *    Promise to be resolved with file metadata once the operation is
   *    completed
   */
  statFile(filename) {
    return new Promise((resolve, reject) => {
      let db = getDatabase();
      let tx = db.transaction(["file-entries"], "readonly");
      let store = tx.objectStore("file-entries");

      store.get(filename).onsuccess = event => {
        let entry = event.target.result;
        let exists = false;
        let lastModified;

        if (entry) {
          exists = true;
          lastModified = entry.lastModified;
        }

        resolve({exists, lastModified});
      };

      tx.onerror = tx.onabort = event => reject(event.target.error);
    });
  },

  /**
   * Initialize the storage
   * @return {Promise} initialization promise
   */
  async initialize() {
    let db = await (0,_idb_js__WEBPACK_IMPORTED_MODULE_0__.openDatabase)();
    await initIO(db);
  }
};


/***/ }),

/***/ "./sdk/api/io.js":
/*!***********************!*\
  !*** ./sdk/api/io.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IO": () => (/* binding */ IO),
/* harmony export */   "readFileContent": () => (/* binding */ readFileContent)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var _io_idb_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./io-idb.js */ "./sdk/api/io-idb.js");
/* harmony import */ var _io_bsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./io-bsl.js */ "./sdk/api/io-bsl.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */






let io;
let initializationPromise;

function readFileContent(path) {
  const url = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].runtime.getURL(path);
  return fetch(url).then(content => content.text());
}

// This is a facade implementation that forwards to the current concrete
// implementation of IO. By default IndexedDB is used but if it's unavailable
// a fallback to `browser.storage.local` is used.
let IO = {
  /**
   * Reads text lines from a file.
   * @param {string} filename
   *    Name of the file to be read
   * @param {TextSink} listener
   *    Function that will be called for each line in the file
   * @return {Promise}
   *    Promise to be resolved or rejected once the operation is completed
   */
  async readFromFile(filename, listener) {
    return io.readFromFile(filename, listener);
  },

  /**
   * Writes text lines to a file.
   * @param {string} filename
   *    Name of the file to be written
   * @param {Iterable<string>} lines
   *    An array-like or iterable object containing the lines (without line
   *    endings)
   * @return {Promise}
   *    Promise to be resolved or rejected once the operation is completed
   */
  async writeToFile(filename, lines) {
    return io.writeToFile(filename, lines);
  },

  /**
   * Renames a file.
   * @param {string} oldName
   *    Name of the file to be renamed
   * @param {string} newName
   *    New file name, will be overwritten if exists
   * @return {Promise}
   *    Promise to be resolved or rejected once the operation is completed
   */
  renameFile(oldName, newName) {
    return io.renameFile(oldName, newName);
  },

  /**
   * Retrieves file metadata.
   * @param {string} filename
   *    Name of the file to be looked up
   * @return {Promise<StatData>}
   *    Promise to be resolved with file metadata once the operation is
   *    completed
   */
  statFile(filename) {
    return io.statFile(filename);
  },

  /**
   * Initialize the storage
   * @return {Promise} initialization promise
   */
  initialize() {
    if (!initializationPromise) {
      initializationPromise = (async() => {
        io = _io_idb_js__WEBPACK_IMPORTED_MODULE_1__.IO;
        try {
          await io.initialize();
        }
        catch (e) {
          if (e instanceof DOMException &&
              e.name == "InvalidStateError") {
            // fall back to `browser.storage.local` API if IndexedDb
            // is unavailable, eg. in Firefox in private mode. See
            // https://gitlab.com/eyeo/adblockplus/abc/webext-ad-filtering-solution/-/issues/231
            io = _io_bsl_js__WEBPACK_IMPORTED_MODULE_2__.IO;
            try {
              await io.initialize();
            }
            catch {
              initializationPromise = null;
              throw e;
            }
          }
          else {
            initializationPromise = null;
            throw e;
          }
        }
      })();
    }

    return initializationPromise;
  }
};


/***/ }),

/***/ "./sdk/api/message-responder.js":
/*!**************************************!*\
  !*** ./sdk/api/message-responder.js ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "start": () => (/* binding */ start)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var _initializer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./initializer.js */ "./sdk/api/initializer.js");
/* harmony import */ var _content_filter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./content-filter.js */ "./sdk/api/content-filter.js");
/* harmony import */ var adblockpluscore_lib_elemHide_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! adblockpluscore/lib/elemHide.js */ "./core/lib/elemHide.js");
/* harmony import */ var _subscribe_links_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./subscribe-links.js */ "./sdk/api/subscribe-links.js");
/* harmony import */ var _diagnostics_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./diagnostics.js */ "./sdk/api/diagnostics.js");
/* harmony import */ var _allowlisting_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./allowlisting.js */ "./sdk/api/allowlisting.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/* harmony import */ var _content_message_deferrer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./content-message-deferrer.js */ "./sdk/api/content-message-deferrer.js");
/* harmony import */ var _cdp_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./cdp.js */ "./sdk/api/cdp.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */













async function handleMessage(message, sender) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({
    message, sender: {
      tabId: sender.tab ? sender.tab.id : null,
      frameId: sender.frameId,
      url: sender.url
    }
  });
  await _initializer_js__WEBPACK_IMPORTED_MODULE_1__["default"].start();
  switch (message.type) {
    case "ewe:content-hello":
      // Firefox mistakenly runs content scripts in non-web page context,
      // it does not happen in Chrome.
      // https://gitlab.com/eyeo/adblockplus/abc/webext-ad-filtering-solution/-/issues/174.
      // Messages sent from a non-web page context do not have an
      // associated tab and can be ignored.
      if (!sender.tab) {
        return;
      }

      (0,_content_message_deferrer_js__WEBPACK_IMPORTED_MODULE_8__.onContentHelloReceived)(sender.tab.id, sender.frameId);
      let filterData = await (0,_content_filter_js__WEBPACK_IMPORTED_MODULE_2__.applyContentFilters)(sender.tab.id, sender.frameId);
      return {...filterData};
    case "ewe:subscribe-link-clicked":
      (0,_subscribe_links_js__WEBPACK_IMPORTED_MODULE_4__.subscribeLinkClicked)(message.url, message.title);
      break;
    case "ewe:trace-elem-hide":
      (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_5__.logHiddenElements)(message.selectors, message.filters, sender);
      break;
    case "ewe:inject-css":
      let styleSheet = (0,adblockpluscore_lib_elemHide_js__WEBPACK_IMPORTED_MODULE_3__.createStyleSheet)([message.selector]);
      (0,_content_filter_js__WEBPACK_IMPORTED_MODULE_2__.injectCSS)(sender.tab.id, sender.frameId, styleSheet);
      break;
    case "ewe:allowlist-page":
      const {timestamp, signature, options} = message;
      return (0,_allowlisting_js__WEBPACK_IMPORTED_MODULE_6__.allowlistPage)(
        sender.tab.id, sender.frameId, timestamp, signature, options
      );
    case "ewe:cdp-session-active":
      await (0,_cdp_js__WEBPACK_IMPORTED_MODULE_9__.markActive)(sender.tab.id, sender.frameId);
      break;
  }
}

function onMessage(message, sender) {
  if (typeof message == "object" && message != null &&
      message.type && message.type.startsWith("ewe:")) {
    return handleMessage(message, sender);
  }
  return false;
}

/**
 * Start the message responder module. In MV3, this must be called in
 * the first turn of the event loop.
 */
function start() {
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.runtime.onMessage.addListener(onMessage);
}


/***/ }),

/***/ "./sdk/api/notifications.js":
/*!**********************************!*\
  !*** ./sdk/api/notifications.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "notifications": () => (/* binding */ notifications)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var _prefs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./prefs.js */ "./sdk/api/prefs.js");
/* harmony import */ var adblockpluscore_lib_notifications_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/notifications.js */ "./core/lib/notifications.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */







const NOTIFICATION_KEY = "ewe:notifications";
class NotificationSessionStorageBackend {
  constructor() {
    this.local = new Set();
    this.loaded = this.load();
  }

  add(notification) {
    this.local.add(notification);
    this.save();
  }

  delete(notification) {
    let removed = this.local.delete(notification);
    if (removed) {
      this.save();
    }

    return removed;
  }

  [Symbol.iterator]() {
    return this.local[Symbol.iterator]();
  }

  async load() {
    let result = await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.session.get([NOTIFICATION_KEY]);
    let loadedNotifications = result[NOTIFICATION_KEY] || [];
    for (let notification of loadedNotifications) {
      this.local.add(notification);
    }
  }

  async save() {
    await this.loaded;
    if (!this.debounceTimer) {
      this.debounceTimer = setTimeout(() => {
        this.debounceTimer = null;
        this.saveImmediate();
      }, 0);
    }
  }

  async saveImmediate() {
    await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.session.set({
      [NOTIFICATION_KEY]: [...this.local]
    });
  }
}

if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.session) {
  adblockpluscore_lib_notifications_js__WEBPACK_IMPORTED_MODULE_2__.notifications.setLocalNotificationStorage(
    new NotificationSessionStorageBackend()
  );
}

let funcsThatRequirePrefs = [
  "start",
  "shouldIgnoreNotifications",
  "showNotification",
  "showNext",
  "markAsShown",
  "toggleIgnoreCategory",
  "getDownloadCount",
  "getIgnoredCategories"
];

/**
 * The notifications API (optional usage).
 *
 * Call `notifications.start()` to start downloading remote
 * notifications. Local notifications functions such as
 * `notifications.addNotification(notification)` and
 * `notifications.showNotification(notification)` can be used even if
 * `notifications.start()` has not been called.
 *
 *  Please also notice that notification events are **not** using the
 * {@link #eventdispatcher|EventDispatcher} interface.
 *
 * Note that, when used through EWE, the following notifications
 * functions are asynchronous and return the values specified in the
 * Core documentation wrapped in promises:
 * - start
 * - shouldIgnoreNotifications
 * - showNotification
 * - showNext
 * - markAsShown
 * - toggleIgnoreCategory
 * - getDownloadCount
 * - getIgnoredCategories
 *
 * @see {@link https://eyeo.gitlab.io/adblockplus/abc/adblockpluscore/master/docs/module-notifications.html?job=docs|Adblock Plus core notifications documentation}
 */
let notifications = new Proxy(adblockpluscore_lib_notifications_js__WEBPACK_IMPORTED_MODULE_2__.notifications, {
  get(target, prop, receiver) {
    if (funcsThatRequirePrefs.includes(prop)) {
      return async function(...args) {
        await (0,_prefs_js__WEBPACK_IMPORTED_MODULE_1__.init)();
        return target[prop](...args);
      };
    }
    return target[prop];
  }
});


/***/ }),

/***/ "./sdk/api/persistence.js":
/*!********************************!*\
  !*** ./sdk/api/persistence.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PersistentState": () => (/* binding */ PersistentState)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var _set_operations_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./set-operations.js */ "./sdk/api/set-operations.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */




class PersistentState {
  constructor(storageKey, storage = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.session) {
    this.storageKey = storageKey;
    this.storage = storage;
    this.activeSaveActions = new Set();
    this.loaded = false;
    this.debounce = false;

    this.clearState();
  }

  doDebounce() {
    this.debounce = true;
  }

  clearState() {
    this.state = {};
  }

  getState() {
    return this.state;
  }

  async load(savedStateCallback = null) {
    let persistObj = await this.storage.get(this.storageKey);
    if (!persistObj || !persistObj[this.storageKey]) {
      this.loaded = true;
      return;
    }

    let savedState = persistObj[this.storageKey];

    if (savedStateCallback) {
      savedStateCallback(savedState);
    }

    // We might have populated state until loading is finished.
    // Thus we might need to merge the saved and new runtime state.
    this.state = (0,_set_operations_js__WEBPACK_IMPORTED_MODULE_1__.mergeObjects)(savedState, this.state);
    this.loaded = true;
  }

  async save() {
    if (this.debounce) {
      if (!this.debounceTimer) {
        this.debounceTimer = setTimeout(() => {
          this.debounceTimer = null;
          this.saveImmediate();
        }, 0);
      }
    }
    else {
      await this.saveImmediate();
    }
  }

  async saveImmediate() {
    let obj = {};
    obj[this.storageKey] = this.state;
    return this._trackSaving(this.storage.set(obj)
      .catch(e => console.error("Failed to save the state for",
                                this.storageKey, ": " + e.message)));
  }

  async awaitSavingComplete() {
    if (Promise.allSettled) {
      await Promise.allSettled(this.activeSaveActions);
      return;
    }

    // Promise.allSettled isn't supported in oldest Firefox.
    // It was added in Firefox 71.
    for (let saveAction of this.activeSaveActions) {
      try {
        await saveAction;
      }
      catch (e) {
      }
    }
  }

  _trackSaving(savePromise) {
    this.activeSaveActions.add(savePromise);
    savePromise.finally(() => this.activeSaveActions.delete(savePromise));
    return savePromise;
  }
}


/***/ }),

/***/ "./sdk/api/popup-blocker-background-page.js":
/*!**************************************************!*\
  !*** ./sdk/api/popup-blocker-background-page.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "start": () => (/* binding */ start)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/filterClasses.js */ "./core/lib/filterClasses.js");
/* harmony import */ var adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/contentTypes.js */ "./core/lib/contentTypes.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _diagnostics_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./diagnostics.js */ "./sdk/api/diagnostics.js");
/* harmony import */ var _frame_state_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./frame-state.js */ "./sdk/api/frame-state.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */











let loadingPopups = new Map();

function forgetPopup(tabId) {
  loadingPopups.delete(tabId);

  if (loadingPopups.size == 0) {
    webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.onBeforeRequest.removeListener(onPopupURLChanged);
    webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webNavigation.onBeforeNavigate.removeListener(onPopupURLChanged);
    webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webNavigation.onCompleted.removeListener(onCompleted);
    webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.tabs.onRemoved.removeListener(onTabRemoved);
  }
}

function checkPotentialPopup(popupTabId, url, opener) {
  let {docDomain, sitekey, specificOnly} = opener;

  let filter = _core_js__WEBPACK_IMPORTED_MODULE_3__.filterEngine.defaultMatcher.match(
    url || _frame_state_js__WEBPACK_IMPORTED_MODULE_5__.BLANK_PAGE_URL, adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.POPUP,
    docDomain, sitekey, specificOnly
  );

  if (filter) {
    (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_4__.logItem)({tabId: opener.tabId, frameId: 0, url}, filter,
            {docDomain, specificOnly, method: "popup"});

    if (filter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.BlockingFilter) {
      webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.tabs.remove(popupTabId).catch(() => {});
    }

    forgetPopup(popupTabId);
  }
}

function onPopupURLChanged({frameId, tabId, url}) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({frameId, tabId, url});

  if (!(0,_frame_state_js__WEBPACK_IMPORTED_MODULE_5__.isTopLevelFrameId)(frameId)) {
    return;
  }

  let opener = loadingPopups.get(tabId);
  if (opener) {
    checkPotentialPopup(tabId, url, opener);
  }
}

function onCompleted({frameId, tabId, url}) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({frameId, tabId, url});

  if ((0,_frame_state_js__WEBPACK_IMPORTED_MODULE_5__.isTopLevelFrameId)(frameId) && url != _frame_state_js__WEBPACK_IMPORTED_MODULE_5__.BLANK_PAGE_URL) {
    forgetPopup(tabId);
  }
}

function onTabRemoved(tabId) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({tabId});
  forgetPopup(tabId);
}

function onPopup({tabId, url, sourceTabId, sourceFrameId}) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({tabId, url, sourceTabId, sourceFrameId});

  let frame = (0,_frame_state_js__WEBPACK_IMPORTED_MODULE_5__.getFrameInfo)(sourceTabId, sourceFrameId) || {};

  if (frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.DOCUMENT) {
    return;
  }

  if (loadingPopups.size == 0) {
    webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.onBeforeRequest.addListener(
      onPopupURLChanged,
      {
        urls: ["http://*/*", "https://*/*"],
        types: ["main_frame"]
      }
    );
    webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webNavigation.onBeforeNavigate.addListener(onPopupURLChanged);
    webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webNavigation.onCompleted.addListener(onCompleted);
    webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.tabs.onRemoved.addListener(onTabRemoved);
  }

  let opener = {
    tabId: sourceTabId,
    specificOnly: Boolean(frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.GENERICBLOCK),
    docDomain: frame.hostname,
    sitekey: frame.sitekey
  };

  loadingPopups.set(tabId, opener);
  checkPotentialPopup(tabId, url, opener);
}

function onTabCreated({id, url, openerTabId}) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_6__.trace)({id, url, openerTabId});

  if (openerTabId) {
    onPopup({tabId: id, url, sourceTabId: openerTabId, sourceFrameId: 0});
  }
}

/**
 * Starts blocking popups. Must only be called after filter engine and
 * frame state are initialized.
 */
function start() {
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webNavigation.onCreatedNavigationTarget.addListener(onPopup);

  // On Firefox, clicking on a <a target="_blank" rel="noopener"> link doesn't
  // emit the webNavigation.onCreatedNavigationTarget event (and Firefox >=79,
  // implies "noopener" by default). But on Chrome, opening a new empty tab
  // emits the tabs.onCreated event with openerTabId set. So this would
  // cause new tabs created by the user to be considered popups too, on Chrome.
  if (typeof netscape != "undefined") {
    webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.tabs.onCreated.addListener(onTabCreated);
  }
}


/***/ }),

/***/ "./sdk/api/popup-blocker-service-worker.js":
/*!*************************************************!*\
  !*** ./sdk/api/popup-blocker-service-worker.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "start": () => (/* binding */ start)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/filterClasses.js */ "./core/lib/filterClasses.js");
/* harmony import */ var adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/contentTypes.js */ "./core/lib/contentTypes.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _initializer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./initializer.js */ "./sdk/api/initializer.js");
/* harmony import */ var _diagnostics_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./diagnostics.js */ "./sdk/api/diagnostics.js");
/* harmony import */ var _frame_state_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./frame-state.js */ "./sdk/api/frame-state.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */












const SESSION_STORAGE_KEY = "ewe:popupBlocker:loadingPopups";

class PotentialPopupMap {
  constructor() {
    this.openerPromiseMap = {};
    this.loaded = (async() => {
      let result = await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.session.get([SESSION_STORAGE_KEY]);
      this.openerMap = result[SESSION_STORAGE_KEY] || {};
    })();
  }

  async saveMap() {
    await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.session.set({
      [SESSION_STORAGE_KEY]: this.openerMap
    });
  }

  set(tabId, openerPromise) {
    if (this.openerPromiseMap[tabId] ||
        (this.openerMap && this.openerMap[tabId])) {
      return;
    }

    this.openerPromiseMap[tabId] = openerPromise;
    openerPromise.then(async opener => {
      await this.loaded;

      delete this.openerPromiseMap[tabId];
      if (opener) {
        this.openerMap[tabId] = opener;
        await this.saveMap();
      }
    });
  }

  async get(tabId) {
    let openerPromise = this.openerPromiseMap[tabId];
    if (openerPromise) {
      return await openerPromise;
    }

    await this.loaded;
    let opener = this.openerMap[tabId];
    return opener;
  }

  has(tabId) {
    return Object.hasOwnProperty.call(this.openerPromiseMap, tabId) ||
      (this.openerMap && Object.hasOwnProperty.call(this.openerMap, tabId));
  }

  async remove(tabId) {
    if (this.openerPromiseMap[tabId]) {
      delete this.openerPromiseMap[tabId];
    }

    await this.loaded;
    if (this.openerMap[tabId]) {
      delete this.openerMap[tabId];
      await this.saveMap();
    }
  }
}

let potentialPopups;

async function checkPotentialPopup(popupTabId, url, opener) {
  await _initializer_js__WEBPACK_IMPORTED_MODULE_4__["default"].start();
  let {docDomain, sitekey, specificOnly} = opener;

  // because of the async nature of getting to this point, it might
  // have been handled before we get here.
  if (!potentialPopups.has(popupTabId)) {
    return;
  }

  let filter = _core_js__WEBPACK_IMPORTED_MODULE_3__.filterEngine.defaultMatcher.match(
    url || _frame_state_js__WEBPACK_IMPORTED_MODULE_6__.BLANK_PAGE_URL, adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.POPUP, docDomain, sitekey, specificOnly
  );

  if (filter) {
    (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_5__.logItem)({tabId: opener.tabId, frameId: 0, url}, filter,
            {docDomain, specificOnly, method: "popup"});

    if (filter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.BlockingFilter) {
      webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.tabs.remove(popupTabId).catch(() => {});
    }

    await potentialPopups.remove(popupTabId);
  }
}

async function onPopupURLChanged({frameId, tabId, url}) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({frameId, tabId, url});

  if (!(0,_frame_state_js__WEBPACK_IMPORTED_MODULE_6__.isTopLevelFrameId)(frameId)) {
    return;
  }

  let opener = await potentialPopups.get(tabId);
  if (opener) {
    await checkPotentialPopup(tabId, url, opener);
  }
}

async function onCompleted({frameId, tabId, url}) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({frameId, tabId, url});

  if (!(0,_frame_state_js__WEBPACK_IMPORTED_MODULE_6__.isTopLevelFrameId)(frameId) || url == _frame_state_js__WEBPACK_IMPORTED_MODULE_6__.BLANK_PAGE_URL) {
    return;
  }

  let opener = await potentialPopups.get(tabId);
  if (opener) {
    await checkPotentialPopup(tabId, url, opener);
    await potentialPopups.remove(tabId);
  }
}

async function onTabRemoved(tabId) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({tabId});
  await potentialPopups.remove(tabId);
}

async function onPopup({tabId, url, sourceTabId, sourceFrameId}) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace)({tabId, url, sourceTabId, sourceFrameId});

  let openerPromise = (async() => {
    await _initializer_js__WEBPACK_IMPORTED_MODULE_4__["default"].start();
    let frame = (0,_frame_state_js__WEBPACK_IMPORTED_MODULE_6__.getFrameInfo)(sourceTabId, sourceFrameId) || {};

    if (frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.DOCUMENT) {
      return;
    }

    let opener = {
      tabId: sourceTabId,
      specificOnly: Boolean(frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.GENERICBLOCK),
      docDomain: frame.hostname,
      sitekey: frame.sitekey
    };
    return opener;
  })();

  potentialPopups.set(tabId, openerPromise);

  let opener = await openerPromise;
  if (opener) {
    await checkPotentialPopup(tabId, url, opener);
  }
}

/**
 * Starts blocking popups. Must be called in the first turn of the
 * event loop.
 */
function start() {
  potentialPopups = new PotentialPopupMap();

  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webNavigation.onCreatedNavigationTarget.addListener(onPopup);
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.onBeforeRequest.addListener(
    onPopupURLChanged,
    {
      urls: ["http://*/*", "https://*/*"],
      types: ["main_frame"]
    }
  );
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webNavigation.onBeforeNavigate.addListener(onPopupURLChanged);
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webNavigation.onCommitted.addListener(onPopupURLChanged);
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webNavigation.onCompleted.addListener(onCompleted);
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.tabs.onRemoved.addListener(onTabRemoved);
}


/***/ }),

/***/ "./sdk/api/prefs.js":
/*!**************************!*\
  !*** ./sdk/api/prefs.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CDP_OPTED_IN": () => (/* binding */ CDP_OPTED_IN),
/* harmony export */   "CDP_OPTED_IN_BY_USER": () => (/* binding */ CDP_OPTED_IN_BY_USER),
/* harmony export */   "CDP_OPTED_OUT": () => (/* binding */ CDP_OPTED_OUT),
/* harmony export */   "CDP_OPTED_OUT_BY_USER": () => (/* binding */ CDP_OPTED_OUT_BY_USER),
/* harmony export */   "MIGRATED_TO_MV2": () => (/* binding */ MIGRATED_TO_MV2),
/* harmony export */   "MIGRATED_TO_MV3": () => (/* binding */ MIGRATED_TO_MV3),
/* harmony export */   "MIGRATED_TO_MV3_WITHOUT_DIFF": () => (/* binding */ MIGRATED_TO_MV3_WITHOUT_DIFF),
/* harmony export */   "Prefs": () => (/* binding */ Prefs),
/* harmony export */   "awaitSavingComplete": () => (/* binding */ awaitSavingComplete),
/* harmony export */   "defaults": () => (/* binding */ defaults),
/* harmony export */   "init": () => (/* binding */ init),
/* harmony export */   "migratePrefs": () => (/* binding */ migratePrefs)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var adblockpluscore_lib_events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/events.js */ "./core/lib/events.js");
/* harmony import */ var adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/time.js */ "./core/lib/time.js");
/* harmony import */ var _io_idb_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./io-idb.js */ "./sdk/api/io-idb.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */






// MV2
// (all the subscriptions are downloadable)
const MIGRATED_TO_MV2 = 0;

// MV3 without diff updates
// (anti-cv subscription is the only `FullUpdatableSubscription`)
const MIGRATED_TO_MV3_WITHOUT_DIFF = 1;

// MV3 with diff updates
// (all subscriptions are either
// `CountableSubscription` or `DiffUpdatableSubscriptions`)
const MIGRATED_TO_MV3 = 2;

const CDP_OPTED_IN = 0;
const CDP_OPTED_OUT = 1;
const CDP_OPTED_IN_BY_USER = 2;
const CDP_OPTED_OUT_BY_USER = 3;

const defaults = Object.create({
  analytics: {trustedHosts: ["adblockplus.org",
                             "notification.adblockplus.org",
                             "easylist-downloads.adblockplus.org"]},
  dynamic_filters: [],
  notificationdata: {},
  notifications_ignoredcategories: [],
  notificationurl: "https://notification.adblockplus.org/notification.json",
  notifications_initial_delay: 1000, // 1 s
  patternsbackupinterval: 24,
  patternsbackups: 0,
  ruleset_updates: [],
  savestats: false,
  show_statsinpopup: true,
  subscriptions_autoupdate: true,
  subscriptions_fallbackerrors: 5,
  subscriptions_fallbackurl: "https://adblockplus.org/getSubscription?version=%VERSION%&url=%SUBSCRIPTION%&downloadURL=%URL%&error=%ERROR%&responseStatus=%RESPONSESTATUS%",
  subscriptions_initial_delay: 1000, // 1 s
  subscriptions_check_interval: 1 * adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_2__.MILLIS_IN_HOUR,
  migration_filter_errors: [],
  migration_subscription_errors: [],
  migration_state: MIGRATED_TO_MV2,
  edge_one_click_allowlisting_delay: 2 * adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_2__.MILLIS_IN_SECOND,
  cdp_opt_in_out: CDP_OPTED_IN,
  cdp_session_expiration_interval: 30 * adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_2__.MILLIS_IN_MINUTE,
  telemetry_opt_out: true
});

let Prefs = {
  on(preference, callback) {
    eventEmitter.on(preference, callback);
  },
  off(preference, callback) {
    eventEmitter.off(preference, callback);
  }
};

const KEY_PREFIX = "abp:pref:";

let eventEmitter = new adblockpluscore_lib_events_js__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
let overrides = new Map();
let initializationPromise;

function keyToPref(key) {
  return key.startsWith(KEY_PREFIX) ? key.substr(KEY_PREFIX.length) : null;
}

function prefToKey(pref) {
  return `${KEY_PREFIX}${pref}`;
}

let activeSaveActions = new Set();

function trackSaving(savePromise) {
  activeSaveActions.add(savePromise);
  savePromise.finally(() => activeSaveActions.delete(savePromise));
  return savePromise;
}

async function awaitSavingComplete() {
  if (Promise.allSettled) {
    await Promise.allSettled(activeSaveActions);
    return;
  }

  // Promise.allSettled isn't supported in oldest Firefox.
  // It was added in Firefox 71.
  for (let saveAction of activeSaveActions) {
    try {
      await saveAction;
    }
    catch (e) {
    }
  }
}

function addPreference(preference) {
  Object.defineProperty(Prefs, preference, {
    get() {
      if (overrides.has(preference)) {
        return overrides.get(preference);
      }

      let defaultValue = defaults[preference];
      // Arrays and Objects are deeply copied
      // to avoid modifications of `defaults`
      return Array.isArray(defaultValue) ||
        (typeof defaultValue === "object" && defaultValue !== null) ?
          JSON.parse(JSON.stringify(defaultValue)) :
          defaultValue;
    },
    set(value) {
      let key = prefToKey(preference);
      if (value === defaults[preference]) {
        overrides.delete(preference);
        trackSaving(webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.remove(key));
        return;
      }

      overrides.set(preference, value);
      trackSaving(webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.set({[key]: value}));
    },
    enumerable: true
  });
}

async function migratePrefs(db) {
  return new Promise((resolve, reject) => {
    let tx = db.transaction(["prefs"], "readwrite");
    tx.oncomplete = () => resolve();
    tx.onerror = tx.onabort = event => reject(event.target.error);

    let prefsStore;
    try {
      prefsStore = tx.objectStore("prefs");
    }
    catch (e) {
      // no "prefs" object store
      return;
    }
    prefsStore.getAll().onsuccess = event => {
      for (let {name, value} of event.target.result) {
        savePreference(name, value);
      }
      prefsStore.clear();
    };
  });
}

function savePreference(name, value) {
  let key = prefToKey(name);
  overrides.set(name, value);
  trackSaving(webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.set({[key]: value}));
}

async function loadPreferences() {
  let prefs = Object.keys(Object.getPrototypeOf(defaults));
  prefs.forEach(addPreference);

  let items = await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.get(prefs.map(prefToKey));
  for (let key in items) {
    overrides.set(keyToPref(key), items[key]);
  }
}

async function init() {
  if (!initializationPromise) {
    initializationPromise = (async() => {
      try {
        let db = (0,_io_idb_js__WEBPACK_IMPORTED_MODULE_3__.getDatabase)();
        await migratePrefs(db);
      }
      catch (e) {
        // db might be unavailable
      }

      await loadPreferences();
    })();
  }

  return initializationPromise;
}


/***/ }),

/***/ "./sdk/api/reporting.js":
/*!******************************!*\
  !*** ./sdk/api/reporting.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var adblockpluscore_lib_analytics_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! adblockpluscore/lib/analytics.js */ "./core/lib/analytics.js");
/* harmony import */ var adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/contentTypes.js */ "./core/lib/contentTypes.js");
/* harmony import */ var _diagnostics_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./diagnostics.js */ "./sdk/api/diagnostics.js");
/* harmony import */ var _request_filter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./request-filter.js */ "./sdk/api/request-filter.js");
/* harmony import */ var _subscribe_links_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./subscribe-links.js */ "./sdk/api/subscribe-links.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */








let contentTypesMap = new Map();

for (let item of _request_filter_js__WEBPACK_IMPORTED_MODULE_3__.resourceTypes) {
  let contentTypeObject = Object.keys(adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_1__.contentTypes).find(key =>
    adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_1__.contentTypes[key] === item[1]
  );

  contentTypesMap.set(item[0].toLowerCase(), contentTypeObject.toLowerCase());
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  /**
   * Returns the version of the first ever downloaded resource.
   * @return {string}
   * @see {@link https://gitlab.com/eyeo/adblockplus/abc/adblockpluscore/-/jobs/artifacts/0.6.0/file/build/docs/module-analytics-Analytics.html?job=docs#getFirstVersion|Adblock Plus core analytics documentation}
   * @external
   */
  getFirstVersion: adblockpluscore_lib_analytics_js__WEBPACK_IMPORTED_MODULE_0__.analytics.getFirstVersion,

  /**
  * @typedef {Object} FilterMatchInfo
  * @property {string|null} docDomain The hostname of the document that caused
  *   the request. This will be null for "main_frame" requests since those
  *   create the top-level document in the first place.
  * @property {?string} rewrittenUrl The name of the internal resource to which
  *   to rewrite the URL.
  * @property {?boolean} specificOnly Whether selectors from generic filters
  *   should be included.
  * @property {string} method The method used to match this filter. This can be
  *   the string "request", "header", "csp", "popup", "elemhide", "snippet",
  *   "allowing", or "unmatched".
  * @property {?string} allowingReason When the type in request details is
  *   undefined, this contains the reason why the request/frame got
  *   allowlisted. That is either "document", "elemhide", "genericblock",
  *   "generichide", or "extensionInitiated". "extensionInitiated" refers to any
  *   web requests initiated by a browser extension rather than a web page
  *   (those requests are not blockable).
  */

  /**
   * Emitted when any blockable item is matched.
   *
   * This includes both filters being applied on a document level and web
   * requests. Multiple events may be emitted for a document, one for each
   * filter being applied to the document. There will generally only be one
   * event emitted for each web request. The exception to this is CSP filters,
   * where multiple CSP filters may be applied to a request at the same time,
   * and an event will be emitted for each filter applied.
   * @event
   * @param {object|{frameId: number, tabId: number, url: string}} request
   *   Either
   *   the {@link https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest/onBeforeRequest#details|onBeforeRequest details}
   *   object or the {@link https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest/onHeadersReceived#details|onHeadersReceived details}
   *   object from the web extensions API, or an object with the properties
   *   `frameId`, `tabId` and `url`.
   * @param {?Filter} filter The filter that matched, if any.
   * @param {FilterMatchInfo} matchInfo Extra information that might be
   *                                    relevant depending on the context.
   * @type {BlockableEventDispatcher<{request: object,
   *                                   filter: Filter,
   *                                   matchInfo: FilterMatchInfo}>}
   */
  onBlockableItem: new _diagnostics_js__WEBPACK_IMPORTED_MODULE_2__.BlockableEventDispatcher(),

  /**
   * Returns a mapping between resourceTypes and contentTypes.
   * @return {Map<string, string>}
   */
  contentTypesMap,

  /**
   * Emitted when a subscribe link is clicked on a web page.
   *
   * A subscribe link has a URL pointing to `https://subscribe.adblockplus.org/`
   * or starting with `abp:subscribe` (deprecated), followed by a query string
   * with a `location` parameter, and optionally a `title` parameter. Subscribe
   * links can only be used on certain trusted domains (including `localhost`).
   * @example
   * <a href="https://subscribe.adblockplus.org?location=http%3A%2F%2Flocalhost%2Flist.txt&title=Example">Example</a>
   * <a href="abp:subscribe?location=location=http%3A%2F%2Flocalhost%2Flist.txt&title=Example">Example (deprecated)</a>
   * @event
   * @param {string} url The subscription URL from the subscribe link
   *                     `location`'s parameter.
   * @param {string} title The subscription title from the subscribe link
   *                       `title`'s parameter.
   * @type {EventDispatcher<{url: string, title: string}>}
   */
  onSubscribeLinkClicked: _subscribe_links_js__WEBPACK_IMPORTED_MODULE_4__.onSubscribeLinkClicked
});


/***/ }),

/***/ "./sdk/api/request-filter.js":
/*!***********************************!*\
  !*** ./sdk/api/request-filter.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFrameInfoFromWebrequestDetails": () => (/* binding */ getFrameInfoFromWebrequestDetails),
/* harmony export */   "getParentFrameInfoFromWebrequestDetails": () => (/* binding */ getParentFrameInfoFromWebrequestDetails),
/* harmony export */   "getRequestContentType": () => (/* binding */ getRequestContentType),
/* harmony export */   "resourceTypes": () => (/* binding */ resourceTypes),
/* harmony export */   "sanitizeInitiator": () => (/* binding */ sanitizeInitiator),
/* harmony export */   "start": () => (/* binding */ start)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/filterClasses.js */ "./core/lib/filterClasses.js");
/* harmony import */ var adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/contentTypes.js */ "./core/lib/contentTypes.js");
/* harmony import */ var adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! adblockpluscore/lib/filterNotifier.js */ "./core/lib/filterNotifier.js");
/* harmony import */ var adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! adblockpluscore/lib/url.js */ "./core/lib/url.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _frame_state_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./frame-state.js */ "./sdk/api/frame-state.js");
/* harmony import */ var _diagnostics_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./diagnostics.js */ "./sdk/api/diagnostics.js");
/* harmony import */ var _sitekey_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./sitekey.js */ "./sdk/api/sitekey.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/* harmony import */ var _content_message_deferrer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./content-message-deferrer.js */ "./sdk/api/content-message-deferrer.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */















const EXTENSION_PROTOCOL = new URL(webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.runtime.getURL("")).protocol;

let resourceTypes = new Map();
for (let type in adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes) {
  resourceTypes.set(type.toLowerCase(), adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes[type]);
}
resourceTypes.set("sub_frame", adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.SUBDOCUMENT);
resourceTypes.set("beacon", adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.PING);
resourceTypes.set("imageset", adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.IMAGE);
resourceTypes.set("object_subrequest", adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.OBJECT);
resourceTypes.set("main_frame", adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.DOCUMENT);

let typeSelectors = new Map([
  [adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.IMAGE, "img,input"],
  [adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.MEDIA, "audio,video"],
  [adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.SUBDOCUMENT, "frame,iframe,object,embed"],
  [adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.OBJECT, "object,embed"]
]);

function getRequestContentType(details) {
  let contentType = resourceTypes.get(details.type) || adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.OTHER;
  if (contentType == adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.DOCUMENT) {
    return adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.OTHER;
  }
  return contentType;
}

function getFrameId(details) {
  // sub_frame requests are loading the iframe document itself, so
  // from our point of view the initiating frame is actually the
  // parent of the iframe.
  return details.type == "sub_frame" ? details.parentFrameId :
    details.frameId;
}

function getParentFrameId(details) {
  if (details.type == "sub_frame") {
    // frameAncestors is exactly what we need, but it's only
    // available in Firefox so sometimes we just don't have what we
    // need :(
    if (!details.frameAncestors) {
      return null;
    }

    return details.frameAncestors.length > 1 ?
      details.frameAncestors[1].frameId : -1;
  }
  return details.parentFrameId;
}

// Initiators have this weird thing where they sometimes use the string "null"
// instead of just giving a value of null.
function sanitizeInitiator(initiator) {
  return initiator == "null" ? null : initiator;
}

function getFrameInfoFromWebrequestDetails(details) {
  let tabId = details.tabId;
  let frameId = getFrameId(details);
  let parentFrameId = getParentFrameId(details);
  let initiator = sanitizeInitiator(details.initiator) || details.documentUrl;
  let documentUrl = details.documentUrl || sanitizeInitiator(details.initiator);

  let frame = (0,_frame_state_js__WEBPACK_IMPORTED_MODULE_6__.getFrameInfo)(tabId, frameId, {
    initiator,
    parentFrameId,
    documentUrl
  });

  if (!frame || frame.isChangingURL) {
    // `isChangingURL` indicates that `onBeforeNavigate` was already
    // triggered, but `onCommited` was not yet triggered. Thus we don't really
    // know the actual allowlisting state.
    return null;
  }

  return frame;
}

function getParentFrameInfoFromWebrequestDetails(details) {
  if (!(0,_frame_state_js__WEBPACK_IMPORTED_MODULE_6__.isValidFrameId)(details.parentFrameId)) {
    return null;
  }

  let parentFrame = (0,_frame_state_js__WEBPACK_IMPORTED_MODULE_6__.getFrameInfo)(details.tabId, details.parentFrameId);
  // Due to a chrome bug, the parent frame might not exist. In this
  // case, we should fall back to the root frame. See
  // https://bugs.chromium.org/p/chromium/issues/detail?id=725917
  if (!parentFrame && (0,_frame_state_js__WEBPACK_IMPORTED_MODULE_6__.isValidChildFrameId)(details.parentFrameId)) {
    parentFrame = (0,_frame_state_js__WEBPACK_IMPORTED_MODULE_6__.getFrameInfo)(details.tabId, 0);
  }

  return parentFrame;
}

let pendingAllowlistedRequests = new Set();
let pendingCspRequests = new Set();

class BaseFilter {
  register() {
    if (!this.listener) {
      this.listener = this.filter.bind(this);
      this.event.addListener(this.listener, ...this.eventArgs);
    }
  }

  unregister() {
    if (this.listener) {
      this.event.removeListener(this.listener);
      this.listener = null;
    }
  }

  getDocDomain(type, hostname) {
    return type == "main_frame" ? null : hostname;
  }

  getInitiator(details) {
    // Chrome calls it initiator, Firefox calls it documentUrl
    return sanitizeInitiator(details.initiator) || details.documentUrl;
  }

  getDocumentUrl(details) {
    return details.documentUrl || sanitizeInitiator(details.initiator);
  }

  collapse(details) {
    let selector = typeSelectors.get(getRequestContentType(details));
    let frameId = getFrameId(details);

    if (selector && frameId != -1) {
      (0,_content_message_deferrer_js__WEBPACK_IMPORTED_MODULE_10__.sendContentMessage)(
        details.tabId, frameId,
        {type: "ewe:collapse", selector, url: details.url}
      );
    }
    else {
      (0,_debugging_js__WEBPACK_IMPORTED_MODULE_9__.warn)("No selector or frameId", JSON.stringify(details));
    }
  }

  block(details, filter, matchInfo) {
    let value = (() => {
      if (typeof filter.rewrite == "string") {
        let rewrittenUrl = filter.rewriteUrl(details.url);
        // If no rewrite happened (error, different origin), we'll
        // return undefined in order to avoid an "infinite" loop.
        if (rewrittenUrl != details.url) {
          matchInfo.rewrittenUrl = rewrittenUrl;
          return {redirectUrl: rewrittenUrl};
        }
      }
      else {
        this.collapse(details);
        return {cancel: true};
      }
    })();
    (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_7__.logItem)(details, filter, matchInfo);
    return value;
  }

  allow(details, filter, matchInfo) {
    pendingAllowlistedRequests.add(details.requestId);
    (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_7__.logItem)(details, filter, matchInfo);
  }

  match(details, frame, specificOnly, contentType, docDomain) {
    // This does nothing in BaseFilter, but should be overridden in
    // any child class that uses the default implementation of
    // BaseFilter.filter.
  }

  filter(details) {
    if (pendingAllowlistedRequests.has(details.requestId)) {
      return;
    }

    let initiator = this.getInitiator(details);
    if (initiator && initiator.startsWith(EXTENSION_PROTOCOL)) {
      // These are requests sent by an extension, so if we block these
      // we could block our own ability to update subscriptions etc.
      return this.allow(details, null, {
        method: "allowing", allowingReason: "extensionInitiated"
      });
    }

    let frame = getFrameInfoFromWebrequestDetails(details);

    if (!frame) {
      return;
    }

    let specificOnly = (frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.GENERICBLOCK) != 0;
    let docDomain = this.getDocDomain(details.type, frame.hostname);
    if (frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.DOCUMENT) {
      return this.allow(details, frame.allowingDocumentFilter, {
        docDomain,
        method: "allowing",
        specificOnly
      });
    }

    let contentType = getRequestContentType(details);

    return this.match(details, frame, specificOnly, contentType, docDomain);
  }
}

class RequestFilter extends BaseFilter {
  getDocumentUrl(details) {
    // We can be more idealistic here since we are doing this check
    // again later if we don't have enough info. documentUrl SHOULD
    // only ever be documentUrl (not initiator).
    return details.documentUrl;
  }

  getFrameInfo(details) {
    let frame = super.getFrameInfo(details);

    // Chromium-based browsers sometimes emit onBeforeRequest events
    // for resources on a frame before we get the onCommitted event
    // for the frame itself. This could mean that we're missing some
    // frame-level allowlisting filters, and can't actually make a
    // blocking decision yet. We only do this wait in the
    // onBeforeRequest filter because we can still do the blocking /
    // allowing when we have all the necessary info later in the
    // onHeadersReceived event.
    //
    // As an aside, if in the future we only needed to support Firefox
    // here, Firefox supports asynchronous blocking responses in the
    // webRequest API.
    if (frame) {
      // We might be missing sitekeys if we haven't received headers yet.
      if (!frame.headersReceived) {
        return null;
      }

      // A wrong URL likely means that we've navigated to a new page
      // and frame-state hasn't caught up yet.
      let {documentUrl} = details;
      let initiator = sanitizeInitiator(details.initiator);
      if ((documentUrl && frame.url != documentUrl) ||
         (initiator && frame.hostname != (0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_4__.parseURL)(initiator).hostname)) {
        return null;
      }
    }

    return frame;
  }

  match(details, frame, specificOnly, contentType, docDomain) {
    let filter = _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.defaultMatcher.match(
      details.url, contentType, docDomain, frame.sitekey, specificOnly, true
    );
    if (filter) {
      let matchInfo = {docDomain, specificOnly, method: "request"};
      if (filter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.BlockingFilter) {
        return this.block(details, filter, matchInfo);
      }
      return this.allow(details, filter, matchInfo);
    }
  }
}

RequestFilter.prototype.event = webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.onBeforeRequest;
RequestFilter.prototype.eventArgs = [
  {
    types: Object.values(webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.ResourceType)
                 .filter(type => type != "main_frame"),
    urls: ["http://*/*", "https://*/*", "ws://*/*", "wss://*/*"]
  },
  ["blocking"]
];

class HeaderFilter extends BaseFilter {
  match(details, frame, specificOnly, contentType, docDomain) {
    let matcher = _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.defaultMatcher;

    // This is a repeat of the RequestFilter check, in case it was
    // skipped due to not having enough frame information at the time.
    let requestFilter = matcher.match(
      details.url, contentType, docDomain, frame.sitekey, specificOnly, true
    );
    if (requestFilter) {
      let requestMatchInfo = {docDomain, specificOnly, method: "request"};
      if (requestFilter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.BlockingFilter) {
        return this.block(details, requestFilter, requestMatchInfo);
      }
      return this.allow(details, requestFilter, requestMatchInfo);
    }

    let matchInfo = {docDomain, specificOnly, method: "header"};
    let typeMask = adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.HEADER | contentType;
    let allowingFilter = matcher.match(details.url, typeMask, docDomain,
                                       frame.sitekey, specificOnly, true);

    if (allowingFilter && allowingFilter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.AllowingFilter) {
      return this.allow(details, allowingFilter, matchInfo);
    }

    let matches = matcher.search(details.url, typeMask, docDomain,
                                 frame.sitekey, specificOnly, "blocking");

    let filter = matches.blocking.find(blockingFilter => {
      return blockingFilter.filterHeaders(details.responseHeaders);
    });

    if (filter) {
      return this.block(details, filter, matchInfo);
    }
  }
}

HeaderFilter.prototype.event = webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.onHeadersReceived;
HeaderFilter.prototype.eventArgs = [
  {
    types: Object.values(webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.ResourceType)
                 .filter(type => type != "main_frame"),
    urls: ["http://*/*", "https://*/*"]
  },
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest ? ["responseHeaders"] : ["blocking", "responseHeaders"]
];

class CSPFilter extends BaseFilter {
  filter(details) {
    let {requestId, tabId, frameId, responseHeaders, url, type} = details;

    if (pendingAllowlistedRequests.has(requestId)) {
      return;
    }

    let initiator = this.getInitiator(details);
    if (initiator && initiator.startsWith(EXTENSION_PROTOCOL)) {
      // These are requests sent by an extension, so if we block these
      // we could block our own ability to update subscriptions etc.
      return this.allow(details, null, {
        method: "allowing", allowingReason: "extensionInitiated"
      });
    }

    let parentFrame = getParentFrameInfoFromWebrequestDetails(details);
    let {hostname: parentHostname, sitekey: parentSitekey} = parentFrame || {};
    let matcher = _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.defaultMatcher;

    let urlInfo = (0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_4__.parseURL)(url);
    let hostname = parentHostname || urlInfo.hostname;
    let sitekey = (0,_sitekey_js__WEBPACK_IMPORTED_MODULE_8__.setSitekeyFromHeaders)(
      tabId, frameId, url, responseHeaders
    ) || parentSitekey;

    let specificOnlyFilter = matcher.match(
      url, adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.GENERICBLOCK, hostname, sitekey
    );
    let documentFilter = matcher.match(
      url, adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.DOCUMENT, hostname, sitekey
    );
    let specificOnly = !!specificOnlyFilter;
    let docDomain = this.getDocDomain(type, parentHostname);

    if (documentFilter) {
      return this.allow(details, documentFilter, {
        docDomain,
        method: "allowing",
        specificOnly
      });
    }

    let typeMask = adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.CSP | getRequestContentType(details);
    let matchInfo = {docDomain: docDomain || urlInfo.hostname,
                     specificOnly, method: "csp"};

    let allowingFilter = matcher.match(url, typeMask, docDomain,
                                       sitekey, specificOnly, true);
    if (allowingFilter && allowingFilter instanceof adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_1__.AllowingFilter) {
      return this.allow(details, allowingFilter, matchInfo);
    }

    let matches = matcher.search(url, typeMask, hostname,
                                 sitekey, specificOnly, "blocking");

    if (matches.blocking.length > 0) {
      pendingCspRequests.add(requestId);
      for (let filter of matches.blocking) {
        (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_7__.logItem)(details, filter, matchInfo);
        responseHeaders.push(
          {name: "Content-Security-Policy", value: filter.csp}
        );
      }
    }

    return {responseHeaders};
  }
}

CSPFilter.prototype.event = webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.onHeadersReceived;
CSPFilter.prototype.eventArgs = [
  {
    types: ["main_frame", "sub_frame"],
    urls: ["http://*/*", "https://*/*"]
  },
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest ? ["responseHeaders"] : ["blocking", "responseHeaders"]
];

class RequestCompletionFilter extends BaseFilter {
  filter(details) {
    let {requestId, tabId, frameId, url, type} = details;
    let wasAllowlisted = pendingAllowlistedRequests.delete(requestId);
    let wasCsp = pendingCspRequests.delete(requestId);
    if (wasAllowlisted || wasCsp) {
      return;
    }

    if (type == "main_frame" || type == "sub_frame") {
      // for these two types, it's unreliable if frame is there or not
      // yet. The request could be completed before or after the new
      // frame is committed.
      let parentFrame = getParentFrameInfoFromWebrequestDetails(details);
      let {hostname: parentHostname, sitekey: parentSitekey} =
          parentFrame || {};

      let hostname = parentHostname || (0,adblockpluscore_lib_url_js__WEBPACK_IMPORTED_MODULE_4__.parseURL)(url).hostname;
      let sitekey = (0,_sitekey_js__WEBPACK_IMPORTED_MODULE_8__.getSitekey)(tabId, frameId, url) || parentSitekey;
      let matcher = _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.defaultMatcher;
      let specificOnlyFilter = matcher.match(
        url, adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.GENERICBLOCK, hostname, sitekey
      );
      let specificOnly = !!specificOnlyFilter;

      if ((0,_frame_state_js__WEBPACK_IMPORTED_MODULE_6__.isTopLevelFrameId)(frameId)) {
        let popupFilter = matcher.match(
          url, adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.POPUP, hostname, sitekey, specificOnly
        );
        if (popupFilter) {
          return;
        }
      }
      let matchInfo = {
        docDomain: this.getDocDomain(type, hostname),
        method: "unmatched",
        specificOnly
      };
      (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_7__.logItem)(details, null, matchInfo);
    }
    else {
      let frame = getFrameInfoFromWebrequestDetails(details);
      if (!frame) {
        return;
      }

      let specificOnly = (frame.allowlisted & adblockpluscore_lib_contentTypes_js__WEBPACK_IMPORTED_MODULE_2__.contentTypes.GENERICBLOCK) != 0;
      let matchInfo = {
        docDomain: this.getDocDomain(type, frame.hostname),
        method: "unmatched",
        specificOnly
      };
      (0,_diagnostics_js__WEBPACK_IMPORTED_MODULE_7__.logItem)(details, null, matchInfo);
    }
  }
}

RequestCompletionFilter.prototype.event = webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.onCompleted;
RequestCompletionFilter.prototype.eventArgs = [
  {
    types: Object.values(webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.ResourceType),
    urls: ["http://*/*", "https://*/*", "ws://*/*", "wss://*/*"]
  }
];

class RequestErrorFilter extends BaseFilter {
  filter(details) {
    pendingAllowlistedRequests.delete(details.requestId);
    pendingCspRequests.delete(details.requestId);
  }
}

RequestErrorFilter.prototype.event = webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.onErrorOccurred;
RequestErrorFilter.prototype.eventArgs = [
  {
    types: Object.values(webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.ResourceType),
    urls: ["http://*/*", "https://*/*", "ws://*/*", "wss://*/*"]
  }
];

let filters = [
  new RequestFilter(),
  new HeaderFilter(),
  new CSPFilter(),
  new RequestCompletionFilter(),
  new RequestErrorFilter()
];

function onBeforeNavigate() {
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webNavigation.onBeforeNavigate.removeListener(onBeforeNavigate);
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webRequest.handlerBehaviorChanged();
}

function onFilterChange() {
  webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.webNavigation.onBeforeNavigate.addListener(onBeforeNavigate);
}

const FILTER_EVENTS = ["subscription.added",
                       "subscription.removed",
                       "subscription.updated",
                       "subscription.disabled",
                       "filter.added",
                       "filter.removed",
                       "filterState.enabled"];

/**
 * Starts filtering requests. Must only be called after filter engine and
 * frame state are initialized.
 */
function start() {
  if (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.declarativeNetRequest) {
    return;
  }

  for (let filter of filters) {
    filter.register();
  }

  for (let event of FILTER_EVENTS) {
    if (!adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_3__.filterNotifier.listeners(event).includes(onFilterChange)) {
      adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_3__.filterNotifier.on(event, onFilterChange);
    }
  }
}


/***/ }),

/***/ "./sdk/api/scheduler.js":
/*!******************************!*\
  !*** ./sdk/api/scheduler.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Scheduler": () => (/* binding */ Scheduler)
/* harmony export */ });
/* harmony import */ var adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! adblockpluscore/lib/time.js */ "./core/lib/time.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */



const MAX_POLL_TIMEOUT = adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_0__.MILLIS_IN_HOUR;

class Scheduler {
  constructor(config) {
    this.config = config;
    this.checkInProgress = false;
    this.stopped = false;

    this._check = async() => {
      this.checkInProgress = true;
      let nextPollTimeout;
      try {
        nextPollTimeout = await this.callListenerIfItsTime();
      }
      finally {
        if (typeof nextPollTimeout == "undefined") {
          nextPollTimeout = this.config.errorRetryDelay;
        }

        if (nextPollTimeout > MAX_POLL_TIMEOUT) {
          nextPollTimeout = MAX_POLL_TIMEOUT;
        }

        // If stop was called while currently triggering something, don't
        // schedule the next timeout.
        if (!this.stopped) {
          this.timeout = setTimeout(this._check, nextPollTimeout);
        }
        this.checkInProgress = false;
      }
    };
    this._check();
  }

  async callListenerIfItsTime() {
    let nextTimestamp = await this.config.getNextTimestamp();
    let nowTimestamp = Date.now();
    if (nextTimestamp && nowTimestamp < nextTimestamp) {
      return nextTimestamp - nowTimestamp;
    }

    let success = await this.config.listener();
    if (!success) {
      return this.config.errorRetryDelay;
    }

    return this.config.interval;
  }

  stop() {
    if (this.stopped) {
      return;
    }

    this.stopped = true;
    if (this.timeout) {
      clearTimeout(this.timeout);
      this.timeout = null;
    }
  }

  checkNow() {
    if (!this.stopped && !this.checkInProgress) {
      clearTimeout(this.timeout);
      this._check();
    }
  }
}


/***/ }),

/***/ "./sdk/api/set-operations.js":
/*!***********************************!*\
  !*** ./sdk/api/set-operations.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "arraysDiff": () => (/* binding */ arraysDiff),
/* harmony export */   "filtersUpdateDiff": () => (/* binding */ filtersUpdateDiff),
/* harmony export */   "mergeObjects": () => (/* binding */ mergeObjects)
/* harmony export */ });
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */

/**
 * A difference from arrays or filters.
 * @typedef {Object} FilterDiffs
 * @property {?string} type The type. Only the value "diff" is
 *   supported, and denote this is a difference from the static
 *   filtering rules.
 * @property {Array<string>} added Added filters.
 * @property {Array<string>} removed Removed filters.
 */

/**
 * Calculate the arrays difference
 *
 * @param {[string]} from The original array
 * @param {[string]} to The eventual array
 * @return {FilterDiffs}
 */
function arraysDiff(from, to) {
  const fromSet = new Set(from);
  const toSet = new Set(to);

  // No longer listed in eventual array
  const removed = from.filter(item => !toSet.has(item));

  // Not yet listed in original array
  const added = to.filter(item => !fromSet.has(item));

  return {added, removed};
}

/**
 * Calculate the filters update difference by removing the base
 * from the update.
 *
 * @param {FilterDiffs} base The base diff, ie the state of the already
 *   applied update. Must be of type `diff`.
 * @param {FilterDiffs} update The update. Must be of type `diff`.
 * @return {FilterDiffs}
 * @throws {Error} Will throw an error if the updates are not of type
 *   "diff".
 */
function filtersUpdateDiff(base, update) {
  let addedDiff = arraysDiff(base.added, update.added);
  let removedDiff = arraysDiff(base.removed, update.removed);

  // What is no longer removed must be added back.
  let added = addedDiff.added.concat(removedDiff.removed);

  // What is no longer added must be removed.
  let removed = removedDiff.added.concat(addedDiff.removed);

  return {added, removed};
}

/**
 * Merge objects. The merged object will have properties of both objects.
 * The arrays will also be merged.
 * @param {Object} obj1 Object 1 to merge
 * @param {Object} obj2 Object 2 to merge
 * @returns {Object} merged object
 */
function mergeObjects(obj1, obj2) {
  if (obj1 instanceof Array) {
    return [...obj1, ...obj2];
  }

  if (!(obj1 instanceof Object)) {
    return obj2;
  }

  let resultObj = {};

  for (let [key, obj1Values] of Object.entries(obj1)) {
    resultObj[key] = obj1Values;
  }

  for (let [key, obj2Values] of Object.entries(obj2)) {
    let map1Values = resultObj[key];
    resultObj[key] = map1Values ?
      mergeObjects(map1Values, obj2Values) :
      obj2Values;
  }

  return resultObj;
}


/***/ }),

/***/ "./sdk/api/sitekey.js":
/*!****************************!*\
  !*** ./sdk/api/sitekey.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "_awaitSavingComplete": () => (/* binding */ _awaitSavingComplete),
/* harmony export */   "_doSaveSitekeys": () => (/* binding */ _doSaveSitekeys),
/* harmony export */   "_getSitekeySignature": () => (/* binding */ _getSitekeySignature),
/* harmony export */   "_getSitekeys": () => (/* binding */ _getSitekeys),
/* harmony export */   "_loadSitekeys": () => (/* binding */ _loadSitekeys),
/* harmony export */   "_saveSitekeys": () => (/* binding */ _saveSitekeys),
/* harmony export */   "_setSitekey": () => (/* binding */ _setSitekey),
/* harmony export */   "addListener": () => (/* binding */ addListener),
/* harmony export */   "clearAllSitekeys": () => (/* binding */ clearAllSitekeys),
/* harmony export */   "clearTabSitekeys": () => (/* binding */ clearTabSitekeys),
/* harmony export */   "getSitekey": () => (/* binding */ getSitekey),
/* harmony export */   "setSitekeyFromHeaders": () => (/* binding */ setSitekeyFromHeaders),
/* harmony export */   "start": () => (/* binding */ start)
/* harmony export */ });
/* harmony import */ var adblockpluscore_lib_rsa_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! adblockpluscore/lib/rsa.js */ "./core/lib/rsa.js");
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var _browser_features_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./browser-features.js */ "./sdk/api/browser-features.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/* harmony import */ var _persistence_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./persistence.js */ "./sdk/api/persistence.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */







const TOP_LEVEL_FRAME_ID = 0;

/**
 * All known sitekeys, that can be looked up by
 * `tabId`, and then by `frameId`, and then by `url`
 *  (`[tabId, [frameId, [url, {sitekey, signature}]]]]`).
 *
 * @type {Object}
 */
let sitekeys = new _persistence_js__WEBPACK_IMPORTED_MODULE_4__.PersistentState("ewe:sitekeys", _browser_js__WEBPACK_IMPORTED_MODULE_1__["default"].storage.local);
let startupPromise;
let listeners = [];

// for testing purposes
function _getSitekeys() {
  return sitekeys;
}

function notifySitekey(tabId, frameId, url, sitekey) {
  for (let listener of listeners) {
    listener(tabId, frameId, url, sitekey);
  }
}

function notifyAllSitekeys() {
  for (let [tabId, framesMap] of Object.entries(sitekeys.getState())) {
    for (let [frameId, sitekeysMap] of Object.entries(framesMap)) {
      for (let [url, sitekeyInfo] of Object.entries(sitekeysMap)) {
        notifySitekey(tabId, frameId, url, sitekeyInfo.sitekey);
      }
    }
  }
}

function onHeadersReceived({tabId, frameId, url, responseHeaders, frameType}) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_3__.trace)({tabId, frameId, url, responseHeaders, frameType});

  if (frameId == TOP_LEVEL_FRAME_ID &&
     (frameType == null || frameType == "outermost_frame")) {
    // "frameType" is supported starting Chromium 106+.
    // If it's a new navigation and top level frame headers received,
    // we don't need sitekeys for all the previous frames of the tab.
    clearTabSitekeys(tabId);
  }

  let sitekey = setSitekeyFromHeaders(tabId, frameId, url, responseHeaders);
  if (sitekey) {
    notifySitekey(tabId, frameId, url, sitekey);
  }
}

function addListener(listener) {
  listeners.push(listener);
}

/**
 * Gets the stored sitekey for a given frame. Sitekeys are retrieved
 * from the headers of main_frame and sub_frame requests (the html
 * documents in tabs and iframes).
 * @param {number} tabId Id of the tab the frame is on.
 * @param {number} frameId Id of the frame on the tab.
 * @param {string} url Url for the frame.
 * @return {string|null|undefined} The sitekey if we have it, null if
 *   we've processed headers for this frame but it didn't have a
 *   sitekey, undefined if we haven't seen any headers for this frame.
 */
function getSitekey(tabId, frameId, url) {
  let sitekeysForTab = sitekeys.getState()[tabId];
  if (!sitekeysForTab) {
    return null;
  }
  let sitekeysForFrame = sitekeysForTab[frameId];
  if (!sitekeysForFrame) {
    return null;
  }
  let sitekeyInfo = sitekeysForFrame[url];
  return sitekeyInfo ? sitekeyInfo.sitekey : null;
}

function _getSitekeySignature(tabId, frameId, url) {
  return sitekeys.getState()[tabId][frameId][url].signature;
}

function _setSitekey(tabId, frameId, url, sitekey, signature) {
  let sitekeysForTab = sitekeys.getState()[tabId];
  if (!sitekeysForTab) {
    sitekeysForTab = {};
    sitekeys.getState()[tabId] = sitekeysForTab;
  }

  let sitekeysForFrame = sitekeysForTab[frameId];
  if (!sitekeysForFrame) {
    sitekeysForFrame = {};
    sitekeysForTab[frameId] = sitekeysForFrame;
  }

  sitekeysForFrame[url] = {sitekey, signature};
}

function clearAllSitekeys(save = true) {
  sitekeys.clearState();
  if (save) {
    _saveSitekeys();
  }
}

function clearTabSitekeys(tabId) {
  delete sitekeys.getState()[tabId];
  _saveSitekeys();
}

/**
 * Use the headers from an onHeadersReceived event for an main_frame
 * and sub_frame request to update our sitekey map. This also
 * validates the sitekey before storing.
 *
 * If there is no sitekey, this inserts a null entry in the sitekey
 * map so you can differentiate between not having a sitekey because
 * there wasn't one in the headers and because the headers haven't
 * been received yet.
 * @param {number} tabId Id of the tab the frame is on.
 * @param {number} frameId Id of the frame on the tab.
 * @param {string} url Url for the frame.
 * @param {webRequest.HttpHeaders} headers the HTTP response headers
 *   to check for a sitekey. See {@link webRequest API
 *   https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest/HttpHeaders}.
 * @return {string|null} The sitekey if it was found and is
 *   valid. Null if there was no valid sitekey.
 */
function setSitekeyFromHeaders(tabId, frameId, url, headers) {
  let sitekeyHeader = getSitekeyHeader(headers);
  let newSitekey = sitekeyHeader ? sitekeyHeader.sitekey : null;

  // If this sitekey is the same as the one we already have, we can
  // just leave the existing one. No need to do signature verification
  // since we've already checked this sitekey on this site.
  let existingSitekeyInfo = getSitekey(tabId, frameId, url);
  if (existingSitekeyInfo &&
      existingSitekeyInfo.sitekey &&
      newSitekey == existingSitekeyInfo.sitekey) {
    return existingSitekeyInfo.sitekey;
  }

  if (newSitekey && verifySitekey(newSitekey, sitekeyHeader.signature, url)) {
    _setSitekey(tabId, frameId, url, newSitekey, sitekeyHeader.signature);
    _saveSitekeys();
    return newSitekey;
  }

  // Inserting null here indicates that we've received headers for a
  // URL and it didn't have sitekeys (as opposed to not receiving
  // filters yet).
  _setSitekey(tabId, frameId, url, null, null);
  _saveSitekeys();
  return null;
}

function getSitekeyHeader(headers) {
  for (let header of headers) {
    if (header.name.toLowerCase() == "x-adblock-key" && header.value) {
      let parts = header.value.split("_");
      if (parts.length < 2) {
        return null;
      }

      return {
        sitekey: parts[0].replace(/=/g, ""),
        signature: parts[1]
      };
    }
  }
  return null;
}

function verifySitekey(sitekey, signature, url) {
  let urlObj = new URL(url);
  let data = [
    urlObj.pathname + urlObj.search,
    urlObj.host,
    navigator.userAgent
  ].join("\0");
  return (0,adblockpluscore_lib_rsa_js__WEBPACK_IMPORTED_MODULE_0__.verifySignatureSync)(sitekey, signature, data);
}

function verifySitekeys(_sitekeys) {
  for (let [tabId, framesMap] of Object.entries(_sitekeys)) {
    for (let [frameId, sitekeysMap] of Object.entries(framesMap)) {
      for (let [url, sitekeyInfo] of Object.entries(sitekeysMap)) {
        try {
          let verified = sitekeyInfo.sitekey === null ||
              verifySitekey(sitekeyInfo.sitekey, sitekeyInfo.signature, url);

          if (!verified) {
            delete sitekeysMap[url];
          }
        }
        catch (e) {
          delete sitekeysMap[url];
        }
      }
      if (Object.keys(sitekeysMap).length == 0) {
        delete framesMap[frameId];
      }
    }
    if (Object.keys(framesMap).length == 0) {
      delete _sitekeys[tabId];
    }
  }
}

async function _loadSitekeys(verify = true) {
  await sitekeys.load(verify ? verifySitekeys : null);
  notifyAllSitekeys();
}

function _doSaveSitekeys() {
  sitekeys.save();
}

function _saveSitekeys() {
  if (!(0,_browser_features_js__WEBPACK_IMPORTED_MODULE_2__.isRunningInServiceWorker)()) {
    return;
  }

  _doSaveSitekeys();
}

async function _awaitSavingComplete() {
  await sitekeys.awaitSavingComplete();
}

async function start() {
  if (!startupPromise) {
    _browser_js__WEBPACK_IMPORTED_MODULE_1__["default"].webRequest.onHeadersReceived.addListener(
      onHeadersReceived,
      {
        urls: ["http://*/*", "https://*/*"],
        types: ["main_frame", "sub_frame"]
      },
      ["responseHeaders"]
    );

    startupPromise = ((0,_browser_features_js__WEBPACK_IMPORTED_MODULE_2__.isRunningInServiceWorker)() ?
      _loadSitekeys() : Promise.resolve(null));
  }

  await startupPromise;
}


/***/ }),

/***/ "./sdk/api/subscribe-links.js":
/*!************************************!*\
  !*** ./sdk/api/subscribe-links.js ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "onSubscribeLinkClicked": () => (/* binding */ onSubscribeLinkClicked),
/* harmony export */   "subscribeLinkClicked": () => (/* binding */ subscribeLinkClicked)
/* harmony export */ });
/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ "./sdk/api/types.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */



let dispatchFunction;

function subscribeLinkClicked(url, title) {
  if (dispatchFunction) {
    dispatchFunction({url, title});
  }
}

let onSubscribeLinkClicked = new _types_js__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher(
  dispatch => {
    dispatchFunction = dispatch;
  },
  () => {
    dispatchFunction = null;
  }
);


/***/ }),

/***/ "./sdk/api/subscriptions-utils.js":
/*!****************************************!*\
  !*** ./sdk/api/subscriptions-utils.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getSubscriptionRulesetMap": () => (/* binding */ getSubscriptionRulesetMap),
/* harmony export */   "rulesetExistsInManifest": () => (/* binding */ rulesetExistsInManifest),
/* harmony export */   "subscriptionFileExists": () => (/* binding */ subscriptionFileExists)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var _persistence_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./persistence.js */ "./sdk/api/persistence.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */




function getRuleset(rulesetId) {
  let manifest = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].runtime.getManifest();

  if (manifest.declarative_net_request &&
    manifest.declarative_net_request.rule_resources) {
    return manifest.declarative_net_request.rule_resources.find(
      ruleset => ruleset.id == rulesetId
    );
  }

  return null;
}

function rulesetExistsInManifest(rulesetId) {
  return !!getRuleset(rulesetId);
}

async function subscriptionFileExists(subscription, path) {
  let subscriptionPath = `${path}/${subscription.id}`;
  return memoizedFileExists(subscriptionPath);
}

let fileExistsCache = new _persistence_js__WEBPACK_IMPORTED_MODULE_1__.PersistentState("ewe:fileExistsCache");

/**
 * Checks is a file is bundled in the extension. The results of calling this
 * function are memoized in session storage to decrease the number of `fetch`
 * requests made to the extension's resources.
 *
 * In our fuzz tests, we found that doing the full check of every subscription's
 * files on every service worker startup lead to flaky tests where other network
 * requests started failing.
 *
 * @param {string} filepath Path to the file, relative to the root of the
 * extension.
 * @returns {boolean} True if the filepath is bundled in the extension.
 */
async function memoizedFileExists(filepath) {
  if (!fileExistsCache.loaded) {
    await fileExistsCache.load();
  }

  let cache = fileExistsCache.getState();
  if (typeof cache[filepath] == "undefined") {
    const url = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].runtime.getURL(filepath);

    let fileExists;
    try {
      const fetchResult = await fetch(url, {method: "HEAD"});
      fileExists = fetchResult.ok;
    }
    catch (error) {
      fileExists = false;
    }

    cache[filepath] = fileExists;
    await fileExistsCache.save();
  }

  return cache[filepath];
}

/**
 * Get the subscription static ruleset map
 * @param {string} id The subscription id to get the map for.
 *
 * @private
 * @returns {object} The subscription map. It can be used to
 *     initialize a `Map` with key being the filter text and values
 *     being an array of ids.
 */
async function getSubscriptionRulesetMap(id) {
  let dnrSub = getRuleset(id);

  if (!dnrSub) {
    throw Error(`Subscription ${id} not found.`);
  }

  const url = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].runtime.getURL(dnrSub.path + ".map");
  let response = await fetch(url);
  return await response.json();
}


/***/ }),

/***/ "./sdk/api/subscriptions-validator.js":
/*!********************************************!*\
  !*** ./sdk/api/subscriptions-validator.js ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "validate": () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _subscriptions_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./subscriptions-utils.js */ "./sdk/api/subscriptions-utils.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */



async function validate(bundledSubscriptions,
                               bundledSubscriptionsPath) {
  let warnings = [];

  for (let subscription of bundledSubscriptions) {
    let fileExists = await (0,_subscriptions_utils_js__WEBPACK_IMPORTED_MODULE_0__.subscriptionFileExists)(
      subscription, bundledSubscriptionsPath);
    if (!fileExists) {
      warnings.push(`No subscription content file for ID=${subscription.id}`);
    }

    if (!(0,_subscriptions_utils_js__WEBPACK_IMPORTED_MODULE_0__.rulesetExistsInManifest)(subscription.id)) {
      warnings.push(`No ruleset with ID=${subscription.id} declared in the manifest`);
    }
  }

  return warnings;
}


/***/ }),

/***/ "./sdk/api/subscriptions.js":
/*!**********************************!*\
  !*** ./sdk/api/subscriptions.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "ensureDNRRulesetsEnabled": () => (/* binding */ ensureDNRRulesetsEnabled),
/* harmony export */   "getDefaultSubscriptions": () => (/* binding */ getDefaultSubscriptions),
/* harmony export */   "hasAcceptableAdsEnabled": () => (/* binding */ hasAcceptableAdsEnabled),
/* harmony export */   "isSynchronizing": () => (/* binding */ isSynchronizing),
/* harmony export */   "migrate": () => (/* binding */ migrate),
/* harmony export */   "recoverMigrationErrorSubscriptions": () => (/* binding */ recoverMigrationErrorSubscriptions),
/* harmony export */   "saveMigrationError": () => (/* binding */ saveMigrationError),
/* harmony export */   "updateSubscriptionInformation": () => (/* binding */ updateSubscriptionInformation),
/* harmony export */   "validate": () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var _subscriptions_validator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./subscriptions-validator.js */ "./sdk/api/subscriptions-validator.js");
/* harmony import */ var _subscriptions_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./subscriptions-utils.js */ "./sdk/api/subscriptions-utils.js");
/* harmony import */ var adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! adblockpluscore/lib/subscriptionClasses.js */ "./core/lib/subscriptionClasses.js");
/* harmony import */ var adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! adblockpluscore/lib/filterNotifier.js */ "./core/lib/filterNotifier.js");
/* harmony import */ var adblockpluscore_lib_recommendations_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! adblockpluscore/lib/recommendations.js */ "./core/lib/recommendations.js");
/* harmony import */ var adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! adblockpluscore/lib/filterClasses.js */ "./core/lib/filterClasses.js");
/* harmony import */ var adblockpluscore_lib_filters_lists_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! adblockpluscore/lib/filters/lists.js */ "./core/lib/filters/lists.js");
/* harmony import */ var _info_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./info.js */ "./sdk/api/info.js");
/* harmony import */ var _initializer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./initializer.js */ "./sdk/api/initializer.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./types.js */ "./sdk/api/types.js");
/* harmony import */ var _filters_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./filters.js */ "./sdk/api/filters.js");
/* harmony import */ var _dnr_filters_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dnr-filters.js */ "./sdk/api/dnr-filters.js");
/* harmony import */ var _io_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./io.js */ "./sdk/api/io.js");
/* harmony import */ var _prefs_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./prefs.js */ "./sdk/api/prefs.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */





















const ACCEPTABLE_ADS_ID = "0798B6A2-94A4-4ADF-89ED-BEC112FC4C7F";
const ACCEPTABLE_ADS_MV2_URL = "https://easylist-downloads.adblockplus.org/exceptionrules.txt";
const ACCEPTABLE_ADS_MV3_URL = "https://easylist-downloads.adblockplus.org/v3/full/exceptionrules.txt";

const ACCEPTABLE_ADS_PRIVACY_ID = "F12E0801-A00B-49DE-B1E3-52C9C4F90C8C";
const ACCEPTABLE_ADS_PRIVACY_MV2_URL = "https://easylist-downloads.adblockplus.org/exceptionrules-privacy-friendly.txt";
const ACCEPTABLE_ADS_PRIVACY_MV3_URL = "https://easylist-downloads.adblockplus.org/v3/full/exceptionrules-privacy-friendly.txt";

function convertSubscription(subscription) {
  const {
    id, disabled, downloadStatus, homepage, version, lastDownload, lastSuccess,
    softExpiration, expires, title, url, downloadable, downloadCount, diffURL,
    privileged, lastModified} = subscription;

  let updatable = (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.FullUpdatableSubscription ||
                   subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.DiffUpdatableSubscription);

  return {
    id,
    enabled: !disabled,
    privileged,
    homepage,
    downloadable,
    updatable,
    diffURL,
    title,
    url,
    downloadCount,
    version,
    downloading: isSynchronizing(url),
    downloadStatus,
    lastSuccess,
    lastDownload,
    softExpiration,
    expires,
    lastModified
  };
}

function convertRecommendation({id, languages, title, requires, type, url,
                                mv2URL}) {
  if (!_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest) {
    // In MV2 we have to switch the URL to be the mv2URL
    return {id, languages, title, requires, type, url: mv2URL};
  }

  return {id, languages, title, requires, type, url, mv2URL};
}

function getSubscription(url) {
  let subscription = adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.Subscription.fromURL(url);

  if (_core_js__WEBPACK_IMPORTED_MODULE_10__.filterEngine.filterStorage.hasSubscription(subscription) &&
      subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.RegularSubscription) {
    return subscription;
  }

  return null;
}

function makeListener(dispatch) {
  return subscription => {
    if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.RegularSubscription) {
      dispatch(convertSubscription(subscription));
    }
  };
}

/**
 * @ignore
 */
async function hasAcceptableAdsEnabled() {
  const matches = [ACCEPTABLE_ADS_MV2_URL,
                   ACCEPTABLE_ADS_MV3_URL,
                   ACCEPTABLE_ADS_PRIVACY_MV2_URL,
                   ACCEPTABLE_ADS_PRIVACY_MV3_URL];

  for (let subscription of await getSubscriptions()) {
    if (subscription.enabled && matches.includes(subscription.url)) {
      return true;
    }
  }

  return false;
}

/**
 * @ignore
 * @param {string} uiLanguage UI language
 * @returns {{
*   chosenSubscriptions: Subscription[],
*   hasAA: boolean,
*   hasAntiCV: boolean,
*   hasCurrentLang: boolean,
*   hasDefaultLang: boolean
* }}
 */
function getDefaultSubscriptions(uiLanguage) {
  let hasCurrentLang = false;
  let hasDefaultLang = false;
  let hasAA = false;
  let hasAntiCV = false;

  if (!uiLanguage) {
    // https://bugs.chromium.org/p/chromium/issues/detail?id=1159438
    if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].i18n.getUILanguage) {
      uiLanguage = _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].i18n.getUILanguage();
    }
    else {
      uiLanguage = navigator.language;
    }
  }

  let currentLang = uiLanguage.split("-")[0];
  let defaultLang = (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].runtime.getManifest()
                                    .default_locale || "en").split("_")[0];

  let adSubscriptions = [];
  let adSubscriptionsDefaultLang = [];
  let aaSubscriptions = [];
  let chosenSubscriptions = [];

  for (let subscription of (0,adblockpluscore_lib_recommendations_js__WEBPACK_IMPORTED_MODULE_5__.recommendations)()) {
    switch (subscription.type) {
      case "ads":
        if (subscription.languages.includes(currentLang)){
          hasCurrentLang = true;
          adSubscriptions.push(subscription);
        }

        if (subscription.languages.includes(defaultLang)) {
          hasDefaultLang = true;
          adSubscriptionsDefaultLang.push(subscription);
        }
        break;

      case "circumvention":
        chosenSubscriptions.push(subscription);
        hasAntiCV = true;
        break;

      case "allowing":
        aaSubscriptions.push(subscription);
        hasAA = true;
        break;
    }
  }

  if (adSubscriptions.length == 0) {
    adSubscriptions = adSubscriptionsDefaultLang;
  }

  // if we have the preferred AA in the list - use it only,
  // otherwise use all listed AA subscriptions
  let preferredAASubscription = aaSubscriptions.find(
    it => it.id == ACCEPTABLE_ADS_ID);
  if (preferredAASubscription) {
    aaSubscriptions = [preferredAASubscription];
  }
  chosenSubscriptions.unshift(...aaSubscriptions);

  chosenSubscriptions.unshift(...adSubscriptions);

  return {chosenSubscriptions, hasAA, hasAntiCV,
          hasCurrentLang, hasDefaultLang};
}

function shouldAddDefaultSubscriptions() {
  let {filterStorage} = _core_js__WEBPACK_IMPORTED_MODULE_10__.filterEngine;
  for (let subscription of filterStorage.subscriptions()) {
    if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest) {
      // `DiffUpdatableSubscription` is a subclass of `CountableSubscription`
      if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.CountableSubscription) {
        return false;
      }
    }

    if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.FullUpdatableSubscription &&
      subscription.url != ACCEPTABLE_ADS_MV2_URL) {
      return false;
    }

    if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.SpecialSubscription &&
        subscription.filterCount > 0) {
      return false;
    }
  }

  return true;
}

async function enableRuleset(rulesetId) {
  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest) {
    if ((0,_subscriptions_utils_js__WEBPACK_IMPORTED_MODULE_2__.rulesetExistsInManifest)(rulesetId)) {
      await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest.updateEnabledRulesets({
        enableRulesetIds: [rulesetId]
      });

      await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_13__.restoreDynamicRules)(rulesetId);
    }
  }
}

async function disableRuleset(rulesetId) {
  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest && (0,_subscriptions_utils_js__WEBPACK_IMPORTED_MODULE_2__.rulesetExistsInManifest)(rulesetId)) {
    await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest.updateEnabledRulesets({
      disableRulesetIds: [rulesetId]
    });

    await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_13__.disableDynamicRules)(rulesetId);

    let enableRuleIds =
      await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest.getDisabledRuleIds({
        rulesetId
      });
    await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest.updateStaticRules({
      rulesetId,
      enableRuleIds
    });
  }
}

async function getFilterText(subscription, path) {
  let subscriptionPath = `${path}/${subscription.id}`;
  let rawLines = await (0,_io_js__WEBPACK_IMPORTED_MODULE_14__.readFileContent)(subscriptionPath);
  let {lines, params, error} = (0,adblockpluscore_lib_filters_lists_js__WEBPACK_IMPORTED_MODULE_7__.parseFilterList)(rawLines);
  if (error) {
    throw new Error(error);
  }
  if (!lines) {
    throw new Error("invalid filter list");
  }
  lines.shift();
  return {filterText: lines, params};
}

/**
 * @ignore
 * @param {Array<*>} bundledSubscriptions Bundled subscriptions
 * @param {String} bundledSubscriptionsPath Bundled subscriptions path
 */
async function validate(bundledSubscriptions,
                               bundledSubscriptionsPath) {
  return (0,_subscriptions_validator_js__WEBPACK_IMPORTED_MODULE_1__.validate)(
    bundledSubscriptions, bundledSubscriptionsPath);
}

async function remove(url) {
  let subscription = getSubscription(url);

  if (!subscription) {
    throw new Error(`Subscription does not exist: ${url}`);
  }

  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest) {
    if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.FullUpdatableSubscription) {
      await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_13__.disableDynamicRules)(subscription.url);
    }
    else {
      await disableRuleset(subscription.id);
    }
  }

  _core_js__WEBPACK_IMPORTED_MODULE_10__.filterEngine.filterStorage.removeSubscription(subscription);
}

async function migrateSubscriptionToMv3(subscription) {
  let subscriptionInfo = _info_js__WEBPACK_IMPORTED_MODULE_8__.addonBundledSubscriptions.find(
    it => it.mv2_url == subscription.url);
  let url = subscriptionInfo ? subscriptionInfo.url : subscription.url;
  await add(url, {
    downloadCount: subscription.downloadCount,
    version: subscription.version
  });
  if (!subscription.enabled) {
    await disable(url);
  }
}

/**
 * @ignore
 */
async function recoverMigrationErrorSubscriptions() {
  let sucessfullyRecoveredIndices = [];

  for (let i = 0; i < _prefs_js__WEBPACK_IMPORTED_MODULE_15__.Prefs.migration_subscription_errors.length; i++) {
    let migrationError = _prefs_js__WEBPACK_IMPORTED_MODULE_15__.Prefs.migration_subscription_errors[i];

    try {
      await migrateSubscriptionToMv3(migrationError.subscription);
      sucessfullyRecoveredIndices.push(i);
    }
    catch (e) {
      // Nothing extra to do here. We just weren't able to recover this one.
    }
  }

  if (sucessfullyRecoveredIndices.length > 0) {
    _prefs_js__WEBPACK_IMPORTED_MODULE_15__.Prefs.migration_subscription_errors =
      _prefs_js__WEBPACK_IMPORTED_MODULE_15__.Prefs.migration_subscription_errors.filter((_e, index) =>
        !sucessfullyRecoveredIndices.includes(index));
  }
}

/**
 * @ignore
 */
async function updateSubscriptionInformation() {
  let removeUrls = [];

  for (let subscription of _core_js__WEBPACK_IMPORTED_MODULE_10__.filterEngine.filterStorage.subscriptions()) {
    if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.RegularSubscription) {
      let subscriptionInfo = _info_js__WEBPACK_IMPORTED_MODULE_8__.addonBundledSubscriptions.find(
        x => x.url == subscription.url);

      if (subscription.hasBundledFilters) {
        if (subscriptionInfo) {
          // Existing bundled subscription, after the update it's still a
          // bundled subscription.

          try {
            let {filterText} = await getFilterText(
              subscriptionInfo, _info_js__WEBPACK_IMPORTED_MODULE_8__.addonBundledSubscriptionsPath);
            subscription.setFilterText(filterText);
          }
          catch (e) {
            // We already warn if the file doesn't exist on startup, so
            // we can ignore an error loading the bundled file here.
          }

          subscription.diffURL = subscriptionInfo.diff_url;
          subscription.title = subscriptionInfo.title;
          subscription.homepage = subscriptionInfo.homepage;
        }
        else {
          // Existing bundled subscription, but after the update it's been
          // removed from the extension's bundled subscriptions.

          removeUrls.push(subscription.url);
        }
      }
      else if (subscriptionInfo) {
        // Existing custom user subscription, after the update it's now bundled
        // so we should migrate to the bundled one.

        await remove(subscription.url);
        await add(subscriptionInfo.url, {
          downloadCount: subscription.downloadCount,
          version: subscription.version
        });
        if (!subscription.enabled) {
          await disable(subscriptionInfo.url);
        }
      }
    }
  }

  for (let url of removeUrls) {
    await remove(url);
  }
}

function getSubscriptions() {
  let result = [];

  for (let subscription of _core_js__WEBPACK_IMPORTED_MODULE_10__.filterEngine.filterStorage.subscriptions()) {
    if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.RegularSubscription) {
      result.push(convertSubscription(subscription));
    }
  }

  return result;
}

/**
 * @ignore
 * @param {boolean} url Is synchronizing for passed URL?
 * @returns {boolean}
 */
function isSynchronizing(url) {
  return _core_js__WEBPACK_IMPORTED_MODULE_10__.filterEngine.filterStorage.synchronizer.isExecuting(url) || (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_13__.isDnrSubscriptionUpdating)(url);
}

async function add(url, properties = {}) {
  if (!adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.Subscription.isValidURL(url)) {
    throw new Error(`Invalid subscription URL provided: ${url}`);
  }

  let {filterStorage} = _core_js__WEBPACK_IMPORTED_MODULE_10__.filterEngine;

  let subscription = adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.Subscription.fromURL(url);

  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest && !subscription.downloadable) {
    let subscriptionInfo = _info_js__WEBPACK_IMPORTED_MODULE_8__.addonBundledSubscriptions.find(x => x.url == url);
    let filterText;
    let params;
    try {
      ({filterText, params} = await getFilterText(
        subscriptionInfo, _info_js__WEBPACK_IMPORTED_MODULE_8__.addonBundledSubscriptionsPath));
    }
    catch (e) {
      // We already warn if the file doesn't exist on startup, so
      // we can ignore an error loading the bundled file here.
    }

    if (filterText) {
      subscription.setFilterText(filterText);
    }

    if (params) {
      subscription.setParams(params);
    }
  }

  if ("title" in properties) {
    subscription.title = properties.title;
  }
  if ("homepage" in properties) {
    subscription.homepage = properties.homepage;
  }
  if ("downloadCount" in properties) {
    subscription.downloadCount = properties.downloadCount;
  }
  if ("version" in properties) {
    subscription.version = properties.version;
  }
  if ("lastDownload" in properties) {
    subscription.lastDownload = properties.lastDownload;
  }
  if ("privileged" in properties) {
    subscription.privileged = properties.privileged;
  }
  if ("diffURL" in properties) {
    subscription.diffURL = properties.diffURL;
  }
  if ("lastModified" in properties) {
    subscription.lastModified = properties.lastModified;
  }

  filterStorage.addSubscription(subscription);

  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest && !subscription.downloadable) {
    await enableRuleset(subscription.id);
  }

  if (!subscription.lastDownload &&
      !isSynchronizing(subscription.url)) {
    filterStorage.synchronizer.execute(subscription);
  }
}

async function disable(url) {
  let subscription = getSubscription(url);

  if (!subscription) {
    throw new Error(`Subscription does not exist: ${url}`);
  }

  subscription.disabled = true;

  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest) {
    if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.FullUpdatableSubscription) {
      await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_13__.disableDynamicRules)(subscription.url);
    }
    else {
      await disableRuleset(subscription.id);
    }
  }
}

function migrationNeeded() {
  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].runtime.getManifest().manifest_version == 2) {
    return false;
  }

  for (let subscription of _core_js__WEBPACK_IMPORTED_MODULE_10__.filterEngine.filterStorage.subscriptions()) {
    if (subscription.downloadable) {
      return true;
    }
  }

  return false;
}

/**
 * @ignore
 * @param {Subscription} subscription
 * @param {string} error
 */
function saveMigrationError(subscription, error) {
  let errors = _prefs_js__WEBPACK_IMPORTED_MODULE_15__.Prefs.migration_subscription_errors;
  errors.push({subscription, error});
  _prefs_js__WEBPACK_IMPORTED_MODULE_15__.Prefs.migration_subscription_errors = errors;
}

/**
 * @ignore
 */
async function migrate() {
  await _initializer_js__WEBPACK_IMPORTED_MODULE_9__["default"].start();

  if (!migrationNeeded()) {
    return;
  }

  let downloadables = await getSubscriptions();
  for (let downloadable of downloadables) {
    // some subscriptions are already `CountableSubscription`,
    // that were migrated from MV2 to MV3 without diff updated.
    if (!downloadable.downloadable) {
      continue;
    }

    await remove(downloadable.url); // MV2 URL
    try {
      migrateSubscriptionToMv3(downloadable);
    }
    catch (e) {
      saveMigrationError(downloadable, e.message);
    }
  }
}

/**
 * @ignore
 */
async function ensureDNRRulesetsEnabled() {
  if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest) {
    let enabledItems = await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest.getEnabledRulesets();

    for (let subscription of _core_js__WEBPACK_IMPORTED_MODULE_10__.filterEngine.filterStorage.subscriptions()) {
      if (!enabledItems.includes(subscription.id) && !subscription.disabled) {
        enableRuleset(subscription.id);
      }
    }
  }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  /**
   * The URL of the Acceptable Ads subscription.
   * @type {string}
   */
  get ACCEPTABLE_ADS_URL() {
    return _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest ?
      ACCEPTABLE_ADS_MV3_URL :
      ACCEPTABLE_ADS_MV2_URL;
  },

  /**
   * The UUID of the Acceptable Ads subscription.
   * @type {string}
   */
  ACCEPTABLE_ADS_ID,

  /**
   * The URL of the Acceptable Ads
   * without third-party tracking subscription.
   * @type {string}
   */
  get ACCEPTABLE_ADS_PRIVACY_URL() {
    return _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest ?
      ACCEPTABLE_ADS_PRIVACY_MV3_URL :
      ACCEPTABLE_ADS_PRIVACY_MV2_URL;
  },

  /**
   * The UUID of the Acceptable Ads without third-party tracking subscription.
   * @type {string}
   */
  ACCEPTABLE_ADS_PRIVACY_ID,

  /**
   * A resource that provides a list of filters that decide what to block.
   * @typedef {Object} Subscription
   * @property {boolean} downloadable Indicates whether this subscription is
   *                                  downloaded and updated with full update
   *                                  over the network.
   * @property {boolean} updatable Indicates whether this subscription can be
   *                               updated with either full or diff update
   *                               over the network.
   * @property {?string} diffURL The URL of diff updates endpoint for
   *                             DiffUpdatableSubscriptions in MV3.
   * @property {?boolean} downloading Indicates whether the subscription is
   *                                  currently downloading (updatable
   *                                  subscriptions only).
   * @property {?string} downloadStatus The status of the most recent download
   *   attempt (updatable subscriptions only). It can have the following values:
   * - `synchronize_ok` - The subscription is perfectly fine.
   * - `synchronize_connection_error` - An error has occurred when trying to
   *   download the subscription.
   * - `synchronize_invalid_url` - The subscription URL is invalid.
   * - `synchronize_invalid_data` - The downloaded data does not have the
   *   expected format.
   * - `synchronize_too_many_filters` - A custom user subscription cannot
   *   update because there aren't enough dynamic rules available.
   * - `synchronize_dnr_error` - Downloading succeeded but, an error occurred
   *   while updating the custom subscription.
   * - `synchronize_diff_too_many_filters` - A diff updatable subscription
   *   cannot update because there aren't enough dynamic rules available.
   * - `synchronize_diff_too_old` - An error occurred when trying to download
   *   the diffs. The bundled subscription is too old.
   * - `synchronize_diff_error` - Downloading succeeded but, an error occurred
   *   while updating the diff updatable subscription.
   * - null - The initial download is not completed yet, or the subscription is
   *   not updatable.
   * @property {boolean} enabled Indicates whether this subscription will
   *                             be applied.
   * @property {?number} expires Epoch time when the subscription must be
   *                             downloaded (downloadable subscriptions
   *                             only).
   * @property {?string} homepage Website of the project that manages
   *                              this filter list.
   * @property {?number} lastDownload Epoch time when the subscription
   *                                  was last downloaded to your machine
   *                                  (downloadable subscriptions only).
   * @property {?string} lastModified String representation of the date when the
   *                                  filter list was last modified. In case of
   *                                  a DiffUpdatableSubscription, it is the
   *                                  base date used to calculate the diffs.
   * @property {?number} lastSuccess Epoch time when this subscription was last
   *                                 successfully downloaded (downloadable
   *                                 subscriptions only).
   * @property {?boolean} privileged True if this subscription can load filters
   *                                 that require privileged access, like
   *                                 snippets.
   * @property {?number} softExpiration Epoch time for the next attempt to
   *                                    download the subscription. Can be
   *                                    updated even if the subscription was
   *                                    not downloaded. If `expires` is closer,
   *                                    then `expires` prevail. (downloadable
   *                                    subscriptions only).
   * @property {string} title The display name of the subscription.
   *                          If not provided, falls back to the URL.
   * @property {string} url Where the subscription can be found in plain text.
   *                        Used a the identifier.
   * @property {string} version The version provided by the subscription's
   *                            metadata. Defaults to '0' if not provided. It
   *                            might be set if the subscription is not
   *                            downloadable.
   */

  /**
   * Creates a new subscription from a given URL. The subscription also gets
   * synchronised if it had not been previously downloaded.
   * @param {string} url The URL of the subscription to be added.
   * @param {object} [properties] An object containing properties to be
   *                              set on the new subscription.
   * @param {string} [properties.title] The display name of the subscription.
   *                                    If not provided, falls back to the URL.
   * @param {string} [properties.homepage] Website of the project that
   *                                       manages this filter list.
   * @param {boolean} [properties.privileged] Whether or not this subscription
   *                                          is allowed to run snippets.
   * @return {Promise}
   * @throws {Error} Invalid subscription URL provided.
   */
  add,

  /**
   * Adds a list of default subscriptions based on the provided bundled
   * subscriptions from the EWE.start() call.
   * Subscriptions are selected based on relevant language, type of
   * circumvention, and type of allowing.
   * @param {string} [uiLanguage] The relevant language used for
   * determining which subscriptions to add. If omitted,
   * browser.i18n.getUILanguage will be used. If
   * browser.i18n.getUILanguage is unavailable, navigator.language is
   * used.
   * @throws {Error} No default language subscription
   * @throws {Error} No anti-circumvention subscription
   * @throws {Error} No allowing subscription
   * @see {@link #start|start()}
   * @return {Promise}
   */
  async addDefaults(uiLanguage) {
    let subscriptions = [];

    if (shouldAddDefaultSubscriptions()) {
      let defaultSubscriptions = getDefaultSubscriptions(uiLanguage);
      if (!defaultSubscriptions.hasDefaultLang) {
        throw Error("No default language subscription");
      }

      if (!defaultSubscriptions.hasAntiCV) {
        throw Error("No anti-circumvention subscription");
      }

      if (!defaultSubscriptions.hasAA) {
        throw Error("No allowing subscription");
      }

      subscriptions.push(...defaultSubscriptions.chosenSubscriptions);
    }

    for (let subscription of subscriptions) {
      await this.add(_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest ?
        subscription.url : subscription.mv2URL);
    }
  },

  /**
   * Returns an array of subscription objects for all subscriptions that are
   * downloaded and updated over the network.
   * @return {Promise<Array<Subscription>>}
   * @deprecated Use {@link #getSubscriptions|getSubscriptions()} instead
   */
  async getDownloadable() {
    const subscriptions = getSubscriptions();
    return subscriptions.map(each => {
      delete each.updatable; // newly introduced
      return each;
    });
  },

  /**
   * Returns an array of subscription objects for all subscriptions that are
   * downloaded and updated over the network.
   * @return {Promise<Array<Subscription>>}
   */
  async getSubscriptions() {
    const subscriptions = getSubscriptions();
    return subscriptions.map(each => {
      delete each.downloadable; // deprecated
      return each;
    });
  },

  /**
   * Returns an array of subscription objects for a given filter.
   * @param {string} text The filter rule for which to look.
   * @return {Promise<Array<Subscription>>}
   */
  async getForFilter(text) {
    return text ? Array.from(_core_js__WEBPACK_IMPORTED_MODULE_10__.filterEngine.filterStorage.subscriptions(text),
                             convertSubscription) : [];
  },

  /**
   * Returns the filter list of a given subscription URL.
   * @param {string} url The URL of the subscription.
   * @return {Promise<Array<Filter>>} Filters from the subscription.
   */
  async getFilters(url) {
    let subscription = getSubscription(url);
    if (subscription) {
      return Array.from(subscription.filterText(),
                        text => (0,_filters_js__WEBPACK_IMPORTED_MODULE_12__.convertFilter)(adblockpluscore_lib_filterClasses_js__WEBPACK_IMPORTED_MODULE_6__.Filter.fromText(text)));
    }

    return [];
  },

  /**
   * Checks if a subscription has been added.
   * @param {string} url The URL of the subscription to be checked.
   * @return {Promise<boolean>} True if a subscription has been added.
   * @throws {TypeError} Invalid URL provided.
   */
  async has(url) {
    return getSubscription(new URL(url).href) != null;
  },

  /**
   * Enables a previously disabled subscription. Has no effect otherwise.
   * @param {string} url The URL of the subscription to be enabled.
   * @return {Promise}
   * @throws {Error} Subscription does not exist.
   */
  async enable(url) {
    let subscription = getSubscription(url);

    if (!subscription) {
      throw new Error(`Subscription does not exist: ${url}`);
    }

    if (_browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest) {
      if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.FullUpdatableSubscription) {
        await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_13__.restoreDynamicRules)(subscription.url);
      }
      else {
        await enableRuleset(subscription.id);
      }
    }

    // Note: we must mark the subscription as enabled after
    // we actually finish with the restoring of dynamic rules
    // as marking subscription as enabled triggers the subscription update,
    // and the diff update processing which includes dynamic rules operations
    // can happen in parallel with restoring of dynamic rules here.
    subscription.disabled = false;
  },

  /**
   * Disables a subscription so that it doesn't have any
   * effect until it gets enabled again.
   * @param {string} url The URL of the subscription to be disabled.
   * @return {Promise}
   * @throws {Error} Subscription does not exist.
   */
  disable,

  /**
   * Removes the subscription for the given URL.
   * It will no longer have any effect.
   * @param {string} url The URL of the subscription to be removed.
   * @return {Promise}
   * @throws {Error} Subscription does not exist.
   */
  remove,

  /**
   * Forces a new version of a subscription with the
   * given URL to be downloaded immediately.
   * @param {?string} [url] The URL of the subscription to be synchronized.
   *   If omitted, all subscriptions will be synchronized.
   * @return {Promise} Resolves when syncing has been successfully
   *   triggered. Syncing may not be completed when this promise
   *   resolves.
   * @throws {Error} Subscription does not exist.
   */
  async sync(url) {
    let subscriptions = [];
    let {filterStorage} = _core_js__WEBPACK_IMPORTED_MODULE_10__.filterEngine;

    if (url) {
      let subscription = getSubscription(url);

      if (!subscription) {
        throw new Error(`Subscription does not exist: ${url}`);
      }

      subscriptions.push(subscription);
    }
    else {
      for (let subscription of filterStorage.subscriptions()) {
        if (subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.RegularSubscription) {
          subscriptions.push(subscription);
        }
      }
    }
    for (let subscription of subscriptions) {
      if (!isSynchronizing(subscription.url)) {
        filterStorage.synchronizer.execute(subscription, true);
      }
    }
  },

  /**
   * Defines the recommended filter subscriptions per language.
   * @typedef {Object} Recommendation
   * @property {string} id The identifier for this subscription.
   * @property {Array<string>} languages The languages that this recommendation
   *                                      would match to.
   * @property {string} title The display name of the recommended subscription.
   * @property {Array<string>} requires A list of subscriptions that this
   *                                    one depends on.
   * @property {Array<string>} includes A list of subscriptions that this
   *                                    one also contains.
   * @property {?boolean} privileged True if this subscription can load filters
   *                                 that require privileged access, like
   *                                 snippets.
   * @property {string} type The kind of content targeted by this
   *                         recommended subscription.
   * @property {string} url Where the recommended subscription can be found
   *                        in plain text.
   * @property {?string} mv2URL Where the recommended subscription can be found
   *                            for MV2 in plain text (Manifest V3 only).
   */

  /**
   * Returns an array of all recommended subscriptions.
   * @return {Array<Recommendation>}
   */
  getRecommendations() {
    return Array.from((0,adblockpluscore_lib_recommendations_js__WEBPACK_IMPORTED_MODULE_5__.recommendations)(), convertRecommendation);
  },

  /**
   * Returns an array of MV2 to MV3 migration errors and the related
   * subscription.
   * @return {Promise<Array<Subscription, string>>} The migration errors.
   */
  async getMigrationErrors() {
    return _prefs_js__WEBPACK_IMPORTED_MODULE_15__.Prefs.migration_subscription_errors;
  },

  /**
   * Clears the migration errors.
   * @return {Promise}
   */
  async clearMigrationErrors() {
    _prefs_js__WEBPACK_IMPORTED_MODULE_15__.Prefs.migration_subscription_errors = [];
  },

  /**
   * Emitted when a new subscription is added.
   * @event
   * @type {EventDispatcher<Subscription>}
   */
  onAdded: new _types_js__WEBPACK_IMPORTED_MODULE_11__.EventDispatcher(dispatch => {
    adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_4__.filterNotifier.on("subscription.added", makeListener(dispatch));
  }),

  /**
   * Emitted when any property of the subscription has changed.
   * The name of the specific property is provided as a string, except
   * when the subscription has been updated, where it will be null.
   *
   * @event
   * @type {EventDispatcher<Subscription, string>}
   */
  onChanged: new _types_js__WEBPACK_IMPORTED_MODULE_11__.EventDispatcher(dispatch => {
    function makeChangeListener(property) {
      // This name differs between EWE and adblockpluscore.
      if (property == "disabled") {
        property = "enabled";
      }

      return subscription => {
        // the subscription might be already removed,
        // so we might need to skip emitting events
        if ((subscription instanceof adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_3__.RegularSubscription) &&
             getSubscription(subscription.url)) {
          dispatch(convertSubscription(subscription), property);
        }
      };
    }

    let properties = ["disabled", "title", "homepage", "lastDownload",
                      "downloadStatus", "downloading", "privileged",
                      "lastModified"];
    for (let property of properties) {
      adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_4__.filterNotifier.on(`subscription.${property}`,
                        makeChangeListener(property));
    }

    adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_4__.filterNotifier.on("subscription.updated", makeChangeListener(null));
  }),

  /**
   * Emitted when a subscription is removed.
   * @event
   * @type {EventDispatcher<Subscription>}
   */
  onRemoved: new _types_js__WEBPACK_IMPORTED_MODULE_11__.EventDispatcher(dispatch => {
    adblockpluscore_lib_filterNotifier_js__WEBPACK_IMPORTED_MODULE_4__.filterNotifier.on("subscription.removed", makeListener(dispatch));
  })
});


/***/ }),

/***/ "./sdk/api/telemetry.js":
/*!******************************!*\
  !*** ./sdk/api/telemetry.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "postWithBearerToken": () => (/* binding */ postWithBearerToken),
/* harmony export */   "reset": () => (/* binding */ reset),
/* harmony export */   "start": () => (/* binding */ start),
/* harmony export */   "stop": () => (/* binding */ stop)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/v4.js");
/* harmony import */ var adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/time.js */ "./core/lib/time.js");
/* harmony import */ var _prefs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prefs.js */ "./sdk/api/prefs.js");
/* harmony import */ var _info_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./info.js */ "./sdk/api/info.js");
/* harmony import */ var _subscriptions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./subscriptions.js */ "./sdk/api/subscriptions.js");
/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./types.js */ "./sdk/api/types.js");
/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scheduler.js */ "./sdk/api/scheduler.js");
/* harmony import */ var _initializer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./initializer.js */ "./sdk/api/initializer.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */













const TELEMETRY_STORAGE_KEY = "ewe:telemetry";

let scheduler = null;
let onError = new _types_js__WEBPACK_IMPORTED_MODULE_5__.EventDispatcher(dispatch => {});

/**
 * @ignore
 * Starts the telemetry
 *
 * @param {Object} telemetry Telemetry configuration (URL, bearer)
 * @param {number} [interval]
 *        Ping interval in milliseconds (default: 12 hours)
 * @param {number} [errorRetryDelay]
 *        Error retry interval in milliseconds (default: 1 hour)
 */
async function start(telemetry, interval = 12 * adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_1__.MILLIS_IN_HOUR,
                            errorRetryDelay = 1 * adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_1__.MILLIS_IN_HOUR) {
  if (!telemetry.url) {
    throw new Error("No telemetry `url` provided");
  }

  if (!telemetry.bearer) {
    throw new Error("No telemetry `bearer` provided");
  }

  if (scheduler) {
    return;
  }

  await (0,_prefs_js__WEBPACK_IMPORTED_MODULE_2__.init)();

  scheduler = new _scheduler_js__WEBPACK_IMPORTED_MODULE_6__.Scheduler({
    interval,
    errorRetryDelay,
    listener: () => ping(telemetry),
    async getNextTimestamp() {
      if (_prefs_js__WEBPACK_IMPORTED_MODULE_2__.Prefs.telemetry_opt_out) {
        return Date.now() + adblockpluscore_lib_time_js__WEBPACK_IMPORTED_MODULE_1__.MILLIS_IN_DAY;
      }

      let storageResult = await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.get(
        [TELEMETRY_STORAGE_KEY]
      );
      let storage = storageResult[TELEMETRY_STORAGE_KEY];
      let lastPing = storage && storage.lastPing;
      let lastError = storage && storage.lastError;

      if (lastError) {
        let nextRetryAfterError = new Date(lastError).getTime() +
            errorRetryDelay;
        let nowTimestamp = Date.now();
        let maxNextRetry = nowTimestamp + errorRetryDelay;
        if (nextRetryAfterError > maxNextRetry) {
          // This shouldn't happen if the clocks are working right. It implies
          // that the system clock has been set backwards since we stored that
          // timestamp. Let's correct the storage using our current clock
          // value. We shouldn't do this with lastPing because lastPing comes
          // from the server.
          nextRetryAfterError = maxNextRetry;
          await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.set({
            [TELEMETRY_STORAGE_KEY]: {
              ...storage,
              lastError: (new Date(nowTimestamp)).toISOString()
            }
          });
        }

        return nextRetryAfterError;
      }
      else if (lastPing) {
        return new Date(lastPing).getTime() + interval;
      }

      return null;
    }
  });
}

/**
 * @ignore
 */
async function reset() {
  stop();
  await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.remove(TELEMETRY_STORAGE_KEY);
}

/**
 * @ignore
 */
function stop() {
  if (!scheduler) {
    return;
  }

  scheduler.stop();
  scheduler = null;
}

function truncateTimes(timestamp) {
  if (!timestamp) {
    return timestamp;
  }

  return timestamp.split("T")[0] + "T00:00:00Z";
}

async function ping(telemetry) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_8__.trace)({telemetry});
  await _initializer_js__WEBPACK_IMPORTED_MODULE_7__["default"].start();

  // This is a last line to ensure that we don't ever send a ping if someone has
  // opted out, even if the details of the scheduler change in the future. The
  // main opt out mechanism is telling the scheduler if it's time to ping or
  // not.
  if (_prefs_js__WEBPACK_IMPORTED_MODULE_2__.Prefs.telemetry_opt_out) {
    return false;
  }

  const storageResult = await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.get(
    [TELEMETRY_STORAGE_KEY]
  );
  const storage = storageResult[TELEMETRY_STORAGE_KEY];

  let payload = await getExtensionMetadata();
  if (storage) {
    payload.first_ping = truncateTimes(storage.firstPing);
    payload.last_ping = truncateTimes(storage.lastPing);
    payload.previous_last_ping = truncateTimes(storage.previousLastPing);
    payload.last_ping_tag = storage.lastPingTag;
  }

  let pingToken;
  try {
    let serverResponse = await postWithBearerToken(
      telemetry.url,
      telemetry.bearer,
      {payload}
    );
    pingToken = serverResponse.token;

    if (!pingToken) {
      throw new Error("Telemetry server response did not include a token.");
    }
  }
  catch (e) {
    (0,_debugging_js__WEBPACK_IMPORTED_MODULE_8__.error)(`Telemetry error: ${e.message}`);

    let lastError = (new Date()).toISOString();
    await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.set({
      [TELEMETRY_STORAGE_KEY]: {
        ...storage,
        lastError
      }
    });

    onError.emit({
      message: e.message,
      lastError
    });
    return false;
  }

  await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.storage.local.set({
    [TELEMETRY_STORAGE_KEY]: {
      firstPing: (storage && storage.firstPing) || pingToken,
      lastPing: pingToken,
      previousLastPing: storage && storage.lastPing,
      lastPingTag: (0,uuid__WEBPACK_IMPORTED_MODULE_9__["default"])()
    }
  });
  return true;
}

/**
 * Uses the fetch API to make a POST request to the specified endpoint.
 *
 * @param {string} url URL for the request.
 * @param {string} bearer Bearer token for use in Authentication header.
 * @param {Object} body Request body, will be serialized into JSON to send.
 * @return {Promise<Object>} Promise resolves with the object returned from the
 *   server. Rejects if the request fails, or the response has an error status.
 * @ignore
 */
async function postWithBearerToken(url, bearer, body) {
  (0,_debugging_js__WEBPACK_IMPORTED_MODULE_8__.trace)({url, bearer, body});
  const response = await fetch(url, {
    method: "POST",
    headers: {
      "Authorization": `Bearer ${bearer}`,
      "Content-Type": "application/json"
    },
    body: JSON.stringify(body)
  });

  if (!response.ok) {
    throw new Error(
      `Telemetry server responded with error status ${response.status}.`
    );
  }

  return await response.json();
}

async function getExtensionMetadata() {
  let platform;
  let platformVersion;

  if (navigator.userAgentData) {
    const platformInfo = await navigator.userAgentData.getHighEntropyValues([
      "platform",
      "platformVersion"
    ]);

    platform = platformInfo.platform;
    platformVersion = platformInfo.platformVersion;
  }
  else {
    const platformInfo = await webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__.runtime.getPlatformInfo();
    platform = platformInfo.os;
  }

  return {
    // The OS. Windows, Linux, etc.
    platform,

    // The version of the system OS.
    platform_version: platformVersion,

    // The browser. Chrome, Firefox, etc.
    application: _info_js__WEBPACK_IMPORTED_MODULE_3__.application,

    // The version of the browser.
    application_version: _info_js__WEBPACK_IMPORTED_MODULE_3__.applicationVersion,

    // Used to identify this specific project.
    addon_name: _info_js__WEBPACK_IMPORTED_MODULE_3__.sdkName,

    // The Engine's current version. See the Dotenv plugin in webpack.config.js
    addon_version: _info_js__WEBPACK_IMPORTED_MODULE_3__.sdkVersion,

    // The name of the extension using the Engine.
    extension_name: _info_js__WEBPACK_IMPORTED_MODULE_3__.addonName,

    // The extension's version.
    extension_version: _info_js__WEBPACK_IMPORTED_MODULE_3__.addonVersion,

    // Depends on having the acceptable ads subscription enabled.
    aa_active: await (0,_subscriptions_js__WEBPACK_IMPORTED_MODULE_4__.hasAcceptableAdsEnabled)()
  };
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  /**
  * @typedef {Object} TelemetryPingError
  * @property {string} message The error message, describing the failure.
  * @property {string} lastError The timestamp of the error.
  */

  /**
   * Emitted when sending a telemetry ping fails.
   *
   * @event
   * @type {EventDispatcher<TelemetryPingError>}
   */
  onError,

  /**
   * Opt-out from telemetry. Default is `true` (used opted out)
   * @param {boolean} value Pass `true` to opt-out, pass `false` to opt in.
   * @returns {Promise} Promise that resolves when the setting is set.
   */
  async setOptOut(value) {
    _prefs_js__WEBPACK_IMPORTED_MODULE_2__.Prefs.telemetry_opt_out = value;

    if (scheduler && !value) {
      scheduler.checkNow();
    }
  }
});


/***/ }),

/***/ "./sdk/api/testing.js":
/*!****************************!*\
  !*** ./sdk/api/testing.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser.js */ "./sdk/api/webext-browser.js");
/* harmony import */ var adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! adblockpluscore/lib/subscriptionClasses.js */ "./core/lib/subscriptionClasses.js");
/* harmony import */ var adblockpluscore_lib_recommendations_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! adblockpluscore/lib/recommendations.js */ "./core/lib/recommendations.js");
/* harmony import */ var adblockpluscore_lib_notifications_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! adblockpluscore/lib/notifications.js */ "./core/lib/notifications.js");
/* harmony import */ var adblockpluscore_lib_features_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! adblockpluscore/lib/features.js */ "./core/lib/features.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core.js */ "./sdk/api/core.js");
/* harmony import */ var _prefs_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./prefs.js */ "./sdk/api/prefs.js");
/* harmony import */ var _debugging_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./debugging.js */ "./sdk/api/debugging.js");
/* harmony import */ var _subscriptions_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./subscriptions.js */ "./sdk/api/subscriptions.js");
/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./index.js */ "./sdk/api/index.js");
/* harmony import */ var _initializer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./initializer.js */ "./sdk/api/initializer.js");
/* harmony import */ var _info_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./info.js */ "./sdk/api/info.js");
/* harmony import */ var _dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./dnr-filters.js */ "./sdk/api/dnr-filters.js");
/* harmony import */ var _subscriptions_utils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./subscriptions-utils.js */ "./sdk/api/subscriptions-utils.js");
/* harmony import */ var _io_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./io.js */ "./sdk/api/io.js");
/* harmony import */ var adblockpluscore_lib_filterStorage_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! adblockpluscore/lib/filterStorage.js */ "./core/lib/filterStorage.js");
/* harmony import */ var _telemetry_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./telemetry.js */ "./sdk/api/telemetry.js");
/* harmony import */ var _cdp_metrics_uploader_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./cdp-metrics-uploader.js */ "./sdk/api/cdp-metrics-uploader.js");
/* harmony import */ var _sitekey_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./sitekey.js */ "./sdk/api/sitekey.js");
/* harmony import */ var _content_message_deferrer_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./content-message-deferrer.js */ "./sdk/api/content-message-deferrer.js");
/* harmony import */ var _cdp_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./cdp.js */ "./sdk/api/cdp.js");
/* harmony import */ var _frame_state_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./frame-state.js */ "./sdk/api/frame-state.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */




























/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  ..._sitekey_js__WEBPACK_IMPORTED_MODULE_18__, // everything exported from "sitekey.js"

  /**
   * @ignore
   * Used internally. Sets the preference value.
   * @param {string} [key] Preference key
   * @param {Object} [value] Preference value
   */
  async _setPrefs(key, value) {
    await (0,_prefs_js__WEBPACK_IMPORTED_MODULE_6__.init)();
    _prefs_js__WEBPACK_IMPORTED_MODULE_6__.Prefs[key] = value;
  },

  /**
   * @ignore
   * Used internally. Gets the preference value.
   * @param {string} [key] Preference key
   * @returns {Object} Preference value
   */
  async _getPrefs(key) {
    await (0,_prefs_js__WEBPACK_IMPORTED_MODULE_6__.init)();
    return _prefs_js__WEBPACK_IMPORTED_MODULE_6__.Prefs[key];
  },

  /**
   * @ignore
   * Used internally. Restart the Synchronizer.
   */
  _restartSynchronizer() {
    let {filterStorage} = _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine;
    filterStorage.synchronizer.stop();
    filterStorage.synchronizer.start();
  },

  /**
   * @ignore
   * Used internally. Sets the subscription property.
   * @param {string} [url] Subscription URL
   * @param {Object} [prototype] Object to set the subscription properties from.
   */
  async _setSubscriptionProperties(url, prototype) {
    let subscription = adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_1__.Subscription.fromURL(url);
    for (let property in prototype) {
      subscription[property] = prototype[property];
    }

    await _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.filterStorage.saveToDisk();
    await _debugging_js__WEBPACK_IMPORTED_MODULE_7__["default"].ensureEverythingHasSaved();
  },

  /**
   * @ignore
   * @param {Recommendation} subscriptions
   */
  _setSubscriptions(subscriptions) {
    (0,_info_js__WEBPACK_IMPORTED_MODULE_11__.setAddonInfo)({bundledSubscriptions: subscriptions,
                  bundledSubscriptionsPath: _info_js__WEBPACK_IMPORTED_MODULE_11__.addonBundledSubscriptionsPath});
    (0,adblockpluscore_lib_recommendations_js__WEBPACK_IMPORTED_MODULE_2__.setRecommendations)(subscriptions);
    (0,adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_1__._clean)();
  },

  /**
   * @ignore
   * @param {Array} sources An array of sources for recommendations
   */
  _setRecommendations(sources) {
    const result = sources ?
      sources.map(recommendation => recommendation._source) : null;
    (0,adblockpluscore_lib_recommendations_js__WEBPACK_IMPORTED_MODULE_2__.setRecommendations)(result);
  },

  /**
   * @ignore
   * @returns {Array} An array of recommendations
   */
  _recommendations() {
    return (0,adblockpluscore_lib_recommendations_js__WEBPACK_IMPORTED_MODULE_2__.recommendations)();
  },

  /**
   * @ignore
   */
  _getDefaultSubscriptions: _subscriptions_js__WEBPACK_IMPORTED_MODULE_8__.getDefaultSubscriptions,

  /**
   * @ignore
   */
  _setAddonInfo: _info_js__WEBPACK_IMPORTED_MODULE_11__.setAddonInfo,

  /**
   * @ignore
   */
  _resetDefaultAddonInfo: _info_js__WEBPACK_IMPORTED_MODULE_11__.initializeDefaultAddonInfo,

  /**
   * @ignore
   */
  _setFeatureFlags: adblockpluscore_lib_features_js__WEBPACK_IMPORTED_MODULE_4__.setFeatureFlags,

  /**
   * @ignore
   */
  _resetFeatureFlags: adblockpluscore_lib_features_js__WEBPACK_IMPORTED_MODULE_4__.resetFeatureFlags,

  /**
   * @ignore
   * @param {string} feature
   */
  async _isFeatureEnabled(feature) {
    // The overrides set in tests might only have finished loading from session
    // storage after the call to initializer.start is complete. The values set
    // by an extension when calling EWE.start are available as soon as the
    // addonInfo is set (first step of EWE.start).
    await _initializer_js__WEBPACK_IMPORTED_MODULE_10__["default"].start();
    return (0,adblockpluscore_lib_features_js__WEBPACK_IMPORTED_MODULE_4__.isFeatureEnabled)(feature);
  },

  /**
   * @ignore
   * Clears all subscriptions and filters.
   * @return {Promise} A function that can be called to
   *                    restore the removed subscriptions and filters.
   */
  async _removeAllSubscriptions() {
    for (let subscription of await _subscriptions_js__WEBPACK_IMPORTED_MODULE_8__["default"].getSubscriptions()) {
      await _subscriptions_js__WEBPACK_IMPORTED_MODULE_8__["default"].remove(subscription.url);
    }

    await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.removeAllDynamicFilters)();
    await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.clearRulesetUpdates)();
    (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.clearIsDnrSubscriptionUpdating)();

    const {filterStorage} = _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine;
    filterStorage._clear();
    await filterStorage.saveToDisk();

    _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine.clear();
  },

  /**
   * @ignore
   * Call dnrDiffSubscriptionUpdate by subscription URL for testing. It
   * will get an real subscription object before calling the API.
   *
   * @param {string} url The subscription URL.
   * @param {Object} updates The updates to apply.
   */
  async _dnrDiffSubscriptionUpdate(url, updates) {
    await this._waitForInitialization();

    const {filterStorage} = _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine;
    let subscription = filterStorage.getSubscription(url);
    // This allow testing if the subscription is not in the storage.
    if (!subscription) {
      subscription = adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_1__.Subscription.fromURL(url);
    }
    await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.dnrDiffSubscriptionUpdate)(subscription, updates);
  },

  getSubscriptionRulesetMap: _subscriptions_utils_js__WEBPACK_IMPORTED_MODULE_13__.getSubscriptionRulesetMap,

  /*
   * @ignore
   * Serialize the result of getDynamicFilters() to an array.
   * @return {Promise} The array.
   */
  async getDynamicFilters() {
    await (0,_prefs_js__WEBPACK_IMPORTED_MODULE_6__.init)();

    let dynFilters = await (0,_dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.getDynamicFilters)();
    return Array.from(dynFilters.entries());
  },

  dynamicRulesAvailable: _dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.dynamicRulesAvailable,
  testSetDynamicRulesAvailable: _dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.testSetDynamicRulesAvailable,

  /**
   * @ignore
   */
  async _clearNotifications() {
    await (0,_prefs_js__WEBPACK_IMPORTED_MODULE_6__.init)();
    for (let notification of adblockpluscore_lib_notifications_js__WEBPACK_IMPORTED_MODULE_3__.notifications._localNotifications) {
      adblockpluscore_lib_notifications_js__WEBPACK_IMPORTED_MODULE_3__.notifications.removeNotification(notification);
    }

    _prefs_js__WEBPACK_IMPORTED_MODULE_6__.Prefs.notificationdata = {};
    _prefs_js__WEBPACK_IMPORTED_MODULE_6__.Prefs.notifications_ignoredcategories = [];
    await (0,_prefs_js__WEBPACK_IMPORTED_MODULE_6__.awaitSavingComplete)();
  },

  enableDebugOutput(enabled) {
    let listener = _debugging_js__WEBPACK_IMPORTED_MODULE_7__["default"].ON_REQUEST_CONSOLE_LOGGER.getListener();
    if (enabled) {
      _debugging_js__WEBPACK_IMPORTED_MODULE_7__["default"].onLogEvent.addListener(listener);
    }
    else {
      _debugging_js__WEBPACK_IMPORTED_MODULE_7__["default"].onLogEvent.removeListener(listener);
    }
  },

  CONSOLE_LOGGER: _debugging_js__WEBPACK_IMPORTED_MODULE_7__["default"].logger,

  _log: _debugging_js__WEBPACK_IMPORTED_MODULE_7__.log,
  _debug: _debugging_js__WEBPACK_IMPORTED_MODULE_7__.debug,
  _info: _debugging_js__WEBPACK_IMPORTED_MODULE_7__.info,
  _warn: _debugging_js__WEBPACK_IMPORTED_MODULE_7__.warn,
  _error: _debugging_js__WEBPACK_IMPORTED_MODULE_7__.error,
  _trace: _debugging_js__WEBPACK_IMPORTED_MODULE_7__.trace,

  _clearDebugLog() {
    _debugging_js__WEBPACK_IMPORTED_MODULE_7__["default"].ON_REQUEST_CONSOLE_LOGGER.clear();
  },

  _printDebugLog() {
    _debugging_js__WEBPACK_IMPORTED_MODULE_7__["default"].ON_REQUEST_CONSOLE_LOGGER.print();
  },

  /**
   * @ignore
   * Removes "patterns.ini" to avoid state leak between the tests.
   * @return {Promise}
   */
  async _clearStorage() {
    await _io_js__WEBPACK_IMPORTED_MODULE_14__.IO.initialize();
    let oldName = adblockpluscore_lib_filterStorage_js__WEBPACK_IMPORTED_MODULE_15__.FilterStorage.sourceFile;
    let newName = "removed.tmp";
    let stat = await _io_js__WEBPACK_IMPORTED_MODULE_14__.IO.statFile(oldName);

    if (stat.exists) {
      const {filterStorage} = _core_js__WEBPACK_IMPORTED_MODULE_5__.filterEngine;
      await _io_js__WEBPACK_IMPORTED_MODULE_14__.IO.renameFile(oldName, newName);
      filterStorage.clearStats();
      await filterStorage.loadFromDisk();
    }
  },

  async _waitForInitialization() {
    await _initializer_js__WEBPACK_IMPORTED_MODULE_10__["default"].start();
  },

  clearIsDnrSubscriptionUpdating: _dnr_filters_js__WEBPACK_IMPORTED_MODULE_12__.clearIsDnrSubscriptionUpdating,
  isSynchronizing: _subscriptions_js__WEBPACK_IMPORTED_MODULE_8__.isSynchronizing,

  stopTelemetry: _telemetry_js__WEBPACK_IMPORTED_MODULE_16__.stop,
  startTelemetry: _telemetry_js__WEBPACK_IMPORTED_MODULE_16__.start,
  resetTelemetry: _telemetry_js__WEBPACK_IMPORTED_MODULE_16__.reset,
  stopCdpMetricsUploader: _cdp_metrics_uploader_js__WEBPACK_IMPORTED_MODULE_17__.stop,
  startCdpMetricsUploader: _cdp_metrics_uploader_js__WEBPACK_IMPORTED_MODULE_17__.start,
  resetCdpMetricsUploader: _cdp_metrics_uploader_js__WEBPACK_IMPORTED_MODULE_17__.reset,

  clearSkipInitRulesets: _index_js__WEBPACK_IMPORTED_MODULE_9__.clearSkipInitRulesets,
  checkAndInitSubscriptions: _index_js__WEBPACK_IMPORTED_MODULE_9__.checkAndInitSubscriptions,
  _cleanSubscriptionClassesCache: adblockpluscore_lib_subscriptionClasses_js__WEBPACK_IMPORTED_MODULE_1__._clean,

  // It must be called after frame loading is started,
  // use `await new Page().loaded` for instance.
  async _isContentHelloReceived(tabId, frameId) {
    return !(0,_content_message_deferrer_js__WEBPACK_IMPORTED_MODULE_19__.getDeferredMessages)(tabId, frameId);
  },

  async _saveSubscriptionMigrationError(subscription, errorMessage) {
    await _initializer_js__WEBPACK_IMPORTED_MODULE_10__["default"].start();
    (0,_subscriptions_js__WEBPACK_IMPORTED_MODULE_8__.saveMigrationError)(subscription, errorMessage);
  },

  async _saveSessionStorage(key, value) {
    let obj = {};
    obj[key] = value;
    await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.session.set(obj);
  },

  async _removeSessionStorage(keys) {
    await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].storage.session.remove(keys);
  },

  async getDynamicRules() {
    return await _browser_js__WEBPACK_IMPORTED_MODULE_0__["default"].declarativeNetRequest.getDynamicRules();
  },

  _setCdpConfig: _cdp_js__WEBPACK_IMPORTED_MODULE_20__._setConfig,
  _restoreCdpConfig: _cdp_js__WEBPACK_IMPORTED_MODULE_20__._restoreConfig,
  _setCdpData: _cdp_js__WEBPACK_IMPORTED_MODULE_20__.setData,
  _getCdpData: _cdp_js__WEBPACK_IMPORTED_MODULE_20__.getData,
  _clearCdpData: _cdp_js__WEBPACK_IMPORTED_MODULE_20__.clearData,
  _clearCdpActivity: _cdp_js__WEBPACK_IMPORTED_MODULE_20__.clearActivity,
  _clearFrameState: _frame_state_js__WEBPACK_IMPORTED_MODULE_21__._clear
});


/***/ }),

/***/ "./sdk/api/types.js":
/*!**************************!*\
  !*** ./sdk/api/types.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BlockableEventDispatcher": () => (/* reexport safe */ _diagnostics_js__WEBPACK_IMPORTED_MODULE_0__.BlockableEventDispatcher),
/* harmony export */   "EventDispatcher": () => (/* binding */ EventDispatcher),
/* harmony export */   "FilterError": () => (/* binding */ FilterError)
/* harmony export */ });
/* harmony import */ var _diagnostics_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./diagnostics.js */ "./sdk/api/diagnostics.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */



/**
 * The EventDispatcher class allows users to listen to
 * certain events that are emitted.
 * @hideconstructor
 * @param {function} initializer
 * @param {function} [finalizer]
 */
class EventDispatcher {
  constructor(initializer, finalizer) {
    this._listeners = new Set();
    this._initialized = false;

    let dispatch = (...args) => {
      for (let listener of this._listeners) {
        listener(...args);
      }
    };

    this._initialize = initializer.bind(null, dispatch);
    this._finalize = finalizer && finalizer.bind(null, dispatch);
  }

  /**
    * Attaches a listener function to an event. This listener will be called
    * when the event is emitted. Please note that in an MV3 context this has
    * to happen in the first turn of the event loop. This should happen when
    * your service worker starts.
    * @param {function} listener The user defined function that will be called
    *                            once the specified event is emitted.
    */
  addListener(listener) {
    if (!this._initialized) {
      this._initialize();
      this._initialized = true;
    }

    this._listeners.add(listener);
  }

  /**
    * Removes the added function. The listener will no longer be called
    * by the event.
    * @param {function} listener The user defined function to be removed.
    */
  removeListener(listener) {
    this._listeners.delete(listener);

    if (this._initialized && this._finalize && this._listeners.size == 0) {
      this._finalize();
      this._initialized = false;
    }
  }

  /**
   * Call listeners with the provided arguments.
   * @param {[Object]} listener arguments
   */
  emit(...args) {
    for (let listener of this._listeners) {
      listener(...args);
    }
  }
}

/**
 * The result of parsing an invalid filter.
 * @property {string} type Either `invalid_filter` or `invalid_domain`.
 * @property {string} reason The reason why the filter is invalid.
 * @property {string?} option The filter option that made the filter invalid.
 * @param {string} type
 * @param {string} reason
 * @param {string?} option
 * @hideconstructor
 */
class FilterError extends Error {
  constructor(type, reason, option = null) {
    super(JSON.stringify({type, reason, option}));
    this.name = "FilterError";
    this.type = type;
    this.reason = reason;
    this.option = option;
  }
}


/***/ }),

/***/ "./sdk/api/webext-browser.js":
/*!***********************************!*\
  !*** ./sdk/api/webext-browser.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webextension-polyfill */ "./node_modules/webextension-polyfill/dist/browser-polyfill.js");
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */

// reexport polyfill browser

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (webextension_polyfill__WEBPACK_IMPORTED_MODULE_0__);


/***/ }),

/***/ "./sdk/errors.js":
/*!***********************!*\
  !*** ./sdk/errors.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ERROR_DISABLED_RULE_LIMIT_REACHED": () => (/* binding */ ERROR_DISABLED_RULE_LIMIT_REACHED),
/* harmony export */   "ERROR_FILTER_NOT_FOUND": () => (/* binding */ ERROR_FILTER_NOT_FOUND),
/* harmony export */   "ERROR_TOO_MANY_FILTERS": () => (/* binding */ ERROR_TOO_MANY_FILTERS),
/* harmony export */   "ignoreNoConnectionError": () => (/* binding */ ignoreNoConnectionError)
/* harmony export */ });
/*
 * This file is part of eyeo's Web Extension Ad Blocking Toolkit (EWE),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * EWE is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * EWE is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with EWE.  If not, see <http://www.gnu.org/licenses/>.
 */

const ERROR_NO_CONNECTION = "Could not establish connection. " +
      "Receiving end does not exist.";
const ERROR_CLOSED_CONNECTION = "A listener indicated an asynchronous " +
      "response by returning true, but the message channel closed before a " +
      "response was received";
// https://bugzilla.mozilla.org/show_bug.cgi?id=1578697
const ERROR_MANAGER_DISCONNECTED = "Message manager disconnected";

const ERROR_DISABLED_RULE_LIMIT_REACHED = "The number of disabled static " +
      "rules exceeds the disabled rule count limit.";

const ERROR_FILTER_NOT_FOUND = "filter_not_found";
const ERROR_TOO_MANY_FILTERS = "too_many_filters";

function ignoreNoConnectionError(promise) {
  return promise.catch(error => {
    if (typeof error == "object" &&
        (error.message == ERROR_NO_CONNECTION ||
         error.message == ERROR_CLOSED_CONNECTION ||
         error.message == ERROR_MANAGER_DISCONNECTED)) {
      return;
    }

    throw error;
  });
}


/***/ }),

/***/ "./core/data/subscriptions.json":
/*!**************************************!*\
  !*** ./core/data/subscriptions.json ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('[{"id":"B7D76369-DD19-4602-80E8-2E32DDB490AC","type":"ads","languages":["id","ms"],"title":"ABPindo+EasyList","homepage":"http://abpindo.blogspot.com/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","A4A32212-E6BD-45F6-AD0F-E0FD18E8537B"],"url":"https://easylist-downloads.adblockplus.org/v3/full/abpindo+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/abpindo+easylist.txt"},{"id":"1C571EC7-6E52-47CC-B04A-4B3008D0AEBE","type":"ads","languages":["vi"],"title":"ABPVN List+EasyList","homepage":"http://abpvn.com/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","03648752-31EE-4FD0-85C1-20B07C5551C3"],"url":"https://easylist-downloads.adblockplus.org/v3/full/abpvn+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/abpvn+easylist.txt"},{"id":"E22C3B40-DC90-49D7-8BF5-E60904AB159A","type":"ads","languages":["bg"],"title":"Bulgarian list+EasyList","homepage":"https://stanev.org/abp/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","1638B159-F64A-4307-84E7-16AB08ED409E"],"url":"https://easylist-downloads.adblockplus.org/v3/full/bulgarian_list+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/bulgarian_list+easylist.txt"},{"id":"96932CD9-6DDF-4D97-B92F-FDF747B6FAA2","type":"ads","languages":["no","nb","nn","da","is","fo","kl","sv","fi"],"title":"Dandelion Sprout\'s Nordic Filters+EasyList","homepage":"https://github.com/DandelionSprout/adfilt","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","6D489E8D-E61C-444C-BBC5-44741773ADC2"],"url":"https://easylist-downloads.adblockplus.org/v3/full/dandelion_sprouts_nordic_filters+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/dandelion_sprouts_nordic_filters+easylist.txt"},{"id":"8C13E995-8F06-4927-BEA7-6C845FB7EEBF","type":"ads","languages":["en"],"title":"EasyList","homepage":"https://easylist.to/","url":"https://easylist-downloads.adblockplus.org/v3/full/easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylist.txt"},{"id":"9BD3EA2F-889D-4CC3-B680-CF484F2BD1B9","type":"ads","languages":["zh"],"title":"EasyList China+EasyList","homepage":"https://github.com/easylist/easylistchina/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","1D7F590C-B752-4BA0-9473-6A26DE1326B1"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistchina+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistchina+easylist.txt"},{"id":"4B6CE485-30AB-4213-AD17-504B3F2D2825","type":"ads","languages":["cs","sk"],"title":"EasyList Czech and Slovak+EasyList","homepage":"https://adblock.sk/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","2D8C4D88-34A0-4259-9098-30D28BA674BC"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistczechslovak+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistczechslovak+easylist.txt"},{"id":"A4B88FB6-E5E5-417F-8A49-20B8244995FD","type":"ads","languages":["nl"],"title":"EasyList Dutch+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","CB94E27D-6CD1-4DB9-83D9-6B7F1A3555F6"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistdutch+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistdutch+easylist.txt"},{"id":"0CD3D105-D3B3-4652-8489-94163DE9A08F","type":"ads","languages":["de"],"title":"EasyList Germany+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","4337FB2B-A95C-44D5-B78D-11AD40F7711B"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistgermany+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistgermany+easylist.txt"},{"id":"07549D8B-F06F-4D9D-A567-929AA59E9D1D","type":"ads","languages":["he"],"title":"EasyList Hebrew+EasyList","homepage":"https://github.com/easylist/EasyListHebrew","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","AE0D9320-665E-407D-B692-1A85AE481F34"],"url":"https://easylist-downloads.adblockplus.org/v3/full/israellist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/israellist+easylist.txt"},{"id":"BBC07C05-66F1-42EC-BD4D-7AD495FAC84B","type":"ads","languages":["it"],"title":"EasyList Italy+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","2F0A4F0D-DF16-40D0-B0E0-5EB6791EC119"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistitaly+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistitaly+easylist.txt"},{"id":"CBE50FA2-DE3F-480C-B1D7-04289391C033","type":"ads","languages":["lt"],"title":"EasyList Lithuania+EasyList","homepage":"https://github.com/EasyList-Lithuania/easylist_lithuania","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","E89B3C08-2DED-40EA-8EE1-339B90D7B451"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistlithuania+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistlithuania+easylist.txt"},{"id":"3D2C09D0-DF1C-4C8E-9947-A23DCEAF8F8B","type":"ads","languages":["pl"],"title":"EasyList Polish+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","9F743FCD-801B-41D0-830F-5A4EA995216E"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistpolish+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistpolish+easylist.txt"},{"id":"14DF7BE6-9675-4E07-987A-D8A1000F9FEF","type":"ads","languages":["pt"],"title":"EasyList Portuguese+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","A41441EE-BF7C-4A48-9A43-42CCEA2B2A1D"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistportuguese+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistportuguese+easylist.txt"},{"id":"C3D13A19-3E8D-41F5-AD64-0F3B36DDE128","type":"ads","languages":["es"],"title":"EasyList Spanish+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","C8C1AA76-15B4-4CA3-8A9C-AD38D6AFCAEC"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistspanish+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistspanish+easylist.txt"},{"id":"25A31255-AB36-48A4-9086-06192DE71119","type":"ads","languages":["bn","gu","hi","pa","as","mr","ml","te","kn","or","ne","si"],"title":"IndianList+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","9FAA2906-CD5C-4520-BDC4-4E098B7EA228"],"url":"https://easylist-downloads.adblockplus.org/v3/full/indianlist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/indianlist+easylist.txt"},{"id":"2708BCB7-2E45-41BC-B517-1730CF532F89","type":"ads","languages":["ko"],"title":"KoreanList+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","BCE2062F-0D99-4861-A1F7-E3DFEA6DAB69"],"url":"https://easylist-downloads.adblockplus.org/v3/full/koreanlist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/koreanlist+easylist.txt"},{"id":"950C88EA-2DD1-42E3-B2A2-2DF2ED15563A","type":"ads","languages":["lv"],"title":"Latvian List+EasyList","homepage":"https://forums.lanik.us/viewforum.php?f=99-latvian-list","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","51893C6C-F39E-43C5-A2EF-9545E388A2CE"],"url":"https://easylist-downloads.adblockplus.org/v3/full/latvianlist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/latvianlist+easylist.txt"},{"id":"684A25C6-6B5D-458A-8A2B-BAC0A12B0B15","type":"ads","languages":["ar"],"title":"Liste AR+Liste FR+EasyList","homepage":"https://forums.lanik.us/viewforum.php?f=98","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","8D421590-1A68-4B68-BE50-04E17C09460E","3D60E303-1141-4775-B800-834177922876"],"url":"https://easylist-downloads.adblockplus.org/v3/full/liste_ar+liste_fr+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/liste_ar+liste_fr+easylist.txt"},{"id":"2CEA1481-C29C-44F1-A084-A2A019533797","type":"ads","languages":["fr"],"title":"Liste FR+EasyList","homepage":"https://forums.lanik.us/viewforum.php?f=98","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","8D421590-1A68-4B68-BE50-04E17C09460E"],"url":"https://easylist-downloads.adblockplus.org/v3/full/liste_fr+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/liste_fr+easylist.txt"},{"id":"EEEF75EC-B2B4-49F4-BC49-17B08266F334","type":"ads","languages":["ro"],"title":"ROList+EasyList","homepage":"https://zoso.ro/rolist/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","99166908-5FDA-4F9E-8C4C-70BB4DEEFC08"],"url":"https://easylist-downloads.adblockplus.org/v3/full/rolist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/rolist+easylist.txt"},{"id":"1B5F78CA-8B30-4BDF-B0A3-451CB2202984","type":"ads","languages":["ru","uk"],"title":"RuAdList+EasyList","homepage":"https://forums.lanik.us/viewforum.php?f=102","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","879ECB9D-8935-4506-939E-5BBB7DD09402"],"url":"https://easylist-downloads.adblockplus.org/v3/full/ruadlist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/ruadlist+easylist.txt"},{"id":"0798B6A2-94A4-4ADF-89ED-BEC112FC4C7F","type":"allowing","title":"Allow nonintrusive advertising","homepage":"https://acceptableads.com/","url":"https://easylist-downloads.adblockplus.org/v3/full/exceptionrules.txt","mv2_url":"https://easylist-downloads.adblockplus.org/exceptionrules.txt"},{"id":"D4028CDD-3D39-4624-ACC7-8140F4EC3238","type":"circumvention","title":"ABP filters","homepage":"https://github.com/abp-filters/abp-filters-anti-cv","url":"https://easylist-downloads.adblockplus.org/v3/full/abp-filters-anti-cv.txt","mv2_url":"https://easylist-downloads.adblockplus.org/abp-filters-anti-cv.txt"},{"id":"2090F374-29D9-4202-B2CE-139D6492D95E","type":"cookies","title":"I don\'t care about cookies","homepage":"https://www.i-dont-care-about-cookies.eu/","url":"https://easylist-downloads.adblockplus.org/v3/full/i_dont_care_about_cookies.txt","mv2_url":"https://easylist-downloads.adblockplus.org/i_dont_care_about_cookies.txt"},{"id":"5BD2BB73-459D-4A74-AF9D-A10157268350","type":"notifications","title":"Fanboy\'s Notifications Blocking List","homepage":"https://easylist.to/","url":"https://easylist-downloads.adblockplus.org/v3/full/fanboy-notifications.txt","mv2_url":"https://easylist-downloads.adblockplus.org/fanboy-notifications.txt"},{"id":"D72B6F06-52B2-4FED-96A2-1BF59CDD7AEC","type":"privacy","title":"EasyPrivacy","homepage":"https://easylist.to/","requires":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easyprivacy.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easyprivacy.txt"},{"id":"0A679439-445F-4DE7-84B9-88341F6DA520","type":"social","title":"Fanboy\'s Social Blocking List","homepage":"https://easylist.to/","url":"https://easylist-downloads.adblockplus.org/v3/full/fanboy-social.txt","mv2_url":"https://easylist-downloads.adblockplus.org/fanboy-social.txt"}]');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./sdk/api/index.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXdlLWFwaS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsTzs7Ozs7Ozs7O0FDVkEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQzV0TkEsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFD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OztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsZUFBZTtBQUNm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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0Qjs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7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QUNBLG1EQUFtRCxLQUFLO0FBQ3hEOztBQUVBO0FBQ0EsOENBQThDLEtBQUs7QUFDbkQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsZUFBZTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxlQUFlO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZDQUE2QyxlQUFlO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxlQUFlO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx1QkFBdUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHVCQUF1QjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx1QkFBdUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGVBQWU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyx1QkFBdUI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsUUFBUTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGVBQWU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxlQUFlO0FBQzNFOztBQUVBO0FBQ0E7QUFDQSwyREFBMkQsZUFBZTtBQUMxRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxlQUFlO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZUFBZTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxlQUFlO0FBQ3REO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixZQUFZO0FBQ1o7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFOztBQUVBO0FBQ0EsdUNBQXVDO0FBQ3ZDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFNBQVMsR0FBRyxPQUFPO0FBQzFDO0FBQ0EsY0FBYyxTQUFTLEdBQUcsTUFBTTtBQUNoQyxzRUFBc0UsYUFBYSxNQUFNLFFBQVE7O0FBRWpHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7QUMvYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxJQUFJO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDN0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsNkJBQTZCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSw2QkFBNkI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLDZCQUE2QjtBQUMxQyxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsNkJBQTZCO0FBQzFDLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxHQUFHO0FBQy9EO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDZDQUE2Qyx1QkFBdUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZDQUE2Qyx1QkFBdUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNERBQTRELEdBQUc7O0FBRS9E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QUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsaUVBQWlFO0FBQzFFO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLFNBQVMsb0NBQW9DOztBQUU3Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsZ0RBQWdEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNENBQTRDO0FBQ2hEO0FBQ0EsV0FBVyw2QkFBNkI7QUFDeEM7QUFDQSxhQUFhLGdEQUFnRDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsU0FBUywwQkFBMEI7O0FBRW5DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsa0NBQWtDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCLFVBQVUsNkJBQTZCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsdUVBQXVFO0FBQ3ZFO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywrREFBK0Q7QUFDeEU7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUyxXQUFXO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esd0JBQXdCOztBQUV4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyw0QkFBNEI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCLFVBQVUsNkJBQTZCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsU0FBUyx1QkFBdUI7O0FBRWhDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDbDlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVhOztBQUViO0FBQ0E7QUFDQTs7QUFFQSxPQUFPLE9BQU8sRUFBRSxtQkFBTyxDQUFDLGlDQUFPOztBQUUvQixPQUFPO0FBQ1Asc0JBQXNCLEVBQUUsbUJBQU8sQ0FBQyxrQ0FBUTtBQUN4QyxPQUFPLDBCQUEwQixFQUFFLG1CQUFPLENBQUMsOENBQWM7QUFDekQsT0FBTyxRQUFRLEVBQUUsbUJBQU8sQ0FBQyxvREFBaUI7QUFDMUMsT0FBTyxnQkFBZ0IsRUFBRSxtQkFBTyxDQUFDLHNEQUFrQjtBQUNuRCxPQUFPO0FBQ1AsOEJBQThCLEVBQUUsbUJBQU8sQ0FBQyxnRUFBdUI7QUFDL0QsT0FBTyxXQUFXLEVBQUUsbUJBQU8sQ0FBQyw0Q0FBYTtBQUN6QyxPQUFPLGlCQUFpQixFQUFFLG1CQUFPLENBQUMsdURBQW9CO0FBQ3RELE9BQU8saUJBQWlCLEVBQUUsbUJBQU8sQ0FBQyx3REFBbUI7O0FBRXJEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGtEQUFrRDtBQUMvRDtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLGtEQUFrRDtBQUNoRTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixrREFBa0Q7QUFDbkU7QUFDQSxhQUFhLHlDQUF5QztBQUN0RCxhQUFhLFNBQVM7QUFDdEIsZUFBZTtBQUNmO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwyQ0FBMkM7O0FBRTNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLFNBQVM7QUFDVCxxQkFBcUI7QUFDckIsWUFBWSxZQUFZOztBQUV4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0VBQXNFLGVBQWU7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7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dC1hZC1maWx0ZXJpbmctc29sdXRpb24vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2RhdGEvaWNhbm5QdWJsaWNTdWZmaXhMaXN0LmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2RhdGEvbm9uSWNhbm5QdWJsaWNTdWZmaXhMaXN0LmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2RhdGEvcmVzb3VyY2VzLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9hbmFseXRpY3MuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL2NvcmUvbGliL2NhY2hpbmcuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL2NvcmUvbGliL2NvbnRlbnRUeXBlcy5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vY29yZS9saWIvZGF0ZS5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vY29yZS9saWIvZG5yL2luZGV4LmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9kbnIvbWFwcGVyLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9kbnIvcnVsZXMuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL2NvcmUvbGliL2Rvd25sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL2NvcmUvbGliL2VsZW1IaWRlLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9lbGVtSGlkZUVtdWxhdGlvbi5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vY29yZS9saWIvZWxlbUhpZGVFeGNlcHRpb25zLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL2NvcmUvbGliL2ZlYXR1cmVzLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9maWx0ZXJDbGFzc2VzLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9maWx0ZXJFbmdpbmUuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL2NvcmUvbGliL2ZpbHRlckxpc3RlbmVyLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9maWx0ZXJOb3RpZmllci5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vY29yZS9saWIvZmlsdGVyU3RhdGUuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL2NvcmUvbGliL2ZpbHRlclN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL2NvcmUvbGliL2ZpbHRlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL2NvcmUvbGliL2ZpbHRlcnMvaW5saW5lQ3NzVmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vY29yZS9saWIvZmlsdGVycy9saXN0cy5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vY29yZS9saWIvZmlsdGVyc0J5RG9tYWluLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vY29yZS9saWIvaW5pUGFyc2VyLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9qc2JuLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9tYXRjaGVyLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9ub3RpZmljYXRpb25zLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9wYXR0ZXJucy5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vY29yZS9saWIvcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL2NvcmUvbGliL3JhbmRvbS5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vY29yZS9saWIvcmVjb21tZW5kYXRpb25zLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9yc2EuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL2NvcmUvbGliL3J1c2hhLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi9zbmlwcGV0cy5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vY29yZS9saWIvc3Vic2NyaXB0aW9uQ2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vY29yZS9saWIvc3luY2hyb25pemVyLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi90aW1lLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9jb3JlL2xpYi91cmwuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL2NvcmUvbGliL3ZlcnNpb25zLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25hdGl2ZS5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9ybmcuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9ub2RlX21vZHVsZXMvd2ViZXh0ZW5zaW9uLXBvbHlmaWxsL2Rpc3QvYnJvd3Nlci1wb2x5ZmlsbC5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vc2RrL2FwaS9hbGxvd2xpc3RpbmcuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvYnJvd3Nlci1mZWF0dXJlcy5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vc2RrL2FwaS9jZHAtbWV0cmljcy11cGxvYWRlci5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vc2RrL2FwaS9jZHAuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvY29udGVudC1maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvY29udGVudC1tZXNzYWdlLWRlZmVycmVyLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL2NvcmUuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvZGVidWdnaW5nLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL2RpYWdub3N0aWNzLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL2Ruci1maWx0ZXJzLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL2Ruci1yZXF1ZXN0LXJlcG9ydGVyLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL2ZpbHRlcnMuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvZnJhbWUtc3RhdGUuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvaWRiLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL2luZGV4LmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL2luZm8uanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvaW5pdGlhbGl6ZXIuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvaW8tYnNsLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL2lvLWlkYi5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vc2RrL2FwaS9pby5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vc2RrL2FwaS9tZXNzYWdlLXJlc3BvbmRlci5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vc2RrL2FwaS9ub3RpZmljYXRpb25zLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL3BlcnNpc3RlbmNlLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL3BvcHVwLWJsb2NrZXItYmFja2dyb3VuZC1wYWdlLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL3BvcHVwLWJsb2NrZXItc2VydmljZS13b3JrZXIuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvcHJlZnMuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvcmVwb3J0aW5nLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL3JlcXVlc3QtZmlsdGVyLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL3NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vc2RrL2FwaS9zZXQtb3BlcmF0aW9ucy5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vc2RrL2FwaS9zaXRla2V5LmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL3N1YnNjcmliZS1saW5rcy5qcyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy4vc2RrL2FwaS9zdWJzY3JpcHRpb25zLXV0aWxzLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL3N1YnNjcmlwdGlvbnMtdmFsaWRhdG9yLmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL3N1YnNjcmlwdGlvbnMuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvdGVsZW1ldHJ5LmpzIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLi9zZGsvYXBpL3Rlc3RpbmcuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9hcGkvd2ViZXh0LWJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8uL3Nkay9lcnJvcnMuanMiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL0BleWVvL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9AZXllby93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uL3dlYnBhY2svYmVmb3JlLXN0YXJ0dXAiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vQGV5ZW8vd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi93ZWJwYWNrL2FmdGVyLXN0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiRVdFXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkVXRVwiXSA9IGZhY3RvcnkoKTtcbn0pKHNlbGYsICgpID0+IHtcbnJldHVybiAiLCJleHBvcnRzLmljYW5uUHVibGljU3VmZml4ZXMgPSB7XG4gIFwiYWNcIjogMSxcbiAgXCJjb20uYWNcIjogMSxcbiAgXCJlZHUuYWNcIjogMSxcbiAgXCJnb3YuYWNcIjogMSxcbiAgXCJuZXQuYWNcIjogMSxcbiAgXCJtaWwuYWNcIjogMSxcbiAgXCJvcmcuYWNcIjogMSxcbiAgXCJhZFwiOiAxLFxuICBcIm5vbS5hZFwiOiAxLFxuICBcImFlXCI6IDEsXG4gIFwiY28uYWVcIjogMSxcbiAgXCJuZXQuYWVcIjogMSxcbiAgXCJvcmcuYWVcIjogMSxcbiAgXCJzY2guYWVcIjogMSxcbiAgXCJhYy5hZVwiOiAxLFxuICBcImdvdi5hZVwiOiAxLFxuICBcIm1pbC5hZVwiOiAxLFxuICBcImFlcm9cIjogMSxcbiAgXCJhY2NpZGVudC1pbnZlc3RpZ2F0aW9uLmFlcm9cIjogMSxcbiAgXCJhY2NpZGVudC1wcmV2ZW50aW9uLmFlcm9cIjogMSxcbiAgXCJhZXJvYmF0aWMuYWVyb1wiOiAxLFxuICBcImFlcm9jbHViLmFlcm9cIjogMSxcbiAgXCJhZXJvZHJvbWUuYWVyb1wiOiAxLFxuICBcImFnZW50cy5hZXJvXCI6IDEsXG4gIFwiYWlyY3JhZnQuYWVyb1wiOiAxLFxuICBcImFpcmxpbmUuYWVyb1wiOiAxLFxuICBcImFpcnBvcnQuYWVyb1wiOiAxLFxuICBcImFpci1zdXJ2ZWlsbGFuY2UuYWVyb1wiOiAxLFxuICBcImFpcnRyYWZmaWMuYWVyb1wiOiAxLFxuICBcImFpci10cmFmZmljLWNvbnRyb2wuYWVyb1wiOiAxLFxuICBcImFtYnVsYW5jZS5hZXJvXCI6IDEsXG4gIFwiYW11c2VtZW50LmFlcm9cIjogMSxcbiAgXCJhc3NvY2lhdGlvbi5hZXJvXCI6IDEsXG4gIFwiYXV0aG9yLmFlcm9cIjogMSxcbiAgXCJiYWxsb29uaW5nLmFlcm9cIjogMSxcbiAgXCJicm9rZXIuYWVyb1wiOiAxLFxuICBcImNhYS5hZXJvXCI6IDEsXG4gIFwiY2FyZ28uYWVyb1wiOiAxLFxuICBcImNhdGVyaW5nLmFlcm9cIjogMSxcbiAgXCJjZXJ0aWZpY2F0aW9uLmFlcm9cIjogMSxcbiAgXCJjaGFtcGlvbnNoaXAuYWVyb1wiOiAxLFxuICBcImNoYXJ0ZXIuYWVyb1wiOiAxLFxuICBcImNpdmlsYXZpYXRpb24uYWVyb1wiOiAxLFxuICBcImNsdWIuYWVyb1wiOiAxLFxuICBcImNvbmZlcmVuY2UuYWVyb1wiOiAxLFxuICBcImNvbnN1bHRhbnQuYWVyb1wiOiAxLFxuICBcImNvbnN1bHRpbmcuYWVyb1wiOiAxLFxuICBcImNvbnRyb2wuYWVyb1wiOiAxLFxuICBcImNvdW5jaWwuYWVyb1wiOiAxLFxuICBcImNyZXcuYWVyb1wiOiAxLFxuICBcImRlc2lnbi5hZXJvXCI6IDEsXG4gIFwiZGdjYS5hZXJvXCI6IDEsXG4gIFwiZWR1Y2F0b3IuYWVyb1wiOiAxLFxuICBcImVtZXJnZW5jeS5hZXJvXCI6IDEsXG4gIFwiZW5naW5lLmFlcm9cIjogMSxcbiAgXCJlbmdpbmVlci5hZXJvXCI6IDEsXG4gIFwiZW50ZXJ0YWlubWVudC5hZXJvXCI6IDEsXG4gIFwiZXF1aXBtZW50LmFlcm9cIjogMSxcbiAgXCJleGNoYW5nZS5hZXJvXCI6IDEsXG4gIFwiZXhwcmVzcy5hZXJvXCI6IDEsXG4gIFwiZmVkZXJhdGlvbi5hZXJvXCI6IDEsXG4gIFwiZmxpZ2h0LmFlcm9cIjogMSxcbiAgXCJmdWVsLmFlcm9cIjogMSxcbiAgXCJnbGlkaW5nLmFlcm9cIjogMSxcbiAgXCJnb3Zlcm5tZW50LmFlcm9cIjogMSxcbiAgXCJncm91bmRoYW5kbGluZy5hZXJvXCI6IDEsXG4gIFwiZ3JvdXAuYWVyb1wiOiAxLFxuICBcImhhbmdnbGlkaW5nLmFlcm9cIjogMSxcbiAgXCJob21lYnVpbHQuYWVyb1wiOiAxLFxuICBcImluc3VyYW5jZS5hZXJvXCI6IDEsXG4gIFwiam91cm5hbC5hZXJvXCI6IDEsXG4gIFwiam91cm5hbGlzdC5hZXJvXCI6IDEsXG4gIFwibGVhc2luZy5hZXJvXCI6IDEsXG4gIFwibG9naXN0aWNzLmFlcm9cIjogMSxcbiAgXCJtYWdhemluZS5hZXJvXCI6IDEsXG4gIFwibWFpbnRlbmFuY2UuYWVyb1wiOiAxLFxuICBcIm1lZGlhLmFlcm9cIjogMSxcbiAgXCJtaWNyb2xpZ2h0LmFlcm9cIjogMSxcbiAgXCJtb2RlbGxpbmcuYWVyb1wiOiAxLFxuICBcIm5hdmlnYXRpb24uYWVyb1wiOiAxLFxuICBcInBhcmFjaHV0aW5nLmFlcm9cIjogMSxcbiAgXCJwYXJhZ2xpZGluZy5hZXJvXCI6IDEsXG4gIFwicGFzc2VuZ2VyLWFzc29jaWF0aW9uLmFlcm9cIjogMSxcbiAgXCJwaWxvdC5hZXJvXCI6IDEsXG4gIFwicHJlc3MuYWVyb1wiOiAxLFxuICBcInByb2R1Y3Rpb24uYWVyb1wiOiAxLFxuICBcInJlY3JlYXRpb24uYWVyb1wiOiAxLFxuICBcInJlcGJvZHkuYWVyb1wiOiAxLFxuICBcInJlcy5hZXJvXCI6IDEsXG4gIFwicmVzZWFyY2guYWVyb1wiOiAxLFxuICBcInJvdG9yY3JhZnQuYWVyb1wiOiAxLFxuICBcInNhZmV0eS5hZXJvXCI6IDEsXG4gIFwic2NpZW50aXN0LmFlcm9cIjogMSxcbiAgXCJzZXJ2aWNlcy5hZXJvXCI6IDEsXG4gIFwic2hvdy5hZXJvXCI6IDEsXG4gIFwic2t5ZGl2aW5nLmFlcm9cIjogMSxcbiAgXCJzb2Z0d2FyZS5hZXJvXCI6IDEsXG4gIFwic3R1ZGVudC5hZXJvXCI6IDEsXG4gIFwidHJhZGVyLmFlcm9cIjogMSxcbiAgXCJ0cmFkaW5nLmFlcm9cIjogMSxcbiAgXCJ0cmFpbmVyLmFlcm9cIjogMSxcbiAgXCJ1bmlvbi5hZXJvXCI6IDEsXG4gIFwid29ya2luZ2dyb3VwLmFlcm9cIjogMSxcbiAgXCJ3b3Jrcy5hZXJvXCI6IDEsXG4gIFwiYWZcIjogMSxcbiAgXCJnb3YuYWZcIjogMSxcbiAgXCJjb20uYWZcIjogMSxcbiAgXCJvcmcuYWZcIjogMSxcbiAgXCJuZXQuYWZcIjogMSxcbiAgXCJlZHUuYWZcIjogMSxcbiAgXCJhZ1wiOiAxLFxuICBcImNvbS5hZ1wiOiAxLFxuICBcIm9yZy5hZ1wiOiAxLFxuICBcIm5ldC5hZ1wiOiAxLFxuICBcImNvLmFnXCI6IDEsXG4gIFwibm9tLmFnXCI6IDEsXG4gIFwiYWlcIjogMSxcbiAgXCJvZmYuYWlcIjogMSxcbiAgXCJjb20uYWlcIjogMSxcbiAgXCJuZXQuYWlcIjogMSxcbiAgXCJvcmcuYWlcIjogMSxcbiAgXCJhbFwiOiAxLFxuICBcImNvbS5hbFwiOiAxLFxuICBcImVkdS5hbFwiOiAxLFxuICBcImdvdi5hbFwiOiAxLFxuICBcIm1pbC5hbFwiOiAxLFxuICBcIm5ldC5hbFwiOiAxLFxuICBcIm9yZy5hbFwiOiAxLFxuICBcImFtXCI6IDEsXG4gIFwiY28uYW1cIjogMSxcbiAgXCJjb20uYW1cIjogMSxcbiAgXCJjb21tdW5lLmFtXCI6IDEsXG4gIFwibmV0LmFtXCI6IDEsXG4gIFwib3JnLmFtXCI6IDEsXG4gIFwiYW9cIjogMSxcbiAgXCJlZC5hb1wiOiAxLFxuICBcImd2LmFvXCI6IDEsXG4gIFwib2cuYW9cIjogMSxcbiAgXCJjby5hb1wiOiAxLFxuICBcInBiLmFvXCI6IDEsXG4gIFwiaXQuYW9cIjogMSxcbiAgXCJhcVwiOiAxLFxuICBcImFyXCI6IDEsXG4gIFwiYmV0LmFyXCI6IDEsXG4gIFwiY29tLmFyXCI6IDEsXG4gIFwiY29vcC5hclwiOiAxLFxuICBcImVkdS5hclwiOiAxLFxuICBcImdvYi5hclwiOiAxLFxuICBcImdvdi5hclwiOiAxLFxuICBcImludC5hclwiOiAxLFxuICBcIm1pbC5hclwiOiAxLFxuICBcIm11c2ljYS5hclwiOiAxLFxuICBcIm11dHVhbC5hclwiOiAxLFxuICBcIm5ldC5hclwiOiAxLFxuICBcIm9yZy5hclwiOiAxLFxuICBcInNlbmFzYS5hclwiOiAxLFxuICBcInR1ci5hclwiOiAxLFxuICBcImFycGFcIjogMSxcbiAgXCJlMTY0LmFycGFcIjogMSxcbiAgXCJpbi1hZGRyLmFycGFcIjogMSxcbiAgXCJpcDYuYXJwYVwiOiAxLFxuICBcImlyaXMuYXJwYVwiOiAxLFxuICBcInVyaS5hcnBhXCI6IDEsXG4gIFwidXJuLmFycGFcIjogMSxcbiAgXCJhc1wiOiAxLFxuICBcImdvdi5hc1wiOiAxLFxuICBcImFzaWFcIjogMSxcbiAgXCJhdFwiOiAxLFxuICBcImFjLmF0XCI6IDEsXG4gIFwiY28uYXRcIjogMSxcbiAgXCJndi5hdFwiOiAxLFxuICBcIm9yLmF0XCI6IDEsXG4gIFwic3RoLmFjLmF0XCI6IDEsXG4gIFwiYXVcIjogMSxcbiAgXCJjb20uYXVcIjogMSxcbiAgXCJuZXQuYXVcIjogMSxcbiAgXCJvcmcuYXVcIjogMSxcbiAgXCJlZHUuYXVcIjogMSxcbiAgXCJnb3YuYXVcIjogMSxcbiAgXCJhc24uYXVcIjogMSxcbiAgXCJpZC5hdVwiOiAxLFxuICBcImluZm8uYXVcIjogMSxcbiAgXCJjb25mLmF1XCI6IDEsXG4gIFwib3ouYXVcIjogMSxcbiAgXCJhY3QuYXVcIjogMSxcbiAgXCJuc3cuYXVcIjogMSxcbiAgXCJudC5hdVwiOiAxLFxuICBcInFsZC5hdVwiOiAxLFxuICBcInNhLmF1XCI6IDEsXG4gIFwidGFzLmF1XCI6IDEsXG4gIFwidmljLmF1XCI6IDEsXG4gIFwid2EuYXVcIjogMSxcbiAgXCJhY3QuZWR1LmF1XCI6IDEsXG4gIFwiY2F0aG9saWMuZWR1LmF1XCI6IDEsXG4gIFwibnN3LmVkdS5hdVwiOiAxLFxuICBcIm50LmVkdS5hdVwiOiAxLFxuICBcInFsZC5lZHUuYXVcIjogMSxcbiAgXCJzYS5lZHUuYXVcIjogMSxcbiAgXCJ0YXMuZWR1LmF1XCI6IDEsXG4gIFwidmljLmVkdS5hdVwiOiAxLFxuICBcIndhLmVkdS5hdVwiOiAxLFxuICBcInFsZC5nb3YuYXVcIjogMSxcbiAgXCJzYS5nb3YuYXVcIjogMSxcbiAgXCJ0YXMuZ292LmF1XCI6IDEsXG4gIFwidmljLmdvdi5hdVwiOiAxLFxuICBcIndhLmdvdi5hdVwiOiAxLFxuICBcInNjaG9vbHMubnN3LmVkdS5hdVwiOiAxLFxuICBcImF3XCI6IDEsXG4gIFwiY29tLmF3XCI6IDEsXG4gIFwiYXhcIjogMSxcbiAgXCJhelwiOiAxLFxuICBcImNvbS5helwiOiAxLFxuICBcIm5ldC5helwiOiAxLFxuICBcImludC5helwiOiAxLFxuICBcImdvdi5helwiOiAxLFxuICBcIm9yZy5helwiOiAxLFxuICBcImVkdS5helwiOiAxLFxuICBcImluZm8uYXpcIjogMSxcbiAgXCJwcC5helwiOiAxLFxuICBcIm1pbC5helwiOiAxLFxuICBcIm5hbWUuYXpcIjogMSxcbiAgXCJwcm8uYXpcIjogMSxcbiAgXCJiaXouYXpcIjogMSxcbiAgXCJiYVwiOiAxLFxuICBcImNvbS5iYVwiOiAxLFxuICBcImVkdS5iYVwiOiAxLFxuICBcImdvdi5iYVwiOiAxLFxuICBcIm1pbC5iYVwiOiAxLFxuICBcIm5ldC5iYVwiOiAxLFxuICBcIm9yZy5iYVwiOiAxLFxuICBcImJiXCI6IDEsXG4gIFwiYml6LmJiXCI6IDEsXG4gIFwiY28uYmJcIjogMSxcbiAgXCJjb20uYmJcIjogMSxcbiAgXCJlZHUuYmJcIjogMSxcbiAgXCJnb3YuYmJcIjogMSxcbiAgXCJpbmZvLmJiXCI6IDEsXG4gIFwibmV0LmJiXCI6IDEsXG4gIFwib3JnLmJiXCI6IDEsXG4gIFwic3RvcmUuYmJcIjogMSxcbiAgXCJ0di5iYlwiOiAxLFxuICBcImJkXCI6IDIsXG4gIFwiYmVcIjogMSxcbiAgXCJhYy5iZVwiOiAxLFxuICBcImJmXCI6IDEsXG4gIFwiZ292LmJmXCI6IDEsXG4gIFwiYmdcIjogMSxcbiAgXCJhLmJnXCI6IDEsXG4gIFwiYi5iZ1wiOiAxLFxuICBcImMuYmdcIjogMSxcbiAgXCJkLmJnXCI6IDEsXG4gIFwiZS5iZ1wiOiAxLFxuICBcImYuYmdcIjogMSxcbiAgXCJnLmJnXCI6IDEsXG4gIFwiaC5iZ1wiOiAxLFxuICBcImkuYmdcIjogMSxcbiAgXCJqLmJnXCI6IDEsXG4gIFwiay5iZ1wiOiAxLFxuICBcImwuYmdcIjogMSxcbiAgXCJtLmJnXCI6IDEsXG4gIFwibi5iZ1wiOiAxLFxuICBcIm8uYmdcIjogMSxcbiAgXCJwLmJnXCI6IDEsXG4gIFwicS5iZ1wiOiAxLFxuICBcInIuYmdcIjogMSxcbiAgXCJzLmJnXCI6IDEsXG4gIFwidC5iZ1wiOiAxLFxuICBcInUuYmdcIjogMSxcbiAgXCJ2LmJnXCI6IDEsXG4gIFwidy5iZ1wiOiAxLFxuICBcInguYmdcIjogMSxcbiAgXCJ5LmJnXCI6IDEsXG4gIFwiei5iZ1wiOiAxLFxuICBcIjAuYmdcIjogMSxcbiAgXCIxLmJnXCI6IDEsXG4gIFwiMi5iZ1wiOiAxLFxuICBcIjMuYmdcIjogMSxcbiAgXCI0LmJnXCI6IDEsXG4gIFwiNS5iZ1wiOiAxLFxuICBcIjYuYmdcIjogMSxcbiAgXCI3LmJnXCI6IDEsXG4gIFwiOC5iZ1wiOiAxLFxuICBcIjkuYmdcIjogMSxcbiAgXCJiaFwiOiAxLFxuICBcImNvbS5iaFwiOiAxLFxuICBcImVkdS5iaFwiOiAxLFxuICBcIm5ldC5iaFwiOiAxLFxuICBcIm9yZy5iaFwiOiAxLFxuICBcImdvdi5iaFwiOiAxLFxuICBcImJpXCI6IDEsXG4gIFwiY28uYmlcIjogMSxcbiAgXCJjb20uYmlcIjogMSxcbiAgXCJlZHUuYmlcIjogMSxcbiAgXCJvci5iaVwiOiAxLFxuICBcIm9yZy5iaVwiOiAxLFxuICBcImJpelwiOiAxLFxuICBcImJqXCI6IDEsXG4gIFwiYWZyaWNhLmJqXCI6IDEsXG4gIFwiYWdyby5ialwiOiAxLFxuICBcImFyY2hpdGVjdGVzLmJqXCI6IDEsXG4gIFwiYXNzdXIuYmpcIjogMSxcbiAgXCJhdm9jYXRzLmJqXCI6IDEsXG4gIFwiY28uYmpcIjogMSxcbiAgXCJjb20uYmpcIjogMSxcbiAgXCJlY28uYmpcIjogMSxcbiAgXCJlY29uby5ialwiOiAxLFxuICBcImVkdS5ialwiOiAxLFxuICBcImluZm8uYmpcIjogMSxcbiAgXCJsb2lzaXJzLmJqXCI6IDEsXG4gIFwibW9uZXkuYmpcIjogMSxcbiAgXCJuZXQuYmpcIjogMSxcbiAgXCJvcmcuYmpcIjogMSxcbiAgXCJvdGUuYmpcIjogMSxcbiAgXCJyZXN0by5ialwiOiAxLFxuICBcInJlc3RhdXJhbnQuYmpcIjogMSxcbiAgXCJ0b3VyaXNtLmJqXCI6IDEsXG4gIFwidW5pdi5ialwiOiAxLFxuICBcImJtXCI6IDEsXG4gIFwiY29tLmJtXCI6IDEsXG4gIFwiZWR1LmJtXCI6IDEsXG4gIFwiZ292LmJtXCI6IDEsXG4gIFwibmV0LmJtXCI6IDEsXG4gIFwib3JnLmJtXCI6IDEsXG4gIFwiYm5cIjogMSxcbiAgXCJjb20uYm5cIjogMSxcbiAgXCJlZHUuYm5cIjogMSxcbiAgXCJnb3YuYm5cIjogMSxcbiAgXCJuZXQuYm5cIjogMSxcbiAgXCJvcmcuYm5cIjogMSxcbiAgXCJib1wiOiAxLFxuICBcImNvbS5ib1wiOiAxLFxuICBcImVkdS5ib1wiOiAxLFxuICBcImdvYi5ib1wiOiAxLFxuICBcImludC5ib1wiOiAxLFxuICBcIm9yZy5ib1wiOiAxLFxuICBcIm5ldC5ib1wiOiAxLFxuICBcIm1pbC5ib1wiOiAxLFxuICBcInR2LmJvXCI6IDEsXG4gIFwid2ViLmJvXCI6IDEsXG4gIFwiYWNhZGVtaWEuYm9cIjogMSxcbiAgXCJhZ3JvLmJvXCI6IDEsXG4gIFwiYXJ0ZS5ib1wiOiAxLFxuICBcImJsb2cuYm9cIjogMSxcbiAgXCJib2xpdmlhLmJvXCI6IDEsXG4gIFwiY2llbmNpYS5ib1wiOiAxLFxuICBcImNvb3BlcmF0aXZhLmJvXCI6IDEsXG4gIFwiZGVtb2NyYWNpYS5ib1wiOiAxLFxuICBcImRlcG9ydGUuYm9cIjogMSxcbiAgXCJlY29sb2dpYS5ib1wiOiAxLFxuICBcImVjb25vbWlhLmJvXCI6IDEsXG4gIFwiZW1wcmVzYS5ib1wiOiAxLFxuICBcImluZGlnZW5hLmJvXCI6IDEsXG4gIFwiaW5kdXN0cmlhLmJvXCI6IDEsXG4gIFwiaW5mby5ib1wiOiAxLFxuICBcIm1lZGljaW5hLmJvXCI6IDEsXG4gIFwibW92aW1pZW50by5ib1wiOiAxLFxuICBcIm11c2ljYS5ib1wiOiAxLFxuICBcIm5hdHVyYWwuYm9cIjogMSxcbiAgXCJub21icmUuYm9cIjogMSxcbiAgXCJub3RpY2lhcy5ib1wiOiAxLFxuICBcInBhdHJpYS5ib1wiOiAxLFxuICBcInBvbGl0aWNhLmJvXCI6IDEsXG4gIFwicHJvZmVzaW9uYWwuYm9cIjogMSxcbiAgXCJwbHVyaW5hY2lvbmFsLmJvXCI6IDEsXG4gIFwicHVlYmxvLmJvXCI6IDEsXG4gIFwicmV2aXN0YS5ib1wiOiAxLFxuICBcInNhbHVkLmJvXCI6IDEsXG4gIFwidGVjbm9sb2dpYS5ib1wiOiAxLFxuICBcInRrc2F0LmJvXCI6IDEsXG4gIFwidHJhbnNwb3J0ZS5ib1wiOiAxLFxuICBcIndpa2kuYm9cIjogMSxcbiAgXCJiclwiOiAxLFxuICBcIjlndWFjdS5iclwiOiAxLFxuICBcImFiYy5iclwiOiAxLFxuICBcImFkbS5iclwiOiAxLFxuICBcImFkdi5iclwiOiAxLFxuICBcImFnci5iclwiOiAxLFxuICBcImFqdS5iclwiOiAxLFxuICBcImFtLmJyXCI6IDEsXG4gIFwiYW5hbmkuYnJcIjogMSxcbiAgXCJhcGFyZWNpZGEuYnJcIjogMSxcbiAgXCJhcHAuYnJcIjogMSxcbiAgXCJhcnEuYnJcIjogMSxcbiAgXCJhcnQuYnJcIjogMSxcbiAgXCJhdG8uYnJcIjogMSxcbiAgXCJiLmJyXCI6IDEsXG4gIFwiYmFydWVyaS5iclwiOiAxLFxuICBcImJlbGVtLmJyXCI6IDEsXG4gIFwiYmh6LmJyXCI6IDEsXG4gIFwiYmliLmJyXCI6IDEsXG4gIFwiYmlvLmJyXCI6IDEsXG4gIFwiYmxvZy5iclwiOiAxLFxuICBcImJtZC5iclwiOiAxLFxuICBcImJvYXZpc3RhLmJyXCI6IDEsXG4gIFwiYnNiLmJyXCI6IDEsXG4gIFwiY2FtcGluYWdyYW5kZS5iclwiOiAxLFxuICBcImNhbXBpbmFzLmJyXCI6IDEsXG4gIFwiY2F4aWFzLmJyXCI6IDEsXG4gIFwiY2ltLmJyXCI6IDEsXG4gIFwiY25nLmJyXCI6IDEsXG4gIFwiY250LmJyXCI6IDEsXG4gIFwiY29tLmJyXCI6IDEsXG4gIFwiY29udGFnZW0uYnJcIjogMSxcbiAgXCJjb29wLmJyXCI6IDEsXG4gIFwiY296LmJyXCI6IDEsXG4gIFwiY3JpLmJyXCI6IDEsXG4gIFwiY3VpYWJhLmJyXCI6IDEsXG4gIFwiY3VyaXRpYmEuYnJcIjogMSxcbiAgXCJkZWYuYnJcIjogMSxcbiAgXCJkZXMuYnJcIjogMSxcbiAgXCJkZXQuYnJcIjogMSxcbiAgXCJkZXYuYnJcIjogMSxcbiAgXCJlY24uYnJcIjogMSxcbiAgXCJlY28uYnJcIjogMSxcbiAgXCJlZHUuYnJcIjogMSxcbiAgXCJlbXAuYnJcIjogMSxcbiAgXCJlbmYuYnJcIjogMSxcbiAgXCJlbmcuYnJcIjogMSxcbiAgXCJlc3AuYnJcIjogMSxcbiAgXCJldGMuYnJcIjogMSxcbiAgXCJldGkuYnJcIjogMSxcbiAgXCJmYXIuYnJcIjogMSxcbiAgXCJmZWlyYS5iclwiOiAxLFxuICBcImZsb2cuYnJcIjogMSxcbiAgXCJmbG9yaXBhLmJyXCI6IDEsXG4gIFwiZm0uYnJcIjogMSxcbiAgXCJmbmQuYnJcIjogMSxcbiAgXCJmb3J0YWwuYnJcIjogMSxcbiAgXCJmb3QuYnJcIjogMSxcbiAgXCJmb3ouYnJcIjogMSxcbiAgXCJmc3QuYnJcIjogMSxcbiAgXCJnMTIuYnJcIjogMSxcbiAgXCJnZW8uYnJcIjogMSxcbiAgXCJnZ2YuYnJcIjogMSxcbiAgXCJnb2lhbmlhLmJyXCI6IDEsXG4gIFwiZ292LmJyXCI6IDEsXG4gIFwiYWMuZ292LmJyXCI6IDEsXG4gIFwiYWwuZ292LmJyXCI6IDEsXG4gIFwiYW0uZ292LmJyXCI6IDEsXG4gIFwiYXAuZ292LmJyXCI6IDEsXG4gIFwiYmEuZ292LmJyXCI6IDEsXG4gIFwiY2UuZ292LmJyXCI6IDEsXG4gIFwiZGYuZ292LmJyXCI6IDEsXG4gIFwiZXMuZ292LmJyXCI6IDEsXG4gIFwiZ28uZ292LmJyXCI6IDEsXG4gIFwibWEuZ292LmJyXCI6IDEsXG4gIFwibWcuZ292LmJyXCI6IDEsXG4gIFwibXMuZ292LmJyXCI6IDEsXG4gIFwibXQuZ292LmJyXCI6IDEsXG4gIFwicGEuZ292LmJyXCI6IDEsXG4gIFwicGIuZ292LmJyXCI6IDEsXG4gIFwicGUuZ292LmJyXCI6IDEsXG4gIFwicGkuZ292LmJyXCI6IDEsXG4gIFwicHIuZ292LmJyXCI6IDEsXG4gIFwicmouZ292LmJyXCI6IDEsXG4gIFwicm4uZ292LmJyXCI6IDEsXG4gIFwicm8uZ292LmJyXCI6IDEsXG4gIFwicnIuZ292LmJyXCI6IDEsXG4gIFwicnMuZ292LmJyXCI6IDEsXG4gIFwic2MuZ292LmJyXCI6IDEsXG4gIFwic2UuZ292LmJyXCI6IDEsXG4gIFwic3AuZ292LmJyXCI6IDEsXG4gIFwidG8uZ292LmJyXCI6IDEsXG4gIFwiZ3J1LmJyXCI6IDEsXG4gIFwiaW1iLmJyXCI6IDEsXG4gIFwiaW5kLmJyXCI6IDEsXG4gIFwiaW5mLmJyXCI6IDEsXG4gIFwiamFiLmJyXCI6IDEsXG4gIFwiamFtcGEuYnJcIjogMSxcbiAgXCJqZGYuYnJcIjogMSxcbiAgXCJqb2ludmlsbGUuYnJcIjogMSxcbiAgXCJqb3IuYnJcIjogMSxcbiAgXCJqdXMuYnJcIjogMSxcbiAgXCJsZWcuYnJcIjogMSxcbiAgXCJsZWwuYnJcIjogMSxcbiAgXCJsb2cuYnJcIjogMSxcbiAgXCJsb25kcmluYS5iclwiOiAxLFxuICBcIm1hY2FwYS5iclwiOiAxLFxuICBcIm1hY2Vpby5iclwiOiAxLFxuICBcIm1hbmF1cy5iclwiOiAxLFxuICBcIm1hcmluZ2EuYnJcIjogMSxcbiAgXCJtYXQuYnJcIjogMSxcbiAgXCJtZWQuYnJcIjogMSxcbiAgXCJtaWwuYnJcIjogMSxcbiAgXCJtb3JlbmEuYnJcIjogMSxcbiAgXCJtcC5iclwiOiAxLFxuICBcIm11cy5iclwiOiAxLFxuICBcIm5hdGFsLmJyXCI6IDEsXG4gIFwibmV0LmJyXCI6IDEsXG4gIFwibml0ZXJvaS5iclwiOiAxLFxuICBcIm5vbS5iclwiOiAyLFxuICBcIm5vdC5iclwiOiAxLFxuICBcIm50ci5iclwiOiAxLFxuICBcIm9kby5iclwiOiAxLFxuICBcIm9uZy5iclwiOiAxLFxuICBcIm9yZy5iclwiOiAxLFxuICBcIm9zYXNjby5iclwiOiAxLFxuICBcInBhbG1hcy5iclwiOiAxLFxuICBcInBvYS5iclwiOiAxLFxuICBcInBwZy5iclwiOiAxLFxuICBcInByby5iclwiOiAxLFxuICBcInBzYy5iclwiOiAxLFxuICBcInBzaS5iclwiOiAxLFxuICBcInB2aC5iclwiOiAxLFxuICBcInFzbC5iclwiOiAxLFxuICBcInJhZGlvLmJyXCI6IDEsXG4gIFwicmVjLmJyXCI6IDEsXG4gIFwicmVjaWZlLmJyXCI6IDEsXG4gIFwicmVwLmJyXCI6IDEsXG4gIFwicmliZWlyYW8uYnJcIjogMSxcbiAgXCJyaW8uYnJcIjogMSxcbiAgXCJyaW9icmFuY28uYnJcIjogMSxcbiAgXCJyaW9wcmV0by5iclwiOiAxLFxuICBcInNhbHZhZG9yLmJyXCI6IDEsXG4gIFwic2FtcGEuYnJcIjogMSxcbiAgXCJzYW50YW1hcmlhLmJyXCI6IDEsXG4gIFwic2FudG9hbmRyZS5iclwiOiAxLFxuICBcInNhb2Jlcm5hcmRvLmJyXCI6IDEsXG4gIFwic2FvZ29uY2EuYnJcIjogMSxcbiAgXCJzZWcuYnJcIjogMSxcbiAgXCJzamMuYnJcIjogMSxcbiAgXCJzbGcuYnJcIjogMSxcbiAgXCJzbHouYnJcIjogMSxcbiAgXCJzb3JvY2FiYS5iclwiOiAxLFxuICBcInNydi5iclwiOiAxLFxuICBcInRheGkuYnJcIjogMSxcbiAgXCJ0Yy5iclwiOiAxLFxuICBcInRlYy5iclwiOiAxLFxuICBcInRlby5iclwiOiAxLFxuICBcInRoZS5iclwiOiAxLFxuICBcInRtcC5iclwiOiAxLFxuICBcInRyZC5iclwiOiAxLFxuICBcInR1ci5iclwiOiAxLFxuICBcInR2LmJyXCI6IDEsXG4gIFwidWRpLmJyXCI6IDEsXG4gIFwidmV0LmJyXCI6IDEsXG4gIFwidml4LmJyXCI6IDEsXG4gIFwidmxvZy5iclwiOiAxLFxuICBcIndpa2kuYnJcIjogMSxcbiAgXCJ6bGcuYnJcIjogMSxcbiAgXCJic1wiOiAxLFxuICBcImNvbS5ic1wiOiAxLFxuICBcIm5ldC5ic1wiOiAxLFxuICBcIm9yZy5ic1wiOiAxLFxuICBcImVkdS5ic1wiOiAxLFxuICBcImdvdi5ic1wiOiAxLFxuICBcImJ0XCI6IDEsXG4gIFwiY29tLmJ0XCI6IDEsXG4gIFwiZWR1LmJ0XCI6IDEsXG4gIFwiZ292LmJ0XCI6IDEsXG4gIFwibmV0LmJ0XCI6IDEsXG4gIFwib3JnLmJ0XCI6IDEsXG4gIFwiYnZcIjogMSxcbiAgXCJid1wiOiAxLFxuICBcImNvLmJ3XCI6IDEsXG4gIFwib3JnLmJ3XCI6IDEsXG4gIFwiYnlcIjogMSxcbiAgXCJnb3YuYnlcIjogMSxcbiAgXCJtaWwuYnlcIjogMSxcbiAgXCJjb20uYnlcIjogMSxcbiAgXCJvZi5ieVwiOiAxLFxuICBcImJ6XCI6IDEsXG4gIFwiY29tLmJ6XCI6IDEsXG4gIFwibmV0LmJ6XCI6IDEsXG4gIFwib3JnLmJ6XCI6IDEsXG4gIFwiZWR1LmJ6XCI6IDEsXG4gIFwiZ292LmJ6XCI6IDEsXG4gIFwiY2FcIjogMSxcbiAgXCJhYi5jYVwiOiAxLFxuICBcImJjLmNhXCI6IDEsXG4gIFwibWIuY2FcIjogMSxcbiAgXCJuYi5jYVwiOiAxLFxuICBcIm5mLmNhXCI6IDEsXG4gIFwibmwuY2FcIjogMSxcbiAgXCJucy5jYVwiOiAxLFxuICBcIm50LmNhXCI6IDEsXG4gIFwibnUuY2FcIjogMSxcbiAgXCJvbi5jYVwiOiAxLFxuICBcInBlLmNhXCI6IDEsXG4gIFwicWMuY2FcIjogMSxcbiAgXCJzay5jYVwiOiAxLFxuICBcInlrLmNhXCI6IDEsXG4gIFwiZ2MuY2FcIjogMSxcbiAgXCJjYXRcIjogMSxcbiAgXCJjY1wiOiAxLFxuICBcImNkXCI6IDEsXG4gIFwiZ292LmNkXCI6IDEsXG4gIFwiY2ZcIjogMSxcbiAgXCJjZ1wiOiAxLFxuICBcImNoXCI6IDEsXG4gIFwiY2lcIjogMSxcbiAgXCJvcmcuY2lcIjogMSxcbiAgXCJvci5jaVwiOiAxLFxuICBcImNvbS5jaVwiOiAxLFxuICBcImNvLmNpXCI6IDEsXG4gIFwiZWR1LmNpXCI6IDEsXG4gIFwiZWQuY2lcIjogMSxcbiAgXCJhYy5jaVwiOiAxLFxuICBcIm5ldC5jaVwiOiAxLFxuICBcImdvLmNpXCI6IDEsXG4gIFwiYXNzby5jaVwiOiAxLFxuICBcInhuLS1hcm9wb3J0LWJ5YS5jaVwiOiAxLFxuICBcImludC5jaVwiOiAxLFxuICBcInByZXNzZS5jaVwiOiAxLFxuICBcIm1kLmNpXCI6IDEsXG4gIFwiZ291di5jaVwiOiAxLFxuICBcImNrXCI6IDIsXG4gIFwid3d3LmNrXCI6IDAsXG4gIFwiY2xcIjogMSxcbiAgXCJjby5jbFwiOiAxLFxuICBcImdvYi5jbFwiOiAxLFxuICBcImdvdi5jbFwiOiAxLFxuICBcIm1pbC5jbFwiOiAxLFxuICBcImNtXCI6IDEsXG4gIFwiY28uY21cIjogMSxcbiAgXCJjb20uY21cIjogMSxcbiAgXCJnb3YuY21cIjogMSxcbiAgXCJuZXQuY21cIjogMSxcbiAgXCJjblwiOiAxLFxuICBcImFjLmNuXCI6IDEsXG4gIFwiY29tLmNuXCI6IDEsXG4gIFwiZWR1LmNuXCI6IDEsXG4gIFwiZ292LmNuXCI6IDEsXG4gIFwibmV0LmNuXCI6IDEsXG4gIFwib3JnLmNuXCI6IDEsXG4gIFwibWlsLmNuXCI6IDEsXG4gIFwieG4tLTU1cXg1ZC5jblwiOiAxLFxuICBcInhuLS1pbzBhN2kuY25cIjogMSxcbiAgXCJ4bi0tb2QwYWxnLmNuXCI6IDEsXG4gIFwiYWguY25cIjogMSxcbiAgXCJiai5jblwiOiAxLFxuICBcImNxLmNuXCI6IDEsXG4gIFwiZmouY25cIjogMSxcbiAgXCJnZC5jblwiOiAxLFxuICBcImdzLmNuXCI6IDEsXG4gIFwiZ3ouY25cIjogMSxcbiAgXCJneC5jblwiOiAxLFxuICBcImhhLmNuXCI6IDEsXG4gIFwiaGIuY25cIjogMSxcbiAgXCJoZS5jblwiOiAxLFxuICBcImhpLmNuXCI6IDEsXG4gIFwiaGwuY25cIjogMSxcbiAgXCJobi5jblwiOiAxLFxuICBcImpsLmNuXCI6IDEsXG4gIFwianMuY25cIjogMSxcbiAgXCJqeC5jblwiOiAxLFxuICBcImxuLmNuXCI6IDEsXG4gIFwibm0uY25cIjogMSxcbiAgXCJueC5jblwiOiAxLFxuICBcInFoLmNuXCI6IDEsXG4gIFwic2MuY25cIjogMSxcbiAgXCJzZC5jblwiOiAxLFxuICBcInNoLmNuXCI6IDEsXG4gIFwic24uY25cIjogMSxcbiAgXCJzeC5jblwiOiAxLFxuICBcInRqLmNuXCI6IDEsXG4gIFwieGouY25cIjogMSxcbiAgXCJ4ei5jblwiOiAxLFxuICBcInluLmNuXCI6IDEsXG4gIFwiemouY25cIjogMSxcbiAgXCJoay5jblwiOiAxLFxuICBcIm1vLmNuXCI6IDEsXG4gIFwidHcuY25cIjogMSxcbiAgXCJjb1wiOiAxLFxuICBcImFydHMuY29cIjogMSxcbiAgXCJjb20uY29cIjogMSxcbiAgXCJlZHUuY29cIjogMSxcbiAgXCJmaXJtLmNvXCI6IDEsXG4gIFwiZ292LmNvXCI6IDEsXG4gIFwiaW5mby5jb1wiOiAxLFxuICBcImludC5jb1wiOiAxLFxuICBcIm1pbC5jb1wiOiAxLFxuICBcIm5ldC5jb1wiOiAxLFxuICBcIm5vbS5jb1wiOiAxLFxuICBcIm9yZy5jb1wiOiAxLFxuICBcInJlYy5jb1wiOiAxLFxuICBcIndlYi5jb1wiOiAxLFxuICBcImNvbVwiOiAxLFxuICBcImNvb3BcIjogMSxcbiAgXCJjclwiOiAxLFxuICBcImFjLmNyXCI6IDEsXG4gIFwiY28uY3JcIjogMSxcbiAgXCJlZC5jclwiOiAxLFxuICBcImZpLmNyXCI6IDEsXG4gIFwiZ28uY3JcIjogMSxcbiAgXCJvci5jclwiOiAxLFxuICBcInNhLmNyXCI6IDEsXG4gIFwiY3VcIjogMSxcbiAgXCJjb20uY3VcIjogMSxcbiAgXCJlZHUuY3VcIjogMSxcbiAgXCJvcmcuY3VcIjogMSxcbiAgXCJuZXQuY3VcIjogMSxcbiAgXCJnb3YuY3VcIjogMSxcbiAgXCJpbmYuY3VcIjogMSxcbiAgXCJjdlwiOiAxLFxuICBcImNvbS5jdlwiOiAxLFxuICBcImVkdS5jdlwiOiAxLFxuICBcImludC5jdlwiOiAxLFxuICBcIm5vbWUuY3ZcIjogMSxcbiAgXCJvcmcuY3ZcIjogMSxcbiAgXCJjd1wiOiAxLFxuICBcImNvbS5jd1wiOiAxLFxuICBcImVkdS5jd1wiOiAxLFxuICBcIm5ldC5jd1wiOiAxLFxuICBcIm9yZy5jd1wiOiAxLFxuICBcImN4XCI6IDEsXG4gIFwiZ292LmN4XCI6IDEsXG4gIFwiY3lcIjogMSxcbiAgXCJhYy5jeVwiOiAxLFxuICBcImJpei5jeVwiOiAxLFxuICBcImNvbS5jeVwiOiAxLFxuICBcImVrbG9nZXMuY3lcIjogMSxcbiAgXCJnb3YuY3lcIjogMSxcbiAgXCJsdGQuY3lcIjogMSxcbiAgXCJtaWwuY3lcIjogMSxcbiAgXCJuZXQuY3lcIjogMSxcbiAgXCJvcmcuY3lcIjogMSxcbiAgXCJwcmVzcy5jeVwiOiAxLFxuICBcInByby5jeVwiOiAxLFxuICBcInRtLmN5XCI6IDEsXG4gIFwiY3pcIjogMSxcbiAgXCJkZVwiOiAxLFxuICBcImRqXCI6IDEsXG4gIFwiZGtcIjogMSxcbiAgXCJkbVwiOiAxLFxuICBcImNvbS5kbVwiOiAxLFxuICBcIm5ldC5kbVwiOiAxLFxuICBcIm9yZy5kbVwiOiAxLFxuICBcImVkdS5kbVwiOiAxLFxuICBcImdvdi5kbVwiOiAxLFxuICBcImRvXCI6IDEsXG4gIFwiYXJ0LmRvXCI6IDEsXG4gIFwiY29tLmRvXCI6IDEsXG4gIFwiZWR1LmRvXCI6IDEsXG4gIFwiZ29iLmRvXCI6IDEsXG4gIFwiZ292LmRvXCI6IDEsXG4gIFwibWlsLmRvXCI6IDEsXG4gIFwibmV0LmRvXCI6IDEsXG4gIFwib3JnLmRvXCI6IDEsXG4gIFwic2xkLmRvXCI6IDEsXG4gIFwid2ViLmRvXCI6IDEsXG4gIFwiZHpcIjogMSxcbiAgXCJhcnQuZHpcIjogMSxcbiAgXCJhc3NvLmR6XCI6IDEsXG4gIFwiY29tLmR6XCI6IDEsXG4gIFwiZWR1LmR6XCI6IDEsXG4gIFwiZ292LmR6XCI6IDEsXG4gIFwib3JnLmR6XCI6IDEsXG4gIFwibmV0LmR6XCI6IDEsXG4gIFwicG9sLmR6XCI6IDEsXG4gIFwic29jLmR6XCI6IDEsXG4gIFwidG0uZHpcIjogMSxcbiAgXCJlY1wiOiAxLFxuICBcImNvbS5lY1wiOiAxLFxuICBcImluZm8uZWNcIjogMSxcbiAgXCJuZXQuZWNcIjogMSxcbiAgXCJmaW4uZWNcIjogMSxcbiAgXCJrMTIuZWNcIjogMSxcbiAgXCJtZWQuZWNcIjogMSxcbiAgXCJwcm8uZWNcIjogMSxcbiAgXCJvcmcuZWNcIjogMSxcbiAgXCJlZHUuZWNcIjogMSxcbiAgXCJnb3YuZWNcIjogMSxcbiAgXCJnb2IuZWNcIjogMSxcbiAgXCJtaWwuZWNcIjogMSxcbiAgXCJlZHVcIjogMSxcbiAgXCJlZVwiOiAxLFxuICBcImVkdS5lZVwiOiAxLFxuICBcImdvdi5lZVwiOiAxLFxuICBcInJpaWsuZWVcIjogMSxcbiAgXCJsaWIuZWVcIjogMSxcbiAgXCJtZWQuZWVcIjogMSxcbiAgXCJjb20uZWVcIjogMSxcbiAgXCJwcmkuZWVcIjogMSxcbiAgXCJhaXAuZWVcIjogMSxcbiAgXCJvcmcuZWVcIjogMSxcbiAgXCJmaWUuZWVcIjogMSxcbiAgXCJlZ1wiOiAxLFxuICBcImNvbS5lZ1wiOiAxLFxuICBcImVkdS5lZ1wiOiAxLFxuICBcImV1bi5lZ1wiOiAxLFxuICBcImdvdi5lZ1wiOiAxLFxuICBcIm1pbC5lZ1wiOiAxLFxuICBcIm5hbWUuZWdcIjogMSxcbiAgXCJuZXQuZWdcIjogMSxcbiAgXCJvcmcuZWdcIjogMSxcbiAgXCJzY2kuZWdcIjogMSxcbiAgXCJlclwiOiAyLFxuICBcImVzXCI6IDEsXG4gIFwiY29tLmVzXCI6IDEsXG4gIFwibm9tLmVzXCI6IDEsXG4gIFwib3JnLmVzXCI6IDEsXG4gIFwiZ29iLmVzXCI6IDEsXG4gIFwiZWR1LmVzXCI6IDEsXG4gIFwiZXRcIjogMSxcbiAgXCJjb20uZXRcIjogMSxcbiAgXCJnb3YuZXRcIjogMSxcbiAgXCJvcmcuZXRcIjogMSxcbiAgXCJlZHUuZXRcIjogMSxcbiAgXCJiaXouZXRcIjogMSxcbiAgXCJuYW1lLmV0XCI6IDEsXG4gIFwiaW5mby5ldFwiOiAxLFxuICBcIm5ldC5ldFwiOiAxLFxuICBcImV1XCI6IDEsXG4gIFwiZmlcIjogMSxcbiAgXCJhbGFuZC5maVwiOiAxLFxuICBcImZqXCI6IDEsXG4gIFwiYWMuZmpcIjogMSxcbiAgXCJiaXouZmpcIjogMSxcbiAgXCJjb20uZmpcIjogMSxcbiAgXCJnb3YuZmpcIjogMSxcbiAgXCJpbmZvLmZqXCI6IDEsXG4gIFwibWlsLmZqXCI6IDEsXG4gIFwibmFtZS5malwiOiAxLFxuICBcIm5ldC5malwiOiAxLFxuICBcIm9yZy5malwiOiAxLFxuICBcInByby5malwiOiAxLFxuICBcImZrXCI6IDIsXG4gIFwiY29tLmZtXCI6IDEsXG4gIFwiZWR1LmZtXCI6IDEsXG4gIFwibmV0LmZtXCI6IDEsXG4gIFwib3JnLmZtXCI6IDEsXG4gIFwiZm1cIjogMSxcbiAgXCJmb1wiOiAxLFxuICBcImZyXCI6IDEsXG4gIFwiYXNzby5mclwiOiAxLFxuICBcImNvbS5mclwiOiAxLFxuICBcImdvdXYuZnJcIjogMSxcbiAgXCJub20uZnJcIjogMSxcbiAgXCJwcmQuZnJcIjogMSxcbiAgXCJ0bS5mclwiOiAxLFxuICBcImF2b3Vlcy5mclwiOiAxLFxuICBcImNjaS5mclwiOiAxLFxuICBcImdyZXRhLmZyXCI6IDEsXG4gIFwiaHVpc3NpZXItanVzdGljZS5mclwiOiAxLFxuICBcImdhXCI6IDEsXG4gIFwiZ2JcIjogMSxcbiAgXCJlZHUuZ2RcIjogMSxcbiAgXCJnb3YuZ2RcIjogMSxcbiAgXCJnZFwiOiAxLFxuICBcImdlXCI6IDEsXG4gIFwiY29tLmdlXCI6IDEsXG4gIFwiZWR1LmdlXCI6IDEsXG4gIFwiZ292LmdlXCI6IDEsXG4gIFwib3JnLmdlXCI6IDEsXG4gIFwibWlsLmdlXCI6IDEsXG4gIFwibmV0LmdlXCI6IDEsXG4gIFwicHZ0LmdlXCI6IDEsXG4gIFwiZ2ZcIjogMSxcbiAgXCJnZ1wiOiAxLFxuICBcImNvLmdnXCI6IDEsXG4gIFwibmV0LmdnXCI6IDEsXG4gIFwib3JnLmdnXCI6IDEsXG4gIFwiZ2hcIjogMSxcbiAgXCJjb20uZ2hcIjogMSxcbiAgXCJlZHUuZ2hcIjogMSxcbiAgXCJnb3YuZ2hcIjogMSxcbiAgXCJvcmcuZ2hcIjogMSxcbiAgXCJtaWwuZ2hcIjogMSxcbiAgXCJnaVwiOiAxLFxuICBcImNvbS5naVwiOiAxLFxuICBcImx0ZC5naVwiOiAxLFxuICBcImdvdi5naVwiOiAxLFxuICBcIm1vZC5naVwiOiAxLFxuICBcImVkdS5naVwiOiAxLFxuICBcIm9yZy5naVwiOiAxLFxuICBcImdsXCI6IDEsXG4gIFwiY28uZ2xcIjogMSxcbiAgXCJjb20uZ2xcIjogMSxcbiAgXCJlZHUuZ2xcIjogMSxcbiAgXCJuZXQuZ2xcIjogMSxcbiAgXCJvcmcuZ2xcIjogMSxcbiAgXCJnbVwiOiAxLFxuICBcImduXCI6IDEsXG4gIFwiYWMuZ25cIjogMSxcbiAgXCJjb20uZ25cIjogMSxcbiAgXCJlZHUuZ25cIjogMSxcbiAgXCJnb3YuZ25cIjogMSxcbiAgXCJvcmcuZ25cIjogMSxcbiAgXCJuZXQuZ25cIjogMSxcbiAgXCJnb3ZcIjogMSxcbiAgXCJncFwiOiAxLFxuICBcImNvbS5ncFwiOiAxLFxuICBcIm5ldC5ncFwiOiAxLFxuICBcIm1vYmkuZ3BcIjogMSxcbiAgXCJlZHUuZ3BcIjogMSxcbiAgXCJvcmcuZ3BcIjogMSxcbiAgXCJhc3NvLmdwXCI6IDEsXG4gIFwiZ3FcIjogMSxcbiAgXCJnclwiOiAxLFxuICBcImNvbS5nclwiOiAxLFxuICBcImVkdS5nclwiOiAxLFxuICBcIm5ldC5nclwiOiAxLFxuICBcIm9yZy5nclwiOiAxLFxuICBcImdvdi5nclwiOiAxLFxuICBcImdzXCI6IDEsXG4gIFwiZ3RcIjogMSxcbiAgXCJjb20uZ3RcIjogMSxcbiAgXCJlZHUuZ3RcIjogMSxcbiAgXCJnb2IuZ3RcIjogMSxcbiAgXCJpbmQuZ3RcIjogMSxcbiAgXCJtaWwuZ3RcIjogMSxcbiAgXCJuZXQuZ3RcIjogMSxcbiAgXCJvcmcuZ3RcIjogMSxcbiAgXCJndVwiOiAxLFxuICBcImNvbS5ndVwiOiAxLFxuICBcImVkdS5ndVwiOiAxLFxuICBcImdvdi5ndVwiOiAxLFxuICBcImd1YW0uZ3VcIjogMSxcbiAgXCJpbmZvLmd1XCI6IDEsXG4gIFwibmV0Lmd1XCI6IDEsXG4gIFwib3JnLmd1XCI6IDEsXG4gIFwid2ViLmd1XCI6IDEsXG4gIFwiZ3dcIjogMSxcbiAgXCJneVwiOiAxLFxuICBcImNvLmd5XCI6IDEsXG4gIFwiY29tLmd5XCI6IDEsXG4gIFwiZWR1Lmd5XCI6IDEsXG4gIFwiZ292Lmd5XCI6IDEsXG4gIFwibmV0Lmd5XCI6IDEsXG4gIFwib3JnLmd5XCI6IDEsXG4gIFwiaGtcIjogMSxcbiAgXCJjb20uaGtcIjogMSxcbiAgXCJlZHUuaGtcIjogMSxcbiAgXCJnb3YuaGtcIjogMSxcbiAgXCJpZHYuaGtcIjogMSxcbiAgXCJuZXQuaGtcIjogMSxcbiAgXCJvcmcuaGtcIjogMSxcbiAgXCJ4bi0tNTVxeDVkLmhrXCI6IDEsXG4gIFwieG4tLXdjdnMyMmQuaGtcIjogMSxcbiAgXCJ4bi0tbGN2cjMyZC5oa1wiOiAxLFxuICBcInhuLS1teHRxMW0uaGtcIjogMSxcbiAgXCJ4bi0tZ21xdzVhLmhrXCI6IDEsXG4gIFwieG4tLWNpcXBuLmhrXCI6IDEsXG4gIFwieG4tLWdtcTA1MGkuaGtcIjogMSxcbiAgXCJ4bi0temYwYXZ4LmhrXCI6IDEsXG4gIFwieG4tLWlvMGE3aS5oa1wiOiAxLFxuICBcInhuLS1tazBheGkuaGtcIjogMSxcbiAgXCJ4bi0tb2QwYWxnLmhrXCI6IDEsXG4gIFwieG4tLW9kMGFxM2IuaGtcIjogMSxcbiAgXCJ4bi0tdG4wYWcuaGtcIjogMSxcbiAgXCJ4bi0tdWMwYXR2LmhrXCI6IDEsXG4gIFwieG4tLXVjMGF5NGEuaGtcIjogMSxcbiAgXCJobVwiOiAxLFxuICBcImhuXCI6IDEsXG4gIFwiY29tLmhuXCI6IDEsXG4gIFwiZWR1LmhuXCI6IDEsXG4gIFwib3JnLmhuXCI6IDEsXG4gIFwibmV0LmhuXCI6IDEsXG4gIFwibWlsLmhuXCI6IDEsXG4gIFwiZ29iLmhuXCI6IDEsXG4gIFwiaHJcIjogMSxcbiAgXCJpei5oclwiOiAxLFxuICBcImZyb20uaHJcIjogMSxcbiAgXCJuYW1lLmhyXCI6IDEsXG4gIFwiY29tLmhyXCI6IDEsXG4gIFwiaHRcIjogMSxcbiAgXCJjb20uaHRcIjogMSxcbiAgXCJzaG9wLmh0XCI6IDEsXG4gIFwiZmlybS5odFwiOiAxLFxuICBcImluZm8uaHRcIjogMSxcbiAgXCJhZHVsdC5odFwiOiAxLFxuICBcIm5ldC5odFwiOiAxLFxuICBcInByby5odFwiOiAxLFxuICBcIm9yZy5odFwiOiAxLFxuICBcIm1lZC5odFwiOiAxLFxuICBcImFydC5odFwiOiAxLFxuICBcImNvb3AuaHRcIjogMSxcbiAgXCJwb2wuaHRcIjogMSxcbiAgXCJhc3NvLmh0XCI6IDEsXG4gIFwiZWR1Lmh0XCI6IDEsXG4gIFwicmVsLmh0XCI6IDEsXG4gIFwiZ291di5odFwiOiAxLFxuICBcInBlcnNvLmh0XCI6IDEsXG4gIFwiaHVcIjogMSxcbiAgXCJjby5odVwiOiAxLFxuICBcImluZm8uaHVcIjogMSxcbiAgXCJvcmcuaHVcIjogMSxcbiAgXCJwcml2Lmh1XCI6IDEsXG4gIFwic3BvcnQuaHVcIjogMSxcbiAgXCJ0bS5odVwiOiAxLFxuICBcIjIwMDAuaHVcIjogMSxcbiAgXCJhZ3Jhci5odVwiOiAxLFxuICBcImJvbHQuaHVcIjogMSxcbiAgXCJjYXNpbm8uaHVcIjogMSxcbiAgXCJjaXR5Lmh1XCI6IDEsXG4gIFwiZXJvdGljYS5odVwiOiAxLFxuICBcImVyb3Rpa2EuaHVcIjogMSxcbiAgXCJmaWxtLmh1XCI6IDEsXG4gIFwiZm9ydW0uaHVcIjogMSxcbiAgXCJnYW1lcy5odVwiOiAxLFxuICBcImhvdGVsLmh1XCI6IDEsXG4gIFwiaW5nYXRsYW4uaHVcIjogMSxcbiAgXCJqb2dhc3ouaHVcIjogMSxcbiAgXCJrb255dmVsby5odVwiOiAxLFxuICBcImxha2FzLmh1XCI6IDEsXG4gIFwibWVkaWEuaHVcIjogMSxcbiAgXCJuZXdzLmh1XCI6IDEsXG4gIFwicmVrbGFtLmh1XCI6IDEsXG4gIFwic2V4Lmh1XCI6IDEsXG4gIFwic2hvcC5odVwiOiAxLFxuICBcInN1bGkuaHVcIjogMSxcbiAgXCJzemV4Lmh1XCI6IDEsXG4gIFwidG96c2RlLmh1XCI6IDEsXG4gIFwidXRhemFzLmh1XCI6IDEsXG4gIFwidmlkZW8uaHVcIjogMSxcbiAgXCJpZFwiOiAxLFxuICBcImFjLmlkXCI6IDEsXG4gIFwiYml6LmlkXCI6IDEsXG4gIFwiY28uaWRcIjogMSxcbiAgXCJkZXNhLmlkXCI6IDEsXG4gIFwiZ28uaWRcIjogMSxcbiAgXCJtaWwuaWRcIjogMSxcbiAgXCJteS5pZFwiOiAxLFxuICBcIm5ldC5pZFwiOiAxLFxuICBcIm9yLmlkXCI6IDEsXG4gIFwicG9ucGVzLmlkXCI6IDEsXG4gIFwic2NoLmlkXCI6IDEsXG4gIFwid2ViLmlkXCI6IDEsXG4gIFwiaWVcIjogMSxcbiAgXCJnb3YuaWVcIjogMSxcbiAgXCJpbFwiOiAxLFxuICBcImFjLmlsXCI6IDEsXG4gIFwiY28uaWxcIjogMSxcbiAgXCJnb3YuaWxcIjogMSxcbiAgXCJpZGYuaWxcIjogMSxcbiAgXCJrMTIuaWxcIjogMSxcbiAgXCJtdW5pLmlsXCI6IDEsXG4gIFwibmV0LmlsXCI6IDEsXG4gIFwib3JnLmlsXCI6IDEsXG4gIFwieG4tLTRkYnJrMGNlXCI6IDEsXG4gIFwieG4tLTRkYmdkdHk2Yy54bi0tNGRicmswY2VcIjogMSxcbiAgXCJ4bi0tNWRiaGw4ZC54bi0tNGRicmswY2VcIjogMSxcbiAgXCJ4bi0tOGRicTJhLnhuLS00ZGJyazBjZVwiOiAxLFxuICBcInhuLS1oZWJkYThiLnhuLS00ZGJyazBjZVwiOiAxLFxuICBcImltXCI6IDEsXG4gIFwiYWMuaW1cIjogMSxcbiAgXCJjby5pbVwiOiAxLFxuICBcImNvbS5pbVwiOiAxLFxuICBcImx0ZC5jby5pbVwiOiAxLFxuICBcIm5ldC5pbVwiOiAxLFxuICBcIm9yZy5pbVwiOiAxLFxuICBcInBsYy5jby5pbVwiOiAxLFxuICBcInR0LmltXCI6IDEsXG4gIFwidHYuaW1cIjogMSxcbiAgXCJpblwiOiAxLFxuICBcIjVnLmluXCI6IDEsXG4gIFwiNmcuaW5cIjogMSxcbiAgXCJhYy5pblwiOiAxLFxuICBcImFpLmluXCI6IDEsXG4gIFwiYW0uaW5cIjogMSxcbiAgXCJiaWhhci5pblwiOiAxLFxuICBcImJpei5pblwiOiAxLFxuICBcImJ1c2luZXNzLmluXCI6IDEsXG4gIFwiY2EuaW5cIjogMSxcbiAgXCJjbi5pblwiOiAxLFxuICBcImNvLmluXCI6IDEsXG4gIFwiY29tLmluXCI6IDEsXG4gIFwiY29vcC5pblwiOiAxLFxuICBcImNzLmluXCI6IDEsXG4gIFwiZGVsaGkuaW5cIjogMSxcbiAgXCJkci5pblwiOiAxLFxuICBcImVkdS5pblwiOiAxLFxuICBcImVyLmluXCI6IDEsXG4gIFwiZmlybS5pblwiOiAxLFxuICBcImdlbi5pblwiOiAxLFxuICBcImdvdi5pblwiOiAxLFxuICBcImd1amFyYXQuaW5cIjogMSxcbiAgXCJpbmQuaW5cIjogMSxcbiAgXCJpbmZvLmluXCI6IDEsXG4gIFwiaW50LmluXCI6IDEsXG4gIFwiaW50ZXJuZXQuaW5cIjogMSxcbiAgXCJpby5pblwiOiAxLFxuICBcIm1lLmluXCI6IDEsXG4gIFwibWlsLmluXCI6IDEsXG4gIFwibmV0LmluXCI6IDEsXG4gIFwibmljLmluXCI6IDEsXG4gIFwib3JnLmluXCI6IDEsXG4gIFwicGcuaW5cIjogMSxcbiAgXCJwb3N0LmluXCI6IDEsXG4gIFwicHJvLmluXCI6IDEsXG4gIFwicmVzLmluXCI6IDEsXG4gIFwidHJhdmVsLmluXCI6IDEsXG4gIFwidHYuaW5cIjogMSxcbiAgXCJ1ay5pblwiOiAxLFxuICBcInVwLmluXCI6IDEsXG4gIFwidXMuaW5cIjogMSxcbiAgXCJpbmZvXCI6IDEsXG4gIFwiaW50XCI6IDEsXG4gIFwiZXUuaW50XCI6IDEsXG4gIFwiaW9cIjogMSxcbiAgXCJjb20uaW9cIjogMSxcbiAgXCJpcVwiOiAxLFxuICBcImdvdi5pcVwiOiAxLFxuICBcImVkdS5pcVwiOiAxLFxuICBcIm1pbC5pcVwiOiAxLFxuICBcImNvbS5pcVwiOiAxLFxuICBcIm9yZy5pcVwiOiAxLFxuICBcIm5ldC5pcVwiOiAxLFxuICBcImlyXCI6IDEsXG4gIFwiYWMuaXJcIjogMSxcbiAgXCJjby5pclwiOiAxLFxuICBcImdvdi5pclwiOiAxLFxuICBcImlkLmlyXCI6IDEsXG4gIFwibmV0LmlyXCI6IDEsXG4gIFwib3JnLmlyXCI6IDEsXG4gIFwic2NoLmlyXCI6IDEsXG4gIFwieG4tLW1nYmEzYTRmMTZhLmlyXCI6IDEsXG4gIFwieG4tLW1nYmEzYTRmcmEuaXJcIjogMSxcbiAgXCJpc1wiOiAxLFxuICBcIm5ldC5pc1wiOiAxLFxuICBcImNvbS5pc1wiOiAxLFxuICBcImVkdS5pc1wiOiAxLFxuICBcImdvdi5pc1wiOiAxLFxuICBcIm9yZy5pc1wiOiAxLFxuICBcImludC5pc1wiOiAxLFxuICBcIml0XCI6IDEsXG4gIFwiZ292Lml0XCI6IDEsXG4gIFwiZWR1Lml0XCI6IDEsXG4gIFwiYWJyLml0XCI6IDEsXG4gIFwiYWJydXp6by5pdFwiOiAxLFxuICBcImFvc3RhLXZhbGxleS5pdFwiOiAxLFxuICBcImFvc3RhdmFsbGV5Lml0XCI6IDEsXG4gIFwiYmFzLml0XCI6IDEsXG4gIFwiYmFzaWxpY2F0YS5pdFwiOiAxLFxuICBcImNhbC5pdFwiOiAxLFxuICBcImNhbGFicmlhLml0XCI6IDEsXG4gIFwiY2FtLml0XCI6IDEsXG4gIFwiY2FtcGFuaWEuaXRcIjogMSxcbiAgXCJlbWlsaWEtcm9tYWduYS5pdFwiOiAxLFxuICBcImVtaWxpYXJvbWFnbmEuaXRcIjogMSxcbiAgXCJlbXIuaXRcIjogMSxcbiAgXCJmcml1bGktdi1naXVsaWEuaXRcIjogMSxcbiAgXCJmcml1bGktdmUtZ2l1bGlhLml0XCI6IDEsXG4gIFwiZnJpdWxpLXZlZ2l1bGlhLml0XCI6IDEsXG4gIFwiZnJpdWxpLXZlbmV6aWEtZ2l1bGlhLml0XCI6IDEsXG4gIFwiZnJpdWxpLXZlbmV6aWFnaXVsaWEuaXRcIjogMSxcbiAgXCJmcml1bGktdmdpdWxpYS5pdFwiOiAxLFxuICBcImZyaXVsaXYtZ2l1bGlhLml0XCI6IDEsXG4gIFwiZnJpdWxpdmUtZ2l1bGlhLml0XCI6IDEsXG4gIFwiZnJpdWxpdmVnaXVsaWEuaXRcIjogMSxcbiAgXCJmcml1bGl2ZW5lemlhLWdpdWxpYS5pdFwiOiAxLFxuICBcImZyaXVsaXZlbmV6aWFnaXVsaWEuaXRcIjogMSxcbiAgXCJmcml1bGl2Z2l1bGlhLml0XCI6IDEsXG4gIFwiZnZnLml0XCI6IDEsXG4gIFwibGF6Lml0XCI6IDEsXG4gIFwibGF6aW8uaXRcIjogMSxcbiAgXCJsaWcuaXRcIjogMSxcbiAgXCJsaWd1cmlhLml0XCI6IDEsXG4gIFwibG9tLml0XCI6IDEsXG4gIFwibG9tYmFyZGlhLml0XCI6IDEsXG4gIFwibG9tYmFyZHkuaXRcIjogMSxcbiAgXCJsdWNhbmlhLml0XCI6IDEsXG4gIFwibWFyLml0XCI6IDEsXG4gIFwibWFyY2hlLml0XCI6IDEsXG4gIFwibW9sLml0XCI6IDEsXG4gIFwibW9saXNlLml0XCI6IDEsXG4gIFwicGllZG1vbnQuaXRcIjogMSxcbiAgXCJwaWVtb250ZS5pdFwiOiAxLFxuICBcInBtbi5pdFwiOiAxLFxuICBcInB1Zy5pdFwiOiAxLFxuICBcInB1Z2xpYS5pdFwiOiAxLFxuICBcInNhci5pdFwiOiAxLFxuICBcInNhcmRlZ25hLml0XCI6IDEsXG4gIFwic2FyZGluaWEuaXRcIjogMSxcbiAgXCJzaWMuaXRcIjogMSxcbiAgXCJzaWNpbGlhLml0XCI6IDEsXG4gIFwic2ljaWx5Lml0XCI6IDEsXG4gIFwidGFhLml0XCI6IDEsXG4gIFwidG9zLml0XCI6IDEsXG4gIFwidG9zY2FuYS5pdFwiOiAxLFxuICBcInRyZW50aW4tc3VkLXRpcm9sLml0XCI6IDEsXG4gIFwieG4tLXRyZW50aW4tc2QtdGlyb2wtcnpiLml0XCI6IDEsXG4gIFwidHJlbnRpbi1zdWR0aXJvbC5pdFwiOiAxLFxuICBcInhuLS10cmVudGluLXNkdGlyb2wtN3ZiLml0XCI6IDEsXG4gIFwidHJlbnRpbi1zdWVkLXRpcm9sLml0XCI6IDEsXG4gIFwidHJlbnRpbi1zdWVkdGlyb2wuaXRcIjogMSxcbiAgXCJ0cmVudGluby1hLWFkaWdlLml0XCI6IDEsXG4gIFwidHJlbnRpbm8tYWFkaWdlLml0XCI6IDEsXG4gIFwidHJlbnRpbm8tYWx0by1hZGlnZS5pdFwiOiAxLFxuICBcInRyZW50aW5vLWFsdG9hZGlnZS5pdFwiOiAxLFxuICBcInRyZW50aW5vLXMtdGlyb2wuaXRcIjogMSxcbiAgXCJ0cmVudGluby1zdGlyb2wuaXRcIjogMSxcbiAgXCJ0cmVudGluby1zdWQtdGlyb2wuaXRcIjogMSxcbiAgXCJ4bi0tdHJlbnRpbm8tc2QtdGlyb2wtYzNiLml0XCI6IDEsXG4gIFwidHJlbnRpbm8tc3VkdGlyb2wuaXRcIjogMSxcbiAgXCJ4bi0tdHJlbnRpbm8tc2R0aXJvbC1zemIuaXRcIjogMSxcbiAgXCJ0cmVudGluby1zdWVkLXRpcm9sLml0XCI6IDEsXG4gIFwidHJlbnRpbm8tc3VlZHRpcm9sLml0XCI6IDEsXG4gIFwidHJlbnRpbm8uaXRcIjogMSxcbiAgXCJ0cmVudGlub2EtYWRpZ2UuaXRcIjogMSxcbiAgXCJ0cmVudGlub2FhZGlnZS5pdFwiOiAxLFxuICBcInRyZW50aW5vYWx0by1hZGlnZS5pdFwiOiAxLFxuICBcInRyZW50aW5vYWx0b2FkaWdlLml0XCI6IDEsXG4gIFwidHJlbnRpbm9zLXRpcm9sLml0XCI6IDEsXG4gIFwidHJlbnRpbm9zdGlyb2wuaXRcIjogMSxcbiAgXCJ0cmVudGlub3N1ZC10aXJvbC5pdFwiOiAxLFxuICBcInhuLS10cmVudGlub3NkLXRpcm9sLXJ6Yi5pdFwiOiAxLFxuICBcInRyZW50aW5vc3VkdGlyb2wuaXRcIjogMSxcbiAgXCJ4bi0tdHJlbnRpbm9zZHRpcm9sLTd2Yi5pdFwiOiAxLFxuICBcInRyZW50aW5vc3VlZC10aXJvbC5pdFwiOiAxLFxuICBcInRyZW50aW5vc3VlZHRpcm9sLml0XCI6IDEsXG4gIFwidHJlbnRpbnN1ZC10aXJvbC5pdFwiOiAxLFxuICBcInhuLS10cmVudGluc2QtdGlyb2wtNnZiLml0XCI6IDEsXG4gIFwidHJlbnRpbnN1ZHRpcm9sLml0XCI6IDEsXG4gIFwieG4tLXRyZW50aW5zZHRpcm9sLW5zYi5pdFwiOiAxLFxuICBcInRyZW50aW5zdWVkLXRpcm9sLml0XCI6IDEsXG4gIFwidHJlbnRpbnN1ZWR0aXJvbC5pdFwiOiAxLFxuICBcInR1c2NhbnkuaXRcIjogMSxcbiAgXCJ1bWIuaXRcIjogMSxcbiAgXCJ1bWJyaWEuaXRcIjogMSxcbiAgXCJ2YWwtZC1hb3N0YS5pdFwiOiAxLFxuICBcInZhbC1kYW9zdGEuaXRcIjogMSxcbiAgXCJ2YWxkLWFvc3RhLml0XCI6IDEsXG4gIFwidmFsZGFvc3RhLml0XCI6IDEsXG4gIFwidmFsbGUtYW9zdGEuaXRcIjogMSxcbiAgXCJ2YWxsZS1kLWFvc3RhLml0XCI6IDEsXG4gIFwidmFsbGUtZGFvc3RhLml0XCI6IDEsXG4gIFwidmFsbGVhb3N0YS5pdFwiOiAxLFxuICBcInZhbGxlZC1hb3N0YS5pdFwiOiAxLFxuICBcInZhbGxlZGFvc3RhLml0XCI6IDEsXG4gIFwidmFsbGVlLWFvc3RlLml0XCI6IDEsXG4gIFwieG4tLXZhbGxlLWFvc3RlLWViYi5pdFwiOiAxLFxuICBcInZhbGxlZS1kLWFvc3RlLml0XCI6IDEsXG4gIFwieG4tLXZhbGxlLWQtYW9zdGUtZWhiLml0XCI6IDEsXG4gIFwidmFsbGVlYW9zdGUuaXRcIjogMSxcbiAgXCJ4bi0tdmFsbGVhb3N0ZS1lN2EuaXRcIjogMSxcbiAgXCJ2YWxsZWVkYW9zdGUuaXRcIjogMSxcbiAgXCJ4bi0tdmFsbGVkYW9zdGUtZWJiLml0XCI6IDEsXG4gIFwidmFvLml0XCI6IDEsXG4gIFwidmRhLml0XCI6IDEsXG4gIFwidmVuLml0XCI6IDEsXG4gIFwidmVuZXRvLml0XCI6IDEsXG4gIFwiYWcuaXRcIjogMSxcbiAgXCJhZ3JpZ2VudG8uaXRcIjogMSxcbiAgXCJhbC5pdFwiOiAxLFxuICBcImFsZXNzYW5kcmlhLml0XCI6IDEsXG4gIFwiYWx0by1hZGlnZS5pdFwiOiAxLFxuICBcImFsdG9hZGlnZS5pdFwiOiAxLFxuICBcImFuLml0XCI6IDEsXG4gIFwiYW5jb25hLml0XCI6IDEsXG4gIFwiYW5kcmlhLWJhcmxldHRhLXRyYW5pLml0XCI6IDEsXG4gIFwiYW5kcmlhLXRyYW5pLWJhcmxldHRhLml0XCI6IDEsXG4gIFwiYW5kcmlhYmFybGV0dGF0cmFuaS5pdFwiOiAxLFxuICBcImFuZHJpYXRyYW5pYmFybGV0dGEuaXRcIjogMSxcbiAgXCJhby5pdFwiOiAxLFxuICBcImFvc3RhLml0XCI6IDEsXG4gIFwiYW9zdGUuaXRcIjogMSxcbiAgXCJhcC5pdFwiOiAxLFxuICBcImFxLml0XCI6IDEsXG4gIFwiYXF1aWxhLml0XCI6IDEsXG4gIFwiYXIuaXRcIjogMSxcbiAgXCJhcmV6em8uaXRcIjogMSxcbiAgXCJhc2NvbGktcGljZW5vLml0XCI6IDEsXG4gIFwiYXNjb2xpcGljZW5vLml0XCI6IDEsXG4gIFwiYXN0aS5pdFwiOiAxLFxuICBcImF0Lml0XCI6IDEsXG4gIFwiYXYuaXRcIjogMSxcbiAgXCJhdmVsbGluby5pdFwiOiAxLFxuICBcImJhLml0XCI6IDEsXG4gIFwiYmFsc2FuLXN1ZHRpcm9sLml0XCI6IDEsXG4gIFwieG4tLWJhbHNhbi1zZHRpcm9sLW5zYi5pdFwiOiAxLFxuICBcImJhbHNhbi1zdWVkdGlyb2wuaXRcIjogMSxcbiAgXCJiYWxzYW4uaXRcIjogMSxcbiAgXCJiYXJpLml0XCI6IDEsXG4gIFwiYmFybGV0dGEtdHJhbmktYW5kcmlhLml0XCI6IDEsXG4gIFwiYmFybGV0dGF0cmFuaWFuZHJpYS5pdFwiOiAxLFxuICBcImJlbGx1bm8uaXRcIjogMSxcbiAgXCJiZW5ldmVudG8uaXRcIjogMSxcbiAgXCJiZXJnYW1vLml0XCI6IDEsXG4gIFwiYmcuaXRcIjogMSxcbiAgXCJiaS5pdFwiOiAxLFxuICBcImJpZWxsYS5pdFwiOiAxLFxuICBcImJsLml0XCI6IDEsXG4gIFwiYm4uaXRcIjogMSxcbiAgXCJiby5pdFwiOiAxLFxuICBcImJvbG9nbmEuaXRcIjogMSxcbiAgXCJib2x6YW5vLWFsdG9hZGlnZS5pdFwiOiAxLFxuICBcImJvbHphbm8uaXRcIjogMSxcbiAgXCJib3plbi1zdWR0aXJvbC5pdFwiOiAxLFxuICBcInhuLS1ib3plbi1zZHRpcm9sLTJvYi5pdFwiOiAxLFxuICBcImJvemVuLXN1ZWR0aXJvbC5pdFwiOiAxLFxuICBcImJvemVuLml0XCI6IDEsXG4gIFwiYnIuaXRcIjogMSxcbiAgXCJicmVzY2lhLml0XCI6IDEsXG4gIFwiYnJpbmRpc2kuaXRcIjogMSxcbiAgXCJicy5pdFwiOiAxLFxuICBcImJ0Lml0XCI6IDEsXG4gIFwiYnVsc2FuLXN1ZHRpcm9sLml0XCI6IDEsXG4gIFwieG4tLWJ1bHNhbi1zZHRpcm9sLW5zYi5pdFwiOiAxLFxuICBcImJ1bHNhbi1zdWVkdGlyb2wuaXRcIjogMSxcbiAgXCJidWxzYW4uaXRcIjogMSxcbiAgXCJiei5pdFwiOiAxLFxuICBcImNhLml0XCI6IDEsXG4gIFwiY2FnbGlhcmkuaXRcIjogMSxcbiAgXCJjYWx0YW5pc3NldHRhLml0XCI6IDEsXG4gIFwiY2FtcGlkYW5vLW1lZGlvLml0XCI6IDEsXG4gIFwiY2FtcGlkYW5vbWVkaW8uaXRcIjogMSxcbiAgXCJjYW1wb2Jhc3NvLml0XCI6IDEsXG4gIFwiY2FyYm9uaWEtaWdsZXNpYXMuaXRcIjogMSxcbiAgXCJjYXJib25pYWlnbGVzaWFzLml0XCI6IDEsXG4gIFwiY2FycmFyYS1tYXNzYS5pdFwiOiAxLFxuICBcImNhcnJhcmFtYXNzYS5pdFwiOiAxLFxuICBcImNhc2VydGEuaXRcIjogMSxcbiAgXCJjYXRhbmlhLml0XCI6IDEsXG4gIFwiY2F0YW56YXJvLml0XCI6IDEsXG4gIFwiY2IuaXRcIjogMSxcbiAgXCJjZS5pdFwiOiAxLFxuICBcImNlc2VuYS1mb3JsaS5pdFwiOiAxLFxuICBcInhuLS1jZXNlbmEtZm9ybC1tY2IuaXRcIjogMSxcbiAgXCJjZXNlbmFmb3JsaS5pdFwiOiAxLFxuICBcInhuLS1jZXNlbmFmb3JsLWk4YS5pdFwiOiAxLFxuICBcImNoLml0XCI6IDEsXG4gIFwiY2hpZXRpLml0XCI6IDEsXG4gIFwiY2kuaXRcIjogMSxcbiAgXCJjbC5pdFwiOiAxLFxuICBcImNuLml0XCI6IDEsXG4gIFwiY28uaXRcIjogMSxcbiAgXCJjb21vLml0XCI6IDEsXG4gIFwiY29zZW56YS5pdFwiOiAxLFxuICBcImNyLml0XCI6IDEsXG4gIFwiY3JlbW9uYS5pdFwiOiAxLFxuICBcImNyb3RvbmUuaXRcIjogMSxcbiAgXCJjcy5pdFwiOiAxLFxuICBcImN0Lml0XCI6IDEsXG4gIFwiY3VuZW8uaXRcIjogMSxcbiAgXCJjei5pdFwiOiAxLFxuICBcImRlbGwtb2dsaWFzdHJhLml0XCI6IDEsXG4gIFwiZGVsbG9nbGlhc3RyYS5pdFwiOiAxLFxuICBcImVuLml0XCI6IDEsXG4gIFwiZW5uYS5pdFwiOiAxLFxuICBcImZjLml0XCI6IDEsXG4gIFwiZmUuaXRcIjogMSxcbiAgXCJmZXJtby5pdFwiOiAxLFxuICBcImZlcnJhcmEuaXRcIjogMSxcbiAgXCJmZy5pdFwiOiAxLFxuICBcImZpLml0XCI6IDEsXG4gIFwiZmlyZW56ZS5pdFwiOiAxLFxuICBcImZsb3JlbmNlLml0XCI6IDEsXG4gIFwiZm0uaXRcIjogMSxcbiAgXCJmb2dnaWEuaXRcIjogMSxcbiAgXCJmb3JsaS1jZXNlbmEuaXRcIjogMSxcbiAgXCJ4bi0tZm9ybC1jZXNlbmEtZmNiLml0XCI6IDEsXG4gIFwiZm9ybGljZXNlbmEuaXRcIjogMSxcbiAgXCJ4bi0tZm9ybGNlc2VuYS1jOGEuaXRcIjogMSxcbiAgXCJmci5pdFwiOiAxLFxuICBcImZyb3Npbm9uZS5pdFwiOiAxLFxuICBcImdlLml0XCI6IDEsXG4gIFwiZ2Vub2EuaXRcIjogMSxcbiAgXCJnZW5vdmEuaXRcIjogMSxcbiAgXCJnby5pdFwiOiAxLFxuICBcImdvcml6aWEuaXRcIjogMSxcbiAgXCJnci5pdFwiOiAxLFxuICBcImdyb3NzZXRvLml0XCI6IDEsXG4gIFwiaWdsZXNpYXMtY2FyYm9uaWEuaXRcIjogMSxcbiAgXCJpZ2xlc2lhc2NhcmJvbmlhLml0XCI6IDEsXG4gIFwiaW0uaXRcIjogMSxcbiAgXCJpbXBlcmlhLml0XCI6IDEsXG4gIFwiaXMuaXRcIjogMSxcbiAgXCJpc2VybmlhLml0XCI6IDEsXG4gIFwia3IuaXRcIjogMSxcbiAgXCJsYS1zcGV6aWEuaXRcIjogMSxcbiAgXCJsYXF1aWxhLml0XCI6IDEsXG4gIFwibGFzcGV6aWEuaXRcIjogMSxcbiAgXCJsYXRpbmEuaXRcIjogMSxcbiAgXCJsYy5pdFwiOiAxLFxuICBcImxlLml0XCI6IDEsXG4gIFwibGVjY2UuaXRcIjogMSxcbiAgXCJsZWNjby5pdFwiOiAxLFxuICBcImxpLml0XCI6IDEsXG4gIFwibGl2b3Juby5pdFwiOiAxLFxuICBcImxvLml0XCI6IDEsXG4gIFwibG9kaS5pdFwiOiAxLFxuICBcImx0Lml0XCI6IDEsXG4gIFwibHUuaXRcIjogMSxcbiAgXCJsdWNjYS5pdFwiOiAxLFxuICBcIm1hY2VyYXRhLml0XCI6IDEsXG4gIFwibWFudG92YS5pdFwiOiAxLFxuICBcIm1hc3NhLWNhcnJhcmEuaXRcIjogMSxcbiAgXCJtYXNzYWNhcnJhcmEuaXRcIjogMSxcbiAgXCJtYXRlcmEuaXRcIjogMSxcbiAgXCJtYi5pdFwiOiAxLFxuICBcIm1jLml0XCI6IDEsXG4gIFwibWUuaXRcIjogMSxcbiAgXCJtZWRpby1jYW1waWRhbm8uaXRcIjogMSxcbiAgXCJtZWRpb2NhbXBpZGFuby5pdFwiOiAxLFxuICBcIm1lc3NpbmEuaXRcIjogMSxcbiAgXCJtaS5pdFwiOiAxLFxuICBcIm1pbGFuLml0XCI6IDEsXG4gIFwibWlsYW5vLml0XCI6IDEsXG4gIFwibW4uaXRcIjogMSxcbiAgXCJtby5pdFwiOiAxLFxuICBcIm1vZGVuYS5pdFwiOiAxLFxuICBcIm1vbnphLWJyaWFuemEuaXRcIjogMSxcbiAgXCJtb256YS1lLWRlbGxhLWJyaWFuemEuaXRcIjogMSxcbiAgXCJtb256YS5pdFwiOiAxLFxuICBcIm1vbnphYnJpYW56YS5pdFwiOiAxLFxuICBcIm1vbnphZWJyaWFuemEuaXRcIjogMSxcbiAgXCJtb256YWVkZWxsYWJyaWFuemEuaXRcIjogMSxcbiAgXCJtcy5pdFwiOiAxLFxuICBcIm10Lml0XCI6IDEsXG4gIFwibmEuaXRcIjogMSxcbiAgXCJuYXBsZXMuaXRcIjogMSxcbiAgXCJuYXBvbGkuaXRcIjogMSxcbiAgXCJuby5pdFwiOiAxLFxuICBcIm5vdmFyYS5pdFwiOiAxLFxuICBcIm51Lml0XCI6IDEsXG4gIFwibnVvcm8uaXRcIjogMSxcbiAgXCJvZy5pdFwiOiAxLFxuICBcIm9nbGlhc3RyYS5pdFwiOiAxLFxuICBcIm9sYmlhLXRlbXBpby5pdFwiOiAxLFxuICBcIm9sYmlhdGVtcGlvLml0XCI6IDEsXG4gIFwib3IuaXRcIjogMSxcbiAgXCJvcmlzdGFuby5pdFwiOiAxLFxuICBcIm90Lml0XCI6IDEsXG4gIFwicGEuaXRcIjogMSxcbiAgXCJwYWRvdmEuaXRcIjogMSxcbiAgXCJwYWR1YS5pdFwiOiAxLFxuICBcInBhbGVybW8uaXRcIjogMSxcbiAgXCJwYXJtYS5pdFwiOiAxLFxuICBcInBhdmlhLml0XCI6IDEsXG4gIFwicGMuaXRcIjogMSxcbiAgXCJwZC5pdFwiOiAxLFxuICBcInBlLml0XCI6IDEsXG4gIFwicGVydWdpYS5pdFwiOiAxLFxuICBcInBlc2Fyby11cmJpbm8uaXRcIjogMSxcbiAgXCJwZXNhcm91cmJpbm8uaXRcIjogMSxcbiAgXCJwZXNjYXJhLml0XCI6IDEsXG4gIFwicGcuaXRcIjogMSxcbiAgXCJwaS5pdFwiOiAxLFxuICBcInBpYWNlbnphLml0XCI6IDEsXG4gIFwicGlzYS5pdFwiOiAxLFxuICBcInBpc3RvaWEuaXRcIjogMSxcbiAgXCJwbi5pdFwiOiAxLFxuICBcInBvLml0XCI6IDEsXG4gIFwicG9yZGVub25lLml0XCI6IDEsXG4gIFwicG90ZW56YS5pdFwiOiAxLFxuICBcInByLml0XCI6IDEsXG4gIFwicHJhdG8uaXRcIjogMSxcbiAgXCJwdC5pdFwiOiAxLFxuICBcInB1Lml0XCI6IDEsXG4gIFwicHYuaXRcIjogMSxcbiAgXCJwei5pdFwiOiAxLFxuICBcInJhLml0XCI6IDEsXG4gIFwicmFndXNhLml0XCI6IDEsXG4gIFwicmF2ZW5uYS5pdFwiOiAxLFxuICBcInJjLml0XCI6IDEsXG4gIFwicmUuaXRcIjogMSxcbiAgXCJyZWdnaW8tY2FsYWJyaWEuaXRcIjogMSxcbiAgXCJyZWdnaW8tZW1pbGlhLml0XCI6IDEsXG4gIFwicmVnZ2lvY2FsYWJyaWEuaXRcIjogMSxcbiAgXCJyZWdnaW9lbWlsaWEuaXRcIjogMSxcbiAgXCJyZy5pdFwiOiAxLFxuICBcInJpLml0XCI6IDEsXG4gIFwicmlldGkuaXRcIjogMSxcbiAgXCJyaW1pbmkuaXRcIjogMSxcbiAgXCJybS5pdFwiOiAxLFxuICBcInJuLml0XCI6IDEsXG4gIFwicm8uaXRcIjogMSxcbiAgXCJyb21hLml0XCI6IDEsXG4gIFwicm9tZS5pdFwiOiAxLFxuICBcInJvdmlnby5pdFwiOiAxLFxuICBcInNhLml0XCI6IDEsXG4gIFwic2FsZXJuby5pdFwiOiAxLFxuICBcInNhc3NhcmkuaXRcIjogMSxcbiAgXCJzYXZvbmEuaXRcIjogMSxcbiAgXCJzaS5pdFwiOiAxLFxuICBcInNpZW5hLml0XCI6IDEsXG4gIFwic2lyYWN1c2EuaXRcIjogMSxcbiAgXCJzby5pdFwiOiAxLFxuICBcInNvbmRyaW8uaXRcIjogMSxcbiAgXCJzcC5pdFwiOiAxLFxuICBcInNyLml0XCI6IDEsXG4gIFwic3MuaXRcIjogMSxcbiAgXCJzdWVkdGlyb2wuaXRcIjogMSxcbiAgXCJ4bi0tc2R0aXJvbC1uMmEuaXRcIjogMSxcbiAgXCJzdi5pdFwiOiAxLFxuICBcInRhLml0XCI6IDEsXG4gIFwidGFyYW50by5pdFwiOiAxLFxuICBcInRlLml0XCI6IDEsXG4gIFwidGVtcGlvLW9sYmlhLml0XCI6IDEsXG4gIFwidGVtcGlvb2xiaWEuaXRcIjogMSxcbiAgXCJ0ZXJhbW8uaXRcIjogMSxcbiAgXCJ0ZXJuaS5pdFwiOiAxLFxuICBcInRuLml0XCI6IDEsXG4gIFwidG8uaXRcIjogMSxcbiAgXCJ0b3Jpbm8uaXRcIjogMSxcbiAgXCJ0cC5pdFwiOiAxLFxuICBcInRyLml0XCI6IDEsXG4gIFwidHJhbmktYW5kcmlhLWJhcmxldHRhLml0XCI6IDEsXG4gIFwidHJhbmktYmFybGV0dGEtYW5kcmlhLml0XCI6IDEsXG4gIFwidHJhbmlhbmRyaWFiYXJsZXR0YS5pdFwiOiAxLFxuICBcInRyYW5pYmFybGV0dGFhbmRyaWEuaXRcIjogMSxcbiAgXCJ0cmFwYW5pLml0XCI6IDEsXG4gIFwidHJlbnRvLml0XCI6IDEsXG4gIFwidHJldmlzby5pdFwiOiAxLFxuICBcInRyaWVzdGUuaXRcIjogMSxcbiAgXCJ0cy5pdFwiOiAxLFxuICBcInR1cmluLml0XCI6IDEsXG4gIFwidHYuaXRcIjogMSxcbiAgXCJ1ZC5pdFwiOiAxLFxuICBcInVkaW5lLml0XCI6IDEsXG4gIFwidXJiaW5vLXBlc2Fyby5pdFwiOiAxLFxuICBcInVyYmlub3Blc2Fyby5pdFwiOiAxLFxuICBcInZhLml0XCI6IDEsXG4gIFwidmFyZXNlLml0XCI6IDEsXG4gIFwidmIuaXRcIjogMSxcbiAgXCJ2Yy5pdFwiOiAxLFxuICBcInZlLml0XCI6IDEsXG4gIFwidmVuZXppYS5pdFwiOiAxLFxuICBcInZlbmljZS5pdFwiOiAxLFxuICBcInZlcmJhbmlhLml0XCI6IDEsXG4gIFwidmVyY2VsbGkuaXRcIjogMSxcbiAgXCJ2ZXJvbmEuaXRcIjogMSxcbiAgXCJ2aS5pdFwiOiAxLFxuICBcInZpYm8tdmFsZW50aWEuaXRcIjogMSxcbiAgXCJ2aWJvdmFsZW50aWEuaXRcIjogMSxcbiAgXCJ2aWNlbnphLml0XCI6IDEsXG4gIFwidml0ZXJiby5pdFwiOiAxLFxuICBcInZyLml0XCI6IDEsXG4gIFwidnMuaXRcIjogMSxcbiAgXCJ2dC5pdFwiOiAxLFxuICBcInZ2Lml0XCI6IDEsXG4gIFwiamVcIjogMSxcbiAgXCJjby5qZVwiOiAxLFxuICBcIm5ldC5qZVwiOiAxLFxuICBcIm9yZy5qZVwiOiAxLFxuICBcImptXCI6IDIsXG4gIFwiam9cIjogMSxcbiAgXCJjb20uam9cIjogMSxcbiAgXCJvcmcuam9cIjogMSxcbiAgXCJuZXQuam9cIjogMSxcbiAgXCJlZHUuam9cIjogMSxcbiAgXCJzY2guam9cIjogMSxcbiAgXCJnb3Yuam9cIjogMSxcbiAgXCJtaWwuam9cIjogMSxcbiAgXCJuYW1lLmpvXCI6IDEsXG4gIFwiam9ic1wiOiAxLFxuICBcImpwXCI6IDEsXG4gIFwiYWMuanBcIjogMSxcbiAgXCJhZC5qcFwiOiAxLFxuICBcImNvLmpwXCI6IDEsXG4gIFwiZWQuanBcIjogMSxcbiAgXCJnby5qcFwiOiAxLFxuICBcImdyLmpwXCI6IDEsXG4gIFwibGcuanBcIjogMSxcbiAgXCJuZS5qcFwiOiAxLFxuICBcIm9yLmpwXCI6IDEsXG4gIFwiYWljaGkuanBcIjogMSxcbiAgXCJha2l0YS5qcFwiOiAxLFxuICBcImFvbW9yaS5qcFwiOiAxLFxuICBcImNoaWJhLmpwXCI6IDEsXG4gIFwiZWhpbWUuanBcIjogMSxcbiAgXCJmdWt1aS5qcFwiOiAxLFxuICBcImZ1a3Vva2EuanBcIjogMSxcbiAgXCJmdWt1c2hpbWEuanBcIjogMSxcbiAgXCJnaWZ1LmpwXCI6IDEsXG4gIFwiZ3VubWEuanBcIjogMSxcbiAgXCJoaXJvc2hpbWEuanBcIjogMSxcbiAgXCJob2trYWlkby5qcFwiOiAxLFxuICBcImh5b2dvLmpwXCI6IDEsXG4gIFwiaWJhcmFraS5qcFwiOiAxLFxuICBcImlzaGlrYXdhLmpwXCI6IDEsXG4gIFwiaXdhdGUuanBcIjogMSxcbiAgXCJrYWdhd2EuanBcIjogMSxcbiAgXCJrYWdvc2hpbWEuanBcIjogMSxcbiAgXCJrYW5hZ2F3YS5qcFwiOiAxLFxuICBcImtvY2hpLmpwXCI6IDEsXG4gIFwia3VtYW1vdG8uanBcIjogMSxcbiAgXCJreW90by5qcFwiOiAxLFxuICBcIm1pZS5qcFwiOiAxLFxuICBcIm1peWFnaS5qcFwiOiAxLFxuICBcIm1peWF6YWtpLmpwXCI6IDEsXG4gIFwibmFnYW5vLmpwXCI6IDEsXG4gIFwibmFnYXNha2kuanBcIjogMSxcbiAgXCJuYXJhLmpwXCI6IDEsXG4gIFwibmlpZ2F0YS5qcFwiOiAxLFxuICBcIm9pdGEuanBcIjogMSxcbiAgXCJva2F5YW1hLmpwXCI6IDEsXG4gIFwib2tpbmF3YS5qcFwiOiAxLFxuICBcIm9zYWthLmpwXCI6IDEsXG4gIFwic2FnYS5qcFwiOiAxLFxuICBcInNhaXRhbWEuanBcIjogMSxcbiAgXCJzaGlnYS5qcFwiOiAxLFxuICBcInNoaW1hbmUuanBcIjogMSxcbiAgXCJzaGl6dW9rYS5qcFwiOiAxLFxuICBcInRvY2hpZ2kuanBcIjogMSxcbiAgXCJ0b2t1c2hpbWEuanBcIjogMSxcbiAgXCJ0b2t5by5qcFwiOiAxLFxuICBcInRvdHRvcmkuanBcIjogMSxcbiAgXCJ0b3lhbWEuanBcIjogMSxcbiAgXCJ3YWtheWFtYS5qcFwiOiAxLFxuICBcInlhbWFnYXRhLmpwXCI6IDEsXG4gIFwieWFtYWd1Y2hpLmpwXCI6IDEsXG4gIFwieWFtYW5hc2hpLmpwXCI6IDEsXG4gIFwieG4tLTRwdnhzLmpwXCI6IDEsXG4gIFwieG4tLXZndTQwMmMuanBcIjogMSxcbiAgXCJ4bi0tYzNzMTRtLmpwXCI6IDEsXG4gIFwieG4tLWY2cXg1M2EuanBcIjogMSxcbiAgXCJ4bi0tOHB2cjR1LmpwXCI6IDEsXG4gIFwieG4tLXVpc3QyMmguanBcIjogMSxcbiAgXCJ4bi0tZGpyczcyZDZ1eS5qcFwiOiAxLFxuICBcInhuLS1ta3J1NDVpLmpwXCI6IDEsXG4gIFwieG4tLTB0cnE3cDdubi5qcFwiOiAxLFxuICBcInhuLS04bHRyNjJrLmpwXCI6IDEsXG4gIFwieG4tLTJtNGExNWUuanBcIjogMSxcbiAgXCJ4bi0tZWZ2bjlzLmpwXCI6IDEsXG4gIFwieG4tLTMydnAzMGguanBcIjogMSxcbiAgXCJ4bi0tNGl0Nzk3ay5qcFwiOiAxLFxuICBcInhuLS0xbHFzNzFkLmpwXCI6IDEsXG4gIFwieG4tLTVydHA0OWMuanBcIjogMSxcbiAgXCJ4bi0tNWpzMDQ1ZC5qcFwiOiAxLFxuICBcInhuLS1laHF6NTZuLmpwXCI6IDEsXG4gIFwieG4tLTFscXMwM24uanBcIjogMSxcbiAgXCJ4bi0tcXFxdDExbS5qcFwiOiAxLFxuICBcInhuLS1rYnJxN28uanBcIjogMSxcbiAgXCJ4bi0tcHNzdTMzbC5qcFwiOiAxLFxuICBcInhuLS1udHNxMTdnLmpwXCI6IDEsXG4gIFwieG4tLXVpc3ozZy5qcFwiOiAxLFxuICBcInhuLS02YnR3NWEuanBcIjogMSxcbiAgXCJ4bi0tMWN0d28uanBcIjogMSxcbiAgXCJ4bi0tNm9yeDJyLmpwXCI6IDEsXG4gIFwieG4tLXJodDYxZS5qcFwiOiAxLFxuICBcInhuLS1yaHQyN3ouanBcIjogMSxcbiAgXCJ4bi0tZGp0eTRrLmpwXCI6IDEsXG4gIFwieG4tLW5pdDIyNWsuanBcIjogMSxcbiAgXCJ4bi0tcmh0M2QuanBcIjogMSxcbiAgXCJ4bi0ta2x0eTV4LmpwXCI6IDEsXG4gIFwieG4tLWtsdHg5YS5qcFwiOiAxLFxuICBcInhuLS1rbHRwN2QuanBcIjogMSxcbiAgXCJ4bi0tdXV3dTU4YS5qcFwiOiAxLFxuICBcInhuLS16YngwMjVkLmpwXCI6IDEsXG4gIFwieG4tLW50c28waXF4M2EuanBcIjogMSxcbiAgXCJ4bi0tZWxxcTE2aC5qcFwiOiAxLFxuICBcInhuLS00aXQxNjhkLmpwXCI6IDEsXG4gIFwieG4tLWtsdDc4N2QuanBcIjogMSxcbiAgXCJ4bi0tcm55MzFoLmpwXCI6IDEsXG4gIFwieG4tLTd0MGEyNjRjLmpwXCI6IDEsXG4gIFwieG4tLTVydHEzNGsuanBcIjogMSxcbiAgXCJ4bi0tazd5bjk1ZS5qcFwiOiAxLFxuICBcInhuLS10b3IxMzFvLmpwXCI6IDEsXG4gIFwieG4tLWQ1cXY3ejg3NmMuanBcIjogMSxcbiAgXCJrYXdhc2FraS5qcFwiOiAyLFxuICBcImtpdGFreXVzaHUuanBcIjogMixcbiAgXCJrb2JlLmpwXCI6IDIsXG4gIFwibmFnb3lhLmpwXCI6IDIsXG4gIFwic2FwcG9yby5qcFwiOiAyLFxuICBcInNlbmRhaS5qcFwiOiAyLFxuICBcInlva29oYW1hLmpwXCI6IDIsXG4gIFwiY2l0eS5rYXdhc2FraS5qcFwiOiAwLFxuICBcImNpdHkua2l0YWt5dXNodS5qcFwiOiAwLFxuICBcImNpdHkua29iZS5qcFwiOiAwLFxuICBcImNpdHkubmFnb3lhLmpwXCI6IDAsXG4gIFwiY2l0eS5zYXBwb3JvLmpwXCI6IDAsXG4gIFwiY2l0eS5zZW5kYWkuanBcIjogMCxcbiAgXCJjaXR5Lnlva29oYW1hLmpwXCI6IDAsXG4gIFwiYWlzYWkuYWljaGkuanBcIjogMSxcbiAgXCJhbWEuYWljaGkuanBcIjogMSxcbiAgXCJhbmpvLmFpY2hpLmpwXCI6IDEsXG4gIFwiYXN1a2UuYWljaGkuanBcIjogMSxcbiAgXCJjaGlyeXUuYWljaGkuanBcIjogMSxcbiAgXCJjaGl0YS5haWNoaS5qcFwiOiAxLFxuICBcImZ1c28uYWljaGkuanBcIjogMSxcbiAgXCJnYW1hZ29yaS5haWNoaS5qcFwiOiAxLFxuICBcImhhbmRhLmFpY2hpLmpwXCI6IDEsXG4gIFwiaGF6dS5haWNoaS5qcFwiOiAxLFxuICBcImhla2luYW4uYWljaGkuanBcIjogMSxcbiAgXCJoaWdhc2hpdXJhLmFpY2hpLmpwXCI6IDEsXG4gIFwiaWNoaW5vbWl5YS5haWNoaS5qcFwiOiAxLFxuICBcImluYXphd2EuYWljaGkuanBcIjogMSxcbiAgXCJpbnV5YW1hLmFpY2hpLmpwXCI6IDEsXG4gIFwiaXNzaGlraS5haWNoaS5qcFwiOiAxLFxuICBcIml3YWt1cmEuYWljaGkuanBcIjogMSxcbiAgXCJrYW5pZS5haWNoaS5qcFwiOiAxLFxuICBcImthcml5YS5haWNoaS5qcFwiOiAxLFxuICBcImthc3VnYWkuYWljaGkuanBcIjogMSxcbiAgXCJraXJhLmFpY2hpLmpwXCI6IDEsXG4gIFwia2l5b3N1LmFpY2hpLmpwXCI6IDEsXG4gIFwia29tYWtpLmFpY2hpLmpwXCI6IDEsXG4gIFwia29uYW4uYWljaGkuanBcIjogMSxcbiAgXCJrb3RhLmFpY2hpLmpwXCI6IDEsXG4gIFwibWloYW1hLmFpY2hpLmpwXCI6IDEsXG4gIFwibWl5b3NoaS5haWNoaS5qcFwiOiAxLFxuICBcIm5pc2hpby5haWNoaS5qcFwiOiAxLFxuICBcIm5pc3NoaW4uYWljaGkuanBcIjogMSxcbiAgXCJvYnUuYWljaGkuanBcIjogMSxcbiAgXCJvZ3VjaGkuYWljaGkuanBcIjogMSxcbiAgXCJvaGFydS5haWNoaS5qcFwiOiAxLFxuICBcIm9rYXpha2kuYWljaGkuanBcIjogMSxcbiAgXCJvd2FyaWFzYWhpLmFpY2hpLmpwXCI6IDEsXG4gIFwic2V0by5haWNoaS5qcFwiOiAxLFxuICBcInNoaWthdHN1LmFpY2hpLmpwXCI6IDEsXG4gIFwic2hpbnNoaXJvLmFpY2hpLmpwXCI6IDEsXG4gIFwic2hpdGFyYS5haWNoaS5qcFwiOiAxLFxuICBcInRhaGFyYS5haWNoaS5qcFwiOiAxLFxuICBcInRha2FoYW1hLmFpY2hpLmpwXCI6IDEsXG4gIFwidG9iaXNoaW1hLmFpY2hpLmpwXCI6IDEsXG4gIFwidG9laS5haWNoaS5qcFwiOiAxLFxuICBcInRvZ28uYWljaGkuanBcIjogMSxcbiAgXCJ0b2thaS5haWNoaS5qcFwiOiAxLFxuICBcInRva29uYW1lLmFpY2hpLmpwXCI6IDEsXG4gIFwidG95b2FrZS5haWNoaS5qcFwiOiAxLFxuICBcInRveW9oYXNoaS5haWNoaS5qcFwiOiAxLFxuICBcInRveW9rYXdhLmFpY2hpLmpwXCI6IDEsXG4gIFwidG95b25lLmFpY2hpLmpwXCI6IDEsXG4gIFwidG95b3RhLmFpY2hpLmpwXCI6IDEsXG4gIFwidHN1c2hpbWEuYWljaGkuanBcIjogMSxcbiAgXCJ5YXRvbWkuYWljaGkuanBcIjogMSxcbiAgXCJha2l0YS5ha2l0YS5qcFwiOiAxLFxuICBcImRhaXNlbi5ha2l0YS5qcFwiOiAxLFxuICBcImZ1amlzYXRvLmFraXRhLmpwXCI6IDEsXG4gIFwiZ29qb21lLmFraXRhLmpwXCI6IDEsXG4gIFwiaGFjaGlyb2dhdGEuYWtpdGEuanBcIjogMSxcbiAgXCJoYXBwb3UuYWtpdGEuanBcIjogMSxcbiAgXCJoaWdhc2hpbmFydXNlLmFraXRhLmpwXCI6IDEsXG4gIFwiaG9uam8uYWtpdGEuanBcIjogMSxcbiAgXCJob25qeW8uYWtpdGEuanBcIjogMSxcbiAgXCJpa2F3YS5ha2l0YS5qcFwiOiAxLFxuICBcImthbWlrb2FuaS5ha2l0YS5qcFwiOiAxLFxuICBcImthbWlva2EuYWtpdGEuanBcIjogMSxcbiAgXCJrYXRhZ2FtaS5ha2l0YS5qcFwiOiAxLFxuICBcImthenVuby5ha2l0YS5qcFwiOiAxLFxuICBcImtpdGFha2l0YS5ha2l0YS5qcFwiOiAxLFxuICBcImtvc2FrYS5ha2l0YS5qcFwiOiAxLFxuICBcImt5b3dhLmFraXRhLmpwXCI6IDEsXG4gIFwibWlzYXRvLmFraXRhLmpwXCI6IDEsXG4gIFwibWl0YW5lLmFraXRhLmpwXCI6IDEsXG4gIFwibW9yaXlvc2hpLmFraXRhLmpwXCI6IDEsXG4gIFwibmlrYWhvLmFraXRhLmpwXCI6IDEsXG4gIFwibm9zaGlyby5ha2l0YS5qcFwiOiAxLFxuICBcIm9kYXRlLmFraXRhLmpwXCI6IDEsXG4gIFwib2dhLmFraXRhLmpwXCI6IDEsXG4gIFwib2dhdGEuYWtpdGEuanBcIjogMSxcbiAgXCJzZW1ib2t1LmFraXRhLmpwXCI6IDEsXG4gIFwieW9rb3RlLmFraXRhLmpwXCI6IDEsXG4gIFwieXVyaWhvbmpvLmFraXRhLmpwXCI6IDEsXG4gIFwiYW9tb3JpLmFvbW9yaS5qcFwiOiAxLFxuICBcImdvbm9oZS5hb21vcmkuanBcIjogMSxcbiAgXCJoYWNoaW5vaGUuYW9tb3JpLmpwXCI6IDEsXG4gIFwiaGFzaGlrYW1pLmFvbW9yaS5qcFwiOiAxLFxuICBcImhpcmFuYWkuYW9tb3JpLmpwXCI6IDEsXG4gIFwiaGlyb3Nha2kuYW9tb3JpLmpwXCI6IDEsXG4gIFwiaXRheWFuYWdpLmFvbW9yaS5qcFwiOiAxLFxuICBcImt1cm9pc2hpLmFvbW9yaS5qcFwiOiAxLFxuICBcIm1pc2F3YS5hb21vcmkuanBcIjogMSxcbiAgXCJtdXRzdS5hb21vcmkuanBcIjogMSxcbiAgXCJuYWthZG9tYXJpLmFvbW9yaS5qcFwiOiAxLFxuICBcIm5vaGVqaS5hb21vcmkuanBcIjogMSxcbiAgXCJvaXJhc2UuYW9tb3JpLmpwXCI6IDEsXG4gIFwib3dhbmkuYW9tb3JpLmpwXCI6IDEsXG4gIFwicm9rdW5vaGUuYW9tb3JpLmpwXCI6IDEsXG4gIFwic2Fubm9oZS5hb21vcmkuanBcIjogMSxcbiAgXCJzaGljaGlub2hlLmFvbW9yaS5qcFwiOiAxLFxuICBcInNoaW5nby5hb21vcmkuanBcIjogMSxcbiAgXCJ0YWtrby5hb21vcmkuanBcIjogMSxcbiAgXCJ0b3dhZGEuYW9tb3JpLmpwXCI6IDEsXG4gIFwidHN1Z2FydS5hb21vcmkuanBcIjogMSxcbiAgXCJ0c3VydXRhLmFvbW9yaS5qcFwiOiAxLFxuICBcImFiaWtvLmNoaWJhLmpwXCI6IDEsXG4gIFwiYXNhaGkuY2hpYmEuanBcIjogMSxcbiAgXCJjaG9uYW4uY2hpYmEuanBcIjogMSxcbiAgXCJjaG9zZWkuY2hpYmEuanBcIjogMSxcbiAgXCJjaG9zaGkuY2hpYmEuanBcIjogMSxcbiAgXCJjaHVvLmNoaWJhLmpwXCI6IDEsXG4gIFwiZnVuYWJhc2hpLmNoaWJhLmpwXCI6IDEsXG4gIFwiZnV0dHN1LmNoaWJhLmpwXCI6IDEsXG4gIFwiaGFuYW1pZ2F3YS5jaGliYS5qcFwiOiAxLFxuICBcImljaGloYXJhLmNoaWJhLmpwXCI6IDEsXG4gIFwiaWNoaWthd2EuY2hpYmEuanBcIjogMSxcbiAgXCJpY2hpbm9taXlhLmNoaWJhLmpwXCI6IDEsXG4gIFwiaW56YWkuY2hpYmEuanBcIjogMSxcbiAgXCJpc3VtaS5jaGliYS5qcFwiOiAxLFxuICBcImthbWFnYXlhLmNoaWJhLmpwXCI6IDEsXG4gIFwia2Ftb2dhd2EuY2hpYmEuanBcIjogMSxcbiAgXCJrYXNoaXdhLmNoaWJhLmpwXCI6IDEsXG4gIFwia2F0b3JpLmNoaWJhLmpwXCI6IDEsXG4gIFwia2F0c3V1cmEuY2hpYmEuanBcIjogMSxcbiAgXCJraW1pdHN1LmNoaWJhLmpwXCI6IDEsXG4gIFwia2lzYXJhenUuY2hpYmEuanBcIjogMSxcbiAgXCJrb3pha2kuY2hpYmEuanBcIjogMSxcbiAgXCJrdWp1a3VyaS5jaGliYS5qcFwiOiAxLFxuICBcImt5b25hbi5jaGliYS5qcFwiOiAxLFxuICBcIm1hdHN1ZG8uY2hpYmEuanBcIjogMSxcbiAgXCJtaWRvcmkuY2hpYmEuanBcIjogMSxcbiAgXCJtaWhhbWEuY2hpYmEuanBcIjogMSxcbiAgXCJtaW5hbWlib3NvLmNoaWJhLmpwXCI6IDEsXG4gIFwibW9iYXJhLmNoaWJhLmpwXCI6IDEsXG4gIFwibXV0c3V6YXdhLmNoaWJhLmpwXCI6IDEsXG4gIFwibmFnYXJhLmNoaWJhLmpwXCI6IDEsXG4gIFwibmFnYXJleWFtYS5jaGliYS5qcFwiOiAxLFxuICBcIm5hcmFzaGluby5jaGliYS5qcFwiOiAxLFxuICBcIm5hcml0YS5jaGliYS5qcFwiOiAxLFxuICBcIm5vZGEuY2hpYmEuanBcIjogMSxcbiAgXCJvYW1pc2hpcmFzYXRvLmNoaWJhLmpwXCI6IDEsXG4gIFwib21pZ2F3YS5jaGliYS5qcFwiOiAxLFxuICBcIm9uanVrdS5jaGliYS5qcFwiOiAxLFxuICBcIm90YWtpLmNoaWJhLmpwXCI6IDEsXG4gIFwic2FrYWUuY2hpYmEuanBcIjogMSxcbiAgXCJzYWt1cmEuY2hpYmEuanBcIjogMSxcbiAgXCJzaGltb2Z1c2EuY2hpYmEuanBcIjogMSxcbiAgXCJzaGlyYWtvLmNoaWJhLmpwXCI6IDEsXG4gIFwic2hpcm9pLmNoaWJhLmpwXCI6IDEsXG4gIFwic2hpc3VpLmNoaWJhLmpwXCI6IDEsXG4gIFwic29kZWdhdXJhLmNoaWJhLmpwXCI6IDEsXG4gIFwic29zYS5jaGliYS5qcFwiOiAxLFxuICBcInRha28uY2hpYmEuanBcIjogMSxcbiAgXCJ0YXRleWFtYS5jaGliYS5qcFwiOiAxLFxuICBcInRvZ2FuZS5jaGliYS5qcFwiOiAxLFxuICBcInRvaG5vc2hvLmNoaWJhLmpwXCI6IDEsXG4gIFwidG9taXNhdG8uY2hpYmEuanBcIjogMSxcbiAgXCJ1cmF5YXN1LmNoaWJhLmpwXCI6IDEsXG4gIFwieWFjaGltYXRhLmNoaWJhLmpwXCI6IDEsXG4gIFwieWFjaGl5by5jaGliYS5qcFwiOiAxLFxuICBcInlva2FpY2hpYmEuY2hpYmEuanBcIjogMSxcbiAgXCJ5b2tvc2hpYmFoaWthcmkuY2hpYmEuanBcIjogMSxcbiAgXCJ5b3RzdWthaWRvLmNoaWJhLmpwXCI6IDEsXG4gIFwiYWluYW4uZWhpbWUuanBcIjogMSxcbiAgXCJob25haS5laGltZS5qcFwiOiAxLFxuICBcImlrYXRhLmVoaW1lLmpwXCI6IDEsXG4gIFwiaW1hYmFyaS5laGltZS5qcFwiOiAxLFxuICBcIml5by5laGltZS5qcFwiOiAxLFxuICBcImthbWlqaW1hLmVoaW1lLmpwXCI6IDEsXG4gIFwia2lob2t1LmVoaW1lLmpwXCI6IDEsXG4gIFwia3VtYWtvZ2VuLmVoaW1lLmpwXCI6IDEsXG4gIFwibWFzYWtpLmVoaW1lLmpwXCI6IDEsXG4gIFwibWF0c3Vuby5laGltZS5qcFwiOiAxLFxuICBcIm1hdHN1eWFtYS5laGltZS5qcFwiOiAxLFxuICBcIm5hbWlrYXRhLmVoaW1lLmpwXCI6IDEsXG4gIFwibmlpaGFtYS5laGltZS5qcFwiOiAxLFxuICBcIm96dS5laGltZS5qcFwiOiAxLFxuICBcInNhaWpvLmVoaW1lLmpwXCI6IDEsXG4gIFwic2VpeW8uZWhpbWUuanBcIjogMSxcbiAgXCJzaGlrb2t1Y2h1by5laGltZS5qcFwiOiAxLFxuICBcInRvYmUuZWhpbWUuanBcIjogMSxcbiAgXCJ0b29uLmVoaW1lLmpwXCI6IDEsXG4gIFwidWNoaWtvLmVoaW1lLmpwXCI6IDEsXG4gIFwidXdhamltYS5laGltZS5qcFwiOiAxLFxuICBcInlhd2F0YWhhbWEuZWhpbWUuanBcIjogMSxcbiAgXCJlY2hpemVuLmZ1a3VpLmpwXCI6IDEsXG4gIFwiZWloZWlqaS5mdWt1aS5qcFwiOiAxLFxuICBcImZ1a3VpLmZ1a3VpLmpwXCI6IDEsXG4gIFwiaWtlZGEuZnVrdWkuanBcIjogMSxcbiAgXCJrYXRzdXlhbWEuZnVrdWkuanBcIjogMSxcbiAgXCJtaWhhbWEuZnVrdWkuanBcIjogMSxcbiAgXCJtaW5hbWllY2hpemVuLmZ1a3VpLmpwXCI6IDEsXG4gIFwib2JhbWEuZnVrdWkuanBcIjogMSxcbiAgXCJvaGkuZnVrdWkuanBcIjogMSxcbiAgXCJvbm8uZnVrdWkuanBcIjogMSxcbiAgXCJzYWJhZS5mdWt1aS5qcFwiOiAxLFxuICBcInNha2FpLmZ1a3VpLmpwXCI6IDEsXG4gIFwidGFrYWhhbWEuZnVrdWkuanBcIjogMSxcbiAgXCJ0c3VydWdhLmZ1a3VpLmpwXCI6IDEsXG4gIFwid2FrYXNhLmZ1a3VpLmpwXCI6IDEsXG4gIFwiYXNoaXlhLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJidXplbi5mdWt1b2thLmpwXCI6IDEsXG4gIFwiY2hpa3Vnby5mdWt1b2thLmpwXCI6IDEsXG4gIFwiY2hpa3Voby5mdWt1b2thLmpwXCI6IDEsXG4gIFwiY2hpa3Vqby5mdWt1b2thLmpwXCI6IDEsXG4gIFwiY2hpa3VzaGluby5mdWt1b2thLmpwXCI6IDEsXG4gIFwiY2hpa3V6ZW4uZnVrdW9rYS5qcFwiOiAxLFxuICBcImNodW8uZnVrdW9rYS5qcFwiOiAxLFxuICBcImRhemFpZnUuZnVrdW9rYS5qcFwiOiAxLFxuICBcImZ1a3VjaGkuZnVrdW9rYS5qcFwiOiAxLFxuICBcImhha2F0YS5mdWt1b2thLmpwXCI6IDEsXG4gIFwiaGlnYXNoaS5mdWt1b2thLmpwXCI6IDEsXG4gIFwiaGlyb2thd2EuZnVrdW9rYS5qcFwiOiAxLFxuICBcImhpc2F5YW1hLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJpaXp1a2EuZnVrdW9rYS5qcFwiOiAxLFxuICBcImluYXRzdWtpLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJrYWhvLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJrYXN1Z2EuZnVrdW9rYS5qcFwiOiAxLFxuICBcImthc3V5YS5mdWt1b2thLmpwXCI6IDEsXG4gIFwia2F3YXJhLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJrZWlzZW4uZnVrdW9rYS5qcFwiOiAxLFxuICBcImtvZ2EuZnVrdW9rYS5qcFwiOiAxLFxuICBcImt1cmF0ZS5mdWt1b2thLmpwXCI6IDEsXG4gIFwia3Vyb2dpLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJrdXJ1bWUuZnVrdW9rYS5qcFwiOiAxLFxuICBcIm1pbmFtaS5mdWt1b2thLmpwXCI6IDEsXG4gIFwibWl5YWtvLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJtaXlhbWEuZnVrdW9rYS5qcFwiOiAxLFxuICBcIm1peWF3YWthLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJtaXp1bWFraS5mdWt1b2thLmpwXCI6IDEsXG4gIFwibXVuYWthdGEuZnVrdW9rYS5qcFwiOiAxLFxuICBcIm5ha2FnYXdhLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJuYWthbWEuZnVrdW9rYS5qcFwiOiAxLFxuICBcIm5pc2hpLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJub2dhdGEuZnVrdW9rYS5qcFwiOiAxLFxuICBcIm9nb3JpLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJva2FnYWtpLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJva2F3YS5mdWt1b2thLmpwXCI6IDEsXG4gIFwib2tpLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJvbXV0YS5mdWt1b2thLmpwXCI6IDEsXG4gIFwib25nYS5mdWt1b2thLmpwXCI6IDEsXG4gIFwib25vam8uZnVrdW9rYS5qcFwiOiAxLFxuICBcIm90by5mdWt1b2thLmpwXCI6IDEsXG4gIFwic2FpZ2F3YS5mdWt1b2thLmpwXCI6IDEsXG4gIFwic2FzYWd1cmkuZnVrdW9rYS5qcFwiOiAxLFxuICBcInNoaW5ndS5mdWt1b2thLmpwXCI6IDEsXG4gIFwic2hpbnlvc2hpdG9taS5mdWt1b2thLmpwXCI6IDEsXG4gIFwic2hvbmFpLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJzb2VkYS5mdWt1b2thLmpwXCI6IDEsXG4gIFwic3VlLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJ0YWNoaWFyYWkuZnVrdW9rYS5qcFwiOiAxLFxuICBcInRhZ2F3YS5mdWt1b2thLmpwXCI6IDEsXG4gIFwidGFrYXRhLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJ0b2hvLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJ0b3lvdHN1LmZ1a3Vva2EuanBcIjogMSxcbiAgXCJ0c3Vpa2kuZnVrdW9rYS5qcFwiOiAxLFxuICBcInVraWhhLmZ1a3Vva2EuanBcIjogMSxcbiAgXCJ1bWkuZnVrdW9rYS5qcFwiOiAxLFxuICBcInVzdWkuZnVrdW9rYS5qcFwiOiAxLFxuICBcInlhbWFkYS5mdWt1b2thLmpwXCI6IDEsXG4gIFwieWFtZS5mdWt1b2thLmpwXCI6IDEsXG4gIFwieWFuYWdhd2EuZnVrdW9rYS5qcFwiOiAxLFxuICBcInl1a3VoYXNoaS5mdWt1b2thLmpwXCI6IDEsXG4gIFwiYWl6dWJhbmdlLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcImFpenVtaXNhdG8uZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwiYWl6dXdha2FtYXRzdS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJhc2FrYXdhLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcImJhbmRhaS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJkYXRlLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcImZ1a3VzaGltYS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJmdXJ1ZG9uby5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJmdXRhYmEuZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwiaGFuYXdhLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcImhpZ2FzaGkuZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwiaGlyYXRhLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcImhpcm9uby5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJpaXRhdGUuZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwiaW5hd2FzaGlyby5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJpc2hpa2F3YS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJpd2FraS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJpenVtaXpha2kuZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwia2FnYW1paXNoaS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJrYW5leWFtYS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJrYXdhbWF0YS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJraXRha2F0YS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJraXRhc2hpb2JhcmEuZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwia29vcmkuZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwia29yaXlhbWEuZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwia3VuaW1pLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcIm1paGFydS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJtaXNoaW1hLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcIm5hbWllLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcIm5hbmdvLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcIm5pc2hpYWl6dS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJuaXNoaWdvLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcIm9rdW1hLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcIm9tb3RlZ28uZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwib25vLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcIm90YW1hLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcInNhbWVnYXdhLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcInNoaW1vZ28uZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwic2hpcmFrYXdhLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcInNob3dhLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcInNvbWEuZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwic3VrYWdhd2EuZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwidGFpc2hpbi5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJ0YW1ha2F3YS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJ0YW5hZ3VyYS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJ0ZW5laS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJ5YWJ1a2kuZnVrdXNoaW1hLmpwXCI6IDEsXG4gIFwieWFtYXRvLmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcInlhbWF0c3VyaS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJ5YW5haXp1LmZ1a3VzaGltYS5qcFwiOiAxLFxuICBcInl1Z2F3YS5mdWt1c2hpbWEuanBcIjogMSxcbiAgXCJhbnBhY2hpLmdpZnUuanBcIjogMSxcbiAgXCJlbmEuZ2lmdS5qcFwiOiAxLFxuICBcImdpZnUuZ2lmdS5qcFwiOiAxLFxuICBcImdpbmFuLmdpZnUuanBcIjogMSxcbiAgXCJnb2RvLmdpZnUuanBcIjogMSxcbiAgXCJndWpvLmdpZnUuanBcIjogMSxcbiAgXCJoYXNoaW1hLmdpZnUuanBcIjogMSxcbiAgXCJoaWNoaXNvLmdpZnUuanBcIjogMSxcbiAgXCJoaWRhLmdpZnUuanBcIjogMSxcbiAgXCJoaWdhc2hpc2hpcmFrYXdhLmdpZnUuanBcIjogMSxcbiAgXCJpYmlnYXdhLmdpZnUuanBcIjogMSxcbiAgXCJpa2VkYS5naWZ1LmpwXCI6IDEsXG4gIFwia2FrYW1pZ2FoYXJhLmdpZnUuanBcIjogMSxcbiAgXCJrYW5pLmdpZnUuanBcIjogMSxcbiAgXCJrYXNhaGFyYS5naWZ1LmpwXCI6IDEsXG4gIFwia2FzYW1hdHN1LmdpZnUuanBcIjogMSxcbiAgXCJrYXdhdWUuZ2lmdS5qcFwiOiAxLFxuICBcImtpdGFnYXRhLmdpZnUuanBcIjogMSxcbiAgXCJtaW5vLmdpZnUuanBcIjogMSxcbiAgXCJtaW5va2Ftby5naWZ1LmpwXCI6IDEsXG4gIFwibWl0YWtlLmdpZnUuanBcIjogMSxcbiAgXCJtaXp1bmFtaS5naWZ1LmpwXCI6IDEsXG4gIFwibW90b3N1LmdpZnUuanBcIjogMSxcbiAgXCJuYWthdHN1Z2F3YS5naWZ1LmpwXCI6IDEsXG4gIFwib2dha2kuZ2lmdS5qcFwiOiAxLFxuICBcInNha2Fob2dpLmdpZnUuanBcIjogMSxcbiAgXCJzZWtpLmdpZnUuanBcIjogMSxcbiAgXCJzZWtpZ2FoYXJhLmdpZnUuanBcIjogMSxcbiAgXCJzaGlyYWthd2EuZ2lmdS5qcFwiOiAxLFxuICBcInRhamltaS5naWZ1LmpwXCI6IDEsXG4gIFwidGFrYXlhbWEuZ2lmdS5qcFwiOiAxLFxuICBcInRhcnVpLmdpZnUuanBcIjogMSxcbiAgXCJ0b2tpLmdpZnUuanBcIjogMSxcbiAgXCJ0b21pa2EuZ2lmdS5qcFwiOiAxLFxuICBcIndhbm91Y2hpLmdpZnUuanBcIjogMSxcbiAgXCJ5YW1hZ2F0YS5naWZ1LmpwXCI6IDEsXG4gIFwieWFvdHN1LmdpZnUuanBcIjogMSxcbiAgXCJ5b3JvLmdpZnUuanBcIjogMSxcbiAgXCJhbm5ha2EuZ3VubWEuanBcIjogMSxcbiAgXCJjaGl5b2RhLmd1bm1hLmpwXCI6IDEsXG4gIFwiZnVqaW9rYS5ndW5tYS5qcFwiOiAxLFxuICBcImhpZ2FzaGlhZ2F0c3VtYS5ndW5tYS5qcFwiOiAxLFxuICBcImlzZXNha2kuZ3VubWEuanBcIjogMSxcbiAgXCJpdGFrdXJhLmd1bm1hLmpwXCI6IDEsXG4gIFwia2FubmEuZ3VubWEuanBcIjogMSxcbiAgXCJrYW5yYS5ndW5tYS5qcFwiOiAxLFxuICBcImthdGFzaGluYS5ndW5tYS5qcFwiOiAxLFxuICBcImthd2FiYS5ndW5tYS5qcFwiOiAxLFxuICBcImtpcnl1Lmd1bm1hLmpwXCI6IDEsXG4gIFwia3VzYXRzdS5ndW5tYS5qcFwiOiAxLFxuICBcIm1hZWJhc2hpLmd1bm1hLmpwXCI6IDEsXG4gIFwibWVpd2EuZ3VubWEuanBcIjogMSxcbiAgXCJtaWRvcmkuZ3VubWEuanBcIjogMSxcbiAgXCJtaW5ha2FtaS5ndW5tYS5qcFwiOiAxLFxuICBcIm5hZ2Fub2hhcmEuZ3VubWEuanBcIjogMSxcbiAgXCJuYWthbm9qby5ndW5tYS5qcFwiOiAxLFxuICBcIm5hbm1va3UuZ3VubWEuanBcIjogMSxcbiAgXCJudW1hdGEuZ3VubWEuanBcIjogMSxcbiAgXCJvaXp1bWkuZ3VubWEuanBcIjogMSxcbiAgXCJvcmEuZ3VubWEuanBcIjogMSxcbiAgXCJvdGEuZ3VubWEuanBcIjogMSxcbiAgXCJzaGlidWthd2EuZ3VubWEuanBcIjogMSxcbiAgXCJzaGltb25pdGEuZ3VubWEuanBcIjogMSxcbiAgXCJzaGludG8uZ3VubWEuanBcIjogMSxcbiAgXCJzaG93YS5ndW5tYS5qcFwiOiAxLFxuICBcInRha2FzYWtpLmd1bm1hLmpwXCI6IDEsXG4gIFwidGFrYXlhbWEuZ3VubWEuanBcIjogMSxcbiAgXCJ0YW1hbXVyYS5ndW5tYS5qcFwiOiAxLFxuICBcInRhdGViYXlhc2hpLmd1bm1hLmpwXCI6IDEsXG4gIFwidG9taW9rYS5ndW5tYS5qcFwiOiAxLFxuICBcInRzdWtpeW9uby5ndW5tYS5qcFwiOiAxLFxuICBcInRzdW1hZ29pLmd1bm1hLmpwXCI6IDEsXG4gIFwidWVuby5ndW5tYS5qcFwiOiAxLFxuICBcInlvc2hpb2thLmd1bm1hLmpwXCI6IDEsXG4gIFwiYXNhbWluYW1pLmhpcm9zaGltYS5qcFwiOiAxLFxuICBcImRhaXdhLmhpcm9zaGltYS5qcFwiOiAxLFxuICBcImV0YWppbWEuaGlyb3NoaW1hLmpwXCI6IDEsXG4gIFwiZnVjaHUuaGlyb3NoaW1hLmpwXCI6IDEsXG4gIFwiZnVrdXlhbWEuaGlyb3NoaW1hLmpwXCI6IDEsXG4gIFwiaGF0c3VrYWljaGkuaGlyb3NoaW1hLmpwXCI6IDEsXG4gIFwiaGlnYXNoaWhpcm9zaGltYS5oaXJvc2hpbWEuanBcIjogMSxcbiAgXCJob25nby5oaXJvc2hpbWEuanBcIjogMSxcbiAgXCJqaW5zZWtpa29nZW4uaGlyb3NoaW1hLmpwXCI6IDEsXG4gIFwia2FpdGEuaGlyb3NoaW1hLmpwXCI6IDEsXG4gIFwia3VpLmhpcm9zaGltYS5qcFwiOiAxLFxuICBcImt1bWFuby5oaXJvc2hpbWEuanBcIjogMSxcbiAgXCJrdXJlLmhpcm9zaGltYS5qcFwiOiAxLFxuICBcIm1paGFyYS5oaXJvc2hpbWEuanBcIjogMSxcbiAgXCJtaXlvc2hpLmhpcm9zaGltYS5qcFwiOiAxLFxuICBcIm5ha2EuaGlyb3NoaW1hLmpwXCI6IDEsXG4gIFwib25vbWljaGkuaGlyb3NoaW1hLmpwXCI6IDEsXG4gIFwib3Nha2lrYW1pamltYS5oaXJvc2hpbWEuanBcIjogMSxcbiAgXCJvdGFrZS5oaXJvc2hpbWEuanBcIjogMSxcbiAgXCJzYWthLmhpcm9zaGltYS5qcFwiOiAxLFxuICBcInNlcmEuaGlyb3NoaW1hLmpwXCI6IDEsXG4gIFwic2VyYW5pc2hpLmhpcm9zaGltYS5qcFwiOiAxLFxuICBcInNoaW5pY2hpLmhpcm9zaGltYS5qcFwiOiAxLFxuICBcInNob2JhcmEuaGlyb3NoaW1hLmpwXCI6IDEsXG4gIFwidGFrZWhhcmEuaGlyb3NoaW1hLmpwXCI6IDEsXG4gIFwiYWJhc2hpcmkuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJhYmlyYS5ob2trYWlkby5qcFwiOiAxLFxuICBcImFpYmV0c3UuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJha2FiaXJhLmhva2thaWRvLmpwXCI6IDEsXG4gIFwiYWtrZXNoaS5ob2trYWlkby5qcFwiOiAxLFxuICBcImFzYWhpa2F3YS5ob2trYWlkby5qcFwiOiAxLFxuICBcImFzaGliZXRzdS5ob2trYWlkby5qcFwiOiAxLFxuICBcImFzaG9yby5ob2trYWlkby5qcFwiOiAxLFxuICBcImFzc2FidS5ob2trYWlkby5qcFwiOiAxLFxuICBcImF0c3VtYS5ob2trYWlkby5qcFwiOiAxLFxuICBcImJpYmFpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwiYmllaS5ob2trYWlkby5qcFwiOiAxLFxuICBcImJpZnVrYS5ob2trYWlkby5qcFwiOiAxLFxuICBcImJpaG9yby5ob2trYWlkby5qcFwiOiAxLFxuICBcImJpcmF0b3JpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwiY2hpcHB1YmV0c3UuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJjaGl0b3NlLmhva2thaWRvLmpwXCI6IDEsXG4gIFwiZGF0ZS5ob2trYWlkby5qcFwiOiAxLFxuICBcImViZXRzdS5ob2trYWlkby5qcFwiOiAxLFxuICBcImVtYmV0c3UuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJlbml3YS5ob2trYWlkby5qcFwiOiAxLFxuICBcImVyaW1vLmhva2thaWRvLmpwXCI6IDEsXG4gIFwiZXNhbi5ob2trYWlkby5qcFwiOiAxLFxuICBcImVzYXNoaS5ob2trYWlkby5qcFwiOiAxLFxuICBcImZ1a2FnYXdhLmhva2thaWRvLmpwXCI6IDEsXG4gIFwiZnVrdXNoaW1hLmhva2thaWRvLmpwXCI6IDEsXG4gIFwiZnVyYW5vLmhva2thaWRvLmpwXCI6IDEsXG4gIFwiZnVydWJpcmEuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJoYWJvcm8uaG9ra2FpZG8uanBcIjogMSxcbiAgXCJoYWtvZGF0ZS5ob2trYWlkby5qcFwiOiAxLFxuICBcImhhbWF0b25iZXRzdS5ob2trYWlkby5qcFwiOiAxLFxuICBcImhpZGFrYS5ob2trYWlkby5qcFwiOiAxLFxuICBcImhpZ2FzaGlrYWd1cmEuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJoaWdhc2hpa2F3YS5ob2trYWlkby5qcFwiOiAxLFxuICBcImhpcm9vLmhva2thaWRvLmpwXCI6IDEsXG4gIFwiaG9rdXJ5dS5ob2trYWlkby5qcFwiOiAxLFxuICBcImhva3V0by5ob2trYWlkby5qcFwiOiAxLFxuICBcImhvbmJldHN1Lmhva2thaWRvLmpwXCI6IDEsXG4gIFwiaG9yb2thbmFpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwiaG9yb25vYmUuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJpa2VkYS5ob2trYWlkby5qcFwiOiAxLFxuICBcImltYWthbmUuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJpc2hpa2FyaS5ob2trYWlkby5qcFwiOiAxLFxuICBcIml3YW1pemF3YS5ob2trYWlkby5qcFwiOiAxLFxuICBcIml3YW5haS5ob2trYWlkby5qcFwiOiAxLFxuICBcImthbWlmdXJhbm8uaG9ra2FpZG8uanBcIjogMSxcbiAgXCJrYW1pa2F3YS5ob2trYWlkby5qcFwiOiAxLFxuICBcImthbWlzaGlob3JvLmhva2thaWRvLmpwXCI6IDEsXG4gIFwia2FtaXN1bmFnYXdhLmhva2thaWRvLmpwXCI6IDEsXG4gIFwia2Ftb2VuYWkuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJrYXlhYmUuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJrZW1idWNoaS5ob2trYWlkby5qcFwiOiAxLFxuICBcImtpa29uYWkuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJraW1vYmV0c3UuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJraXRhaGlyb3NoaW1hLmhva2thaWRvLmpwXCI6IDEsXG4gIFwia2l0YW1pLmhva2thaWRvLmpwXCI6IDEsXG4gIFwia2l5b3NhdG8uaG9ra2FpZG8uanBcIjogMSxcbiAgXCJrb3NoaW1penUuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJrdW5uZXBwdS5ob2trYWlkby5qcFwiOiAxLFxuICBcImt1cml5YW1hLmhva2thaWRvLmpwXCI6IDEsXG4gIFwia3Vyb21hdHN1bmFpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwia3VzaGlyby5ob2trYWlkby5qcFwiOiAxLFxuICBcImt1dGNoYW4uaG9ra2FpZG8uanBcIjogMSxcbiAgXCJreW93YS5ob2trYWlkby5qcFwiOiAxLFxuICBcIm1hc2hpa2UuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJtYXRzdW1hZS5ob2trYWlkby5qcFwiOiAxLFxuICBcIm1pa2FzYS5ob2trYWlkby5qcFwiOiAxLFxuICBcIm1pbmFtaWZ1cmFuby5ob2trYWlkby5qcFwiOiAxLFxuICBcIm1vbWJldHN1Lmhva2thaWRvLmpwXCI6IDEsXG4gIFwibW9zZXVzaGkuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJtdWthd2EuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJtdXJvcmFuLmhva2thaWRvLmpwXCI6IDEsXG4gIFwibmFpZS5ob2trYWlkby5qcFwiOiAxLFxuICBcIm5ha2FnYXdhLmhva2thaWRvLmpwXCI6IDEsXG4gIFwibmFrYXNhdHN1bmFpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwibmFrYXRvbWJldHN1Lmhva2thaWRvLmpwXCI6IDEsXG4gIFwibmFuYWUuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJuYW5wb3JvLmhva2thaWRvLmpwXCI6IDEsXG4gIFwibmF5b3JvLmhva2thaWRvLmpwXCI6IDEsXG4gIFwibmVtdXJvLmhva2thaWRvLmpwXCI6IDEsXG4gIFwibmlpa2FwcHUuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJuaWtpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwibmlzaGlva29wcGUuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJub2JvcmliZXRzdS5ob2trYWlkby5qcFwiOiAxLFxuICBcIm51bWF0YS5ob2trYWlkby5qcFwiOiAxLFxuICBcIm9iaWhpcm8uaG9ra2FpZG8uanBcIjogMSxcbiAgXCJvYmlyYS5ob2trYWlkby5qcFwiOiAxLFxuICBcIm9rZXRvLmhva2thaWRvLmpwXCI6IDEsXG4gIFwib2tvcHBlLmhva2thaWRvLmpwXCI6IDEsXG4gIFwib3RhcnUuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJvdG9iZS5ob2trYWlkby5qcFwiOiAxLFxuICBcIm90b2Z1a2UuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJvdG9pbmVwcHUuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJvdW11Lmhva2thaWRvLmpwXCI6IDEsXG4gIFwib3pvcmEuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJwaXBwdS5ob2trYWlkby5qcFwiOiAxLFxuICBcInJhbmtvc2hpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwicmVidW4uaG9ra2FpZG8uanBcIjogMSxcbiAgXCJyaWt1YmV0c3UuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJyaXNoaXJpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwicmlzaGlyaWZ1amkuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJzYXJvbWEuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJzYXJ1ZnV0c3UuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJzaGFrb3Rhbi5ob2trYWlkby5qcFwiOiAxLFxuICBcInNoYXJpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwic2hpYmVjaGEuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJzaGliZXRzdS5ob2trYWlkby5qcFwiOiAxLFxuICBcInNoaWthYmUuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJzaGlrYW9pLmhva2thaWRvLmpwXCI6IDEsXG4gIFwic2hpbWFtYWtpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwic2hpbWl6dS5ob2trYWlkby5qcFwiOiAxLFxuICBcInNoaW1va2F3YS5ob2trYWlkby5qcFwiOiAxLFxuICBcInNoaW5zaGlub3RzdS5ob2trYWlkby5qcFwiOiAxLFxuICBcInNoaW50b2t1Lmhva2thaWRvLmpwXCI6IDEsXG4gIFwic2hpcmFudWthLmhva2thaWRvLmpwXCI6IDEsXG4gIFwic2hpcmFvaS5ob2trYWlkby5qcFwiOiAxLFxuICBcInNoaXJpdWNoaS5ob2trYWlkby5qcFwiOiAxLFxuICBcInNvYmV0c3UuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJzdW5hZ2F3YS5ob2trYWlkby5qcFwiOiAxLFxuICBcInRhaWtpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwidGFrYXN1Lmhva2thaWRvLmpwXCI6IDEsXG4gIFwidGFraWthd2EuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJ0YWtpbm91ZS5ob2trYWlkby5qcFwiOiAxLFxuICBcInRlc2hpa2FnYS5ob2trYWlkby5qcFwiOiAxLFxuICBcInRvYmV0c3UuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJ0b2htYS5ob2trYWlkby5qcFwiOiAxLFxuICBcInRvbWFrb21haS5ob2trYWlkby5qcFwiOiAxLFxuICBcInRvbWFyaS5ob2trYWlkby5qcFwiOiAxLFxuICBcInRveWEuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJ0b3lha28uaG9ra2FpZG8uanBcIjogMSxcbiAgXCJ0b3lvdG9taS5ob2trYWlkby5qcFwiOiAxLFxuICBcInRveW91cmEuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJ0c3ViZXRzdS5ob2trYWlkby5qcFwiOiAxLFxuICBcInRzdWtpZ2F0YS5ob2trYWlkby5qcFwiOiAxLFxuICBcInVyYWthd2EuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJ1cmF1c3UuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJ1cnl1Lmhva2thaWRvLmpwXCI6IDEsXG4gIFwidXRhc2hpbmFpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwid2Fra2FuYWkuaG9ra2FpZG8uanBcIjogMSxcbiAgXCJ3YXNzYW11Lmhva2thaWRvLmpwXCI6IDEsXG4gIFwieWFrdW1vLmhva2thaWRvLmpwXCI6IDEsXG4gIFwieW9pY2hpLmhva2thaWRvLmpwXCI6IDEsXG4gIFwiYWlvaS5oeW9nby5qcFwiOiAxLFxuICBcImFrYXNoaS5oeW9nby5qcFwiOiAxLFxuICBcImFrby5oeW9nby5qcFwiOiAxLFxuICBcImFtYWdhc2FraS5oeW9nby5qcFwiOiAxLFxuICBcImFvZ2FraS5oeW9nby5qcFwiOiAxLFxuICBcImFzYWdvLmh5b2dvLmpwXCI6IDEsXG4gIFwiYXNoaXlhLmh5b2dvLmpwXCI6IDEsXG4gIFwiYXdhamkuaHlvZ28uanBcIjogMSxcbiAgXCJmdWt1c2FraS5oeW9nby5qcFwiOiAxLFxuICBcImdvc2hpa2kuaHlvZ28uanBcIjogMSxcbiAgXCJoYXJpbWEuaHlvZ28uanBcIjogMSxcbiAgXCJoaW1lamkuaHlvZ28uanBcIjogMSxcbiAgXCJpY2hpa2F3YS5oeW9nby5qcFwiOiAxLFxuICBcImluYWdhd2EuaHlvZ28uanBcIjogMSxcbiAgXCJpdGFtaS5oeW9nby5qcFwiOiAxLFxuICBcImtha29nYXdhLmh5b2dvLmpwXCI6IDEsXG4gIFwia2FtaWdvcmkuaHlvZ28uanBcIjogMSxcbiAgXCJrYW1pa2F3YS5oeW9nby5qcFwiOiAxLFxuICBcImthc2FpLmh5b2dvLmpwXCI6IDEsXG4gIFwia2FzdWdhLmh5b2dvLmpwXCI6IDEsXG4gIFwia2F3YW5pc2hpLmh5b2dvLmpwXCI6IDEsXG4gIFwibWlraS5oeW9nby5qcFwiOiAxLFxuICBcIm1pbmFtaWF3YWppLmh5b2dvLmpwXCI6IDEsXG4gIFwibmlzaGlub21peWEuaHlvZ28uanBcIjogMSxcbiAgXCJuaXNoaXdha2kuaHlvZ28uanBcIjogMSxcbiAgXCJvbm8uaHlvZ28uanBcIjogMSxcbiAgXCJzYW5kYS5oeW9nby5qcFwiOiAxLFxuICBcInNhbm5hbi5oeW9nby5qcFwiOiAxLFxuICBcInNhc2F5YW1hLmh5b2dvLmpwXCI6IDEsXG4gIFwic2F5by5oeW9nby5qcFwiOiAxLFxuICBcInNoaW5ndS5oeW9nby5qcFwiOiAxLFxuICBcInNoaW5vbnNlbi5oeW9nby5qcFwiOiAxLFxuICBcInNoaXNvLmh5b2dvLmpwXCI6IDEsXG4gIFwic3Vtb3RvLmh5b2dvLmpwXCI6IDEsXG4gIFwidGFpc2hpLmh5b2dvLmpwXCI6IDEsXG4gIFwidGFrYS5oeW9nby5qcFwiOiAxLFxuICBcInRha2FyYXp1a2EuaHlvZ28uanBcIjogMSxcbiAgXCJ0YWthc2Fnby5oeW9nby5qcFwiOiAxLFxuICBcInRha2luby5oeW9nby5qcFwiOiAxLFxuICBcInRhbWJhLmh5b2dvLmpwXCI6IDEsXG4gIFwidGF0c3Vuby5oeW9nby5qcFwiOiAxLFxuICBcInRveW9va2EuaHlvZ28uanBcIjogMSxcbiAgXCJ5YWJ1Lmh5b2dvLmpwXCI6IDEsXG4gIFwieWFzaGlyby5oeW9nby5qcFwiOiAxLFxuICBcInlva2EuaHlvZ28uanBcIjogMSxcbiAgXCJ5b2thd2EuaHlvZ28uanBcIjogMSxcbiAgXCJhbWkuaWJhcmFraS5qcFwiOiAxLFxuICBcImFzYWhpLmliYXJha2kuanBcIjogMSxcbiAgXCJiYW5kby5pYmFyYWtpLmpwXCI6IDEsXG4gIFwiY2hpa3VzZWkuaWJhcmFraS5qcFwiOiAxLFxuICBcImRhaWdvLmliYXJha2kuanBcIjogMSxcbiAgXCJmdWppc2hpcm8uaWJhcmFraS5qcFwiOiAxLFxuICBcImhpdGFjaGkuaWJhcmFraS5qcFwiOiAxLFxuICBcImhpdGFjaGluYWthLmliYXJha2kuanBcIjogMSxcbiAgXCJoaXRhY2hpb21peWEuaWJhcmFraS5qcFwiOiAxLFxuICBcImhpdGFjaGlvdGEuaWJhcmFraS5qcFwiOiAxLFxuICBcImliYXJha2kuaWJhcmFraS5qcFwiOiAxLFxuICBcImluYS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwiaW5hc2hpa2kuaWJhcmFraS5qcFwiOiAxLFxuICBcIml0YWtvLmliYXJha2kuanBcIjogMSxcbiAgXCJpd2FtYS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwiam9zby5pYmFyYWtpLmpwXCI6IDEsXG4gIFwia2FtaXN1LmliYXJha2kuanBcIjogMSxcbiAgXCJrYXNhbWEuaWJhcmFraS5qcFwiOiAxLFxuICBcImthc2hpbWEuaWJhcmFraS5qcFwiOiAxLFxuICBcImthc3VtaWdhdXJhLmliYXJha2kuanBcIjogMSxcbiAgXCJrb2dhLmliYXJha2kuanBcIjogMSxcbiAgXCJtaWhvLmliYXJha2kuanBcIjogMSxcbiAgXCJtaXRvLmliYXJha2kuanBcIjogMSxcbiAgXCJtb3JpeWEuaWJhcmFraS5qcFwiOiAxLFxuICBcIm5ha2EuaWJhcmFraS5qcFwiOiAxLFxuICBcIm5hbWVnYXRhLmliYXJha2kuanBcIjogMSxcbiAgXCJvYXJhaS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwib2dhd2EuaWJhcmFraS5qcFwiOiAxLFxuICBcIm9taXRhbWEuaWJhcmFraS5qcFwiOiAxLFxuICBcInJ5dWdhc2FraS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwic2FrYWkuaWJhcmFraS5qcFwiOiAxLFxuICBcInNha3VyYWdhd2EuaWJhcmFraS5qcFwiOiAxLFxuICBcInNoaW1vZGF0ZS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwic2hpbW90c3VtYS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwic2hpcm9zYXRvLmliYXJha2kuanBcIjogMSxcbiAgXCJzb3dhLmliYXJha2kuanBcIjogMSxcbiAgXCJzdWlmdS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwidGFrYWhhZ2kuaWJhcmFraS5qcFwiOiAxLFxuICBcInRhbWF0c3VrdXJpLmliYXJha2kuanBcIjogMSxcbiAgXCJ0b2thaS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwidG9tb2JlLmliYXJha2kuanBcIjogMSxcbiAgXCJ0b25lLmliYXJha2kuanBcIjogMSxcbiAgXCJ0b3JpZGUuaWJhcmFraS5qcFwiOiAxLFxuICBcInRzdWNoaXVyYS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwidHN1a3ViYS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwidWNoaWhhcmEuaWJhcmFraS5qcFwiOiAxLFxuICBcInVzaGlrdS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwieWFjaGl5by5pYmFyYWtpLmpwXCI6IDEsXG4gIFwieWFtYWdhdGEuaWJhcmFraS5qcFwiOiAxLFxuICBcInlhd2FyYS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwieXVraS5pYmFyYWtpLmpwXCI6IDEsXG4gIFwiYW5hbWl6dS5pc2hpa2F3YS5qcFwiOiAxLFxuICBcImhha3VpLmlzaGlrYXdhLmpwXCI6IDEsXG4gIFwiaGFrdXNhbi5pc2hpa2F3YS5qcFwiOiAxLFxuICBcImthZ2EuaXNoaWthd2EuanBcIjogMSxcbiAgXCJrYWhva3UuaXNoaWthd2EuanBcIjogMSxcbiAgXCJrYW5hemF3YS5pc2hpa2F3YS5qcFwiOiAxLFxuICBcImthd2FraXRhLmlzaGlrYXdhLmpwXCI6IDEsXG4gIFwia29tYXRzdS5pc2hpa2F3YS5qcFwiOiAxLFxuICBcIm5ha2Fub3RvLmlzaGlrYXdhLmpwXCI6IDEsXG4gIFwibmFuYW8uaXNoaWthd2EuanBcIjogMSxcbiAgXCJub21pLmlzaGlrYXdhLmpwXCI6IDEsXG4gIFwibm9ub2ljaGkuaXNoaWthd2EuanBcIjogMSxcbiAgXCJub3RvLmlzaGlrYXdhLmpwXCI6IDEsXG4gIFwic2hpa2EuaXNoaWthd2EuanBcIjogMSxcbiAgXCJzdXp1LmlzaGlrYXdhLmpwXCI6IDEsXG4gIFwidHN1YmF0YS5pc2hpa2F3YS5qcFwiOiAxLFxuICBcInRzdXJ1Z2kuaXNoaWthd2EuanBcIjogMSxcbiAgXCJ1Y2hpbmFkYS5pc2hpa2F3YS5qcFwiOiAxLFxuICBcIndhamltYS5pc2hpa2F3YS5qcFwiOiAxLFxuICBcImZ1ZGFpLml3YXRlLmpwXCI6IDEsXG4gIFwiZnVqaXNhd2EuaXdhdGUuanBcIjogMSxcbiAgXCJoYW5hbWFraS5pd2F0ZS5qcFwiOiAxLFxuICBcImhpcmFpenVtaS5pd2F0ZS5qcFwiOiAxLFxuICBcImhpcm9uby5pd2F0ZS5qcFwiOiAxLFxuICBcImljaGlub2hlLml3YXRlLmpwXCI6IDEsXG4gIFwiaWNoaW5vc2VraS5pd2F0ZS5qcFwiOiAxLFxuICBcIml3YWl6dW1pLml3YXRlLmpwXCI6IDEsXG4gIFwiaXdhdGUuaXdhdGUuanBcIjogMSxcbiAgXCJqb2JvamkuaXdhdGUuanBcIjogMSxcbiAgXCJrYW1haXNoaS5pd2F0ZS5qcFwiOiAxLFxuICBcImthbmVnYXNha2kuaXdhdGUuanBcIjogMSxcbiAgXCJrYXJ1bWFpLml3YXRlLmpwXCI6IDEsXG4gIFwia2F3YWkuaXdhdGUuanBcIjogMSxcbiAgXCJraXRha2FtaS5pd2F0ZS5qcFwiOiAxLFxuICBcImt1amkuaXdhdGUuanBcIjogMSxcbiAgXCJrdW5vaGUuaXdhdGUuanBcIjogMSxcbiAgXCJrdXp1bWFraS5pd2F0ZS5qcFwiOiAxLFxuICBcIm1peWFrby5pd2F0ZS5qcFwiOiAxLFxuICBcIm1penVzYXdhLml3YXRlLmpwXCI6IDEsXG4gIFwibW9yaW9rYS5pd2F0ZS5qcFwiOiAxLFxuICBcIm5pbm9oZS5pd2F0ZS5qcFwiOiAxLFxuICBcIm5vZGEuaXdhdGUuanBcIjogMSxcbiAgXCJvZnVuYXRvLml3YXRlLmpwXCI6IDEsXG4gIFwib3NodS5pd2F0ZS5qcFwiOiAxLFxuICBcIm90c3VjaGkuaXdhdGUuanBcIjogMSxcbiAgXCJyaWt1emVudGFrYXRhLml3YXRlLmpwXCI6IDEsXG4gIFwic2hpd2EuaXdhdGUuanBcIjogMSxcbiAgXCJzaGl6dWt1aXNoaS5pd2F0ZS5qcFwiOiAxLFxuICBcInN1bWl0YS5pd2F0ZS5qcFwiOiAxLFxuICBcInRhbm9oYXRhLml3YXRlLmpwXCI6IDEsXG4gIFwidG9uby5pd2F0ZS5qcFwiOiAxLFxuICBcInlhaGFiYS5pd2F0ZS5qcFwiOiAxLFxuICBcInlhbWFkYS5pd2F0ZS5qcFwiOiAxLFxuICBcImF5YWdhd2Eua2FnYXdhLmpwXCI6IDEsXG4gIFwiaGlnYXNoaWthZ2F3YS5rYWdhd2EuanBcIjogMSxcbiAgXCJrYW5vbmppLmthZ2F3YS5qcFwiOiAxLFxuICBcImtvdG9oaXJhLmthZ2F3YS5qcFwiOiAxLFxuICBcIm1hbm5vLmthZ2F3YS5qcFwiOiAxLFxuICBcIm1hcnVnYW1lLmthZ2F3YS5qcFwiOiAxLFxuICBcIm1pdG95by5rYWdhd2EuanBcIjogMSxcbiAgXCJuYW9zaGltYS5rYWdhd2EuanBcIjogMSxcbiAgXCJzYW51a2kua2FnYXdhLmpwXCI6IDEsXG4gIFwidGFkb3RzdS5rYWdhd2EuanBcIjogMSxcbiAgXCJ0YWthbWF0c3Uua2FnYXdhLmpwXCI6IDEsXG4gIFwidG9ub3Noby5rYWdhd2EuanBcIjogMSxcbiAgXCJ1Y2hpbm9taS5rYWdhd2EuanBcIjogMSxcbiAgXCJ1dGF6dS5rYWdhd2EuanBcIjogMSxcbiAgXCJ6ZW50c3VqaS5rYWdhd2EuanBcIjogMSxcbiAgXCJha3VuZS5rYWdvc2hpbWEuanBcIjogMSxcbiAgXCJhbWFtaS5rYWdvc2hpbWEuanBcIjogMSxcbiAgXCJoaW9raS5rYWdvc2hpbWEuanBcIjogMSxcbiAgXCJpc2Eua2Fnb3NoaW1hLmpwXCI6IDEsXG4gIFwiaXNlbi5rYWdvc2hpbWEuanBcIjogMSxcbiAgXCJpenVtaS5rYWdvc2hpbWEuanBcIjogMSxcbiAgXCJrYWdvc2hpbWEua2Fnb3NoaW1hLmpwXCI6IDEsXG4gIFwia2Fub3lhLmthZ29zaGltYS5qcFwiOiAxLFxuICBcImthd2FuYWJlLmthZ29zaGltYS5qcFwiOiAxLFxuICBcImtpbmtvLmthZ29zaGltYS5qcFwiOiAxLFxuICBcImtvdXlhbWEua2Fnb3NoaW1hLmpwXCI6IDEsXG4gIFwibWFrdXJhemFraS5rYWdvc2hpbWEuanBcIjogMSxcbiAgXCJtYXRzdW1vdG8ua2Fnb3NoaW1hLmpwXCI6IDEsXG4gIFwibWluYW1pdGFuZS5rYWdvc2hpbWEuanBcIjogMSxcbiAgXCJuYWthdGFuZS5rYWdvc2hpbWEuanBcIjogMSxcbiAgXCJuaXNoaW5vb21vdGUua2Fnb3NoaW1hLmpwXCI6IDEsXG4gIFwic2F0c3VtYXNlbmRhaS5rYWdvc2hpbWEuanBcIjogMSxcbiAgXCJzb28ua2Fnb3NoaW1hLmpwXCI6IDEsXG4gIFwidGFydW1penUua2Fnb3NoaW1hLmpwXCI6IDEsXG4gIFwieXVzdWkua2Fnb3NoaW1hLmpwXCI6IDEsXG4gIFwiYWlrYXdhLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwiYXRzdWdpLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwiYXlhc2Uua2FuYWdhd2EuanBcIjogMSxcbiAgXCJjaGlnYXNha2kua2FuYWdhd2EuanBcIjogMSxcbiAgXCJlYmluYS5rYW5hZ2F3YS5qcFwiOiAxLFxuICBcImZ1amlzYXdhLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwiaGFkYW5vLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwiaGFrb25lLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwiaGlyYXRzdWthLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwiaXNlaGFyYS5rYW5hZ2F3YS5qcFwiOiAxLFxuICBcImthaXNlaS5rYW5hZ2F3YS5qcFwiOiAxLFxuICBcImthbWFrdXJhLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwia2l5b2thd2Eua2FuYWdhd2EuanBcIjogMSxcbiAgXCJtYXRzdWRhLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwibWluYW1pYXNoaWdhcmEua2FuYWdhd2EuanBcIjogMSxcbiAgXCJtaXVyYS5rYW5hZ2F3YS5qcFwiOiAxLFxuICBcIm5ha2FpLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwibmlub21peWEua2FuYWdhd2EuanBcIjogMSxcbiAgXCJvZGF3YXJhLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwib2kua2FuYWdhd2EuanBcIjogMSxcbiAgXCJvaXNvLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwic2FnYW1paGFyYS5rYW5hZ2F3YS5qcFwiOiAxLFxuICBcInNhbXVrYXdhLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwidHN1a3VpLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwieWFtYWtpdGEua2FuYWdhd2EuanBcIjogMSxcbiAgXCJ5YW1hdG8ua2FuYWdhd2EuanBcIjogMSxcbiAgXCJ5b2tvc3VrYS5rYW5hZ2F3YS5qcFwiOiAxLFxuICBcInl1Z2F3YXJhLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwiemFtYS5rYW5hZ2F3YS5qcFwiOiAxLFxuICBcInp1c2hpLmthbmFnYXdhLmpwXCI6IDEsXG4gIFwiYWtpLmtvY2hpLmpwXCI6IDEsXG4gIFwiZ2Vpc2VpLmtvY2hpLmpwXCI6IDEsXG4gIFwiaGlkYWthLmtvY2hpLmpwXCI6IDEsXG4gIFwiaGlnYXNoaXRzdW5vLmtvY2hpLmpwXCI6IDEsXG4gIFwiaW5vLmtvY2hpLmpwXCI6IDEsXG4gIFwia2FnYW1pLmtvY2hpLmpwXCI6IDEsXG4gIFwia2FtaS5rb2NoaS5qcFwiOiAxLFxuICBcImtpdGFnYXdhLmtvY2hpLmpwXCI6IDEsXG4gIFwia29jaGkua29jaGkuanBcIjogMSxcbiAgXCJtaWhhcmEua29jaGkuanBcIjogMSxcbiAgXCJtb3RveWFtYS5rb2NoaS5qcFwiOiAxLFxuICBcIm11cm90by5rb2NoaS5qcFwiOiAxLFxuICBcIm5haGFyaS5rb2NoaS5qcFwiOiAxLFxuICBcIm5ha2FtdXJhLmtvY2hpLmpwXCI6IDEsXG4gIFwibmFua29rdS5rb2NoaS5qcFwiOiAxLFxuICBcIm5pc2hpdG9zYS5rb2NoaS5qcFwiOiAxLFxuICBcIm5peW9kb2dhd2Eua29jaGkuanBcIjogMSxcbiAgXCJvY2hpLmtvY2hpLmpwXCI6IDEsXG4gIFwib2thd2Eua29jaGkuanBcIjogMSxcbiAgXCJvdG95by5rb2NoaS5qcFwiOiAxLFxuICBcIm90c3VraS5rb2NoaS5qcFwiOiAxLFxuICBcInNha2F3YS5rb2NoaS5qcFwiOiAxLFxuICBcInN1a3Vtby5rb2NoaS5qcFwiOiAxLFxuICBcInN1c2FraS5rb2NoaS5qcFwiOiAxLFxuICBcInRvc2Eua29jaGkuanBcIjogMSxcbiAgXCJ0b3Nhc2hpbWl6dS5rb2NoaS5qcFwiOiAxLFxuICBcInRveW8ua29jaGkuanBcIjogMSxcbiAgXCJ0c3Vuby5rb2NoaS5qcFwiOiAxLFxuICBcInVtYWppLmtvY2hpLmpwXCI6IDEsXG4gIFwieWFzdWRhLmtvY2hpLmpwXCI6IDEsXG4gIFwieXVzdWhhcmEua29jaGkuanBcIjogMSxcbiAgXCJhbWFrdXNhLmt1bWFtb3RvLmpwXCI6IDEsXG4gIFwiYXJhby5rdW1hbW90by5qcFwiOiAxLFxuICBcImFzby5rdW1hbW90by5qcFwiOiAxLFxuICBcImNob3lvLmt1bWFtb3RvLmpwXCI6IDEsXG4gIFwiZ3lva3V0by5rdW1hbW90by5qcFwiOiAxLFxuICBcImthbWlhbWFrdXNhLmt1bWFtb3RvLmpwXCI6IDEsXG4gIFwia2lrdWNoaS5rdW1hbW90by5qcFwiOiAxLFxuICBcImt1bWFtb3RvLmt1bWFtb3RvLmpwXCI6IDEsXG4gIFwibWFzaGlraS5rdW1hbW90by5qcFwiOiAxLFxuICBcIm1pZnVuZS5rdW1hbW90by5qcFwiOiAxLFxuICBcIm1pbmFtYXRhLmt1bWFtb3RvLmpwXCI6IDEsXG4gIFwibWluYW1pb2d1bmkua3VtYW1vdG8uanBcIjogMSxcbiAgXCJuYWdhc3Uua3VtYW1vdG8uanBcIjogMSxcbiAgXCJuaXNoaWhhcmEua3VtYW1vdG8uanBcIjogMSxcbiAgXCJvZ3VuaS5rdW1hbW90by5qcFwiOiAxLFxuICBcIm96dS5rdW1hbW90by5qcFwiOiAxLFxuICBcInN1bW90by5rdW1hbW90by5qcFwiOiAxLFxuICBcInRha2Ftb3JpLmt1bWFtb3RvLmpwXCI6IDEsXG4gIFwidWtpLmt1bWFtb3RvLmpwXCI6IDEsXG4gIFwidXRvLmt1bWFtb3RvLmpwXCI6IDEsXG4gIFwieWFtYWdhLmt1bWFtb3RvLmpwXCI6IDEsXG4gIFwieWFtYXRvLmt1bWFtb3RvLmpwXCI6IDEsXG4gIFwieWF0c3VzaGlyby5rdW1hbW90by5qcFwiOiAxLFxuICBcImF5YWJlLmt5b3RvLmpwXCI6IDEsXG4gIFwiZnVrdWNoaXlhbWEua3lvdG8uanBcIjogMSxcbiAgXCJoaWdhc2hpeWFtYS5reW90by5qcFwiOiAxLFxuICBcImlkZS5reW90by5qcFwiOiAxLFxuICBcImluZS5reW90by5qcFwiOiAxLFxuICBcImpveW8ua3lvdG8uanBcIjogMSxcbiAgXCJrYW1lb2thLmt5b3RvLmpwXCI6IDEsXG4gIFwia2Ftby5reW90by5qcFwiOiAxLFxuICBcImtpdGEua3lvdG8uanBcIjogMSxcbiAgXCJraXp1Lmt5b3RvLmpwXCI6IDEsXG4gIFwia3VtaXlhbWEua3lvdG8uanBcIjogMSxcbiAgXCJreW90YW1iYS5reW90by5qcFwiOiAxLFxuICBcImt5b3RhbmFiZS5reW90by5qcFwiOiAxLFxuICBcImt5b3RhbmdvLmt5b3RvLmpwXCI6IDEsXG4gIFwibWFpenVydS5reW90by5qcFwiOiAxLFxuICBcIm1pbmFtaS5reW90by5qcFwiOiAxLFxuICBcIm1pbmFtaXlhbWFzaGlyby5reW90by5qcFwiOiAxLFxuICBcIm1peWF6dS5reW90by5qcFwiOiAxLFxuICBcIm11a28ua3lvdG8uanBcIjogMSxcbiAgXCJuYWdhb2tha3lvLmt5b3RvLmpwXCI6IDEsXG4gIFwibmFrYWd5by5reW90by5qcFwiOiAxLFxuICBcIm5hbnRhbi5reW90by5qcFwiOiAxLFxuICBcIm95YW1hemFraS5reW90by5qcFwiOiAxLFxuICBcInNha3lvLmt5b3RvLmpwXCI6IDEsXG4gIFwic2Vpa2Eua3lvdG8uanBcIjogMSxcbiAgXCJ0YW5hYmUua3lvdG8uanBcIjogMSxcbiAgXCJ1amkua3lvdG8uanBcIjogMSxcbiAgXCJ1aml0YXdhcmEua3lvdG8uanBcIjogMSxcbiAgXCJ3YXp1a2Eua3lvdG8uanBcIjogMSxcbiAgXCJ5YW1hc2hpbmEua3lvdG8uanBcIjogMSxcbiAgXCJ5YXdhdGEua3lvdG8uanBcIjogMSxcbiAgXCJhc2FoaS5taWUuanBcIjogMSxcbiAgXCJpbmFiZS5taWUuanBcIjogMSxcbiAgXCJpc2UubWllLmpwXCI6IDEsXG4gIFwia2FtZXlhbWEubWllLmpwXCI6IDEsXG4gIFwia2F3YWdvZS5taWUuanBcIjogMSxcbiAgXCJraWhvLm1pZS5qcFwiOiAxLFxuICBcImtpc29zYWtpLm1pZS5qcFwiOiAxLFxuICBcImtpd2EubWllLmpwXCI6IDEsXG4gIFwia29tb25vLm1pZS5qcFwiOiAxLFxuICBcImt1bWFuby5taWUuanBcIjogMSxcbiAgXCJrdXdhbmEubWllLmpwXCI6IDEsXG4gIFwibWF0c3VzYWthLm1pZS5qcFwiOiAxLFxuICBcIm1laXdhLm1pZS5qcFwiOiAxLFxuICBcIm1paGFtYS5taWUuanBcIjogMSxcbiAgXCJtaW5hbWlpc2UubWllLmpwXCI6IDEsXG4gIFwibWlzdWdpLm1pZS5qcFwiOiAxLFxuICBcIm1peWFtYS5taWUuanBcIjogMSxcbiAgXCJuYWJhcmkubWllLmpwXCI6IDEsXG4gIFwic2hpbWEubWllLmpwXCI6IDEsXG4gIFwic3V6dWthLm1pZS5qcFwiOiAxLFxuICBcInRhZG8ubWllLmpwXCI6IDEsXG4gIFwidGFpa2kubWllLmpwXCI6IDEsXG4gIFwidGFraS5taWUuanBcIjogMSxcbiAgXCJ0YW1ha2kubWllLmpwXCI6IDEsXG4gIFwidG9iYS5taWUuanBcIjogMSxcbiAgXCJ0c3UubWllLmpwXCI6IDEsXG4gIFwidWRvbm8ubWllLmpwXCI6IDEsXG4gIFwidXJlc2hpbm8ubWllLmpwXCI6IDEsXG4gIFwid2F0YXJhaS5taWUuanBcIjogMSxcbiAgXCJ5b2trYWljaGkubWllLmpwXCI6IDEsXG4gIFwiZnVydWthd2EubWl5YWdpLmpwXCI6IDEsXG4gIFwiaGlnYXNoaW1hdHN1c2hpbWEubWl5YWdpLmpwXCI6IDEsXG4gIFwiaXNoaW5vbWFraS5taXlhZ2kuanBcIjogMSxcbiAgXCJpd2FudW1hLm1peWFnaS5qcFwiOiAxLFxuICBcImtha3VkYS5taXlhZ2kuanBcIjogMSxcbiAgXCJrYW1pLm1peWFnaS5qcFwiOiAxLFxuICBcImthd2FzYWtpLm1peWFnaS5qcFwiOiAxLFxuICBcIm1hcnVtb3JpLm1peWFnaS5qcFwiOiAxLFxuICBcIm1hdHN1c2hpbWEubWl5YWdpLmpwXCI6IDEsXG4gIFwibWluYW1pc2FucmlrdS5taXlhZ2kuanBcIjogMSxcbiAgXCJtaXNhdG8ubWl5YWdpLmpwXCI6IDEsXG4gIFwibXVyYXRhLm1peWFnaS5qcFwiOiAxLFxuICBcIm5hdG9yaS5taXlhZ2kuanBcIjogMSxcbiAgXCJvZ2F3YXJhLm1peWFnaS5qcFwiOiAxLFxuICBcIm9oaXJhLm1peWFnaS5qcFwiOiAxLFxuICBcIm9uYWdhd2EubWl5YWdpLmpwXCI6IDEsXG4gIFwib3Nha2kubWl5YWdpLmpwXCI6IDEsXG4gIFwicmlmdS5taXlhZ2kuanBcIjogMSxcbiAgXCJzZW1pbmUubWl5YWdpLmpwXCI6IDEsXG4gIFwic2hpYmF0YS5taXlhZ2kuanBcIjogMSxcbiAgXCJzaGljaGlrYXNodWt1Lm1peWFnaS5qcFwiOiAxLFxuICBcInNoaWthbWEubWl5YWdpLmpwXCI6IDEsXG4gIFwic2hpb2dhbWEubWl5YWdpLmpwXCI6IDEsXG4gIFwic2hpcm9pc2hpLm1peWFnaS5qcFwiOiAxLFxuICBcInRhZ2Fqby5taXlhZ2kuanBcIjogMSxcbiAgXCJ0YWl3YS5taXlhZ2kuanBcIjogMSxcbiAgXCJ0b21lLm1peWFnaS5qcFwiOiAxLFxuICBcInRvbWl5YS5taXlhZ2kuanBcIjogMSxcbiAgXCJ3YWt1eWEubWl5YWdpLmpwXCI6IDEsXG4gIFwid2F0YXJpLm1peWFnaS5qcFwiOiAxLFxuICBcInlhbWFtb3RvLm1peWFnaS5qcFwiOiAxLFxuICBcInphby5taXlhZ2kuanBcIjogMSxcbiAgXCJheWEubWl5YXpha2kuanBcIjogMSxcbiAgXCJlYmluby5taXlhemFraS5qcFwiOiAxLFxuICBcImdva2FzZS5taXlhemFraS5qcFwiOiAxLFxuICBcImh5dWdhLm1peWF6YWtpLmpwXCI6IDEsXG4gIFwia2Fkb2dhd2EubWl5YXpha2kuanBcIjogMSxcbiAgXCJrYXdhbWluYW1pLm1peWF6YWtpLmpwXCI6IDEsXG4gIFwia2lqby5taXlhemFraS5qcFwiOiAxLFxuICBcImtpdGFnYXdhLm1peWF6YWtpLmpwXCI6IDEsXG4gIFwia2l0YWthdGEubWl5YXpha2kuanBcIjogMSxcbiAgXCJraXRhdXJhLm1peWF6YWtpLmpwXCI6IDEsXG4gIFwia29iYXlhc2hpLm1peWF6YWtpLmpwXCI6IDEsXG4gIFwia3VuaXRvbWkubWl5YXpha2kuanBcIjogMSxcbiAgXCJrdXNoaW1hLm1peWF6YWtpLmpwXCI6IDEsXG4gIFwibWltYXRhLm1peWF6YWtpLmpwXCI6IDEsXG4gIFwibWl5YWtvbm9qby5taXlhemFraS5qcFwiOiAxLFxuICBcIm1peWF6YWtpLm1peWF6YWtpLmpwXCI6IDEsXG4gIFwibW9yb3RzdWthLm1peWF6YWtpLmpwXCI6IDEsXG4gIFwibmljaGluYW4ubWl5YXpha2kuanBcIjogMSxcbiAgXCJuaXNoaW1lcmEubWl5YXpha2kuanBcIjogMSxcbiAgXCJub2Jlb2thLm1peWF6YWtpLmpwXCI6IDEsXG4gIFwic2FpdG8ubWl5YXpha2kuanBcIjogMSxcbiAgXCJzaGlpYmEubWl5YXpha2kuanBcIjogMSxcbiAgXCJzaGludG9taS5taXlhemFraS5qcFwiOiAxLFxuICBcInRha2FoYXJ1Lm1peWF6YWtpLmpwXCI6IDEsXG4gIFwidGFrYW5hYmUubWl5YXpha2kuanBcIjogMSxcbiAgXCJ0YWthemFraS5taXlhemFraS5qcFwiOiAxLFxuICBcInRzdW5vLm1peWF6YWtpLmpwXCI6IDEsXG4gIFwiYWNoaS5uYWdhbm8uanBcIjogMSxcbiAgXCJhZ2VtYXRzdS5uYWdhbm8uanBcIjogMSxcbiAgXCJhbmFuLm5hZ2Fuby5qcFwiOiAxLFxuICBcImFva2kubmFnYW5vLmpwXCI6IDEsXG4gIFwiYXNhaGkubmFnYW5vLmpwXCI6IDEsXG4gIFwiYXp1bWluby5uYWdhbm8uanBcIjogMSxcbiAgXCJjaGlrdWhva3UubmFnYW5vLmpwXCI6IDEsXG4gIFwiY2hpa3VtYS5uYWdhbm8uanBcIjogMSxcbiAgXCJjaGluby5uYWdhbm8uanBcIjogMSxcbiAgXCJmdWppbWkubmFnYW5vLmpwXCI6IDEsXG4gIFwiaGFrdWJhLm5hZ2Fuby5qcFwiOiAxLFxuICBcImhhcmEubmFnYW5vLmpwXCI6IDEsXG4gIFwiaGlyYXlhLm5hZ2Fuby5qcFwiOiAxLFxuICBcImlpZGEubmFnYW5vLmpwXCI6IDEsXG4gIFwiaWlqaW1hLm5hZ2Fuby5qcFwiOiAxLFxuICBcImlpeWFtYS5uYWdhbm8uanBcIjogMSxcbiAgXCJpaXp1bmEubmFnYW5vLmpwXCI6IDEsXG4gIFwiaWtlZGEubmFnYW5vLmpwXCI6IDEsXG4gIFwiaWt1c2FrYS5uYWdhbm8uanBcIjogMSxcbiAgXCJpbmEubmFnYW5vLmpwXCI6IDEsXG4gIFwia2FydWl6YXdhLm5hZ2Fuby5qcFwiOiAxLFxuICBcImthd2FrYW1pLm5hZ2Fuby5qcFwiOiAxLFxuICBcImtpc28ubmFnYW5vLmpwXCI6IDEsXG4gIFwia2lzb2Z1a3VzaGltYS5uYWdhbm8uanBcIjogMSxcbiAgXCJraXRhYWlraS5uYWdhbm8uanBcIjogMSxcbiAgXCJrb21hZ2FuZS5uYWdhbm8uanBcIjogMSxcbiAgXCJrb21vcm8ubmFnYW5vLmpwXCI6IDEsXG4gIFwibWF0c3VrYXdhLm5hZ2Fuby5qcFwiOiAxLFxuICBcIm1hdHN1bW90by5uYWdhbm8uanBcIjogMSxcbiAgXCJtaWFzYS5uYWdhbm8uanBcIjogMSxcbiAgXCJtaW5hbWlhaWtpLm5hZ2Fuby5qcFwiOiAxLFxuICBcIm1pbmFtaW1ha2kubmFnYW5vLmpwXCI6IDEsXG4gIFwibWluYW1pbWlub3dhLm5hZ2Fuby5qcFwiOiAxLFxuICBcIm1pbm93YS5uYWdhbm8uanBcIjogMSxcbiAgXCJtaXlhZGEubmFnYW5vLmpwXCI6IDEsXG4gIFwibWl5b3RhLm5hZ2Fuby5qcFwiOiAxLFxuICBcIm1vY2hpenVraS5uYWdhbm8uanBcIjogMSxcbiAgXCJuYWdhbm8ubmFnYW5vLmpwXCI6IDEsXG4gIFwibmFnYXdhLm5hZ2Fuby5qcFwiOiAxLFxuICBcIm5hZ2lzby5uYWdhbm8uanBcIjogMSxcbiAgXCJuYWthZ2F3YS5uYWdhbm8uanBcIjogMSxcbiAgXCJuYWthbm8ubmFnYW5vLmpwXCI6IDEsXG4gIFwibm96YXdhb25zZW4ubmFnYW5vLmpwXCI6IDEsXG4gIFwib2J1c2UubmFnYW5vLmpwXCI6IDEsXG4gIFwib2dhd2EubmFnYW5vLmpwXCI6IDEsXG4gIFwib2theWEubmFnYW5vLmpwXCI6IDEsXG4gIFwib21hY2hpLm5hZ2Fuby5qcFwiOiAxLFxuICBcIm9taS5uYWdhbm8uanBcIjogMSxcbiAgXCJvb2t1d2EubmFnYW5vLmpwXCI6IDEsXG4gIFwib29zaGlrYS5uYWdhbm8uanBcIjogMSxcbiAgXCJvdGFraS5uYWdhbm8uanBcIjogMSxcbiAgXCJvdGFyaS5uYWdhbm8uanBcIjogMSxcbiAgXCJzYWthZS5uYWdhbm8uanBcIjogMSxcbiAgXCJzYWtha2kubmFnYW5vLmpwXCI6IDEsXG4gIFwic2FrdS5uYWdhbm8uanBcIjogMSxcbiAgXCJzYWt1aG8ubmFnYW5vLmpwXCI6IDEsXG4gIFwic2hpbW9zdXdhLm5hZ2Fuby5qcFwiOiAxLFxuICBcInNoaW5hbm9tYWNoaS5uYWdhbm8uanBcIjogMSxcbiAgXCJzaGlvamlyaS5uYWdhbm8uanBcIjogMSxcbiAgXCJzdXdhLm5hZ2Fuby5qcFwiOiAxLFxuICBcInN1emFrYS5uYWdhbm8uanBcIjogMSxcbiAgXCJ0YWthZ2kubmFnYW5vLmpwXCI6IDEsXG4gIFwidGFrYW1vcmkubmFnYW5vLmpwXCI6IDEsXG4gIFwidGFrYXlhbWEubmFnYW5vLmpwXCI6IDEsXG4gIFwidGF0ZXNoaW5hLm5hZ2Fuby5qcFwiOiAxLFxuICBcInRhdHN1bm8ubmFnYW5vLmpwXCI6IDEsXG4gIFwidG9nYWt1c2hpLm5hZ2Fuby5qcFwiOiAxLFxuICBcInRvZ3VyYS5uYWdhbm8uanBcIjogMSxcbiAgXCJ0b21pLm5hZ2Fuby5qcFwiOiAxLFxuICBcInVlZGEubmFnYW5vLmpwXCI6IDEsXG4gIFwid2FkYS5uYWdhbm8uanBcIjogMSxcbiAgXCJ5YW1hZ2F0YS5uYWdhbm8uanBcIjogMSxcbiAgXCJ5YW1hbm91Y2hpLm5hZ2Fuby5qcFwiOiAxLFxuICBcInlhc2FrYS5uYWdhbm8uanBcIjogMSxcbiAgXCJ5YXN1b2thLm5hZ2Fuby5qcFwiOiAxLFxuICBcImNoaWppd2EubmFnYXNha2kuanBcIjogMSxcbiAgXCJmdXRzdS5uYWdhc2FraS5qcFwiOiAxLFxuICBcImdvdG8ubmFnYXNha2kuanBcIjogMSxcbiAgXCJoYXNhbWkubmFnYXNha2kuanBcIjogMSxcbiAgXCJoaXJhZG8ubmFnYXNha2kuanBcIjogMSxcbiAgXCJpa2kubmFnYXNha2kuanBcIjogMSxcbiAgXCJpc2FoYXlhLm5hZ2FzYWtpLmpwXCI6IDEsXG4gIFwia2F3YXRhbmEubmFnYXNha2kuanBcIjogMSxcbiAgXCJrdWNoaW5vdHN1Lm5hZ2FzYWtpLmpwXCI6IDEsXG4gIFwibWF0c3V1cmEubmFnYXNha2kuanBcIjogMSxcbiAgXCJuYWdhc2FraS5uYWdhc2FraS5qcFwiOiAxLFxuICBcIm9iYW1hLm5hZ2FzYWtpLmpwXCI6IDEsXG4gIFwib211cmEubmFnYXNha2kuanBcIjogMSxcbiAgXCJvc2V0by5uYWdhc2FraS5qcFwiOiAxLFxuICBcInNhaWthaS5uYWdhc2FraS5qcFwiOiAxLFxuICBcInNhc2Viby5uYWdhc2FraS5qcFwiOiAxLFxuICBcInNlaWhpLm5hZ2FzYWtpLmpwXCI6IDEsXG4gIFwic2hpbWFiYXJhLm5hZ2FzYWtpLmpwXCI6IDEsXG4gIFwic2hpbmthbWlnb3RvLm5hZ2FzYWtpLmpwXCI6IDEsXG4gIFwidG9naXRzdS5uYWdhc2FraS5qcFwiOiAxLFxuICBcInRzdXNoaW1hLm5hZ2FzYWtpLmpwXCI6IDEsXG4gIFwidW56ZW4ubmFnYXNha2kuanBcIjogMSxcbiAgXCJhbmRvLm5hcmEuanBcIjogMSxcbiAgXCJnb3NlLm5hcmEuanBcIjogMSxcbiAgXCJoZWd1cmkubmFyYS5qcFwiOiAxLFxuICBcImhpZ2FzaGl5b3NoaW5vLm5hcmEuanBcIjogMSxcbiAgXCJpa2FydWdhLm5hcmEuanBcIjogMSxcbiAgXCJpa29tYS5uYXJhLmpwXCI6IDEsXG4gIFwia2FtaWtpdGF5YW1hLm5hcmEuanBcIjogMSxcbiAgXCJrYW5tYWtpLm5hcmEuanBcIjogMSxcbiAgXCJrYXNoaWJhLm5hcmEuanBcIjogMSxcbiAgXCJrYXNoaWhhcmEubmFyYS5qcFwiOiAxLFxuICBcImthdHN1cmFnaS5uYXJhLmpwXCI6IDEsXG4gIFwia2F3YWkubmFyYS5qcFwiOiAxLFxuICBcImthd2FrYW1pLm5hcmEuanBcIjogMSxcbiAgXCJrYXdhbmlzaGkubmFyYS5qcFwiOiAxLFxuICBcImtvcnlvLm5hcmEuanBcIjogMSxcbiAgXCJrdXJvdGFraS5uYXJhLmpwXCI6IDEsXG4gIFwibWl0c3VlLm5hcmEuanBcIjogMSxcbiAgXCJtaXlha2UubmFyYS5qcFwiOiAxLFxuICBcIm5hcmEubmFyYS5qcFwiOiAxLFxuICBcIm5vc2VnYXdhLm5hcmEuanBcIjogMSxcbiAgXCJvamkubmFyYS5qcFwiOiAxLFxuICBcIm91ZGEubmFyYS5qcFwiOiAxLFxuICBcIm95b2RvLm5hcmEuanBcIjogMSxcbiAgXCJzYWt1cmFpLm5hcmEuanBcIjogMSxcbiAgXCJzYW5nby5uYXJhLmpwXCI6IDEsXG4gIFwic2hpbW9pY2hpLm5hcmEuanBcIjogMSxcbiAgXCJzaGltb2tpdGF5YW1hLm5hcmEuanBcIjogMSxcbiAgXCJzaGluam8ubmFyYS5qcFwiOiAxLFxuICBcInNvbmkubmFyYS5qcFwiOiAxLFxuICBcInRha2F0b3JpLm5hcmEuanBcIjogMSxcbiAgXCJ0YXdhcmFtb3RvLm5hcmEuanBcIjogMSxcbiAgXCJ0ZW5rYXdhLm5hcmEuanBcIjogMSxcbiAgXCJ0ZW5yaS5uYXJhLmpwXCI6IDEsXG4gIFwidWRhLm5hcmEuanBcIjogMSxcbiAgXCJ5YW1hdG9rb3JpeWFtYS5uYXJhLmpwXCI6IDEsXG4gIFwieWFtYXRvdGFrYWRhLm5hcmEuanBcIjogMSxcbiAgXCJ5YW1hem9lLm5hcmEuanBcIjogMSxcbiAgXCJ5b3NoaW5vLm5hcmEuanBcIjogMSxcbiAgXCJhZ2EubmlpZ2F0YS5qcFwiOiAxLFxuICBcImFnYW5vLm5paWdhdGEuanBcIjogMSxcbiAgXCJnb3Nlbi5uaWlnYXRhLmpwXCI6IDEsXG4gIFwiaXRvaWdhd2EubmlpZ2F0YS5qcFwiOiAxLFxuICBcIml6dW1vemFraS5uaWlnYXRhLmpwXCI6IDEsXG4gIFwiam9ldHN1Lm5paWdhdGEuanBcIjogMSxcbiAgXCJrYW1vLm5paWdhdGEuanBcIjogMSxcbiAgXCJrYXJpd2EubmlpZ2F0YS5qcFwiOiAxLFxuICBcImthc2hpd2F6YWtpLm5paWdhdGEuanBcIjogMSxcbiAgXCJtaW5hbWl1b251bWEubmlpZ2F0YS5qcFwiOiAxLFxuICBcIm1pdHN1a2UubmlpZ2F0YS5qcFwiOiAxLFxuICBcIm11aWthLm5paWdhdGEuanBcIjogMSxcbiAgXCJtdXJha2FtaS5uaWlnYXRhLmpwXCI6IDEsXG4gIFwibXlva28ubmlpZ2F0YS5qcFwiOiAxLFxuICBcIm5hZ2Fva2EubmlpZ2F0YS5qcFwiOiAxLFxuICBcIm5paWdhdGEubmlpZ2F0YS5qcFwiOiAxLFxuICBcIm9qaXlhLm5paWdhdGEuanBcIjogMSxcbiAgXCJvbWkubmlpZ2F0YS5qcFwiOiAxLFxuICBcInNhZG8ubmlpZ2F0YS5qcFwiOiAxLFxuICBcInNhbmpvLm5paWdhdGEuanBcIjogMSxcbiAgXCJzZWlyby5uaWlnYXRhLmpwXCI6IDEsXG4gIFwic2Vpcm91Lm5paWdhdGEuanBcIjogMSxcbiAgXCJzZWtpa2F3YS5uaWlnYXRhLmpwXCI6IDEsXG4gIFwic2hpYmF0YS5uaWlnYXRhLmpwXCI6IDEsXG4gIFwidGFnYW1pLm5paWdhdGEuanBcIjogMSxcbiAgXCJ0YWluYWkubmlpZ2F0YS5qcFwiOiAxLFxuICBcInRvY2hpby5uaWlnYXRhLmpwXCI6IDEsXG4gIFwidG9rYW1hY2hpLm5paWdhdGEuanBcIjogMSxcbiAgXCJ0c3ViYW1lLm5paWdhdGEuanBcIjogMSxcbiAgXCJ0c3VuYW4ubmlpZ2F0YS5qcFwiOiAxLFxuICBcInVvbnVtYS5uaWlnYXRhLmpwXCI6IDEsXG4gIFwieWFoaWtvLm5paWdhdGEuanBcIjogMSxcbiAgXCJ5b2l0YS5uaWlnYXRhLmpwXCI6IDEsXG4gIFwieXV6YXdhLm5paWdhdGEuanBcIjogMSxcbiAgXCJiZXBwdS5vaXRhLmpwXCI6IDEsXG4gIFwiYnVuZ29vbm8ub2l0YS5qcFwiOiAxLFxuICBcImJ1bmdvdGFrYWRhLm9pdGEuanBcIjogMSxcbiAgXCJoYXNhbWEub2l0YS5qcFwiOiAxLFxuICBcImhpamkub2l0YS5qcFwiOiAxLFxuICBcImhpbWVzaGltYS5vaXRhLmpwXCI6IDEsXG4gIFwiaGl0YS5vaXRhLmpwXCI6IDEsXG4gIFwia2FtaXRzdWUub2l0YS5qcFwiOiAxLFxuICBcImtva29ub2Uub2l0YS5qcFwiOiAxLFxuICBcImt1anUub2l0YS5qcFwiOiAxLFxuICBcImt1bmlzYWtpLm9pdGEuanBcIjogMSxcbiAgXCJrdXN1Lm9pdGEuanBcIjogMSxcbiAgXCJvaXRhLm9pdGEuanBcIjogMSxcbiAgXCJzYWlraS5vaXRhLmpwXCI6IDEsXG4gIFwidGFrZXRhLm9pdGEuanBcIjogMSxcbiAgXCJ0c3VrdW1pLm9pdGEuanBcIjogMSxcbiAgXCJ1c2Eub2l0YS5qcFwiOiAxLFxuICBcInVzdWtpLm9pdGEuanBcIjogMSxcbiAgXCJ5dWZ1Lm9pdGEuanBcIjogMSxcbiAgXCJha2Fpd2Eub2theWFtYS5qcFwiOiAxLFxuICBcImFzYWt1Y2hpLm9rYXlhbWEuanBcIjogMSxcbiAgXCJiaXplbi5va2F5YW1hLmpwXCI6IDEsXG4gIFwiaGF5YXNoaW1hLm9rYXlhbWEuanBcIjogMSxcbiAgXCJpYmFyYS5va2F5YW1hLmpwXCI6IDEsXG4gIFwia2FnYW1pbm8ub2theWFtYS5qcFwiOiAxLFxuICBcImthc2Fva2Eub2theWFtYS5qcFwiOiAxLFxuICBcImtpYmljaHVvLm9rYXlhbWEuanBcIjogMSxcbiAgXCJrdW1lbmFuLm9rYXlhbWEuanBcIjogMSxcbiAgXCJrdXJhc2hpa2kub2theWFtYS5qcFwiOiAxLFxuICBcIm1hbml3YS5va2F5YW1hLmpwXCI6IDEsXG4gIFwibWlzYWtpLm9rYXlhbWEuanBcIjogMSxcbiAgXCJuYWdpLm9rYXlhbWEuanBcIjogMSxcbiAgXCJuaWltaS5va2F5YW1hLmpwXCI6IDEsXG4gIFwibmlzaGlhd2FrdXJhLm9rYXlhbWEuanBcIjogMSxcbiAgXCJva2F5YW1hLm9rYXlhbWEuanBcIjogMSxcbiAgXCJzYXRvc2hvLm9rYXlhbWEuanBcIjogMSxcbiAgXCJzZXRvdWNoaS5va2F5YW1hLmpwXCI6IDEsXG4gIFwic2hpbmpvLm9rYXlhbWEuanBcIjogMSxcbiAgXCJzaG9vLm9rYXlhbWEuanBcIjogMSxcbiAgXCJzb2phLm9rYXlhbWEuanBcIjogMSxcbiAgXCJ0YWthaGFzaGkub2theWFtYS5qcFwiOiAxLFxuICBcInRhbWFuby5va2F5YW1hLmpwXCI6IDEsXG4gIFwidHN1eWFtYS5va2F5YW1hLmpwXCI6IDEsXG4gIFwid2FrZS5va2F5YW1hLmpwXCI6IDEsXG4gIFwieWFrYWdlLm9rYXlhbWEuanBcIjogMSxcbiAgXCJhZ3VuaS5va2luYXdhLmpwXCI6IDEsXG4gIFwiZ2lub3dhbi5va2luYXdhLmpwXCI6IDEsXG4gIFwiZ2lub3phLm9raW5hd2EuanBcIjogMSxcbiAgXCJndXNoaWthbWkub2tpbmF3YS5qcFwiOiAxLFxuICBcImhhZWJhcnUub2tpbmF3YS5qcFwiOiAxLFxuICBcImhpZ2FzaGkub2tpbmF3YS5qcFwiOiAxLFxuICBcImhpcmFyYS5va2luYXdhLmpwXCI6IDEsXG4gIFwiaWhleWEub2tpbmF3YS5qcFwiOiAxLFxuICBcImlzaGlnYWtpLm9raW5hd2EuanBcIjogMSxcbiAgXCJpc2hpa2F3YS5va2luYXdhLmpwXCI6IDEsXG4gIFwiaXRvbWFuLm9raW5hd2EuanBcIjogMSxcbiAgXCJpemVuYS5va2luYXdhLmpwXCI6IDEsXG4gIFwia2FkZW5hLm9raW5hd2EuanBcIjogMSxcbiAgXCJraW4ub2tpbmF3YS5qcFwiOiAxLFxuICBcImtpdGFkYWl0by5va2luYXdhLmpwXCI6IDEsXG4gIFwia2l0YW5ha2FndXN1a3Uub2tpbmF3YS5qcFwiOiAxLFxuICBcImt1bWVqaW1hLm9raW5hd2EuanBcIjogMSxcbiAgXCJrdW5pZ2FtaS5va2luYXdhLmpwXCI6IDEsXG4gIFwibWluYW1pZGFpdG8ub2tpbmF3YS5qcFwiOiAxLFxuICBcIm1vdG9idS5va2luYXdhLmpwXCI6IDEsXG4gIFwibmFnby5va2luYXdhLmpwXCI6IDEsXG4gIFwibmFoYS5va2luYXdhLmpwXCI6IDEsXG4gIFwibmFrYWd1c3VrdS5va2luYXdhLmpwXCI6IDEsXG4gIFwibmFraWppbi5va2luYXdhLmpwXCI6IDEsXG4gIFwibmFuam8ub2tpbmF3YS5qcFwiOiAxLFxuICBcIm5pc2hpaGFyYS5va2luYXdhLmpwXCI6IDEsXG4gIFwib2dpbWkub2tpbmF3YS5qcFwiOiAxLFxuICBcIm9raW5hd2Eub2tpbmF3YS5qcFwiOiAxLFxuICBcIm9ubmEub2tpbmF3YS5qcFwiOiAxLFxuICBcInNoaW1vamkub2tpbmF3YS5qcFwiOiAxLFxuICBcInRha2V0b21pLm9raW5hd2EuanBcIjogMSxcbiAgXCJ0YXJhbWEub2tpbmF3YS5qcFwiOiAxLFxuICBcInRva2FzaGlraS5va2luYXdhLmpwXCI6IDEsXG4gIFwidG9taWd1c3VrdS5va2luYXdhLmpwXCI6IDEsXG4gIFwidG9uYWtpLm9raW5hd2EuanBcIjogMSxcbiAgXCJ1cmFzb2Uub2tpbmF3YS5qcFwiOiAxLFxuICBcInVydW1hLm9raW5hd2EuanBcIjogMSxcbiAgXCJ5YWVzZS5va2luYXdhLmpwXCI6IDEsXG4gIFwieW9taXRhbi5va2luYXdhLmpwXCI6IDEsXG4gIFwieW9uYWJhcnUub2tpbmF3YS5qcFwiOiAxLFxuICBcInlvbmFndW5pLm9raW5hd2EuanBcIjogMSxcbiAgXCJ6YW1hbWkub2tpbmF3YS5qcFwiOiAxLFxuICBcImFiZW5vLm9zYWthLmpwXCI6IDEsXG4gIFwiY2hpaGF5YWFrYXNha2Eub3Nha2EuanBcIjogMSxcbiAgXCJjaHVvLm9zYWthLmpwXCI6IDEsXG4gIFwiZGFpdG8ub3Nha2EuanBcIjogMSxcbiAgXCJmdWppaWRlcmEub3Nha2EuanBcIjogMSxcbiAgXCJoYWJpa2luby5vc2FrYS5qcFwiOiAxLFxuICBcImhhbm5hbi5vc2FrYS5qcFwiOiAxLFxuICBcImhpZ2FzaGlvc2FrYS5vc2FrYS5qcFwiOiAxLFxuICBcImhpZ2FzaGlzdW1peW9zaGkub3Nha2EuanBcIjogMSxcbiAgXCJoaWdhc2hpeW9kb2dhd2Eub3Nha2EuanBcIjogMSxcbiAgXCJoaXJha2F0YS5vc2FrYS5qcFwiOiAxLFxuICBcImliYXJha2kub3Nha2EuanBcIjogMSxcbiAgXCJpa2VkYS5vc2FrYS5qcFwiOiAxLFxuICBcIml6dW1pLm9zYWthLmpwXCI6IDEsXG4gIFwiaXp1bWlvdHN1Lm9zYWthLmpwXCI6IDEsXG4gIFwiaXp1bWlzYW5vLm9zYWthLmpwXCI6IDEsXG4gIFwia2Fkb21hLm9zYWthLmpwXCI6IDEsXG4gIFwia2FpenVrYS5vc2FrYS5qcFwiOiAxLFxuICBcImthbmFuLm9zYWthLmpwXCI6IDEsXG4gIFwia2FzaGl3YXJhLm9zYWthLmpwXCI6IDEsXG4gIFwia2F0YW5vLm9zYWthLmpwXCI6IDEsXG4gIFwia2F3YWNoaW5hZ2Fuby5vc2FrYS5qcFwiOiAxLFxuICBcImtpc2hpd2FkYS5vc2FrYS5qcFwiOiAxLFxuICBcImtpdGEub3Nha2EuanBcIjogMSxcbiAgXCJrdW1hdG9yaS5vc2FrYS5qcFwiOiAxLFxuICBcIm1hdHN1YmFyYS5vc2FrYS5qcFwiOiAxLFxuICBcIm1pbmF0by5vc2FrYS5qcFwiOiAxLFxuICBcIm1pbm9oLm9zYWthLmpwXCI6IDEsXG4gIFwibWlzYWtpLm9zYWthLmpwXCI6IDEsXG4gIFwibW9yaWd1Y2hpLm9zYWthLmpwXCI6IDEsXG4gIFwibmV5YWdhd2Eub3Nha2EuanBcIjogMSxcbiAgXCJuaXNoaS5vc2FrYS5qcFwiOiAxLFxuICBcIm5vc2Uub3Nha2EuanBcIjogMSxcbiAgXCJvc2FrYXNheWFtYS5vc2FrYS5qcFwiOiAxLFxuICBcInNha2FpLm9zYWthLmpwXCI6IDEsXG4gIFwic2F5YW1hLm9zYWthLmpwXCI6IDEsXG4gIFwic2VubmFuLm9zYWthLmpwXCI6IDEsXG4gIFwic2V0dHN1Lm9zYWthLmpwXCI6IDEsXG4gIFwic2hpam9uYXdhdGUub3Nha2EuanBcIjogMSxcbiAgXCJzaGltYW1vdG8ub3Nha2EuanBcIjogMSxcbiAgXCJzdWl0YS5vc2FrYS5qcFwiOiAxLFxuICBcInRhZGFva2Eub3Nha2EuanBcIjogMSxcbiAgXCJ0YWlzaGkub3Nha2EuanBcIjogMSxcbiAgXCJ0YWppcmkub3Nha2EuanBcIjogMSxcbiAgXCJ0YWthaXNoaS5vc2FrYS5qcFwiOiAxLFxuICBcInRha2F0c3VraS5vc2FrYS5qcFwiOiAxLFxuICBcInRvbmRhYmF5YXNoaS5vc2FrYS5qcFwiOiAxLFxuICBcInRveW9uYWthLm9zYWthLmpwXCI6IDEsXG4gIFwidG95b25vLm9zYWthLmpwXCI6IDEsXG4gIFwieWFvLm9zYWthLmpwXCI6IDEsXG4gIFwiYXJpYWtlLnNhZ2EuanBcIjogMSxcbiAgXCJhcml0YS5zYWdhLmpwXCI6IDEsXG4gIFwiZnVrdWRvbWkuc2FnYS5qcFwiOiAxLFxuICBcImdlbmthaS5zYWdhLmpwXCI6IDEsXG4gIFwiaGFtYXRhbWEuc2FnYS5qcFwiOiAxLFxuICBcImhpemVuLnNhZ2EuanBcIjogMSxcbiAgXCJpbWFyaS5zYWdhLmpwXCI6IDEsXG4gIFwia2FtaW1pbmUuc2FnYS5qcFwiOiAxLFxuICBcImthbnpha2kuc2FnYS5qcFwiOiAxLFxuICBcImthcmF0c3Uuc2FnYS5qcFwiOiAxLFxuICBcImthc2hpbWEuc2FnYS5qcFwiOiAxLFxuICBcImtpdGFnYXRhLnNhZ2EuanBcIjogMSxcbiAgXCJraXRhaGF0YS5zYWdhLmpwXCI6IDEsXG4gIFwia2l5YW1hLnNhZ2EuanBcIjogMSxcbiAgXCJrb3Vob2t1LnNhZ2EuanBcIjogMSxcbiAgXCJreXVyYWdpLnNhZ2EuanBcIjogMSxcbiAgXCJuaXNoaWFyaXRhLnNhZ2EuanBcIjogMSxcbiAgXCJvZ2kuc2FnYS5qcFwiOiAxLFxuICBcIm9tYWNoaS5zYWdhLmpwXCI6IDEsXG4gIFwib3VjaGkuc2FnYS5qcFwiOiAxLFxuICBcInNhZ2Euc2FnYS5qcFwiOiAxLFxuICBcInNoaXJvaXNoaS5zYWdhLmpwXCI6IDEsXG4gIFwidGFrdS5zYWdhLmpwXCI6IDEsXG4gIFwidGFyYS5zYWdhLmpwXCI6IDEsXG4gIFwidG9zdS5zYWdhLmpwXCI6IDEsXG4gIFwieW9zaGlub2dhcmkuc2FnYS5qcFwiOiAxLFxuICBcImFyYWthd2Euc2FpdGFtYS5qcFwiOiAxLFxuICBcImFzYWthLnNhaXRhbWEuanBcIjogMSxcbiAgXCJjaGljaGlidS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwiZnVqaW1pLnNhaXRhbWEuanBcIjogMSxcbiAgXCJmdWppbWluby5zYWl0YW1hLmpwXCI6IDEsXG4gIFwiZnVrYXlhLnNhaXRhbWEuanBcIjogMSxcbiAgXCJoYW5uby5zYWl0YW1hLmpwXCI6IDEsXG4gIFwiaGFueXUuc2FpdGFtYS5qcFwiOiAxLFxuICBcImhhc3VkYS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwiaGF0b2dheWEuc2FpdGFtYS5qcFwiOiAxLFxuICBcImhhdG95YW1hLnNhaXRhbWEuanBcIjogMSxcbiAgXCJoaWRha2Euc2FpdGFtYS5qcFwiOiAxLFxuICBcImhpZ2FzaGljaGljaGlidS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwiaGlnYXNoaW1hdHN1eWFtYS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwiaG9uam8uc2FpdGFtYS5qcFwiOiAxLFxuICBcImluYS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwiaXJ1bWEuc2FpdGFtYS5qcFwiOiAxLFxuICBcIml3YXRzdWtpLnNhaXRhbWEuanBcIjogMSxcbiAgXCJrYW1paXp1bWkuc2FpdGFtYS5qcFwiOiAxLFxuICBcImthbWlrYXdhLnNhaXRhbWEuanBcIjogMSxcbiAgXCJrYW1pc2F0by5zYWl0YW1hLmpwXCI6IDEsXG4gIFwia2FzdWthYmUuc2FpdGFtYS5qcFwiOiAxLFxuICBcImthd2Fnb2Uuc2FpdGFtYS5qcFwiOiAxLFxuICBcImthd2FndWNoaS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwia2F3YWppbWEuc2FpdGFtYS5qcFwiOiAxLFxuICBcImthem8uc2FpdGFtYS5qcFwiOiAxLFxuICBcImtpdGFtb3RvLnNhaXRhbWEuanBcIjogMSxcbiAgXCJrb3NoaWdheWEuc2FpdGFtYS5qcFwiOiAxLFxuICBcImtvdW5vc3Uuc2FpdGFtYS5qcFwiOiAxLFxuICBcImt1a2kuc2FpdGFtYS5qcFwiOiAxLFxuICBcImt1bWFnYXlhLnNhaXRhbWEuanBcIjogMSxcbiAgXCJtYXRzdWJ1c2hpLnNhaXRhbWEuanBcIjogMSxcbiAgXCJtaW5hbm8uc2FpdGFtYS5qcFwiOiAxLFxuICBcIm1pc2F0by5zYWl0YW1hLmpwXCI6IDEsXG4gIFwibWl5YXNoaXJvLnNhaXRhbWEuanBcIjogMSxcbiAgXCJtaXlvc2hpLnNhaXRhbWEuanBcIjogMSxcbiAgXCJtb3JveWFtYS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwibmFnYXRvcm8uc2FpdGFtYS5qcFwiOiAxLFxuICBcIm5hbWVnYXdhLnNhaXRhbWEuanBcIjogMSxcbiAgXCJuaWl6YS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwib2dhbm8uc2FpdGFtYS5qcFwiOiAxLFxuICBcIm9nYXdhLnNhaXRhbWEuanBcIjogMSxcbiAgXCJvZ29zZS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwib2tlZ2F3YS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwib21peWEuc2FpdGFtYS5qcFwiOiAxLFxuICBcIm90YWtpLnNhaXRhbWEuanBcIjogMSxcbiAgXCJyYW56YW4uc2FpdGFtYS5qcFwiOiAxLFxuICBcInJ5b2thbWkuc2FpdGFtYS5qcFwiOiAxLFxuICBcInNhaXRhbWEuc2FpdGFtYS5qcFwiOiAxLFxuICBcInNha2Fkby5zYWl0YW1hLmpwXCI6IDEsXG4gIFwic2F0dGUuc2FpdGFtYS5qcFwiOiAxLFxuICBcInNheWFtYS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwic2hpa2kuc2FpdGFtYS5qcFwiOiAxLFxuICBcInNoaXJhb2thLnNhaXRhbWEuanBcIjogMSxcbiAgXCJzb2thLnNhaXRhbWEuanBcIjogMSxcbiAgXCJzdWdpdG8uc2FpdGFtYS5qcFwiOiAxLFxuICBcInRvZGEuc2FpdGFtYS5qcFwiOiAxLFxuICBcInRva2lnYXdhLnNhaXRhbWEuanBcIjogMSxcbiAgXCJ0b2tvcm96YXdhLnNhaXRhbWEuanBcIjogMSxcbiAgXCJ0c3VydWdhc2hpbWEuc2FpdGFtYS5qcFwiOiAxLFxuICBcInVyYXdhLnNhaXRhbWEuanBcIjogMSxcbiAgXCJ3YXJhYmkuc2FpdGFtYS5qcFwiOiAxLFxuICBcInlhc2hpby5zYWl0YW1hLmpwXCI6IDEsXG4gIFwieW9rb3plLnNhaXRhbWEuanBcIjogMSxcbiAgXCJ5b25vLnNhaXRhbWEuanBcIjogMSxcbiAgXCJ5b3JpaS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwieW9zaGlkYS5zYWl0YW1hLmpwXCI6IDEsXG4gIFwieW9zaGlrYXdhLnNhaXRhbWEuanBcIjogMSxcbiAgXCJ5b3NoaW1pLnNhaXRhbWEuanBcIjogMSxcbiAgXCJhaXNoby5zaGlnYS5qcFwiOiAxLFxuICBcImdhbW8uc2hpZ2EuanBcIjogMSxcbiAgXCJoaWdhc2hpb21pLnNoaWdhLmpwXCI6IDEsXG4gIFwiaGlrb25lLnNoaWdhLmpwXCI6IDEsXG4gIFwia29rYS5zaGlnYS5qcFwiOiAxLFxuICBcImtvbmFuLnNoaWdhLmpwXCI6IDEsXG4gIFwia29zZWkuc2hpZ2EuanBcIjogMSxcbiAgXCJrb3RvLnNoaWdhLmpwXCI6IDEsXG4gIFwia3VzYXRzdS5zaGlnYS5qcFwiOiAxLFxuICBcIm1haWJhcmEuc2hpZ2EuanBcIjogMSxcbiAgXCJtb3JpeWFtYS5zaGlnYS5qcFwiOiAxLFxuICBcIm5hZ2FoYW1hLnNoaWdhLmpwXCI6IDEsXG4gIFwibmlzaGlhemFpLnNoaWdhLmpwXCI6IDEsXG4gIFwibm90b2dhd2Euc2hpZ2EuanBcIjogMSxcbiAgXCJvbWloYWNoaW1hbi5zaGlnYS5qcFwiOiAxLFxuICBcIm90c3Uuc2hpZ2EuanBcIjogMSxcbiAgXCJyaXR0by5zaGlnYS5qcFwiOiAxLFxuICBcInJ5dW9oLnNoaWdhLmpwXCI6IDEsXG4gIFwidGFrYXNoaW1hLnNoaWdhLmpwXCI6IDEsXG4gIFwidGFrYXRzdWtpLnNoaWdhLmpwXCI6IDEsXG4gIFwidG9yYWhpbWUuc2hpZ2EuanBcIjogMSxcbiAgXCJ0b3lvc2F0by5zaGlnYS5qcFwiOiAxLFxuICBcInlhc3Uuc2hpZ2EuanBcIjogMSxcbiAgXCJha2FnaS5zaGltYW5lLmpwXCI6IDEsXG4gIFwiYW1hLnNoaW1hbmUuanBcIjogMSxcbiAgXCJnb3RzdS5zaGltYW5lLmpwXCI6IDEsXG4gIFwiaGFtYWRhLnNoaW1hbmUuanBcIjogMSxcbiAgXCJoaWdhc2hpaXp1bW8uc2hpbWFuZS5qcFwiOiAxLFxuICBcImhpa2F3YS5zaGltYW5lLmpwXCI6IDEsXG4gIFwiaGlraW1pLnNoaW1hbmUuanBcIjogMSxcbiAgXCJpenVtby5zaGltYW5lLmpwXCI6IDEsXG4gIFwia2FraW5va2kuc2hpbWFuZS5qcFwiOiAxLFxuICBcIm1hc3VkYS5zaGltYW5lLmpwXCI6IDEsXG4gIFwibWF0c3VlLnNoaW1hbmUuanBcIjogMSxcbiAgXCJtaXNhdG8uc2hpbWFuZS5qcFwiOiAxLFxuICBcIm5pc2hpbm9zaGltYS5zaGltYW5lLmpwXCI6IDEsXG4gIFwib2hkYS5zaGltYW5lLmpwXCI6IDEsXG4gIFwib2tpbm9zaGltYS5zaGltYW5lLmpwXCI6IDEsXG4gIFwib2t1aXp1bW8uc2hpbWFuZS5qcFwiOiAxLFxuICBcInNoaW1hbmUuc2hpbWFuZS5qcFwiOiAxLFxuICBcInRhbWF5dS5zaGltYW5lLmpwXCI6IDEsXG4gIFwidHN1d2Fuby5zaGltYW5lLmpwXCI6IDEsXG4gIFwidW5uYW4uc2hpbWFuZS5qcFwiOiAxLFxuICBcInlha3Vtby5zaGltYW5lLmpwXCI6IDEsXG4gIFwieWFzdWdpLnNoaW1hbmUuanBcIjogMSxcbiAgXCJ5YXRzdWthLnNoaW1hbmUuanBcIjogMSxcbiAgXCJhcmFpLnNoaXp1b2thLmpwXCI6IDEsXG4gIFwiYXRhbWkuc2hpenVva2EuanBcIjogMSxcbiAgXCJmdWppLnNoaXp1b2thLmpwXCI6IDEsXG4gIFwiZnVqaWVkYS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcImZ1amlrYXdhLnNoaXp1b2thLmpwXCI6IDEsXG4gIFwiZnVqaW5vbWl5YS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcImZ1a3Vyb2kuc2hpenVva2EuanBcIjogMSxcbiAgXCJnb3RlbWJhLnNoaXp1b2thLmpwXCI6IDEsXG4gIFwiaGFpYmFyYS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcImhhbWFtYXRzdS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcImhpZ2FzaGlpenUuc2hpenVva2EuanBcIjogMSxcbiAgXCJpdG8uc2hpenVva2EuanBcIjogMSxcbiAgXCJpd2F0YS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcIml6dS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcIml6dW5va3VuaS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcImtha2VnYXdhLnNoaXp1b2thLmpwXCI6IDEsXG4gIFwia2FubmFtaS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcImthd2FuZWhvbi5zaGl6dW9rYS5qcFwiOiAxLFxuICBcImthd2F6dS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcImtpa3VnYXdhLnNoaXp1b2thLmpwXCI6IDEsXG4gIFwia29zYWkuc2hpenVva2EuanBcIjogMSxcbiAgXCJtYWtpbm9oYXJhLnNoaXp1b2thLmpwXCI6IDEsXG4gIFwibWF0c3V6YWtpLnNoaXp1b2thLmpwXCI6IDEsXG4gIFwibWluYW1paXp1LnNoaXp1b2thLmpwXCI6IDEsXG4gIFwibWlzaGltYS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcIm1vcmltYWNoaS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcIm5pc2hpaXp1LnNoaXp1b2thLmpwXCI6IDEsXG4gIFwibnVtYXp1LnNoaXp1b2thLmpwXCI6IDEsXG4gIFwib21hZXpha2kuc2hpenVva2EuanBcIjogMSxcbiAgXCJzaGltYWRhLnNoaXp1b2thLmpwXCI6IDEsXG4gIFwic2hpbWl6dS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcInNoaW1vZGEuc2hpenVva2EuanBcIjogMSxcbiAgXCJzaGl6dW9rYS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcInN1c29uby5zaGl6dW9rYS5qcFwiOiAxLFxuICBcInlhaXp1LnNoaXp1b2thLmpwXCI6IDEsXG4gIFwieW9zaGlkYS5zaGl6dW9rYS5qcFwiOiAxLFxuICBcImFzaGlrYWdhLnRvY2hpZ2kuanBcIjogMSxcbiAgXCJiYXRvLnRvY2hpZ2kuanBcIjogMSxcbiAgXCJoYWdhLnRvY2hpZ2kuanBcIjogMSxcbiAgXCJpY2hpa2FpLnRvY2hpZ2kuanBcIjogMSxcbiAgXCJpd2FmdW5lLnRvY2hpZ2kuanBcIjogMSxcbiAgXCJrYW1pbm9rYXdhLnRvY2hpZ2kuanBcIjogMSxcbiAgXCJrYW51bWEudG9jaGlnaS5qcFwiOiAxLFxuICBcImthcmFzdXlhbWEudG9jaGlnaS5qcFwiOiAxLFxuICBcImt1cm9pc28udG9jaGlnaS5qcFwiOiAxLFxuICBcIm1hc2hpa28udG9jaGlnaS5qcFwiOiAxLFxuICBcIm1pYnUudG9jaGlnaS5qcFwiOiAxLFxuICBcIm1va2EudG9jaGlnaS5qcFwiOiAxLFxuICBcIm1vdGVnaS50b2NoaWdpLmpwXCI6IDEsXG4gIFwibmFzdS50b2NoaWdpLmpwXCI6IDEsXG4gIFwibmFzdXNoaW9iYXJhLnRvY2hpZ2kuanBcIjogMSxcbiAgXCJuaWtrby50b2NoaWdpLmpwXCI6IDEsXG4gIFwibmlzaGlrYXRhLnRvY2hpZ2kuanBcIjogMSxcbiAgXCJub2dpLnRvY2hpZ2kuanBcIjogMSxcbiAgXCJvaGlyYS50b2NoaWdpLmpwXCI6IDEsXG4gIFwib2h0YXdhcmEudG9jaGlnaS5qcFwiOiAxLFxuICBcIm95YW1hLnRvY2hpZ2kuanBcIjogMSxcbiAgXCJzYWt1cmEudG9jaGlnaS5qcFwiOiAxLFxuICBcInNhbm8udG9jaGlnaS5qcFwiOiAxLFxuICBcInNoaW1vdHN1a2UudG9jaGlnaS5qcFwiOiAxLFxuICBcInNoaW95YS50b2NoaWdpLmpwXCI6IDEsXG4gIFwidGFrYW5lemF3YS50b2NoaWdpLmpwXCI6IDEsXG4gIFwidG9jaGlnaS50b2NoaWdpLmpwXCI6IDEsXG4gIFwidHN1Z2EudG9jaGlnaS5qcFwiOiAxLFxuICBcInVqaWllLnRvY2hpZ2kuanBcIjogMSxcbiAgXCJ1dHN1bm9taXlhLnRvY2hpZ2kuanBcIjogMSxcbiAgXCJ5YWl0YS50b2NoaWdpLmpwXCI6IDEsXG4gIFwiYWl6dW1pLnRva3VzaGltYS5qcFwiOiAxLFxuICBcImFuYW4udG9rdXNoaW1hLmpwXCI6IDEsXG4gIFwiaWNoaWJhLnRva3VzaGltYS5qcFwiOiAxLFxuICBcIml0YW5vLnRva3VzaGltYS5qcFwiOiAxLFxuICBcImthaW5hbi50b2t1c2hpbWEuanBcIjogMSxcbiAgXCJrb21hdHN1c2hpbWEudG9rdXNoaW1hLmpwXCI6IDEsXG4gIFwibWF0c3VzaGlnZS50b2t1c2hpbWEuanBcIjogMSxcbiAgXCJtaW1hLnRva3VzaGltYS5qcFwiOiAxLFxuICBcIm1pbmFtaS50b2t1c2hpbWEuanBcIjogMSxcbiAgXCJtaXlvc2hpLnRva3VzaGltYS5qcFwiOiAxLFxuICBcIm11Z2kudG9rdXNoaW1hLmpwXCI6IDEsXG4gIFwibmFrYWdhd2EudG9rdXNoaW1hLmpwXCI6IDEsXG4gIFwibmFydXRvLnRva3VzaGltYS5qcFwiOiAxLFxuICBcInNhbmFnb2NoaS50b2t1c2hpbWEuanBcIjogMSxcbiAgXCJzaGlzaGlrdWkudG9rdXNoaW1hLmpwXCI6IDEsXG4gIFwidG9rdXNoaW1hLnRva3VzaGltYS5qcFwiOiAxLFxuICBcIndhamlraS50b2t1c2hpbWEuanBcIjogMSxcbiAgXCJhZGFjaGkudG9reW8uanBcIjogMSxcbiAgXCJha2lydW5vLnRva3lvLmpwXCI6IDEsXG4gIFwiYWtpc2hpbWEudG9reW8uanBcIjogMSxcbiAgXCJhb2dhc2hpbWEudG9reW8uanBcIjogMSxcbiAgXCJhcmFrYXdhLnRva3lvLmpwXCI6IDEsXG4gIFwiYnVua3lvLnRva3lvLmpwXCI6IDEsXG4gIFwiY2hpeW9kYS50b2t5by5qcFwiOiAxLFxuICBcImNob2Z1LnRva3lvLmpwXCI6IDEsXG4gIFwiY2h1by50b2t5by5qcFwiOiAxLFxuICBcImVkb2dhd2EudG9reW8uanBcIjogMSxcbiAgXCJmdWNodS50b2t5by5qcFwiOiAxLFxuICBcImZ1c3NhLnRva3lvLmpwXCI6IDEsXG4gIFwiaGFjaGlqby50b2t5by5qcFwiOiAxLFxuICBcImhhY2hpb2ppLnRva3lvLmpwXCI6IDEsXG4gIFwiaGFtdXJhLnRva3lvLmpwXCI6IDEsXG4gIFwiaGlnYXNoaWt1cnVtZS50b2t5by5qcFwiOiAxLFxuICBcImhpZ2FzaGltdXJheWFtYS50b2t5by5qcFwiOiAxLFxuICBcImhpZ2FzaGl5YW1hdG8udG9reW8uanBcIjogMSxcbiAgXCJoaW5vLnRva3lvLmpwXCI6IDEsXG4gIFwiaGlub2RlLnRva3lvLmpwXCI6IDEsXG4gIFwiaGlub2hhcmEudG9reW8uanBcIjogMSxcbiAgXCJpbmFnaS50b2t5by5qcFwiOiAxLFxuICBcIml0YWJhc2hpLnRva3lvLmpwXCI6IDEsXG4gIFwia2F0c3VzaGlrYS50b2t5by5qcFwiOiAxLFxuICBcImtpdGEudG9reW8uanBcIjogMSxcbiAgXCJraXlvc2UudG9reW8uanBcIjogMSxcbiAgXCJrb2RhaXJhLnRva3lvLmpwXCI6IDEsXG4gIFwia29nYW5laS50b2t5by5qcFwiOiAxLFxuICBcImtva3VidW5qaS50b2t5by5qcFwiOiAxLFxuICBcImtvbWFlLnRva3lvLmpwXCI6IDEsXG4gIFwia290by50b2t5by5qcFwiOiAxLFxuICBcImtvdXp1c2hpbWEudG9reW8uanBcIjogMSxcbiAgXCJrdW5pdGFjaGkudG9reW8uanBcIjogMSxcbiAgXCJtYWNoaWRhLnRva3lvLmpwXCI6IDEsXG4gIFwibWVndXJvLnRva3lvLmpwXCI6IDEsXG4gIFwibWluYXRvLnRva3lvLmpwXCI6IDEsXG4gIFwibWl0YWthLnRva3lvLmpwXCI6IDEsXG4gIFwibWl6dWhvLnRva3lvLmpwXCI6IDEsXG4gIFwibXVzYXNoaW11cmF5YW1hLnRva3lvLmpwXCI6IDEsXG4gIFwibXVzYXNoaW5vLnRva3lvLmpwXCI6IDEsXG4gIFwibmFrYW5vLnRva3lvLmpwXCI6IDEsXG4gIFwibmVyaW1hLnRva3lvLmpwXCI6IDEsXG4gIFwib2dhc2F3YXJhLnRva3lvLmpwXCI6IDEsXG4gIFwib2t1dGFtYS50b2t5by5qcFwiOiAxLFxuICBcIm9tZS50b2t5by5qcFwiOiAxLFxuICBcIm9zaGltYS50b2t5by5qcFwiOiAxLFxuICBcIm90YS50b2t5by5qcFwiOiAxLFxuICBcInNldGFnYXlhLnRva3lvLmpwXCI6IDEsXG4gIFwic2hpYnV5YS50b2t5by5qcFwiOiAxLFxuICBcInNoaW5hZ2F3YS50b2t5by5qcFwiOiAxLFxuICBcInNoaW5qdWt1LnRva3lvLmpwXCI6IDEsXG4gIFwic3VnaW5hbWkudG9reW8uanBcIjogMSxcbiAgXCJzdW1pZGEudG9reW8uanBcIjogMSxcbiAgXCJ0YWNoaWthd2EudG9reW8uanBcIjogMSxcbiAgXCJ0YWl0by50b2t5by5qcFwiOiAxLFxuICBcInRhbWEudG9reW8uanBcIjogMSxcbiAgXCJ0b3NoaW1hLnRva3lvLmpwXCI6IDEsXG4gIFwiY2hpenUudG90dG9yaS5qcFwiOiAxLFxuICBcImhpbm8udG90dG9yaS5qcFwiOiAxLFxuICBcImthd2FoYXJhLnRvdHRvcmkuanBcIjogMSxcbiAgXCJrb2dlLnRvdHRvcmkuanBcIjogMSxcbiAgXCJrb3RvdXJhLnRvdHRvcmkuanBcIjogMSxcbiAgXCJtaXNhc2EudG90dG9yaS5qcFwiOiAxLFxuICBcIm5hbmJ1LnRvdHRvcmkuanBcIjogMSxcbiAgXCJuaWNoaW5hbi50b3R0b3JpLmpwXCI6IDEsXG4gIFwic2FrYWltaW5hdG8udG90dG9yaS5qcFwiOiAxLFxuICBcInRvdHRvcmkudG90dG9yaS5qcFwiOiAxLFxuICBcIndha2FzYS50b3R0b3JpLmpwXCI6IDEsXG4gIFwieWF6dS50b3R0b3JpLmpwXCI6IDEsXG4gIFwieW9uYWdvLnRvdHRvcmkuanBcIjogMSxcbiAgXCJhc2FoaS50b3lhbWEuanBcIjogMSxcbiAgXCJmdWNodS50b3lhbWEuanBcIjogMSxcbiAgXCJmdWt1bWl0c3UudG95YW1hLmpwXCI6IDEsXG4gIFwiZnVuYWhhc2hpLnRveWFtYS5qcFwiOiAxLFxuICBcImhpbWkudG95YW1hLmpwXCI6IDEsXG4gIFwiaW1penUudG95YW1hLmpwXCI6IDEsXG4gIFwiaW5hbWkudG95YW1hLmpwXCI6IDEsXG4gIFwiam9oYW5hLnRveWFtYS5qcFwiOiAxLFxuICBcImthbWlpY2hpLnRveWFtYS5qcFwiOiAxLFxuICBcImt1cm9iZS50b3lhbWEuanBcIjogMSxcbiAgXCJuYWthbmlpa2F3YS50b3lhbWEuanBcIjogMSxcbiAgXCJuYW1lcmlrYXdhLnRveWFtYS5qcFwiOiAxLFxuICBcIm5hbnRvLnRveWFtYS5qcFwiOiAxLFxuICBcIm55dXplbi50b3lhbWEuanBcIjogMSxcbiAgXCJveWFiZS50b3lhbWEuanBcIjogMSxcbiAgXCJ0YWlyYS50b3lhbWEuanBcIjogMSxcbiAgXCJ0YWthb2thLnRveWFtYS5qcFwiOiAxLFxuICBcInRhdGV5YW1hLnRveWFtYS5qcFwiOiAxLFxuICBcInRvZ2EudG95YW1hLmpwXCI6IDEsXG4gIFwidG9uYW1pLnRveWFtYS5qcFwiOiAxLFxuICBcInRveWFtYS50b3lhbWEuanBcIjogMSxcbiAgXCJ1bmF6dWtpLnRveWFtYS5qcFwiOiAxLFxuICBcInVvenUudG95YW1hLmpwXCI6IDEsXG4gIFwieWFtYWRhLnRveWFtYS5qcFwiOiAxLFxuICBcImFyaWRhLndha2F5YW1hLmpwXCI6IDEsXG4gIFwiYXJpZGFnYXdhLndha2F5YW1hLmpwXCI6IDEsXG4gIFwiZ29iby53YWtheWFtYS5qcFwiOiAxLFxuICBcImhhc2hpbW90by53YWtheWFtYS5qcFwiOiAxLFxuICBcImhpZGFrYS53YWtheWFtYS5qcFwiOiAxLFxuICBcImhpcm9nYXdhLndha2F5YW1hLmpwXCI6IDEsXG4gIFwiaW5hbWkud2FrYXlhbWEuanBcIjogMSxcbiAgXCJpd2FkZS53YWtheWFtYS5qcFwiOiAxLFxuICBcImthaW5hbi53YWtheWFtYS5qcFwiOiAxLFxuICBcImthbWl0b25kYS53YWtheWFtYS5qcFwiOiAxLFxuICBcImthdHN1cmFnaS53YWtheWFtYS5qcFwiOiAxLFxuICBcImtpbWluby53YWtheWFtYS5qcFwiOiAxLFxuICBcImtpbm9rYXdhLndha2F5YW1hLmpwXCI6IDEsXG4gIFwia2l0YXlhbWEud2FrYXlhbWEuanBcIjogMSxcbiAgXCJrb3lhLndha2F5YW1hLmpwXCI6IDEsXG4gIFwia296YS53YWtheWFtYS5qcFwiOiAxLFxuICBcImtvemFnYXdhLndha2F5YW1hLmpwXCI6IDEsXG4gIFwia3Vkb3lhbWEud2FrYXlhbWEuanBcIjogMSxcbiAgXCJrdXNoaW1vdG8ud2FrYXlhbWEuanBcIjogMSxcbiAgXCJtaWhhbWEud2FrYXlhbWEuanBcIjogMSxcbiAgXCJtaXNhdG8ud2FrYXlhbWEuanBcIjogMSxcbiAgXCJuYWNoaWthdHN1dXJhLndha2F5YW1hLmpwXCI6IDEsXG4gIFwic2hpbmd1Lndha2F5YW1hLmpwXCI6IDEsXG4gIFwic2hpcmFoYW1hLndha2F5YW1hLmpwXCI6IDEsXG4gIFwidGFpamkud2FrYXlhbWEuanBcIjogMSxcbiAgXCJ0YW5hYmUud2FrYXlhbWEuanBcIjogMSxcbiAgXCJ3YWtheWFtYS53YWtheWFtYS5qcFwiOiAxLFxuICBcInl1YXNhLndha2F5YW1hLmpwXCI6IDEsXG4gIFwieXVyYS53YWtheWFtYS5qcFwiOiAxLFxuICBcImFzYWhpLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwiZnVuYWdhdGEueWFtYWdhdGEuanBcIjogMSxcbiAgXCJoaWdhc2hpbmUueWFtYWdhdGEuanBcIjogMSxcbiAgXCJpaWRlLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwia2Fob2t1LnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwia2FtaW5veWFtYS55YW1hZ2F0YS5qcFwiOiAxLFxuICBcImthbmV5YW1hLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwia2F3YW5pc2hpLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwibWFtdXJvZ2F3YS55YW1hZ2F0YS5qcFwiOiAxLFxuICBcIm1pa2F3YS55YW1hZ2F0YS5qcFwiOiAxLFxuICBcIm11cmF5YW1hLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwibmFnYWkueWFtYWdhdGEuanBcIjogMSxcbiAgXCJuYWtheWFtYS55YW1hZ2F0YS5qcFwiOiAxLFxuICBcIm5hbnlvLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwibmlzaGlrYXdhLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwib2JhbmF6YXdhLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwib2UueWFtYWdhdGEuanBcIjogMSxcbiAgXCJvZ3VuaS55YW1hZ2F0YS5qcFwiOiAxLFxuICBcIm9oa3VyYS55YW1hZ2F0YS5qcFwiOiAxLFxuICBcIm9pc2hpZGEueWFtYWdhdGEuanBcIjogMSxcbiAgXCJzYWdhZS55YW1hZ2F0YS5qcFwiOiAxLFxuICBcInNha2F0YS55YW1hZ2F0YS5qcFwiOiAxLFxuICBcInNha2VnYXdhLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwic2hpbmpvLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwic2hpcmF0YWthLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwic2hvbmFpLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwidGFrYWhhdGEueWFtYWdhdGEuanBcIjogMSxcbiAgXCJ0ZW5kby55YW1hZ2F0YS5qcFwiOiAxLFxuICBcInRvemF3YS55YW1hZ2F0YS5qcFwiOiAxLFxuICBcInRzdXJ1b2thLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwieWFtYWdhdGEueWFtYWdhdGEuanBcIjogMSxcbiAgXCJ5YW1hbm9iZS55YW1hZ2F0YS5qcFwiOiAxLFxuICBcInlvbmV6YXdhLnlhbWFnYXRhLmpwXCI6IDEsXG4gIFwieXV6YS55YW1hZ2F0YS5qcFwiOiAxLFxuICBcImFidS55YW1hZ3VjaGkuanBcIjogMSxcbiAgXCJoYWdpLnlhbWFndWNoaS5qcFwiOiAxLFxuICBcImhpa2FyaS55YW1hZ3VjaGkuanBcIjogMSxcbiAgXCJob2Z1LnlhbWFndWNoaS5qcFwiOiAxLFxuICBcIml3YWt1bmkueWFtYWd1Y2hpLmpwXCI6IDEsXG4gIFwia3VkYW1hdHN1LnlhbWFndWNoaS5qcFwiOiAxLFxuICBcIm1pdG91LnlhbWFndWNoaS5qcFwiOiAxLFxuICBcIm5hZ2F0by55YW1hZ3VjaGkuanBcIjogMSxcbiAgXCJvc2hpbWEueWFtYWd1Y2hpLmpwXCI6IDEsXG4gIFwic2hpbW9ub3Nla2kueWFtYWd1Y2hpLmpwXCI6IDEsXG4gIFwic2h1bmFuLnlhbWFndWNoaS5qcFwiOiAxLFxuICBcInRhYnVzZS55YW1hZ3VjaGkuanBcIjogMSxcbiAgXCJ0b2t1eWFtYS55YW1hZ3VjaGkuanBcIjogMSxcbiAgXCJ0b3lvdGEueWFtYWd1Y2hpLmpwXCI6IDEsXG4gIFwidWJlLnlhbWFndWNoaS5qcFwiOiAxLFxuICBcInl1dS55YW1hZ3VjaGkuanBcIjogMSxcbiAgXCJjaHVvLnlhbWFuYXNoaS5qcFwiOiAxLFxuICBcImRvc2hpLnlhbWFuYXNoaS5qcFwiOiAxLFxuICBcImZ1ZWZ1a2kueWFtYW5hc2hpLmpwXCI6IDEsXG4gIFwiZnVqaWthd2EueWFtYW5hc2hpLmpwXCI6IDEsXG4gIFwiZnVqaWthd2FndWNoaWtvLnlhbWFuYXNoaS5qcFwiOiAxLFxuICBcImZ1aml5b3NoaWRhLnlhbWFuYXNoaS5qcFwiOiAxLFxuICBcImhheWFrYXdhLnlhbWFuYXNoaS5qcFwiOiAxLFxuICBcImhva3V0by55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJpY2hpa2F3YW1pc2F0by55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJrYWkueWFtYW5hc2hpLmpwXCI6IDEsXG4gIFwia29mdS55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJrb3NodS55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJrb3N1Z2UueWFtYW5hc2hpLmpwXCI6IDEsXG4gIFwibWluYW1pLWFscHMueWFtYW5hc2hpLmpwXCI6IDEsXG4gIFwibWlub2J1LnlhbWFuYXNoaS5qcFwiOiAxLFxuICBcIm5ha2FtaWNoaS55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJuYW5idS55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJuYXJ1c2F3YS55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJuaXJhc2FraS55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJuaXNoaWthdHN1cmEueWFtYW5hc2hpLmpwXCI6IDEsXG4gIFwib3NoaW5vLnlhbWFuYXNoaS5qcFwiOiAxLFxuICBcIm90c3VraS55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJzaG93YS55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJ0YWJheWFtYS55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJ0c3VydS55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJ1ZW5vaGFyYS55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJ5YW1hbmFrYWtvLnlhbWFuYXNoaS5qcFwiOiAxLFxuICBcInlhbWFuYXNoaS55YW1hbmFzaGkuanBcIjogMSxcbiAgXCJrZVwiOiAxLFxuICBcImFjLmtlXCI6IDEsXG4gIFwiY28ua2VcIjogMSxcbiAgXCJnby5rZVwiOiAxLFxuICBcImluZm8ua2VcIjogMSxcbiAgXCJtZS5rZVwiOiAxLFxuICBcIm1vYmkua2VcIjogMSxcbiAgXCJuZS5rZVwiOiAxLFxuICBcIm9yLmtlXCI6IDEsXG4gIFwic2Mua2VcIjogMSxcbiAgXCJrZ1wiOiAxLFxuICBcIm9yZy5rZ1wiOiAxLFxuICBcIm5ldC5rZ1wiOiAxLFxuICBcImNvbS5rZ1wiOiAxLFxuICBcImVkdS5rZ1wiOiAxLFxuICBcImdvdi5rZ1wiOiAxLFxuICBcIm1pbC5rZ1wiOiAxLFxuICBcImtoXCI6IDIsXG4gIFwia2lcIjogMSxcbiAgXCJlZHUua2lcIjogMSxcbiAgXCJiaXoua2lcIjogMSxcbiAgXCJuZXQua2lcIjogMSxcbiAgXCJvcmcua2lcIjogMSxcbiAgXCJnb3Yua2lcIjogMSxcbiAgXCJpbmZvLmtpXCI6IDEsXG4gIFwiY29tLmtpXCI6IDEsXG4gIFwia21cIjogMSxcbiAgXCJvcmcua21cIjogMSxcbiAgXCJub20ua21cIjogMSxcbiAgXCJnb3Yua21cIjogMSxcbiAgXCJwcmQua21cIjogMSxcbiAgXCJ0bS5rbVwiOiAxLFxuICBcImVkdS5rbVwiOiAxLFxuICBcIm1pbC5rbVwiOiAxLFxuICBcImFzcy5rbVwiOiAxLFxuICBcImNvbS5rbVwiOiAxLFxuICBcImNvb3Aua21cIjogMSxcbiAgXCJhc3NvLmttXCI6IDEsXG4gIFwicHJlc3NlLmttXCI6IDEsXG4gIFwibWVkZWNpbi5rbVwiOiAxLFxuICBcIm5vdGFpcmVzLmttXCI6IDEsXG4gIFwicGhhcm1hY2llbnMua21cIjogMSxcbiAgXCJ2ZXRlcmluYWlyZS5rbVwiOiAxLFxuICBcImdvdXYua21cIjogMSxcbiAgXCJrblwiOiAxLFxuICBcIm5ldC5rblwiOiAxLFxuICBcIm9yZy5rblwiOiAxLFxuICBcImVkdS5rblwiOiAxLFxuICBcImdvdi5rblwiOiAxLFxuICBcImtwXCI6IDEsXG4gIFwiY29tLmtwXCI6IDEsXG4gIFwiZWR1LmtwXCI6IDEsXG4gIFwiZ292LmtwXCI6IDEsXG4gIFwib3JnLmtwXCI6IDEsXG4gIFwicmVwLmtwXCI6IDEsXG4gIFwidHJhLmtwXCI6IDEsXG4gIFwia3JcIjogMSxcbiAgXCJhYy5rclwiOiAxLFxuICBcImNvLmtyXCI6IDEsXG4gIFwiZXMua3JcIjogMSxcbiAgXCJnby5rclwiOiAxLFxuICBcImhzLmtyXCI6IDEsXG4gIFwia2cua3JcIjogMSxcbiAgXCJtaWwua3JcIjogMSxcbiAgXCJtcy5rclwiOiAxLFxuICBcIm5lLmtyXCI6IDEsXG4gIFwib3Iua3JcIjogMSxcbiAgXCJwZS5rclwiOiAxLFxuICBcInJlLmtyXCI6IDEsXG4gIFwic2Mua3JcIjogMSxcbiAgXCJidXNhbi5rclwiOiAxLFxuICBcImNodW5nYnVrLmtyXCI6IDEsXG4gIFwiY2h1bmduYW0ua3JcIjogMSxcbiAgXCJkYWVndS5rclwiOiAxLFxuICBcImRhZWplb24ua3JcIjogMSxcbiAgXCJnYW5nd29uLmtyXCI6IDEsXG4gIFwiZ3dhbmdqdS5rclwiOiAxLFxuICBcImd5ZW9uZ2J1ay5rclwiOiAxLFxuICBcImd5ZW9uZ2dpLmtyXCI6IDEsXG4gIFwiZ3llb25nbmFtLmtyXCI6IDEsXG4gIFwiaW5jaGVvbi5rclwiOiAxLFxuICBcImplanUua3JcIjogMSxcbiAgXCJqZW9uYnVrLmtyXCI6IDEsXG4gIFwiamVvbm5hbS5rclwiOiAxLFxuICBcInNlb3VsLmtyXCI6IDEsXG4gIFwidWxzYW4ua3JcIjogMSxcbiAgXCJrd1wiOiAxLFxuICBcImNvbS5rd1wiOiAxLFxuICBcImVkdS5rd1wiOiAxLFxuICBcImVtYi5rd1wiOiAxLFxuICBcImdvdi5rd1wiOiAxLFxuICBcImluZC5rd1wiOiAxLFxuICBcIm5ldC5rd1wiOiAxLFxuICBcIm9yZy5rd1wiOiAxLFxuICBcImt5XCI6IDEsXG4gIFwiY29tLmt5XCI6IDEsXG4gIFwiZWR1Lmt5XCI6IDEsXG4gIFwibmV0Lmt5XCI6IDEsXG4gIFwib3JnLmt5XCI6IDEsXG4gIFwia3pcIjogMSxcbiAgXCJvcmcua3pcIjogMSxcbiAgXCJlZHUua3pcIjogMSxcbiAgXCJuZXQua3pcIjogMSxcbiAgXCJnb3Yua3pcIjogMSxcbiAgXCJtaWwua3pcIjogMSxcbiAgXCJjb20ua3pcIjogMSxcbiAgXCJsYVwiOiAxLFxuICBcImludC5sYVwiOiAxLFxuICBcIm5ldC5sYVwiOiAxLFxuICBcImluZm8ubGFcIjogMSxcbiAgXCJlZHUubGFcIjogMSxcbiAgXCJnb3YubGFcIjogMSxcbiAgXCJwZXIubGFcIjogMSxcbiAgXCJjb20ubGFcIjogMSxcbiAgXCJvcmcubGFcIjogMSxcbiAgXCJsYlwiOiAxLFxuICBcImNvbS5sYlwiOiAxLFxuICBcImVkdS5sYlwiOiAxLFxuICBcImdvdi5sYlwiOiAxLFxuICBcIm5ldC5sYlwiOiAxLFxuICBcIm9yZy5sYlwiOiAxLFxuICBcImxjXCI6IDEsXG4gIFwiY29tLmxjXCI6IDEsXG4gIFwibmV0LmxjXCI6IDEsXG4gIFwiY28ubGNcIjogMSxcbiAgXCJvcmcubGNcIjogMSxcbiAgXCJlZHUubGNcIjogMSxcbiAgXCJnb3YubGNcIjogMSxcbiAgXCJsaVwiOiAxLFxuICBcImxrXCI6IDEsXG4gIFwiZ292LmxrXCI6IDEsXG4gIFwic2NoLmxrXCI6IDEsXG4gIFwibmV0LmxrXCI6IDEsXG4gIFwiaW50LmxrXCI6IDEsXG4gIFwiY29tLmxrXCI6IDEsXG4gIFwib3JnLmxrXCI6IDEsXG4gIFwiZWR1LmxrXCI6IDEsXG4gIFwibmdvLmxrXCI6IDEsXG4gIFwic29jLmxrXCI6IDEsXG4gIFwid2ViLmxrXCI6IDEsXG4gIFwibHRkLmxrXCI6IDEsXG4gIFwiYXNzbi5sa1wiOiAxLFxuICBcImdycC5sa1wiOiAxLFxuICBcImhvdGVsLmxrXCI6IDEsXG4gIFwiYWMubGtcIjogMSxcbiAgXCJsclwiOiAxLFxuICBcImNvbS5sclwiOiAxLFxuICBcImVkdS5sclwiOiAxLFxuICBcImdvdi5sclwiOiAxLFxuICBcIm9yZy5sclwiOiAxLFxuICBcIm5ldC5sclwiOiAxLFxuICBcImxzXCI6IDEsXG4gIFwiYWMubHNcIjogMSxcbiAgXCJiaXoubHNcIjogMSxcbiAgXCJjby5sc1wiOiAxLFxuICBcImVkdS5sc1wiOiAxLFxuICBcImdvdi5sc1wiOiAxLFxuICBcImluZm8ubHNcIjogMSxcbiAgXCJuZXQubHNcIjogMSxcbiAgXCJvcmcubHNcIjogMSxcbiAgXCJzYy5sc1wiOiAxLFxuICBcImx0XCI6IDEsXG4gIFwiZ292Lmx0XCI6IDEsXG4gIFwibHVcIjogMSxcbiAgXCJsdlwiOiAxLFxuICBcImNvbS5sdlwiOiAxLFxuICBcImVkdS5sdlwiOiAxLFxuICBcImdvdi5sdlwiOiAxLFxuICBcIm9yZy5sdlwiOiAxLFxuICBcIm1pbC5sdlwiOiAxLFxuICBcImlkLmx2XCI6IDEsXG4gIFwibmV0Lmx2XCI6IDEsXG4gIFwiYXNuLmx2XCI6IDEsXG4gIFwiY29uZi5sdlwiOiAxLFxuICBcImx5XCI6IDEsXG4gIFwiY29tLmx5XCI6IDEsXG4gIFwibmV0Lmx5XCI6IDEsXG4gIFwiZ292Lmx5XCI6IDEsXG4gIFwicGxjLmx5XCI6IDEsXG4gIFwiZWR1Lmx5XCI6IDEsXG4gIFwic2NoLmx5XCI6IDEsXG4gIFwibWVkLmx5XCI6IDEsXG4gIFwib3JnLmx5XCI6IDEsXG4gIFwiaWQubHlcIjogMSxcbiAgXCJtYVwiOiAxLFxuICBcImNvLm1hXCI6IDEsXG4gIFwibmV0Lm1hXCI6IDEsXG4gIFwiZ292Lm1hXCI6IDEsXG4gIFwib3JnLm1hXCI6IDEsXG4gIFwiYWMubWFcIjogMSxcbiAgXCJwcmVzcy5tYVwiOiAxLFxuICBcIm1jXCI6IDEsXG4gIFwidG0ubWNcIjogMSxcbiAgXCJhc3NvLm1jXCI6IDEsXG4gIFwibWRcIjogMSxcbiAgXCJtZVwiOiAxLFxuICBcImNvLm1lXCI6IDEsXG4gIFwibmV0Lm1lXCI6IDEsXG4gIFwib3JnLm1lXCI6IDEsXG4gIFwiZWR1Lm1lXCI6IDEsXG4gIFwiYWMubWVcIjogMSxcbiAgXCJnb3YubWVcIjogMSxcbiAgXCJpdHMubWVcIjogMSxcbiAgXCJwcml2Lm1lXCI6IDEsXG4gIFwibWdcIjogMSxcbiAgXCJvcmcubWdcIjogMSxcbiAgXCJub20ubWdcIjogMSxcbiAgXCJnb3YubWdcIjogMSxcbiAgXCJwcmQubWdcIjogMSxcbiAgXCJ0bS5tZ1wiOiAxLFxuICBcImVkdS5tZ1wiOiAxLFxuICBcIm1pbC5tZ1wiOiAxLFxuICBcImNvbS5tZ1wiOiAxLFxuICBcImNvLm1nXCI6IDEsXG4gIFwibWhcIjogMSxcbiAgXCJtaWxcIjogMSxcbiAgXCJta1wiOiAxLFxuICBcImNvbS5ta1wiOiAxLFxuICBcIm9yZy5ta1wiOiAxLFxuICBcIm5ldC5ta1wiOiAxLFxuICBcImVkdS5ta1wiOiAxLFxuICBcImdvdi5ta1wiOiAxLFxuICBcImluZi5ta1wiOiAxLFxuICBcIm5hbWUubWtcIjogMSxcbiAgXCJtbFwiOiAxLFxuICBcImNvbS5tbFwiOiAxLFxuICBcImVkdS5tbFwiOiAxLFxuICBcImdvdXYubWxcIjogMSxcbiAgXCJnb3YubWxcIjogMSxcbiAgXCJuZXQubWxcIjogMSxcbiAgXCJvcmcubWxcIjogMSxcbiAgXCJwcmVzc2UubWxcIjogMSxcbiAgXCJtbVwiOiAyLFxuICBcIm1uXCI6IDEsXG4gIFwiZ292Lm1uXCI6IDEsXG4gIFwiZWR1Lm1uXCI6IDEsXG4gIFwib3JnLm1uXCI6IDEsXG4gIFwibW9cIjogMSxcbiAgXCJjb20ubW9cIjogMSxcbiAgXCJuZXQubW9cIjogMSxcbiAgXCJvcmcubW9cIjogMSxcbiAgXCJlZHUubW9cIjogMSxcbiAgXCJnb3YubW9cIjogMSxcbiAgXCJtb2JpXCI6IDEsXG4gIFwibXBcIjogMSxcbiAgXCJtcVwiOiAxLFxuICBcIm1yXCI6IDEsXG4gIFwiZ292Lm1yXCI6IDEsXG4gIFwibXNcIjogMSxcbiAgXCJjb20ubXNcIjogMSxcbiAgXCJlZHUubXNcIjogMSxcbiAgXCJnb3YubXNcIjogMSxcbiAgXCJuZXQubXNcIjogMSxcbiAgXCJvcmcubXNcIjogMSxcbiAgXCJtdFwiOiAxLFxuICBcImNvbS5tdFwiOiAxLFxuICBcImVkdS5tdFwiOiAxLFxuICBcIm5ldC5tdFwiOiAxLFxuICBcIm9yZy5tdFwiOiAxLFxuICBcIm11XCI6IDEsXG4gIFwiY29tLm11XCI6IDEsXG4gIFwibmV0Lm11XCI6IDEsXG4gIFwib3JnLm11XCI6IDEsXG4gIFwiZ292Lm11XCI6IDEsXG4gIFwiYWMubXVcIjogMSxcbiAgXCJjby5tdVwiOiAxLFxuICBcIm9yLm11XCI6IDEsXG4gIFwibXVzZXVtXCI6IDEsXG4gIFwibXZcIjogMSxcbiAgXCJhZXJvLm12XCI6IDEsXG4gIFwiYml6Lm12XCI6IDEsXG4gIFwiY29tLm12XCI6IDEsXG4gIFwiY29vcC5tdlwiOiAxLFxuICBcImVkdS5tdlwiOiAxLFxuICBcImdvdi5tdlwiOiAxLFxuICBcImluZm8ubXZcIjogMSxcbiAgXCJpbnQubXZcIjogMSxcbiAgXCJtaWwubXZcIjogMSxcbiAgXCJtdXNldW0ubXZcIjogMSxcbiAgXCJuYW1lLm12XCI6IDEsXG4gIFwibmV0Lm12XCI6IDEsXG4gIFwib3JnLm12XCI6IDEsXG4gIFwicHJvLm12XCI6IDEsXG4gIFwibXdcIjogMSxcbiAgXCJhYy5td1wiOiAxLFxuICBcImJpei5td1wiOiAxLFxuICBcImNvLm13XCI6IDEsXG4gIFwiY29tLm13XCI6IDEsXG4gIFwiY29vcC5td1wiOiAxLFxuICBcImVkdS5td1wiOiAxLFxuICBcImdvdi5td1wiOiAxLFxuICBcImludC5td1wiOiAxLFxuICBcIm11c2V1bS5td1wiOiAxLFxuICBcIm5ldC5td1wiOiAxLFxuICBcIm9yZy5td1wiOiAxLFxuICBcIm14XCI6IDEsXG4gIFwiY29tLm14XCI6IDEsXG4gIFwib3JnLm14XCI6IDEsXG4gIFwiZ29iLm14XCI6IDEsXG4gIFwiZWR1Lm14XCI6IDEsXG4gIFwibmV0Lm14XCI6IDEsXG4gIFwibXlcIjogMSxcbiAgXCJiaXoubXlcIjogMSxcbiAgXCJjb20ubXlcIjogMSxcbiAgXCJlZHUubXlcIjogMSxcbiAgXCJnb3YubXlcIjogMSxcbiAgXCJtaWwubXlcIjogMSxcbiAgXCJuYW1lLm15XCI6IDEsXG4gIFwibmV0Lm15XCI6IDEsXG4gIFwib3JnLm15XCI6IDEsXG4gIFwibXpcIjogMSxcbiAgXCJhYy5telwiOiAxLFxuICBcImFkdi5telwiOiAxLFxuICBcImNvLm16XCI6IDEsXG4gIFwiZWR1Lm16XCI6IDEsXG4gIFwiZ292Lm16XCI6IDEsXG4gIFwibWlsLm16XCI6IDEsXG4gIFwibmV0Lm16XCI6IDEsXG4gIFwib3JnLm16XCI6IDEsXG4gIFwibmFcIjogMSxcbiAgXCJpbmZvLm5hXCI6IDEsXG4gIFwicHJvLm5hXCI6IDEsXG4gIFwibmFtZS5uYVwiOiAxLFxuICBcInNjaG9vbC5uYVwiOiAxLFxuICBcIm9yLm5hXCI6IDEsXG4gIFwiZHIubmFcIjogMSxcbiAgXCJ1cy5uYVwiOiAxLFxuICBcIm14Lm5hXCI6IDEsXG4gIFwiY2EubmFcIjogMSxcbiAgXCJpbi5uYVwiOiAxLFxuICBcImNjLm5hXCI6IDEsXG4gIFwidHYubmFcIjogMSxcbiAgXCJ3cy5uYVwiOiAxLFxuICBcIm1vYmkubmFcIjogMSxcbiAgXCJjby5uYVwiOiAxLFxuICBcImNvbS5uYVwiOiAxLFxuICBcIm9yZy5uYVwiOiAxLFxuICBcIm5hbWVcIjogMSxcbiAgXCJuY1wiOiAxLFxuICBcImFzc28ubmNcIjogMSxcbiAgXCJub20ubmNcIjogMSxcbiAgXCJuZVwiOiAxLFxuICBcIm5ldFwiOiAxLFxuICBcIm5mXCI6IDEsXG4gIFwiY29tLm5mXCI6IDEsXG4gIFwibmV0Lm5mXCI6IDEsXG4gIFwicGVyLm5mXCI6IDEsXG4gIFwicmVjLm5mXCI6IDEsXG4gIFwid2ViLm5mXCI6IDEsXG4gIFwiYXJ0cy5uZlwiOiAxLFxuICBcImZpcm0ubmZcIjogMSxcbiAgXCJpbmZvLm5mXCI6IDEsXG4gIFwib3RoZXIubmZcIjogMSxcbiAgXCJzdG9yZS5uZlwiOiAxLFxuICBcIm5nXCI6IDEsXG4gIFwiY29tLm5nXCI6IDEsXG4gIFwiZWR1Lm5nXCI6IDEsXG4gIFwiZ292Lm5nXCI6IDEsXG4gIFwiaS5uZ1wiOiAxLFxuICBcIm1pbC5uZ1wiOiAxLFxuICBcIm1vYmkubmdcIjogMSxcbiAgXCJuYW1lLm5nXCI6IDEsXG4gIFwibmV0Lm5nXCI6IDEsXG4gIFwib3JnLm5nXCI6IDEsXG4gIFwic2NoLm5nXCI6IDEsXG4gIFwibmlcIjogMSxcbiAgXCJhYy5uaVwiOiAxLFxuICBcImJpei5uaVwiOiAxLFxuICBcImNvLm5pXCI6IDEsXG4gIFwiY29tLm5pXCI6IDEsXG4gIFwiZWR1Lm5pXCI6IDEsXG4gIFwiZ29iLm5pXCI6IDEsXG4gIFwiaW4ubmlcIjogMSxcbiAgXCJpbmZvLm5pXCI6IDEsXG4gIFwiaW50Lm5pXCI6IDEsXG4gIFwibWlsLm5pXCI6IDEsXG4gIFwibmV0Lm5pXCI6IDEsXG4gIFwibm9tLm5pXCI6IDEsXG4gIFwib3JnLm5pXCI6IDEsXG4gIFwid2ViLm5pXCI6IDEsXG4gIFwibmxcIjogMSxcbiAgXCJub1wiOiAxLFxuICBcImZocy5ub1wiOiAxLFxuICBcInZncy5ub1wiOiAxLFxuICBcImZ5bGtlc2JpYmwubm9cIjogMSxcbiAgXCJmb2xrZWJpYmwubm9cIjogMSxcbiAgXCJtdXNldW0ubm9cIjogMSxcbiAgXCJpZHJldHQubm9cIjogMSxcbiAgXCJwcml2Lm5vXCI6IDEsXG4gIFwibWlsLm5vXCI6IDEsXG4gIFwic3RhdC5ub1wiOiAxLFxuICBcImRlcC5ub1wiOiAxLFxuICBcImtvbW11bmUubm9cIjogMSxcbiAgXCJoZXJhZC5ub1wiOiAxLFxuICBcImFhLm5vXCI6IDEsXG4gIFwiYWgubm9cIjogMSxcbiAgXCJidS5ub1wiOiAxLFxuICBcImZtLm5vXCI6IDEsXG4gIFwiaGwubm9cIjogMSxcbiAgXCJobS5ub1wiOiAxLFxuICBcImphbi1tYXllbi5ub1wiOiAxLFxuICBcIm1yLm5vXCI6IDEsXG4gIFwibmwubm9cIjogMSxcbiAgXCJudC5ub1wiOiAxLFxuICBcIm9mLm5vXCI6IDEsXG4gIFwib2wubm9cIjogMSxcbiAgXCJvc2xvLm5vXCI6IDEsXG4gIFwicmwubm9cIjogMSxcbiAgXCJzZi5ub1wiOiAxLFxuICBcInN0Lm5vXCI6IDEsXG4gIFwic3ZhbGJhcmQubm9cIjogMSxcbiAgXCJ0bS5ub1wiOiAxLFxuICBcInRyLm5vXCI6IDEsXG4gIFwidmEubm9cIjogMSxcbiAgXCJ2Zi5ub1wiOiAxLFxuICBcImdzLmFhLm5vXCI6IDEsXG4gIFwiZ3MuYWgubm9cIjogMSxcbiAgXCJncy5idS5ub1wiOiAxLFxuICBcImdzLmZtLm5vXCI6IDEsXG4gIFwiZ3MuaGwubm9cIjogMSxcbiAgXCJncy5obS5ub1wiOiAxLFxuICBcImdzLmphbi1tYXllbi5ub1wiOiAxLFxuICBcImdzLm1yLm5vXCI6IDEsXG4gIFwiZ3Mubmwubm9cIjogMSxcbiAgXCJncy5udC5ub1wiOiAxLFxuICBcImdzLm9mLm5vXCI6IDEsXG4gIFwiZ3Mub2wubm9cIjogMSxcbiAgXCJncy5vc2xvLm5vXCI6IDEsXG4gIFwiZ3Mucmwubm9cIjogMSxcbiAgXCJncy5zZi5ub1wiOiAxLFxuICBcImdzLnN0Lm5vXCI6IDEsXG4gIFwiZ3Muc3ZhbGJhcmQubm9cIjogMSxcbiAgXCJncy50bS5ub1wiOiAxLFxuICBcImdzLnRyLm5vXCI6IDEsXG4gIFwiZ3MudmEubm9cIjogMSxcbiAgXCJncy52Zi5ub1wiOiAxLFxuICBcImFrcmVoYW1uLm5vXCI6IDEsXG4gIFwieG4tLWtyZWhhbW4tZHhhLm5vXCI6IDEsXG4gIFwiYWxnYXJkLm5vXCI6IDEsXG4gIFwieG4tLWxncmQtcG9hYy5ub1wiOiAxLFxuICBcImFybmEubm9cIjogMSxcbiAgXCJicnVtdW5kZGFsLm5vXCI6IDEsXG4gIFwiYnJ5bmUubm9cIjogMSxcbiAgXCJicm9ubm95c3VuZC5ub1wiOiAxLFxuICBcInhuLS1icm5ueXN1bmQtbThhYy5ub1wiOiAxLFxuICBcImRyb2Jhay5ub1wiOiAxLFxuICBcInhuLS1kcmJhay13dWEubm9cIjogMSxcbiAgXCJlZ2Vyc3VuZC5ub1wiOiAxLFxuICBcImZldHN1bmQubm9cIjogMSxcbiAgXCJmbG9yby5ub1wiOiAxLFxuICBcInhuLS1mbG9yLWpyYS5ub1wiOiAxLFxuICBcImZyZWRyaWtzdGFkLm5vXCI6IDEsXG4gIFwiaG9ra3N1bmQubm9cIjogMSxcbiAgXCJob25lZm9zcy5ub1wiOiAxLFxuICBcInhuLS1obmVmb3NzLXExYS5ub1wiOiAxLFxuICBcImplc3NoZWltLm5vXCI6IDEsXG4gIFwiam9ycGVsYW5kLm5vXCI6IDEsXG4gIFwieG4tLWpycGVsYW5kLTU0YS5ub1wiOiAxLFxuICBcImtpcmtlbmVzLm5vXCI6IDEsXG4gIFwia29wZXJ2aWsubm9cIjogMSxcbiAgXCJrcm9rc3RhZGVsdmEubm9cIjogMSxcbiAgXCJsYW5nZXZhZy5ub1wiOiAxLFxuICBcInhuLS1sYW5nZXZnLWp4YS5ub1wiOiAxLFxuICBcImxlaXJ2aWsubm9cIjogMSxcbiAgXCJtam9uZGFsZW4ubm9cIjogMSxcbiAgXCJ4bi0tbWpuZGFsZW4tNjRhLm5vXCI6IDEsXG4gIFwibW8taS1yYW5hLm5vXCI6IDEsXG4gIFwibW9zam9lbi5ub1wiOiAxLFxuICBcInhuLS1tb3NqZW4tZXlhLm5vXCI6IDEsXG4gIFwibmVzb2RkdGFuZ2VuLm5vXCI6IDEsXG4gIFwib3JrYW5nZXIubm9cIjogMSxcbiAgXCJvc295cm8ubm9cIjogMSxcbiAgXCJ4bi0tb3N5cm8td3VhLm5vXCI6IDEsXG4gIFwicmFob2x0Lm5vXCI6IDEsXG4gIFwieG4tLXJob2x0LW1yYS5ub1wiOiAxLFxuICBcInNhbmRuZXNzam9lbi5ub1wiOiAxLFxuICBcInhuLS1zYW5kbmVzc2plbi1vZ2Iubm9cIjogMSxcbiAgXCJza2Vkc21va29yc2V0Lm5vXCI6IDEsXG4gIFwic2xhdHR1bS5ub1wiOiAxLFxuICBcInNwamVsa2F2aWsubm9cIjogMSxcbiAgXCJzdGF0aGVsbGUubm9cIjogMSxcbiAgXCJzdGF2ZXJuLm5vXCI6IDEsXG4gIFwic3Rqb3JkYWxzaGFsc2VuLm5vXCI6IDEsXG4gIFwieG4tLXN0anJkYWxzaGFsc2VuLXNxYi5ub1wiOiAxLFxuICBcInRhbmFuZ2VyLm5vXCI6IDEsXG4gIFwidHJhbmJ5Lm5vXCI6IDEsXG4gIFwidm9zc2V2YW5nZW4ubm9cIjogMSxcbiAgXCJhZmpvcmQubm9cIjogMSxcbiAgXCJ4bi0tZmpvcmQtbHJhLm5vXCI6IDEsXG4gIFwiYWdkZW5lcy5ub1wiOiAxLFxuICBcImFsLm5vXCI6IDEsXG4gIFwieG4tLWwtMWZhLm5vXCI6IDEsXG4gIFwiYWxlc3VuZC5ub1wiOiAxLFxuICBcInhuLS1sZXN1bmQtaHVhLm5vXCI6IDEsXG4gIFwiYWxzdGFoYXVnLm5vXCI6IDEsXG4gIFwiYWx0YS5ub1wiOiAxLFxuICBcInhuLS1sdC1saWFjLm5vXCI6IDEsXG4gIFwiYWxhaGVhZGp1Lm5vXCI6IDEsXG4gIFwieG4tLWxhaGVhZGp1LTd5YS5ub1wiOiAxLFxuICBcImFsdmRhbC5ub1wiOiAxLFxuICBcImFtbGkubm9cIjogMSxcbiAgXCJ4bi0tbWxpLXRsYS5ub1wiOiAxLFxuICBcImFtb3Qubm9cIjogMSxcbiAgXCJ4bi0tbW90LXRsYS5ub1wiOiAxLFxuICBcImFuZGVidS5ub1wiOiAxLFxuICBcImFuZG95Lm5vXCI6IDEsXG4gIFwieG4tLWFuZHktaXJhLm5vXCI6IDEsXG4gIFwiYW5kYXN1b2xvLm5vXCI6IDEsXG4gIFwiYXJkYWwubm9cIjogMSxcbiAgXCJ4bi0tcmRhbC1wb2Eubm9cIjogMSxcbiAgXCJhcmVtYXJrLm5vXCI6IDEsXG4gIFwiYXJlbmRhbC5ub1wiOiAxLFxuICBcInhuLS1zLTFmYS5ub1wiOiAxLFxuICBcImFzZXJhbC5ub1wiOiAxLFxuICBcInhuLS1zZXJhbC1scmEubm9cIjogMSxcbiAgXCJhc2tlci5ub1wiOiAxLFxuICBcImFza2ltLm5vXCI6IDEsXG4gIFwiYXNrdm9sbC5ub1wiOiAxLFxuICBcImFza295Lm5vXCI6IDEsXG4gIFwieG4tLWFza3ktaXJhLm5vXCI6IDEsXG4gIFwiYXNuZXMubm9cIjogMSxcbiAgXCJ4bi0tc25lcy1wb2Eubm9cIjogMSxcbiAgXCJhdWRuZWRhbG4ubm9cIjogMSxcbiAgXCJhdWtyYS5ub1wiOiAxLFxuICBcImF1cmUubm9cIjogMSxcbiAgXCJhdXJsYW5kLm5vXCI6IDEsXG4gIFwiYXVyc2tvZy1ob2xhbmQubm9cIjogMSxcbiAgXCJ4bi0tYXVyc2tvZy1obGFuZC1qbmIubm9cIjogMSxcbiAgXCJhdXN0ZXZvbGwubm9cIjogMSxcbiAgXCJhdXN0cmhlaW0ubm9cIjogMSxcbiAgXCJhdmVyb3kubm9cIjogMSxcbiAgXCJ4bi0tYXZlcnkteXVhLm5vXCI6IDEsXG4gIFwiYmFsZXN0cmFuZC5ub1wiOiAxLFxuICBcImJhbGxhbmdlbi5ub1wiOiAxLFxuICBcImJhbGF0Lm5vXCI6IDEsXG4gIFwieG4tLWJsdC1lbGFiLm5vXCI6IDEsXG4gIFwiYmFsc2Zqb3JkLm5vXCI6IDEsXG4gIFwiYmFoY2NhdnVvdG5hLm5vXCI6IDEsXG4gIFwieG4tLWJoY2NhdnVvdG5hLWs3YS5ub1wiOiAxLFxuICBcImJhbWJsZS5ub1wiOiAxLFxuICBcImJhcmR1Lm5vXCI6IDEsXG4gIFwiYmVhcmR1Lm5vXCI6IDEsXG4gIFwiYmVpYXJuLm5vXCI6IDEsXG4gIFwiYmFqZGRhci5ub1wiOiAxLFxuICBcInhuLS1iamRkYXItcHRhLm5vXCI6IDEsXG4gIFwiYmFpZGFyLm5vXCI6IDEsXG4gIFwieG4tLWJpZHItNW5hYy5ub1wiOiAxLFxuICBcImJlcmcubm9cIjogMSxcbiAgXCJiZXJnZW4ubm9cIjogMSxcbiAgXCJiZXJsZXZhZy5ub1wiOiAxLFxuICBcInhuLS1iZXJsZXZnLWp4YS5ub1wiOiAxLFxuICBcImJlYXJhbHZhaGtpLm5vXCI6IDEsXG4gIFwieG4tLWJlYXJhbHZoa2kteTRhLm5vXCI6IDEsXG4gIFwiYmluZGFsLm5vXCI6IDEsXG4gIFwiYmlya2VuZXMubm9cIjogMSxcbiAgXCJiamFya295Lm5vXCI6IDEsXG4gIFwieG4tLWJqYXJreS1meWEubm9cIjogMSxcbiAgXCJiamVya3JlaW0ubm9cIjogMSxcbiAgXCJianVnbi5ub1wiOiAxLFxuICBcImJvZG8ubm9cIjogMSxcbiAgXCJ4bi0tYm9kLTJuYS5ub1wiOiAxLFxuICBcImJhZGFkZGphLm5vXCI6IDEsXG4gIFwieG4tLWJkZGRqLW1yYWJkLm5vXCI6IDEsXG4gIFwiYnVkZWpqdS5ub1wiOiAxLFxuICBcImJva24ubm9cIjogMSxcbiAgXCJicmVtYW5nZXIubm9cIjogMSxcbiAgXCJicm9ubm95Lm5vXCI6IDEsXG4gIFwieG4tLWJybm55LXd1YWMubm9cIjogMSxcbiAgXCJieWdsYW5kLm5vXCI6IDEsXG4gIFwiYnlrbGUubm9cIjogMSxcbiAgXCJiYXJ1bS5ub1wiOiAxLFxuICBcInhuLS1icnVtLXZvYS5ub1wiOiAxLFxuICBcImJvLnRlbGVtYXJrLm5vXCI6IDEsXG4gIFwieG4tLWItNWdhLnRlbGVtYXJrLm5vXCI6IDEsXG4gIFwiYm8ubm9yZGxhbmQubm9cIjogMSxcbiAgXCJ4bi0tYi01Z2Eubm9yZGxhbmQubm9cIjogMSxcbiAgXCJiaWV2YXQubm9cIjogMSxcbiAgXCJ4bi0tYmlldnQtMHFhLm5vXCI6IDEsXG4gIFwiYm9tbG8ubm9cIjogMSxcbiAgXCJ4bi0tYm1sby1ncmEubm9cIjogMSxcbiAgXCJiYXRzZmpvcmQubm9cIjogMSxcbiAgXCJ4bi0tYnRzZmpvcmQtOXphLm5vXCI6IDEsXG4gIFwiYmFoY2F2dW90bmEubm9cIjogMSxcbiAgXCJ4bi0tYmhjYXZ1b3RuYS1zNGEubm9cIjogMSxcbiAgXCJkb3ZyZS5ub1wiOiAxLFxuICBcImRyYW1tZW4ubm9cIjogMSxcbiAgXCJkcmFuZ2VkYWwubm9cIjogMSxcbiAgXCJkeXJveS5ub1wiOiAxLFxuICBcInhuLS1keXJ5LWlyYS5ub1wiOiAxLFxuICBcImRvbm5hLm5vXCI6IDEsXG4gIFwieG4tLWRubmEtZ3JhLm5vXCI6IDEsXG4gIFwiZWlkLm5vXCI6IDEsXG4gIFwiZWlkZmpvcmQubm9cIjogMSxcbiAgXCJlaWRzYmVyZy5ub1wiOiAxLFxuICBcImVpZHNrb2cubm9cIjogMSxcbiAgXCJlaWRzdm9sbC5ub1wiOiAxLFxuICBcImVpZ2Vyc3VuZC5ub1wiOiAxLFxuICBcImVsdmVydW0ubm9cIjogMSxcbiAgXCJlbmViYWtrLm5vXCI6IDEsXG4gIFwiZW5nZXJkYWwubm9cIjogMSxcbiAgXCJldG5lLm5vXCI6IDEsXG4gIFwiZXRuZWRhbC5ub1wiOiAxLFxuICBcImV2ZW5lcy5ub1wiOiAxLFxuICBcImV2ZW5hc3NpLm5vXCI6IDEsXG4gIFwieG4tLWV2ZW5pLTBxYTAxZ2Eubm9cIjogMSxcbiAgXCJldmplLW9nLWhvcm5uZXMubm9cIjogMSxcbiAgXCJmYXJzdW5kLm5vXCI6IDEsXG4gIFwiZmF1c2tlLm5vXCI6IDEsXG4gIFwiZnVvc3Nrby5ub1wiOiAxLFxuICBcImZ1b2lza3Uubm9cIjogMSxcbiAgXCJmZWRqZS5ub1wiOiAxLFxuICBcImZldC5ub1wiOiAxLFxuICBcImZpbm5veS5ub1wiOiAxLFxuICBcInhuLS1maW5ueS15dWEubm9cIjogMSxcbiAgXCJmaXRqYXIubm9cIjogMSxcbiAgXCJmamFsZXIubm9cIjogMSxcbiAgXCJmamVsbC5ub1wiOiAxLFxuICBcImZsYWtzdGFkLm5vXCI6IDEsXG4gIFwiZmxhdGFuZ2VyLm5vXCI6IDEsXG4gIFwiZmxla2tlZmpvcmQubm9cIjogMSxcbiAgXCJmbGVzYmVyZy5ub1wiOiAxLFxuICBcImZsb3JhLm5vXCI6IDEsXG4gIFwiZmxhLm5vXCI6IDEsXG4gIFwieG4tLWZsLXppYS5ub1wiOiAxLFxuICBcImZvbGxkYWwubm9cIjogMSxcbiAgXCJmb3JzYW5kLm5vXCI6IDEsXG4gIFwiZm9zbmVzLm5vXCI6IDEsXG4gIFwiZnJlaS5ub1wiOiAxLFxuICBcImZyb2duLm5vXCI6IDEsXG4gIFwiZnJvbGFuZC5ub1wiOiAxLFxuICBcImZyb3N0YS5ub1wiOiAxLFxuICBcImZyYW5hLm5vXCI6IDEsXG4gIFwieG4tLWZybmEtd29hLm5vXCI6IDEsXG4gIFwiZnJveWEubm9cIjogMSxcbiAgXCJ4bi0tZnJ5YS1ocmEubm9cIjogMSxcbiAgXCJmdXNhLm5vXCI6IDEsXG4gIFwiZnlyZXNkYWwubm9cIjogMSxcbiAgXCJmb3JkZS5ub1wiOiAxLFxuICBcInhuLS1mcmRlLWdyYS5ub1wiOiAxLFxuICBcImdhbXZpay5ub1wiOiAxLFxuICBcImdhbmdhdmlpa2Eubm9cIjogMSxcbiAgXCJ4bi0tZ2dhdmlpa2EtOHlhNDdoLm5vXCI6IDEsXG4gIFwiZ2F1bGFyLm5vXCI6IDEsXG4gIFwiZ2F1c2RhbC5ub1wiOiAxLFxuICBcImdpbGRlc2thbC5ub1wiOiAxLFxuICBcInhuLS1naWxkZXNrbC1nMGEubm9cIjogMSxcbiAgXCJnaXNrZS5ub1wiOiAxLFxuICBcImdqZW1uZXMubm9cIjogMSxcbiAgXCJnamVyZHJ1bS5ub1wiOiAxLFxuICBcImdqZXJzdGFkLm5vXCI6IDEsXG4gIFwiZ2plc2RhbC5ub1wiOiAxLFxuICBcImdqb3Zpay5ub1wiOiAxLFxuICBcInhuLS1nanZpay13dWEubm9cIjogMSxcbiAgXCJnbG9wcGVuLm5vXCI6IDEsXG4gIFwiZ29sLm5vXCI6IDEsXG4gIFwiZ3Jhbi5ub1wiOiAxLFxuICBcImdyYW5lLm5vXCI6IDEsXG4gIFwiZ3JhbnZpbi5ub1wiOiAxLFxuICBcImdyYXRhbmdlbi5ub1wiOiAxLFxuICBcImdyaW1zdGFkLm5vXCI6IDEsXG4gIFwiZ3Jvbmcubm9cIjogMSxcbiAgXCJrcmFhbmdoa2Uubm9cIjogMSxcbiAgXCJ4bi0ta3Jhbmdoa2UtYjBhLm5vXCI6IDEsXG4gIFwiZ3J1ZS5ub1wiOiAxLFxuICBcImd1bGVuLm5vXCI6IDEsXG4gIFwiaGFkc2VsLm5vXCI6IDEsXG4gIFwiaGFsZGVuLm5vXCI6IDEsXG4gIFwiaGFsc2Eubm9cIjogMSxcbiAgXCJoYW1hci5ub1wiOiAxLFxuICBcImhhbWFyb3kubm9cIjogMSxcbiAgXCJoYWJtZXIubm9cIjogMSxcbiAgXCJ4bi0taGJtZXIteHFhLm5vXCI6IDEsXG4gIFwiaGFwbWlyLm5vXCI6IDEsXG4gIFwieG4tLWhwbWlyLXhxYS5ub1wiOiAxLFxuICBcImhhbW1lcmZlc3Qubm9cIjogMSxcbiAgXCJoYW1tYXJmZWFzdGEubm9cIjogMSxcbiAgXCJ4bi0taG1tcmZlYXN0YS1zNGFjLm5vXCI6IDEsXG4gIFwiaGFyYW0ubm9cIjogMSxcbiAgXCJoYXJlaWQubm9cIjogMSxcbiAgXCJoYXJzdGFkLm5vXCI6IDEsXG4gIFwiaGFzdmlrLm5vXCI6IDEsXG4gIFwiYWtub2x1b2t0YS5ub1wiOiAxLFxuICBcInhuLS1rb2x1b2t0YS03eWE1N2gubm9cIjogMSxcbiAgXCJoYXR0ZmplbGxkYWwubm9cIjogMSxcbiAgXCJhYXJib3J0ZS5ub1wiOiAxLFxuICBcImhhdWdlc3VuZC5ub1wiOiAxLFxuICBcImhlbW5lLm5vXCI6IDEsXG4gIFwiaGVtbmVzLm5vXCI6IDEsXG4gIFwiaGVtc2VkYWwubm9cIjogMSxcbiAgXCJoZXJveS5tb3JlLW9nLXJvbXNkYWwubm9cIjogMSxcbiAgXCJ4bi0taGVyeS1pcmEueG4tLW1yZS1vZy1yb21zZGFsLXFxYi5ub1wiOiAxLFxuICBcImhlcm95Lm5vcmRsYW5kLm5vXCI6IDEsXG4gIFwieG4tLWhlcnktaXJhLm5vcmRsYW5kLm5vXCI6IDEsXG4gIFwiaGl0cmEubm9cIjogMSxcbiAgXCJoamFydGRhbC5ub1wiOiAxLFxuICBcImhqZWxtZWxhbmQubm9cIjogMSxcbiAgXCJob2JvbC5ub1wiOiAxLFxuICBcInhuLS1ob2JsLWlyYS5ub1wiOiAxLFxuICBcImhvZi5ub1wiOiAxLFxuICBcImhvbC5ub1wiOiAxLFxuICBcImhvbGUubm9cIjogMSxcbiAgXCJob2xtZXN0cmFuZC5ub1wiOiAxLFxuICBcImhvbHRhbGVuLm5vXCI6IDEsXG4gIFwieG4tLWhvbHRsZW4taHhhLm5vXCI6IDEsXG4gIFwiaG9ybmluZGFsLm5vXCI6IDEsXG4gIFwiaG9ydGVuLm5vXCI6IDEsXG4gIFwiaHVyZGFsLm5vXCI6IDEsXG4gIFwiaHVydW0ubm9cIjogMSxcbiAgXCJodmFsZXIubm9cIjogMSxcbiAgXCJoeWxsZXN0YWQubm9cIjogMSxcbiAgXCJoYWdlYm9zdGFkLm5vXCI6IDEsXG4gIFwieG4tLWhnZWJvc3RhZC1nM2Eubm9cIjogMSxcbiAgXCJob3lhbmdlci5ub1wiOiAxLFxuICBcInhuLS1oeWFuZ2VyLXExYS5ub1wiOiAxLFxuICBcImhveWxhbmRldC5ub1wiOiAxLFxuICBcInhuLS1oeWxhbmRldC01NGEubm9cIjogMSxcbiAgXCJoYS5ub1wiOiAxLFxuICBcInhuLS1oLTJmYS5ub1wiOiAxLFxuICBcImliZXN0YWQubm9cIjogMSxcbiAgXCJpbmRlcm95Lm5vXCI6IDEsXG4gIFwieG4tLWluZGVyeS1meWEubm9cIjogMSxcbiAgXCJpdmVsYW5kLm5vXCI6IDEsXG4gIFwiamV2bmFrZXIubm9cIjogMSxcbiAgXCJqb25kYWwubm9cIjogMSxcbiAgXCJqb2xzdGVyLm5vXCI6IDEsXG4gIFwieG4tLWpsc3Rlci1ieWEubm9cIjogMSxcbiAgXCJrYXJhc2pvay5ub1wiOiAxLFxuICBcImthcmFzam9oa2Eubm9cIjogMSxcbiAgXCJ4bi0ta3Jqb2hrYS1od2FiNDlqLm5vXCI6IDEsXG4gIFwia2FybHNveS5ub1wiOiAxLFxuICBcImdhbHNhLm5vXCI6IDEsXG4gIFwieG4tLWdscy1lbGFjLm5vXCI6IDEsXG4gIFwia2FybW95Lm5vXCI6IDEsXG4gIFwieG4tLWthcm15LXl1YS5ub1wiOiAxLFxuICBcImthdXRva2Vpbm8ubm9cIjogMSxcbiAgXCJndW92ZGFnZWFpZG51Lm5vXCI6IDEsXG4gIFwia2xlcHAubm9cIjogMSxcbiAgXCJrbGFidS5ub1wiOiAxLFxuICBcInhuLS1rbGJ1LXdvYS5ub1wiOiAxLFxuICBcImtvbmdzYmVyZy5ub1wiOiAxLFxuICBcImtvbmdzdmluZ2VyLm5vXCI6IDEsXG4gIFwia3JhZ2Vyby5ub1wiOiAxLFxuICBcInhuLS1rcmFnZXItZ3lhLm5vXCI6IDEsXG4gIFwia3Jpc3RpYW5zYW5kLm5vXCI6IDEsXG4gIFwia3Jpc3RpYW5zdW5kLm5vXCI6IDEsXG4gIFwia3JvZHNoZXJhZC5ub1wiOiAxLFxuICBcInhuLS1rcmRzaGVyYWQtbThhLm5vXCI6IDEsXG4gIFwia3ZhbHN1bmQubm9cIjogMSxcbiAgXCJyYWhra2VyYXZqdS5ub1wiOiAxLFxuICBcInhuLS1yaGtrZXJ2anUtMDFhZi5ub1wiOiAxLFxuICBcImt2YW0ubm9cIjogMSxcbiAgXCJrdmluZXNkYWwubm9cIjogMSxcbiAgXCJrdmlubmhlcmFkLm5vXCI6IDEsXG4gIFwia3ZpdGVzZWlkLm5vXCI6IDEsXG4gIFwia3ZpdHNveS5ub1wiOiAxLFxuICBcInhuLS1rdml0c3ktZnlhLm5vXCI6IDEsXG4gIFwia3ZhZmpvcmQubm9cIjogMSxcbiAgXCJ4bi0ta3Zmam9yZC1ueGEubm9cIjogMSxcbiAgXCJnaWVodGF2dW9hdG5hLm5vXCI6IDEsXG4gIFwia3ZhbmFuZ2VuLm5vXCI6IDEsXG4gIFwieG4tLWt2bmFuZ2VuLWswYS5ub1wiOiAxLFxuICBcIm5hdnVvdG5hLm5vXCI6IDEsXG4gIFwieG4tLW52dW90bmEtaHdhLm5vXCI6IDEsXG4gIFwia2Fmam9yZC5ub1wiOiAxLFxuICBcInhuLS1rZmpvcmQtaXVhLm5vXCI6IDEsXG4gIFwiZ2FpdnVvdG5hLm5vXCI6IDEsXG4gIFwieG4tLWdpdnVvdG5hLTh5YS5ub1wiOiAxLFxuICBcImxhcnZpay5ub1wiOiAxLFxuICBcImxhdmFuZ2VuLm5vXCI6IDEsXG4gIFwibGF2YWdpcy5ub1wiOiAxLFxuICBcImxvYWJhdC5ub1wiOiAxLFxuICBcInhuLS1sb2FidC0wcWEubm9cIjogMSxcbiAgXCJsZWJlc2J5Lm5vXCI6IDEsXG4gIFwiZGF2dmVzaWlkYS5ub1wiOiAxLFxuICBcImxlaWthbmdlci5ub1wiOiAxLFxuICBcImxlaXJmam9yZC5ub1wiOiAxLFxuICBcImxla2Eubm9cIjogMSxcbiAgXCJsZWtzdmlrLm5vXCI6IDEsXG4gIFwibGVudmlrLm5vXCI6IDEsXG4gIFwibGVhbmdhdmlpa2Eubm9cIjogMSxcbiAgXCJ4bi0tbGVhZ2F2aWlrYS01MmIubm9cIjogMSxcbiAgXCJsZXNqYS5ub1wiOiAxLFxuICBcImxldmFuZ2VyLm5vXCI6IDEsXG4gIFwibGllci5ub1wiOiAxLFxuICBcImxpZXJuZS5ub1wiOiAxLFxuICBcImxpbGxlaGFtbWVyLm5vXCI6IDEsXG4gIFwibGlsbGVzYW5kLm5vXCI6IDEsXG4gIFwibGluZGVzbmVzLm5vXCI6IDEsXG4gIFwibGluZGFzLm5vXCI6IDEsXG4gIFwieG4tLWxpbmRzLXByYS5ub1wiOiAxLFxuICBcImxvbS5ub1wiOiAxLFxuICBcImxvcHBhLm5vXCI6IDEsXG4gIFwibGFocHBpLm5vXCI6IDEsXG4gIFwieG4tLWxocHBpLXhxYS5ub1wiOiAxLFxuICBcImx1bmQubm9cIjogMSxcbiAgXCJsdW5uZXIubm9cIjogMSxcbiAgXCJsdXJveS5ub1wiOiAxLFxuICBcInhuLS1sdXJ5LWlyYS5ub1wiOiAxLFxuICBcImx1c3Rlci5ub1wiOiAxLFxuICBcImx5bmdkYWwubm9cIjogMSxcbiAgXCJseW5nZW4ubm9cIjogMSxcbiAgXCJpdmd1Lm5vXCI6IDEsXG4gIFwibGFyZGFsLm5vXCI6IDEsXG4gIFwibGVyZGFsLm5vXCI6IDEsXG4gIFwieG4tLWxyZGFsLXNyYS5ub1wiOiAxLFxuICBcImxvZGluZ2VuLm5vXCI6IDEsXG4gIFwieG4tLWxkaW5nZW4tcTFhLm5vXCI6IDEsXG4gIFwibG9yZW5za29nLm5vXCI6IDEsXG4gIFwieG4tLWxyZW5za29nLTU0YS5ub1wiOiAxLFxuICBcImxvdGVuLm5vXCI6IDEsXG4gIFwieG4tLWx0ZW4tZ3JhLm5vXCI6IDEsXG4gIFwibWFsdmlrLm5vXCI6IDEsXG4gIFwibWFzb3kubm9cIjogMSxcbiAgXCJ4bi0tbXN5LXVsYTBoLm5vXCI6IDEsXG4gIFwibXVvc2F0Lm5vXCI6IDEsXG4gIFwieG4tLW11b3N0LTBxYS5ub1wiOiAxLFxuICBcIm1hbmRhbC5ub1wiOiAxLFxuICBcIm1hcmtlci5ub1wiOiAxLFxuICBcIm1hcm5hcmRhbC5ub1wiOiAxLFxuICBcIm1hc2Zqb3JkZW4ubm9cIjogMSxcbiAgXCJtZWxhbmQubm9cIjogMSxcbiAgXCJtZWxkYWwubm9cIjogMSxcbiAgXCJtZWxodXMubm9cIjogMSxcbiAgXCJtZWxveS5ub1wiOiAxLFxuICBcInhuLS1tZWx5LWlyYS5ub1wiOiAxLFxuICBcIm1lcmFrZXIubm9cIjogMSxcbiAgXCJ4bi0tbWVya2VyLWt1YS5ub1wiOiAxLFxuICBcIm1vYXJla2Uubm9cIjogMSxcbiAgXCJ4bi0tbW9yZWtlLWp1YS5ub1wiOiAxLFxuICBcIm1pZHN1bmQubm9cIjogMSxcbiAgXCJtaWR0cmUtZ2F1bGRhbC5ub1wiOiAxLFxuICBcIm1vZGFsZW4ubm9cIjogMSxcbiAgXCJtb2R1bS5ub1wiOiAxLFxuICBcIm1vbGRlLm5vXCI6IDEsXG4gIFwibW9za2VuZXMubm9cIjogMSxcbiAgXCJtb3NzLm5vXCI6IDEsXG4gIFwibW9zdmlrLm5vXCI6IDEsXG4gIFwibWFsc2Vsdi5ub1wiOiAxLFxuICBcInhuLS1tbHNlbHYtaXVhLm5vXCI6IDEsXG4gIFwibWFsYXR2dW9wbWkubm9cIjogMSxcbiAgXCJ4bi0tbWxhdHZ1b3BtaS1zNGEubm9cIjogMSxcbiAgXCJuYW1kYWxzZWlkLm5vXCI6IDEsXG4gIFwiYWVqcmllLm5vXCI6IDEsXG4gIFwibmFtc29zLm5vXCI6IDEsXG4gIFwibmFtc3Nrb2dhbi5ub1wiOiAxLFxuICBcIm5hYW1lc2pldnVlbWllLm5vXCI6IDEsXG4gIFwieG4tLW5tZXNqZXZ1ZW1pZS10Y2JhLm5vXCI6IDEsXG4gIFwibGFha2VzdnVlbWllLm5vXCI6IDEsXG4gIFwibmFubmVzdGFkLm5vXCI6IDEsXG4gIFwibmFydmlrLm5vXCI6IDEsXG4gIFwibmFydmlpa2Eubm9cIjogMSxcbiAgXCJuYXVzdGRhbC5ub1wiOiAxLFxuICBcIm5lZHJlLWVpa2VyLm5vXCI6IDEsXG4gIFwibmVzLmFrZXJzaHVzLm5vXCI6IDEsXG4gIFwibmVzLmJ1c2tlcnVkLm5vXCI6IDEsXG4gIFwibmVzbmEubm9cIjogMSxcbiAgXCJuZXNvZGRlbi5ub1wiOiAxLFxuICBcIm5lc3NlYnkubm9cIjogMSxcbiAgXCJ1bmphcmdhLm5vXCI6IDEsXG4gIFwieG4tLXVuanJnYS1ydGEubm9cIjogMSxcbiAgXCJuZXNzZXQubm9cIjogMSxcbiAgXCJuaXNzZWRhbC5ub1wiOiAxLFxuICBcIm5pdHRlZGFsLm5vXCI6IDEsXG4gIFwibm9yZC1hdXJkYWwubm9cIjogMSxcbiAgXCJub3JkLWZyb24ubm9cIjogMSxcbiAgXCJub3JkLW9kYWwubm9cIjogMSxcbiAgXCJub3JkZGFsLm5vXCI6IDEsXG4gIFwibm9yZGthcHAubm9cIjogMSxcbiAgXCJkYXZ2ZW5qYXJnYS5ub1wiOiAxLFxuICBcInhuLS1kYXZ2ZW5qcmdhLXk0YS5ub1wiOiAxLFxuICBcIm5vcmRyZS1sYW5kLm5vXCI6IDEsXG4gIFwibm9yZHJlaXNhLm5vXCI6IDEsXG4gIFwicmFpc2Eubm9cIjogMSxcbiAgXCJ4bi0tcmlzYS01bmEubm9cIjogMSxcbiAgXCJub3JlLW9nLXV2ZGFsLm5vXCI6IDEsXG4gIFwibm90b2RkZW4ubm9cIjogMSxcbiAgXCJuYXJveS5ub1wiOiAxLFxuICBcInhuLS1ucnkteWxhNWcubm9cIjogMSxcbiAgXCJub3R0ZXJveS5ub1wiOiAxLFxuICBcInhuLS1udHRlcnktYnlhZS5ub1wiOiAxLFxuICBcIm9kZGEubm9cIjogMSxcbiAgXCJva3NuZXMubm9cIjogMSxcbiAgXCJ4bi0ta3NuZXMtdXVhLm5vXCI6IDEsXG4gIFwib3BwZGFsLm5vXCI6IDEsXG4gIFwib3BwZWdhcmQubm9cIjogMSxcbiAgXCJ4bi0tb3BwZWdyZC1peGEubm9cIjogMSxcbiAgXCJvcmtkYWwubm9cIjogMSxcbiAgXCJvcmxhbmQubm9cIjogMSxcbiAgXCJ4bi0tcmxhbmQtdXVhLm5vXCI6IDEsXG4gIFwib3Jza29nLm5vXCI6IDEsXG4gIFwieG4tLXJza29nLXV1YS5ub1wiOiAxLFxuICBcIm9yc3RhLm5vXCI6IDEsXG4gIFwieG4tLXJzdGEtZnJhLm5vXCI6IDEsXG4gIFwib3MuaGVkbWFyay5ub1wiOiAxLFxuICBcIm9zLmhvcmRhbGFuZC5ub1wiOiAxLFxuICBcIm9zZW4ubm9cIjogMSxcbiAgXCJvc3Rlcm95Lm5vXCI6IDEsXG4gIFwieG4tLW9zdGVyeS1meWEubm9cIjogMSxcbiAgXCJvc3RyZS10b3Rlbi5ub1wiOiAxLFxuICBcInhuLS1zdHJlLXRvdGVuLXpjYi5ub1wiOiAxLFxuICBcIm92ZXJoYWxsYS5ub1wiOiAxLFxuICBcIm92cmUtZWlrZXIubm9cIjogMSxcbiAgXCJ4bi0tdnJlLWVpa2VyLWs4YS5ub1wiOiAxLFxuICBcIm95ZXIubm9cIjogMSxcbiAgXCJ4bi0teWVyLXpuYS5ub1wiOiAxLFxuICBcIm95Z2FyZGVuLm5vXCI6IDEsXG4gIFwieG4tLXlnYXJkZW4tcDFhLm5vXCI6IDEsXG4gIFwib3lzdHJlLXNsaWRyZS5ub1wiOiAxLFxuICBcInhuLS15c3RyZS1zbGlkcmUtdWpiLm5vXCI6IDEsXG4gIFwicG9yc2FuZ2VyLm5vXCI6IDEsXG4gIFwicG9yc2FuZ3Uubm9cIjogMSxcbiAgXCJ4bi0tcG9yc2d1LXN0YTI2Zi5ub1wiOiAxLFxuICBcInBvcnNncnVubi5ub1wiOiAxLFxuICBcInJhZG95Lm5vXCI6IDEsXG4gIFwieG4tLXJhZHktaXJhLm5vXCI6IDEsXG4gIFwicmFra2VzdGFkLm5vXCI6IDEsXG4gIFwicmFuYS5ub1wiOiAxLFxuICBcInJ1b3ZhdC5ub1wiOiAxLFxuICBcInJhbmRhYmVyZy5ub1wiOiAxLFxuICBcInJhdW1hLm5vXCI6IDEsXG4gIFwicmVuZGFsZW4ubm9cIjogMSxcbiAgXCJyZW5uZWJ1Lm5vXCI6IDEsXG4gIFwicmVubmVzb3kubm9cIjogMSxcbiAgXCJ4bi0tcmVubmVzeS12MWEubm9cIjogMSxcbiAgXCJyaW5kYWwubm9cIjogMSxcbiAgXCJyaW5nZWJ1Lm5vXCI6IDEsXG4gIFwicmluZ2VyaWtlLm5vXCI6IDEsXG4gIFwicmluZ3Nha2VyLm5vXCI6IDEsXG4gIFwicmlzc2Eubm9cIjogMSxcbiAgXCJyaXNvci5ub1wiOiAxLFxuICBcInhuLS1yaXNyLWlyYS5ub1wiOiAxLFxuICBcInJvYW4ubm9cIjogMSxcbiAgXCJyb2xsYWcubm9cIjogMSxcbiAgXCJyeWdnZS5ub1wiOiAxLFxuICBcInJhbGluZ2VuLm5vXCI6IDEsXG4gIFwieG4tLXJsaW5nZW4tbXhhLm5vXCI6IDEsXG4gIFwicm9kb3kubm9cIjogMSxcbiAgXCJ4bi0tcmR5LTBuYWIubm9cIjogMSxcbiAgXCJyb21za29nLm5vXCI6IDEsXG4gIFwieG4tLXJtc2tvZy1ieWEubm9cIjogMSxcbiAgXCJyb3Jvcy5ub1wiOiAxLFxuICBcInhuLS1ycm9zLWdyYS5ub1wiOiAxLFxuICBcInJvc3Qubm9cIjogMSxcbiAgXCJ4bi0tcnN0LTBuYS5ub1wiOiAxLFxuICBcInJveWtlbi5ub1wiOiAxLFxuICBcInhuLS1yeWtlbi12dWEubm9cIjogMSxcbiAgXCJyb3lydmlrLm5vXCI6IDEsXG4gIFwieG4tLXJ5cnZpay1ieWEubm9cIjogMSxcbiAgXCJyYWRlLm5vXCI6IDEsXG4gIFwieG4tLXJkZS11bGEubm9cIjogMSxcbiAgXCJzYWxhbmdlbi5ub1wiOiAxLFxuICBcInNpZWxsYWsubm9cIjogMSxcbiAgXCJzYWx0ZGFsLm5vXCI6IDEsXG4gIFwic2FsYXQubm9cIjogMSxcbiAgXCJ4bi0tc2x0LWVsYWIubm9cIjogMSxcbiAgXCJ4bi0tc2xhdC01bmEubm9cIjogMSxcbiAgXCJzYW1uYW5nZXIubm9cIjogMSxcbiAgXCJzYW5kZS5tb3JlLW9nLXJvbXNkYWwubm9cIjogMSxcbiAgXCJzYW5kZS54bi0tbXJlLW9nLXJvbXNkYWwtcXFiLm5vXCI6IDEsXG4gIFwic2FuZGUudmVzdGZvbGQubm9cIjogMSxcbiAgXCJzYW5kZWZqb3JkLm5vXCI6IDEsXG4gIFwic2FuZG5lcy5ub1wiOiAxLFxuICBcInNhbmRveS5ub1wiOiAxLFxuICBcInhuLS1zYW5keS15dWEubm9cIjogMSxcbiAgXCJzYXJwc2Jvcmcubm9cIjogMSxcbiAgXCJzYXVkYS5ub1wiOiAxLFxuICBcInNhdWhlcmFkLm5vXCI6IDEsXG4gIFwic2VsLm5vXCI6IDEsXG4gIFwic2VsYnUubm9cIjogMSxcbiAgXCJzZWxqZS5ub1wiOiAxLFxuICBcInNlbGpvcmQubm9cIjogMSxcbiAgXCJzaWdkYWwubm9cIjogMSxcbiAgXCJzaWxqYW4ubm9cIjogMSxcbiAgXCJzaXJkYWwubm9cIjogMSxcbiAgXCJza2F1bi5ub1wiOiAxLFxuICBcInNrZWRzbW8ubm9cIjogMSxcbiAgXCJza2kubm9cIjogMSxcbiAgXCJza2llbi5ub1wiOiAxLFxuICBcInNraXB0dmV0Lm5vXCI6IDEsXG4gIFwic2tqZXJ2b3kubm9cIjogMSxcbiAgXCJ4bi0tc2tqZXJ2eS12MWEubm9cIjogMSxcbiAgXCJza2llcnZhLm5vXCI6IDEsXG4gIFwieG4tLXNraWVydi11dGEubm9cIjogMSxcbiAgXCJza2phay5ub1wiOiAxLFxuICBcInhuLS1za2prLXNvYS5ub1wiOiAxLFxuICBcInNrb2RqZS5ub1wiOiAxLFxuICBcInNrYW5sYW5kLm5vXCI6IDEsXG4gIFwieG4tLXNrbmxhbmQtZnhhLm5vXCI6IDEsXG4gIFwic2thbml0Lm5vXCI6IDEsXG4gIFwieG4tLXNrbml0LXlxYS5ub1wiOiAxLFxuICBcInNtb2xhLm5vXCI6IDEsXG4gIFwieG4tLXNtbGEtaHJhLm5vXCI6IDEsXG4gIFwic25pbGxmam9yZC5ub1wiOiAxLFxuICBcInNuYXNhLm5vXCI6IDEsXG4gIFwieG4tLXNuc2Etcm9hLm5vXCI6IDEsXG4gIFwic25vYXNhLm5vXCI6IDEsXG4gIFwic25hYXNlLm5vXCI6IDEsXG4gIFwieG4tLXNuYXNlLW5yYS5ub1wiOiAxLFxuICBcInNvZ25kYWwubm9cIjogMSxcbiAgXCJzb2tuZGFsLm5vXCI6IDEsXG4gIFwic29sYS5ub1wiOiAxLFxuICBcInNvbHVuZC5ub1wiOiAxLFxuICBcInNvbmdkYWxlbi5ub1wiOiAxLFxuICBcInNvcnRsYW5kLm5vXCI6IDEsXG4gIFwic3B5ZGViZXJnLm5vXCI6IDEsXG4gIFwic3RhbmdlLm5vXCI6IDEsXG4gIFwic3RhdmFuZ2VyLm5vXCI6IDEsXG4gIFwic3RlaWdlbi5ub1wiOiAxLFxuICBcInN0ZWlua2plci5ub1wiOiAxLFxuICBcInN0am9yZGFsLm5vXCI6IDEsXG4gIFwieG4tLXN0anJkYWwtczFhLm5vXCI6IDEsXG4gIFwic3Rva2tlLm5vXCI6IDEsXG4gIFwic3Rvci1lbHZkYWwubm9cIjogMSxcbiAgXCJzdG9yZC5ub1wiOiAxLFxuICBcInN0b3JkYWwubm9cIjogMSxcbiAgXCJzdG9yZmpvcmQubm9cIjogMSxcbiAgXCJvbWFzdnVvdG5hLm5vXCI6IDEsXG4gIFwic3RyYW5kLm5vXCI6IDEsXG4gIFwic3RyYW5kYS5ub1wiOiAxLFxuICBcInN0cnluLm5vXCI6IDEsXG4gIFwic3VsYS5ub1wiOiAxLFxuICBcInN1bGRhbC5ub1wiOiAxLFxuICBcInN1bmQubm9cIjogMSxcbiAgXCJzdW5uZGFsLm5vXCI6IDEsXG4gIFwic3VybmFkYWwubm9cIjogMSxcbiAgXCJzdmVpby5ub1wiOiAxLFxuICBcInN2ZWx2aWsubm9cIjogMSxcbiAgXCJzeWtreWx2ZW4ubm9cIjogMSxcbiAgXCJzb2duZS5ub1wiOiAxLFxuICBcInhuLS1zZ25lLWdyYS5ub1wiOiAxLFxuICBcInNvbW5hLm5vXCI6IDEsXG4gIFwieG4tLXNtbmEtZ3JhLm5vXCI6IDEsXG4gIFwic29uZHJlLWxhbmQubm9cIjogMSxcbiAgXCJ4bi0tc25kcmUtbGFuZC0wY2Iubm9cIjogMSxcbiAgXCJzb3ItYXVyZGFsLm5vXCI6IDEsXG4gIFwieG4tLXNyLWF1cmRhbC1sOGEubm9cIjogMSxcbiAgXCJzb3ItZnJvbi5ub1wiOiAxLFxuICBcInhuLS1zci1mcm9uLXExYS5ub1wiOiAxLFxuICBcInNvci1vZGFsLm5vXCI6IDEsXG4gIFwieG4tLXNyLW9kYWwtcTFhLm5vXCI6IDEsXG4gIFwic29yLXZhcmFuZ2VyLm5vXCI6IDEsXG4gIFwieG4tLXNyLXZhcmFuZ2VyLWdnYi5ub1wiOiAxLFxuICBcIm1hdHRhLXZhcmpqYXQubm9cIjogMSxcbiAgXCJ4bi0tbXR0YS12cmpqYXQtazdhZi5ub1wiOiAxLFxuICBcInNvcmZvbGQubm9cIjogMSxcbiAgXCJ4bi0tc3Jmb2xkLWJ5YS5ub1wiOiAxLFxuICBcInNvcnJlaXNhLm5vXCI6IDEsXG4gIFwieG4tLXNycmVpc2EtcTFhLm5vXCI6IDEsXG4gIFwic29ydW0ubm9cIjogMSxcbiAgXCJ4bi0tc3J1bS1ncmEubm9cIjogMSxcbiAgXCJ0YW5hLm5vXCI6IDEsXG4gIFwiZGVhdG51Lm5vXCI6IDEsXG4gIFwidGltZS5ub1wiOiAxLFxuICBcInRpbmd2b2xsLm5vXCI6IDEsXG4gIFwidGlubi5ub1wiOiAxLFxuICBcInRqZWxkc3VuZC5ub1wiOiAxLFxuICBcImRpZWxkZGFudW9ycmkubm9cIjogMSxcbiAgXCJ0am9tZS5ub1wiOiAxLFxuICBcInhuLS10am1lLWhyYS5ub1wiOiAxLFxuICBcInRva2tlLm5vXCI6IDEsXG4gIFwidG9sZ2Eubm9cIjogMSxcbiAgXCJ0b3Jza2VuLm5vXCI6IDEsXG4gIFwidHJhbm95Lm5vXCI6IDEsXG4gIFwieG4tLXRyYW55LXl1YS5ub1wiOiAxLFxuICBcInRyb21zby5ub1wiOiAxLFxuICBcInhuLS10cm9tcy16dWEubm9cIjogMSxcbiAgXCJ0cm9tc2Eubm9cIjogMSxcbiAgXCJyb21zYS5ub1wiOiAxLFxuICBcInRyb25kaGVpbS5ub1wiOiAxLFxuICBcInRyb2FuZGluLm5vXCI6IDEsXG4gIFwidHJ5c2lsLm5vXCI6IDEsXG4gIFwidHJhbmEubm9cIjogMSxcbiAgXCJ4bi0tdHJuYS13b2Eubm9cIjogMSxcbiAgXCJ0cm9nc3RhZC5ub1wiOiAxLFxuICBcInhuLS10cmdzdGFkLXIxYS5ub1wiOiAxLFxuICBcInR2ZWRlc3RyYW5kLm5vXCI6IDEsXG4gIFwidHlkYWwubm9cIjogMSxcbiAgXCJ0eW5zZXQubm9cIjogMSxcbiAgXCJ0eXNmam9yZC5ub1wiOiAxLFxuICBcImRpdnRhc3Z1b2RuYS5ub1wiOiAxLFxuICBcImRpdnR0YXN2dW90bmEubm9cIjogMSxcbiAgXCJ0eXNuZXMubm9cIjogMSxcbiAgXCJ0eXN2YXIubm9cIjogMSxcbiAgXCJ4bi0tdHlzdnItdnJhLm5vXCI6IDEsXG4gIFwidG9uc2Jlcmcubm9cIjogMSxcbiAgXCJ4bi0tdG5zYmVyZy1xMWEubm9cIjogMSxcbiAgXCJ1bGxlbnNha2VyLm5vXCI6IDEsXG4gIFwidWxsZW5zdmFuZy5ub1wiOiAxLFxuICBcInVsdmlrLm5vXCI6IDEsXG4gIFwidXRzaXJhLm5vXCI6IDEsXG4gIFwidmFkc28ubm9cIjogMSxcbiAgXCJ4bi0tdmFkcy1qcmEubm9cIjogMSxcbiAgXCJjYWhjZXN1b2xvLm5vXCI6IDEsXG4gIFwieG4tLWhjZXN1b2xvLTd5YTM1Yi5ub1wiOiAxLFxuICBcInZha3NkYWwubm9cIjogMSxcbiAgXCJ2YWxsZS5ub1wiOiAxLFxuICBcInZhbmcubm9cIjogMSxcbiAgXCJ2YW55bHZlbi5ub1wiOiAxLFxuICBcInZhcmRvLm5vXCI6IDEsXG4gIFwieG4tLXZhcmQtanJhLm5vXCI6IDEsXG4gIFwidmFyZ2dhdC5ub1wiOiAxLFxuICBcInhuLS12cmdndC14cWFkLm5vXCI6IDEsXG4gIFwidmVmc24ubm9cIjogMSxcbiAgXCJ2YWFwc3RlLm5vXCI6IDEsXG4gIFwidmVnYS5ub1wiOiAxLFxuICBcInZlZ2Fyc2hlaS5ub1wiOiAxLFxuICBcInhuLS12ZWdyc2hlaS1jMGEubm9cIjogMSxcbiAgXCJ2ZW5uZXNsYS5ub1wiOiAxLFxuICBcInZlcmRhbC5ub1wiOiAxLFxuICBcInZlcnJhbi5ub1wiOiAxLFxuICBcInZlc3RieS5ub1wiOiAxLFxuICBcInZlc3RuZXMubm9cIjogMSxcbiAgXCJ2ZXN0cmUtc2xpZHJlLm5vXCI6IDEsXG4gIFwidmVzdHJlLXRvdGVuLm5vXCI6IDEsXG4gIFwidmVzdHZhZ295Lm5vXCI6IDEsXG4gIFwieG4tLXZlc3R2Z3ktaXhhNm8ubm9cIjogMSxcbiAgXCJ2ZXZlbHN0YWQubm9cIjogMSxcbiAgXCJ2aWsubm9cIjogMSxcbiAgXCJ2aWtuYS5ub1wiOiAxLFxuICBcInZpbmRhZmpvcmQubm9cIjogMSxcbiAgXCJ2b2xkYS5ub1wiOiAxLFxuICBcInZvc3Mubm9cIjogMSxcbiAgXCJ2YXJveS5ub1wiOiAxLFxuICBcInhuLS12cnkteWxhNWcubm9cIjogMSxcbiAgXCJ2YWdhbi5ub1wiOiAxLFxuICBcInhuLS12Z2FuLXFvYS5ub1wiOiAxLFxuICBcInZvYWdhdC5ub1wiOiAxLFxuICBcInZhZ3NveS5ub1wiOiAxLFxuICBcInhuLS12Z3N5LXFvYTBqLm5vXCI6IDEsXG4gIFwidmFnYS5ub1wiOiAxLFxuICBcInhuLS12Zy15aWFiLm5vXCI6IDEsXG4gIFwidmFsZXIub3N0Zm9sZC5ub1wiOiAxLFxuICBcInhuLS12bGVyLXFvYS54bi0tc3Rmb2xkLTl4YS5ub1wiOiAxLFxuICBcInZhbGVyLmhlZG1hcmsubm9cIjogMSxcbiAgXCJ4bi0tdmxlci1xb2EuaGVkbWFyay5ub1wiOiAxLFxuICBcIm5wXCI6IDIsXG4gIFwibnJcIjogMSxcbiAgXCJiaXoubnJcIjogMSxcbiAgXCJpbmZvLm5yXCI6IDEsXG4gIFwiZ292Lm5yXCI6IDEsXG4gIFwiZWR1Lm5yXCI6IDEsXG4gIFwib3JnLm5yXCI6IDEsXG4gIFwibmV0Lm5yXCI6IDEsXG4gIFwiY29tLm5yXCI6IDEsXG4gIFwibnVcIjogMSxcbiAgXCJuelwiOiAxLFxuICBcImFjLm56XCI6IDEsXG4gIFwiY28ubnpcIjogMSxcbiAgXCJjcmkubnpcIjogMSxcbiAgXCJnZWVrLm56XCI6IDEsXG4gIFwiZ2VuLm56XCI6IDEsXG4gIFwiZ292dC5uelwiOiAxLFxuICBcImhlYWx0aC5uelwiOiAxLFxuICBcIml3aS5uelwiOiAxLFxuICBcImtpd2kubnpcIjogMSxcbiAgXCJtYW9yaS5uelwiOiAxLFxuICBcIm1pbC5uelwiOiAxLFxuICBcInhuLS1tb3JpLXFzYS5uelwiOiAxLFxuICBcIm5ldC5uelwiOiAxLFxuICBcIm9yZy5uelwiOiAxLFxuICBcInBhcmxpYW1lbnQubnpcIjogMSxcbiAgXCJzY2hvb2wubnpcIjogMSxcbiAgXCJvbVwiOiAxLFxuICBcImNvLm9tXCI6IDEsXG4gIFwiY29tLm9tXCI6IDEsXG4gIFwiZWR1Lm9tXCI6IDEsXG4gIFwiZ292Lm9tXCI6IDEsXG4gIFwibWVkLm9tXCI6IDEsXG4gIFwibXVzZXVtLm9tXCI6IDEsXG4gIFwibmV0Lm9tXCI6IDEsXG4gIFwib3JnLm9tXCI6IDEsXG4gIFwicHJvLm9tXCI6IDEsXG4gIFwib25pb25cIjogMSxcbiAgXCJvcmdcIjogMSxcbiAgXCJwYVwiOiAxLFxuICBcImFjLnBhXCI6IDEsXG4gIFwiZ29iLnBhXCI6IDEsXG4gIFwiY29tLnBhXCI6IDEsXG4gIFwib3JnLnBhXCI6IDEsXG4gIFwic2xkLnBhXCI6IDEsXG4gIFwiZWR1LnBhXCI6IDEsXG4gIFwibmV0LnBhXCI6IDEsXG4gIFwiaW5nLnBhXCI6IDEsXG4gIFwiYWJvLnBhXCI6IDEsXG4gIFwibWVkLnBhXCI6IDEsXG4gIFwibm9tLnBhXCI6IDEsXG4gIFwicGVcIjogMSxcbiAgXCJlZHUucGVcIjogMSxcbiAgXCJnb2IucGVcIjogMSxcbiAgXCJub20ucGVcIjogMSxcbiAgXCJtaWwucGVcIjogMSxcbiAgXCJvcmcucGVcIjogMSxcbiAgXCJjb20ucGVcIjogMSxcbiAgXCJuZXQucGVcIjogMSxcbiAgXCJwZlwiOiAxLFxuICBcImNvbS5wZlwiOiAxLFxuICBcIm9yZy5wZlwiOiAxLFxuICBcImVkdS5wZlwiOiAxLFxuICBcInBnXCI6IDIsXG4gIFwicGhcIjogMSxcbiAgXCJjb20ucGhcIjogMSxcbiAgXCJuZXQucGhcIjogMSxcbiAgXCJvcmcucGhcIjogMSxcbiAgXCJnb3YucGhcIjogMSxcbiAgXCJlZHUucGhcIjogMSxcbiAgXCJuZ28ucGhcIjogMSxcbiAgXCJtaWwucGhcIjogMSxcbiAgXCJpLnBoXCI6IDEsXG4gIFwicGtcIjogMSxcbiAgXCJjb20ucGtcIjogMSxcbiAgXCJuZXQucGtcIjogMSxcbiAgXCJlZHUucGtcIjogMSxcbiAgXCJvcmcucGtcIjogMSxcbiAgXCJmYW0ucGtcIjogMSxcbiAgXCJiaXoucGtcIjogMSxcbiAgXCJ3ZWIucGtcIjogMSxcbiAgXCJnb3YucGtcIjogMSxcbiAgXCJnb2IucGtcIjogMSxcbiAgXCJnb2sucGtcIjogMSxcbiAgXCJnb24ucGtcIjogMSxcbiAgXCJnb3AucGtcIjogMSxcbiAgXCJnb3MucGtcIjogMSxcbiAgXCJpbmZvLnBrXCI6IDEsXG4gIFwicGxcIjogMSxcbiAgXCJjb20ucGxcIjogMSxcbiAgXCJuZXQucGxcIjogMSxcbiAgXCJvcmcucGxcIjogMSxcbiAgXCJhaWQucGxcIjogMSxcbiAgXCJhZ3JvLnBsXCI6IDEsXG4gIFwiYXRtLnBsXCI6IDEsXG4gIFwiYXV0by5wbFwiOiAxLFxuICBcImJpei5wbFwiOiAxLFxuICBcImVkdS5wbFwiOiAxLFxuICBcImdtaW5hLnBsXCI6IDEsXG4gIFwiZ3NtLnBsXCI6IDEsXG4gIFwiaW5mby5wbFwiOiAxLFxuICBcIm1haWwucGxcIjogMSxcbiAgXCJtaWFzdGEucGxcIjogMSxcbiAgXCJtZWRpYS5wbFwiOiAxLFxuICBcIm1pbC5wbFwiOiAxLFxuICBcIm5pZXJ1Y2hvbW9zY2kucGxcIjogMSxcbiAgXCJub20ucGxcIjogMSxcbiAgXCJwYy5wbFwiOiAxLFxuICBcInBvd2lhdC5wbFwiOiAxLFxuICBcInByaXYucGxcIjogMSxcbiAgXCJyZWFsZXN0YXRlLnBsXCI6IDEsXG4gIFwicmVsLnBsXCI6IDEsXG4gIFwic2V4LnBsXCI6IDEsXG4gIFwic2hvcC5wbFwiOiAxLFxuICBcInNrbGVwLnBsXCI6IDEsXG4gIFwic29zLnBsXCI6IDEsXG4gIFwic3prb2xhLnBsXCI6IDEsXG4gIFwidGFyZ2kucGxcIjogMSxcbiAgXCJ0bS5wbFwiOiAxLFxuICBcInRvdXJpc20ucGxcIjogMSxcbiAgXCJ0cmF2ZWwucGxcIjogMSxcbiAgXCJ0dXJ5c3R5a2EucGxcIjogMSxcbiAgXCJnb3YucGxcIjogMSxcbiAgXCJhcC5nb3YucGxcIjogMSxcbiAgXCJncml3Lmdvdi5wbFwiOiAxLFxuICBcImljLmdvdi5wbFwiOiAxLFxuICBcImlzLmdvdi5wbFwiOiAxLFxuICBcImttcHNwLmdvdi5wbFwiOiAxLFxuICBcImtvbnN1bGF0Lmdvdi5wbFwiOiAxLFxuICBcImtwcHNwLmdvdi5wbFwiOiAxLFxuICBcImt3cC5nb3YucGxcIjogMSxcbiAgXCJrd3BzcC5nb3YucGxcIjogMSxcbiAgXCJtdXAuZ292LnBsXCI6IDEsXG4gIFwibXcuZ292LnBsXCI6IDEsXG4gIFwib2lhLmdvdi5wbFwiOiAxLFxuICBcIm9pcm0uZ292LnBsXCI6IDEsXG4gIFwib2tlLmdvdi5wbFwiOiAxLFxuICBcIm9vdy5nb3YucGxcIjogMSxcbiAgXCJvc2Noci5nb3YucGxcIjogMSxcbiAgXCJvdW0uZ292LnBsXCI6IDEsXG4gIFwicGEuZ292LnBsXCI6IDEsXG4gIFwicGluYi5nb3YucGxcIjogMSxcbiAgXCJwaXcuZ292LnBsXCI6IDEsXG4gIFwicG8uZ292LnBsXCI6IDEsXG4gIFwicHIuZ292LnBsXCI6IDEsXG4gIFwicHNwLmdvdi5wbFwiOiAxLFxuICBcInBzc2UuZ292LnBsXCI6IDEsXG4gIFwicHVwLmdvdi5wbFwiOiAxLFxuICBcInJ6Z3cuZ292LnBsXCI6IDEsXG4gIFwic2EuZ292LnBsXCI6IDEsXG4gIFwic2RuLmdvdi5wbFwiOiAxLFxuICBcInNrby5nb3YucGxcIjogMSxcbiAgXCJzby5nb3YucGxcIjogMSxcbiAgXCJzci5nb3YucGxcIjogMSxcbiAgXCJzdGFyb3N0d28uZ292LnBsXCI6IDEsXG4gIFwidWcuZ292LnBsXCI6IDEsXG4gIFwidWdpbS5nb3YucGxcIjogMSxcbiAgXCJ1bS5nb3YucGxcIjogMSxcbiAgXCJ1bWlnLmdvdi5wbFwiOiAxLFxuICBcInVwb3cuZ292LnBsXCI6IDEsXG4gIFwidXBwby5nb3YucGxcIjogMSxcbiAgXCJ1cy5nb3YucGxcIjogMSxcbiAgXCJ1dy5nb3YucGxcIjogMSxcbiAgXCJ1enMuZ292LnBsXCI6IDEsXG4gIFwid2lmLmdvdi5wbFwiOiAxLFxuICBcIndpaWguZ292LnBsXCI6IDEsXG4gIFwid2luYi5nb3YucGxcIjogMSxcbiAgXCJ3aW9zLmdvdi5wbFwiOiAxLFxuICBcIndpdGQuZ292LnBsXCI6IDEsXG4gIFwid2l3Lmdvdi5wbFwiOiAxLFxuICBcIndrei5nb3YucGxcIjogMSxcbiAgXCJ3c2EuZ292LnBsXCI6IDEsXG4gIFwid3Nrci5nb3YucGxcIjogMSxcbiAgXCJ3c3NlLmdvdi5wbFwiOiAxLFxuICBcInd1b3ouZ292LnBsXCI6IDEsXG4gIFwid3ptaXV3Lmdvdi5wbFwiOiAxLFxuICBcInpwLmdvdi5wbFwiOiAxLFxuICBcInpwaXNkbi5nb3YucGxcIjogMSxcbiAgXCJhdWd1c3Rvdy5wbFwiOiAxLFxuICBcImJhYmlhLWdvcmEucGxcIjogMSxcbiAgXCJiZWR6aW4ucGxcIjogMSxcbiAgXCJiZXNraWR5LnBsXCI6IDEsXG4gIFwiYmlhbG93aWV6YS5wbFwiOiAxLFxuICBcImJpYWx5c3Rvay5wbFwiOiAxLFxuICBcImJpZWxhd2EucGxcIjogMSxcbiAgXCJiaWVzemN6YWR5LnBsXCI6IDEsXG4gIFwiYm9sZXNsYXdpZWMucGxcIjogMSxcbiAgXCJieWRnb3N6Y3oucGxcIjogMSxcbiAgXCJieXRvbS5wbFwiOiAxLFxuICBcImNpZXN6eW4ucGxcIjogMSxcbiAgXCJjemVsYWR6LnBsXCI6IDEsXG4gIFwiY3plc3QucGxcIjogMSxcbiAgXCJkbHVnb2xla2EucGxcIjogMSxcbiAgXCJlbGJsYWcucGxcIjogMSxcbiAgXCJlbGsucGxcIjogMSxcbiAgXCJnbG9nb3cucGxcIjogMSxcbiAgXCJnbmllem5vLnBsXCI6IDEsXG4gIFwiZ29ybGljZS5wbFwiOiAxLFxuICBcImdyYWpld28ucGxcIjogMSxcbiAgXCJpbGF3YS5wbFwiOiAxLFxuICBcImphd29yem5vLnBsXCI6IDEsXG4gIFwiamVsZW5pYS1nb3JhLnBsXCI6IDEsXG4gIFwiamdvcmEucGxcIjogMSxcbiAgXCJrYWxpc3oucGxcIjogMSxcbiAgXCJrYXppbWllcnotZG9sbnkucGxcIjogMSxcbiAgXCJrYXJwYWN6LnBsXCI6IDEsXG4gIFwia2FydHV6eS5wbFwiOiAxLFxuICBcImthc3p1YnkucGxcIjogMSxcbiAgXCJrYXRvd2ljZS5wbFwiOiAxLFxuICBcImtlcG5vLnBsXCI6IDEsXG4gIFwia2V0cnp5bi5wbFwiOiAxLFxuICBcImtsb2R6a28ucGxcIjogMSxcbiAgXCJrb2JpZXJ6eWNlLnBsXCI6IDEsXG4gIFwia29sb2JyemVnLnBsXCI6IDEsXG4gIFwia29uaW4ucGxcIjogMSxcbiAgXCJrb25za293b2xhLnBsXCI6IDEsXG4gIFwia3V0bm8ucGxcIjogMSxcbiAgXCJsYXB5LnBsXCI6IDEsXG4gIFwibGVib3JrLnBsXCI6IDEsXG4gIFwibGVnbmljYS5wbFwiOiAxLFxuICBcImxlemFqc2sucGxcIjogMSxcbiAgXCJsaW1hbm93YS5wbFwiOiAxLFxuICBcImxvbXphLnBsXCI6IDEsXG4gIFwibG93aWN6LnBsXCI6IDEsXG4gIFwibHViaW4ucGxcIjogMSxcbiAgXCJsdWtvdy5wbFwiOiAxLFxuICBcIm1hbGJvcmsucGxcIjogMSxcbiAgXCJtYWxvcG9sc2thLnBsXCI6IDEsXG4gIFwibWF6b3dzemUucGxcIjogMSxcbiAgXCJtYXp1cnkucGxcIjogMSxcbiAgXCJtaWVsZWMucGxcIjogMSxcbiAgXCJtaWVsbm8ucGxcIjogMSxcbiAgXCJtcmFnb3dvLnBsXCI6IDEsXG4gIFwibmFrbG8ucGxcIjogMSxcbiAgXCJub3dhcnVkYS5wbFwiOiAxLFxuICBcIm55c2EucGxcIjogMSxcbiAgXCJvbGF3YS5wbFwiOiAxLFxuICBcIm9sZWNrby5wbFwiOiAxLFxuICBcIm9sa3Vzei5wbFwiOiAxLFxuICBcIm9sc3p0eW4ucGxcIjogMSxcbiAgXCJvcG9jem5vLnBsXCI6IDEsXG4gIFwib3BvbGUucGxcIjogMSxcbiAgXCJvc3Ryb2RhLnBsXCI6IDEsXG4gIFwib3N0cm9sZWthLnBsXCI6IDEsXG4gIFwib3N0cm93aWVjLnBsXCI6IDEsXG4gIFwib3N0cm93d2xrcC5wbFwiOiAxLFxuICBcInBpbGEucGxcIjogMSxcbiAgXCJwaXN6LnBsXCI6IDEsXG4gIFwicG9kaGFsZS5wbFwiOiAxLFxuICBcInBvZGxhc2llLnBsXCI6IDEsXG4gIFwicG9sa293aWNlLnBsXCI6IDEsXG4gIFwicG9tb3J6ZS5wbFwiOiAxLFxuICBcInBvbW9yc2tpZS5wbFwiOiAxLFxuICBcInByb2Nob3dpY2UucGxcIjogMSxcbiAgXCJwcnVzemtvdy5wbFwiOiAxLFxuICBcInByemV3b3Jzay5wbFwiOiAxLFxuICBcInB1bGF3eS5wbFwiOiAxLFxuICBcInJhZG9tLnBsXCI6IDEsXG4gIFwicmF3YS1tYXoucGxcIjogMSxcbiAgXCJyeWJuaWsucGxcIjogMSxcbiAgXCJyemVzem93LnBsXCI6IDEsXG4gIFwic2Fub2sucGxcIjogMSxcbiAgXCJzZWpueS5wbFwiOiAxLFxuICBcInNsYXNrLnBsXCI6IDEsXG4gIFwic2x1cHNrLnBsXCI6IDEsXG4gIFwic29zbm93aWVjLnBsXCI6IDEsXG4gIFwic3RhbG93YS13b2xhLnBsXCI6IDEsXG4gIFwic2tvY3pvdy5wbFwiOiAxLFxuICBcInN0YXJhY2hvd2ljZS5wbFwiOiAxLFxuICBcInN0YXJnYXJkLnBsXCI6IDEsXG4gIFwic3V3YWxraS5wbFwiOiAxLFxuICBcInN3aWRuaWNhLnBsXCI6IDEsXG4gIFwic3dpZWJvZHppbi5wbFwiOiAxLFxuICBcInN3aW5vdWpzY2llLnBsXCI6IDEsXG4gIFwic3pjemVjaW4ucGxcIjogMSxcbiAgXCJzemN6eXRuby5wbFwiOiAxLFxuICBcInRhcm5vYnJ6ZWcucGxcIjogMSxcbiAgXCJ0Z29yeS5wbFwiOiAxLFxuICBcInR1cmVrLnBsXCI6IDEsXG4gIFwidHljaHkucGxcIjogMSxcbiAgXCJ1c3RrYS5wbFwiOiAxLFxuICBcIndhbGJyenljaC5wbFwiOiAxLFxuICBcIndhcm1pYS5wbFwiOiAxLFxuICBcIndhcnN6YXdhLnBsXCI6IDEsXG4gIFwid2F3LnBsXCI6IDEsXG4gIFwid2Vncm93LnBsXCI6IDEsXG4gIFwid2llbHVuLnBsXCI6IDEsXG4gIFwid2xvY2wucGxcIjogMSxcbiAgXCJ3bG9jbGF3ZWsucGxcIjogMSxcbiAgXCJ3b2R6aXNsYXcucGxcIjogMSxcbiAgXCJ3b2xvbWluLnBsXCI6IDEsXG4gIFwid3JvY2xhdy5wbFwiOiAxLFxuICBcInphY2hwb21vci5wbFwiOiAxLFxuICBcInphZ2FuLnBsXCI6IDEsXG4gIFwiemFyb3cucGxcIjogMSxcbiAgXCJ6Z29yYS5wbFwiOiAxLFxuICBcInpnb3J6ZWxlYy5wbFwiOiAxLFxuICBcInBtXCI6IDEsXG4gIFwicG5cIjogMSxcbiAgXCJnb3YucG5cIjogMSxcbiAgXCJjby5wblwiOiAxLFxuICBcIm9yZy5wblwiOiAxLFxuICBcImVkdS5wblwiOiAxLFxuICBcIm5ldC5wblwiOiAxLFxuICBcInBvc3RcIjogMSxcbiAgXCJwclwiOiAxLFxuICBcImNvbS5wclwiOiAxLFxuICBcIm5ldC5wclwiOiAxLFxuICBcIm9yZy5wclwiOiAxLFxuICBcImdvdi5wclwiOiAxLFxuICBcImVkdS5wclwiOiAxLFxuICBcImlzbGEucHJcIjogMSxcbiAgXCJwcm8ucHJcIjogMSxcbiAgXCJiaXoucHJcIjogMSxcbiAgXCJpbmZvLnByXCI6IDEsXG4gIFwibmFtZS5wclwiOiAxLFxuICBcImVzdC5wclwiOiAxLFxuICBcInByb2YucHJcIjogMSxcbiAgXCJhYy5wclwiOiAxLFxuICBcInByb1wiOiAxLFxuICBcImFhYS5wcm9cIjogMSxcbiAgXCJhY2EucHJvXCI6IDEsXG4gIFwiYWNjdC5wcm9cIjogMSxcbiAgXCJhdm9jYXQucHJvXCI6IDEsXG4gIFwiYmFyLnByb1wiOiAxLFxuICBcImNwYS5wcm9cIjogMSxcbiAgXCJlbmcucHJvXCI6IDEsXG4gIFwianVyLnByb1wiOiAxLFxuICBcImxhdy5wcm9cIjogMSxcbiAgXCJtZWQucHJvXCI6IDEsXG4gIFwicmVjaHQucHJvXCI6IDEsXG4gIFwicHNcIjogMSxcbiAgXCJlZHUucHNcIjogMSxcbiAgXCJnb3YucHNcIjogMSxcbiAgXCJzZWMucHNcIjogMSxcbiAgXCJwbG8ucHNcIjogMSxcbiAgXCJjb20ucHNcIjogMSxcbiAgXCJvcmcucHNcIjogMSxcbiAgXCJuZXQucHNcIjogMSxcbiAgXCJwdFwiOiAxLFxuICBcIm5ldC5wdFwiOiAxLFxuICBcImdvdi5wdFwiOiAxLFxuICBcIm9yZy5wdFwiOiAxLFxuICBcImVkdS5wdFwiOiAxLFxuICBcImludC5wdFwiOiAxLFxuICBcInB1YmwucHRcIjogMSxcbiAgXCJjb20ucHRcIjogMSxcbiAgXCJub21lLnB0XCI6IDEsXG4gIFwicHdcIjogMSxcbiAgXCJjby5wd1wiOiAxLFxuICBcIm5lLnB3XCI6IDEsXG4gIFwib3IucHdcIjogMSxcbiAgXCJlZC5wd1wiOiAxLFxuICBcImdvLnB3XCI6IDEsXG4gIFwiYmVsYXUucHdcIjogMSxcbiAgXCJweVwiOiAxLFxuICBcImNvbS5weVwiOiAxLFxuICBcImNvb3AucHlcIjogMSxcbiAgXCJlZHUucHlcIjogMSxcbiAgXCJnb3YucHlcIjogMSxcbiAgXCJtaWwucHlcIjogMSxcbiAgXCJuZXQucHlcIjogMSxcbiAgXCJvcmcucHlcIjogMSxcbiAgXCJxYVwiOiAxLFxuICBcImNvbS5xYVwiOiAxLFxuICBcImVkdS5xYVwiOiAxLFxuICBcImdvdi5xYVwiOiAxLFxuICBcIm1pbC5xYVwiOiAxLFxuICBcIm5hbWUucWFcIjogMSxcbiAgXCJuZXQucWFcIjogMSxcbiAgXCJvcmcucWFcIjogMSxcbiAgXCJzY2gucWFcIjogMSxcbiAgXCJyZVwiOiAxLFxuICBcImFzc28ucmVcIjogMSxcbiAgXCJjb20ucmVcIjogMSxcbiAgXCJub20ucmVcIjogMSxcbiAgXCJyb1wiOiAxLFxuICBcImFydHMucm9cIjogMSxcbiAgXCJjb20ucm9cIjogMSxcbiAgXCJmaXJtLnJvXCI6IDEsXG4gIFwiaW5mby5yb1wiOiAxLFxuICBcIm5vbS5yb1wiOiAxLFxuICBcIm50LnJvXCI6IDEsXG4gIFwib3JnLnJvXCI6IDEsXG4gIFwicmVjLnJvXCI6IDEsXG4gIFwic3RvcmUucm9cIjogMSxcbiAgXCJ0bS5yb1wiOiAxLFxuICBcInd3dy5yb1wiOiAxLFxuICBcInJzXCI6IDEsXG4gIFwiYWMucnNcIjogMSxcbiAgXCJjby5yc1wiOiAxLFxuICBcImVkdS5yc1wiOiAxLFxuICBcImdvdi5yc1wiOiAxLFxuICBcImluLnJzXCI6IDEsXG4gIFwib3JnLnJzXCI6IDEsXG4gIFwicnVcIjogMSxcbiAgXCJyd1wiOiAxLFxuICBcImFjLnJ3XCI6IDEsXG4gIFwiY28ucndcIjogMSxcbiAgXCJjb29wLnJ3XCI6IDEsXG4gIFwiZ292LnJ3XCI6IDEsXG4gIFwibWlsLnJ3XCI6IDEsXG4gIFwibmV0LnJ3XCI6IDEsXG4gIFwib3JnLnJ3XCI6IDEsXG4gIFwic2FcIjogMSxcbiAgXCJjb20uc2FcIjogMSxcbiAgXCJuZXQuc2FcIjogMSxcbiAgXCJvcmcuc2FcIjogMSxcbiAgXCJnb3Yuc2FcIjogMSxcbiAgXCJtZWQuc2FcIjogMSxcbiAgXCJwdWIuc2FcIjogMSxcbiAgXCJlZHUuc2FcIjogMSxcbiAgXCJzY2guc2FcIjogMSxcbiAgXCJzYlwiOiAxLFxuICBcImNvbS5zYlwiOiAxLFxuICBcImVkdS5zYlwiOiAxLFxuICBcImdvdi5zYlwiOiAxLFxuICBcIm5ldC5zYlwiOiAxLFxuICBcIm9yZy5zYlwiOiAxLFxuICBcInNjXCI6IDEsXG4gIFwiY29tLnNjXCI6IDEsXG4gIFwiZ292LnNjXCI6IDEsXG4gIFwibmV0LnNjXCI6IDEsXG4gIFwib3JnLnNjXCI6IDEsXG4gIFwiZWR1LnNjXCI6IDEsXG4gIFwic2RcIjogMSxcbiAgXCJjb20uc2RcIjogMSxcbiAgXCJuZXQuc2RcIjogMSxcbiAgXCJvcmcuc2RcIjogMSxcbiAgXCJlZHUuc2RcIjogMSxcbiAgXCJtZWQuc2RcIjogMSxcbiAgXCJ0di5zZFwiOiAxLFxuICBcImdvdi5zZFwiOiAxLFxuICBcImluZm8uc2RcIjogMSxcbiAgXCJzZVwiOiAxLFxuICBcImEuc2VcIjogMSxcbiAgXCJhYy5zZVwiOiAxLFxuICBcImIuc2VcIjogMSxcbiAgXCJiZC5zZVwiOiAxLFxuICBcImJyYW5kLnNlXCI6IDEsXG4gIFwiYy5zZVwiOiAxLFxuICBcImQuc2VcIjogMSxcbiAgXCJlLnNlXCI6IDEsXG4gIFwiZi5zZVwiOiAxLFxuICBcImZoLnNlXCI6IDEsXG4gIFwiZmhzay5zZVwiOiAxLFxuICBcImZodi5zZVwiOiAxLFxuICBcImcuc2VcIjogMSxcbiAgXCJoLnNlXCI6IDEsXG4gIFwiaS5zZVwiOiAxLFxuICBcImsuc2VcIjogMSxcbiAgXCJrb21mb3JiLnNlXCI6IDEsXG4gIFwia29tbXVuYWxmb3JidW5kLnNlXCI6IDEsXG4gIFwia29tdnV4LnNlXCI6IDEsXG4gIFwibC5zZVwiOiAxLFxuICBcImxhbmJpYi5zZVwiOiAxLFxuICBcIm0uc2VcIjogMSxcbiAgXCJuLnNlXCI6IDEsXG4gIFwibmF0dXJicnVrc2d5bW4uc2VcIjogMSxcbiAgXCJvLnNlXCI6IDEsXG4gIFwib3JnLnNlXCI6IDEsXG4gIFwicC5zZVwiOiAxLFxuICBcInBhcnRpLnNlXCI6IDEsXG4gIFwicHAuc2VcIjogMSxcbiAgXCJwcmVzcy5zZVwiOiAxLFxuICBcInIuc2VcIjogMSxcbiAgXCJzLnNlXCI6IDEsXG4gIFwidC5zZVwiOiAxLFxuICBcInRtLnNlXCI6IDEsXG4gIFwidS5zZVwiOiAxLFxuICBcIncuc2VcIjogMSxcbiAgXCJ4LnNlXCI6IDEsXG4gIFwieS5zZVwiOiAxLFxuICBcInouc2VcIjogMSxcbiAgXCJzZ1wiOiAxLFxuICBcImNvbS5zZ1wiOiAxLFxuICBcIm5ldC5zZ1wiOiAxLFxuICBcIm9yZy5zZ1wiOiAxLFxuICBcImdvdi5zZ1wiOiAxLFxuICBcImVkdS5zZ1wiOiAxLFxuICBcInBlci5zZ1wiOiAxLFxuICBcInNoXCI6IDEsXG4gIFwiY29tLnNoXCI6IDEsXG4gIFwibmV0LnNoXCI6IDEsXG4gIFwiZ292LnNoXCI6IDEsXG4gIFwib3JnLnNoXCI6IDEsXG4gIFwibWlsLnNoXCI6IDEsXG4gIFwic2lcIjogMSxcbiAgXCJzalwiOiAxLFxuICBcInNrXCI6IDEsXG4gIFwic2xcIjogMSxcbiAgXCJjb20uc2xcIjogMSxcbiAgXCJuZXQuc2xcIjogMSxcbiAgXCJlZHUuc2xcIjogMSxcbiAgXCJnb3Yuc2xcIjogMSxcbiAgXCJvcmcuc2xcIjogMSxcbiAgXCJzbVwiOiAxLFxuICBcInNuXCI6IDEsXG4gIFwiYXJ0LnNuXCI6IDEsXG4gIFwiY29tLnNuXCI6IDEsXG4gIFwiZWR1LnNuXCI6IDEsXG4gIFwiZ291di5zblwiOiAxLFxuICBcIm9yZy5zblwiOiAxLFxuICBcInBlcnNvLnNuXCI6IDEsXG4gIFwidW5pdi5zblwiOiAxLFxuICBcInNvXCI6IDEsXG4gIFwiY29tLnNvXCI6IDEsXG4gIFwiZWR1LnNvXCI6IDEsXG4gIFwiZ292LnNvXCI6IDEsXG4gIFwibWUuc29cIjogMSxcbiAgXCJuZXQuc29cIjogMSxcbiAgXCJvcmcuc29cIjogMSxcbiAgXCJzclwiOiAxLFxuICBcInNzXCI6IDEsXG4gIFwiYml6LnNzXCI6IDEsXG4gIFwiY29tLnNzXCI6IDEsXG4gIFwiZWR1LnNzXCI6IDEsXG4gIFwiZ292LnNzXCI6IDEsXG4gIFwibWUuc3NcIjogMSxcbiAgXCJuZXQuc3NcIjogMSxcbiAgXCJvcmcuc3NcIjogMSxcbiAgXCJzY2guc3NcIjogMSxcbiAgXCJzdFwiOiAxLFxuICBcImNvLnN0XCI6IDEsXG4gIFwiY29tLnN0XCI6IDEsXG4gIFwiY29uc3VsYWRvLnN0XCI6IDEsXG4gIFwiZWR1LnN0XCI6IDEsXG4gIFwiZW1iYWl4YWRhLnN0XCI6IDEsXG4gIFwibWlsLnN0XCI6IDEsXG4gIFwibmV0LnN0XCI6IDEsXG4gIFwib3JnLnN0XCI6IDEsXG4gIFwicHJpbmNpcGUuc3RcIjogMSxcbiAgXCJzYW90b21lLnN0XCI6IDEsXG4gIFwic3RvcmUuc3RcIjogMSxcbiAgXCJzdVwiOiAxLFxuICBcInN2XCI6IDEsXG4gIFwiY29tLnN2XCI6IDEsXG4gIFwiZWR1LnN2XCI6IDEsXG4gIFwiZ29iLnN2XCI6IDEsXG4gIFwib3JnLnN2XCI6IDEsXG4gIFwicmVkLnN2XCI6IDEsXG4gIFwic3hcIjogMSxcbiAgXCJnb3Yuc3hcIjogMSxcbiAgXCJzeVwiOiAxLFxuICBcImVkdS5zeVwiOiAxLFxuICBcImdvdi5zeVwiOiAxLFxuICBcIm5ldC5zeVwiOiAxLFxuICBcIm1pbC5zeVwiOiAxLFxuICBcImNvbS5zeVwiOiAxLFxuICBcIm9yZy5zeVwiOiAxLFxuICBcInN6XCI6IDEsXG4gIFwiY28uc3pcIjogMSxcbiAgXCJhYy5zelwiOiAxLFxuICBcIm9yZy5zelwiOiAxLFxuICBcInRjXCI6IDEsXG4gIFwidGRcIjogMSxcbiAgXCJ0ZWxcIjogMSxcbiAgXCJ0ZlwiOiAxLFxuICBcInRnXCI6IDEsXG4gIFwidGhcIjogMSxcbiAgXCJhYy50aFwiOiAxLFxuICBcImNvLnRoXCI6IDEsXG4gIFwiZ28udGhcIjogMSxcbiAgXCJpbi50aFwiOiAxLFxuICBcIm1pLnRoXCI6IDEsXG4gIFwibmV0LnRoXCI6IDEsXG4gIFwib3IudGhcIjogMSxcbiAgXCJ0alwiOiAxLFxuICBcImFjLnRqXCI6IDEsXG4gIFwiYml6LnRqXCI6IDEsXG4gIFwiY28udGpcIjogMSxcbiAgXCJjb20udGpcIjogMSxcbiAgXCJlZHUudGpcIjogMSxcbiAgXCJnby50alwiOiAxLFxuICBcImdvdi50alwiOiAxLFxuICBcImludC50alwiOiAxLFxuICBcIm1pbC50alwiOiAxLFxuICBcIm5hbWUudGpcIjogMSxcbiAgXCJuZXQudGpcIjogMSxcbiAgXCJuaWMudGpcIjogMSxcbiAgXCJvcmcudGpcIjogMSxcbiAgXCJ0ZXN0LnRqXCI6IDEsXG4gIFwid2ViLnRqXCI6IDEsXG4gIFwidGtcIjogMSxcbiAgXCJ0bFwiOiAxLFxuICBcImdvdi50bFwiOiAxLFxuICBcInRtXCI6IDEsXG4gIFwiY29tLnRtXCI6IDEsXG4gIFwiY28udG1cIjogMSxcbiAgXCJvcmcudG1cIjogMSxcbiAgXCJuZXQudG1cIjogMSxcbiAgXCJub20udG1cIjogMSxcbiAgXCJnb3YudG1cIjogMSxcbiAgXCJtaWwudG1cIjogMSxcbiAgXCJlZHUudG1cIjogMSxcbiAgXCJ0blwiOiAxLFxuICBcImNvbS50blwiOiAxLFxuICBcImVucy50blwiOiAxLFxuICBcImZpbi50blwiOiAxLFxuICBcImdvdi50blwiOiAxLFxuICBcImluZC50blwiOiAxLFxuICBcImluZm8udG5cIjogMSxcbiAgXCJpbnRsLnRuXCI6IDEsXG4gIFwibWluY29tLnRuXCI6IDEsXG4gIFwibmF0LnRuXCI6IDEsXG4gIFwibmV0LnRuXCI6IDEsXG4gIFwib3JnLnRuXCI6IDEsXG4gIFwicGVyc28udG5cIjogMSxcbiAgXCJ0b3VyaXNtLnRuXCI6IDEsXG4gIFwidG9cIjogMSxcbiAgXCJjb20udG9cIjogMSxcbiAgXCJnb3YudG9cIjogMSxcbiAgXCJuZXQudG9cIjogMSxcbiAgXCJvcmcudG9cIjogMSxcbiAgXCJlZHUudG9cIjogMSxcbiAgXCJtaWwudG9cIjogMSxcbiAgXCJ0clwiOiAxLFxuICBcImF2LnRyXCI6IDEsXG4gIFwiYmJzLnRyXCI6IDEsXG4gIFwiYmVsLnRyXCI6IDEsXG4gIFwiYml6LnRyXCI6IDEsXG4gIFwiY29tLnRyXCI6IDEsXG4gIFwiZHIudHJcIjogMSxcbiAgXCJlZHUudHJcIjogMSxcbiAgXCJnZW4udHJcIjogMSxcbiAgXCJnb3YudHJcIjogMSxcbiAgXCJpbmZvLnRyXCI6IDEsXG4gIFwibWlsLnRyXCI6IDEsXG4gIFwiazEyLnRyXCI6IDEsXG4gIFwia2VwLnRyXCI6IDEsXG4gIFwibmFtZS50clwiOiAxLFxuICBcIm5ldC50clwiOiAxLFxuICBcIm9yZy50clwiOiAxLFxuICBcInBvbC50clwiOiAxLFxuICBcInRlbC50clwiOiAxLFxuICBcInRzay50clwiOiAxLFxuICBcInR2LnRyXCI6IDEsXG4gIFwid2ViLnRyXCI6IDEsXG4gIFwibmMudHJcIjogMSxcbiAgXCJnb3YubmMudHJcIjogMSxcbiAgXCJ0dFwiOiAxLFxuICBcImNvLnR0XCI6IDEsXG4gIFwiY29tLnR0XCI6IDEsXG4gIFwib3JnLnR0XCI6IDEsXG4gIFwibmV0LnR0XCI6IDEsXG4gIFwiYml6LnR0XCI6IDEsXG4gIFwiaW5mby50dFwiOiAxLFxuICBcInByby50dFwiOiAxLFxuICBcImludC50dFwiOiAxLFxuICBcImNvb3AudHRcIjogMSxcbiAgXCJqb2JzLnR0XCI6IDEsXG4gIFwibW9iaS50dFwiOiAxLFxuICBcInRyYXZlbC50dFwiOiAxLFxuICBcIm11c2V1bS50dFwiOiAxLFxuICBcImFlcm8udHRcIjogMSxcbiAgXCJuYW1lLnR0XCI6IDEsXG4gIFwiZ292LnR0XCI6IDEsXG4gIFwiZWR1LnR0XCI6IDEsXG4gIFwidHZcIjogMSxcbiAgXCJ0d1wiOiAxLFxuICBcImVkdS50d1wiOiAxLFxuICBcImdvdi50d1wiOiAxLFxuICBcIm1pbC50d1wiOiAxLFxuICBcImNvbS50d1wiOiAxLFxuICBcIm5ldC50d1wiOiAxLFxuICBcIm9yZy50d1wiOiAxLFxuICBcImlkdi50d1wiOiAxLFxuICBcImdhbWUudHdcIjogMSxcbiAgXCJlYml6LnR3XCI6IDEsXG4gIFwiY2x1Yi50d1wiOiAxLFxuICBcInhuLS16ZjBhbzY0YS50d1wiOiAxLFxuICBcInhuLS11YzBhdHYudHdcIjogMSxcbiAgXCJ4bi0tY3pydzI4Yi50d1wiOiAxLFxuICBcInR6XCI6IDEsXG4gIFwiYWMudHpcIjogMSxcbiAgXCJjby50elwiOiAxLFxuICBcImdvLnR6XCI6IDEsXG4gIFwiaG90ZWwudHpcIjogMSxcbiAgXCJpbmZvLnR6XCI6IDEsXG4gIFwibWUudHpcIjogMSxcbiAgXCJtaWwudHpcIjogMSxcbiAgXCJtb2JpLnR6XCI6IDEsXG4gIFwibmUudHpcIjogMSxcbiAgXCJvci50elwiOiAxLFxuICBcInNjLnR6XCI6IDEsXG4gIFwidHYudHpcIjogMSxcbiAgXCJ1YVwiOiAxLFxuICBcImNvbS51YVwiOiAxLFxuICBcImVkdS51YVwiOiAxLFxuICBcImdvdi51YVwiOiAxLFxuICBcImluLnVhXCI6IDEsXG4gIFwibmV0LnVhXCI6IDEsXG4gIFwib3JnLnVhXCI6IDEsXG4gIFwiY2hlcmthc3N5LnVhXCI6IDEsXG4gIFwiY2hlcmthc3kudWFcIjogMSxcbiAgXCJjaGVybmlnb3YudWFcIjogMSxcbiAgXCJjaGVybmloaXYudWFcIjogMSxcbiAgXCJjaGVybml2dHNpLnVhXCI6IDEsXG4gIFwiY2hlcm5vdnRzeS51YVwiOiAxLFxuICBcImNrLnVhXCI6IDEsXG4gIFwiY24udWFcIjogMSxcbiAgXCJjci51YVwiOiAxLFxuICBcImNyaW1lYS51YVwiOiAxLFxuICBcImN2LnVhXCI6IDEsXG4gIFwiZG4udWFcIjogMSxcbiAgXCJkbmVwcm9wZXRyb3Zzay51YVwiOiAxLFxuICBcImRuaXByb3BldHJvdnNrLnVhXCI6IDEsXG4gIFwiZG9uZXRzay51YVwiOiAxLFxuICBcImRwLnVhXCI6IDEsXG4gIFwiaWYudWFcIjogMSxcbiAgXCJpdmFuby1mcmFua2l2c2sudWFcIjogMSxcbiAgXCJraC51YVwiOiAxLFxuICBcImtoYXJraXYudWFcIjogMSxcbiAgXCJraGFya292LnVhXCI6IDEsXG4gIFwia2hlcnNvbi51YVwiOiAxLFxuICBcImtobWVsbml0c2tpeS51YVwiOiAxLFxuICBcImtobWVsbnl0c2t5aS51YVwiOiAxLFxuICBcImtpZXYudWFcIjogMSxcbiAgXCJraXJvdm9ncmFkLnVhXCI6IDEsXG4gIFwia20udWFcIjogMSxcbiAgXCJrci51YVwiOiAxLFxuICBcImtyb3B5dm55dHNreWkudWFcIjogMSxcbiAgXCJrcnltLnVhXCI6IDEsXG4gIFwia3MudWFcIjogMSxcbiAgXCJrdi51YVwiOiAxLFxuICBcImt5aXYudWFcIjogMSxcbiAgXCJsZy51YVwiOiAxLFxuICBcImx0LnVhXCI6IDEsXG4gIFwibHVnYW5zay51YVwiOiAxLFxuICBcImx1aGFuc2sudWFcIjogMSxcbiAgXCJsdXRzay51YVwiOiAxLFxuICBcImx2LnVhXCI6IDEsXG4gIFwibHZpdi51YVwiOiAxLFxuICBcIm1rLnVhXCI6IDEsXG4gIFwibXlrb2xhaXYudWFcIjogMSxcbiAgXCJuaWtvbGFldi51YVwiOiAxLFxuICBcIm9kLnVhXCI6IDEsXG4gIFwib2Rlc2EudWFcIjogMSxcbiAgXCJvZGVzc2EudWFcIjogMSxcbiAgXCJwbC51YVwiOiAxLFxuICBcInBvbHRhdmEudWFcIjogMSxcbiAgXCJyaXZuZS51YVwiOiAxLFxuICBcInJvdm5vLnVhXCI6IDEsXG4gIFwicnYudWFcIjogMSxcbiAgXCJzYi51YVwiOiAxLFxuICBcInNlYmFzdG9wb2wudWFcIjogMSxcbiAgXCJzZXZhc3RvcG9sLnVhXCI6IDEsXG4gIFwic20udWFcIjogMSxcbiAgXCJzdW15LnVhXCI6IDEsXG4gIFwidGUudWFcIjogMSxcbiAgXCJ0ZXJub3BpbC51YVwiOiAxLFxuICBcInV6LnVhXCI6IDEsXG4gIFwidXpoZ29yb2QudWFcIjogMSxcbiAgXCJ1emhob3JvZC51YVwiOiAxLFxuICBcInZpbm5pY2EudWFcIjogMSxcbiAgXCJ2aW5ueXRzaWEudWFcIjogMSxcbiAgXCJ2bi51YVwiOiAxLFxuICBcInZvbHluLnVhXCI6IDEsXG4gIFwieWFsdGEudWFcIjogMSxcbiAgXCJ6YWthcnBhdHRpYS51YVwiOiAxLFxuICBcInphcG9yaXpoemhlLnVhXCI6IDEsXG4gIFwiemFwb3Jpemh6aGlhLnVhXCI6IDEsXG4gIFwiemhpdG9taXIudWFcIjogMSxcbiAgXCJ6aHl0b215ci51YVwiOiAxLFxuICBcInpwLnVhXCI6IDEsXG4gIFwienQudWFcIjogMSxcbiAgXCJ1Z1wiOiAxLFxuICBcImNvLnVnXCI6IDEsXG4gIFwib3IudWdcIjogMSxcbiAgXCJhYy51Z1wiOiAxLFxuICBcInNjLnVnXCI6IDEsXG4gIFwiZ28udWdcIjogMSxcbiAgXCJuZS51Z1wiOiAxLFxuICBcImNvbS51Z1wiOiAxLFxuICBcIm9yZy51Z1wiOiAxLFxuICBcInVrXCI6IDEsXG4gIFwiYWMudWtcIjogMSxcbiAgXCJjby51a1wiOiAxLFxuICBcImdvdi51a1wiOiAxLFxuICBcImx0ZC51a1wiOiAxLFxuICBcIm1lLnVrXCI6IDEsXG4gIFwibmV0LnVrXCI6IDEsXG4gIFwibmhzLnVrXCI6IDEsXG4gIFwib3JnLnVrXCI6IDEsXG4gIFwicGxjLnVrXCI6IDEsXG4gIFwicG9saWNlLnVrXCI6IDEsXG4gIFwic2NoLnVrXCI6IDIsXG4gIFwidXNcIjogMSxcbiAgXCJkbmkudXNcIjogMSxcbiAgXCJmZWQudXNcIjogMSxcbiAgXCJpc2EudXNcIjogMSxcbiAgXCJraWRzLnVzXCI6IDEsXG4gIFwibnNuLnVzXCI6IDEsXG4gIFwiYWsudXNcIjogMSxcbiAgXCJhbC51c1wiOiAxLFxuICBcImFyLnVzXCI6IDEsXG4gIFwiYXMudXNcIjogMSxcbiAgXCJhei51c1wiOiAxLFxuICBcImNhLnVzXCI6IDEsXG4gIFwiY28udXNcIjogMSxcbiAgXCJjdC51c1wiOiAxLFxuICBcImRjLnVzXCI6IDEsXG4gIFwiZGUudXNcIjogMSxcbiAgXCJmbC51c1wiOiAxLFxuICBcImdhLnVzXCI6IDEsXG4gIFwiZ3UudXNcIjogMSxcbiAgXCJoaS51c1wiOiAxLFxuICBcImlhLnVzXCI6IDEsXG4gIFwiaWQudXNcIjogMSxcbiAgXCJpbC51c1wiOiAxLFxuICBcImluLnVzXCI6IDEsXG4gIFwia3MudXNcIjogMSxcbiAgXCJreS51c1wiOiAxLFxuICBcImxhLnVzXCI6IDEsXG4gIFwibWEudXNcIjogMSxcbiAgXCJtZC51c1wiOiAxLFxuICBcIm1lLnVzXCI6IDEsXG4gIFwibWkudXNcIjogMSxcbiAgXCJtbi51c1wiOiAxLFxuICBcIm1vLnVzXCI6IDEsXG4gIFwibXMudXNcIjogMSxcbiAgXCJtdC51c1wiOiAxLFxuICBcIm5jLnVzXCI6IDEsXG4gIFwibmQudXNcIjogMSxcbiAgXCJuZS51c1wiOiAxLFxuICBcIm5oLnVzXCI6IDEsXG4gIFwibmoudXNcIjogMSxcbiAgXCJubS51c1wiOiAxLFxuICBcIm52LnVzXCI6IDEsXG4gIFwibnkudXNcIjogMSxcbiAgXCJvaC51c1wiOiAxLFxuICBcIm9rLnVzXCI6IDEsXG4gIFwib3IudXNcIjogMSxcbiAgXCJwYS51c1wiOiAxLFxuICBcInByLnVzXCI6IDEsXG4gIFwicmkudXNcIjogMSxcbiAgXCJzYy51c1wiOiAxLFxuICBcInNkLnVzXCI6IDEsXG4gIFwidG4udXNcIjogMSxcbiAgXCJ0eC51c1wiOiAxLFxuICBcInV0LnVzXCI6IDEsXG4gIFwidmkudXNcIjogMSxcbiAgXCJ2dC51c1wiOiAxLFxuICBcInZhLnVzXCI6IDEsXG4gIFwid2EudXNcIjogMSxcbiAgXCJ3aS51c1wiOiAxLFxuICBcInd2LnVzXCI6IDEsXG4gIFwid3kudXNcIjogMSxcbiAgXCJrMTIuYWsudXNcIjogMSxcbiAgXCJrMTIuYWwudXNcIjogMSxcbiAgXCJrMTIuYXIudXNcIjogMSxcbiAgXCJrMTIuYXMudXNcIjogMSxcbiAgXCJrMTIuYXoudXNcIjogMSxcbiAgXCJrMTIuY2EudXNcIjogMSxcbiAgXCJrMTIuY28udXNcIjogMSxcbiAgXCJrMTIuY3QudXNcIjogMSxcbiAgXCJrMTIuZGMudXNcIjogMSxcbiAgXCJrMTIuZmwudXNcIjogMSxcbiAgXCJrMTIuZ2EudXNcIjogMSxcbiAgXCJrMTIuZ3UudXNcIjogMSxcbiAgXCJrMTIuaWEudXNcIjogMSxcbiAgXCJrMTIuaWQudXNcIjogMSxcbiAgXCJrMTIuaWwudXNcIjogMSxcbiAgXCJrMTIuaW4udXNcIjogMSxcbiAgXCJrMTIua3MudXNcIjogMSxcbiAgXCJrMTIua3kudXNcIjogMSxcbiAgXCJrMTIubGEudXNcIjogMSxcbiAgXCJrMTIubWEudXNcIjogMSxcbiAgXCJrMTIubWQudXNcIjogMSxcbiAgXCJrMTIubWUudXNcIjogMSxcbiAgXCJrMTIubWkudXNcIjogMSxcbiAgXCJrMTIubW4udXNcIjogMSxcbiAgXCJrMTIubW8udXNcIjogMSxcbiAgXCJrMTIubXMudXNcIjogMSxcbiAgXCJrMTIubXQudXNcIjogMSxcbiAgXCJrMTIubmMudXNcIjogMSxcbiAgXCJrMTIubmUudXNcIjogMSxcbiAgXCJrMTIubmgudXNcIjogMSxcbiAgXCJrMTIubmoudXNcIjogMSxcbiAgXCJrMTIubm0udXNcIjogMSxcbiAgXCJrMTIubnYudXNcIjogMSxcbiAgXCJrMTIubnkudXNcIjogMSxcbiAgXCJrMTIub2gudXNcIjogMSxcbiAgXCJrMTIub2sudXNcIjogMSxcbiAgXCJrMTIub3IudXNcIjogMSxcbiAgXCJrMTIucGEudXNcIjogMSxcbiAgXCJrMTIucHIudXNcIjogMSxcbiAgXCJrMTIuc2MudXNcIjogMSxcbiAgXCJrMTIudG4udXNcIjogMSxcbiAgXCJrMTIudHgudXNcIjogMSxcbiAgXCJrMTIudXQudXNcIjogMSxcbiAgXCJrMTIudmkudXNcIjogMSxcbiAgXCJrMTIudnQudXNcIjogMSxcbiAgXCJrMTIudmEudXNcIjogMSxcbiAgXCJrMTIud2EudXNcIjogMSxcbiAgXCJrMTIud2kudXNcIjogMSxcbiAgXCJrMTIud3kudXNcIjogMSxcbiAgXCJjYy5hay51c1wiOiAxLFxuICBcImNjLmFsLnVzXCI6IDEsXG4gIFwiY2MuYXIudXNcIjogMSxcbiAgXCJjYy5hcy51c1wiOiAxLFxuICBcImNjLmF6LnVzXCI6IDEsXG4gIFwiY2MuY2EudXNcIjogMSxcbiAgXCJjYy5jby51c1wiOiAxLFxuICBcImNjLmN0LnVzXCI6IDEsXG4gIFwiY2MuZGMudXNcIjogMSxcbiAgXCJjYy5kZS51c1wiOiAxLFxuICBcImNjLmZsLnVzXCI6IDEsXG4gIFwiY2MuZ2EudXNcIjogMSxcbiAgXCJjYy5ndS51c1wiOiAxLFxuICBcImNjLmhpLnVzXCI6IDEsXG4gIFwiY2MuaWEudXNcIjogMSxcbiAgXCJjYy5pZC51c1wiOiAxLFxuICBcImNjLmlsLnVzXCI6IDEsXG4gIFwiY2MuaW4udXNcIjogMSxcbiAgXCJjYy5rcy51c1wiOiAxLFxuICBcImNjLmt5LnVzXCI6IDEsXG4gIFwiY2MubGEudXNcIjogMSxcbiAgXCJjYy5tYS51c1wiOiAxLFxuICBcImNjLm1kLnVzXCI6IDEsXG4gIFwiY2MubWUudXNcIjogMSxcbiAgXCJjYy5taS51c1wiOiAxLFxuICBcImNjLm1uLnVzXCI6IDEsXG4gIFwiY2MubW8udXNcIjogMSxcbiAgXCJjYy5tcy51c1wiOiAxLFxuICBcImNjLm10LnVzXCI6IDEsXG4gIFwiY2MubmMudXNcIjogMSxcbiAgXCJjYy5uZC51c1wiOiAxLFxuICBcImNjLm5lLnVzXCI6IDEsXG4gIFwiY2MubmgudXNcIjogMSxcbiAgXCJjYy5uai51c1wiOiAxLFxuICBcImNjLm5tLnVzXCI6IDEsXG4gIFwiY2MubnYudXNcIjogMSxcbiAgXCJjYy5ueS51c1wiOiAxLFxuICBcImNjLm9oLnVzXCI6IDEsXG4gIFwiY2Mub2sudXNcIjogMSxcbiAgXCJjYy5vci51c1wiOiAxLFxuICBcImNjLnBhLnVzXCI6IDEsXG4gIFwiY2MucHIudXNcIjogMSxcbiAgXCJjYy5yaS51c1wiOiAxLFxuICBcImNjLnNjLnVzXCI6IDEsXG4gIFwiY2Muc2QudXNcIjogMSxcbiAgXCJjYy50bi51c1wiOiAxLFxuICBcImNjLnR4LnVzXCI6IDEsXG4gIFwiY2MudXQudXNcIjogMSxcbiAgXCJjYy52aS51c1wiOiAxLFxuICBcImNjLnZ0LnVzXCI6IDEsXG4gIFwiY2MudmEudXNcIjogMSxcbiAgXCJjYy53YS51c1wiOiAxLFxuICBcImNjLndpLnVzXCI6IDEsXG4gIFwiY2Mud3YudXNcIjogMSxcbiAgXCJjYy53eS51c1wiOiAxLFxuICBcImxpYi5hay51c1wiOiAxLFxuICBcImxpYi5hbC51c1wiOiAxLFxuICBcImxpYi5hci51c1wiOiAxLFxuICBcImxpYi5hcy51c1wiOiAxLFxuICBcImxpYi5hei51c1wiOiAxLFxuICBcImxpYi5jYS51c1wiOiAxLFxuICBcImxpYi5jby51c1wiOiAxLFxuICBcImxpYi5jdC51c1wiOiAxLFxuICBcImxpYi5kYy51c1wiOiAxLFxuICBcImxpYi5mbC51c1wiOiAxLFxuICBcImxpYi5nYS51c1wiOiAxLFxuICBcImxpYi5ndS51c1wiOiAxLFxuICBcImxpYi5oaS51c1wiOiAxLFxuICBcImxpYi5pYS51c1wiOiAxLFxuICBcImxpYi5pZC51c1wiOiAxLFxuICBcImxpYi5pbC51c1wiOiAxLFxuICBcImxpYi5pbi51c1wiOiAxLFxuICBcImxpYi5rcy51c1wiOiAxLFxuICBcImxpYi5reS51c1wiOiAxLFxuICBcImxpYi5sYS51c1wiOiAxLFxuICBcImxpYi5tYS51c1wiOiAxLFxuICBcImxpYi5tZC51c1wiOiAxLFxuICBcImxpYi5tZS51c1wiOiAxLFxuICBcImxpYi5taS51c1wiOiAxLFxuICBcImxpYi5tbi51c1wiOiAxLFxuICBcImxpYi5tby51c1wiOiAxLFxuICBcImxpYi5tcy51c1wiOiAxLFxuICBcImxpYi5tdC51c1wiOiAxLFxuICBcImxpYi5uYy51c1wiOiAxLFxuICBcImxpYi5uZC51c1wiOiAxLFxuICBcImxpYi5uZS51c1wiOiAxLFxuICBcImxpYi5uaC51c1wiOiAxLFxuICBcImxpYi5uai51c1wiOiAxLFxuICBcImxpYi5ubS51c1wiOiAxLFxuICBcImxpYi5udi51c1wiOiAxLFxuICBcImxpYi5ueS51c1wiOiAxLFxuICBcImxpYi5vaC51c1wiOiAxLFxuICBcImxpYi5vay51c1wiOiAxLFxuICBcImxpYi5vci51c1wiOiAxLFxuICBcImxpYi5wYS51c1wiOiAxLFxuICBcImxpYi5wci51c1wiOiAxLFxuICBcImxpYi5yaS51c1wiOiAxLFxuICBcImxpYi5zYy51c1wiOiAxLFxuICBcImxpYi5zZC51c1wiOiAxLFxuICBcImxpYi50bi51c1wiOiAxLFxuICBcImxpYi50eC51c1wiOiAxLFxuICBcImxpYi51dC51c1wiOiAxLFxuICBcImxpYi52aS51c1wiOiAxLFxuICBcImxpYi52dC51c1wiOiAxLFxuICBcImxpYi52YS51c1wiOiAxLFxuICBcImxpYi53YS51c1wiOiAxLFxuICBcImxpYi53aS51c1wiOiAxLFxuICBcImxpYi53eS51c1wiOiAxLFxuICBcInB2dC5rMTIubWEudXNcIjogMSxcbiAgXCJjaHRyLmsxMi5tYS51c1wiOiAxLFxuICBcInBhcm9jaC5rMTIubWEudXNcIjogMSxcbiAgXCJhbm4tYXJib3IubWkudXNcIjogMSxcbiAgXCJjb2cubWkudXNcIjogMSxcbiAgXCJkc3QubWkudXNcIjogMSxcbiAgXCJlYXRvbi5taS51c1wiOiAxLFxuICBcImdlbi5taS51c1wiOiAxLFxuICBcIm11cy5taS51c1wiOiAxLFxuICBcInRlYy5taS51c1wiOiAxLFxuICBcIndhc2h0ZW5hdy5taS51c1wiOiAxLFxuICBcInV5XCI6IDEsXG4gIFwiY29tLnV5XCI6IDEsXG4gIFwiZWR1LnV5XCI6IDEsXG4gIFwiZ3ViLnV5XCI6IDEsXG4gIFwibWlsLnV5XCI6IDEsXG4gIFwibmV0LnV5XCI6IDEsXG4gIFwib3JnLnV5XCI6IDEsXG4gIFwidXpcIjogMSxcbiAgXCJjby51elwiOiAxLFxuICBcImNvbS51elwiOiAxLFxuICBcIm5ldC51elwiOiAxLFxuICBcIm9yZy51elwiOiAxLFxuICBcInZhXCI6IDEsXG4gIFwidmNcIjogMSxcbiAgXCJjb20udmNcIjogMSxcbiAgXCJuZXQudmNcIjogMSxcbiAgXCJvcmcudmNcIjogMSxcbiAgXCJnb3YudmNcIjogMSxcbiAgXCJtaWwudmNcIjogMSxcbiAgXCJlZHUudmNcIjogMSxcbiAgXCJ2ZVwiOiAxLFxuICBcImFydHMudmVcIjogMSxcbiAgXCJiaWIudmVcIjogMSxcbiAgXCJjby52ZVwiOiAxLFxuICBcImNvbS52ZVwiOiAxLFxuICBcImUxMi52ZVwiOiAxLFxuICBcImVkdS52ZVwiOiAxLFxuICBcImZpcm0udmVcIjogMSxcbiAgXCJnb2IudmVcIjogMSxcbiAgXCJnb3YudmVcIjogMSxcbiAgXCJpbmZvLnZlXCI6IDEsXG4gIFwiaW50LnZlXCI6IDEsXG4gIFwibWlsLnZlXCI6IDEsXG4gIFwibmV0LnZlXCI6IDEsXG4gIFwibm9tLnZlXCI6IDEsXG4gIFwib3JnLnZlXCI6IDEsXG4gIFwicmFyLnZlXCI6IDEsXG4gIFwicmVjLnZlXCI6IDEsXG4gIFwic3RvcmUudmVcIjogMSxcbiAgXCJ0ZWMudmVcIjogMSxcbiAgXCJ3ZWIudmVcIjogMSxcbiAgXCJ2Z1wiOiAxLFxuICBcInZpXCI6IDEsXG4gIFwiY28udmlcIjogMSxcbiAgXCJjb20udmlcIjogMSxcbiAgXCJrMTIudmlcIjogMSxcbiAgXCJuZXQudmlcIjogMSxcbiAgXCJvcmcudmlcIjogMSxcbiAgXCJ2blwiOiAxLFxuICBcImFjLnZuXCI6IDEsXG4gIFwiYWkudm5cIjogMSxcbiAgXCJiaXoudm5cIjogMSxcbiAgXCJjb20udm5cIjogMSxcbiAgXCJlZHUudm5cIjogMSxcbiAgXCJnb3Yudm5cIjogMSxcbiAgXCJoZWFsdGgudm5cIjogMSxcbiAgXCJpZC52blwiOiAxLFxuICBcImluZm8udm5cIjogMSxcbiAgXCJpbnQudm5cIjogMSxcbiAgXCJpby52blwiOiAxLFxuICBcIm5hbWUudm5cIjogMSxcbiAgXCJuZXQudm5cIjogMSxcbiAgXCJvcmcudm5cIjogMSxcbiAgXCJwcm8udm5cIjogMSxcbiAgXCJhbmdpYW5nLnZuXCI6IDEsXG4gIFwiYmFjZ2lhbmcudm5cIjogMSxcbiAgXCJiYWNrYW4udm5cIjogMSxcbiAgXCJiYWNsaWV1LnZuXCI6IDEsXG4gIFwiYmFjbmluaC52blwiOiAxLFxuICBcImJhcmlhLXZ1bmd0YXUudm5cIjogMSxcbiAgXCJiZW50cmUudm5cIjogMSxcbiAgXCJiaW5oZGluaC52blwiOiAxLFxuICBcImJpbmhkdW9uZy52blwiOiAxLFxuICBcImJpbmhwaHVvYy52blwiOiAxLFxuICBcImJpbmh0aHVhbi52blwiOiAxLFxuICBcImNhbWF1LnZuXCI6IDEsXG4gIFwiY2FudGhvLnZuXCI6IDEsXG4gIFwiY2FvYmFuZy52blwiOiAxLFxuICBcImRha2xhay52blwiOiAxLFxuICBcImRha25vbmcudm5cIjogMSxcbiAgXCJkYW5hbmcudm5cIjogMSxcbiAgXCJkaWVuYmllbi52blwiOiAxLFxuICBcImRvbmduYWkudm5cIjogMSxcbiAgXCJkb25ndGhhcC52blwiOiAxLFxuICBcImdpYWxhaS52blwiOiAxLFxuICBcImhhZ2lhbmcudm5cIjogMSxcbiAgXCJoYWlkdW9uZy52blwiOiAxLFxuICBcImhhaXBob25nLnZuXCI6IDEsXG4gIFwiaGFuYW0udm5cIjogMSxcbiAgXCJoYW5vaS52blwiOiAxLFxuICBcImhhdGluaC52blwiOiAxLFxuICBcImhhdWdpYW5nLnZuXCI6IDEsXG4gIFwiaG9hYmluaC52blwiOiAxLFxuICBcImh1bmd5ZW4udm5cIjogMSxcbiAgXCJraGFuaGhvYS52blwiOiAxLFxuICBcImtpZW5naWFuZy52blwiOiAxLFxuICBcImtvbnR1bS52blwiOiAxLFxuICBcImxhaWNoYXUudm5cIjogMSxcbiAgXCJsYW1kb25nLnZuXCI6IDEsXG4gIFwibGFuZ3Nvbi52blwiOiAxLFxuICBcImxhb2NhaS52blwiOiAxLFxuICBcImxvbmdhbi52blwiOiAxLFxuICBcIm5hbWRpbmgudm5cIjogMSxcbiAgXCJuZ2hlYW4udm5cIjogMSxcbiAgXCJuaW5oYmluaC52blwiOiAxLFxuICBcIm5pbmh0aHVhbi52blwiOiAxLFxuICBcInBodXRoby52blwiOiAxLFxuICBcInBodXllbi52blwiOiAxLFxuICBcInF1YW5nYmluaC52blwiOiAxLFxuICBcInF1YW5nbmFtLnZuXCI6IDEsXG4gIFwicXVhbmduZ2FpLnZuXCI6IDEsXG4gIFwicXVhbmduaW5oLnZuXCI6IDEsXG4gIFwicXVhbmd0cmkudm5cIjogMSxcbiAgXCJzb2N0cmFuZy52blwiOiAxLFxuICBcInNvbmxhLnZuXCI6IDEsXG4gIFwidGF5bmluaC52blwiOiAxLFxuICBcInRoYWliaW5oLnZuXCI6IDEsXG4gIFwidGhhaW5ndXllbi52blwiOiAxLFxuICBcInRoYW5oaG9hLnZuXCI6IDEsXG4gIFwidGhhbmhwaG9ob2NoaW1pbmgudm5cIjogMSxcbiAgXCJ0aHVhdGhpZW5odWUudm5cIjogMSxcbiAgXCJ0aWVuZ2lhbmcudm5cIjogMSxcbiAgXCJ0cmF2aW5oLnZuXCI6IDEsXG4gIFwidHV5ZW5xdWFuZy52blwiOiAxLFxuICBcInZpbmhsb25nLnZuXCI6IDEsXG4gIFwidmluaHBodWMudm5cIjogMSxcbiAgXCJ5ZW5iYWkudm5cIjogMSxcbiAgXCJ2dVwiOiAxLFxuICBcImNvbS52dVwiOiAxLFxuICBcImVkdS52dVwiOiAxLFxuICBcIm5ldC52dVwiOiAxLFxuICBcIm9yZy52dVwiOiAxLFxuICBcIndmXCI6IDEsXG4gIFwid3NcIjogMSxcbiAgXCJjb20ud3NcIjogMSxcbiAgXCJuZXQud3NcIjogMSxcbiAgXCJvcmcud3NcIjogMSxcbiAgXCJnb3Yud3NcIjogMSxcbiAgXCJlZHUud3NcIjogMSxcbiAgXCJ5dFwiOiAxLFxuICBcInhuLS1tZ2JhYW03YThoXCI6IDEsXG4gIFwieG4tLXk5YTNhcVwiOiAxLFxuICBcInhuLS01NGI3ZnRhMGNjXCI6IDEsXG4gIFwieG4tLTkwYWVcIjogMSxcbiAgXCJ4bi0tbWdiY3BxNmdwYTFhXCI6IDEsXG4gIFwieG4tLTkwYWlzXCI6IDEsXG4gIFwieG4tLWZpcXM4c1wiOiAxLFxuICBcInhuLS1maXF6OXNcIjogMSxcbiAgXCJ4bi0tbGdiYmF0MWFkOGpcIjogMSxcbiAgXCJ4bi0td2diaDFjXCI6IDEsXG4gIFwieG4tLWUxYTRjXCI6IDEsXG4gIFwieG4tLXF4YTZhXCI6IDEsXG4gIFwieG4tLW1nYmFoMWEzaGprcmRcIjogMSxcbiAgXCJ4bi0tbm9kZVwiOiAxLFxuICBcInhuLS1xeGFtXCI6IDEsXG4gIFwieG4tLWo2dzE5M2dcIjogMSxcbiAgXCJ4bi0tNTVxeDVkLnhuLS1qNncxOTNnXCI6IDEsXG4gIFwieG4tLXdjdnMyMmQueG4tLWo2dzE5M2dcIjogMSxcbiAgXCJ4bi0tbXh0cTFtLnhuLS1qNncxOTNnXCI6IDEsXG4gIFwieG4tLWdtcXc1YS54bi0tajZ3MTkzZ1wiOiAxLFxuICBcInhuLS1vZDBhbGcueG4tLWo2dzE5M2dcIjogMSxcbiAgXCJ4bi0tdWMwYXR2LnhuLS1qNncxOTNnXCI6IDEsXG4gIFwieG4tLTJzY3JqOWNcIjogMSxcbiAgXCJ4bi0tM2hjcmo5Y1wiOiAxLFxuICBcInhuLS00NWJyNWN5bFwiOiAxLFxuICBcInhuLS1oMmJyZWczZXZlXCI6IDEsXG4gIFwieG4tLWgyYnJqOWM4Y1wiOiAxLFxuICBcInhuLS1tZ2JndTgyYVwiOiAxLFxuICBcInhuLS1ydmMxZTBhbTNlXCI6IDEsXG4gIFwieG4tLWgyYnJqOWNcIjogMSxcbiAgXCJ4bi0tbWdiYmgxYVwiOiAxLFxuICBcInhuLS1tZ2JiaDFhNzFlXCI6IDEsXG4gIFwieG4tLWZwY3JqOWMzZFwiOiAxLFxuICBcInhuLS1nZWNyajljXCI6IDEsXG4gIFwieG4tLXM5YnJqOWNcIjogMSxcbiAgXCJ4bi0tNDVicmo5Y1wiOiAxLFxuICBcInhuLS14a2MyZGwzYTVlZTBoXCI6IDEsXG4gIFwieG4tLW1nYmEzYTRmMTZhXCI6IDEsXG4gIFwieG4tLW1nYmEzYTRmcmFcIjogMSxcbiAgXCJ4bi0tbWdidHgyYlwiOiAxLFxuICBcInhuLS1tZ2JheWg3Z3BhXCI6IDEsXG4gIFwieG4tLTNlMGI3MDdlXCI6IDEsXG4gIFwieG4tLTgwYW8yMWFcIjogMSxcbiAgXCJ4bi0tcTdjZTZhXCI6IDEsXG4gIFwieG4tLWZ6YzJjOWUyY1wiOiAxLFxuICBcInhuLS14a2MyYWwzaHllMmFcIjogMSxcbiAgXCJ4bi0tbWdiYzBhOWF6Y2dcIjogMSxcbiAgXCJ4bi0tZDFhbGZcIjogMSxcbiAgXCJ4bi0tbDFhY2NcIjogMSxcbiAgXCJ4bi0tbWl4ODkxZlwiOiAxLFxuICBcInhuLS1taXgwODJmXCI6IDEsXG4gIFwieG4tLW1nYng0Y2QwYWJcIjogMSxcbiAgXCJ4bi0tbWdiOWF3YmZcIjogMSxcbiAgXCJ4bi0tbWdiYWk5YXpncXA2alwiOiAxLFxuICBcInhuLS1tZ2JhaTlhNWV2YTAwYlwiOiAxLFxuICBcInhuLS15Z2JpMmFtbXhcIjogMSxcbiAgXCJ4bi0tOTBhM2FjXCI6IDEsXG4gIFwieG4tLW8xYWMueG4tLTkwYTNhY1wiOiAxLFxuICBcInhuLS1jMWF2Zy54bi0tOTBhM2FjXCI6IDEsXG4gIFwieG4tLTkwYXpoLnhuLS05MGEzYWNcIjogMSxcbiAgXCJ4bi0tZDFhdC54bi0tOTBhM2FjXCI6IDEsXG4gIFwieG4tLW8xYWNoLnhuLS05MGEzYWNcIjogMSxcbiAgXCJ4bi0tODBhdS54bi0tOTBhM2FjXCI6IDEsXG4gIFwieG4tLXAxYWlcIjogMSxcbiAgXCJ4bi0td2dibDZhXCI6IDEsXG4gIFwieG4tLW1nYmVycDRhNWQ0YXJcIjogMSxcbiAgXCJ4bi0tbWdiZXJwNGE1ZDRhODdnXCI6IDEsXG4gIFwieG4tLW1nYnFseTdjMGE2N2ZiY1wiOiAxLFxuICBcInhuLS1tZ2JxbHk3Y3ZhZnJcIjogMSxcbiAgXCJ4bi0tbWdicGwyZmhcIjogMSxcbiAgXCJ4bi0teWZybzRpNjdvXCI6IDEsXG4gIFwieG4tLWNsY2hjMGVhMGIyZzJhOWdjZFwiOiAxLFxuICBcInhuLS1vZ2JwZjhmbFwiOiAxLFxuICBcInhuLS1tZ2J0ZjhmbFwiOiAxLFxuICBcInhuLS1vM2N3NGhcIjogMSxcbiAgXCJ4bi0tMTJjMWZlMGJyLnhuLS1vM2N3NGhcIjogMSxcbiAgXCJ4bi0tMTJjbzBjM2I0ZXZhLnhuLS1vM2N3NGhcIjogMSxcbiAgXCJ4bi0taDNjdXprMWRpLnhuLS1vM2N3NGhcIjogMSxcbiAgXCJ4bi0tbzNjeXgyYS54bi0tbzNjdzRoXCI6IDEsXG4gIFwieG4tLW0zY2gwajNhLnhuLS1vM2N3NGhcIjogMSxcbiAgXCJ4bi0tMTJjZmk4aXhiOGwueG4tLW8zY3c0aFwiOiAxLFxuICBcInhuLS1wZ2JzMGRoXCI6IDEsXG4gIFwieG4tLWtwcnk1N2RcIjogMSxcbiAgXCJ4bi0ta3BydzEzZFwiOiAxLFxuICBcInhuLS1ubngzODhhXCI6IDEsXG4gIFwieG4tLWoxYW1oXCI6IDEsXG4gIFwieG4tLW1nYjJkZGVzXCI6IDEsXG4gIFwieHh4XCI6IDEsXG4gIFwieWVcIjogMSxcbiAgXCJjb20ueWVcIjogMSxcbiAgXCJlZHUueWVcIjogMSxcbiAgXCJnb3YueWVcIjogMSxcbiAgXCJuZXQueWVcIjogMSxcbiAgXCJtaWwueWVcIjogMSxcbiAgXCJvcmcueWVcIjogMSxcbiAgXCJhYy56YVwiOiAxLFxuICBcImFncmljLnphXCI6IDEsXG4gIFwiYWx0LnphXCI6IDEsXG4gIFwiY28uemFcIjogMSxcbiAgXCJlZHUuemFcIjogMSxcbiAgXCJnb3YuemFcIjogMSxcbiAgXCJncm9uZGFyLnphXCI6IDEsXG4gIFwibGF3LnphXCI6IDEsXG4gIFwibWlsLnphXCI6IDEsXG4gIFwibmV0LnphXCI6IDEsXG4gIFwibmdvLnphXCI6IDEsXG4gIFwibmljLnphXCI6IDEsXG4gIFwibmlzLnphXCI6IDEsXG4gIFwibm9tLnphXCI6IDEsXG4gIFwib3JnLnphXCI6IDEsXG4gIFwic2Nob29sLnphXCI6IDEsXG4gIFwidG0uemFcIjogMSxcbiAgXCJ3ZWIuemFcIjogMSxcbiAgXCJ6bVwiOiAxLFxuICBcImFjLnptXCI6IDEsXG4gIFwiYml6LnptXCI6IDEsXG4gIFwiY28uem1cIjogMSxcbiAgXCJjb20uem1cIjogMSxcbiAgXCJlZHUuem1cIjogMSxcbiAgXCJnb3Yuem1cIjogMSxcbiAgXCJpbmZvLnptXCI6IDEsXG4gIFwibWlsLnptXCI6IDEsXG4gIFwibmV0LnptXCI6IDEsXG4gIFwib3JnLnptXCI6IDEsXG4gIFwic2NoLnptXCI6IDEsXG4gIFwiendcIjogMSxcbiAgXCJhYy56d1wiOiAxLFxuICBcImNvLnp3XCI6IDEsXG4gIFwiZ292Lnp3XCI6IDEsXG4gIFwibWlsLnp3XCI6IDEsXG4gIFwib3JnLnp3XCI6IDEsXG4gIFwiYWFhXCI6IDEsXG4gIFwiYWFycFwiOiAxLFxuICBcImFiYlwiOiAxLFxuICBcImFiYm90dFwiOiAxLFxuICBcImFiYnZpZVwiOiAxLFxuICBcImFiY1wiOiAxLFxuICBcImFibGVcIjogMSxcbiAgXCJhYm9nYWRvXCI6IDEsXG4gIFwiYWJ1ZGhhYmlcIjogMSxcbiAgXCJhY2FkZW15XCI6IDEsXG4gIFwiYWNjZW50dXJlXCI6IDEsXG4gIFwiYWNjb3VudGFudFwiOiAxLFxuICBcImFjY291bnRhbnRzXCI6IDEsXG4gIFwiYWNvXCI6IDEsXG4gIFwiYWN0b3JcIjogMSxcbiAgXCJhZHNcIjogMSxcbiAgXCJhZHVsdFwiOiAxLFxuICBcImFlZ1wiOiAxLFxuICBcImFldG5hXCI6IDEsXG4gIFwiYWZsXCI6IDEsXG4gIFwiYWZyaWNhXCI6IDEsXG4gIFwiYWdha2hhblwiOiAxLFxuICBcImFnZW5jeVwiOiAxLFxuICBcImFpZ1wiOiAxLFxuICBcImFpcmJ1c1wiOiAxLFxuICBcImFpcmZvcmNlXCI6IDEsXG4gIFwiYWlydGVsXCI6IDEsXG4gIFwiYWtkblwiOiAxLFxuICBcImFsaWJhYmFcIjogMSxcbiAgXCJhbGlwYXlcIjogMSxcbiAgXCJhbGxmaW5hbnpcIjogMSxcbiAgXCJhbGxzdGF0ZVwiOiAxLFxuICBcImFsbHlcIjogMSxcbiAgXCJhbHNhY2VcIjogMSxcbiAgXCJhbHN0b21cIjogMSxcbiAgXCJhbWF6b25cIjogMSxcbiAgXCJhbWVyaWNhbmV4cHJlc3NcIjogMSxcbiAgXCJhbWVyaWNhbmZhbWlseVwiOiAxLFxuICBcImFtZXhcIjogMSxcbiAgXCJhbWZhbVwiOiAxLFxuICBcImFtaWNhXCI6IDEsXG4gIFwiYW1zdGVyZGFtXCI6IDEsXG4gIFwiYW5hbHl0aWNzXCI6IDEsXG4gIFwiYW5kcm9pZFwiOiAxLFxuICBcImFucXVhblwiOiAxLFxuICBcImFuelwiOiAxLFxuICBcImFvbFwiOiAxLFxuICBcImFwYXJ0bWVudHNcIjogMSxcbiAgXCJhcHBcIjogMSxcbiAgXCJhcHBsZVwiOiAxLFxuICBcImFxdWFyZWxsZVwiOiAxLFxuICBcImFyYWJcIjogMSxcbiAgXCJhcmFtY29cIjogMSxcbiAgXCJhcmNoaVwiOiAxLFxuICBcImFybXlcIjogMSxcbiAgXCJhcnRcIjogMSxcbiAgXCJhcnRlXCI6IDEsXG4gIFwiYXNkYVwiOiAxLFxuICBcImFzc29jaWF0ZXNcIjogMSxcbiAgXCJhdGhsZXRhXCI6IDEsXG4gIFwiYXR0b3JuZXlcIjogMSxcbiAgXCJhdWN0aW9uXCI6IDEsXG4gIFwiYXVkaVwiOiAxLFxuICBcImF1ZGlibGVcIjogMSxcbiAgXCJhdWRpb1wiOiAxLFxuICBcImF1c3Bvc3RcIjogMSxcbiAgXCJhdXRob3JcIjogMSxcbiAgXCJhdXRvXCI6IDEsXG4gIFwiYXV0b3NcIjogMSxcbiAgXCJhdmlhbmNhXCI6IDEsXG4gIFwiYXdzXCI6IDEsXG4gIFwiYXhhXCI6IDEsXG4gIFwiYXp1cmVcIjogMSxcbiAgXCJiYWJ5XCI6IDEsXG4gIFwiYmFpZHVcIjogMSxcbiAgXCJiYW5hbWV4XCI6IDEsXG4gIFwiYmFuYW5hcmVwdWJsaWNcIjogMSxcbiAgXCJiYW5kXCI6IDEsXG4gIFwiYmFua1wiOiAxLFxuICBcImJhclwiOiAxLFxuICBcImJhcmNlbG9uYVwiOiAxLFxuICBcImJhcmNsYXljYXJkXCI6IDEsXG4gIFwiYmFyY2xheXNcIjogMSxcbiAgXCJiYXJlZm9vdFwiOiAxLFxuICBcImJhcmdhaW5zXCI6IDEsXG4gIFwiYmFzZWJhbGxcIjogMSxcbiAgXCJiYXNrZXRiYWxsXCI6IDEsXG4gIFwiYmF1aGF1c1wiOiAxLFxuICBcImJheWVyblwiOiAxLFxuICBcImJiY1wiOiAxLFxuICBcImJidFwiOiAxLFxuICBcImJidmFcIjogMSxcbiAgXCJiY2dcIjogMSxcbiAgXCJiY25cIjogMSxcbiAgXCJiZWF0c1wiOiAxLFxuICBcImJlYXV0eVwiOiAxLFxuICBcImJlZXJcIjogMSxcbiAgXCJiZW50bGV5XCI6IDEsXG4gIFwiYmVybGluXCI6IDEsXG4gIFwiYmVzdFwiOiAxLFxuICBcImJlc3RidXlcIjogMSxcbiAgXCJiZXRcIjogMSxcbiAgXCJiaGFydGlcIjogMSxcbiAgXCJiaWJsZVwiOiAxLFxuICBcImJpZFwiOiAxLFxuICBcImJpa2VcIjogMSxcbiAgXCJiaW5nXCI6IDEsXG4gIFwiYmluZ29cIjogMSxcbiAgXCJiaW9cIjogMSxcbiAgXCJibGFja1wiOiAxLFxuICBcImJsYWNrZnJpZGF5XCI6IDEsXG4gIFwiYmxvY2tidXN0ZXJcIjogMSxcbiAgXCJibG9nXCI6IDEsXG4gIFwiYmxvb21iZXJnXCI6IDEsXG4gIFwiYmx1ZVwiOiAxLFxuICBcImJtc1wiOiAxLFxuICBcImJtd1wiOiAxLFxuICBcImJucHBhcmliYXNcIjogMSxcbiAgXCJib2F0c1wiOiAxLFxuICBcImJvZWhyaW5nZXJcIjogMSxcbiAgXCJib2ZhXCI6IDEsXG4gIFwiYm9tXCI6IDEsXG4gIFwiYm9uZFwiOiAxLFxuICBcImJvb1wiOiAxLFxuICBcImJvb2tcIjogMSxcbiAgXCJib29raW5nXCI6IDEsXG4gIFwiYm9zY2hcIjogMSxcbiAgXCJib3N0aWtcIjogMSxcbiAgXCJib3N0b25cIjogMSxcbiAgXCJib3RcIjogMSxcbiAgXCJib3V0aXF1ZVwiOiAxLFxuICBcImJveFwiOiAxLFxuICBcImJyYWRlc2NvXCI6IDEsXG4gIFwiYnJpZGdlc3RvbmVcIjogMSxcbiAgXCJicm9hZHdheVwiOiAxLFxuICBcImJyb2tlclwiOiAxLFxuICBcImJyb3RoZXJcIjogMSxcbiAgXCJicnVzc2Vsc1wiOiAxLFxuICBcImJ1aWxkXCI6IDEsXG4gIFwiYnVpbGRlcnNcIjogMSxcbiAgXCJidXNpbmVzc1wiOiAxLFxuICBcImJ1eVwiOiAxLFxuICBcImJ1enpcIjogMSxcbiAgXCJiemhcIjogMSxcbiAgXCJjYWJcIjogMSxcbiAgXCJjYWZlXCI6IDEsXG4gIFwiY2FsXCI6IDEsXG4gIFwiY2FsbFwiOiAxLFxuICBcImNhbHZpbmtsZWluXCI6IDEsXG4gIFwiY2FtXCI6IDEsXG4gIFwiY2FtZXJhXCI6IDEsXG4gIFwiY2FtcFwiOiAxLFxuICBcImNhbm9uXCI6IDEsXG4gIFwiY2FwZXRvd25cIjogMSxcbiAgXCJjYXBpdGFsXCI6IDEsXG4gIFwiY2FwaXRhbG9uZVwiOiAxLFxuICBcImNhclwiOiAxLFxuICBcImNhcmF2YW5cIjogMSxcbiAgXCJjYXJkc1wiOiAxLFxuICBcImNhcmVcIjogMSxcbiAgXCJjYXJlZXJcIjogMSxcbiAgXCJjYXJlZXJzXCI6IDEsXG4gIFwiY2Fyc1wiOiAxLFxuICBcImNhc2FcIjogMSxcbiAgXCJjYXNlXCI6IDEsXG4gIFwiY2FzaFwiOiAxLFxuICBcImNhc2lub1wiOiAxLFxuICBcImNhdGVyaW5nXCI6IDEsXG4gIFwiY2F0aG9saWNcIjogMSxcbiAgXCJjYmFcIjogMSxcbiAgXCJjYm5cIjogMSxcbiAgXCJjYnJlXCI6IDEsXG4gIFwiY2VudGVyXCI6IDEsXG4gIFwiY2VvXCI6IDEsXG4gIFwiY2VyblwiOiAxLFxuICBcImNmYVwiOiAxLFxuICBcImNmZFwiOiAxLFxuICBcImNoYW5lbFwiOiAxLFxuICBcImNoYW5uZWxcIjogMSxcbiAgXCJjaGFyaXR5XCI6IDEsXG4gIFwiY2hhc2VcIjogMSxcbiAgXCJjaGF0XCI6IDEsXG4gIFwiY2hlYXBcIjogMSxcbiAgXCJjaGludGFpXCI6IDEsXG4gIFwiY2hyaXN0bWFzXCI6IDEsXG4gIFwiY2hyb21lXCI6IDEsXG4gIFwiY2h1cmNoXCI6IDEsXG4gIFwiY2lwcmlhbmlcIjogMSxcbiAgXCJjaXJjbGVcIjogMSxcbiAgXCJjaXNjb1wiOiAxLFxuICBcImNpdGFkZWxcIjogMSxcbiAgXCJjaXRpXCI6IDEsXG4gIFwiY2l0aWNcIjogMSxcbiAgXCJjaXR5XCI6IDEsXG4gIFwiY2xhaW1zXCI6IDEsXG4gIFwiY2xlYW5pbmdcIjogMSxcbiAgXCJjbGlja1wiOiAxLFxuICBcImNsaW5pY1wiOiAxLFxuICBcImNsaW5pcXVlXCI6IDEsXG4gIFwiY2xvdGhpbmdcIjogMSxcbiAgXCJjbG91ZFwiOiAxLFxuICBcImNsdWJcIjogMSxcbiAgXCJjbHVibWVkXCI6IDEsXG4gIFwiY29hY2hcIjogMSxcbiAgXCJjb2Rlc1wiOiAxLFxuICBcImNvZmZlZVwiOiAxLFxuICBcImNvbGxlZ2VcIjogMSxcbiAgXCJjb2xvZ25lXCI6IDEsXG4gIFwiY29tY2FzdFwiOiAxLFxuICBcImNvbW1iYW5rXCI6IDEsXG4gIFwiY29tbXVuaXR5XCI6IDEsXG4gIFwiY29tcGFueVwiOiAxLFxuICBcImNvbXBhcmVcIjogMSxcbiAgXCJjb21wdXRlclwiOiAxLFxuICBcImNvbXNlY1wiOiAxLFxuICBcImNvbmRvc1wiOiAxLFxuICBcImNvbnN0cnVjdGlvblwiOiAxLFxuICBcImNvbnN1bHRpbmdcIjogMSxcbiAgXCJjb250YWN0XCI6IDEsXG4gIFwiY29udHJhY3RvcnNcIjogMSxcbiAgXCJjb29raW5nXCI6IDEsXG4gIFwiY29vbFwiOiAxLFxuICBcImNvcnNpY2FcIjogMSxcbiAgXCJjb3VudHJ5XCI6IDEsXG4gIFwiY291cG9uXCI6IDEsXG4gIFwiY291cG9uc1wiOiAxLFxuICBcImNvdXJzZXNcIjogMSxcbiAgXCJjcGFcIjogMSxcbiAgXCJjcmVkaXRcIjogMSxcbiAgXCJjcmVkaXRjYXJkXCI6IDEsXG4gIFwiY3JlZGl0dW5pb25cIjogMSxcbiAgXCJjcmlja2V0XCI6IDEsXG4gIFwiY3Jvd25cIjogMSxcbiAgXCJjcnNcIjogMSxcbiAgXCJjcnVpc2VcIjogMSxcbiAgXCJjcnVpc2VzXCI6IDEsXG4gIFwiY3Vpc2luZWxsYVwiOiAxLFxuICBcImN5bXJ1XCI6IDEsXG4gIFwiY3lvdVwiOiAxLFxuICBcImRhYnVyXCI6IDEsXG4gIFwiZGFkXCI6IDEsXG4gIFwiZGFuY2VcIjogMSxcbiAgXCJkYXRhXCI6IDEsXG4gIFwiZGF0ZVwiOiAxLFxuICBcImRhdGluZ1wiOiAxLFxuICBcImRhdHN1blwiOiAxLFxuICBcImRheVwiOiAxLFxuICBcImRjbGtcIjogMSxcbiAgXCJkZHNcIjogMSxcbiAgXCJkZWFsXCI6IDEsXG4gIFwiZGVhbGVyXCI6IDEsXG4gIFwiZGVhbHNcIjogMSxcbiAgXCJkZWdyZWVcIjogMSxcbiAgXCJkZWxpdmVyeVwiOiAxLFxuICBcImRlbGxcIjogMSxcbiAgXCJkZWxvaXR0ZVwiOiAxLFxuICBcImRlbHRhXCI6IDEsXG4gIFwiZGVtb2NyYXRcIjogMSxcbiAgXCJkZW50YWxcIjogMSxcbiAgXCJkZW50aXN0XCI6IDEsXG4gIFwiZGVzaVwiOiAxLFxuICBcImRlc2lnblwiOiAxLFxuICBcImRldlwiOiAxLFxuICBcImRobFwiOiAxLFxuICBcImRpYW1vbmRzXCI6IDEsXG4gIFwiZGlldFwiOiAxLFxuICBcImRpZ2l0YWxcIjogMSxcbiAgXCJkaXJlY3RcIjogMSxcbiAgXCJkaXJlY3RvcnlcIjogMSxcbiAgXCJkaXNjb3VudFwiOiAxLFxuICBcImRpc2NvdmVyXCI6IDEsXG4gIFwiZGlzaFwiOiAxLFxuICBcImRpeVwiOiAxLFxuICBcImRucFwiOiAxLFxuICBcImRvY3NcIjogMSxcbiAgXCJkb2N0b3JcIjogMSxcbiAgXCJkb2dcIjogMSxcbiAgXCJkb21haW5zXCI6IDEsXG4gIFwiZG90XCI6IDEsXG4gIFwiZG93bmxvYWRcIjogMSxcbiAgXCJkcml2ZVwiOiAxLFxuICBcImR0dlwiOiAxLFxuICBcImR1YmFpXCI6IDEsXG4gIFwiZHVubG9wXCI6IDEsXG4gIFwiZHVwb250XCI6IDEsXG4gIFwiZHVyYmFuXCI6IDEsXG4gIFwiZHZhZ1wiOiAxLFxuICBcImR2clwiOiAxLFxuICBcImVhcnRoXCI6IDEsXG4gIFwiZWF0XCI6IDEsXG4gIFwiZWNvXCI6IDEsXG4gIFwiZWRla2FcIjogMSxcbiAgXCJlZHVjYXRpb25cIjogMSxcbiAgXCJlbWFpbFwiOiAxLFxuICBcImVtZXJja1wiOiAxLFxuICBcImVuZXJneVwiOiAxLFxuICBcImVuZ2luZWVyXCI6IDEsXG4gIFwiZW5naW5lZXJpbmdcIjogMSxcbiAgXCJlbnRlcnByaXNlc1wiOiAxLFxuICBcImVwc29uXCI6IDEsXG4gIFwiZXF1aXBtZW50XCI6IDEsXG4gIFwiZXJpY3Nzb25cIjogMSxcbiAgXCJlcm5pXCI6IDEsXG4gIFwiZXNxXCI6IDEsXG4gIFwiZXN0YXRlXCI6IDEsXG4gIFwiZXVyb3Zpc2lvblwiOiAxLFxuICBcImV1c1wiOiAxLFxuICBcImV2ZW50c1wiOiAxLFxuICBcImV4Y2hhbmdlXCI6IDEsXG4gIFwiZXhwZXJ0XCI6IDEsXG4gIFwiZXhwb3NlZFwiOiAxLFxuICBcImV4cHJlc3NcIjogMSxcbiAgXCJleHRyYXNwYWNlXCI6IDEsXG4gIFwiZmFnZVwiOiAxLFxuICBcImZhaWxcIjogMSxcbiAgXCJmYWlyd2luZHNcIjogMSxcbiAgXCJmYWl0aFwiOiAxLFxuICBcImZhbWlseVwiOiAxLFxuICBcImZhblwiOiAxLFxuICBcImZhbnNcIjogMSxcbiAgXCJmYXJtXCI6IDEsXG4gIFwiZmFybWVyc1wiOiAxLFxuICBcImZhc2hpb25cIjogMSxcbiAgXCJmYXN0XCI6IDEsXG4gIFwiZmVkZXhcIjogMSxcbiAgXCJmZWVkYmFja1wiOiAxLFxuICBcImZlcnJhcmlcIjogMSxcbiAgXCJmZXJyZXJvXCI6IDEsXG4gIFwiZmlkZWxpdHlcIjogMSxcbiAgXCJmaWRvXCI6IDEsXG4gIFwiZmlsbVwiOiAxLFxuICBcImZpbmFsXCI6IDEsXG4gIFwiZmluYW5jZVwiOiAxLFxuICBcImZpbmFuY2lhbFwiOiAxLFxuICBcImZpcmVcIjogMSxcbiAgXCJmaXJlc3RvbmVcIjogMSxcbiAgXCJmaXJtZGFsZVwiOiAxLFxuICBcImZpc2hcIjogMSxcbiAgXCJmaXNoaW5nXCI6IDEsXG4gIFwiZml0XCI6IDEsXG4gIFwiZml0bmVzc1wiOiAxLFxuICBcImZsaWNrclwiOiAxLFxuICBcImZsaWdodHNcIjogMSxcbiAgXCJmbGlyXCI6IDEsXG4gIFwiZmxvcmlzdFwiOiAxLFxuICBcImZsb3dlcnNcIjogMSxcbiAgXCJmbHlcIjogMSxcbiAgXCJmb29cIjogMSxcbiAgXCJmb29kXCI6IDEsXG4gIFwiZm9vdGJhbGxcIjogMSxcbiAgXCJmb3JkXCI6IDEsXG4gIFwiZm9yZXhcIjogMSxcbiAgXCJmb3JzYWxlXCI6IDEsXG4gIFwiZm9ydW1cIjogMSxcbiAgXCJmb3VuZGF0aW9uXCI6IDEsXG4gIFwiZm94XCI6IDEsXG4gIFwiZnJlZVwiOiAxLFxuICBcImZyZXNlbml1c1wiOiAxLFxuICBcImZybFwiOiAxLFxuICBcImZyb2dhbnNcIjogMSxcbiAgXCJmcm9udGllclwiOiAxLFxuICBcImZ0clwiOiAxLFxuICBcImZ1aml0c3VcIjogMSxcbiAgXCJmdW5cIjogMSxcbiAgXCJmdW5kXCI6IDEsXG4gIFwiZnVybml0dXJlXCI6IDEsXG4gIFwiZnV0Ym9sXCI6IDEsXG4gIFwiZnlpXCI6IDEsXG4gIFwiZ2FsXCI6IDEsXG4gIFwiZ2FsbGVyeVwiOiAxLFxuICBcImdhbGxvXCI6IDEsXG4gIFwiZ2FsbHVwXCI6IDEsXG4gIFwiZ2FtZVwiOiAxLFxuICBcImdhbWVzXCI6IDEsXG4gIFwiZ2FwXCI6IDEsXG4gIFwiZ2FyZGVuXCI6IDEsXG4gIFwiZ2F5XCI6IDEsXG4gIFwiZ2JpelwiOiAxLFxuICBcImdkblwiOiAxLFxuICBcImdlYVwiOiAxLFxuICBcImdlbnRcIjogMSxcbiAgXCJnZW50aW5nXCI6IDEsXG4gIFwiZ2VvcmdlXCI6IDEsXG4gIFwiZ2dlZVwiOiAxLFxuICBcImdpZnRcIjogMSxcbiAgXCJnaWZ0c1wiOiAxLFxuICBcImdpdmVzXCI6IDEsXG4gIFwiZ2l2aW5nXCI6IDEsXG4gIFwiZ2xhc3NcIjogMSxcbiAgXCJnbGVcIjogMSxcbiAgXCJnbG9iYWxcIjogMSxcbiAgXCJnbG9ib1wiOiAxLFxuICBcImdtYWlsXCI6IDEsXG4gIFwiZ21iaFwiOiAxLFxuICBcImdtb1wiOiAxLFxuICBcImdteFwiOiAxLFxuICBcImdvZGFkZHlcIjogMSxcbiAgXCJnb2xkXCI6IDEsXG4gIFwiZ29sZHBvaW50XCI6IDEsXG4gIFwiZ29sZlwiOiAxLFxuICBcImdvb1wiOiAxLFxuICBcImdvb2R5ZWFyXCI6IDEsXG4gIFwiZ29vZ1wiOiAxLFxuICBcImdvb2dsZVwiOiAxLFxuICBcImdvcFwiOiAxLFxuICBcImdvdFwiOiAxLFxuICBcImdyYWluZ2VyXCI6IDEsXG4gIFwiZ3JhcGhpY3NcIjogMSxcbiAgXCJncmF0aXNcIjogMSxcbiAgXCJncmVlblwiOiAxLFxuICBcImdyaXBlXCI6IDEsXG4gIFwiZ3JvY2VyeVwiOiAxLFxuICBcImdyb3VwXCI6IDEsXG4gIFwiZ3VhcmRpYW5cIjogMSxcbiAgXCJndWNjaVwiOiAxLFxuICBcImd1Z2VcIjogMSxcbiAgXCJndWlkZVwiOiAxLFxuICBcImd1aXRhcnNcIjogMSxcbiAgXCJndXJ1XCI6IDEsXG4gIFwiaGFpclwiOiAxLFxuICBcImhhbWJ1cmdcIjogMSxcbiAgXCJoYW5nb3V0XCI6IDEsXG4gIFwiaGF1c1wiOiAxLFxuICBcImhib1wiOiAxLFxuICBcImhkZmNcIjogMSxcbiAgXCJoZGZjYmFua1wiOiAxLFxuICBcImhlYWx0aFwiOiAxLFxuICBcImhlYWx0aGNhcmVcIjogMSxcbiAgXCJoZWxwXCI6IDEsXG4gIFwiaGVsc2lua2lcIjogMSxcbiAgXCJoZXJlXCI6IDEsXG4gIFwiaGVybWVzXCI6IDEsXG4gIFwiaGlwaG9wXCI6IDEsXG4gIFwiaGlzYW1pdHN1XCI6IDEsXG4gIFwiaGl0YWNoaVwiOiAxLFxuICBcImhpdlwiOiAxLFxuICBcImhrdFwiOiAxLFxuICBcImhvY2tleVwiOiAxLFxuICBcImhvbGRpbmdzXCI6IDEsXG4gIFwiaG9saWRheVwiOiAxLFxuICBcImhvbWVkZXBvdFwiOiAxLFxuICBcImhvbWVnb29kc1wiOiAxLFxuICBcImhvbWVzXCI6IDEsXG4gIFwiaG9tZXNlbnNlXCI6IDEsXG4gIFwiaG9uZGFcIjogMSxcbiAgXCJob3JzZVwiOiAxLFxuICBcImhvc3BpdGFsXCI6IDEsXG4gIFwiaG9zdFwiOiAxLFxuICBcImhvc3RpbmdcIjogMSxcbiAgXCJob3RcIjogMSxcbiAgXCJob3RlbHNcIjogMSxcbiAgXCJob3RtYWlsXCI6IDEsXG4gIFwiaG91c2VcIjogMSxcbiAgXCJob3dcIjogMSxcbiAgXCJoc2JjXCI6IDEsXG4gIFwiaHVnaGVzXCI6IDEsXG4gIFwiaHlhdHRcIjogMSxcbiAgXCJoeXVuZGFpXCI6IDEsXG4gIFwiaWJtXCI6IDEsXG4gIFwiaWNiY1wiOiAxLFxuICBcImljZVwiOiAxLFxuICBcImljdVwiOiAxLFxuICBcImllZWVcIjogMSxcbiAgXCJpZm1cIjogMSxcbiAgXCJpa2Fub1wiOiAxLFxuICBcImltYW1hdFwiOiAxLFxuICBcImltZGJcIjogMSxcbiAgXCJpbW1vXCI6IDEsXG4gIFwiaW1tb2JpbGllblwiOiAxLFxuICBcImluY1wiOiAxLFxuICBcImluZHVzdHJpZXNcIjogMSxcbiAgXCJpbmZpbml0aVwiOiAxLFxuICBcImluZ1wiOiAxLFxuICBcImlua1wiOiAxLFxuICBcImluc3RpdHV0ZVwiOiAxLFxuICBcImluc3VyYW5jZVwiOiAxLFxuICBcImluc3VyZVwiOiAxLFxuICBcImludGVybmF0aW9uYWxcIjogMSxcbiAgXCJpbnR1aXRcIjogMSxcbiAgXCJpbnZlc3RtZW50c1wiOiAxLFxuICBcImlwaXJhbmdhXCI6IDEsXG4gIFwiaXJpc2hcIjogMSxcbiAgXCJpc21haWxpXCI6IDEsXG4gIFwiaXN0XCI6IDEsXG4gIFwiaXN0YW5idWxcIjogMSxcbiAgXCJpdGF1XCI6IDEsXG4gIFwiaXR2XCI6IDEsXG4gIFwiamFndWFyXCI6IDEsXG4gIFwiamF2YVwiOiAxLFxuICBcImpjYlwiOiAxLFxuICBcImplZXBcIjogMSxcbiAgXCJqZXR6dFwiOiAxLFxuICBcImpld2VscnlcIjogMSxcbiAgXCJqaW9cIjogMSxcbiAgXCJqbGxcIjogMSxcbiAgXCJqbXBcIjogMSxcbiAgXCJqbmpcIjogMSxcbiAgXCJqb2J1cmdcIjogMSxcbiAgXCJqb3RcIjogMSxcbiAgXCJqb3lcIjogMSxcbiAgXCJqcG1vcmdhblwiOiAxLFxuICBcImpwcnNcIjogMSxcbiAgXCJqdWVnb3NcIjogMSxcbiAgXCJqdW5pcGVyXCI6IDEsXG4gIFwia2F1ZmVuXCI6IDEsXG4gIFwia2RkaVwiOiAxLFxuICBcImtlcnJ5aG90ZWxzXCI6IDEsXG4gIFwia2Vycnlsb2dpc3RpY3NcIjogMSxcbiAgXCJrZXJyeXByb3BlcnRpZXNcIjogMSxcbiAgXCJrZmhcIjogMSxcbiAgXCJraWFcIjogMSxcbiAgXCJraWRzXCI6IDEsXG4gIFwia2ltXCI6IDEsXG4gIFwia2luZGxlXCI6IDEsXG4gIFwia2l0Y2hlblwiOiAxLFxuICBcImtpd2lcIjogMSxcbiAgXCJrb2VsblwiOiAxLFxuICBcImtvbWF0c3VcIjogMSxcbiAgXCJrb3NoZXJcIjogMSxcbiAgXCJrcG1nXCI6IDEsXG4gIFwia3BuXCI6IDEsXG4gIFwia3JkXCI6IDEsXG4gIFwia3JlZFwiOiAxLFxuICBcImt1b2tncm91cFwiOiAxLFxuICBcImt5b3RvXCI6IDEsXG4gIFwibGFjYWl4YVwiOiAxLFxuICBcImxhbWJvcmdoaW5pXCI6IDEsXG4gIFwibGFtZXJcIjogMSxcbiAgXCJsYW5jYXN0ZXJcIjogMSxcbiAgXCJsYW5kXCI6IDEsXG4gIFwibGFuZHJvdmVyXCI6IDEsXG4gIFwibGFueGVzc1wiOiAxLFxuICBcImxhc2FsbGVcIjogMSxcbiAgXCJsYXRcIjogMSxcbiAgXCJsYXRpbm9cIjogMSxcbiAgXCJsYXRyb2JlXCI6IDEsXG4gIFwibGF3XCI6IDEsXG4gIFwibGF3eWVyXCI6IDEsXG4gIFwibGRzXCI6IDEsXG4gIFwibGVhc2VcIjogMSxcbiAgXCJsZWNsZXJjXCI6IDEsXG4gIFwibGVmcmFrXCI6IDEsXG4gIFwibGVnYWxcIjogMSxcbiAgXCJsZWdvXCI6IDEsXG4gIFwibGV4dXNcIjogMSxcbiAgXCJsZ2J0XCI6IDEsXG4gIFwibGlkbFwiOiAxLFxuICBcImxpZmVcIjogMSxcbiAgXCJsaWZlaW5zdXJhbmNlXCI6IDEsXG4gIFwibGlmZXN0eWxlXCI6IDEsXG4gIFwibGlnaHRpbmdcIjogMSxcbiAgXCJsaWtlXCI6IDEsXG4gIFwibGlsbHlcIjogMSxcbiAgXCJsaW1pdGVkXCI6IDEsXG4gIFwibGltb1wiOiAxLFxuICBcImxpbmNvbG5cIjogMSxcbiAgXCJsaW5rXCI6IDEsXG4gIFwibGlwc3lcIjogMSxcbiAgXCJsaXZlXCI6IDEsXG4gIFwibGl2aW5nXCI6IDEsXG4gIFwibGxjXCI6IDEsXG4gIFwibGxwXCI6IDEsXG4gIFwibG9hblwiOiAxLFxuICBcImxvYW5zXCI6IDEsXG4gIFwibG9ja2VyXCI6IDEsXG4gIFwibG9jdXNcIjogMSxcbiAgXCJsb2xcIjogMSxcbiAgXCJsb25kb25cIjogMSxcbiAgXCJsb3R0ZVwiOiAxLFxuICBcImxvdHRvXCI6IDEsXG4gIFwibG92ZVwiOiAxLFxuICBcImxwbFwiOiAxLFxuICBcImxwbGZpbmFuY2lhbFwiOiAxLFxuICBcImx0ZFwiOiAxLFxuICBcImx0ZGFcIjogMSxcbiAgXCJsdW5kYmVja1wiOiAxLFxuICBcImx1eGVcIjogMSxcbiAgXCJsdXh1cnlcIjogMSxcbiAgXCJtYWRyaWRcIjogMSxcbiAgXCJtYWlmXCI6IDEsXG4gIFwibWFpc29uXCI6IDEsXG4gIFwibWFrZXVwXCI6IDEsXG4gIFwibWFuXCI6IDEsXG4gIFwibWFuYWdlbWVudFwiOiAxLFxuICBcIm1hbmdvXCI6IDEsXG4gIFwibWFwXCI6IDEsXG4gIFwibWFya2V0XCI6IDEsXG4gIFwibWFya2V0aW5nXCI6IDEsXG4gIFwibWFya2V0c1wiOiAxLFxuICBcIm1hcnJpb3R0XCI6IDEsXG4gIFwibWFyc2hhbGxzXCI6IDEsXG4gIFwibWF0dGVsXCI6IDEsXG4gIFwibWJhXCI6IDEsXG4gIFwibWNraW5zZXlcIjogMSxcbiAgXCJtZWRcIjogMSxcbiAgXCJtZWRpYVwiOiAxLFxuICBcIm1lZXRcIjogMSxcbiAgXCJtZWxib3VybmVcIjogMSxcbiAgXCJtZW1lXCI6IDEsXG4gIFwibWVtb3JpYWxcIjogMSxcbiAgXCJtZW5cIjogMSxcbiAgXCJtZW51XCI6IDEsXG4gIFwibWVyY2ttc2RcIjogMSxcbiAgXCJtaWFtaVwiOiAxLFxuICBcIm1pY3Jvc29mdFwiOiAxLFxuICBcIm1pbmlcIjogMSxcbiAgXCJtaW50XCI6IDEsXG4gIFwibWl0XCI6IDEsXG4gIFwibWl0c3ViaXNoaVwiOiAxLFxuICBcIm1sYlwiOiAxLFxuICBcIm1sc1wiOiAxLFxuICBcIm1tYVwiOiAxLFxuICBcIm1vYmlsZVwiOiAxLFxuICBcIm1vZGFcIjogMSxcbiAgXCJtb2VcIjogMSxcbiAgXCJtb2lcIjogMSxcbiAgXCJtb21cIjogMSxcbiAgXCJtb25hc2hcIjogMSxcbiAgXCJtb25leVwiOiAxLFxuICBcIm1vbnN0ZXJcIjogMSxcbiAgXCJtb3Jtb25cIjogMSxcbiAgXCJtb3J0Z2FnZVwiOiAxLFxuICBcIm1vc2Nvd1wiOiAxLFxuICBcIm1vdG9cIjogMSxcbiAgXCJtb3RvcmN5Y2xlc1wiOiAxLFxuICBcIm1vdlwiOiAxLFxuICBcIm1vdmllXCI6IDEsXG4gIFwibXNkXCI6IDEsXG4gIFwibXRuXCI6IDEsXG4gIFwibXRyXCI6IDEsXG4gIFwibXVzaWNcIjogMSxcbiAgXCJuYWJcIjogMSxcbiAgXCJuYWdveWFcIjogMSxcbiAgXCJuYXR1cmFcIjogMSxcbiAgXCJuYXZ5XCI6IDEsXG4gIFwibmJhXCI6IDEsXG4gIFwibmVjXCI6IDEsXG4gIFwibmV0YmFua1wiOiAxLFxuICBcIm5ldGZsaXhcIjogMSxcbiAgXCJuZXR3b3JrXCI6IDEsXG4gIFwibmV1c3RhclwiOiAxLFxuICBcIm5ld1wiOiAxLFxuICBcIm5ld3NcIjogMSxcbiAgXCJuZXh0XCI6IDEsXG4gIFwibmV4dGRpcmVjdFwiOiAxLFxuICBcIm5leHVzXCI6IDEsXG4gIFwibmZsXCI6IDEsXG4gIFwibmdvXCI6IDEsXG4gIFwibmhrXCI6IDEsXG4gIFwibmljb1wiOiAxLFxuICBcIm5pa2VcIjogMSxcbiAgXCJuaWtvblwiOiAxLFxuICBcIm5pbmphXCI6IDEsXG4gIFwibmlzc2FuXCI6IDEsXG4gIFwibmlzc2F5XCI6IDEsXG4gIFwibm9raWFcIjogMSxcbiAgXCJub3J0b25cIjogMSxcbiAgXCJub3dcIjogMSxcbiAgXCJub3dydXpcIjogMSxcbiAgXCJub3d0dlwiOiAxLFxuICBcIm5yYVwiOiAxLFxuICBcIm5yd1wiOiAxLFxuICBcIm50dFwiOiAxLFxuICBcIm55Y1wiOiAxLFxuICBcIm9iaVwiOiAxLFxuICBcIm9ic2VydmVyXCI6IDEsXG4gIFwib2ZmaWNlXCI6IDEsXG4gIFwib2tpbmF3YVwiOiAxLFxuICBcIm9sYXlhblwiOiAxLFxuICBcIm9sYXlhbmdyb3VwXCI6IDEsXG4gIFwib2xkbmF2eVwiOiAxLFxuICBcIm9sbG9cIjogMSxcbiAgXCJvbWVnYVwiOiAxLFxuICBcIm9uZVwiOiAxLFxuICBcIm9uZ1wiOiAxLFxuICBcIm9ubFwiOiAxLFxuICBcIm9ubGluZVwiOiAxLFxuICBcIm9vb1wiOiAxLFxuICBcIm9wZW5cIjogMSxcbiAgXCJvcmFjbGVcIjogMSxcbiAgXCJvcmFuZ2VcIjogMSxcbiAgXCJvcmdhbmljXCI6IDEsXG4gIFwib3JpZ2luc1wiOiAxLFxuICBcIm9zYWthXCI6IDEsXG4gIFwib3RzdWthXCI6IDEsXG4gIFwib3R0XCI6IDEsXG4gIFwib3ZoXCI6IDEsXG4gIFwicGFnZVwiOiAxLFxuICBcInBhbmFzb25pY1wiOiAxLFxuICBcInBhcmlzXCI6IDEsXG4gIFwicGFyc1wiOiAxLFxuICBcInBhcnRuZXJzXCI6IDEsXG4gIFwicGFydHNcIjogMSxcbiAgXCJwYXJ0eVwiOiAxLFxuICBcInBheVwiOiAxLFxuICBcInBjY3dcIjogMSxcbiAgXCJwZXRcIjogMSxcbiAgXCJwZml6ZXJcIjogMSxcbiAgXCJwaGFybWFjeVwiOiAxLFxuICBcInBoZFwiOiAxLFxuICBcInBoaWxpcHNcIjogMSxcbiAgXCJwaG9uZVwiOiAxLFxuICBcInBob3RvXCI6IDEsXG4gIFwicGhvdG9ncmFwaHlcIjogMSxcbiAgXCJwaG90b3NcIjogMSxcbiAgXCJwaHlzaW9cIjogMSxcbiAgXCJwaWNzXCI6IDEsXG4gIFwicGljdGV0XCI6IDEsXG4gIFwicGljdHVyZXNcIjogMSxcbiAgXCJwaWRcIjogMSxcbiAgXCJwaW5cIjogMSxcbiAgXCJwaW5nXCI6IDEsXG4gIFwicGlua1wiOiAxLFxuICBcInBpb25lZXJcIjogMSxcbiAgXCJwaXp6YVwiOiAxLFxuICBcInBsYWNlXCI6IDEsXG4gIFwicGxheVwiOiAxLFxuICBcInBsYXlzdGF0aW9uXCI6IDEsXG4gIFwicGx1bWJpbmdcIjogMSxcbiAgXCJwbHVzXCI6IDEsXG4gIFwicG5jXCI6IDEsXG4gIFwicG9obFwiOiAxLFxuICBcInBva2VyXCI6IDEsXG4gIFwicG9saXRpZVwiOiAxLFxuICBcInBvcm5cIjogMSxcbiAgXCJwcmFtZXJpY2FcIjogMSxcbiAgXCJwcmF4aVwiOiAxLFxuICBcInByZXNzXCI6IDEsXG4gIFwicHJpbWVcIjogMSxcbiAgXCJwcm9kXCI6IDEsXG4gIFwicHJvZHVjdGlvbnNcIjogMSxcbiAgXCJwcm9mXCI6IDEsXG4gIFwicHJvZ3Jlc3NpdmVcIjogMSxcbiAgXCJwcm9tb1wiOiAxLFxuICBcInByb3BlcnRpZXNcIjogMSxcbiAgXCJwcm9wZXJ0eVwiOiAxLFxuICBcInByb3RlY3Rpb25cIjogMSxcbiAgXCJwcnVcIjogMSxcbiAgXCJwcnVkZW50aWFsXCI6IDEsXG4gIFwicHViXCI6IDEsXG4gIFwicHdjXCI6IDEsXG4gIFwicXBvblwiOiAxLFxuICBcInF1ZWJlY1wiOiAxLFxuICBcInF1ZXN0XCI6IDEsXG4gIFwicmFjaW5nXCI6IDEsXG4gIFwicmFkaW9cIjogMSxcbiAgXCJyZWFkXCI6IDEsXG4gIFwicmVhbGVzdGF0ZVwiOiAxLFxuICBcInJlYWx0b3JcIjogMSxcbiAgXCJyZWFsdHlcIjogMSxcbiAgXCJyZWNpcGVzXCI6IDEsXG4gIFwicmVkXCI6IDEsXG4gIFwicmVkc3RvbmVcIjogMSxcbiAgXCJyZWR1bWJyZWxsYVwiOiAxLFxuICBcInJlaGFiXCI6IDEsXG4gIFwicmVpc2VcIjogMSxcbiAgXCJyZWlzZW5cIjogMSxcbiAgXCJyZWl0XCI6IDEsXG4gIFwicmVsaWFuY2VcIjogMSxcbiAgXCJyZW5cIjogMSxcbiAgXCJyZW50XCI6IDEsXG4gIFwicmVudGFsc1wiOiAxLFxuICBcInJlcGFpclwiOiAxLFxuICBcInJlcG9ydFwiOiAxLFxuICBcInJlcHVibGljYW5cIjogMSxcbiAgXCJyZXN0XCI6IDEsXG4gIFwicmVzdGF1cmFudFwiOiAxLFxuICBcInJldmlld1wiOiAxLFxuICBcInJldmlld3NcIjogMSxcbiAgXCJyZXhyb3RoXCI6IDEsXG4gIFwicmljaFwiOiAxLFxuICBcInJpY2hhcmRsaVwiOiAxLFxuICBcInJpY29oXCI6IDEsXG4gIFwicmlsXCI6IDEsXG4gIFwicmlvXCI6IDEsXG4gIFwicmlwXCI6IDEsXG4gIFwicm9ja3NcIjogMSxcbiAgXCJyb2Rlb1wiOiAxLFxuICBcInJvZ2Vyc1wiOiAxLFxuICBcInJvb21cIjogMSxcbiAgXCJyc3ZwXCI6IDEsXG4gIFwicnVnYnlcIjogMSxcbiAgXCJydWhyXCI6IDEsXG4gIFwicnVuXCI6IDEsXG4gIFwicndlXCI6IDEsXG4gIFwicnl1a3l1XCI6IDEsXG4gIFwic2FhcmxhbmRcIjogMSxcbiAgXCJzYWZlXCI6IDEsXG4gIFwic2FmZXR5XCI6IDEsXG4gIFwic2FrdXJhXCI6IDEsXG4gIFwic2FsZVwiOiAxLFxuICBcInNhbG9uXCI6IDEsXG4gIFwic2Ftc2NsdWJcIjogMSxcbiAgXCJzYW1zdW5nXCI6IDEsXG4gIFwic2FuZHZpa1wiOiAxLFxuICBcInNhbmR2aWtjb3JvbWFudFwiOiAxLFxuICBcInNhbm9maVwiOiAxLFxuICBcInNhcFwiOiAxLFxuICBcInNhcmxcIjogMSxcbiAgXCJzYXNcIjogMSxcbiAgXCJzYXZlXCI6IDEsXG4gIFwic2F4b1wiOiAxLFxuICBcInNiaVwiOiAxLFxuICBcInNic1wiOiAxLFxuICBcInNjYVwiOiAxLFxuICBcInNjYlwiOiAxLFxuICBcInNjaGFlZmZsZXJcIjogMSxcbiAgXCJzY2htaWR0XCI6IDEsXG4gIFwic2Nob2xhcnNoaXBzXCI6IDEsXG4gIFwic2Nob29sXCI6IDEsXG4gIFwic2NodWxlXCI6IDEsXG4gIFwic2Nod2FyelwiOiAxLFxuICBcInNjaWVuY2VcIjogMSxcbiAgXCJzY290XCI6IDEsXG4gIFwic2VhcmNoXCI6IDEsXG4gIFwic2VhdFwiOiAxLFxuICBcInNlY3VyZVwiOiAxLFxuICBcInNlY3VyaXR5XCI6IDEsXG4gIFwic2Vla1wiOiAxLFxuICBcInNlbGVjdFwiOiAxLFxuICBcInNlbmVyXCI6IDEsXG4gIFwic2VydmljZXNcIjogMSxcbiAgXCJzZXZlblwiOiAxLFxuICBcInNld1wiOiAxLFxuICBcInNleFwiOiAxLFxuICBcInNleHlcIjogMSxcbiAgXCJzZnJcIjogMSxcbiAgXCJzaGFuZ3JpbGFcIjogMSxcbiAgXCJzaGFycFwiOiAxLFxuICBcInNoYXdcIjogMSxcbiAgXCJzaGVsbFwiOiAxLFxuICBcInNoaWFcIjogMSxcbiAgXCJzaGlrc2hhXCI6IDEsXG4gIFwic2hvZXNcIjogMSxcbiAgXCJzaG9wXCI6IDEsXG4gIFwic2hvcHBpbmdcIjogMSxcbiAgXCJzaG91amlcIjogMSxcbiAgXCJzaG93XCI6IDEsXG4gIFwic2lsa1wiOiAxLFxuICBcInNpbmFcIjogMSxcbiAgXCJzaW5nbGVzXCI6IDEsXG4gIFwic2l0ZVwiOiAxLFxuICBcInNraVwiOiAxLFxuICBcInNraW5cIjogMSxcbiAgXCJza3lcIjogMSxcbiAgXCJza3lwZVwiOiAxLFxuICBcInNsaW5nXCI6IDEsXG4gIFwic21hcnRcIjogMSxcbiAgXCJzbWlsZVwiOiAxLFxuICBcInNuY2ZcIjogMSxcbiAgXCJzb2NjZXJcIjogMSxcbiAgXCJzb2NpYWxcIjogMSxcbiAgXCJzb2Z0YmFua1wiOiAxLFxuICBcInNvZnR3YXJlXCI6IDEsXG4gIFwic29odVwiOiAxLFxuICBcInNvbGFyXCI6IDEsXG4gIFwic29sdXRpb25zXCI6IDEsXG4gIFwic29uZ1wiOiAxLFxuICBcInNvbnlcIjogMSxcbiAgXCJzb3lcIjogMSxcbiAgXCJzcGFcIjogMSxcbiAgXCJzcGFjZVwiOiAxLFxuICBcInNwb3J0XCI6IDEsXG4gIFwic3BvdFwiOiAxLFxuICBcInNybFwiOiAxLFxuICBcInN0YWRhXCI6IDEsXG4gIFwic3RhcGxlc1wiOiAxLFxuICBcInN0YXJcIjogMSxcbiAgXCJzdGF0ZWJhbmtcIjogMSxcbiAgXCJzdGF0ZWZhcm1cIjogMSxcbiAgXCJzdGNcIjogMSxcbiAgXCJzdGNncm91cFwiOiAxLFxuICBcInN0b2NraG9sbVwiOiAxLFxuICBcInN0b3JhZ2VcIjogMSxcbiAgXCJzdG9yZVwiOiAxLFxuICBcInN0cmVhbVwiOiAxLFxuICBcInN0dWRpb1wiOiAxLFxuICBcInN0dWR5XCI6IDEsXG4gIFwic3R5bGVcIjogMSxcbiAgXCJzdWNrc1wiOiAxLFxuICBcInN1cHBsaWVzXCI6IDEsXG4gIFwic3VwcGx5XCI6IDEsXG4gIFwic3VwcG9ydFwiOiAxLFxuICBcInN1cmZcIjogMSxcbiAgXCJzdXJnZXJ5XCI6IDEsXG4gIFwic3V6dWtpXCI6IDEsXG4gIFwic3dhdGNoXCI6IDEsXG4gIFwic3dpc3NcIjogMSxcbiAgXCJzeWRuZXlcIjogMSxcbiAgXCJzeXN0ZW1zXCI6IDEsXG4gIFwidGFiXCI6IDEsXG4gIFwidGFpcGVpXCI6IDEsXG4gIFwidGFsa1wiOiAxLFxuICBcInRhb2Jhb1wiOiAxLFxuICBcInRhcmdldFwiOiAxLFxuICBcInRhdGFtb3RvcnNcIjogMSxcbiAgXCJ0YXRhclwiOiAxLFxuICBcInRhdHRvb1wiOiAxLFxuICBcInRheFwiOiAxLFxuICBcInRheGlcIjogMSxcbiAgXCJ0Y2lcIjogMSxcbiAgXCJ0ZGtcIjogMSxcbiAgXCJ0ZWFtXCI6IDEsXG4gIFwidGVjaFwiOiAxLFxuICBcInRlY2hub2xvZ3lcIjogMSxcbiAgXCJ0ZW1hc2VrXCI6IDEsXG4gIFwidGVubmlzXCI6IDEsXG4gIFwidGV2YVwiOiAxLFxuICBcInRoZFwiOiAxLFxuICBcInRoZWF0ZXJcIjogMSxcbiAgXCJ0aGVhdHJlXCI6IDEsXG4gIFwidGlhYVwiOiAxLFxuICBcInRpY2tldHNcIjogMSxcbiAgXCJ0aWVuZGFcIjogMSxcbiAgXCJ0aXBzXCI6IDEsXG4gIFwidGlyZXNcIjogMSxcbiAgXCJ0aXJvbFwiOiAxLFxuICBcInRqbWF4eFwiOiAxLFxuICBcInRqeFwiOiAxLFxuICBcInRrbWF4eFwiOiAxLFxuICBcInRtYWxsXCI6IDEsXG4gIFwidG9kYXlcIjogMSxcbiAgXCJ0b2t5b1wiOiAxLFxuICBcInRvb2xzXCI6IDEsXG4gIFwidG9wXCI6IDEsXG4gIFwidG9yYXlcIjogMSxcbiAgXCJ0b3NoaWJhXCI6IDEsXG4gIFwidG90YWxcIjogMSxcbiAgXCJ0b3Vyc1wiOiAxLFxuICBcInRvd25cIjogMSxcbiAgXCJ0b3lvdGFcIjogMSxcbiAgXCJ0b3lzXCI6IDEsXG4gIFwidHJhZGVcIjogMSxcbiAgXCJ0cmFkaW5nXCI6IDEsXG4gIFwidHJhaW5pbmdcIjogMSxcbiAgXCJ0cmF2ZWxcIjogMSxcbiAgXCJ0cmF2ZWxlcnNcIjogMSxcbiAgXCJ0cmF2ZWxlcnNpbnN1cmFuY2VcIjogMSxcbiAgXCJ0cnVzdFwiOiAxLFxuICBcInRydlwiOiAxLFxuICBcInR1YmVcIjogMSxcbiAgXCJ0dWlcIjogMSxcbiAgXCJ0dW5lc1wiOiAxLFxuICBcInR1c2h1XCI6IDEsXG4gIFwidHZzXCI6IDEsXG4gIFwidWJhbmtcIjogMSxcbiAgXCJ1YnNcIjogMSxcbiAgXCJ1bmljb21cIjogMSxcbiAgXCJ1bml2ZXJzaXR5XCI6IDEsXG4gIFwidW5vXCI6IDEsXG4gIFwidW9sXCI6IDEsXG4gIFwidXBzXCI6IDEsXG4gIFwidmFjYXRpb25zXCI6IDEsXG4gIFwidmFuYVwiOiAxLFxuICBcInZhbmd1YXJkXCI6IDEsXG4gIFwidmVnYXNcIjogMSxcbiAgXCJ2ZW50dXJlc1wiOiAxLFxuICBcInZlcmlzaWduXCI6IDEsXG4gIFwidmVyc2ljaGVydW5nXCI6IDEsXG4gIFwidmV0XCI6IDEsXG4gIFwidmlhamVzXCI6IDEsXG4gIFwidmlkZW9cIjogMSxcbiAgXCJ2aWdcIjogMSxcbiAgXCJ2aWtpbmdcIjogMSxcbiAgXCJ2aWxsYXNcIjogMSxcbiAgXCJ2aW5cIjogMSxcbiAgXCJ2aXBcIjogMSxcbiAgXCJ2aXJnaW5cIjogMSxcbiAgXCJ2aXNhXCI6IDEsXG4gIFwidmlzaW9uXCI6IDEsXG4gIFwidml2YVwiOiAxLFxuICBcInZpdm9cIjogMSxcbiAgXCJ2bGFhbmRlcmVuXCI6IDEsXG4gIFwidm9ka2FcIjogMSxcbiAgXCJ2b2x2b1wiOiAxLFxuICBcInZvdGVcIjogMSxcbiAgXCJ2b3RpbmdcIjogMSxcbiAgXCJ2b3RvXCI6IDEsXG4gIFwidm95YWdlXCI6IDEsXG4gIFwid2FsZXNcIjogMSxcbiAgXCJ3YWxtYXJ0XCI6IDEsXG4gIFwid2FsdGVyXCI6IDEsXG4gIFwid2FuZ1wiOiAxLFxuICBcIndhbmdnb3VcIjogMSxcbiAgXCJ3YXRjaFwiOiAxLFxuICBcIndhdGNoZXNcIjogMSxcbiAgXCJ3ZWF0aGVyXCI6IDEsXG4gIFwid2VhdGhlcmNoYW5uZWxcIjogMSxcbiAgXCJ3ZWJjYW1cIjogMSxcbiAgXCJ3ZWJlclwiOiAxLFxuICBcIndlYnNpdGVcIjogMSxcbiAgXCJ3ZWRcIjogMSxcbiAgXCJ3ZWRkaW5nXCI6IDEsXG4gIFwid2VpYm9cIjogMSxcbiAgXCJ3ZWlyXCI6IDEsXG4gIFwid2hvc3dob1wiOiAxLFxuICBcIndpZW5cIjogMSxcbiAgXCJ3aWtpXCI6IDEsXG4gIFwid2lsbGlhbWhpbGxcIjogMSxcbiAgXCJ3aW5cIjogMSxcbiAgXCJ3aW5kb3dzXCI6IDEsXG4gIFwid2luZVwiOiAxLFxuICBcIndpbm5lcnNcIjogMSxcbiAgXCJ3bWVcIjogMSxcbiAgXCJ3b2x0ZXJza2x1d2VyXCI6IDEsXG4gIFwid29vZHNpZGVcIjogMSxcbiAgXCJ3b3JrXCI6IDEsXG4gIFwid29ya3NcIjogMSxcbiAgXCJ3b3JsZFwiOiAxLFxuICBcIndvd1wiOiAxLFxuICBcInd0Y1wiOiAxLFxuICBcInd0ZlwiOiAxLFxuICBcInhib3hcIjogMSxcbiAgXCJ4ZXJveFwiOiAxLFxuICBcInhmaW5pdHlcIjogMSxcbiAgXCJ4aWh1YW5cIjogMSxcbiAgXCJ4aW5cIjogMSxcbiAgXCJ4bi0tMTFiNGMzZFwiOiAxLFxuICBcInhuLS0xY2syZTFiXCI6IDEsXG4gIFwieG4tLTFxcXcyM2FcIjogMSxcbiAgXCJ4bi0tMzBycjd5XCI6IDEsXG4gIFwieG4tLTNic3QwMG1cIjogMSxcbiAgXCJ4bi0tM2RzNDQzZ1wiOiAxLFxuICBcInhuLS0zcHh1OGtcIjogMSxcbiAgXCJ4bi0tNDJjMmQ5YVwiOiAxLFxuICBcInhuLS00NXExMWNcIjogMSxcbiAgXCJ4bi0tNGdicmltXCI6IDEsXG4gIFwieG4tLTU1cXc0MmdcIjogMSxcbiAgXCJ4bi0tNTVxeDVkXCI6IDEsXG4gIFwieG4tLTVzdTM0ajkzNmJnc2dcIjogMSxcbiAgXCJ4bi0tNXR6bTVnXCI6IDEsXG4gIFwieG4tLTZmcno4MmdcIjogMSxcbiAgXCJ4bi0tNnFxOTg2YjN4bFwiOiAxLFxuICBcInhuLS04MGFkeGhrc1wiOiAxLFxuICBcInhuLS04MGFxZWNkcjFhXCI6IDEsXG4gIFwieG4tLTgwYXNlaGRiXCI6IDEsXG4gIFwieG4tLTgwYXN3Z1wiOiAxLFxuICBcInhuLS04eTBhMDYzYVwiOiAxLFxuICBcInhuLS05ZGJxMmFcIjogMSxcbiAgXCJ4bi0tOWV0NTJ1XCI6IDEsXG4gIFwieG4tLTlrcnQwMGFcIjogMSxcbiAgXCJ4bi0tYjR3NjA1ZmVyZFwiOiAxLFxuICBcInhuLS1iY2sxYjlhNWRyZTRjXCI6IDEsXG4gIFwieG4tLWMxYXZnXCI6IDEsXG4gIFwieG4tLWMyYnI3Z1wiOiAxLFxuICBcInhuLS1jY2syYjNiXCI6IDEsXG4gIFwieG4tLWNja3djeGV0ZFwiOiAxLFxuICBcInhuLS1jZzRia2lcIjogMSxcbiAgXCJ4bi0tY3pyNjk0YlwiOiAxLFxuICBcInhuLS1jenJzMHRcIjogMSxcbiAgXCJ4bi0tY3pydTJkXCI6IDEsXG4gIFwieG4tLWQxYWNqM2JcIjogMSxcbiAgXCJ4bi0tZWNrdmR0YzlkXCI6IDEsXG4gIFwieG4tLWVmdnk4OGhcIjogMSxcbiAgXCJ4bi0tZmN0NDI5a1wiOiAxLFxuICBcInhuLS1maGJlaVwiOiAxLFxuICBcInhuLS1maXEyMjhjNWhzXCI6IDEsXG4gIFwieG4tLWZpcTY0YlwiOiAxLFxuICBcInhuLS1manE3MjBhXCI6IDEsXG4gIFwieG4tLWZsdzM1MWVcIjogMSxcbiAgXCJ4bi0tZnp5czhkNjl1dmdtXCI6IDEsXG4gIFwieG4tLWcyeHg0OGNcIjogMSxcbiAgXCJ4bi0tZ2NrcjNmMGZcIjogMSxcbiAgXCJ4bi0tZ2szYXQxZVwiOiAxLFxuICBcInhuLS1oeHQ4MTRlXCI6IDEsXG4gIFwieG4tLWkxYjZiMWE2YTJlXCI6IDEsXG4gIFwieG4tLWltcjUxM25cIjogMSxcbiAgXCJ4bi0taW8wYTdpXCI6IDEsXG4gIFwieG4tLWoxYWVmXCI6IDEsXG4gIFwieG4tLWpscTQ4MG4ycmdcIjogMSxcbiAgXCJ4bi0tanZyMTg5bVwiOiAxLFxuICBcInhuLS1rY3J4NzdkMXg0YVwiOiAxLFxuICBcInhuLS1rcHV0M2lcIjogMSxcbiAgXCJ4bi0tbWdiYTNhM2VqdFwiOiAxLFxuICBcInhuLS1tZ2JhN2MwYmJuMGFcIjogMSxcbiAgXCJ4bi0tbWdiYWIyYmRcIjogMSxcbiAgXCJ4bi0tbWdiY2E3ZHpkb1wiOiAxLFxuICBcInhuLS1tZ2JpNGVjZXhwXCI6IDEsXG4gIFwieG4tLW1nYnQzZGhkXCI6IDEsXG4gIFwieG4tLW1rMWJ1NDRjXCI6IDEsXG4gIFwieG4tLW14dHExbVwiOiAxLFxuICBcInhuLS1uZ2JjNWF6ZFwiOiAxLFxuICBcInhuLS1uZ2JlOWUwYVwiOiAxLFxuICBcInhuLS1uZ2JyeFwiOiAxLFxuICBcInhuLS1ucXY3ZlwiOiAxLFxuICBcInhuLS1ucXY3ZnMwMGVtYVwiOiAxLFxuICBcInhuLS1ueXF5MjZhXCI6IDEsXG4gIFwieG4tLW90dTc5NmRcIjogMSxcbiAgXCJ4bi0tcDFhY2ZcIjogMSxcbiAgXCJ4bi0tcHNzeTJ1XCI6IDEsXG4gIFwieG4tLXE5anliNGNcIjogMSxcbiAgXCJ4bi0tcWNrYTFwbWNcIjogMSxcbiAgXCJ4bi0tcmhxdjk2Z1wiOiAxLFxuICBcInhuLS1yb3Z1ODhiXCI6IDEsXG4gIFwieG4tLXNlczU1NGdcIjogMSxcbiAgXCJ4bi0tdDYwYjU2YVwiOiAxLFxuICBcInhuLS10Y2t3ZVwiOiAxLFxuICBcInhuLS10aXE0OXhxeWpcIjogMSxcbiAgXCJ4bi0tdW51cDR5XCI6IDEsXG4gIFwieG4tLXZlcm1nZW5zYmVyYXRlci1jdGJcIjogMSxcbiAgXCJ4bi0tdmVybWdlbnNiZXJhdHVuZy1wd2JcIjogMSxcbiAgXCJ4bi0tdmhxdXZcIjogMSxcbiAgXCJ4bi0tdnVxODYxYlwiOiAxLFxuICBcInhuLS13NHI4NWVsOGZodTVkbnJhXCI6IDEsXG4gIFwieG4tLXc0cnM0MGxcIjogMSxcbiAgXCJ4bi0teGhxNTIxYlwiOiAxLFxuICBcInhuLS16ZnIxNjRiXCI6IDEsXG4gIFwieHl6XCI6IDEsXG4gIFwieWFjaHRzXCI6IDEsXG4gIFwieWFob29cIjogMSxcbiAgXCJ5YW1heHVuXCI6IDEsXG4gIFwieWFuZGV4XCI6IDEsXG4gIFwieW9kb2Jhc2hpXCI6IDEsXG4gIFwieW9nYVwiOiAxLFxuICBcInlva29oYW1hXCI6IDEsXG4gIFwieW91XCI6IDEsXG4gIFwieW91dHViZVwiOiAxLFxuICBcInl1blwiOiAxLFxuICBcInphcHBvc1wiOiAxLFxuICBcInphcmFcIjogMSxcbiAgXCJ6ZXJvXCI6IDEsXG4gIFwiemlwXCI6IDEsXG4gIFwiem9uZVwiOiAxLFxuICBcInp1ZXJpY2hcIjogMVxufSIsImV4cG9ydHMubm9uSWNhbm5QdWJsaWNTdWZmaXhlcyA9IHtcbiAgXCJjYy51YVwiOiAxLFxuICBcImluZi51YVwiOiAxLFxuICBcImx0ZC51YVwiOiAxLFxuICBcIjYxMS50b1wiOiAxLFxuICBcImdyYXBob3gudXNcIjogMSxcbiAgXCJkZXZjZG5hY2Nlc3NvLmNvbVwiOiAyLFxuICBcIm9uLWFjb3JuLmlvXCI6IDIsXG4gIFwiYWN0aXZldHJhaWwuYml6XCI6IDEsXG4gIFwiYWRvYmVhZW1jbG91ZC5jb21cIjogMSxcbiAgXCJkZXYuYWRvYmVhZW1jbG91ZC5jb21cIjogMixcbiAgXCJobHgubGl2ZVwiOiAxLFxuICBcImFkb2JlYWVtY2xvdWQubmV0XCI6IDEsXG4gIFwiaGx4LnBhZ2VcIjogMSxcbiAgXCJobHgzLnBhZ2VcIjogMSxcbiAgXCJhZG9iZWlvLXN0YXRpYy5uZXRcIjogMSxcbiAgXCJhZG9iZWlvcnVudGltZS5uZXRcIjogMSxcbiAgXCJiZWVwLnBsXCI6IDEsXG4gIFwiYWlya2l0YXBwcy5jb21cIjogMSxcbiAgXCJhaXJraXRhcHBzLWF1LmNvbVwiOiAxLFxuICBcImFpcmtpdGFwcHMuZXVcIjogMSxcbiAgXCJhaXZlbmNsb3VkLmNvbVwiOiAxLFxuICBcImFrYWRucy5uZXRcIjogMSxcbiAgXCJha2FtYWkubmV0XCI6IDEsXG4gIFwiYWthbWFpLXN0YWdpbmcubmV0XCI6IDEsXG4gIFwiYWthbWFpZWRnZS5uZXRcIjogMSxcbiAgXCJha2FtYWllZGdlLXN0YWdpbmcubmV0XCI6IDEsXG4gIFwiYWthbWFpaGQubmV0XCI6IDEsXG4gIFwiYWthbWFpaGQtc3RhZ2luZy5uZXRcIjogMSxcbiAgXCJha2FtYWlvcmlnaW4ubmV0XCI6IDEsXG4gIFwiYWthbWFpb3JpZ2luLXN0YWdpbmcubmV0XCI6IDEsXG4gIFwiYWthbWFpemVkLm5ldFwiOiAxLFxuICBcImFrYW1haXplZC1zdGFnaW5nLm5ldFwiOiAxLFxuICBcImVkZ2VrZXkubmV0XCI6IDEsXG4gIFwiZWRnZWtleS1zdGFnaW5nLm5ldFwiOiAxLFxuICBcImVkZ2VzdWl0ZS5uZXRcIjogMSxcbiAgXCJlZGdlc3VpdGUtc3RhZ2luZy5uZXRcIjogMSxcbiAgXCJiYXJzeS5jYVwiOiAxLFxuICBcImNvbXB1dGUuZXN0YXRlXCI6IDIsXG4gIFwiYWxjZXMubmV0d29ya1wiOiAyLFxuICBcImthc3NlcnZlci5jb21cIjogMSxcbiAgXCJhbHRlcnZpc3RhLm9yZ1wiOiAxLFxuICBcImFsd2F5c2RhdGEubmV0XCI6IDEsXG4gIFwibXlhbWF6ZS5uZXRcIjogMSxcbiAgXCJleGVjdXRlLWFwaS5jbi1ub3J0aC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJleGVjdXRlLWFwaS5jbi1ub3J0aHdlc3QtMS5hbWF6b25hd3MuY29tLmNuXCI6IDEsXG4gIFwiZXhlY3V0ZS1hcGkuYWYtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZXhlY3V0ZS1hcGkuYXAtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJleGVjdXRlLWFwaS5hcC1ub3J0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZXhlY3V0ZS1hcGkuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImV4ZWN1dGUtYXBpLmFwLW5vcnRoZWFzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJleGVjdXRlLWFwaS5hcC1zb3V0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJleGVjdXRlLWFwaS5hcC1zb3V0aC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJleGVjdXRlLWFwaS5hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZXhlY3V0ZS1hcGkuYXAtc291dGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImV4ZWN1dGUtYXBpLmFwLXNvdXRoZWFzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJleGVjdXRlLWFwaS5hcC1zb3V0aGVhc3QtNC5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZXhlY3V0ZS1hcGkuY2EtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJleGVjdXRlLWFwaS5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImV4ZWN1dGUtYXBpLmV1LWNlbnRyYWwtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZXhlY3V0ZS1hcGkuZXUtbm9ydGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZXhlY3V0ZS1hcGkuZXUtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZXhlY3V0ZS1hcGkuZXUtc291dGgtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZXhlY3V0ZS1hcGkuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJleGVjdXRlLWFwaS5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImV4ZWN1dGUtYXBpLmV1LXdlc3QtMy5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZXhlY3V0ZS1hcGkuaWwtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJleGVjdXRlLWFwaS5tZS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImV4ZWN1dGUtYXBpLm1lLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImV4ZWN1dGUtYXBpLnNhLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZXhlY3V0ZS1hcGkudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJleGVjdXRlLWFwaS51cy1lYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImV4ZWN1dGUtYXBpLnVzLWdvdi1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImV4ZWN1dGUtYXBpLnVzLWdvdi13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImV4ZWN1dGUtYXBpLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZXhlY3V0ZS1hcGkudXMtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJjbG91ZGZyb250Lm5ldFwiOiAxLFxuICBcImF1dGguYWYtc291dGgtMS5hbWF6b25jb2duaXRvLmNvbVwiOiAxLFxuICBcImF1dGguYXAtbm9ydGhlYXN0LTEuYW1hem9uY29nbml0by5jb21cIjogMSxcbiAgXCJhdXRoLmFwLW5vcnRoZWFzdC0yLmFtYXpvbmNvZ25pdG8uY29tXCI6IDEsXG4gIFwiYXV0aC5hcC1ub3J0aGVhc3QtMy5hbWF6b25jb2duaXRvLmNvbVwiOiAxLFxuICBcImF1dGguYXAtc291dGgtMS5hbWF6b25jb2duaXRvLmNvbVwiOiAxLFxuICBcImF1dGguYXAtc291dGhlYXN0LTEuYW1hem9uY29nbml0by5jb21cIjogMSxcbiAgXCJhdXRoLmFwLXNvdXRoZWFzdC0yLmFtYXpvbmNvZ25pdG8uY29tXCI6IDEsXG4gIFwiYXV0aC5hcC1zb3V0aGVhc3QtMy5hbWF6b25jb2duaXRvLmNvbVwiOiAxLFxuICBcImF1dGguY2EtY2VudHJhbC0xLmFtYXpvbmNvZ25pdG8uY29tXCI6IDEsXG4gIFwiYXV0aC5ldS1jZW50cmFsLTEuYW1hem9uY29nbml0by5jb21cIjogMSxcbiAgXCJhdXRoLmV1LW5vcnRoLTEuYW1hem9uY29nbml0by5jb21cIjogMSxcbiAgXCJhdXRoLmV1LXNvdXRoLTEuYW1hem9uY29nbml0by5jb21cIjogMSxcbiAgXCJhdXRoLmV1LXdlc3QtMS5hbWF6b25jb2duaXRvLmNvbVwiOiAxLFxuICBcImF1dGguZXUtd2VzdC0yLmFtYXpvbmNvZ25pdG8uY29tXCI6IDEsXG4gIFwiYXV0aC5ldS13ZXN0LTMuYW1hem9uY29nbml0by5jb21cIjogMSxcbiAgXCJhdXRoLmlsLWNlbnRyYWwtMS5hbWF6b25jb2duaXRvLmNvbVwiOiAxLFxuICBcImF1dGgubWUtc291dGgtMS5hbWF6b25jb2duaXRvLmNvbVwiOiAxLFxuICBcImF1dGguc2EtZWFzdC0xLmFtYXpvbmNvZ25pdG8uY29tXCI6IDEsXG4gIFwiYXV0aC51cy1lYXN0LTEuYW1hem9uY29nbml0by5jb21cIjogMSxcbiAgXCJhdXRoLWZpcHMudXMtZWFzdC0xLmFtYXpvbmNvZ25pdG8uY29tXCI6IDEsXG4gIFwiYXV0aC51cy1lYXN0LTIuYW1hem9uY29nbml0by5jb21cIjogMSxcbiAgXCJhdXRoLWZpcHMudXMtZWFzdC0yLmFtYXpvbmNvZ25pdG8uY29tXCI6IDEsXG4gIFwiYXV0aC1maXBzLnVzLWdvdi13ZXN0LTEuYW1hem9uY29nbml0by5jb21cIjogMSxcbiAgXCJhdXRoLnVzLXdlc3QtMS5hbWF6b25jb2duaXRvLmNvbVwiOiAxLFxuICBcImF1dGgtZmlwcy51cy13ZXN0LTEuYW1hem9uY29nbml0by5jb21cIjogMSxcbiAgXCJhdXRoLnVzLXdlc3QtMi5hbWF6b25jb2duaXRvLmNvbVwiOiAxLFxuICBcImF1dGgtZmlwcy51cy13ZXN0LTIuYW1hem9uY29nbml0by5jb21cIjogMSxcbiAgXCJjb21wdXRlLmFtYXpvbmF3cy5jb21cIjogMixcbiAgXCJjb21wdXRlLTEuYW1hem9uYXdzLmNvbVwiOiAyLFxuICBcImNvbXB1dGUuYW1hem9uYXdzLmNvbS5jblwiOiAyLFxuICBcInVzLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yYXBwdWktcHJvZC5jbi1ub3J0aC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJlbXJub3RlYm9va3MtcHJvZC5jbi1ub3J0aC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJlbXJzdHVkaW8tcHJvZC5jbi1ub3J0aC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJlbXJhcHB1aS1wcm9kLmNuLW5vcnRod2VzdC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJlbXJub3RlYm9va3MtcHJvZC5jbi1ub3J0aHdlc3QtMS5hbWF6b25hd3MuY29tLmNuXCI6IDEsXG4gIFwiZW1yc3R1ZGlvLXByb2QuY24tbm9ydGh3ZXN0LTEuYW1hem9uYXdzLmNvbS5jblwiOiAxLFxuICBcImVtcmFwcHVpLXByb2QuYWYtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1ybm90ZWJvb2tzLXByb2QuYWYtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yc3R1ZGlvLXByb2QuYWYtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yYXBwdWktcHJvZC5hcC1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcm5vdGVib29rcy1wcm9kLmFwLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yc3R1ZGlvLXByb2QuYXAtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJhcHB1aS1wcm9kLmFwLW5vcnRoZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJub3RlYm9va3MtcHJvZC5hcC1ub3J0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yc3R1ZGlvLXByb2QuYXAtbm9ydGhlYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcmFwcHVpLXByb2QuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcm5vdGVib29rcy1wcm9kLmFwLW5vcnRoZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJzdHVkaW8tcHJvZC5hcC1ub3J0aGVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yYXBwdWktcHJvZC5hcC1ub3J0aGVhc3QtMy5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1ybm90ZWJvb2tzLXByb2QuYXAtbm9ydGhlYXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcnN0dWRpby1wcm9kLmFwLW5vcnRoZWFzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJhcHB1aS1wcm9kLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcm5vdGVib29rcy1wcm9kLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcnN0dWRpby1wcm9kLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcmFwcHVpLXByb2QuYXAtc291dGhlYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcm5vdGVib29rcy1wcm9kLmFwLXNvdXRoZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJzdHVkaW8tcHJvZC5hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yYXBwdWktcHJvZC5hcC1zb3V0aGVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1ybm90ZWJvb2tzLXByb2QuYXAtc291dGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcnN0dWRpby1wcm9kLmFwLXNvdXRoZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJhcHB1aS1wcm9kLmFwLXNvdXRoZWFzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJub3RlYm9va3MtcHJvZC5hcC1zb3V0aGVhc3QtMy5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yc3R1ZGlvLXByb2QuYXAtc291dGhlYXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcmFwcHVpLXByb2QuY2EtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJub3RlYm9va3MtcHJvZC5jYS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcnN0dWRpby1wcm9kLmNhLWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yYXBwdWktcHJvZC5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcm5vdGVib29rcy1wcm9kLmV1LWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yc3R1ZGlvLXByb2QuZXUtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJhcHB1aS1wcm9kLmV1LW5vcnRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcm5vdGVib29rcy1wcm9kLmV1LW5vcnRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcnN0dWRpby1wcm9kLmV1LW5vcnRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcmFwcHVpLXByb2QuZXUtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1ybm90ZWJvb2tzLXByb2QuZXUtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yc3R1ZGlvLXByb2QuZXUtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yYXBwdWktcHJvZC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcm5vdGVib29rcy1wcm9kLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yc3R1ZGlvLXByb2QuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJhcHB1aS1wcm9kLmV1LXdlc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1ybm90ZWJvb2tzLXByb2QuZXUtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJzdHVkaW8tcHJvZC5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcmFwcHVpLXByb2QuZXUtd2VzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJub3RlYm9va3MtcHJvZC5ldS13ZXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcnN0dWRpby1wcm9kLmV1LXdlc3QtMy5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yYXBwdWktcHJvZC5tZS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcm5vdGVib29rcy1wcm9kLm1lLWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yc3R1ZGlvLXByb2QubWUtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJhcHB1aS1wcm9kLm1lLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcm5vdGVib29rcy1wcm9kLm1lLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcnN0dWRpby1wcm9kLm1lLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcmFwcHVpLXByb2Quc2EtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJub3RlYm9va3MtcHJvZC5zYS1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcnN0dWRpby1wcm9kLnNhLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yYXBwdWktcHJvZC51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcm5vdGVib29rcy1wcm9kLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yc3R1ZGlvLXByb2QudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJhcHB1aS1wcm9kLnVzLWVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1ybm90ZWJvb2tzLXByb2QudXMtZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJzdHVkaW8tcHJvZC51cy1lYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcmFwcHVpLXByb2QudXMtZ292LWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1ybm90ZWJvb2tzLXByb2QudXMtZ292LWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yc3R1ZGlvLXByb2QudXMtZ292LWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1yYXBwdWktcHJvZC51cy1nb3Ytd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJub3RlYm9va3MtcHJvZC51cy1nb3Ytd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJzdHVkaW8tcHJvZC51cy1nb3Ytd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJhcHB1aS1wcm9kLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiZW1ybm90ZWJvb2tzLXByb2QudXMtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJzdHVkaW8tcHJvZC51cy13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcmFwcHVpLXByb2QudXMtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJlbXJub3RlYm9va3MtcHJvZC51cy13ZXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImVtcnN0dWRpby1wcm9kLnVzLXdlc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiY24tbm9ydGgtMS5haXJmbG93LmFtYXpvbmF3cy5jb20uY25cIjogMixcbiAgXCJjbi1ub3J0aHdlc3QtMS5haXJmbG93LmFtYXpvbmF3cy5jb20uY25cIjogMixcbiAgXCJhcC1ub3J0aGVhc3QtMS5haXJmbG93LmFtYXpvbmF3cy5jb21cIjogMixcbiAgXCJhcC1ub3J0aGVhc3QtMi5haXJmbG93LmFtYXpvbmF3cy5jb21cIjogMixcbiAgXCJhcC1zb3V0aC0xLmFpcmZsb3cuYW1hem9uYXdzLmNvbVwiOiAyLFxuICBcImFwLXNvdXRoZWFzdC0xLmFpcmZsb3cuYW1hem9uYXdzLmNvbVwiOiAyLFxuICBcImFwLXNvdXRoZWFzdC0yLmFpcmZsb3cuYW1hem9uYXdzLmNvbVwiOiAyLFxuICBcImNhLWNlbnRyYWwtMS5haXJmbG93LmFtYXpvbmF3cy5jb21cIjogMixcbiAgXCJldS1jZW50cmFsLTEuYWlyZmxvdy5hbWF6b25hd3MuY29tXCI6IDIsXG4gIFwiZXUtbm9ydGgtMS5haXJmbG93LmFtYXpvbmF3cy5jb21cIjogMixcbiAgXCJldS13ZXN0LTEuYWlyZmxvdy5hbWF6b25hd3MuY29tXCI6IDIsXG4gIFwiZXUtd2VzdC0yLmFpcmZsb3cuYW1hem9uYXdzLmNvbVwiOiAyLFxuICBcImV1LXdlc3QtMy5haXJmbG93LmFtYXpvbmF3cy5jb21cIjogMixcbiAgXCJzYS1lYXN0LTEuYWlyZmxvdy5hbWF6b25hd3MuY29tXCI6IDIsXG4gIFwidXMtZWFzdC0xLmFpcmZsb3cuYW1hem9uYXdzLmNvbVwiOiAyLFxuICBcInVzLWVhc3QtMi5haXJmbG93LmFtYXpvbmF3cy5jb21cIjogMixcbiAgXCJ1cy13ZXN0LTIuYWlyZmxvdy5hbWF6b25hd3MuY29tXCI6IDIsXG4gIFwiczMuZHVhbHN0YWNrLmNuLW5vcnRoLTEuYW1hem9uYXdzLmNvbS5jblwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmR1YWxzdGFjay5jbi1ub3J0aC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJzMy13ZWJzaXRlLmR1YWxzdGFjay5jbi1ub3J0aC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJzMy5jbi1ub3J0aC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5jbi1ub3J0aC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJzMy1kZXByZWNhdGVkLmNuLW5vcnRoLTEuYW1hem9uYXdzLmNvbS5jblwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEuY24tbm9ydGgtMS5hbWF6b25hd3MuY29tLmNuXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5jbi1ub3J0aC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suY24tbm9ydGh3ZXN0LTEuYW1hem9uYXdzLmNvbS5jblwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmR1YWxzdGFjay5jbi1ub3J0aHdlc3QtMS5hbWF6b25hd3MuY29tLmNuXCI6IDEsXG4gIFwiczMuY24tbm9ydGh3ZXN0LTEuYW1hem9uYXdzLmNvbS5jblwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmNuLW5vcnRod2VzdC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJzMy1vYmplY3QtbGFtYmRhLmNuLW5vcnRod2VzdC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJzMy13ZWJzaXRlLmNuLW5vcnRod2VzdC0xLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suYWYtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZHVhbHN0YWNrLmFmLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuZHVhbHN0YWNrLmFmLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmFmLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmFmLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEuYWYtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5hZi1zb3V0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suYXAtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5kdWFsc3RhY2suYXAtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5hcC1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmFwLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtb2JqZWN0LWxhbWJkYS5hcC1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuYXAtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suYXAtbm9ydGhlYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmR1YWxzdGFjay5hcC1ub3J0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5kdWFsc3RhY2suYXAtbm9ydGhlYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmFwLW5vcnRoZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5hcC1ub3J0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtb2JqZWN0LWxhbWJkYS5hcC1ub3J0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5hcC1ub3J0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMuZHVhbHN0YWNrLmFwLW5vcnRoZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5kdWFsc3RhY2suYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuZHVhbHN0YWNrLmFwLW5vcnRoZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5hcC1ub3J0aGVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmR1YWxzdGFjay5hcC1ub3J0aGVhc3QtMy5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZHVhbHN0YWNrLmFwLW5vcnRoZWFzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLmR1YWxzdGFjay5hcC1ub3J0aGVhc3QtMy5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMuYXAtbm9ydGhlYXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmFwLW5vcnRoZWFzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1vYmplY3QtbGFtYmRhLmFwLW5vcnRoZWFzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLmFwLW5vcnRoZWFzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suYXAtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZHVhbHN0YWNrLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuZHVhbHN0YWNrLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEuYXAtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5hcC1zb3V0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suYXAtc291dGgtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZHVhbHN0YWNrLmFwLXNvdXRoLTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmFwLXNvdXRoLTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmFwLXNvdXRoLTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEuYXAtc291dGgtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5hcC1zb3V0aC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suYXAtc291dGhlYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmR1YWxzdGFjay5hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5kdWFsc3RhY2suYXAtc291dGhlYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmFwLXNvdXRoZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtb2JqZWN0LWxhbWJkYS5hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMuZHVhbHN0YWNrLmFwLXNvdXRoZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5kdWFsc3RhY2suYXAtc291dGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuZHVhbHN0YWNrLmFwLXNvdXRoZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5hcC1zb3V0aGVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuYXAtc291dGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEuYXAtc291dGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuYXAtc291dGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmR1YWxzdGFjay5hcC1zb3V0aGVhc3QtMy5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZHVhbHN0YWNrLmFwLXNvdXRoZWFzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5hcC1zb3V0aGVhc3QtMy5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuYXAtc291dGhlYXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEuYXAtc291dGhlYXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuYXAtc291dGhlYXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmR1YWxzdGFjay5hcC1zb3V0aGVhc3QtNC5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZHVhbHN0YWNrLmFwLXNvdXRoZWFzdC00LmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5hcC1zb3V0aGVhc3QtNC5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuYXAtc291dGhlYXN0LTQuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEuYXAtc291dGhlYXN0LTQuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuYXAtc291dGhlYXN0LTQuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmR1YWxzdGFjay5jYS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmR1YWxzdGFjay5jYS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LWZpcHMuZHVhbHN0YWNrLmNhLWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtZmlwcy5kdWFsc3RhY2suY2EtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLmR1YWxzdGFjay5jYS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmNhLWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuY2EtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC1maXBzLmNhLWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtZmlwcy5jYS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEuY2EtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLmNhLWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMuZHVhbHN0YWNrLmV1LWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZHVhbHN0YWNrLmV1LWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5kdWFsc3RhY2suZXUtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmV1LWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtb2JqZWN0LWxhbWJkYS5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuZXUtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suZXUtY2VudHJhbC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5kdWFsc3RhY2suZXUtY2VudHJhbC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5ldS1jZW50cmFsLTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmV1LWNlbnRyYWwtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtb2JqZWN0LWxhbWJkYS5ldS1jZW50cmFsLTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuZXUtY2VudHJhbC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suZXUtbm9ydGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZHVhbHN0YWNrLmV1LW5vcnRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmV1LW5vcnRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmV1LW5vcnRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEuZXUtbm9ydGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5ldS1ub3J0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suZXUtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZHVhbHN0YWNrLmV1LXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuZHVhbHN0YWNrLmV1LXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmV1LXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmV1LXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEuZXUtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5ldS1zb3V0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suZXUtc291dGgtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZHVhbHN0YWNrLmV1LXNvdXRoLTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmV1LXNvdXRoLTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmV1LXNvdXRoLTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEuZXUtc291dGgtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5ldS1zb3V0aC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5kdWFsc3RhY2suZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLmR1YWxzdGFjay5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1kZXByZWNhdGVkLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtb2JqZWN0LWxhbWJkYS5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suZXUtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5kdWFsc3RhY2suZXUtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmV1LXdlc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtb2JqZWN0LWxhbWJkYS5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuZXUtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2suZXUtd2VzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5kdWFsc3RhY2suZXUtd2VzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLmR1YWxzdGFjay5ldS13ZXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmV1LXdlc3QtMy5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZXUtd2VzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1vYmplY3QtbGFtYmRhLmV1LXdlc3QtMy5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5ldS13ZXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmR1YWxzdGFjay5pbC1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmR1YWxzdGFjay5pbC1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmlsLWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuaWwtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1vYmplY3QtbGFtYmRhLmlsLWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5pbC1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmR1YWxzdGFjay5tZS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmR1YWxzdGFjay5tZS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLm1lLWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQubWUtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1vYmplY3QtbGFtYmRhLm1lLWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5tZS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmR1YWxzdGFjay5tZS1zb3V0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5kdWFsc3RhY2subWUtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMubWUtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQubWUtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtb2JqZWN0LWxhbWJkYS5tZS1zb3V0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLm1lLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hcC1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFwLW5vcnRoZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hcC1ub3J0aGVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYXAtbm9ydGhlYXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFwLXNvdXRoZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hcC1zb3V0aGVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtY2EtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWV1LW5vcnRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWV1LXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtZXUtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1ldS13ZXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWV4dGVybmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWZpcHMtdXMtZ292LWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtZmlwcy11cy1nb3Ytd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJtcmFwLmFjY2Vzc3BvaW50LnMzLWdsb2JhbC5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtbWUtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtc2EtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy11cy1lYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXVzLWdvdi1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXVzLWdvdi13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXVzLXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtdXMtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLWFwLW5vcnRoZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLWFwLXNvdXRoZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLWFwLXNvdXRoZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLWV1LXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS1zYS1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUtdXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLXVzLWdvdi13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUtdXMtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMuZHVhbHN0YWNrLnNhLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQuZHVhbHN0YWNrLnNhLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5kdWFsc3RhY2suc2EtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5zYS1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LnNhLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtb2JqZWN0LWxhbWJkYS5zYS1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUuc2EtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2sudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5kdWFsc3RhY2sudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC1maXBzLmR1YWxzdGFjay51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWZpcHMuZHVhbHN0YWNrLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5kdWFsc3RhY2sudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQtZmlwcy51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWRlcHJlY2F0ZWQudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1maXBzLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtb2JqZWN0LWxhbWJkYS51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLXdlYnNpdGUudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2sudXMtZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5kdWFsc3RhY2sudXMtZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC1maXBzLmR1YWxzdGFjay51cy1lYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWZpcHMuZHVhbHN0YWNrLnVzLWVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMudXMtZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC51cy1lYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LWZpcHMudXMtZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1kZXByZWNhdGVkLnVzLWVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtZmlwcy51cy1lYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEudXMtZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLnVzLWVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMuZHVhbHN0YWNrLnVzLWdvdi1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmR1YWxzdGFjay51cy1nb3YtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC1maXBzLmR1YWxzdGFjay51cy1nb3YtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1maXBzLmR1YWxzdGFjay51cy1nb3YtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy51cy1nb3YtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC51cy1nb3YtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC1maXBzLnVzLWdvdi1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWZpcHMudXMtZ292LWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtb2JqZWN0LWxhbWJkYS51cy1nb3YtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLnVzLWdvdi1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmR1YWxzdGFjay51cy1nb3Ytd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5kdWFsc3RhY2sudXMtZ292LXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQtZmlwcy5kdWFsc3RhY2sudXMtZ292LXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtZmlwcy5kdWFsc3RhY2sudXMtZ292LXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMudXMtZ292LXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQudXMtZ292LXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQtZmlwcy51cy1nb3Ytd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1maXBzLnVzLWdvdi13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLW9iamVjdC1sYW1iZGEudXMtZ292LXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS51cy1nb3Ytd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy5kdWFsc3RhY2sudXMtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC5kdWFsc3RhY2sudXMtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC1maXBzLmR1YWxzdGFjay51cy13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWZpcHMuZHVhbHN0YWNrLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5kdWFsc3RhY2sudXMtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LnVzLXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQtZmlwcy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWZpcHMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1vYmplY3QtbGFtYmRhLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS51cy13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLmR1YWxzdGFjay51cy13ZXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LmR1YWxzdGFjay51cy13ZXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWFjY2Vzc3BvaW50LWZpcHMuZHVhbHN0YWNrLnVzLXdlc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtZmlwcy5kdWFsc3RhY2sudXMtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy13ZWJzaXRlLmR1YWxzdGFjay51cy13ZXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLnVzLXdlc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtYWNjZXNzcG9pbnQudXMtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1hY2Nlc3Nwb2ludC1maXBzLnVzLXdlc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtZGVwcmVjYXRlZC51cy13ZXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInMzLWZpcHMudXMtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJzMy1vYmplY3QtbGFtYmRhLnVzLXdlc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS51cy13ZXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIm5vdGVib29rLmFmLXNvdXRoLTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLmFwLWVhc3QtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2suYXAtbm9ydGhlYXN0LTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLmFwLW5vcnRoZWFzdC0yLnNhZ2VtYWtlci5hd3NcIjogMSxcbiAgXCJub3RlYm9vay5hcC1ub3J0aGVhc3QtMy5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2suYXAtc291dGgtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2suYXAtc291dGgtMi5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2suYXAtc291dGhlYXN0LTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLmFwLXNvdXRoZWFzdC0yLnNhZ2VtYWtlci5hd3NcIjogMSxcbiAgXCJub3RlYm9vay5hcC1zb3V0aGVhc3QtMy5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2suYXAtc291dGhlYXN0LTQuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLmNhLWNlbnRyYWwtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2suZXUtY2VudHJhbC0xLnNhZ2VtYWtlci5hd3NcIjogMSxcbiAgXCJub3RlYm9vay5ldS1jZW50cmFsLTIuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLmV1LW5vcnRoLTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLmV1LXNvdXRoLTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLmV1LXNvdXRoLTIuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLmV1LXdlc3QtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2suZXUtd2VzdC0yLnNhZ2VtYWtlci5hd3NcIjogMSxcbiAgXCJub3RlYm9vay5ldS13ZXN0LTMuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLmlsLWNlbnRyYWwtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2subWUtY2VudHJhbC0xLnNhZ2VtYWtlci5hd3NcIjogMSxcbiAgXCJub3RlYm9vay5tZS1zb3V0aC0xLnNhZ2VtYWtlci5hd3NcIjogMSxcbiAgXCJub3RlYm9vay5zYS1lYXN0LTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLnVzLWVhc3QtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2stZmlwcy51cy1lYXN0LTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLnVzLWVhc3QtMi5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2stZmlwcy51cy1lYXN0LTIuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLnVzLWdvdi1lYXN0LTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLWZpcHMudXMtZ292LWVhc3QtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2sudXMtZ292LXdlc3QtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2stZmlwcy51cy1nb3Ytd2VzdC0xLnNhZ2VtYWtlci5hd3NcIjogMSxcbiAgXCJub3RlYm9vay51cy13ZXN0LTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLnVzLXdlc3QtMi5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwibm90ZWJvb2stZmlwcy51cy13ZXN0LTIuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcIm5vdGVib29rLmNuLW5vcnRoLTEuc2FnZW1ha2VyLmNvbS5jblwiOiAxLFxuICBcIm5vdGVib29rLmNuLW5vcnRod2VzdC0xLnNhZ2VtYWtlci5jb20uY25cIjogMSxcbiAgXCJzdHVkaW8uYWYtc291dGgtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLmFwLWVhc3QtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLmFwLW5vcnRoZWFzdC0xLnNhZ2VtYWtlci5hd3NcIjogMSxcbiAgXCJzdHVkaW8uYXAtbm9ydGhlYXN0LTIuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcInN0dWRpby5hcC1ub3J0aGVhc3QtMy5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLmFwLXNvdXRoLTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcInN0dWRpby5hcC1zb3V0aGVhc3QtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLmFwLXNvdXRoZWFzdC0yLnNhZ2VtYWtlci5hd3NcIjogMSxcbiAgXCJzdHVkaW8uYXAtc291dGhlYXN0LTMuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcInN0dWRpby5jYS1jZW50cmFsLTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcInN0dWRpby5ldS1jZW50cmFsLTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcInN0dWRpby5ldS1ub3J0aC0xLnNhZ2VtYWtlci5hd3NcIjogMSxcbiAgXCJzdHVkaW8uZXUtc291dGgtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLmV1LXdlc3QtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLmV1LXdlc3QtMi5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLmV1LXdlc3QtMy5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLmlsLWNlbnRyYWwtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLm1lLWNlbnRyYWwtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLm1lLXNvdXRoLTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcInN0dWRpby5zYS1lYXN0LTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcInN0dWRpby51cy1lYXN0LTEuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcInN0dWRpby51cy1lYXN0LTIuc2FnZW1ha2VyLmF3c1wiOiAxLFxuICBcInN0dWRpby51cy1nb3YtZWFzdC0xLnNhZ2VtYWtlci5hd3NcIjogMSxcbiAgXCJzdHVkaW8tZmlwcy51cy1nb3YtZWFzdC0xLnNhZ2VtYWtlci5hd3NcIjogMSxcbiAgXCJzdHVkaW8udXMtZ292LXdlc3QtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLWZpcHMudXMtZ292LXdlc3QtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLnVzLXdlc3QtMS5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLnVzLXdlc3QtMi5zYWdlbWFrZXIuYXdzXCI6IDEsXG4gIFwic3R1ZGlvLmNuLW5vcnRoLTEuc2FnZW1ha2VyLmNvbS5jblwiOiAxLFxuICBcInN0dWRpby5jbi1ub3J0aHdlc3QtMS5zYWdlbWFrZXIuY29tLmNuXCI6IDEsXG4gIFwiYW5hbHl0aWNzLWdhdGV3YXkuYXAtbm9ydGhlYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImFuYWx5dGljcy1nYXRld2F5LmFwLW5vcnRoZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJhbmFseXRpY3MtZ2F0ZXdheS5hcC1zb3V0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJhbmFseXRpY3MtZ2F0ZXdheS5hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiYW5hbHl0aWNzLWdhdGV3YXkuYXAtc291dGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImFuYWx5dGljcy1nYXRld2F5LmV1LWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiYW5hbHl0aWNzLWdhdGV3YXkuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJhbmFseXRpY3MtZ2F0ZXdheS51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcImFuYWx5dGljcy1nYXRld2F5LnVzLWVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwiYW5hbHl0aWNzLWdhdGV3YXkudXMtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJhbXBsaWZ5YXBwLmNvbVwiOiAyLFxuICBcImF3c2FwcHJ1bm5lci5jb21cIjogMixcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5hd3MtY2xvdWQ5LmFmLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInZmcy5jbG91ZDkuYWYtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuY2xvdWQ5LmFmLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmF3cy1jbG91ZDkuYXAtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ2ZnMuY2xvdWQ5LmFwLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuY2xvdWQ5LmFwLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuYXdzLWNsb3VkOS5hcC1ub3J0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwidmZzLmNsb3VkOS5hcC1ub3J0aGVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuY2xvdWQ5LmFwLW5vcnRoZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5hd3MtY2xvdWQ5LmFwLW5vcnRoZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ2ZnMuY2xvdWQ5LmFwLW5vcnRoZWFzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5jbG91ZDkuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmF3cy1jbG91ZDkuYXAtbm9ydGhlYXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInZmcy5jbG91ZDkuYXAtbm9ydGhlYXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmNsb3VkOS5hcC1ub3J0aGVhc3QtMy5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuYXdzLWNsb3VkOS5hcC1zb3V0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ2ZnMuY2xvdWQ5LmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmNsb3VkOS5hcC1zb3V0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5hd3MtY2xvdWQ5LmFwLXNvdXRoZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ2ZnMuY2xvdWQ5LmFwLXNvdXRoZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5jbG91ZDkuYXAtc291dGhlYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmF3cy1jbG91ZDkuYXAtc291dGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInZmcy5jbG91ZDkuYXAtc291dGhlYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmNsb3VkOS5hcC1zb3V0aGVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuYXdzLWNsb3VkOS5jYS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInZmcy5jbG91ZDkuY2EtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5jbG91ZDkuY2EtY2VudHJhbC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5hd3MtY2xvdWQ5LmV1LWNlbnRyYWwtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwidmZzLmNsb3VkOS5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmNsb3VkOS5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmF3cy1jbG91ZDkuZXUtbm9ydGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwidmZzLmNsb3VkOS5ldS1ub3J0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5jbG91ZDkuZXUtbm9ydGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuYXdzLWNsb3VkOS5ldS1zb3V0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ2ZnMuY2xvdWQ5LmV1LXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmNsb3VkOS5ldS1zb3V0aC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5hd3MtY2xvdWQ5LmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwidmZzLmNsb3VkOS5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmNsb3VkOS5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmF3cy1jbG91ZDkuZXUtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ2ZnMuY2xvdWQ5LmV1LXdlc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuY2xvdWQ5LmV1LXdlc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuYXdzLWNsb3VkOS5ldS13ZXN0LTMuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInZmcy5jbG91ZDkuZXUtd2VzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5jbG91ZDkuZXUtd2VzdC0zLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5hd3MtY2xvdWQ5Lm1lLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInZmcy5jbG91ZDkubWUtc291dGgtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuY2xvdWQ5Lm1lLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmF3cy1jbG91ZDkuc2EtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ2ZnMuY2xvdWQ5LnNhLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuY2xvdWQ5LnNhLWVhc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuYXdzLWNsb3VkOS51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInZmcy5jbG91ZDkudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5jbG91ZDkudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5hd3MtY2xvdWQ5LnVzLWVhc3QtMi5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwidmZzLmNsb3VkOS51cy1lYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmNsb3VkOS51cy1lYXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcIndlYnZpZXctYXNzZXRzLmF3cy1jbG91ZDkudXMtd2VzdC0xLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ2ZnMuY2xvdWQ5LnVzLXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuY2xvdWQ5LnVzLXdlc3QtMS5hbWF6b25hd3MuY29tXCI6IDEsXG4gIFwid2Vidmlldy1hc3NldHMuYXdzLWNsb3VkOS51cy13ZXN0LTIuYW1hem9uYXdzLmNvbVwiOiAxLFxuICBcInZmcy5jbG91ZDkudXMtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJ3ZWJ2aWV3LWFzc2V0cy5jbG91ZDkudXMtd2VzdC0yLmFtYXpvbmF3cy5jb21cIjogMSxcbiAgXCJjbi1ub3J0aC0xLmViLmFtYXpvbmF3cy5jb20uY25cIjogMSxcbiAgXCJjbi1ub3J0aHdlc3QtMS5lYi5hbWF6b25hd3MuY29tLmNuXCI6IDEsXG4gIFwiZWxhc3RpY2JlYW5zdGFsay5jb21cIjogMSxcbiAgXCJhZi1zb3V0aC0xLmVsYXN0aWNiZWFuc3RhbGsuY29tXCI6IDEsXG4gIFwiYXAtZWFzdC0xLmVsYXN0aWNiZWFuc3RhbGsuY29tXCI6IDEsXG4gIFwiYXAtbm9ydGhlYXN0LTEuZWxhc3RpY2JlYW5zdGFsay5jb21cIjogMSxcbiAgXCJhcC1ub3J0aGVhc3QtMi5lbGFzdGljYmVhbnN0YWxrLmNvbVwiOiAxLFxuICBcImFwLW5vcnRoZWFzdC0zLmVsYXN0aWNiZWFuc3RhbGsuY29tXCI6IDEsXG4gIFwiYXAtc291dGgtMS5lbGFzdGljYmVhbnN0YWxrLmNvbVwiOiAxLFxuICBcImFwLXNvdXRoZWFzdC0xLmVsYXN0aWNiZWFuc3RhbGsuY29tXCI6IDEsXG4gIFwiYXAtc291dGhlYXN0LTIuZWxhc3RpY2JlYW5zdGFsay5jb21cIjogMSxcbiAgXCJhcC1zb3V0aGVhc3QtMy5lbGFzdGljYmVhbnN0YWxrLmNvbVwiOiAxLFxuICBcImNhLWNlbnRyYWwtMS5lbGFzdGljYmVhbnN0YWxrLmNvbVwiOiAxLFxuICBcImV1LWNlbnRyYWwtMS5lbGFzdGljYmVhbnN0YWxrLmNvbVwiOiAxLFxuICBcImV1LW5vcnRoLTEuZWxhc3RpY2JlYW5zdGFsay5jb21cIjogMSxcbiAgXCJldS1zb3V0aC0xLmVsYXN0aWNiZWFuc3RhbGsuY29tXCI6IDEsXG4gIFwiZXUtd2VzdC0xLmVsYXN0aWNiZWFuc3RhbGsuY29tXCI6IDEsXG4gIFwiZXUtd2VzdC0yLmVsYXN0aWNiZWFuc3RhbGsuY29tXCI6IDEsXG4gIFwiZXUtd2VzdC0zLmVsYXN0aWNiZWFuc3RhbGsuY29tXCI6IDEsXG4gIFwiaWwtY2VudHJhbC0xLmVsYXN0aWNiZWFuc3RhbGsuY29tXCI6IDEsXG4gIFwibWUtc291dGgtMS5lbGFzdGljYmVhbnN0YWxrLmNvbVwiOiAxLFxuICBcInNhLWVhc3QtMS5lbGFzdGljYmVhbnN0YWxrLmNvbVwiOiAxLFxuICBcInVzLWVhc3QtMS5lbGFzdGljYmVhbnN0YWxrLmNvbVwiOiAxLFxuICBcInVzLWVhc3QtMi5lbGFzdGljYmVhbnN0YWxrLmNvbVwiOiAxLFxuICBcInVzLWdvdi1lYXN0LTEuZWxhc3RpY2JlYW5zdGFsay5jb21cIjogMSxcbiAgXCJ1cy1nb3Ytd2VzdC0xLmVsYXN0aWNiZWFuc3RhbGsuY29tXCI6IDEsXG4gIFwidXMtd2VzdC0xLmVsYXN0aWNiZWFuc3RhbGsuY29tXCI6IDEsXG4gIFwidXMtd2VzdC0yLmVsYXN0aWNiZWFuc3RhbGsuY29tXCI6IDEsXG4gIFwiZWxiLmFtYXpvbmF3cy5jb20uY25cIjogMixcbiAgXCJlbGIuYW1hem9uYXdzLmNvbVwiOiAyLFxuICBcImF3c2dsb2JhbGFjY2VsZXJhdG9yLmNvbVwiOiAxLFxuICBcImVlcm8ub25saW5lXCI6IDEsXG4gIFwiZWVyby1zdGFnZS5vbmxpbmVcIjogMSxcbiAgXCJ0M2wzcDBydC5uZXRcIjogMSxcbiAgXCJ0ZWxlLmFtdW5lLm9yZ1wiOiAxLFxuICBcImFwaWdlZS5pb1wiOiAxLFxuICBcInNpaWl0ZXMuY29tXCI6IDEsXG4gIFwiYXBwc3BhY2Vob3N0ZWQuY29tXCI6IDEsXG4gIFwiYXBwc3BhY2V1c2VyY29udGVudC5jb21cIjogMSxcbiAgXCJhcHB1ZG8ubmV0XCI6IDEsXG4gIFwib24tYXB0aWJsZS5jb21cIjogMSxcbiAgXCJ1c2VyLmFzZWluZXQubmUuanBcIjogMSxcbiAgXCJndi52Y1wiOiAxLFxuICBcImQuZ3YudmNcIjogMSxcbiAgXCJ1c2VyLnBhcnR5LmV1c1wiOiAxLFxuICBcInBpbWllbnRhLm9yZ1wiOiAxLFxuICBcInBvaXZyb24ub3JnXCI6IDEsXG4gIFwicG90YWdlci5vcmdcIjogMSxcbiAgXCJzd2VldHBlcHBlci5vcmdcIjogMSxcbiAgXCJteWFzdXN0b3IuY29tXCI6IDEsXG4gIFwiY2RuLnByb2QuYXRsYXNzaWFuLWRldi5uZXRcIjogMSxcbiAgXCJ0cmFuc2xhdGVkLnBhZ2VcIjogMSxcbiAgXCJhdXRvY29kZS5kZXZcIjogMSxcbiAgXCJteWZyaXR6Lm5ldFwiOiAxLFxuICBcIm9uYXZzdGFjay5uZXRcIjogMSxcbiAgXCJhd2Rldi5jYVwiOiAyLFxuICBcImFkdmlzb3Iud3NcIjogMixcbiAgXCJlY29tbWVyY2Utc2hvcC5wbFwiOiAxLFxuICBcImItZGF0YS5pb1wiOiAxLFxuICBcImJhY2twbGFuZWFwcC5pb1wiOiAxLFxuICBcImJhbGVuYS1kZXZpY2VzLmNvbVwiOiAxLFxuICBcInJzLmJhXCI6IDEsXG4gIFwiYmFuemFpLmNsb3VkXCI6IDIsXG4gIFwiYXBwLmJhbnphaWNsb3VkLmlvXCI6IDEsXG4gIFwiYmFja3lhcmRzLmJhbnphaWNsb3VkLmlvXCI6IDIsXG4gIFwiYmFzZS5lY1wiOiAxLFxuICBcIm9mZmljaWFsLmVjXCI6IDEsXG4gIFwiYnV5c2hvcC5qcFwiOiAxLFxuICBcImZhc2hpb25zdG9yZS5qcFwiOiAxLFxuICBcImhhbmRjcmFmdGVkLmpwXCI6IDEsXG4gIFwia2F3YWlpc2hvcC5qcFwiOiAxLFxuICBcInN1cGVyc2FsZS5qcFwiOiAxLFxuICBcInRoZXNob3AuanBcIjogMSxcbiAgXCJzaG9wc2VsZWN0Lm5ldFwiOiAxLFxuICBcImJhc2Uuc2hvcFwiOiAxLFxuICBcImJlYWdsZWJvYXJkLmlvXCI6IDEsXG4gIFwiYmVnZXQuYXBwXCI6IDIsXG4gIFwiYmV0YWluYWJveC5jb21cIjogMSxcbiAgXCJibnIubGFcIjogMSxcbiAgXCJiaXRidWNrZXQuaW9cIjogMSxcbiAgXCJibGFja2JhdWRjZG4ubmV0XCI6IDEsXG4gIFwib2YuamVcIjogMSxcbiAgXCJibHVlYml0ZS5pb1wiOiAxLFxuICBcImJvb21sYS5uZXRcIjogMSxcbiAgXCJib3V0aXIuY29tXCI6IDEsXG4gIFwiYm94ZnVzZS5pb1wiOiAxLFxuICBcInNxdWFyZTcuY2hcIjogMSxcbiAgXCJicGxhY2VkLmNvbVwiOiAxLFxuICBcImJwbGFjZWQuZGVcIjogMSxcbiAgXCJzcXVhcmU3LmRlXCI6IDEsXG4gIFwiYnBsYWNlZC5uZXRcIjogMSxcbiAgXCJzcXVhcmU3Lm5ldFwiOiAxLFxuICBcInNob3AuYnJlbmRseS5yc1wiOiAxLFxuICBcImJyb3dzZXJzYWZldHltYXJrLmlvXCI6IDEsXG4gIFwidWswLmJpZ3YuaW9cIjogMSxcbiAgXCJkaC5ieXRlbWFyay5jby51a1wiOiAxLFxuICBcInZtLmJ5dGVtYXJrLmNvLnVrXCI6IDEsXG4gIFwiY2FmanMuY29tXCI6IDEsXG4gIFwibXljZC5ldVwiOiAxLFxuICBcImNhbnZhLWFwcHMuY25cIjogMSxcbiAgXCJjYW52YS1hcHBzLmNvbVwiOiAxLFxuICBcImRyci5hY1wiOiAxLFxuICBcInV3dS5haVwiOiAxLFxuICBcImNhcnJkLmNvXCI6IDEsXG4gIFwiY3JkLmNvXCI6IDEsXG4gIFwianUubXBcIjogMSxcbiAgXCJhZS5vcmdcIjogMSxcbiAgXCJici5jb21cIjogMSxcbiAgXCJjbi5jb21cIjogMSxcbiAgXCJjb20uZGVcIjogMSxcbiAgXCJjb20uc2VcIjogMSxcbiAgXCJkZS5jb21cIjogMSxcbiAgXCJldS5jb21cIjogMSxcbiAgXCJnYi5uZXRcIjogMSxcbiAgXCJodS5uZXRcIjogMSxcbiAgXCJqcC5uZXRcIjogMSxcbiAgXCJqcG4uY29tXCI6IDEsXG4gIFwibWV4LmNvbVwiOiAxLFxuICBcInJ1LmNvbVwiOiAxLFxuICBcInNhLmNvbVwiOiAxLFxuICBcInNlLm5ldFwiOiAxLFxuICBcInVrLmNvbVwiOiAxLFxuICBcInVrLm5ldFwiOiAxLFxuICBcInVzLmNvbVwiOiAxLFxuICBcInphLmJ6XCI6IDEsXG4gIFwiemEuY29tXCI6IDEsXG4gIFwiYXIuY29tXCI6IDEsXG4gIFwiaHUuY29tXCI6IDEsXG4gIFwia3IuY29tXCI6IDEsXG4gIFwibm8uY29tXCI6IDEsXG4gIFwicWMuY29tXCI6IDEsXG4gIFwidXkuY29tXCI6IDEsXG4gIFwiYWZyaWNhLmNvbVwiOiAxLFxuICBcImdyLmNvbVwiOiAxLFxuICBcImluLm5ldFwiOiAxLFxuICBcIndlYi5pblwiOiAxLFxuICBcInVzLm9yZ1wiOiAxLFxuICBcImNvLmNvbVwiOiAxLFxuICBcImF1cy5iYXNrZXRiYWxsXCI6IDEsXG4gIFwibnouYmFza2V0YmFsbFwiOiAxLFxuICBcInJhZGlvLmFtXCI6IDEsXG4gIFwicmFkaW8uZm1cIjogMSxcbiAgXCJjLmxhXCI6IDEsXG4gIFwiY2VydG1nci5vcmdcIjogMSxcbiAgXCJjeC51YVwiOiAxLFxuICBcImRpc2NvdXJzZS5ncm91cFwiOiAxLFxuICBcImRpc2NvdXJzZS50ZWFtXCI6IDEsXG4gIFwiY2xldmVyYXBwcy5pb1wiOiAxLFxuICBcImNsZXJrLmFwcFwiOiAxLFxuICBcImNsZXJrc3RhZ2UuYXBwXCI6IDEsXG4gIFwibGNsLmRldlwiOiAyLFxuICBcImxjbHN0YWdlLmRldlwiOiAyLFxuICBcInN0Zy5kZXZcIjogMixcbiAgXCJzdGdzdGFnZS5kZXZcIjogMixcbiAgXCJjbGlja3Jpc2luZy5uZXRcIjogMSxcbiAgXCJjNjYubWVcIjogMSxcbiAgXCJjbG91ZDY2LndzXCI6IDEsXG4gIFwiY2xvdWQ2Ni56b25lXCI6IDEsXG4gIFwiamRldmNsb3VkLmNvbVwiOiAxLFxuICBcIndwZGV2Y2xvdWQuY29tXCI6IDEsXG4gIFwiY2xvdWRhY2Nlc3MuaG9zdFwiOiAxLFxuICBcImZyZWVzaXRlLmhvc3RcIjogMSxcbiAgXCJjbG91ZGFjY2Vzcy5uZXRcIjogMSxcbiAgXCJjbG91ZGNvbnRyb2xsZWQuY29tXCI6IDEsXG4gIFwiY2xvdWRjb250cm9sYXBwLmNvbVwiOiAxLFxuICBcImNsb3VkZXJhLnNpdGVcIjogMixcbiAgXCJjZi1pcGZzLmNvbVwiOiAxLFxuICBcImNsb3VkZmxhcmUtaXBmcy5jb21cIjogMSxcbiAgXCJ0cnljbG91ZGZsYXJlLmNvbVwiOiAxLFxuICBcInBhZ2VzLmRldlwiOiAxLFxuICBcInIyLmRldlwiOiAxLFxuICBcIndvcmtlcnMuZGV2XCI6IDEsXG4gIFwid25leHQuYXBwXCI6IDEsXG4gIFwiY28uY2FcIjogMSxcbiAgXCJvdGFwLmNvXCI6IDIsXG4gIFwiY28uY3pcIjogMSxcbiAgXCJjLmNkbjc3Lm9yZ1wiOiAxLFxuICBcImNkbjc3LXNzbC5uZXRcIjogMSxcbiAgXCJyLmNkbjc3Lm5ldFwiOiAxLFxuICBcInJzYy5jZG43Ny5vcmdcIjogMSxcbiAgXCJzc2wub3JpZ2luLmNkbjc3LXNlY3VyZS5vcmdcIjogMSxcbiAgXCJjbG91ZG5zLmFzaWFcIjogMSxcbiAgXCJjbG91ZG5zLmJpelwiOiAxLFxuICBcImNsb3VkbnMuY2x1YlwiOiAxLFxuICBcImNsb3VkbnMuY2NcIjogMSxcbiAgXCJjbG91ZG5zLmV1XCI6IDEsXG4gIFwiY2xvdWRucy5pblwiOiAxLFxuICBcImNsb3VkbnMuaW5mb1wiOiAxLFxuICBcImNsb3VkbnMub3JnXCI6IDEsXG4gIFwiY2xvdWRucy5wcm9cIjogMSxcbiAgXCJjbG91ZG5zLnB3XCI6IDEsXG4gIFwiY2xvdWRucy51c1wiOiAxLFxuICBcImNucHkuZ2RuXCI6IDEsXG4gIFwiY29kZWJlcmcucGFnZVwiOiAxLFxuICBcImNvLm5sXCI6IDEsXG4gIFwiY28ubm9cIjogMSxcbiAgXCJ3ZWJob3N0aW5nLmJlXCI6IDEsXG4gIFwiaG9zdGluZy1jbHVzdGVyLm5sXCI6IDEsXG4gIFwiYWMucnVcIjogMSxcbiAgXCJlZHUucnVcIjogMSxcbiAgXCJnb3YucnVcIjogMSxcbiAgXCJpbnQucnVcIjogMSxcbiAgXCJtaWwucnVcIjogMSxcbiAgXCJ0ZXN0LnJ1XCI6IDEsXG4gIFwiZHluLmNvc2lkbnMuZGVcIjogMSxcbiAgXCJkeW5hbWlzY2hlcy1kbnMuZGVcIjogMSxcbiAgXCJkbnN1cGRhdGVyLmRlXCI6IDEsXG4gIFwiaW50ZXJuZXQtZG5zLmRlXCI6IDEsXG4gIFwibC1vLWctaS1uLmRlXCI6IDEsXG4gIFwiZHluYW1pYy1kbnMuaW5mb1wiOiAxLFxuICBcImZlc3RlLWlwLm5ldFwiOiAxLFxuICBcImtueC1zZXJ2ZXIubmV0XCI6IDEsXG4gIFwic3RhdGljLWFjY2Vzcy5uZXRcIjogMSxcbiAgXCJyZWFsbS5jelwiOiAxLFxuICBcImNyeXB0b25vbWljLm5ldFwiOiAyLFxuICBcImN1cGNha2UuaXNcIjogMSxcbiAgXCJjdXJ2LmRldlwiOiAxLFxuICBcImN1c3RvbWVyLW9jaS5jb21cIjogMixcbiAgXCJvY2kuY3VzdG9tZXItb2NpLmNvbVwiOiAyLFxuICBcIm9jcC5jdXN0b21lci1vY2kuY29tXCI6IDIsXG4gIFwib2NzLmN1c3RvbWVyLW9jaS5jb21cIjogMixcbiAgXCJjeW9uLmxpbmtcIjogMSxcbiAgXCJjeW9uLnNpdGVcIjogMSxcbiAgXCJmbndrLnNpdGVcIjogMSxcbiAgXCJmb2xpb25ldHdvcmsuc2l0ZVwiOiAxLFxuICBcInBsYXRmb3JtMC5hcHBcIjogMSxcbiAgXCJkYXBsaWUubWVcIjogMSxcbiAgXCJsb2NhbGhvc3QuZGFwbGllLm1lXCI6IDEsXG4gIFwiZGF0dG9sb2NhbC5jb21cIjogMSxcbiAgXCJkYXR0b3JlbGF5LmNvbVwiOiAxLFxuICBcImRhdHRvd2ViLmNvbVwiOiAxLFxuICBcIm15ZGF0dG8uY29tXCI6IDEsXG4gIFwiZGF0dG9sb2NhbC5uZXRcIjogMSxcbiAgXCJteWRhdHRvLm5ldFwiOiAxLFxuICBcImJpei5ka1wiOiAxLFxuICBcImNvLmRrXCI6IDEsXG4gIFwiZmlybS5ka1wiOiAxLFxuICBcInJlZy5ka1wiOiAxLFxuICBcInN0b3JlLmRrXCI6IDEsXG4gIFwiZHluZG5zLmRhcHBub2RlLmlvXCI6IDEsXG4gIFwiZGFwcHMuZWFydGhcIjogMixcbiAgXCJienouZGFwcHMuZWFydGhcIjogMixcbiAgXCJidWlsdHdpdGhkYXJrLmNvbVwiOiAxLFxuICBcImRlbW8uZGF0YWRldGVjdC5jb21cIjogMSxcbiAgXCJpbnN0YW5jZS5kYXRhZGV0ZWN0LmNvbVwiOiAxLFxuICBcImVkZ2VzdGFjay5tZVwiOiAxLFxuICBcImRkbnM1LmNvbVwiOiAxLFxuICBcImRlYmlhbi5uZXRcIjogMSxcbiAgXCJkZW5vLmRldlwiOiAxLFxuICBcImRlbm8tc3RhZ2luZy5kZXZcIjogMSxcbiAgXCJkZWR5bi5pb1wiOiAxLFxuICBcImRldGEuYXBwXCI6IDEsXG4gIFwiZGV0YS5kZXZcIjogMSxcbiAgXCJyc3MubXkuaWRcIjogMixcbiAgXCJkaWhlci5zb2x1dGlvbnNcIjogMixcbiAgXCJkaXNjb3Jkc2F5cy5jb21cIjogMSxcbiAgXCJkaXNjb3Jkc2V6LmNvbVwiOiAxLFxuICBcImpvemkuYml6XCI6IDEsXG4gIFwiZG5zaG9tZS5kZVwiOiAxLFxuICBcIm9ubGluZS50aFwiOiAxLFxuICBcInNob3AudGhcIjogMSxcbiAgXCJkcmF5ZGRucy5jb21cIjogMSxcbiAgXCJzaG9wYXJlbmEucGxcIjogMSxcbiAgXCJkcmVhbWhvc3RlcnMuY29tXCI6IDEsXG4gIFwibXlkcm9iby5jb21cIjogMSxcbiAgXCJkcnVkLmlvXCI6IDEsXG4gIFwiZHJ1ZC51c1wiOiAxLFxuICBcImR1Y2tkbnMub3JnXCI6IDEsXG4gIFwiYmlwLnNoXCI6IDEsXG4gIFwiYml0YnJpZGdlLm5ldFwiOiAxLFxuICBcImR5LmZpXCI6IDEsXG4gIFwidHVuay5vcmdcIjogMSxcbiAgXCJkeW5kbnMtYXQtaG9tZS5jb21cIjogMSxcbiAgXCJkeW5kbnMtYXQtd29yay5jb21cIjogMSxcbiAgXCJkeW5kbnMtYmxvZy5jb21cIjogMSxcbiAgXCJkeW5kbnMtZnJlZS5jb21cIjogMSxcbiAgXCJkeW5kbnMtaG9tZS5jb21cIjogMSxcbiAgXCJkeW5kbnMtaXAuY29tXCI6IDEsXG4gIFwiZHluZG5zLW1haWwuY29tXCI6IDEsXG4gIFwiZHluZG5zLW9mZmljZS5jb21cIjogMSxcbiAgXCJkeW5kbnMtcGljcy5jb21cIjogMSxcbiAgXCJkeW5kbnMtcmVtb3RlLmNvbVwiOiAxLFxuICBcImR5bmRucy1zZXJ2ZXIuY29tXCI6IDEsXG4gIFwiZHluZG5zLXdlYi5jb21cIjogMSxcbiAgXCJkeW5kbnMtd2lraS5jb21cIjogMSxcbiAgXCJkeW5kbnMtd29yay5jb21cIjogMSxcbiAgXCJkeW5kbnMuYml6XCI6IDEsXG4gIFwiZHluZG5zLmluZm9cIjogMSxcbiAgXCJkeW5kbnMub3JnXCI6IDEsXG4gIFwiZHluZG5zLnR2XCI6IDEsXG4gIFwiYXQtYmFuZC1jYW1wLm5ldFwiOiAxLFxuICBcImF0aC5jeFwiOiAxLFxuICBcImJhcnJlbC1vZi1rbm93bGVkZ2UuaW5mb1wiOiAxLFxuICBcImJhcnJlbGwtb2Yta25vd2xlZGdlLmluZm9cIjogMSxcbiAgXCJiZXR0ZXItdGhhbi50dlwiOiAxLFxuICBcImJsb2dkbnMuY29tXCI6IDEsXG4gIFwiYmxvZ2Rucy5uZXRcIjogMSxcbiAgXCJibG9nZG5zLm9yZ1wiOiAxLFxuICBcImJsb2dzaXRlLm9yZ1wiOiAxLFxuICBcImJvbGRseWdvaW5nbm93aGVyZS5vcmdcIjogMSxcbiAgXCJicm9rZS1pdC5uZXRcIjogMSxcbiAgXCJidXlzaG91c2VzLm5ldFwiOiAxLFxuICBcImNlY2hpcmUuY29tXCI6IDEsXG4gIFwiZG5zYWxpYXMuY29tXCI6IDEsXG4gIFwiZG5zYWxpYXMubmV0XCI6IDEsXG4gIFwiZG5zYWxpYXMub3JnXCI6IDEsXG4gIFwiZG5zZG9qby5jb21cIjogMSxcbiAgXCJkbnNkb2pvLm5ldFwiOiAxLFxuICBcImRuc2Rvam8ub3JnXCI6IDEsXG4gIFwiZG9lcy1pdC5uZXRcIjogMSxcbiAgXCJkb2VzbnRleGlzdC5jb21cIjogMSxcbiAgXCJkb2VzbnRleGlzdC5vcmdcIjogMSxcbiAgXCJkb250ZXhpc3QuY29tXCI6IDEsXG4gIFwiZG9udGV4aXN0Lm5ldFwiOiAxLFxuICBcImRvbnRleGlzdC5vcmdcIjogMSxcbiAgXCJkb29tZG5zLmNvbVwiOiAxLFxuICBcImRvb21kbnMub3JnXCI6IDEsXG4gIFwiZHZyZG5zLm9yZ1wiOiAxLFxuICBcImR5bi1vLXNhdXIuY29tXCI6IDEsXG4gIFwiZHluYWxpYXMuY29tXCI6IDEsXG4gIFwiZHluYWxpYXMubmV0XCI6IDEsXG4gIFwiZHluYWxpYXMub3JnXCI6IDEsXG4gIFwiZHluYXRob21lLm5ldFwiOiAxLFxuICBcImR5bmRucy53c1wiOiAxLFxuICBcImVuZG9maW50ZXJuZXQubmV0XCI6IDEsXG4gIFwiZW5kb2ZpbnRlcm5ldC5vcmdcIjogMSxcbiAgXCJlbmRvZnRoZWludGVybmV0Lm9yZ1wiOiAxLFxuICBcImVzdC1hLWxhLW1haXNvbi5jb21cIjogMSxcbiAgXCJlc3QtYS1sYS1tYXNpb24uY29tXCI6IDEsXG4gIFwiZXN0LWxlLXBhdHJvbi5jb21cIjogMSxcbiAgXCJlc3QtbW9uLWJsb2d1ZXVyLmNvbVwiOiAxLFxuICBcImZvci1iZXR0ZXIuYml6XCI6IDEsXG4gIFwiZm9yLW1vcmUuYml6XCI6IDEsXG4gIFwiZm9yLW91ci5pbmZvXCI6IDEsXG4gIFwiZm9yLXNvbWUuYml6XCI6IDEsXG4gIFwiZm9yLXRoZS5iaXpcIjogMSxcbiAgXCJmb3Jnb3QuaGVyLm5hbWVcIjogMSxcbiAgXCJmb3Jnb3QuaGlzLm5hbWVcIjogMSxcbiAgXCJmcm9tLWFrLmNvbVwiOiAxLFxuICBcImZyb20tYWwuY29tXCI6IDEsXG4gIFwiZnJvbS1hci5jb21cIjogMSxcbiAgXCJmcm9tLWF6Lm5ldFwiOiAxLFxuICBcImZyb20tY2EuY29tXCI6IDEsXG4gIFwiZnJvbS1jby5uZXRcIjogMSxcbiAgXCJmcm9tLWN0LmNvbVwiOiAxLFxuICBcImZyb20tZGMuY29tXCI6IDEsXG4gIFwiZnJvbS1kZS5jb21cIjogMSxcbiAgXCJmcm9tLWZsLmNvbVwiOiAxLFxuICBcImZyb20tZ2EuY29tXCI6IDEsXG4gIFwiZnJvbS1oaS5jb21cIjogMSxcbiAgXCJmcm9tLWlhLmNvbVwiOiAxLFxuICBcImZyb20taWQuY29tXCI6IDEsXG4gIFwiZnJvbS1pbC5jb21cIjogMSxcbiAgXCJmcm9tLWluLmNvbVwiOiAxLFxuICBcImZyb20ta3MuY29tXCI6IDEsXG4gIFwiZnJvbS1reS5jb21cIjogMSxcbiAgXCJmcm9tLWxhLm5ldFwiOiAxLFxuICBcImZyb20tbWEuY29tXCI6IDEsXG4gIFwiZnJvbS1tZC5jb21cIjogMSxcbiAgXCJmcm9tLW1lLm9yZ1wiOiAxLFxuICBcImZyb20tbWkuY29tXCI6IDEsXG4gIFwiZnJvbS1tbi5jb21cIjogMSxcbiAgXCJmcm9tLW1vLmNvbVwiOiAxLFxuICBcImZyb20tbXMuY29tXCI6IDEsXG4gIFwiZnJvbS1tdC5jb21cIjogMSxcbiAgXCJmcm9tLW5jLmNvbVwiOiAxLFxuICBcImZyb20tbmQuY29tXCI6IDEsXG4gIFwiZnJvbS1uZS5jb21cIjogMSxcbiAgXCJmcm9tLW5oLmNvbVwiOiAxLFxuICBcImZyb20tbmouY29tXCI6IDEsXG4gIFwiZnJvbS1ubS5jb21cIjogMSxcbiAgXCJmcm9tLW52LmNvbVwiOiAxLFxuICBcImZyb20tbnkubmV0XCI6IDEsXG4gIFwiZnJvbS1vaC5jb21cIjogMSxcbiAgXCJmcm9tLW9rLmNvbVwiOiAxLFxuICBcImZyb20tb3IuY29tXCI6IDEsXG4gIFwiZnJvbS1wYS5jb21cIjogMSxcbiAgXCJmcm9tLXByLmNvbVwiOiAxLFxuICBcImZyb20tcmkuY29tXCI6IDEsXG4gIFwiZnJvbS1zYy5jb21cIjogMSxcbiAgXCJmcm9tLXNkLmNvbVwiOiAxLFxuICBcImZyb20tdG4uY29tXCI6IDEsXG4gIFwiZnJvbS10eC5jb21cIjogMSxcbiAgXCJmcm9tLXV0LmNvbVwiOiAxLFxuICBcImZyb20tdmEuY29tXCI6IDEsXG4gIFwiZnJvbS12dC5jb21cIjogMSxcbiAgXCJmcm9tLXdhLmNvbVwiOiAxLFxuICBcImZyb20td2kuY29tXCI6IDEsXG4gIFwiZnJvbS13di5jb21cIjogMSxcbiAgXCJmcm9tLXd5LmNvbVwiOiAxLFxuICBcImZ0cGFjY2Vzcy5jY1wiOiAxLFxuICBcImZ1ZXR0ZXJ0ZGFzbmV0ei5kZVwiOiAxLFxuICBcImdhbWUtaG9zdC5vcmdcIjogMSxcbiAgXCJnYW1lLXNlcnZlci5jY1wiOiAxLFxuICBcImdldG15aXAuY29tXCI6IDEsXG4gIFwiZ2V0cy1pdC5uZXRcIjogMSxcbiAgXCJnby5keW5kbnMub3JnXCI6IDEsXG4gIFwiZ290ZG5zLmNvbVwiOiAxLFxuICBcImdvdGRucy5vcmdcIjogMSxcbiAgXCJncm9rcy10aGUuaW5mb1wiOiAxLFxuICBcImdyb2tzLXRoaXMuaW5mb1wiOiAxLFxuICBcImhhbS1yYWRpby1vcC5uZXRcIjogMSxcbiAgXCJoZXJlLWZvci1tb3JlLmluZm9cIjogMSxcbiAgXCJob2JieS1zaXRlLmNvbVwiOiAxLFxuICBcImhvYmJ5LXNpdGUub3JnXCI6IDEsXG4gIFwiaG9tZS5keW5kbnMub3JnXCI6IDEsXG4gIFwiaG9tZWRucy5vcmdcIjogMSxcbiAgXCJob21lZnRwLm5ldFwiOiAxLFxuICBcImhvbWVmdHAub3JnXCI6IDEsXG4gIFwiaG9tZWlwLm5ldFwiOiAxLFxuICBcImhvbWVsaW51eC5jb21cIjogMSxcbiAgXCJob21lbGludXgubmV0XCI6IDEsXG4gIFwiaG9tZWxpbnV4Lm9yZ1wiOiAxLFxuICBcImhvbWV1bml4LmNvbVwiOiAxLFxuICBcImhvbWV1bml4Lm5ldFwiOiAxLFxuICBcImhvbWV1bml4Lm9yZ1wiOiAxLFxuICBcImlhbWFsbGFtYS5jb21cIjogMSxcbiAgXCJpbi10aGUtYmFuZC5uZXRcIjogMSxcbiAgXCJpcy1hLWFuYXJjaGlzdC5jb21cIjogMSxcbiAgXCJpcy1hLWJsb2dnZXIuY29tXCI6IDEsXG4gIFwiaXMtYS1ib29ra2VlcGVyLmNvbVwiOiAxLFxuICBcImlzLWEtYnJ1aW5zZmFuLm9yZ1wiOiAxLFxuICBcImlzLWEtYnVsbHMtZmFuLmNvbVwiOiAxLFxuICBcImlzLWEtY2FuZGlkYXRlLm9yZ1wiOiAxLFxuICBcImlzLWEtY2F0ZXJlci5jb21cIjogMSxcbiAgXCJpcy1hLWNlbHRpY3NmYW4ub3JnXCI6IDEsXG4gIFwiaXMtYS1jaGVmLmNvbVwiOiAxLFxuICBcImlzLWEtY2hlZi5uZXRcIjogMSxcbiAgXCJpcy1hLWNoZWYub3JnXCI6IDEsXG4gIFwiaXMtYS1jb25zZXJ2YXRpdmUuY29tXCI6IDEsXG4gIFwiaXMtYS1jcGEuY29tXCI6IDEsXG4gIFwiaXMtYS1jdWJpY2xlLXNsYXZlLmNvbVwiOiAxLFxuICBcImlzLWEtZGVtb2NyYXQuY29tXCI6IDEsXG4gIFwiaXMtYS1kZXNpZ25lci5jb21cIjogMSxcbiAgXCJpcy1hLWRvY3Rvci5jb21cIjogMSxcbiAgXCJpcy1hLWZpbmFuY2lhbGFkdmlzb3IuY29tXCI6IDEsXG4gIFwiaXMtYS1nZWVrLmNvbVwiOiAxLFxuICBcImlzLWEtZ2Vlay5uZXRcIjogMSxcbiAgXCJpcy1hLWdlZWsub3JnXCI6IDEsXG4gIFwiaXMtYS1ncmVlbi5jb21cIjogMSxcbiAgXCJpcy1hLWd1cnUuY29tXCI6IDEsXG4gIFwiaXMtYS1oYXJkLXdvcmtlci5jb21cIjogMSxcbiAgXCJpcy1hLWh1bnRlci5jb21cIjogMSxcbiAgXCJpcy1hLWtuaWdodC5vcmdcIjogMSxcbiAgXCJpcy1hLWxhbmRzY2FwZXIuY29tXCI6IDEsXG4gIFwiaXMtYS1sYXd5ZXIuY29tXCI6IDEsXG4gIFwiaXMtYS1saWJlcmFsLmNvbVwiOiAxLFxuICBcImlzLWEtbGliZXJ0YXJpYW4uY29tXCI6IDEsXG4gIFwiaXMtYS1saW51eC11c2VyLm9yZ1wiOiAxLFxuICBcImlzLWEtbGxhbWEuY29tXCI6IDEsXG4gIFwiaXMtYS1tdXNpY2lhbi5jb21cIjogMSxcbiAgXCJpcy1hLW5hc2NhcmZhbi5jb21cIjogMSxcbiAgXCJpcy1hLW51cnNlLmNvbVwiOiAxLFxuICBcImlzLWEtcGFpbnRlci5jb21cIjogMSxcbiAgXCJpcy1hLXBhdHNmYW4ub3JnXCI6IDEsXG4gIFwiaXMtYS1wZXJzb25hbHRyYWluZXIuY29tXCI6IDEsXG4gIFwiaXMtYS1waG90b2dyYXBoZXIuY29tXCI6IDEsXG4gIFwiaXMtYS1wbGF5ZXIuY29tXCI6IDEsXG4gIFwiaXMtYS1yZXB1YmxpY2FuLmNvbVwiOiAxLFxuICBcImlzLWEtcm9ja3N0YXIuY29tXCI6IDEsXG4gIFwiaXMtYS1zb2NpYWxpc3QuY29tXCI6IDEsXG4gIFwiaXMtYS1zb3hmYW4ub3JnXCI6IDEsXG4gIFwiaXMtYS1zdHVkZW50LmNvbVwiOiAxLFxuICBcImlzLWEtdGVhY2hlci5jb21cIjogMSxcbiAgXCJpcy1hLXRlY2hpZS5jb21cIjogMSxcbiAgXCJpcy1hLXRoZXJhcGlzdC5jb21cIjogMSxcbiAgXCJpcy1hbi1hY2NvdW50YW50LmNvbVwiOiAxLFxuICBcImlzLWFuLWFjdG9yLmNvbVwiOiAxLFxuICBcImlzLWFuLWFjdHJlc3MuY29tXCI6IDEsXG4gIFwiaXMtYW4tYW5hcmNoaXN0LmNvbVwiOiAxLFxuICBcImlzLWFuLWFydGlzdC5jb21cIjogMSxcbiAgXCJpcy1hbi1lbmdpbmVlci5jb21cIjogMSxcbiAgXCJpcy1hbi1lbnRlcnRhaW5lci5jb21cIjogMSxcbiAgXCJpcy1ieS51c1wiOiAxLFxuICBcImlzLWNlcnRpZmllZC5jb21cIjogMSxcbiAgXCJpcy1mb3VuZC5vcmdcIjogMSxcbiAgXCJpcy1nb25lLmNvbVwiOiAxLFxuICBcImlzLWludG8tYW5pbWUuY29tXCI6IDEsXG4gIFwiaXMtaW50by1jYXJzLmNvbVwiOiAxLFxuICBcImlzLWludG8tY2FydG9vbnMuY29tXCI6IDEsXG4gIFwiaXMtaW50by1nYW1lcy5jb21cIjogMSxcbiAgXCJpcy1sZWV0LmNvbVwiOiAxLFxuICBcImlzLWxvc3Qub3JnXCI6IDEsXG4gIFwiaXMtbm90LWNlcnRpZmllZC5jb21cIjogMSxcbiAgXCJpcy1zYXZlZC5vcmdcIjogMSxcbiAgXCJpcy1zbGljay5jb21cIjogMSxcbiAgXCJpcy11YmVybGVldC5jb21cIjogMSxcbiAgXCJpcy12ZXJ5LWJhZC5vcmdcIjogMSxcbiAgXCJpcy12ZXJ5LWV2aWwub3JnXCI6IDEsXG4gIFwiaXMtdmVyeS1nb29kLm9yZ1wiOiAxLFxuICBcImlzLXZlcnktbmljZS5vcmdcIjogMSxcbiAgXCJpcy12ZXJ5LXN3ZWV0Lm9yZ1wiOiAxLFxuICBcImlzLXdpdGgtdGhlYmFuZC5jb21cIjogMSxcbiAgXCJpc2EtZ2Vlay5jb21cIjogMSxcbiAgXCJpc2EtZ2Vlay5uZXRcIjogMSxcbiAgXCJpc2EtZ2Vlay5vcmdcIjogMSxcbiAgXCJpc2EtaG9ja2V5bnV0LmNvbVwiOiAxLFxuICBcImlzc21hcnRlcnRoYW55b3UuY29tXCI6IDEsXG4gIFwiaXN0ZWluZ2Vlay5kZVwiOiAxLFxuICBcImlzdG1laW4uZGVcIjogMSxcbiAgXCJraWNrcy1hc3MubmV0XCI6IDEsXG4gIFwia2lja3MtYXNzLm9yZ1wiOiAxLFxuICBcImtub3dzaXRhbGwuaW5mb1wiOiAxLFxuICBcImxhbmQtNC1zYWxlLnVzXCI6IDEsXG4gIFwibGVidGltbmV0ei5kZVwiOiAxLFxuICBcImxlaXR1bmdzZW4uZGVcIjogMSxcbiAgXCJsaWtlcy1waWUuY29tXCI6IDEsXG4gIFwibGlrZXNjYW5keS5jb21cIjogMSxcbiAgXCJtZXJzZWluZS5udVwiOiAxLFxuICBcIm1pbmUubnVcIjogMSxcbiAgXCJtaXNjb25mdXNlZC5vcmdcIjogMSxcbiAgXCJteXBldHMud3NcIjogMSxcbiAgXCJteXBob3Rvcy5jY1wiOiAxLFxuICBcIm5lYXQtdXJsLmNvbVwiOiAxLFxuICBcIm9mZmljZS1vbi10aGUubmV0XCI6IDEsXG4gIFwib24tdGhlLXdlYi50dlwiOiAxLFxuICBcInBvZHpvbmUubmV0XCI6IDEsXG4gIFwicG9kem9uZS5vcmdcIjogMSxcbiAgXCJyZWFkbXlibG9nLm9yZ1wiOiAxLFxuICBcInNhdmVzLXRoZS13aGFsZXMuY29tXCI6IDEsXG4gIFwic2NyYXBwZXItc2l0ZS5uZXRcIjogMSxcbiAgXCJzY3JhcHBpbmcuY2NcIjogMSxcbiAgXCJzZWxmaXAuYml6XCI6IDEsXG4gIFwic2VsZmlwLmNvbVwiOiAxLFxuICBcInNlbGZpcC5pbmZvXCI6IDEsXG4gIFwic2VsZmlwLm5ldFwiOiAxLFxuICBcInNlbGZpcC5vcmdcIjogMSxcbiAgXCJzZWxscy1mb3ItbGVzcy5jb21cIjogMSxcbiAgXCJzZWxscy1mb3ItdS5jb21cIjogMSxcbiAgXCJzZWxscy1pdC5uZXRcIjogMSxcbiAgXCJzZWxsc3lvdXJob21lLm9yZ1wiOiAxLFxuICBcInNlcnZlYmJzLmNvbVwiOiAxLFxuICBcInNlcnZlYmJzLm5ldFwiOiAxLFxuICBcInNlcnZlYmJzLm9yZ1wiOiAxLFxuICBcInNlcnZlZnRwLm5ldFwiOiAxLFxuICBcInNlcnZlZnRwLm9yZ1wiOiAxLFxuICBcInNlcnZlZ2FtZS5vcmdcIjogMSxcbiAgXCJzaGFja25ldC5udVwiOiAxLFxuICBcInNpbXBsZS11cmwuY29tXCI6IDEsXG4gIFwic3BhY2UtdG8tcmVudC5jb21cIjogMSxcbiAgXCJzdHVmZi00LXNhbGUub3JnXCI6IDEsXG4gIFwic3R1ZmYtNC1zYWxlLnVzXCI6IDEsXG4gIFwidGVhY2hlcy15b2dhLmNvbVwiOiAxLFxuICBcInRocnVoZXJlLm5ldFwiOiAxLFxuICBcInRyYWV1bXRnZXJhZGUuZGVcIjogMSxcbiAgXCJ3ZWJob3AuYml6XCI6IDEsXG4gIFwid2ViaG9wLmluZm9cIjogMSxcbiAgXCJ3ZWJob3AubmV0XCI6IDEsXG4gIFwid2ViaG9wLm9yZ1wiOiAxLFxuICBcIndvcnNlLXRoYW4udHZcIjogMSxcbiAgXCJ3cml0ZXN0aGlzYmxvZy5jb21cIjogMSxcbiAgXCJkZG5zcy5kZVwiOiAxLFxuICBcImR5bi5kZG5zcy5kZVwiOiAxLFxuICBcImR5bmRucy5kZG5zcy5kZVwiOiAxLFxuICBcImR5bmRuczEuZGVcIjogMSxcbiAgXCJkeW4taXAyNC5kZVwiOiAxLFxuICBcImhvbWUtd2Vic2VydmVyLmRlXCI6IDEsXG4gIFwiZHluLmhvbWUtd2Vic2VydmVyLmRlXCI6IDEsXG4gIFwibXlob21lLXNlcnZlci5kZVwiOiAxLFxuICBcImRkbnNzLm9yZ1wiOiAxLFxuICBcImRlZmluaW1hLm5ldFwiOiAxLFxuICBcImRlZmluaW1hLmlvXCI6IDEsXG4gIFwib25kaWdpdGFsb2NlYW4uYXBwXCI6IDEsXG4gIFwiZGlnaXRhbG9jZWFuc3BhY2VzLmNvbVwiOiAyLFxuICBcImJjaS5kbnN0cmFjZS5wcm9cIjogMSxcbiAgXCJkZG5zZnJlZS5jb21cIjogMSxcbiAgXCJkZG5zZ2Vlay5jb21cIjogMSxcbiAgXCJnaWl6ZS5jb21cIjogMSxcbiAgXCJnbGVlemUuY29tXCI6IDEsXG4gIFwia296b3cuY29tXCI6IDEsXG4gIFwibG9zZXlvdXJpcC5jb21cIjogMSxcbiAgXCJvb2d1eS5jb21cIjogMSxcbiAgXCJ0aGV3b3JrcGMuY29tXCI6IDEsXG4gIFwiY2FzYWNhbS5uZXRcIjogMSxcbiAgXCJkeW51Lm5ldFwiOiAxLFxuICBcImFjY2Vzc2NhbS5vcmdcIjogMSxcbiAgXCJjYW1kdnIub3JnXCI6IDEsXG4gIFwiZnJlZWRkbnMub3JnXCI6IDEsXG4gIFwibXl3aXJlLm9yZ1wiOiAxLFxuICBcIndlYnJlZGlyZWN0Lm9yZ1wiOiAxLFxuICBcIm15ZGRucy5yb2Nrc1wiOiAxLFxuICBcImJsb2dzaXRlLnh5elwiOiAxLFxuICBcImR5bnY2Lm5ldFwiOiAxLFxuICBcImU0LmN6XCI6IDEsXG4gIFwiZWFzeXBhbmVsLmFwcFwiOiAxLFxuICBcImVhc3lwYW5lbC5ob3N0XCI6IDEsXG4gIFwiZWxlbWVudG9yLmNsb3VkXCI6IDEsXG4gIFwiZWxlbWVudG9yLmNvb2xcIjogMSxcbiAgXCJlbi1yb290LmZyXCI6IDEsXG4gIFwibXl0dWxlYXAuY29tXCI6IDEsXG4gIFwidHVsZWFwLXBhcnRuZXJzLmNvbVwiOiAxLFxuICBcImVuY3IuYXBwXCI6IDEsXG4gIFwiZW5jb3JlYXBpLmNvbVwiOiAxLFxuICBcIm9ucmVkLm9uZVwiOiAxLFxuICBcInN0YWdpbmcub25yZWQub25lXCI6IDEsXG4gIFwiZXUuZW5jb3dheS5jbG91ZFwiOiAxLFxuICBcImV1Lm9yZ1wiOiAxLFxuICBcImFsLmV1Lm9yZ1wiOiAxLFxuICBcImFzc28uZXUub3JnXCI6IDEsXG4gIFwiYXQuZXUub3JnXCI6IDEsXG4gIFwiYXUuZXUub3JnXCI6IDEsXG4gIFwiYmUuZXUub3JnXCI6IDEsXG4gIFwiYmcuZXUub3JnXCI6IDEsXG4gIFwiY2EuZXUub3JnXCI6IDEsXG4gIFwiY2QuZXUub3JnXCI6IDEsXG4gIFwiY2guZXUub3JnXCI6IDEsXG4gIFwiY24uZXUub3JnXCI6IDEsXG4gIFwiY3kuZXUub3JnXCI6IDEsXG4gIFwiY3ouZXUub3JnXCI6IDEsXG4gIFwiZGUuZXUub3JnXCI6IDEsXG4gIFwiZGsuZXUub3JnXCI6IDEsXG4gIFwiZWR1LmV1Lm9yZ1wiOiAxLFxuICBcImVlLmV1Lm9yZ1wiOiAxLFxuICBcImVzLmV1Lm9yZ1wiOiAxLFxuICBcImZpLmV1Lm9yZ1wiOiAxLFxuICBcImZyLmV1Lm9yZ1wiOiAxLFxuICBcImdyLmV1Lm9yZ1wiOiAxLFxuICBcImhyLmV1Lm9yZ1wiOiAxLFxuICBcImh1LmV1Lm9yZ1wiOiAxLFxuICBcImllLmV1Lm9yZ1wiOiAxLFxuICBcImlsLmV1Lm9yZ1wiOiAxLFxuICBcImluLmV1Lm9yZ1wiOiAxLFxuICBcImludC5ldS5vcmdcIjogMSxcbiAgXCJpcy5ldS5vcmdcIjogMSxcbiAgXCJpdC5ldS5vcmdcIjogMSxcbiAgXCJqcC5ldS5vcmdcIjogMSxcbiAgXCJrci5ldS5vcmdcIjogMSxcbiAgXCJsdC5ldS5vcmdcIjogMSxcbiAgXCJsdS5ldS5vcmdcIjogMSxcbiAgXCJsdi5ldS5vcmdcIjogMSxcbiAgXCJtYy5ldS5vcmdcIjogMSxcbiAgXCJtZS5ldS5vcmdcIjogMSxcbiAgXCJtay5ldS5vcmdcIjogMSxcbiAgXCJtdC5ldS5vcmdcIjogMSxcbiAgXCJteS5ldS5vcmdcIjogMSxcbiAgXCJuZXQuZXUub3JnXCI6IDEsXG4gIFwibmcuZXUub3JnXCI6IDEsXG4gIFwibmwuZXUub3JnXCI6IDEsXG4gIFwibm8uZXUub3JnXCI6IDEsXG4gIFwibnouZXUub3JnXCI6IDEsXG4gIFwicGFyaXMuZXUub3JnXCI6IDEsXG4gIFwicGwuZXUub3JnXCI6IDEsXG4gIFwicHQuZXUub3JnXCI6IDEsXG4gIFwicS1hLmV1Lm9yZ1wiOiAxLFxuICBcInJvLmV1Lm9yZ1wiOiAxLFxuICBcInJ1LmV1Lm9yZ1wiOiAxLFxuICBcInNlLmV1Lm9yZ1wiOiAxLFxuICBcInNpLmV1Lm9yZ1wiOiAxLFxuICBcInNrLmV1Lm9yZ1wiOiAxLFxuICBcInRyLmV1Lm9yZ1wiOiAxLFxuICBcInVrLmV1Lm9yZ1wiOiAxLFxuICBcInVzLmV1Lm9yZ1wiOiAxLFxuICBcImV1cm9kaXIucnVcIjogMSxcbiAgXCJldS0xLmV2ZW5ub2RlLmNvbVwiOiAxLFxuICBcImV1LTIuZXZlbm5vZGUuY29tXCI6IDEsXG4gIFwiZXUtMy5ldmVubm9kZS5jb21cIjogMSxcbiAgXCJldS00LmV2ZW5ub2RlLmNvbVwiOiAxLFxuICBcInVzLTEuZXZlbm5vZGUuY29tXCI6IDEsXG4gIFwidXMtMi5ldmVubm9kZS5jb21cIjogMSxcbiAgXCJ1cy0zLmV2ZW5ub2RlLmNvbVwiOiAxLFxuICBcInVzLTQuZXZlbm5vZGUuY29tXCI6IDEsXG4gIFwidHdtYWlsLmNjXCI6IDEsXG4gIFwidHdtYWlsLm5ldFwiOiAxLFxuICBcInR3bWFpbC5vcmdcIjogMSxcbiAgXCJteW1haWxlci5jb20udHdcIjogMSxcbiAgXCJ1cmwudHdcIjogMSxcbiAgXCJvbmZhYnJpY2EuY29tXCI6IDEsXG4gIFwiYXBwcy5mYnNieC5jb21cIjogMSxcbiAgXCJydS5uZXRcIjogMSxcbiAgXCJhZHlnZXlhLnJ1XCI6IDEsXG4gIFwiYmFzaGtpcmlhLnJ1XCI6IDEsXG4gIFwiYmlyLnJ1XCI6IDEsXG4gIFwiY2JnLnJ1XCI6IDEsXG4gIFwiY29tLnJ1XCI6IDEsXG4gIFwiZGFnZXN0YW4ucnVcIjogMSxcbiAgXCJncm96bnkucnVcIjogMSxcbiAgXCJrYWxteWtpYS5ydVwiOiAxLFxuICBcImt1c3RhbmFpLnJ1XCI6IDEsXG4gIFwibWFyaW5lLnJ1XCI6IDEsXG4gIFwibW9yZG92aWEucnVcIjogMSxcbiAgXCJtc2sucnVcIjogMSxcbiAgXCJteXRpcy5ydVwiOiAxLFxuICBcIm5hbGNoaWsucnVcIjogMSxcbiAgXCJub3YucnVcIjogMSxcbiAgXCJweWF0aWdvcnNrLnJ1XCI6IDEsXG4gIFwic3BiLnJ1XCI6IDEsXG4gIFwidmxhZGlrYXZrYXoucnVcIjogMSxcbiAgXCJ2bGFkaW1pci5ydVwiOiAxLFxuICBcImFia2hhemlhLnN1XCI6IDEsXG4gIFwiYWR5Z2V5YS5zdVwiOiAxLFxuICBcImFrdHl1Ymluc2suc3VcIjogMSxcbiAgXCJhcmtoYW5nZWxzay5zdVwiOiAxLFxuICBcImFybWVuaWEuc3VcIjogMSxcbiAgXCJhc2hnYWJhZC5zdVwiOiAxLFxuICBcImF6ZXJiYWlqYW4uc3VcIjogMSxcbiAgXCJiYWxhc2hvdi5zdVwiOiAxLFxuICBcImJhc2hraXJpYS5zdVwiOiAxLFxuICBcImJyeWFuc2suc3VcIjogMSxcbiAgXCJidWtoYXJhLnN1XCI6IDEsXG4gIFwiY2hpbWtlbnQuc3VcIjogMSxcbiAgXCJkYWdlc3Rhbi5zdVwiOiAxLFxuICBcImVhc3Qta2F6YWtoc3Rhbi5zdVwiOiAxLFxuICBcImV4bmV0LnN1XCI6IDEsXG4gIFwiZ2VvcmdpYS5zdVwiOiAxLFxuICBcImdyb3pueS5zdVwiOiAxLFxuICBcIml2YW5vdm8uc3VcIjogMSxcbiAgXCJqYW1ieWwuc3VcIjogMSxcbiAgXCJrYWxteWtpYS5zdVwiOiAxLFxuICBcImthbHVnYS5zdVwiOiAxLFxuICBcImthcmFjb2wuc3VcIjogMSxcbiAgXCJrYXJhZ2FuZGEuc3VcIjogMSxcbiAgXCJrYXJlbGlhLnN1XCI6IDEsXG4gIFwia2hha2Fzc2lhLnN1XCI6IDEsXG4gIFwia3Jhc25vZGFyLnN1XCI6IDEsXG4gIFwia3VyZ2FuLnN1XCI6IDEsXG4gIFwia3VzdGFuYWkuc3VcIjogMSxcbiAgXCJsZW51Zy5zdVwiOiAxLFxuICBcIm1hbmd5c2hsYWsuc3VcIjogMSxcbiAgXCJtb3Jkb3ZpYS5zdVwiOiAxLFxuICBcIm1zay5zdVwiOiAxLFxuICBcIm11cm1hbnNrLnN1XCI6IDEsXG4gIFwibmFsY2hpay5zdVwiOiAxLFxuICBcIm5hdm9pLnN1XCI6IDEsXG4gIFwibm9ydGgta2F6YWtoc3Rhbi5zdVwiOiAxLFxuICBcIm5vdi5zdVwiOiAxLFxuICBcIm9ibmluc2suc3VcIjogMSxcbiAgXCJwZW56YS5zdVwiOiAxLFxuICBcInBva3JvdnNrLnN1XCI6IDEsXG4gIFwic29jaGkuc3VcIjogMSxcbiAgXCJzcGIuc3VcIjogMSxcbiAgXCJ0YXNoa2VudC5zdVwiOiAxLFxuICBcInRlcm1lei5zdVwiOiAxLFxuICBcInRvZ2xpYXR0aS5zdVwiOiAxLFxuICBcInRyb2l0c2suc3VcIjogMSxcbiAgXCJ0c2VsaW5vZ3JhZC5zdVwiOiAxLFxuICBcInR1bGEuc3VcIjogMSxcbiAgXCJ0dXZhLnN1XCI6IDEsXG4gIFwidmxhZGlrYXZrYXouc3VcIjogMSxcbiAgXCJ2bGFkaW1pci5zdVwiOiAxLFxuICBcInZvbG9nZGEuc3VcIjogMSxcbiAgXCJjaGFubmVsc2R2ci5uZXRcIjogMSxcbiAgXCJ1LmNoYW5uZWxzZHZyLm5ldFwiOiAxLFxuICBcImVkZ2Vjb21wdXRlLmFwcFwiOiAxLFxuICBcImZhc3RseS1lZGdlLmNvbVwiOiAxLFxuICBcImZhc3RseS10ZXJyYXJpdW0uY29tXCI6IDEsXG4gIFwiZmFzdGx5bGIubmV0XCI6IDEsXG4gIFwibWFwLmZhc3RseWxiLm5ldFwiOiAxLFxuICBcImZyZWV0bHMuZmFzdGx5Lm5ldFwiOiAxLFxuICBcIm1hcC5mYXN0bHkubmV0XCI6IDEsXG4gIFwiYS5wcm9kLmZhc3RseS5uZXRcIjogMSxcbiAgXCJnbG9iYWwucHJvZC5mYXN0bHkubmV0XCI6IDEsXG4gIFwiYS5zc2wuZmFzdGx5Lm5ldFwiOiAxLFxuICBcImIuc3NsLmZhc3RseS5uZXRcIjogMSxcbiAgXCJnbG9iYWwuc3NsLmZhc3RseS5uZXRcIjogMSxcbiAgXCJ1c2VyLmZtXCI6IDIsXG4gIFwiZmFzdHZwcy1zZXJ2ZXIuY29tXCI6IDEsXG4gIFwiZmFzdHZwcy5ob3N0XCI6IDEsXG4gIFwibXlmYXN0Lmhvc3RcIjogMSxcbiAgXCJmYXN0dnBzLnNpdGVcIjogMSxcbiAgXCJteWZhc3Quc3BhY2VcIjogMSxcbiAgXCJmZWRvcmFpbmZyYWNsb3VkLm9yZ1wiOiAxLFxuICBcImZlZG9yYXBlb3BsZS5vcmdcIjogMSxcbiAgXCJjbG91ZC5mZWRvcmFwcm9qZWN0Lm9yZ1wiOiAxLFxuICBcImFwcC5vcy5mZWRvcmFwcm9qZWN0Lm9yZ1wiOiAxLFxuICBcImFwcC5vcy5zdGcuZmVkb3JhcHJvamVjdC5vcmdcIjogMSxcbiAgXCJjb25uLnVrXCI6IDEsXG4gIFwiY29wcm8udWtcIjogMSxcbiAgXCJob3NwLnVrXCI6IDEsXG4gIFwibXlkb2Jpc3MuY29tXCI6IDEsXG4gIFwiZmgtbXVlbnN0ZXIuaW9cIjogMSxcbiAgXCJmaWxlZ2Vhci5tZVwiOiAxLFxuICBcImZpbGVnZWFyLWF1Lm1lXCI6IDEsXG4gIFwiZmlsZWdlYXItZGUubWVcIjogMSxcbiAgXCJmaWxlZ2Vhci1nYi5tZVwiOiAxLFxuICBcImZpbGVnZWFyLWllLm1lXCI6IDEsXG4gIFwiZmlsZWdlYXItanAubWVcIjogMSxcbiAgXCJmaWxlZ2Vhci1zZy5tZVwiOiAxLFxuICBcImZpcmViYXNlYXBwLmNvbVwiOiAxLFxuICBcImZpcmV3ZWIuYXBwXCI6IDEsXG4gIFwiZmxhcC5pZFwiOiAxLFxuICBcIm9uZmxhc2hkcml2ZS5hcHBcIjogMSxcbiAgXCJmbGRydi5jb21cIjogMSxcbiAgXCJmbHkuZGV2XCI6IDEsXG4gIFwiZWRnZWFwcC5uZXRcIjogMSxcbiAgXCJzaHcuaW9cIjogMSxcbiAgXCJmbHlubmhvc3RpbmcubmV0XCI6IDEsXG4gIFwiZm9yZ2VibG9ja3MuY29tXCI6IDEsXG4gIFwiaWQuZm9yZ2Vyb2NrLmlvXCI6IDEsXG4gIFwiZnJhbWVyLmFwcFwiOiAxLFxuICBcImZyYW1lcmNhbnZhcy5jb21cIjogMSxcbiAgXCJmcmFtZXIubWVkaWFcIjogMSxcbiAgXCJmcmFtZXIucGhvdG9zXCI6IDEsXG4gIFwiZnJhbWVyLndlYnNpdGVcIjogMSxcbiAgXCJmcmFtZXIud2lraVwiOiAxLFxuICBcImZydXNreS5kZVwiOiAyLFxuICBcInJhdnBhZ2UuY28uaWxcIjogMSxcbiAgXCIwZS52Y1wiOiAxLFxuICBcImZyZWVib3gtb3MuY29tXCI6IDEsXG4gIFwiZnJlZWJveG9zLmNvbVwiOiAxLFxuICBcImZieC1vcy5mclwiOiAxLFxuICBcImZieG9zLmZyXCI6IDEsXG4gIFwiZnJlZWJveC1vcy5mclwiOiAxLFxuICBcImZyZWVib3hvcy5mclwiOiAxLFxuICBcImZyZWVkZXNrdG9wLm9yZ1wiOiAxLFxuICBcImZyZWVteWlwLmNvbVwiOiAxLFxuICBcIndpZW4uZnVua2ZldWVyLmF0XCI6IDEsXG4gIFwiZnV0dXJlY21zLmF0XCI6IDIsXG4gIFwiZXguZnV0dXJlY21zLmF0XCI6IDIsXG4gIFwiaW4uZnV0dXJlY21zLmF0XCI6IDIsXG4gIFwiZnV0dXJlaG9zdGluZy5hdFwiOiAxLFxuICBcImZ1dHVyZW1haWxpbmcuYXRcIjogMSxcbiAgXCJleC5vcnRzaW5mby5hdFwiOiAyLFxuICBcImt1bmRlbi5vcnRzaW5mby5hdFwiOiAyLFxuICBcInN0YXRpY3MuY2xvdWRcIjogMixcbiAgXCJpbmRlcGVuZGVudC1jb21taXNzaW9uLnVrXCI6IDEsXG4gIFwiaW5kZXBlbmRlbnQtaW5xdWVzdC51a1wiOiAxLFxuICBcImluZGVwZW5kZW50LWlucXVpcnkudWtcIjogMSxcbiAgXCJpbmRlcGVuZGVudC1wYW5lbC51a1wiOiAxLFxuICBcImluZGVwZW5kZW50LXJldmlldy51a1wiOiAxLFxuICBcInB1YmxpYy1pbnF1aXJ5LnVrXCI6IDEsXG4gIFwicm95YWwtY29tbWlzc2lvbi51a1wiOiAxLFxuICBcImNhbXBhaWduLmdvdi51a1wiOiAxLFxuICBcInNlcnZpY2UuZ292LnVrXCI6IDEsXG4gIFwiYXBpLmdvdi51a1wiOiAxLFxuICBcImdlaGlybi5uZS5qcFwiOiAxLFxuICBcInVzZXJjb250ZW50LmpwXCI6IDEsXG4gIFwiZ2VudGFwcHMuY29tXCI6IDEsXG4gIFwiZ2VudGxlbnRhcGlzLmNvbVwiOiAxLFxuICBcImxhYi5tc1wiOiAxLFxuICBcImNkbi1lZGdlcy5uZXRcIjogMSxcbiAgXCJnaG9zdC5pb1wiOiAxLFxuICBcImdzai5ielwiOiAxLFxuICBcImdpdGh1YnVzZXJjb250ZW50LmNvbVwiOiAxLFxuICBcImdpdGh1YnByZXZpZXcuZGV2XCI6IDEsXG4gIFwiZ2l0aHViLmlvXCI6IDEsXG4gIFwiZ2l0bGFiLmlvXCI6IDEsXG4gIFwiZ2l0YXBwLnNpXCI6IDEsXG4gIFwiZ2l0cGFnZS5zaVwiOiAxLFxuICBcImdsaXRjaC5tZVwiOiAxLFxuICBcIm5vZy5jb21tdW5pdHlcIjogMSxcbiAgXCJjby5yb1wiOiAxLFxuICBcInNob3Aucm9cIjogMSxcbiAgXCJsb2xpcG9wLmlvXCI6IDEsXG4gIFwiYW5ncnkuanBcIjogMSxcbiAgXCJiYWJ5Ymx1ZS5qcFwiOiAxLFxuICBcImJhYnltaWxrLmpwXCI6IDEsXG4gIFwiYmFja2Ryb3AuanBcIjogMSxcbiAgXCJiYW1iaW5hLmpwXCI6IDEsXG4gIFwiYml0dGVyLmpwXCI6IDEsXG4gIFwiYmx1c2guanBcIjogMSxcbiAgXCJib28uanBcIjogMSxcbiAgXCJib3kuanBcIjogMSxcbiAgXCJib3lmcmllbmQuanBcIjogMSxcbiAgXCJidXQuanBcIjogMSxcbiAgXCJjYW5keXBvcC5qcFwiOiAxLFxuICBcImNhcG9vLmpwXCI6IDEsXG4gIFwiY2F0Zm9vZC5qcFwiOiAxLFxuICBcImNoZWFwLmpwXCI6IDEsXG4gIFwiY2hpY2FwcGEuanBcIjogMSxcbiAgXCJjaGlsbG91dC5qcFwiOiAxLFxuICBcImNoaXBzLmpwXCI6IDEsXG4gIFwiY2hvd2Rlci5qcFwiOiAxLFxuICBcImNodS5qcFwiOiAxLFxuICBcImNpYW8uanBcIjogMSxcbiAgXCJjb2NvdHRlLmpwXCI6IDEsXG4gIFwiY29vbGJsb2cuanBcIjogMSxcbiAgXCJjcmFua3kuanBcIjogMSxcbiAgXCJjdXRlZ2lybC5qcFwiOiAxLFxuICBcImRhYS5qcFwiOiAxLFxuICBcImRlY2EuanBcIjogMSxcbiAgXCJkZWNpLmpwXCI6IDEsXG4gIFwiZGlnaWNrLmpwXCI6IDEsXG4gIFwiZWdvaXNtLmpwXCI6IDEsXG4gIFwiZmFrZWZ1ci5qcFwiOiAxLFxuICBcImZlbS5qcFwiOiAxLFxuICBcImZsaWVyLmpwXCI6IDEsXG4gIFwiZmxvcHB5LmpwXCI6IDEsXG4gIFwiZm9vbC5qcFwiOiAxLFxuICBcImZyZW5jaGtpc3MuanBcIjogMSxcbiAgXCJnaXJsZnJpZW5kLmpwXCI6IDEsXG4gIFwiZ2lybHkuanBcIjogMSxcbiAgXCJnbG9vbXkuanBcIjogMSxcbiAgXCJnb25uYS5qcFwiOiAxLFxuICBcImdyZWF0ZXIuanBcIjogMSxcbiAgXCJoYWNjYS5qcFwiOiAxLFxuICBcImhlYXZ5LmpwXCI6IDEsXG4gIFwiaGVyLmpwXCI6IDEsXG4gIFwiaGloby5qcFwiOiAxLFxuICBcImhpcHB5LmpwXCI6IDEsXG4gIFwiaG9seS5qcFwiOiAxLFxuICBcImh1bmdyeS5qcFwiOiAxLFxuICBcImljdXJ1cy5qcFwiOiAxLFxuICBcIml0aWdvLmpwXCI6IDEsXG4gIFwiamVsbHliZWFuLmpwXCI6IDEsXG4gIFwia2lraXJhcmEuanBcIjogMSxcbiAgXCJraWxsLmpwXCI6IDEsXG4gIFwia2lsby5qcFwiOiAxLFxuICBcImt1cm9uLmpwXCI6IDEsXG4gIFwibGl0dGxlc3Rhci5qcFwiOiAxLFxuICBcImxvbGlwb3BtYy5qcFwiOiAxLFxuICBcImxvbGl0YXB1bmsuanBcIjogMSxcbiAgXCJsb21vLmpwXCI6IDEsXG4gIFwibG92ZXBvcC5qcFwiOiAxLFxuICBcImxvdmVzaWNrLmpwXCI6IDEsXG4gIFwibWFpbi5qcFwiOiAxLFxuICBcIm1vZHMuanBcIjogMSxcbiAgXCJtb25kLmpwXCI6IDEsXG4gIFwibW9uZ29saWFuLmpwXCI6IDEsXG4gIFwibW9vLmpwXCI6IDEsXG4gIFwibmFtYXN0ZS5qcFwiOiAxLFxuICBcIm5pa2l0YS5qcFwiOiAxLFxuICBcIm5vYnVzaGkuanBcIjogMSxcbiAgXCJub29yLmpwXCI6IDEsXG4gIFwib29wcy5qcFwiOiAxLFxuICBcInBhcmFsbGVsLmpwXCI6IDEsXG4gIFwicGFyYXNpdGUuanBcIjogMSxcbiAgXCJwZWNvcmkuanBcIjogMSxcbiAgXCJwZWV3ZWUuanBcIjogMSxcbiAgXCJwZW5uZS5qcFwiOiAxLFxuICBcInBlcHBlci5qcFwiOiAxLFxuICBcInBlcm1hLmpwXCI6IDEsXG4gIFwicGlnYm9hdC5qcFwiOiAxLFxuICBcInBpbm9rby5qcFwiOiAxLFxuICBcInB1bnl1LmpwXCI6IDEsXG4gIFwicHVwdS5qcFwiOiAxLFxuICBcInB1c3N5Y2F0LmpwXCI6IDEsXG4gIFwicHlhLmpwXCI6IDEsXG4gIFwicmFpbmRyb3AuanBcIjogMSxcbiAgXCJyZWFkeW1hZGUuanBcIjogMSxcbiAgXCJzYWRpc3QuanBcIjogMSxcbiAgXCJzY2hvb2xidXMuanBcIjogMSxcbiAgXCJzZWNyZXQuanBcIjogMSxcbiAgXCJzdGFiYS5qcFwiOiAxLFxuICBcInN0cmlwcGVyLmpwXCI6IDEsXG4gIFwic3ViLmpwXCI6IDEsXG4gIFwic3VubnlkYXkuanBcIjogMSxcbiAgXCJ0aGljay5qcFwiOiAxLFxuICBcInRvbmtvdHN1LmpwXCI6IDEsXG4gIFwidW5kZXIuanBcIjogMSxcbiAgXCJ1cHBlci5qcFwiOiAxLFxuICBcInZlbHZldC5qcFwiOiAxLFxuICBcInZlcnNlLmpwXCI6IDEsXG4gIFwidmVyc3VzLmpwXCI6IDEsXG4gIFwidml2aWFuLmpwXCI6IDEsXG4gIFwid2F0c29uLmpwXCI6IDEsXG4gIFwid2VibGlrZS5qcFwiOiAxLFxuICBcIndoaXRlc25vdy5qcFwiOiAxLFxuICBcInpvbWJpZS5qcFwiOiAxLFxuICBcImhldGVtbC5uZXRcIjogMSxcbiAgXCJjbG91ZGFwcHMuZGlnaXRhbFwiOiAxLFxuICBcImxvbmRvbi5jbG91ZGFwcHMuZGlnaXRhbFwiOiAxLFxuICBcInB5bW50LnVrXCI6IDEsXG4gIFwiaG9tZW9mZmljZS5nb3YudWtcIjogMSxcbiAgXCJyby5pbVwiOiAxLFxuICBcImdvaXAuZGVcIjogMSxcbiAgXCJydW4uYXBwXCI6IDEsXG4gIFwiYS5ydW4uYXBwXCI6IDEsXG4gIFwid2ViLmFwcFwiOiAxLFxuICBcIjBlbW0uY29tXCI6IDIsXG4gIFwiYXBwc3BvdC5jb21cIjogMSxcbiAgXCJyLmFwcHNwb3QuY29tXCI6IDIsXG4gIFwiY29kZXNwb3QuY29tXCI6IDEsXG4gIFwiZ29vZ2xlYXBpcy5jb21cIjogMSxcbiAgXCJnb29nbGVjb2RlLmNvbVwiOiAxLFxuICBcInBhZ2VzcGVlZG1vYmlsaXplci5jb21cIjogMSxcbiAgXCJwdWJsaXNocHJveHkuY29tXCI6IDEsXG4gIFwid2l0aGdvb2dsZS5jb21cIjogMSxcbiAgXCJ3aXRoeW91dHViZS5jb21cIjogMSxcbiAgXCJnYXRld2F5LmRldlwiOiAyLFxuICBcImNsb3VkLmdvb2dcIjogMSxcbiAgXCJ0cmFuc2xhdGUuZ29vZ1wiOiAxLFxuICBcInVzZXJjb250ZW50Lmdvb2dcIjogMixcbiAgXCJjbG91ZGZ1bmN0aW9ucy5uZXRcIjogMSxcbiAgXCJibG9nc3BvdC5hZVwiOiAxLFxuICBcImJsb2dzcG90LmFsXCI6IDEsXG4gIFwiYmxvZ3Nwb3QuYW1cIjogMSxcbiAgXCJibG9nc3BvdC5iYVwiOiAxLFxuICBcImJsb2dzcG90LmJlXCI6IDEsXG4gIFwiYmxvZ3Nwb3QuYmdcIjogMSxcbiAgXCJibG9nc3BvdC5ialwiOiAxLFxuICBcImJsb2dzcG90LmNhXCI6IDEsXG4gIFwiYmxvZ3Nwb3QuY2ZcIjogMSxcbiAgXCJibG9nc3BvdC5jaFwiOiAxLFxuICBcImJsb2dzcG90LmNsXCI6IDEsXG4gIFwiYmxvZ3Nwb3QuY28uYXRcIjogMSxcbiAgXCJibG9nc3BvdC5jby5pZFwiOiAxLFxuICBcImJsb2dzcG90LmNvLmlsXCI6IDEsXG4gIFwiYmxvZ3Nwb3QuY28ua2VcIjogMSxcbiAgXCJibG9nc3BvdC5jby5uelwiOiAxLFxuICBcImJsb2dzcG90LmNvLnVrXCI6IDEsXG4gIFwiYmxvZ3Nwb3QuY28uemFcIjogMSxcbiAgXCJibG9nc3BvdC5jb21cIjogMSxcbiAgXCJibG9nc3BvdC5jb20uYXJcIjogMSxcbiAgXCJibG9nc3BvdC5jb20uYXVcIjogMSxcbiAgXCJibG9nc3BvdC5jb20uYnJcIjogMSxcbiAgXCJibG9nc3BvdC5jb20uYnlcIjogMSxcbiAgXCJibG9nc3BvdC5jb20uY29cIjogMSxcbiAgXCJibG9nc3BvdC5jb20uY3lcIjogMSxcbiAgXCJibG9nc3BvdC5jb20uZWVcIjogMSxcbiAgXCJibG9nc3BvdC5jb20uZWdcIjogMSxcbiAgXCJibG9nc3BvdC5jb20uZXNcIjogMSxcbiAgXCJibG9nc3BvdC5jb20ubXRcIjogMSxcbiAgXCJibG9nc3BvdC5jb20ubmdcIjogMSxcbiAgXCJibG9nc3BvdC5jb20udHJcIjogMSxcbiAgXCJibG9nc3BvdC5jb20udXlcIjogMSxcbiAgXCJibG9nc3BvdC5jdlwiOiAxLFxuICBcImJsb2dzcG90LmN6XCI6IDEsXG4gIFwiYmxvZ3Nwb3QuZGVcIjogMSxcbiAgXCJibG9nc3BvdC5ka1wiOiAxLFxuICBcImJsb2dzcG90LmZpXCI6IDEsXG4gIFwiYmxvZ3Nwb3QuZnJcIjogMSxcbiAgXCJibG9nc3BvdC5nclwiOiAxLFxuICBcImJsb2dzcG90LmhrXCI6IDEsXG4gIFwiYmxvZ3Nwb3QuaHJcIjogMSxcbiAgXCJibG9nc3BvdC5odVwiOiAxLFxuICBcImJsb2dzcG90LmllXCI6IDEsXG4gIFwiYmxvZ3Nwb3QuaW5cIjogMSxcbiAgXCJibG9nc3BvdC5pc1wiOiAxLFxuICBcImJsb2dzcG90Lml0XCI6IDEsXG4gIFwiYmxvZ3Nwb3QuanBcIjogMSxcbiAgXCJibG9nc3BvdC5rclwiOiAxLFxuICBcImJsb2dzcG90LmxpXCI6IDEsXG4gIFwiYmxvZ3Nwb3QubHRcIjogMSxcbiAgXCJibG9nc3BvdC5sdVwiOiAxLFxuICBcImJsb2dzcG90Lm1kXCI6IDEsXG4gIFwiYmxvZ3Nwb3QubWtcIjogMSxcbiAgXCJibG9nc3BvdC5tclwiOiAxLFxuICBcImJsb2dzcG90Lm14XCI6IDEsXG4gIFwiYmxvZ3Nwb3QubXlcIjogMSxcbiAgXCJibG9nc3BvdC5ubFwiOiAxLFxuICBcImJsb2dzcG90Lm5vXCI6IDEsXG4gIFwiYmxvZ3Nwb3QucGVcIjogMSxcbiAgXCJibG9nc3BvdC5wdFwiOiAxLFxuICBcImJsb2dzcG90LnFhXCI6IDEsXG4gIFwiYmxvZ3Nwb3QucmVcIjogMSxcbiAgXCJibG9nc3BvdC5yb1wiOiAxLFxuICBcImJsb2dzcG90LnJzXCI6IDEsXG4gIFwiYmxvZ3Nwb3QucnVcIjogMSxcbiAgXCJibG9nc3BvdC5zZVwiOiAxLFxuICBcImJsb2dzcG90LnNnXCI6IDEsXG4gIFwiYmxvZ3Nwb3Quc2lcIjogMSxcbiAgXCJibG9nc3BvdC5za1wiOiAxLFxuICBcImJsb2dzcG90LnNuXCI6IDEsXG4gIFwiYmxvZ3Nwb3QudGRcIjogMSxcbiAgXCJibG9nc3BvdC50d1wiOiAxLFxuICBcImJsb2dzcG90LnVnXCI6IDEsXG4gIFwiYmxvZ3Nwb3Qudm5cIjogMSxcbiAgXCJnb3VwaWxlLmZyXCI6IDEsXG4gIFwiZ292Lm5sXCI6IDEsXG4gIFwiYXdzbXBwbC5jb21cIjogMSxcbiAgXCJ4bi0tZ25zdGlnYmVzdGVsbGVuLXp2Yi5kZVwiOiAxLFxuICBcInhuLS1nbnN0aWdsaWVmZXJuLXdvYi5kZVwiOiAxLFxuICBcImZpbi5jaVwiOiAxLFxuICBcImZyZWUuaHJcIjogMSxcbiAgXCJjYWEubGlcIjogMSxcbiAgXCJ1YS5yc1wiOiAxLFxuICBcImNvbmYuc2VcIjogMSxcbiAgXCJocy56b25lXCI6IDEsXG4gIFwiaHMucnVuXCI6IDEsXG4gIFwiaGFzaGJhbmcuc2hcIjogMSxcbiAgXCJoYXN1cmEuYXBwXCI6IDEsXG4gIFwiaGFzdXJhLWFwcC5pb1wiOiAxLFxuICBcInBhZ2VzLml0LmhzLWhlaWxicm9ubi5kZVwiOiAxLFxuICBcImhlcGZvcmdlLm9yZ1wiOiAxLFxuICBcImhlcm9rdWFwcC5jb21cIjogMSxcbiAgXCJoZXJva3Vzc2wuY29tXCI6IDEsXG4gIFwicmF2ZW5kYi5jbG91ZFwiOiAxLFxuICBcInJhdmVuZGIuY29tbXVuaXR5XCI6IDEsXG4gIFwicmF2ZW5kYi5tZVwiOiAxLFxuICBcImRldmVsb3BtZW50LnJ1blwiOiAxLFxuICBcInJhdmVuZGIucnVuXCI6IDEsXG4gIFwiaG9tZXNrbGVwLnBsXCI6IDEsXG4gIFwic2VjYWFzLmhrXCI6IDEsXG4gIFwiaG9wbGl4LnNob3BcIjogMSxcbiAgXCJvcnguYml6XCI6IDEsXG4gIFwiYml6LmdsXCI6IDEsXG4gIFwiY29sLm5nXCI6IDEsXG4gIFwiZmlybS5uZ1wiOiAxLFxuICBcImdlbi5uZ1wiOiAxLFxuICBcImx0ZC5uZ1wiOiAxLFxuICBcIm5nby5uZ1wiOiAxLFxuICBcImVkdS5zY290XCI6IDEsXG4gIFwic2NoLnNvXCI6IDEsXG4gIFwiaWUudWFcIjogMSxcbiAgXCJob3N0eWhvc3RpbmcuaW9cIjogMSxcbiAgXCJ4bi0taGtraW5lbi01d2EuZmlcIjogMSxcbiAgXCJtb29uc2NhbGUuaW9cIjogMixcbiAgXCJtb29uc2NhbGUubmV0XCI6IDEsXG4gIFwiaWtpLmZpXCI6IDEsXG4gIFwiaWJ4b3MuaXRcIjogMSxcbiAgXCJpbGlhZGJveG9zLml0XCI6IDEsXG4gIFwiaW1wZXJ0cml4Y2RuLmNvbVwiOiAxLFxuICBcImltcGVydHJpeC5jb21cIjogMSxcbiAgXCJzbXVzaGNkbi5jb21cIjogMSxcbiAgXCJ3cGhvc3RlZG1haWwuY29tXCI6IDEsXG4gIFwid3BtdWNkbi5jb21cIjogMSxcbiAgXCJ0ZW1wdXJsLmhvc3RcIjogMSxcbiAgXCJ3cG11ZGV2Lmhvc3RcIjogMSxcbiAgXCJkeW4tYmVybGluLmRlXCI6IDEsXG4gIFwiaW4tYmVybGluLmRlXCI6IDEsXG4gIFwiaW4tYnJiLmRlXCI6IDEsXG4gIFwiaW4tYnV0dGVyLmRlXCI6IDEsXG4gIFwiaW4tZHNsLmRlXCI6IDEsXG4gIFwiaW4tZHNsLm5ldFwiOiAxLFxuICBcImluLWRzbC5vcmdcIjogMSxcbiAgXCJpbi12cG4uZGVcIjogMSxcbiAgXCJpbi12cG4ubmV0XCI6IDEsXG4gIFwiaW4tdnBuLm9yZ1wiOiAxLFxuICBcImJpei5hdFwiOiAxLFxuICBcImluZm8uYXRcIjogMSxcbiAgXCJpbmZvLmN4XCI6IDEsXG4gIFwiYWMubGVnLmJyXCI6IDEsXG4gIFwiYWwubGVnLmJyXCI6IDEsXG4gIFwiYW0ubGVnLmJyXCI6IDEsXG4gIFwiYXAubGVnLmJyXCI6IDEsXG4gIFwiYmEubGVnLmJyXCI6IDEsXG4gIFwiY2UubGVnLmJyXCI6IDEsXG4gIFwiZGYubGVnLmJyXCI6IDEsXG4gIFwiZXMubGVnLmJyXCI6IDEsXG4gIFwiZ28ubGVnLmJyXCI6IDEsXG4gIFwibWEubGVnLmJyXCI6IDEsXG4gIFwibWcubGVnLmJyXCI6IDEsXG4gIFwibXMubGVnLmJyXCI6IDEsXG4gIFwibXQubGVnLmJyXCI6IDEsXG4gIFwicGEubGVnLmJyXCI6IDEsXG4gIFwicGIubGVnLmJyXCI6IDEsXG4gIFwicGUubGVnLmJyXCI6IDEsXG4gIFwicGkubGVnLmJyXCI6IDEsXG4gIFwicHIubGVnLmJyXCI6IDEsXG4gIFwicmoubGVnLmJyXCI6IDEsXG4gIFwicm4ubGVnLmJyXCI6IDEsXG4gIFwicm8ubGVnLmJyXCI6IDEsXG4gIFwicnIubGVnLmJyXCI6IDEsXG4gIFwicnMubGVnLmJyXCI6IDEsXG4gIFwic2MubGVnLmJyXCI6IDEsXG4gIFwic2UubGVnLmJyXCI6IDEsXG4gIFwic3AubGVnLmJyXCI6IDEsXG4gIFwidG8ubGVnLmJyXCI6IDEsXG4gIFwicGl4b2xpbm8uY29tXCI6IDEsXG4gIFwibmE0dS5ydVwiOiAxLFxuICBcImlvcHN5cy5zZVwiOiAxLFxuICBcImlwaWZvbnkubmV0XCI6IDEsXG4gIFwiaXNlcnZzY2h1bGUuZGVcIjogMSxcbiAgXCJtZWluLWlzZXJ2LmRlXCI6IDEsXG4gIFwic2NodWxwbGF0dGZvcm0uZGVcIjogMSxcbiAgXCJzY2h1bHNlcnZlci5kZVwiOiAxLFxuICBcInRlc3QtaXNlcnYuZGVcIjogMSxcbiAgXCJpc2Vydi5kZXZcIjogMSxcbiAgXCJpb2JiLm5ldFwiOiAxLFxuICBcIm1lbC5jbG91ZGxldHMuY29tLmF1XCI6IDEsXG4gIFwiY2xvdWQuaW50ZXJob3N0c29sdXRpb25zLmJlXCI6IDEsXG4gIFwibXljbG91ZC5ieVwiOiAxLFxuICBcImFscDEuYWUuZmxvdy5jaFwiOiAxLFxuICBcImFwcGVuZ2luZS5mbG93LmNoXCI6IDEsXG4gIFwiZXMtMS5heGFybmV0LmNsb3VkXCI6IDEsXG4gIFwiZGlhZGVtLmNsb3VkXCI6IDEsXG4gIFwidmlwLmplbGFzdGljLmNsb3VkXCI6IDEsXG4gIFwiamVsZS5jbG91ZFwiOiAxLFxuICBcIml0MS5ldXIuYXJ1YmEuamVudi1hcnViYS5jbG91ZFwiOiAxLFxuICBcIml0MS5qZW52LWFydWJhLmNsb3VkXCI6IDEsXG4gIFwia2VsaXdlYi5jbG91ZFwiOiAxLFxuICBcImNzLmtlbGl3ZWIuY2xvdWRcIjogMSxcbiAgXCJveGEuY2xvdWRcIjogMSxcbiAgXCJ0bi5veGEuY2xvdWRcIjogMSxcbiAgXCJ1ay5veGEuY2xvdWRcIjogMSxcbiAgXCJwcmltZXRlbC5jbG91ZFwiOiAxLFxuICBcInVrLnByaW1ldGVsLmNsb3VkXCI6IDEsXG4gIFwiY2EucmVjbGFpbS5jbG91ZFwiOiAxLFxuICBcInVrLnJlY2xhaW0uY2xvdWRcIjogMSxcbiAgXCJ1cy5yZWNsYWltLmNsb3VkXCI6IDEsXG4gIFwiY2gudHJlbmRob3N0aW5nLmNsb3VkXCI6IDEsXG4gIFwiZGUudHJlbmRob3N0aW5nLmNsb3VkXCI6IDEsXG4gIFwiamVsZS5jbHViXCI6IDEsXG4gIFwiYW1zY29tcHV0ZS5jb21cIjogMSxcbiAgXCJkb3BhYXMuY29tXCI6IDEsXG4gIFwicGFhcy5ob3N0ZWQtYnktcHJldmlkZXIuY29tXCI6IDEsXG4gIFwicmFnLWNsb3VkLmhvc3RldXIuY29tXCI6IDEsXG4gIFwicmFnLWNsb3VkLWNoLmhvc3RldXIuY29tXCI6IDEsXG4gIFwiamNsb3VkLmlrLXNlcnZlci5jb21cIjogMSxcbiAgXCJqY2xvdWQtdmVyLWpwYy5pay1zZXJ2ZXIuY29tXCI6IDEsXG4gIFwiZGVtby5qZWxhc3RpYy5jb21cIjogMSxcbiAgXCJraWxhdGlyb24uY29tXCI6IDEsXG4gIFwicGFhcy5tYXNzaXZlZ3JpZC5jb21cIjogMSxcbiAgXCJqZWQud2FmYWljbG91ZC5jb21cIjogMSxcbiAgXCJsb24ud2FmYWljbG91ZC5jb21cIjogMSxcbiAgXCJyeWQud2FmYWljbG91ZC5jb21cIjogMSxcbiAgXCJqLnNjYWxlZm9yY2UuY29tLmN5XCI6IDEsXG4gIFwiamVsYXN0aWMuZG9nYWRvLmV1XCI6IDEsXG4gIFwiZmkuY2xvdWRwbGF0Zm9ybS5maVwiOiAxLFxuICBcImRlbW8uZGF0YWNlbnRlci5maVwiOiAxLFxuICBcInBhYXMuZGF0YWNlbnRlci5maVwiOiAxLFxuICBcImplbGUuaG9zdFwiOiAxLFxuICBcIm1pcmNsb3VkLmhvc3RcIjogMSxcbiAgXCJwYWFzLmJlZWJ5dGUuaW9cIjogMSxcbiAgXCJzZWtkMS5iZWVieXRlYXBwLmlvXCI6IDEsXG4gIFwiamVsZS5pb1wiOiAxLFxuICBcImNsb3VkLWZyMS51bmlzcGFjZS5pb1wiOiAxLFxuICBcImpjLm5lZW4uaXRcIjogMSxcbiAgXCJjbG91ZC5qZWxhc3RpYy5vcGVuLnRpbS5pdFwiOiAxLFxuICBcImpjbG91ZC5relwiOiAxLFxuICBcInVwYWFzLmthenRlbGVwb3J0Lmt6XCI6IDEsXG4gIFwiY2xvdWRqaWZmeS5uZXRcIjogMSxcbiAgXCJmcmExLWRlLmNsb3VkamlmZnkubmV0XCI6IDEsXG4gIFwid2VzdDEtdXMuY2xvdWRqaWZmeS5uZXRcIjogMSxcbiAgXCJqbHMtc3RvMS5lbGFzdHgubmV0XCI6IDEsXG4gIFwiamxzLXN0bzIuZWxhc3R4Lm5ldFwiOiAxLFxuICBcImpscy1zdG8zLmVsYXN0eC5uZXRcIjogMSxcbiAgXCJmYXN0c3RhY2tzLm5ldFwiOiAxLFxuICBcImZyLTEucGFhcy5tYXNzaXZlZ3JpZC5uZXRcIjogMSxcbiAgXCJsb24tMS5wYWFzLm1hc3NpdmVncmlkLm5ldFwiOiAxLFxuICBcImxvbi0yLnBhYXMubWFzc2l2ZWdyaWQubmV0XCI6IDEsXG4gIFwibnktMS5wYWFzLm1hc3NpdmVncmlkLm5ldFwiOiAxLFxuICBcIm55LTIucGFhcy5tYXNzaXZlZ3JpZC5uZXRcIjogMSxcbiAgXCJzZy0xLnBhYXMubWFzc2l2ZWdyaWQubmV0XCI6IDEsXG4gIFwiamVsYXN0aWMuc2F2ZWluY2xvdWQubmV0XCI6IDEsXG4gIFwibm9yZGVzdGUtaWRjLnNhdmVpbmNsb3VkLm5ldFwiOiAxLFxuICBcImouc2NhbGVmb3JjZS5uZXRcIjogMSxcbiAgXCJqZWxhc3RpYy50c3VrYWVydS5uZXRcIjogMSxcbiAgXCJzZHNjbG91ZC5wbFwiOiAxLFxuICBcInVuaWNsb3VkLnBsXCI6IDEsXG4gIFwibWlyY2xvdWQucnVcIjogMSxcbiAgXCJqZWxhc3RpYy5yZWdydWhvc3RpbmcucnVcIjogMSxcbiAgXCJlbnNjYWxlZC5zZ1wiOiAxLFxuICBcImplbGUuc2l0ZVwiOiAxLFxuICBcImplbGFzdGljLnRlYW1cIjogMSxcbiAgXCJvcmFuZ2VjbG91ZC50blwiOiAxLFxuICBcImoubGF5ZXJzaGlmdC5jby51a1wiOiAxLFxuICBcInBoeC5lbnNjYWxlZC51c1wiOiAxLFxuICBcIm1pcmNsb3VkLnVzXCI6IDEsXG4gIFwibXlqaW5vLnJ1XCI6IDEsXG4gIFwiaG9zdGluZy5teWppbm8ucnVcIjogMixcbiAgXCJsYW5kaW5nLm15amluby5ydVwiOiAyLFxuICBcInNwZWN0cnVtLm15amluby5ydVwiOiAyLFxuICBcInZwcy5teWppbm8ucnVcIjogMixcbiAgXCJqb3RlbHVsdS5jbG91ZFwiOiAxLFxuICBcInRyaXRvbi56b25lXCI6IDIsXG4gIFwiY25zLmpveWVudC5jb21cIjogMixcbiAgXCJqcy5vcmdcIjogMSxcbiAgXCJrYWFzLmdnXCI6IDEsXG4gIFwia2hwbGF5Lm5sXCI6IDEsXG4gIFwia3Rpc3RvcnkuY29tXCI6IDEsXG4gIFwia2Fwc2kuZmlcIjogMSxcbiAgXCJrZXltYWNoaW5lLmRlXCI6IDEsXG4gIFwia2luZ2hvc3QubmV0XCI6IDEsXG4gIFwidW5pNS5uZXRcIjogMSxcbiAgXCJrbmlnaHRwb2ludC5zeXN0ZW1zXCI6IDEsXG4gIFwia29vYmluLmV2ZW50c1wiOiAxLFxuICBcIm95YS50b1wiOiAxLFxuICBcImt1bGV1dmVuLmNsb3VkXCI6IDEsXG4gIFwiZXpwcm94eS5rdWxldXZlbi5iZVwiOiAxLFxuICBcImNvLmtyZFwiOiAxLFxuICBcImVkdS5rcmRcIjogMSxcbiAgXCJrcmVsbGlhbi5uZXRcIjogMSxcbiAgXCJ3ZWJ0aGluZ3MuaW9cIjogMSxcbiAgXCJnaXQtcmVwb3MuZGVcIjogMSxcbiAgXCJsY3ViZS1zZXJ2ZXIuZGVcIjogMSxcbiAgXCJzdm4tcmVwb3MuZGVcIjogMSxcbiAgXCJsZWFkcGFnZXMuY29cIjogMSxcbiAgXCJscGFnZXMuY29cIjogMSxcbiAgXCJscHVzZXJjb250ZW50LmNvbVwiOiAxLFxuICBcImxlbHV4LnNpdGVcIjogMSxcbiAgXCJjby5idXNpbmVzc1wiOiAxLFxuICBcImNvLmVkdWNhdGlvblwiOiAxLFxuICBcImNvLmV2ZW50c1wiOiAxLFxuICBcImNvLmZpbmFuY2lhbFwiOiAxLFxuICBcImNvLm5ldHdvcmtcIjogMSxcbiAgXCJjby5wbGFjZVwiOiAxLFxuICBcImNvLnRlY2hub2xvZ3lcIjogMSxcbiAgXCJhcHAubG1wbS5jb21cIjogMSxcbiAgXCJsaW5reWFyZC5jbG91ZFwiOiAxLFxuICBcImxpbmt5YXJkLWNsb3VkLmNoXCI6IDEsXG4gIFwibWVtYmVycy5saW5vZGUuY29tXCI6IDEsXG4gIFwibm9kZWJhbGFuY2VyLmxpbm9kZS5jb21cIjogMixcbiAgXCJsaW5vZGVvYmplY3RzLmNvbVwiOiAyLFxuICBcImlwLmxpbm9kZXVzZXJjb250ZW50LmNvbVwiOiAxLFxuICBcIndlLmJzXCI6IDEsXG4gIFwidXNlci5sb2NhbGNlcnQuZGV2XCI6IDIsXG4gIFwibG9jYWx6b25lLnh5elwiOiAxLFxuICBcImxvZ2lubGluZS5hcHBcIjogMSxcbiAgXCJsb2dpbmxpbmUuZGV2XCI6IDEsXG4gIFwibG9naW5saW5lLmlvXCI6IDEsXG4gIFwibG9naW5saW5lLnNlcnZpY2VzXCI6IDEsXG4gIFwibG9naW5saW5lLnNpdGVcIjogMSxcbiAgXCJzZXJ2ZXJzLnJ1blwiOiAxLFxuICBcImxvaG11cy5tZVwiOiAxLFxuICBcImtyYXNuaWsucGxcIjogMSxcbiAgXCJsZWN6bmEucGxcIjogMSxcbiAgXCJsdWJhcnRvdy5wbFwiOiAxLFxuICBcImx1Ymxpbi5wbFwiOiAxLFxuICBcInBvbmlhdG93YS5wbFwiOiAxLFxuICBcInN3aWRuaWsucGxcIjogMSxcbiAgXCJnbHVnLm9yZy51a1wiOiAxLFxuICBcImx1Zy5vcmcudWtcIjogMSxcbiAgXCJsdWdzLm9yZy51a1wiOiAxLFxuICBcImJhcnN5LmJnXCI6IDEsXG4gIFwiYmFyc3kuY28udWtcIjogMSxcbiAgXCJiYXJzeW9ubGluZS5jby51a1wiOiAxLFxuICBcImJhcnN5Y2VudGVyLmNvbVwiOiAxLFxuICBcImJhcnN5b25saW5lLmNvbVwiOiAxLFxuICBcImJhcnN5LmNsdWJcIjogMSxcbiAgXCJiYXJzeS5kZVwiOiAxLFxuICBcImJhcnN5LmV1XCI6IDEsXG4gIFwiYmFyc3kuaW5cIjogMSxcbiAgXCJiYXJzeS5pbmZvXCI6IDEsXG4gIFwiYmFyc3kuaW9cIjogMSxcbiAgXCJiYXJzeS5tZVwiOiAxLFxuICBcImJhcnN5Lm1lbnVcIjogMSxcbiAgXCJiYXJzeS5tb2JpXCI6IDEsXG4gIFwiYmFyc3kubmV0XCI6IDEsXG4gIFwiYmFyc3kub25saW5lXCI6IDEsXG4gIFwiYmFyc3kub3JnXCI6IDEsXG4gIFwiYmFyc3kucHJvXCI6IDEsXG4gIFwiYmFyc3kucHViXCI6IDEsXG4gIFwiYmFyc3kucm9cIjogMSxcbiAgXCJiYXJzeS5zaG9wXCI6IDEsXG4gIFwiYmFyc3kuc2l0ZVwiOiAxLFxuICBcImJhcnN5LnN1cHBvcnRcIjogMSxcbiAgXCJiYXJzeS51a1wiOiAxLFxuICBcIm1hZ2VudG9zaXRlLmNsb3VkXCI6IDIsXG4gIFwibWF5Zmlyc3QuaW5mb1wiOiAxLFxuICBcIm1heWZpcnN0Lm9yZ1wiOiAxLFxuICBcImhiLmNsZG1haWwucnVcIjogMSxcbiAgXCJjbi52dVwiOiAxLFxuICBcIm1hemVwbGF5LmNvbVwiOiAxLFxuICBcIm1jcGUubWVcIjogMSxcbiAgXCJtY2Rpci5tZVwiOiAxLFxuICBcIm1jZGlyLnJ1XCI6IDEsXG4gIFwibWNwcmUucnVcIjogMSxcbiAgXCJ2cHMubWNkaXIucnVcIjogMSxcbiAgXCJtZWRpYXRlY2guYnlcIjogMSxcbiAgXCJtZWRpYXRlY2guZGV2XCI6IDEsXG4gIFwiaHJhLmhlYWx0aFwiOiAxLFxuICBcIm1pbmlzZXJ2ZXIuY29tXCI6IDEsXG4gIFwibWVtc2V0Lm5ldFwiOiAxLFxuICBcIm1lc3NlcmxpLmFwcFwiOiAxLFxuICBcImNsb3VkLm1ldGFjZW50cnVtLmN6XCI6IDIsXG4gIFwiY3VzdG9tLm1ldGFjZW50cnVtLmN6XCI6IDEsXG4gIFwiZmx0LmNsb3VkLm11bmkuY3pcIjogMSxcbiAgXCJ1c3IuY2xvdWQubXVuaS5jelwiOiAxLFxuICBcIm1ldGVvcmFwcC5jb21cIjogMSxcbiAgXCJldS5tZXRlb3JhcHAuY29tXCI6IDEsXG4gIFwiY28ucGxcIjogMSxcbiAgXCJhenVyZWNvbnRhaW5lci5pb1wiOiAyLFxuICBcImF6dXJld2Vic2l0ZXMubmV0XCI6IDEsXG4gIFwiYXp1cmUtbW9iaWxlLm5ldFwiOiAxLFxuICBcImNsb3VkYXBwLm5ldFwiOiAxLFxuICBcImF6dXJlc3RhdGljYXBwcy5uZXRcIjogMSxcbiAgXCIxLmF6dXJlc3RhdGljYXBwcy5uZXRcIjogMSxcbiAgXCIyLmF6dXJlc3RhdGljYXBwcy5uZXRcIjogMSxcbiAgXCIzLmF6dXJlc3RhdGljYXBwcy5uZXRcIjogMSxcbiAgXCI0LmF6dXJlc3RhdGljYXBwcy5uZXRcIjogMSxcbiAgXCI1LmF6dXJlc3RhdGljYXBwcy5uZXRcIjogMSxcbiAgXCI2LmF6dXJlc3RhdGljYXBwcy5uZXRcIjogMSxcbiAgXCI3LmF6dXJlc3RhdGljYXBwcy5uZXRcIjogMSxcbiAgXCJjZW50cmFsdXMuYXp1cmVzdGF0aWNhcHBzLm5ldFwiOiAxLFxuICBcImVhc3Rhc2lhLmF6dXJlc3RhdGljYXBwcy5uZXRcIjogMSxcbiAgXCJlYXN0dXMyLmF6dXJlc3RhdGljYXBwcy5uZXRcIjogMSxcbiAgXCJ3ZXN0ZXVyb3BlLmF6dXJlc3RhdGljYXBwcy5uZXRcIjogMSxcbiAgXCJ3ZXN0dXMyLmF6dXJlc3RhdGljYXBwcy5uZXRcIjogMSxcbiAgXCJjc3guY2NcIjogMSxcbiAgXCJtaW50ZXJlLnNpdGVcIjogMSxcbiAgXCJmb3J0ZS5pZFwiOiAxLFxuICBcIm1vemlsbGEtaW90Lm9yZ1wiOiAxLFxuICBcImJtb2F0dGFjaG1lbnRzLm9yZ1wiOiAxLFxuICBcIm5ldC5ydVwiOiAxLFxuICBcIm9yZy5ydVwiOiAxLFxuICBcInBwLnJ1XCI6IDEsXG4gIFwiaG9zdGVkcGkuY29tXCI6IDEsXG4gIFwiY3VzdG9tZXIubXl0aGljLWJlYXN0cy5jb21cIjogMSxcbiAgXCJjYXJhY2FsLm15dGhpYy1iZWFzdHMuY29tXCI6IDEsXG4gIFwiZmVudGlnZXIubXl0aGljLWJlYXN0cy5jb21cIjogMSxcbiAgXCJseW54Lm15dGhpYy1iZWFzdHMuY29tXCI6IDEsXG4gIFwib2NlbG90Lm15dGhpYy1iZWFzdHMuY29tXCI6IDEsXG4gIFwib25jaWxsYS5teXRoaWMtYmVhc3RzLmNvbVwiOiAxLFxuICBcIm9uemEubXl0aGljLWJlYXN0cy5jb21cIjogMSxcbiAgXCJzcGhpbngubXl0aGljLWJlYXN0cy5jb21cIjogMSxcbiAgXCJ2cy5teXRoaWMtYmVhc3RzLmNvbVwiOiAxLFxuICBcIngubXl0aGljLWJlYXN0cy5jb21cIjogMSxcbiAgXCJ5YWxpLm15dGhpYy1iZWFzdHMuY29tXCI6IDEsXG4gIFwiY3VzdC5yZXRyb3NudWIuY28udWtcIjogMSxcbiAgXCJ1aS5uYWJ1LmNhc2FcIjogMSxcbiAgXCJjbG91ZC5ub3NwYW1wcm94eS5jb21cIjogMSxcbiAgXCJuZXRsaWZ5LmFwcFwiOiAxLFxuICBcIjR1LmNvbVwiOiAxLFxuICBcIm5ncm9rLmFwcFwiOiAxLFxuICBcIm5ncm9rLWZyZWUuYXBwXCI6IDEsXG4gIFwibmdyb2suZGV2XCI6IDEsXG4gIFwibmdyb2stZnJlZS5kZXZcIjogMSxcbiAgXCJuZ3Jvay5pb1wiOiAxLFxuICBcImFwLm5ncm9rLmlvXCI6IDEsXG4gIFwiYXUubmdyb2suaW9cIjogMSxcbiAgXCJldS5uZ3Jvay5pb1wiOiAxLFxuICBcImluLm5ncm9rLmlvXCI6IDEsXG4gIFwianAubmdyb2suaW9cIjogMSxcbiAgXCJzYS5uZ3Jvay5pb1wiOiAxLFxuICBcInVzLm5ncm9rLmlvXCI6IDEsXG4gIFwibmdyb2sucGl6emFcIjogMSxcbiAgXCJ0b3J1bi5wbFwiOiAxLFxuICBcIm5oLXNlcnYuY28udWtcIjogMSxcbiAgXCJuZnNob3N0LmNvbVwiOiAxLFxuICBcImRldmVsb3Blci5hcHBcIjogMixcbiAgXCJub29wLmFwcFwiOiAxLFxuICBcIm5vcnRoZmxhbmsuYXBwXCI6IDIsXG4gIFwiYnVpbGQucnVuXCI6IDIsXG4gIFwiY29kZS5ydW5cIjogMixcbiAgXCJkYXRhYmFzZS5ydW5cIjogMixcbiAgXCJtaWdyYXRpb24ucnVuXCI6IDIsXG4gIFwibm90aWNlYWJsZS5uZXdzXCI6IDEsXG4gIFwiZG5za2luZy5jaFwiOiAxLFxuICBcIm15cGkuY29cIjogMSxcbiAgXCJuNHQuY29cIjogMSxcbiAgXCIwMDF3d3cuY29tXCI6IDEsXG4gIFwiZGRuc2xpdmUuY29tXCI6IDEsXG4gIFwibXlpcGhvc3QuY29tXCI6IDEsXG4gIFwiZm9ydW16LmluZm9cIjogMSxcbiAgXCIxNi1iLml0XCI6IDEsXG4gIFwiMzItYi5pdFwiOiAxLFxuICBcIjY0LWIuaXRcIjogMSxcbiAgXCJzb3VuZGNhc3QubWVcIjogMSxcbiAgXCJ0Y3A0Lm1lXCI6IDEsXG4gIFwiZG5zdXAubmV0XCI6IDEsXG4gIFwiaGljYW0ubmV0XCI6IDEsXG4gIFwibm93LWRucy5uZXRcIjogMSxcbiAgXCJvd25pcC5uZXRcIjogMSxcbiAgXCJ2cG5kbnMubmV0XCI6IDEsXG4gIFwiZHluc2Vydi5vcmdcIjogMSxcbiAgXCJub3ctZG5zLm9yZ1wiOiAxLFxuICBcIng0NDMucHdcIjogMSxcbiAgXCJub3ctZG5zLnRvcFwiOiAxLFxuICBcIm50ZGxsLnRvcFwiOiAxLFxuICBcImZyZWVkZG5zLnVzXCI6IDEsXG4gIFwiY3JhZnRpbmcueHl6XCI6IDEsXG4gIFwiemFwdG8ueHl6XCI6IDEsXG4gIFwibnN1cGRhdGUuaW5mb1wiOiAxLFxuICBcIm5lcmRwb2wub3ZoXCI6IDEsXG4gIFwiYmxvZ3N5dGUuY29tXCI6IDEsXG4gIFwiYnJhc2lsaWEubWVcIjogMSxcbiAgXCJjYWJsZS1tb2RlbS5vcmdcIjogMSxcbiAgXCJjaXNjb2ZyZWFrLmNvbVwiOiAxLFxuICBcImNvbGxlZ2VmYW4ub3JnXCI6IDEsXG4gIFwiY291Y2hwb3RhdG9mcmllcy5vcmdcIjogMSxcbiAgXCJkYW1uc2VydmVyLmNvbVwiOiAxLFxuICBcImRkbnMubWVcIjogMSxcbiAgXCJkaXRjaHlvdXJpcC5jb21cIjogMSxcbiAgXCJkbnNmb3IubWVcIjogMSxcbiAgXCJkbnNpc2tpbmt5LmNvbVwiOiAxLFxuICBcImR2cmNhbS5pbmZvXCI6IDEsXG4gIFwiZHlubnMuY29tXCI6IDEsXG4gIFwiZWF0aW5nLW9yZ2FuaWMubmV0XCI6IDEsXG4gIFwiZmFudGFzeWxlYWd1ZS5jY1wiOiAxLFxuICBcImdlZWtnYWxheHkuY29tXCI6IDEsXG4gIFwiZ29sZmZhbi51c1wiOiAxLFxuICBcImhlYWx0aC1jYXJlcmVmb3JtLmNvbVwiOiAxLFxuICBcImhvbWVzZWN1cml0eW1hYy5jb21cIjogMSxcbiAgXCJob21lc2VjdXJpdHlwYy5jb21cIjogMSxcbiAgXCJob3B0by5tZVwiOiAxLFxuICBcImlsb3ZlY29sbGVnZS5pbmZvXCI6IDEsXG4gIFwibG9naW50by5tZVwiOiAxLFxuICBcIm1sYmZhbi5vcmdcIjogMSxcbiAgXCJtbWFmYW4uYml6XCI6IDEsXG4gIFwibXlhY3RpdmVkaXJlY3RvcnkuY29tXCI6IDEsXG4gIFwibXlkaXNzZW50Lm5ldFwiOiAxLFxuICBcIm15ZWZmZWN0Lm5ldFwiOiAxLFxuICBcIm15bWVkaWFwYy5uZXRcIjogMSxcbiAgXCJteXBzeC5uZXRcIjogMSxcbiAgXCJteXNlY3VyaXR5Y2FtZXJhLmNvbVwiOiAxLFxuICBcIm15c2VjdXJpdHljYW1lcmEubmV0XCI6IDEsXG4gIFwibXlzZWN1cml0eWNhbWVyYS5vcmdcIjogMSxcbiAgXCJuZXQtZnJlYWtzLmNvbVwiOiAxLFxuICBcIm5mbGZhbi5vcmdcIjogMSxcbiAgXCJuaGxmYW4ubmV0XCI6IDEsXG4gIFwibm8taXAuY2FcIjogMSxcbiAgXCJuby1pcC5jby51a1wiOiAxLFxuICBcIm5vLWlwLm5ldFwiOiAxLFxuICBcIm5vaXAudXNcIjogMSxcbiAgXCJvbnRoZXdpZmkuY29tXCI6IDEsXG4gIFwicGdhZmFuLm5ldFwiOiAxLFxuICBcInBvaW50MnRoaXMuY29tXCI6IDEsXG4gIFwicG9pbnR0by51c1wiOiAxLFxuICBcInByaXZhdGl6ZWhlYWx0aGluc3VyYW5jZS5uZXRcIjogMSxcbiAgXCJxdWlja3N5dGVzLmNvbVwiOiAxLFxuICBcInJlYWQtYm9va3Mub3JnXCI6IDEsXG4gIFwic2VjdXJpdHl0YWN0aWNzLmNvbVwiOiAxLFxuICBcInNlcnZlZXhjaGFuZ2UuY29tXCI6IDEsXG4gIFwic2VydmVodW1vdXIuY29tXCI6IDEsXG4gIFwic2VydmVwMnAuY29tXCI6IDEsXG4gIFwic2VydmVzYXJjYXNtLmNvbVwiOiAxLFxuICBcInN0dWZmdG9yZWFkLmNvbVwiOiAxLFxuICBcInVmY2Zhbi5vcmdcIjogMSxcbiAgXCJ1bnVzdWFscGVyc29uLmNvbVwiOiAxLFxuICBcIndvcmtpc2JvcmluZy5jb21cIjogMSxcbiAgXCIzdXRpbGl0aWVzLmNvbVwiOiAxLFxuICBcImJvdW5jZW1lLm5ldFwiOiAxLFxuICBcImRkbnMubmV0XCI6IDEsXG4gIFwiZGRuc2tpbmcuY29tXCI6IDEsXG4gIFwiZ290ZG5zLmNoXCI6IDEsXG4gIFwiaG9wdG8ub3JnXCI6IDEsXG4gIFwibXlmdHAuYml6XCI6IDEsXG4gIFwibXlmdHAub3JnXCI6IDEsXG4gIFwibXl2bmMuY29tXCI6IDEsXG4gIFwibm8taXAuYml6XCI6IDEsXG4gIFwibm8taXAuaW5mb1wiOiAxLFxuICBcIm5vLWlwLm9yZ1wiOiAxLFxuICBcIm5vaXAubWVcIjogMSxcbiAgXCJyZWRpcmVjdG1lLm5ldFwiOiAxLFxuICBcInNlcnZlYmVlci5jb21cIjogMSxcbiAgXCJzZXJ2ZWJsb2cubmV0XCI6IDEsXG4gIFwic2VydmVjb3VudGVyc3RyaWtlLmNvbVwiOiAxLFxuICBcInNlcnZlZnRwLmNvbVwiOiAxLFxuICBcInNlcnZlZ2FtZS5jb21cIjogMSxcbiAgXCJzZXJ2ZWhhbGZsaWZlLmNvbVwiOiAxLFxuICBcInNlcnZlaHR0cC5jb21cIjogMSxcbiAgXCJzZXJ2ZWlyYy5jb21cIjogMSxcbiAgXCJzZXJ2ZW1pbmVjcmFmdC5uZXRcIjogMSxcbiAgXCJzZXJ2ZW1wMy5jb21cIjogMSxcbiAgXCJzZXJ2ZXBpY3MuY29tXCI6IDEsXG4gIFwic2VydmVxdWFrZS5jb21cIjogMSxcbiAgXCJzeXRlcy5uZXRcIjogMSxcbiAgXCJ3ZWJob3AubWVcIjogMSxcbiAgXCJ6YXB0by5vcmdcIjogMSxcbiAgXCJzdGFnZS5ub2RlYXJ0LmlvXCI6IDEsXG4gIFwicGNsb3VkLmhvc3RcIjogMSxcbiAgXCJueWMubW5cIjogMSxcbiAgXCJzdGF0aWMub2JzZXJ2YWJsZXVzZXJjb250ZW50LmNvbVwiOiAxLFxuICBcImN5YS5nZ1wiOiAxLFxuICBcIm9tZy5sb2xcIjogMSxcbiAgXCJjbG91ZHljbHVzdGVyLm5ldFwiOiAxLFxuICBcIm9tbml3ZS5zaXRlXCI6IDEsXG4gIFwiMTIzaGplbW1lc2lkZS5ka1wiOiAxLFxuICBcIjEyM2hqZW1tZXNpZGUubm9cIjogMSxcbiAgXCIxMjNob21lcGFnZS5pdFwiOiAxLFxuICBcIjEyM2tvdGlzaXZ1LmZpXCI6IDEsXG4gIFwiMTIzbWluc2lkYS5zZVwiOiAxLFxuICBcIjEyM21pd2ViLmVzXCI6IDEsXG4gIFwiMTIzcGFnaW5hd2ViLnB0XCI6IDEsXG4gIFwiMTIzc2FpdC5ydVwiOiAxLFxuICBcIjEyM3NpdGV3ZWIuZnJcIjogMSxcbiAgXCIxMjN3ZWJzZWl0ZS5hdFwiOiAxLFxuICBcIjEyM3dlYnNlaXRlLmRlXCI6IDEsXG4gIFwiMTIzd2Vic2l0ZS5iZVwiOiAxLFxuICBcIjEyM3dlYnNpdGUuY2hcIjogMSxcbiAgXCIxMjN3ZWJzaXRlLmx1XCI6IDEsXG4gIFwiMTIzd2Vic2l0ZS5ubFwiOiAxLFxuICBcInNlcnZpY2Uub25lXCI6IDEsXG4gIFwic2ltcGxlc2l0ZS5jb21cIjogMSxcbiAgXCJzaW1wbGVzaXRlLmNvbS5iclwiOiAxLFxuICBcInNpbXBsZXNpdGUuZ3JcIjogMSxcbiAgXCJzaW1wbGVzaXRlLnBsXCI6IDEsXG4gIFwibmlkLmlvXCI6IDEsXG4gIFwib3BlbnNvY2lhbC5zaXRlXCI6IDEsXG4gIFwib3BlbmNyYWZ0Lmhvc3RpbmdcIjogMSxcbiAgXCJvcnNpdGVzLmNvbVwiOiAxLFxuICBcIm9wZXJhdW5pdGUuY29tXCI6IDEsXG4gIFwidGVjaC5vcmFuZ2VcIjogMSxcbiAgXCJhdXRoZ2Vhci1zdGFnaW5nLmNvbVwiOiAxLFxuICBcImF1dGhnZWFyYXBwcy5jb21cIjogMSxcbiAgXCJza3lnZWFyYXBwLmNvbVwiOiAxLFxuICBcIm91dHN5c3RlbXNjbG91ZC5jb21cIjogMSxcbiAgXCJ3ZWJwYWFzLm92aC5uZXRcIjogMixcbiAgXCJob3N0aW5nLm92aC5uZXRcIjogMixcbiAgXCJvd25wcm92aWRlci5jb21cIjogMSxcbiAgXCJvd24ucG1cIjogMSxcbiAgXCJvd28uY29kZXNcIjogMixcbiAgXCJveC5yc1wiOiAxLFxuICBcIm95LmxjXCI6IDEsXG4gIFwicGdmb2cuY29tXCI6IDEsXG4gIFwicGFnZWZyb250YXBwLmNvbVwiOiAxLFxuICBcInBhZ2V4bC5jb21cIjogMSxcbiAgXCJwYXl3aGlybC5jb21cIjogMixcbiAgXCJiYXIwLm5ldFwiOiAxLFxuICBcImJhcjEubmV0XCI6IDEsXG4gIFwiYmFyMi5uZXRcIjogMSxcbiAgXCJyZHYudG9cIjogMSxcbiAgXCJhcnQucGxcIjogMSxcbiAgXCJnbGl3aWNlLnBsXCI6IDEsXG4gIFwia3Jha293LnBsXCI6IDEsXG4gIFwicG96bmFuLnBsXCI6IDEsXG4gIFwid3JvYy5wbFwiOiAxLFxuICBcInpha29wYW5lLnBsXCI6IDEsXG4gIFwicGFudGhlb25zaXRlLmlvXCI6IDEsXG4gIFwiZ290cGFudGhlb24uY29tXCI6IDEsXG4gIFwibXlwZXAubGlua1wiOiAxLFxuICBcInBlcnNwZWN0YS5jbG91ZFwiOiAxLFxuICBcImxrMy5ydVwiOiAxLFxuICBcIm9uLXdlYi5mclwiOiAxLFxuICBcImJjLnBsYXRmb3JtLnNoXCI6IDEsXG4gIFwiZW50LnBsYXRmb3JtLnNoXCI6IDEsXG4gIFwiZXUucGxhdGZvcm0uc2hcIjogMSxcbiAgXCJ1cy5wbGF0Zm9ybS5zaFwiOiAxLFxuICBcInBsYXRmb3Jtc2guc2l0ZVwiOiAyLFxuICBcInRzdC5zaXRlXCI6IDIsXG4gIFwicGxhdHRlci1hcHAuY29tXCI6IDEsXG4gIFwicGxhdHRlci1hcHAuZGV2XCI6IDEsXG4gIFwicGxhdHRlcnAudXNcIjogMSxcbiAgXCJwZG5zLnBhZ2VcIjogMSxcbiAgXCJwbGVzay5wYWdlXCI6IDEsXG4gIFwicGxlc2tucy5jb21cIjogMSxcbiAgXCJkeW41My5pb1wiOiAxLFxuICBcIm9ucG9ydGVyLnJ1blwiOiAxLFxuICBcImNvLmJuXCI6IDEsXG4gIFwicG9zdG1hbi1lY2hvLmNvbVwiOiAxLFxuICBcInBzdG1uLmlvXCI6IDEsXG4gIFwibW9jay5wc3Rtbi5pb1wiOiAxLFxuICBcImh0dHBiaW4ub3JnXCI6IDEsXG4gIFwicHJlcXVhbGlmeW1lLnRvZGF5XCI6IDEsXG4gIFwieGVuLnByZ21yLmNvbVwiOiAxLFxuICBcInByaXYuYXRcIjogMSxcbiAgXCJwcnZjeS5wYWdlXCI6IDEsXG4gIFwiZHdlYi5saW5rXCI6IDIsXG4gIFwicHJvdG9uZXQuaW9cIjogMSxcbiAgXCJjaGlydXJnaWVucy1kZW50aXN0ZXMtZW4tZnJhbmNlLmZyXCI6IDEsXG4gIFwiYnllbi5zaXRlXCI6IDEsXG4gIFwicHVidGxzLm9yZ1wiOiAxLFxuICBcInB5dGhvbmFueXdoZXJlLmNvbVwiOiAxLFxuICBcImV1LnB5dGhvbmFueXdoZXJlLmNvbVwiOiAxLFxuICBcInFvdG8uaW9cIjogMSxcbiAgXCJxdWFsaWZpb2FwcC5jb21cIjogMSxcbiAgXCJsYWRlc2suY29tXCI6IDEsXG4gIFwicWJ1c2VyLmNvbVwiOiAxLFxuICBcImNsb3Vkc2l0ZS5idWlsZGVyc1wiOiAxLFxuICBcImluc3RhbmNlcy5zcGF3bi5jY1wiOiAxLFxuICBcImluc3RhbnRjbG91ZC5jblwiOiAxLFxuICBcInJhcy5ydVwiOiAxLFxuICBcInFhMi5jb21cIjogMSxcbiAgXCJxY3guaW9cIjogMSxcbiAgXCJzeXMucWN4LmlvXCI6IDIsXG4gIFwiZGV2LW15cW5hcGNsb3VkLmNvbVwiOiAxLFxuICBcImFscGhhLW15cW5hcGNsb3VkLmNvbVwiOiAxLFxuICBcIm15cW5hcGNsb3VkLmNvbVwiOiAxLFxuICBcInF1aXBlbGVtZW50cy5jb21cIjogMixcbiAgXCJ2YXBvci5jbG91ZFwiOiAxLFxuICBcInZhcG9yY2xvdWQuaW9cIjogMSxcbiAgXCJyYWNrbWF6ZS5jb21cIjogMSxcbiAgXCJyYWNrbWF6ZS5uZXRcIjogMSxcbiAgXCJnLnZicnBsc2J4LmlvXCI6IDEsXG4gIFwib24tazNzLmlvXCI6IDIsXG4gIFwib24tcmFuY2hlci5jbG91ZFwiOiAyLFxuICBcIm9uLXJpby5pb1wiOiAyLFxuICBcInJlYWR0aGVkb2NzLmlvXCI6IDEsXG4gIFwicmhjbG91ZC5jb21cIjogMSxcbiAgXCJhcHAucmVuZGVyLmNvbVwiOiAxLFxuICBcIm9ucmVuZGVyLmNvbVwiOiAxLFxuICBcImZpcmV3YWxsZWRyZXBsaXQuY29cIjogMSxcbiAgXCJpZC5maXJld2FsbGVkcmVwbGl0LmNvXCI6IDEsXG4gIFwicmVwbC5jb1wiOiAxLFxuICBcImlkLnJlcGwuY29cIjogMSxcbiAgXCJyZXBsLnJ1blwiOiAxLFxuICBcInJlc2luZGV2aWNlLmlvXCI6IDEsXG4gIFwiZGV2aWNlcy5yZXNpbnN0YWdpbmcuaW9cIjogMSxcbiAgXCJoemMuaW9cIjogMSxcbiAgXCJ3ZWxsYmVpbmd6b25lLmV1XCI6IDEsXG4gIFwid2VsbGJlaW5nem9uZS5jby51a1wiOiAxLFxuICBcImFkaW1vLmNvLnVrXCI6IDEsXG4gIFwiaXRjb3VsZGJld29yLnNlXCI6IDEsXG4gIFwiZ2l0LXBhZ2VzLnJpdC5lZHVcIjogMSxcbiAgXCJyb2NreS5wYWdlXCI6IDEsXG4gIFwieG4tLTkwYW1jLnhuLS1wMWFjZlwiOiAxLFxuICBcInhuLS1qMWFlZi54bi0tcDFhY2ZcIjogMSxcbiAgXCJ4bi0tajFhZWw4Yi54bi0tcDFhY2ZcIjogMSxcbiAgXCJ4bi0taDFhaG4ueG4tLXAxYWNmXCI6IDEsXG4gIFwieG4tLWoxYWRwLnhuLS1wMWFjZlwiOiAxLFxuICBcInhuLS1jMWF2Zy54bi0tcDFhY2ZcIjogMSxcbiAgXCJ4bi0tODBhYWEwY3ZhYy54bi0tcDFhY2ZcIjogMSxcbiAgXCJ4bi0taDFhbGl6LnhuLS1wMWFjZlwiOiAxLFxuICBcInhuLS05MGExYWYueG4tLXAxYWNmXCI6IDEsXG4gIFwieG4tLTQxYS54bi0tcDFhY2ZcIjogMSxcbiAgXCIxODByLmNvbVwiOiAxLFxuICBcImRvamluLmNvbVwiOiAxLFxuICBcInNha3VyYXRhbi5jb21cIjogMSxcbiAgXCJzYWt1cmF3ZWIuY29tXCI6IDEsXG4gIFwieDAuY29tXCI6IDEsXG4gIFwiMi1kLmpwXCI6IDEsXG4gIFwiYm9uYS5qcFwiOiAxLFxuICBcImNyYXAuanBcIjogMSxcbiAgXCJkYXluaWdodC5qcFwiOiAxLFxuICBcImVlay5qcFwiOiAxLFxuICBcImZsb3AuanBcIjogMSxcbiAgXCJoYWxmbW9vbi5qcFwiOiAxLFxuICBcImplZXouanBcIjogMSxcbiAgXCJtYXRyaXguanBcIjogMSxcbiAgXCJtaW1vemEuanBcIjogMSxcbiAgXCJpdm9yeS5uZS5qcFwiOiAxLFxuICBcIm1haWwtYm94Lm5lLmpwXCI6IDEsXG4gIFwibWludHMubmUuanBcIjogMSxcbiAgXCJtb2t1cmVuLm5lLmpwXCI6IDEsXG4gIFwib3BhbC5uZS5qcFwiOiAxLFxuICBcInNha3VyYS5uZS5qcFwiOiAxLFxuICBcInN1bW9tby5uZS5qcFwiOiAxLFxuICBcInRvcGF6Lm5lLmpwXCI6IDEsXG4gIFwibmV0Z2FtZXJzLmpwXCI6IDEsXG4gIFwibnlhbnRhLmpwXCI6IDEsXG4gIFwibzBvMC5qcFwiOiAxLFxuICBcInJkeS5qcFwiOiAxLFxuICBcInJnci5qcFwiOiAxLFxuICBcInJ1bGV6LmpwXCI6IDEsXG4gIFwiczMuaXNrMDEuc2FrdXJhc3RvcmFnZS5qcFwiOiAxLFxuICBcInMzLmlzazAyLnNha3VyYXN0b3JhZ2UuanBcIjogMSxcbiAgXCJzYWxvb24uanBcIjogMSxcbiAgXCJzYmxvLmpwXCI6IDEsXG4gIFwic2tyLmpwXCI6IDEsXG4gIFwidGFuay5qcFwiOiAxLFxuICBcInVoLW9oLmpwXCI6IDEsXG4gIFwidW5kby5qcFwiOiAxLFxuICBcInJzLndlYmFjY2VsLmpwXCI6IDEsXG4gIFwidXNlci53ZWJhY2NlbC5qcFwiOiAxLFxuICBcIndlYnNvemFpLmpwXCI6IDEsXG4gIFwieGlpLmpwXCI6IDEsXG4gIFwic3F1YXJlcy5uZXRcIjogMSxcbiAgXCJqcG4ub3JnXCI6IDEsXG4gIFwia2lyYXJhLnN0XCI6IDEsXG4gIFwieDAudG9cIjogMSxcbiAgXCJmcm9tLnR2XCI6IDEsXG4gIFwic2FrdXJhLnR2XCI6IDEsXG4gIFwiYnVpbGRlci5jb2RlLmNvbVwiOiAyLFxuICBcImRldi1idWlsZGVyLmNvZGUuY29tXCI6IDIsXG4gIFwic3RnLWJ1aWxkZXIuY29kZS5jb21cIjogMixcbiAgXCJzYW5kY2F0cy5pb1wiOiAxLFxuICBcImxvZ29pcC5kZVwiOiAxLFxuICBcImxvZ29pcC5jb21cIjogMSxcbiAgXCJmci1wYXItMS5iYXJlbWV0YWwuc2N3LmNsb3VkXCI6IDEsXG4gIFwiZnItcGFyLTIuYmFyZW1ldGFsLnNjdy5jbG91ZFwiOiAxLFxuICBcIm5sLWFtcy0xLmJhcmVtZXRhbC5zY3cuY2xvdWRcIjogMSxcbiAgXCJmbmMuZnItcGFyLnNjdy5jbG91ZFwiOiAxLFxuICBcImZ1bmN0aW9ucy5mbmMuZnItcGFyLnNjdy5jbG91ZFwiOiAxLFxuICBcIms4cy5mci1wYXIuc2N3LmNsb3VkXCI6IDEsXG4gIFwibm9kZXMuazhzLmZyLXBhci5zY3cuY2xvdWRcIjogMSxcbiAgXCJzMy5mci1wYXIuc2N3LmNsb3VkXCI6IDEsXG4gIFwiczMtd2Vic2l0ZS5mci1wYXIuc2N3LmNsb3VkXCI6IDEsXG4gIFwid2htLmZyLXBhci5zY3cuY2xvdWRcIjogMSxcbiAgXCJwcml2Lmluc3RhbmNlcy5zY3cuY2xvdWRcIjogMSxcbiAgXCJwdWIuaW5zdGFuY2VzLnNjdy5jbG91ZFwiOiAxLFxuICBcIms4cy5zY3cuY2xvdWRcIjogMSxcbiAgXCJrOHMubmwtYW1zLnNjdy5jbG91ZFwiOiAxLFxuICBcIm5vZGVzLms4cy5ubC1hbXMuc2N3LmNsb3VkXCI6IDEsXG4gIFwiczMubmwtYW1zLnNjdy5jbG91ZFwiOiAxLFxuICBcInMzLXdlYnNpdGUubmwtYW1zLnNjdy5jbG91ZFwiOiAxLFxuICBcIndobS5ubC1hbXMuc2N3LmNsb3VkXCI6IDEsXG4gIFwiazhzLnBsLXdhdy5zY3cuY2xvdWRcIjogMSxcbiAgXCJub2Rlcy5rOHMucGwtd2F3LnNjdy5jbG91ZFwiOiAxLFxuICBcInMzLnBsLXdhdy5zY3cuY2xvdWRcIjogMSxcbiAgXCJzMy13ZWJzaXRlLnBsLXdhdy5zY3cuY2xvdWRcIjogMSxcbiAgXCJzY2FsZWJvb2suc2N3LmNsb3VkXCI6IDEsXG4gIFwic21hcnRsYWJlbGluZy5zY3cuY2xvdWRcIjogMSxcbiAgXCJkZWRpYm94LmZyXCI6IDEsXG4gIFwic2Nob2tva2Vrcy5uZXRcIjogMSxcbiAgXCJnb3Yuc2NvdFwiOiAxLFxuICBcInNlcnZpY2UuZ292LnNjb3RcIjogMSxcbiAgXCJzY3J5c2VjLmNvbVwiOiAxLFxuICBcImZpcmV3YWxsLWdhdGV3YXkuY29tXCI6IDEsXG4gIFwiZmlyZXdhbGwtZ2F0ZXdheS5kZVwiOiAxLFxuICBcIm15LWdhdGV3YXkuZGVcIjogMSxcbiAgXCJteS1yb3V0ZXIuZGVcIjogMSxcbiAgXCJzcGRucy5kZVwiOiAxLFxuICBcInNwZG5zLmV1XCI6IDEsXG4gIFwiZmlyZXdhbGwtZ2F0ZXdheS5uZXRcIjogMSxcbiAgXCJteS1maXJld2FsbC5vcmdcIjogMSxcbiAgXCJteWZpcmV3YWxsLm9yZ1wiOiAxLFxuICBcInNwZG5zLm9yZ1wiOiAxLFxuICBcInNlaWRhdC5uZXRcIjogMSxcbiAgXCJzZWxsZnkuc3RvcmVcIjogMSxcbiAgXCJzZW5zZWVyaW5nLm5ldFwiOiAxLFxuICBcIm1pbmlzaXRlLm1zXCI6IDEsXG4gIFwibWFnbmV0LnBhZ2VcIjogMSxcbiAgXCJiaXoudWFcIjogMSxcbiAgXCJjby51YVwiOiAxLFxuICBcInBwLnVhXCI6IDEsXG4gIFwic2hpZnRjcnlwdG8uZGV2XCI6IDEsXG4gIFwic2hpZnRjcnlwdG8uaW9cIjogMSxcbiAgXCJzaGlmdGVkaXQuaW9cIjogMSxcbiAgXCJteXNob3BibG9ja3MuY29tXCI6IDEsXG4gIFwibXlzaG9waWZ5LmNvbVwiOiAxLFxuICBcInNob3BpdHNpdGUuY29tXCI6IDEsXG4gIFwic2hvcHdhcmUuc3RvcmVcIjogMSxcbiAgXCJtby1zaWVtZW5zLmlvXCI6IDEsXG4gIFwiMWthcHAuY29tXCI6IDEsXG4gIFwiYXBwY2hpemkuY29tXCI6IDEsXG4gIFwiYXBwbGluemkuY29tXCI6IDEsXG4gIFwic2luYWFwcC5jb21cIjogMSxcbiAgXCJ2aXBzaW5hYXBwLmNvbVwiOiAxLFxuICBcInNpdGVsZWFmLm5ldFwiOiAxLFxuICBcImJvdW50eS1mdWxsLmNvbVwiOiAxLFxuICBcImFscGhhLmJvdW50eS1mdWxsLmNvbVwiOiAxLFxuICBcImJldGEuYm91bnR5LWZ1bGwuY29tXCI6IDEsXG4gIFwiYWVyb3BvcnQuZnJcIjogMSxcbiAgXCJhdm9jYXQuZnJcIjogMSxcbiAgXCJjaGFtYmFncmkuZnJcIjogMSxcbiAgXCJjaGlydXJnaWVucy1kZW50aXN0ZXMuZnJcIjogMSxcbiAgXCJleHBlcnRzLWNvbXB0YWJsZXMuZnJcIjogMSxcbiAgXCJtZWRlY2luLmZyXCI6IDEsXG4gIFwibm90YWlyZXMuZnJcIjogMSxcbiAgXCJwaGFybWFjaWVuLmZyXCI6IDEsXG4gIFwicG9ydC5mclwiOiAxLFxuICBcInZldGVyaW5haXJlLmZyXCI6IDEsXG4gIFwic21hbGwtd2ViLm9yZ1wiOiAxLFxuICBcInZwNC5tZVwiOiAxLFxuICBcInNub3dmbGFrZS5hcHBcIjogMSxcbiAgXCJwcml2YXRlbGluay5zbm93Zmxha2UuYXBwXCI6IDEsXG4gIFwic3RyZWFtbGl0LmFwcFwiOiAxLFxuICBcInN0cmVhbWxpdGFwcC5jb21cIjogMSxcbiAgXCJ0cnktc25vd3Bsb3cuY29tXCI6IDEsXG4gIFwic3JodC5zaXRlXCI6IDEsXG4gIFwic3RhY2toZXJvLW5ldHdvcmsuY29tXCI6IDEsXG4gIFwibXVzaWNpYW4uaW9cIjogMSxcbiAgXCJub3ZlY29yZS5zaXRlXCI6IDEsXG4gIFwic3RhdGljLmxhbmRcIjogMSxcbiAgXCJkZXYuc3RhdGljLmxhbmRcIjogMSxcbiAgXCJzaXRlcy5zdGF0aWMubGFuZFwiOiAxLFxuICBcInN0b3JlYmFzZS5zdG9yZVwiOiAxLFxuICBcInZwcy1ob3N0Lm5ldFwiOiAxLFxuICBcImF0bC5qZWxhc3RpYy52cHMtaG9zdC5uZXRcIjogMSxcbiAgXCJuanMuamVsYXN0aWMudnBzLWhvc3QubmV0XCI6IDEsXG4gIFwicmljLmplbGFzdGljLnZwcy1ob3N0Lm5ldFwiOiAxLFxuICBcInBsYXlzdGF0aW9uLWNsb3VkLmNvbVwiOiAxLFxuICBcImFwcHMubGFpci5pb1wiOiAxLFxuICBcInN0b2xvcy5pb1wiOiAyLFxuICBcInNwYWNla2l0LmlvXCI6IDEsXG4gIFwiY3VzdG9tZXIuc3BlZWRwYXJ0bmVyLmRlXCI6IDEsXG4gIFwibXlzcHJlYWRzaG9wLmF0XCI6IDEsXG4gIFwibXlzcHJlYWRzaG9wLmNvbS5hdVwiOiAxLFxuICBcIm15c3ByZWFkc2hvcC5iZVwiOiAxLFxuICBcIm15c3ByZWFkc2hvcC5jYVwiOiAxLFxuICBcIm15c3ByZWFkc2hvcC5jaFwiOiAxLFxuICBcIm15c3ByZWFkc2hvcC5jb21cIjogMSxcbiAgXCJteXNwcmVhZHNob3AuZGVcIjogMSxcbiAgXCJteXNwcmVhZHNob3AuZGtcIjogMSxcbiAgXCJteXNwcmVhZHNob3AuZXNcIjogMSxcbiAgXCJteXNwcmVhZHNob3AuZmlcIjogMSxcbiAgXCJteXNwcmVhZHNob3AuZnJcIjogMSxcbiAgXCJteXNwcmVhZHNob3AuaWVcIjogMSxcbiAgXCJteXNwcmVhZHNob3AuaXRcIjogMSxcbiAgXCJteXNwcmVhZHNob3AubmV0XCI6IDEsXG4gIFwibXlzcHJlYWRzaG9wLm5sXCI6IDEsXG4gIFwibXlzcHJlYWRzaG9wLm5vXCI6IDEsXG4gIFwibXlzcHJlYWRzaG9wLnBsXCI6IDEsXG4gIFwibXlzcHJlYWRzaG9wLnNlXCI6IDEsXG4gIFwibXlzcHJlYWRzaG9wLmNvLnVrXCI6IDEsXG4gIFwiYXBpLnN0ZGxpYi5jb21cIjogMSxcbiAgXCJzdG9yaXByZXNzLmFwcFwiOiAxLFxuICBcInN0b3JqLmZhcm1cIjogMSxcbiAgXCJ1dHdlbnRlLmlvXCI6IDEsXG4gIFwic29jLnNyY2YubmV0XCI6IDEsXG4gIFwidXNlci5zcmNmLm5ldFwiOiAxLFxuICBcInRlbXAtZG5zLmNvbVwiOiAxLFxuICBcInN1cGFiYXNlLmNvXCI6IDEsXG4gIFwic3VwYWJhc2UuaW5cIjogMSxcbiAgXCJzdXBhYmFzZS5uZXRcIjogMSxcbiAgXCJzdS5wYWJhLnNlXCI6IDEsXG4gIFwiczV5LmlvXCI6IDIsXG4gIFwic2Vuc2lvc2l0ZS5jbG91ZFwiOiAyLFxuICBcInN5bmNsb3VkLml0XCI6IDEsXG4gIFwiZHNjbG91ZC5iaXpcIjogMSxcbiAgXCJkaXJlY3QucXVpY2tjb25uZWN0LmNuXCI6IDEsXG4gIFwiZHNteW5hcy5jb21cIjogMSxcbiAgXCJmYW1pbHlkcy5jb21cIjogMSxcbiAgXCJkaXNrc3RhdGlvbi5tZVwiOiAxLFxuICBcImRzY2xvdWQubWVcIjogMSxcbiAgXCJpMjM0Lm1lXCI6IDEsXG4gIFwibXlkcy5tZVwiOiAxLFxuICBcInN5bm9sb2d5Lm1lXCI6IDEsXG4gIFwiZHNjbG91ZC5tb2JpXCI6IDEsXG4gIFwiZHNteW5hcy5uZXRcIjogMSxcbiAgXCJmYW1pbHlkcy5uZXRcIjogMSxcbiAgXCJkc215bmFzLm9yZ1wiOiAxLFxuICBcImZhbWlseWRzLm9yZ1wiOiAxLFxuICBcInZwbnBsdXMudG9cIjogMSxcbiAgXCJkaXJlY3QucXVpY2tjb25uZWN0LnRvXCI6IDEsXG4gIFwidGFiaXRvcmRlci5jby5pbFwiOiAxLFxuICBcIm15dGFiaXQuY28uaWxcIjogMSxcbiAgXCJteXRhYml0LmNvbVwiOiAxLFxuICBcInRhaWZ1bi1kbnMuZGVcIjogMSxcbiAgXCJiZXRhLnRhaWxzY2FsZS5uZXRcIjogMSxcbiAgXCJ0cy5uZXRcIjogMSxcbiAgXCJnZGEucGxcIjogMSxcbiAgXCJnZGFuc2sucGxcIjogMSxcbiAgXCJnZHluaWEucGxcIjogMSxcbiAgXCJtZWQucGxcIjogMSxcbiAgXCJzb3BvdC5wbFwiOiAxLFxuICBcInNpdGUudGItaG9zdGluZy5jb21cIjogMSxcbiAgXCJlZHVnaXQuaW9cIjogMSxcbiAgXCJzMy50ZWNraWRzLm9yZ1wiOiAxLFxuICBcInRlbGViaXQuYXBwXCI6IDEsXG4gIFwidGVsZWJpdC5pb1wiOiAxLFxuICBcInRlbGViaXQueHl6XCI6IDIsXG4gIFwiZmlyZW5ldC5jaFwiOiAyLFxuICBcInN2Yy5maXJlbmV0LmNoXCI6IDIsXG4gIFwicmVzZXJ2ZC5jb21cIjogMSxcbiAgXCJ0aGluZ2R1c3RkYXRhLmNvbVwiOiAxLFxuICBcImN1c3QuZGV2LnRoaW5nZHVzdC5pb1wiOiAxLFxuICBcImN1c3QuZGlzcmVjLnRoaW5nZHVzdC5pb1wiOiAxLFxuICBcImN1c3QucHJvZC50aGluZ2R1c3QuaW9cIjogMSxcbiAgXCJjdXN0LnRlc3RpbmcudGhpbmdkdXN0LmlvXCI6IDEsXG4gIFwicmVzZXJ2ZC5kZXYudGhpbmdkdXN0LmlvXCI6IDEsXG4gIFwicmVzZXJ2ZC5kaXNyZWMudGhpbmdkdXN0LmlvXCI6IDEsXG4gIFwicmVzZXJ2ZC50ZXN0aW5nLnRoaW5nZHVzdC5pb1wiOiAxLFxuICBcInRpY2tldHMuaW9cIjogMSxcbiAgXCJhcnZvLm5ldHdvcmtcIjogMSxcbiAgXCJhemltdXRoLm5ldHdvcmtcIjogMSxcbiAgXCJ0bG9uLm5ldHdvcmtcIjogMSxcbiAgXCJ0b3Jwcm9qZWN0Lm5ldFwiOiAxLFxuICBcInBhZ2VzLnRvcnByb2plY3QubmV0XCI6IDEsXG4gIFwiYmxveGNtcy5jb21cIjogMSxcbiAgXCJ0b3dubmV3cy1zdGFnaW5nLmNvbVwiOiAxLFxuICBcIjEyaHAuYXRcIjogMSxcbiAgXCIyaXguYXRcIjogMSxcbiAgXCI0bGltYS5hdFwiOiAxLFxuICBcImxpbWEtY2l0eS5hdFwiOiAxLFxuICBcIjEyaHAuY2hcIjogMSxcbiAgXCIyaXguY2hcIjogMSxcbiAgXCI0bGltYS5jaFwiOiAxLFxuICBcImxpbWEtY2l0eS5jaFwiOiAxLFxuICBcInRyYWZmaWNwbGV4LmNsb3VkXCI6IDEsXG4gIFwiZGUuY29vbFwiOiAxLFxuICBcIjEyaHAuZGVcIjogMSxcbiAgXCIyaXguZGVcIjogMSxcbiAgXCI0bGltYS5kZVwiOiAxLFxuICBcImxpbWEtY2l0eS5kZVwiOiAxLFxuICBcIjEzMzcucGljdHVyZXNcIjogMSxcbiAgXCJjbGFuLnJpcFwiOiAxLFxuICBcImxpbWEtY2l0eS5yb2Nrc1wiOiAxLFxuICBcIndlYnNwYWNlLnJvY2tzXCI6IDEsXG4gIFwibGltYS56b25lXCI6IDEsXG4gIFwidHJhbnN1cmwuYmVcIjogMixcbiAgXCJ0cmFuc3VybC5ldVwiOiAyLFxuICBcInRyYW5zdXJsLm5sXCI6IDIsXG4gIFwic2l0ZS50cmFuc2lwLm1lXCI6IDEsXG4gIFwidHV4ZmFtaWx5Lm9yZ1wiOiAxLFxuICBcImRkLWRucy5kZVwiOiAxLFxuICBcImRpc2tzdGF0aW9uLmV1XCI6IDEsXG4gIFwiZGlza3N0YXRpb24ub3JnXCI6IDEsXG4gIFwiZHJheS1kbnMuZGVcIjogMSxcbiAgXCJkcmF5ZG5zLmRlXCI6IDEsXG4gIFwiZHluLXZwbi5kZVwiOiAxLFxuICBcImR5bnZwbi5kZVwiOiAxLFxuICBcIm1laW4tdmlnb3IuZGVcIjogMSxcbiAgXCJteS12aWdvci5kZVwiOiAxLFxuICBcIm15LXdhbi5kZVwiOiAxLFxuICBcInN5bm8tZHMuZGVcIjogMSxcbiAgXCJzeW5vbG9neS1kaXNrc3RhdGlvbi5kZVwiOiAxLFxuICBcInN5bm9sb2d5LWRzLmRlXCI6IDEsXG4gIFwidHlwZWRyZWFtLmFwcFwiOiAxLFxuICBcInByby50eXBlZm9ybS5jb21cIjogMSxcbiAgXCJ1YmVyLnNwYWNlXCI6IDEsXG4gIFwidWJlcnNwYWNlLmRlXCI6IDIsXG4gIFwiaGsuY29tXCI6IDEsXG4gIFwiaGsub3JnXCI6IDEsXG4gIFwibHRkLmhrXCI6IDEsXG4gIFwiaW5jLmhrXCI6IDEsXG4gIFwiaXQuY29tXCI6IDEsXG4gIFwibmFtZS5wbVwiOiAxLFxuICBcInNjaC50ZlwiOiAxLFxuICBcImJpei53ZlwiOiAxLFxuICBcInNjaC53ZlwiOiAxLFxuICBcIm9yZy55dFwiOiAxLFxuICBcInZpcnR1YWx1c2VyLmRlXCI6IDEsXG4gIFwidmlydHVhbC11c2VyLmRlXCI6IDEsXG4gIFwidXBsaS5pb1wiOiAxLFxuICBcInVyb3duLmNsb3VkXCI6IDEsXG4gIFwiZG5zdXBkYXRlLmluZm9cIjogMSxcbiAgXCJsaWIuZGUudXNcIjogMSxcbiAgXCIyMDM4LmlvXCI6IDEsXG4gIFwidmVyY2VsLmFwcFwiOiAxLFxuICBcInZlcmNlbC5kZXZcIjogMSxcbiAgXCJub3cuc2hcIjogMSxcbiAgXCJyb3V0ZXIubWFuYWdlbWVudFwiOiAxLFxuICBcInYtaW5mby5pbmZvXCI6IDEsXG4gIFwidm9vcmxvcGVyLmNsb3VkXCI6IDEsXG4gIFwibmVrby5hbVwiOiAxLFxuICBcIm55YWEuYW1cIjogMSxcbiAgXCJiZS5heFwiOiAxLFxuICBcImNhdC5heFwiOiAxLFxuICBcImVzLmF4XCI6IDEsXG4gIFwiZXUuYXhcIjogMSxcbiAgXCJnZy5heFwiOiAxLFxuICBcIm1jLmF4XCI6IDEsXG4gIFwidXMuYXhcIjogMSxcbiAgXCJ4eS5heFwiOiAxLFxuICBcIm5sLmNpXCI6IDEsXG4gIFwieHguZ2xcIjogMSxcbiAgXCJhcHAuZ3BcIjogMSxcbiAgXCJibG9nLmd0XCI6IDEsXG4gIFwiZGUuZ3RcIjogMSxcbiAgXCJ0by5ndFwiOiAxLFxuICBcImJlLmd5XCI6IDEsXG4gIFwiY2MuaG5cIjogMSxcbiAgXCJibG9nLmtnXCI6IDEsXG4gIFwiaW8ua2dcIjogMSxcbiAgXCJqcC5rZ1wiOiAxLFxuICBcInR2LmtnXCI6IDEsXG4gIFwidWsua2dcIjogMSxcbiAgXCJ1cy5rZ1wiOiAxLFxuICBcImRlLmxzXCI6IDEsXG4gIFwiYXQubWRcIjogMSxcbiAgXCJkZS5tZFwiOiAxLFxuICBcImpwLm1kXCI6IDEsXG4gIFwidG8ubWRcIjogMSxcbiAgXCJpbmRpZS5wb3JuXCI6IDEsXG4gIFwidnhsLnNoXCI6IDEsXG4gIFwiY2gudGNcIjogMSxcbiAgXCJtZS50Y1wiOiAxLFxuICBcIndlLnRjXCI6IDEsXG4gIFwibnlhbi50b1wiOiAxLFxuICBcImF0LnZnXCI6IDEsXG4gIFwiYmxvZy52dVwiOiAxLFxuICBcImRldi52dVwiOiAxLFxuICBcIm1lLnZ1XCI6IDEsXG4gIFwidi51YVwiOiAxLFxuICBcInZ1bHRyb2JqZWN0cy5jb21cIjogMixcbiAgXCJ3YWZmbGVjZWxsLmNvbVwiOiAxLFxuICBcIndlYmhhcmUuZGV2XCI6IDIsXG4gIFwicmVzZXJ2ZS1vbmxpbmUubmV0XCI6IDEsXG4gIFwicmVzZXJ2ZS1vbmxpbmUuY29tXCI6IDEsXG4gIFwiYm9va29ubGluZS5hcHBcIjogMSxcbiAgXCJob3RlbHdpdGhmbGlnaHQuY29tXCI6IDEsXG4gIFwid2VkZXBsb3kuaW9cIjogMSxcbiAgXCJ3ZWRlcGxveS5tZVwiOiAxLFxuICBcIndlZGVwbG95LnNoXCI6IDEsXG4gIFwicmVtb3Rld2QuY29tXCI6IDEsXG4gIFwicGFnZXMud2lhcmR3ZWIuY29tXCI6IDEsXG4gIFwid21mbGFicy5vcmdcIjogMSxcbiAgXCJ0b29sZm9yZ2Uub3JnXCI6IDEsXG4gIFwid21jbG91ZC5vcmdcIjogMSxcbiAgXCJwYW5lbC5nZ1wiOiAxLFxuICBcImRhZW1vbi5wYW5lbC5nZ1wiOiAxLFxuICBcIm1lc3N3aXRoZG5zLmNvbVwiOiAxLFxuICBcIndvbHRsYWItZGVtby5jb21cIjogMSxcbiAgXCJteWZvcnVtLmNvbW11bml0eVwiOiAxLFxuICBcImNvbW11bml0eS1wcm8uZGVcIjogMSxcbiAgXCJkaXNrdXNzaW9uc2JlcmVpY2guZGVcIjogMSxcbiAgXCJjb21tdW5pdHktcHJvLm5ldFwiOiAxLFxuICBcIm1laW5mb3J1bS5uZXRcIjogMSxcbiAgXCJhZmZpbml0eWxvdHRlcnkub3JnLnVrXCI6IDEsXG4gIFwicmFmZmxlZW50cnkub3JnLnVrXCI6IDEsXG4gIFwid2Vla2x5bG90dGVyeS5vcmcudWtcIjogMSxcbiAgXCJ3cGVuZ2luZXBvd2VyZWQuY29tXCI6IDEsXG4gIFwianMud3BlbmdpbmVwb3dlcmVkLmNvbVwiOiAxLFxuICBcIndpeHNpdGUuY29tXCI6IDEsXG4gIFwiZWRpdG9yeC5pb1wiOiAxLFxuICBcIndpeHN0dWRpby5pb1wiOiAxLFxuICBcIndpeC5ydW5cIjogMSxcbiAgXCJoYWxmLmhvc3RcIjogMSxcbiAgXCJ4bmJheS5jb21cIjogMSxcbiAgXCJ1Mi54bmJheS5jb21cIjogMSxcbiAgXCJ1Mi1sb2NhbC54bmJheS5jb21cIjogMSxcbiAgXCJjaXN0cm9uLm5sXCI6IDEsXG4gIFwiZGVtb24ubmxcIjogMSxcbiAgXCJ4czRhbGwuc3BhY2VcIjogMSxcbiAgXCJ5YW5kZXhjbG91ZC5uZXRcIjogMSxcbiAgXCJzdG9yYWdlLnlhbmRleGNsb3VkLm5ldFwiOiAxLFxuICBcIndlYnNpdGUueWFuZGV4Y2xvdWQubmV0XCI6IDEsXG4gIFwib2ZmaWNpYWwuYWNhZGVteVwiOiAxLFxuICBcInlvbGFzaXRlLmNvbVwiOiAxLFxuICBcInliby5mYWl0aFwiOiAxLFxuICBcInlvbWJvLm1lXCI6IDEsXG4gIFwiaG9tZWxpbmsub25lXCI6IDEsXG4gIFwieWJvLnBhcnR5XCI6IDEsXG4gIFwieWJvLnJldmlld1wiOiAxLFxuICBcInliby5zY2llbmNlXCI6IDEsXG4gIFwieWJvLnRyYWRlXCI6IDEsXG4gIFwieW5oLmZyXCI6IDEsXG4gIFwibm9ob3N0Lm1lXCI6IDEsXG4gIFwibm9oby5zdFwiOiAxLFxuICBcInphLm5ldFwiOiAxLFxuICBcInphLm9yZ1wiOiAxLFxuICBcImJzcy5kZXNpZ25cIjogMSxcbiAgXCJiYXNpY3NlcnZlci5pb1wiOiAxLFxuICBcInZpcnR1YWxzZXJ2ZXIuaW9cIjogMSxcbiAgXCJlbnRlcnByaXNlY2xvdWQubnVcIjogMVxufSIsImV4cG9ydHMucmVzb3VyY2VzID0ge1xuICBcImJsYW5rLXRleHRcIjogXCJkYXRhOnRleHQvcGxhaW4sXCIsXG4gIFwiYmxhbmstY3NzXCI6IFwiZGF0YTp0ZXh0L2NzcyxcIixcbiAgXCJibGFuay1qc1wiOiBcImRhdGE6YXBwbGljYXRpb24vamF2YXNjcmlwdCxcIixcbiAgXCJibGFuay1odG1sXCI6IFwiZGF0YTp0ZXh0L2h0bWwsPCFET0NUWVBFIGh0bWw+PGh0bWw+PGhlYWQ+PC9oZWFkPjxib2R5PjwvYm9keT48L2h0bWw+XCIsXG4gIFwiYmxhbmstbXAzXCI6IFwiZGF0YTphdWRpby9tcGVnO2Jhc2U2NCxTVVF6QkFBQUFBQUFJMVJUVTBVQUFBQVBBQUFEVEdGMlpqVTRMakl3TGpFd01BQUFBQUFBQUFBQUFBQUEvL3RVQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFTVzVtYndBQUFBOEFBQUFHQUFBREFBQmdZR0JnWUdCZ1lHQmdZR0JnWUdCZ2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDZ29LQ2dvS0Nnb0tDZ29LQ2dvS0Nnd01EQXdNREF3TURBd01EQXdNREF3TURnNE9EZzRPRGc0T0RnNE9EZzRPRGc0UC8vLy8vLy8vLy8vLy8vLy8vLy8vOEFBQUFBVEdGMll6VTRMak0xQUFBQUFBQUFBQUFBQUFBQUpBWUFBQUFBQUFBQUF3RFZ4dHRHLy9zVVpBQVA4QUFBYVFBQUFBZ0FBQTBnQUFBQkFBQUJwQUFBQUNBQUFEU0FBQUFFVEVGTlJUTXVNVEF3VlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlYvL3NVWkI0UDhBQUFhUUFBQUFnQUFBMGdBQUFCQUFBQnBBQUFBQ0FBQURTQUFBQUVWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVi8vc1VaRHdQOEFBQWFRQUFBQWdBQUEwZ0FBQUJBQUFCcEFBQUFDQUFBRFNBQUFBRVZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWLy9zVVpGb1A4QUFBYVFBQUFBZ0FBQTBnQUFBQkFBQUJwQUFBQUNBQUFEU0FBQUFFVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlYvL3NVWkhnUDhBQUFhUUFBQUFnQUFBMGdBQUFCQUFBQnBBQUFBQ0FBQURTQUFBQUVWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVi8vc1VaSllQOEFBQWFRQUFBQWdBQUEwZ0FBQUJBQUFCcEFBQUFDQUFBRFNBQUFBRVZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWXCIsXG4gIFwiYmxhbmstbXA0XCI6IFwiZGF0YTp2aWRlby9tcDQ7YmFzZTY0LEFBQUFJR1owZVhCcGMyOXRBQUFDQUdsemIyMXBjMjh5WVhaak1XMXdOREVBQUFBSVpuSmxaUUFBQXVKdFpHRjBBQUFDcndZRi8vK3IzRVhwdmViWlNMZVdMTmdnMlNQdTczZ3lOalFnTFNCamIzSmxJREUyTUNCeU16QXhNVTBnWTJSbE9XRTVNeUF0SUVndU1qWTBMMDFRUlVjdE5DQkJWa01nWTI5a1pXTWdMU0JEYjNCNWJHVm1kQ0F5TURBekxUSXdNakFnTFNCb2RIUndPaTh2ZDNkM0xuWnBaR1Z2YkdGdUxtOXlaeTk0TWpZMExtaDBiV3dnTFNCdmNIUnBiMjV6T2lCallXSmhZejB4SUhKbFpqMHpJR1JsWW14dlkyczlNVG93T2pBZ1lXNWhiSGx6WlQwd2VETTZNSGd4TVRNZ2JXVTlhR1Y0SUhOMVltMWxQVGNnY0hONVBURWdjSE41WDNKa1BURXVNREE2TUM0d01DQnRhWGhsWkY5eVpXWTlNU0J0WlY5eVlXNW5aVDB4TmlCamFISnZiV0ZmYldVOU1DQjBjbVZzYkdselBURWdPSGc0WkdOMFBURWdZM0Z0UFRBZ1pHVmhaSHB2Ym1VOU1qRXNNVEVnWm1GemRGOXdjMnRwY0QweElHTm9jbTl0WVY5eGNGOXZabVp6WlhROUxUSWdkR2h5WldGa2N6MHlJR3h2YjJ0aGFHVmhaRjkwYUhKbFlXUnpQVEVnYzJ4cFkyVmtYM1JvY21WaFpITTlNQ0J1Y2owd0lHUmxZMmx0WVhSbFBURWdhVzUwWlhKc1lXTmxaRDB3SUdKc2RYSmhlVjlqYjIxd1lYUTlNQ0JqYjI1emRISmhhVzVsWkY5cGJuUnlZVDB3SUdKbWNtRnRaWE05TXlCaVgzQjVjbUZ0YVdROU1pQmlYMkZrWVhCMFBURWdZbDlpYVdGelBUQWdaR2x5WldOMFBURWdkMlZwWjJoMFlqMHhJRzl3Wlc1ZloyOXdQVEFnZDJWcFoyaDBjRDB5SUd0bGVXbHVkRDB5TlRBZ2EyVjVhVzUwWDIxcGJqMHlOU0J6WTJWdVpXTjFkRDAwTUNCcGJuUnlZVjl5WldaeVpYTm9QVEFnY21OZmJHOXZhMkZvWldGa1BUUXdJSEpqUFdOeVppQnRZblJ5WldVOU1TQmpjbVk5TWpNdU1DQnhZMjl0Y0Qwd0xqWXdJSEZ3YldsdVBUQWdjWEJ0WVhnOU5qa2djWEJ6ZEdWd1BUUWdhWEJmY21GMGFXODlNUzQwTUNCaGNUMHhPakV1TURBQWdBQUFBQ05saUlRQUsvLys5ZHZ6TEs1dW1qYmU5amMyQ1Q5RVBjZm5vT1lDMnRqdFArZ280UUFBQXdSdGIyOTJBQUFBYkcxMmFHUUFBQUFBQUFBQUFBQUFBQUFBQUFQb0FBQUFLQUFCQUFBQkFBQUFBQUFBQUFBQUFBQUFBUUFBQUFBQUFBQUFBQUFBQUFBQUFBRUFBQUFBQUFBQUFBQUFBQUFBQUVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUNBQUFDTG5SeVlXc0FBQUJjZEd0b1pBQUFBQU1BQUFBQUFBQUFBQUFBQUFFQUFBQUFBQUFBS0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQVFBQUFBQUFBQUFBQUFBQUFBQUFBQUVBQUFBQUFBQUFBQUFBQUFBQUFFQUFBQUFBWkFBQUFEZ0FBQUFBQUNSbFpIUnpBQUFBSEdWc2MzUUFBQUFBQUFBQUFRQUFBQ2dBQUFBQUFBRUFBQUFBQWFadFpHbGhBQUFBSUcxa2FHUUFBQUFBQUFBQUFBQUFBQUFBQURJQUFBQUNBRlhFQUFBQUFBQXRhR1JzY2dBQUFBQUFBQUFBZG1sa1pRQUFBQUFBQUFBQUFBQUFBRlpwWkdWdlNHRnVaR3hsY2dBQUFBRlJiV2x1WmdBQUFCUjJiV2hrQUFBQUFRQUFBQUFBQUFBQUFBQUFKR1JwYm1ZQUFBQWNaSEpsWmdBQUFBQUFBQUFCQUFBQURIVnliQ0FBQUFBQkFBQUJFWE4wWW13QUFBQ3RjM1J6WkFBQUFBQUFBQUFCQUFBQW5XRjJZekVBQUFBQUFBQUFBUUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFaQUE0QUVnQUFBQklBQUFBQUFBQUFBRUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBWS8vOEFBQUEzWVhaalF3RmtBQXIvNFFBYVoyUUFDdk5sSEo0Mkp3RVFBQUFEQUJBQUFBTURJUEVpV1dBQkFBWm82K1BMSXNEOCtQZ0FBQUFBRUhCaGMzQUFBQUFCQUFBQUFRQUFBQmh6ZEhSekFBQUFBQUFBQUFFQUFBQUJBQUFDQUFBQUFCeHpkSE5qQUFBQUFBQUFBQUVBQUFBQkFBQUFBUUFBQUFFQUFBQVVjM1J6ZWdBQUFBQUFBQUxhQUFBQUFRQUFBQlJ6ZEdOdkFBQUFBQUFBQUFFQUFBQXdBQUFBWW5Wa2RHRUFBQUJhYldWMFlRQUFBQUFBQUFBaGFHUnNjZ0FBQUFBQUFBQUFiV1JwY21Gd2NHd0FBQUFBQUFBQUFBQUFBQUF0YVd4emRBQUFBQ1dwZEc5dkFBQUFIV1JoZEdFQUFBQUJBQUFBQUV4aGRtWTFPQzQwTlM0eE1EQT1cIixcbiAgXCIxeDEtdHJhbnNwYXJlbnQtZ2lmXCI6IFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUJBQUFBQVAvLy95SDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PVwiLFxuICBcIjJ4Mi10cmFuc3BhcmVudC1wbmdcIjogXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFJQUFBQUNDQVlBQUFCeXRnMGtBQUFBQzBsRVFWUUkxMk5nUUFjQUFCSUFBZStKVktRQUFBQUFTVVZPUks1Q1lJST1cIixcbiAgXCIzeDItdHJhbnNwYXJlbnQtcG5nXCI6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBTUFBQUFDQ0FZQUFBQ2RkR1lhQUFBQUMwbEVRVlFJMTJOZ3dBVUFBQm9BQVNSRVR1VUFBQUFBU1VWT1JLNUNZSUk9XCIsXG4gIFwiMzJ4MzItdHJhbnNwYXJlbnQtcG5nXCI6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBQUdrbEVRVlJZdyszQkFRRUFBQUNDSVArdmJraEFBUUFBQU84R0VDQUFBWmYzVjljQUFBQUFTVVZPUks1Q1lJST1cIlxufSIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi8qKiBAbW9kdWxlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7UHJlZnN9ID0gcmVxdWlyZShcInByZWZzXCIpO1xuXG5jb25zdCB7TUlMTElTX0lOX0RBWX0gPSByZXF1aXJlKFwiLi90aW1lXCIpO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgdmVyc2lvbiBzdHJpbmcgaW50byBhIGBEYXRlYCBvYmplY3Qgd2l0aCBtaW51dGUtbGV2ZWwgcHJlY2lzaW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uIFRoZSB2ZXJzaW9uIHN0cmluZyBpbiBgWVlZWU1NRERbSEhbTU1dXWAgZm9ybWF0IG9yXG4gKiAgIGp1c3QgdGhlIHZhbHVlIGBcIjBcImAuXG4gKlxuICogQHJldHVybnMge0RhdGV9IEEgYERhdGVgIG9iamVjdC4gSWYgdGhlIHZhbHVlIG9mIGB2ZXJzaW9uYCBpcyBgXCIwXCJgLCB0aGVcbiAqICAgcmV0dXJuZWQgdmFsdWUgcmVwcmVzZW50cyB0aGUgVW5peCBlcG9jaC5cbiAqL1xuZnVuY3Rpb24gdmVyc2lvblRvRGF0ZSh2ZXJzaW9uKSB7XG4gIGlmICh2ZXJzaW9uID09IFwiMFwiKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKDApO1xuICB9XG5cbiAgbGV0IHllYXIgPSB2ZXJzaW9uLnN1YnN0cmluZygwLCA0KTtcbiAgbGV0IG1vbnRoID0gdmVyc2lvbi5zdWJzdHJpbmcoNCwgNik7XG4gIGxldCBkYXRlID0gdmVyc2lvbi5zdWJzdHJpbmcoNiwgOCk7XG5cbiAgbGV0IGhvdXJzID0gdmVyc2lvbi5zdWJzdHJpbmcoOCwgMTApIHx8IFwiMDBcIjtcbiAgbGV0IG1pbnV0ZXMgPSB2ZXJzaW9uLnN1YnN0cmluZygxMCwgMTIpIHx8IFwiMDBcIjtcblxuICAvLyBUaGUgaW5wdXQgaXMgbmVhcmx5IGEgdmFsaWQgSVNPIDg2MDEgdGltZXN0YW1wLCBleGNlcHQgZm9yIHRoZSBoeXBoZW5zLFxuICAvLyB0aGUgY29sb24sIGFuZCB0aGUgc3BlY2lhbCBjaGFyYWN0ZXJzIFQgYW5kIFouIFdlIGNhbiB1c2UgdGhlIHRpbWVzdGFtcFxuICAvLyBzdHJpbmcgdmVyc2lvbiBvZiB0aGUgRGF0ZSBjb25zdHJ1Y3RvciBkaXJlY3RseS4gQWx0ZXJuYXRpdmVseSwgd2UgY291bGRcbiAgLy8gdXNlIERhdGUuVVRDKCksIGJ1dCB0aGF0IHdvdWxkIHJlcXVpcmUgc29tZSBhZGp1c3RtZW50IHRvIHRoZSB2YWx1ZXNcbiAgLy8gKGUuZy4gdGhlIG1vbnRoIG11c3QgYmUgMC1iYXNlZCkuXG4gIHJldHVybiBuZXcgRGF0ZShgJHt5ZWFyfS0ke21vbnRofS0ke2RhdGV9VCR7aG91cnN9OiR7bWludXRlc31aYCk7XG59XG5cbi8qKlxuICogU3RyaXBzIHRoZSB2YWx1ZSBvZiB0aGUgYGZpcnN0VmVyc2lvbmAgcGFyYW1ldGVyIGRvd24gdG8gZWl0aGVyIGBZWVlZTU1ERGAsXG4gKiBgWVlZWU1NYCwgb3IgYFlZWVlgIGRlcGVuZGluZyBvbiBpdHMgZGlzdGFuY2UgZnJvbSB0aGUgdmFsdWUgb2YgdGhlXG4gKiBgY3VycmVudFZlcnNpb25gIHBhcmFtZXRlci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlyc3RWZXJzaW9uIEEgdmVyc2lvbiBzdHJpbmcgaW4gYFlZWVlNTUREW0hIW01NXV1gIGZvcm1hdFxuICogICB3aXRoIGFuIG9wdGlvbmFsIGBcIi1FXCJgIHN1ZmZpeCBvciBqdXN0IGBcIjBcImAgb3IgYFwiMC1FXCJgLlxuICogQHBhcmFtIHtzdHJpbmd9IGN1cnJlbnRWZXJzaW9uIEEgdmVyc2lvbiBzdHJpbmcgaW4gYFlZWVlNTUREW0hIW01NXV1gIGZvcm1hdFxuICogICBvciBqdXN0IGBcIjBcImAuXG4gKlxuICogQHJldHVybnMgez9zdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHN0cmlwRmlyc3RWZXJzaW9uKGZpcnN0VmVyc2lvbiwgY3VycmVudFZlcnNpb24pIHtcbiAgbGV0IGVGbGFnID0gZmlyc3RWZXJzaW9uLmVuZHNXaXRoKFwiLUVcIik7XG4gIGlmIChlRmxhZykge1xuICAgIGZpcnN0VmVyc2lvbiA9IGZpcnN0VmVyc2lvbi5zbGljZSgwLCAtMik7XG4gIH1cblxuICB0cnkge1xuICAgIGxldCBmaXJzdERhdGUgPSB2ZXJzaW9uVG9EYXRlKGZpcnN0VmVyc2lvbik7XG4gICAgbGV0IGN1cnJlbnREYXRlID0gdmVyc2lvblRvRGF0ZShjdXJyZW50VmVyc2lvbik7XG5cbiAgICBpZiAoY3VycmVudERhdGUgLSBmaXJzdERhdGUgPiAzNjUgKiBNSUxMSVNfSU5fREFZKSB7XG4gICAgICBmaXJzdFZlcnNpb24gPSBmaXJzdFZlcnNpb24uc3Vic3RyaW5nKDAsIDQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjdXJyZW50RGF0ZSAtIGZpcnN0RGF0ZSA+IDMwICogTUlMTElTX0lOX0RBWSkge1xuICAgICAgZmlyc3RWZXJzaW9uID0gZmlyc3RWZXJzaW9uLnN1YnN0cmluZygwLCA2KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBmaXJzdFZlcnNpb24gPSBmaXJzdFZlcnNpb24uc3Vic3RyaW5nKDAsIDgpO1xuICAgIH1cbiAgfVxuICBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChlRmxhZykge1xuICAgIGZpcnN0VmVyc2lvbiArPSBcIi1FXCI7XG4gIH1cblxuICByZXR1cm4gZmlyc3RWZXJzaW9uO1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoaXMgaXMgYSBmcmVzaCBpbnN0YWxsYXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNGcmVzaEluc3RhbGwoKSB7XG4gIHJldHVybiAhKFwiZGF0YVwiIGluIFByZWZzLm5vdGlmaWNhdGlvbmRhdGEpO1xufVxuXG4vKipcbiAqIGB7QGxpbmsgbW9kdWxlOmFuYWx5dGljcy5hbmFseXRpY3MgYW5hbHl0aWNzfWAgaW1wbGVtZW50YXRpb24uXG4gKi9cbmNsYXNzIEFuYWx5dGljcyB7XG4gIC8qKlxuICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gVVJMIGlzIHRydXN0ZWQgZm9yIGFuYWx5dGljcyBwdXJwb3NlcyBiYXNlZCBvblxuICAgKiB0aGUgdmFsdWUgb2YgdGhlIGBhbmFseXRpY3MudHJ1c3RlZEhvc3RzYCBwcmVmZXJlbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwuXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBVUkwgaXMgdHJ1c3RlZC5cbiAgICovXG4gIGlzVHJ1c3RlZCh1cmwpIHtcbiAgICBsZXQge3RydXN0ZWRIb3N0c30gPSBQcmVmcy5hbmFseXRpY3MgfHwge307XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJ1c3RlZEhvc3RzKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRIb3N0cy5pbmNsdWRlcyhuZXcgVVJMKHVybCkuaG9zdCk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHN0cmluZyBpbmRpY2F0aW5nIHRoZSB2ZXJzaW9uIG9mIHRoZSBmaXJzdCBldmVyIGRvd25sb2FkZWRcbiAgICogcmVzb3VyY2UgKGFzIHJlY29yZGVkIGJ5XG4gICAqIGB7QGxpbmsgbW9kdWxlOmFuYWx5dGljc35BbmFseXRpY3MjcmVjb3JkVmVyc2lvbiByZWNvcmRWZXJzaW9uKCl9YCksIGZvclxuICAgKiB0aGUgcHVycG9zZSBvZiBjb2hvcnQgYW5hbHlzaXMuXG4gICAqXG4gICAqIEZvciBwcml2YWN5IHJlYXNvbnMsIHRoZSBvcmlnaW5hbCB2YWx1ZSBpcyBzdHJpcHBlZCBkb3duIHRvIGVpdGhlclxuICAgKiBgWVlZWU1NRERgLCBgWVlZWU1NYCwgb3IgYFlZWVlgIGRlcGVuZGluZyBvbiBpdHMgYWdlLiBBbiBgLUVgIHN1ZmZpeCBpc1xuICAgKiBhcHBlbmRlZCB0byB0aGUgb3JpZ2luYWwgdmFsdWUgaWYgaXQgd2FzIHJlY29yZGVkIG9uIGFuIGV4aXN0aW5nXG4gICAqIGluc3RhbGxhdGlvbi5cbiAgICpcbiAgICogQHJldHVybnMgez9zdHJpbmd9IEEgc3RyaW5nIGluZGljYXRpbmcgdGhlIHZlcnNpb24gb2YgdGhlIGZpcnN0IGV2ZXJcbiAgICogICBkb3dubG9hZGVkIHJlc291cmNlLCBvciBgXCIwXCJgIG9yIGBcIjAtRVwiYCBpZiB0aGVyZSBpcyBubyBkYXRhLCBvciBgbnVsbGBcbiAgICogICBpbiBjYXNlIG9mIGEgcGFyc2luZyBlcnJvci5cbiAgICovXG4gIGdldEZpcnN0VmVyc2lvbigpIHtcbiAgICBsZXQge2FuYWx5dGljc30gPSBQcmVmcztcbiAgICBpZiAoYW5hbHl0aWNzKSB7XG4gICAgICBsZXQge2ZpcnN0VmVyc2lvbiA9IFwiMFwiLCBjdXJyZW50VmVyc2lvbiA9IFwiMFwifSA9IGFuYWx5dGljcy5kYXRhIHx8IHt9O1xuICAgICAgbGV0IHN0cmlwcGVkRmlyc3RWZXJzaW9uID0gc3RyaXBGaXJzdFZlcnNpb24oZmlyc3RWZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlcnNpb24pO1xuICAgICAgaWYgKHN0cmlwcGVkRmlyc3RWZXJzaW9uKSB7XG4gICAgICAgIGlmIChzdHJpcHBlZEZpcnN0VmVyc2lvbiA9PSBcIjBcIiAmJiAhaXNGcmVzaEluc3RhbGwoKSkge1xuICAgICAgICAgIHN0cmlwcGVkRmlyc3RWZXJzaW9uID0gXCIwLUVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHJpcHBlZEZpcnN0VmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWNvcmRzIHRoZSB2ZXJzaW9uIG9mIGEgZG93bmxvYWRlZCByZXNvdXJjZSBmb3IgdGhlIHB1cnBvc2Ugb2YgY29ob3J0XG4gICAqIGFuYWx5c2lzLlxuICAgKlxuICAgKiBUaGUgdmFsdWUgb2YgdGhlIGBhbmFseXRpY3NgIHByZWZlcmVuY2UgbXVzdCBiZSBzZXQgYXQgbGVhc3QgdG8gYW5cbiAgICogZW1wdHkgb2JqZWN0LCBvdGhlcndpc2Ugbm90aGluZyBpcyBldmVyIHJlY29yZGVkIGFuZFxuICAgKiBge0BsaW5rIG1vZHVsZTphbmFseXRpY3N+QW5hbHl0aWNzI2dldEZpcnN0VmVyc2lvbiBnZXRGaXJzdFZlcnNpb24oKX1gXG4gICAqIGFsd2F5cyByZXR1cm5zIGBudWxsYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gVGhlIHZlcnNpb24sIGluIGBZWVlZTU1ERFtISFtNTV1dYCBmb3JtYXQuXG4gICAqL1xuICByZWNvcmRWZXJzaW9uKHZlcnNpb24pIHtcbiAgICBpZiAoIS9eKFxcZHs4fXxcXGR7MTB9fFxcZHsxMn0pJC8udGVzdCh2ZXJzaW9uKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB7YW5hbHl0aWNzfSA9IFByZWZzO1xuICAgIGlmIChhbmFseXRpY3MpIHtcbiAgICAgIGlmICghYW5hbHl0aWNzLmRhdGEpIHtcbiAgICAgICAgYW5hbHl0aWNzLmRhdGEgPSB7fTtcbiAgICAgIH1cblxuICAgICAgbGV0IHtkYXRhfSA9IGFuYWx5dGljcztcblxuICAgICAgZGF0YS5jdXJyZW50VmVyc2lvbiA9IHZlcnNpb247XG5cbiAgICAgIGlmICh0eXBlb2YgZGF0YS5maXJzdFZlcnNpb24gPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAvLyBJZiB0aGlzIGlzIG5vdCBhIG5ldyBpbnN0YWxsYXRpb24sIHNldCB0aGUgLUUgZmxhZy5cbiAgICAgICAgaWYgKCFpc0ZyZXNoSW5zdGFsbCgpKSB7XG4gICAgICAgICAgdmVyc2lvbiArPSBcIi1FXCI7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLmZpcnN0VmVyc2lvbiA9IHZlcnNpb247XG4gICAgICB9XG5cbiAgICAgIC8vIEpTT04gdmFsdWVzIGFyZW4ndCBzYXZlZCB1bmxlc3MgdGhleSBhcmUgYXNzaWduZWQgYSBkaWZmZXJlbnQgb2JqZWN0LlxuICAgICAgUHJlZnMuYW5hbHl0aWNzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhbmFseXRpY3MpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIGRhdGEgYW5hbHl0aWNzIGZ1bmN0aW9ucy5cbiAqIEB0eXBlIHttb2R1bGU6YW5hbHl0aWNzfkFuYWx5dGljc31cbiAqL1xuZXhwb3J0cy5hbmFseXRpY3MgPSBuZXcgQW5hbHl0aWNzKCk7XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgQWRibG9jayBQbHVzIDxodHRwczovL2FkYmxvY2twbHVzLm9yZy8+LFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEFkYmxvY2sgUGx1cy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4vKiogQG1vZHVsZSAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBBIGBDYWNoZWAgb2JqZWN0IHJlcHJlc2VudHMgYSBjYWNoZSBvZiBhcmJpdHJhcnkgZGF0YS5cbiAqIEBwYWNrYWdlXG4gKi9cbmV4cG9ydHMuQ2FjaGUgPSBjbGFzcyBDYWNoZSBleHRlbmRzIE1hcCB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2FjaGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjYXBhY2l0eSBUaGUgbWF4aW11bSBudW1iZXIgb2YgZW50cmllcyB0aGF0IGNhbiBleGlzdCBpblxuICAgKiAgIHRoZSBjYWNoZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhcGFjaXR5KSB7XG4gICAgLy8gTm90ZTogVGhpcyBjaGVjayB3b3JrcyBmb3Igbm9uLW51bWJlciB2YWx1ZXMuXG4gICAgaWYgKCEoY2FwYWNpdHkgPj0gMSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImNhcGFjaXR5IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIuXCIpO1xuICAgIH1cblxuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fY2FwYWNpdHkgPSBjYXBhY2l0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcml0ZXMgYW4gZW50cnkgdG8gdGhlIGNhY2hlLlxuICAgKlxuICAgKiBJZiB0aGUgY2FjaGUgaGFzIHJlYWNoZWQgdGhlIHNwZWNpZmllZCBtYXhpbXVtIG51bWJlciBvZiBlbnRyaWVzLCBhbGwgdGhlXG4gICAqIG9sZCBlbnRyaWVzIGFyZSBjbGVhcmVkIGZpcnN0LlxuICAgKlxuICAgKiBAcGFyYW0gez8qfSBrZXkgVGhlIGtleSBmb3IgdGhlIGVudHJ5LlxuICAgKiBAcGFyYW0gez8qfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGVudHJ5LlxuICAgKi9cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAvLyBUbyBwcmV2ZW50IGxvZ2ljYWwgZXJyb3JzLCBuZWl0aGVyIGtleSBub3IgdmFsdWUgaXMgYWxsb3dlZCB0byBiZVxuICAgIC8vIHVuZGVmaW5lZC5cbiAgICBpZiAodHlwZW9mIGtleSA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJrZXkgbXVzdCBub3QgYmUgdW5kZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInZhbHVlIG11c3Qgbm90IGJlIHVuZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2l6ZSA9PSB0aGlzLl9jYXBhY2l0eSAmJiAhdGhpcy5oYXMoa2V5KSkge1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIHN1cGVyLnNldChrZXksIHZhbHVlKTtcbiAgfVxufTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi8qKiBAbW9kdWxlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG5sZXQgY29udGVudFR5cGVzID1cbi8qKlxuICogQ29udGVudCB0eXBlcyBmb3IgcmVxdWVzdCBibG9ja2luZyBhbmQgYWxsb3dpbmcgKGFsbG93bGlzdGluZykuXG4gKlxuICogVGhlcmUgYXJlIHR3byBraW5kcyBvZiBjb250ZW50IHR5cGVzOiByZXNvdXJjZSB0eXBlcywgYW5kIHNwZWNpYWxcbiAqIChub24tcmVzb3VyY2UpIHR5cGVzLlxuICpcbiAqIFJlc291cmNlIHR5cGVzIGluY2x1ZGUgd2ViIHJlc291cmNlcyBsaWtlIHNjcmlwdHMsIGltYWdlcywgYW5kIHNvIG9uLlxuICpcbiAqIFNwZWNpYWwgdHlwZXMgaW5jbHVkZSBmaWx0ZXIgb3B0aW9ucyBmb3IgcG9wdXAgYmxvY2tpbmcgYW5kIENTUCBoZWFkZXJcbiAqIGluamVjdGlvbiBhcyB3ZWxsIGFzIGZsYWdzIGZvciBhbGxvd2luZyBkb2N1bWVudHMuXG4gKlxuICogQnkgZGVmYXVsdCBhIGZpbHRlciBtYXRjaGVzIGFueSByZXNvdXJjZSB0eXBlLCBidXQgaWYgYSBmaWx0ZXIgaGFzIGFuXG4gKiBleHBsaWNpdCByZXNvdXJjZSB0eXBlLCBzcGVjaWFsIG9wdGlvbiwgb3IgYWxsb3dpbmcgZmxhZywgbGlrZVxuICogYCRzY3JpcHRgLCBgJHBvcHVwYCwgb3IgYCRlbGVtaGlkZWAsIHRoZW4gaXQgbWF0Y2hlcyBvbmx5IHRoZSBnaXZlbiB0eXBlLFxuICogb3B0aW9uLCBvciBmbGFnLlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnRzLmNvbnRlbnRUeXBlcyA9IHtcbiAgLy8gVHlwZXMgb2Ygd2ViIHJlc291cmNlcy5cbiAgT1RIRVI6IDEsXG4gIFNDUklQVDogMixcbiAgSU1BR0U6IDQsXG4gIFNUWUxFU0hFRVQ6IDgsXG4gIE9CSkVDVDogMTYsXG4gIFNVQkRPQ1VNRU5UOiAzMixcbiAgV0VCU09DS0VUOiAxMjgsXG4gIFdFQlJUQzogMjU2LFxuICBXRUJCVU5ETEU6IDUxMixcbiAgUElORzogMTAyNCxcbiAgWE1MSFRUUFJFUVVFU1Q6IDIwNDgsIC8vIDEgPDwgMTFcblxuICBNRURJQTogMTYzODQsXG4gIEZPTlQ6IDMyNzY4LCAvLyAxIDw8IDE1XG5cbiAgLy8gU3BlY2lhbCBmaWx0ZXIgb3B0aW9ucy5cbiAgUE9QVVA6IDEgPDwgMjQsXG4gIENTUDogMSA8PCAyNSxcbiAgSEVBREVSOiAxIDw8IDI2LFxuXG4gIC8vIEFsbG93aW5nIGZsYWdzLlxuICBET0NVTUVOVDogMSA8PCAyNyxcbiAgR0VORVJJQ0JMT0NLOiAxIDw8IDI4LFxuICBFTEVNSElERTogMSA8PCAyOSxcbiAgR0VORVJJQ0hJREU6IDEgPDwgMzBcbn07XG5cbi8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuY29udGVudFR5cGVzLkJBQ0tHUk9VTkQgPSBjb250ZW50VHlwZXMuSU1BR0U7XG5jb250ZW50VHlwZXMuWEJMID0gY29udGVudFR5cGVzLk9USEVSO1xuY29udGVudFR5cGVzLkRURCA9IGNvbnRlbnRUeXBlcy5PVEhFUjtcblxuY29uc3QgUkVTT1VSQ0VfVFlQRVMgPVxuLyoqXG4gKiBCaXRtYXNrIGZvciByZXNvdXJjZSB0eXBlcyBsaWtlIGAkc2NyaXB0YCwgYCRpbWFnZWAsIGAkc3R5bGVzaGVldGAsIGFuZCBzb1xuICogb24uXG4gKlxuICogSWYgYSBmaWx0ZXIgaGFzIG5vIGV4cGxpY2l0IGNvbnRlbnQgdHlwZSwgaXQgYXBwbGllcyB0byBhbGwgcmVzb3VyY2UgdHlwZXNcbiAqIChidXQgbm90IHRvIGFueSB7QGxpbmsgbW9kdWxlOmNvbnRlbnRUeXBlcy5TUEVDSUFMX1RZUEVTIHNwZWNpYWwgdHlwZXN9KS5cbiAqXG4gKiBAY29uc3Qge251bWJlcn1cbiAqXG4gKiBAcGFja2FnZVxuICovXG4vLyBUaGUgZmlyc3QgMjQgYml0cyBhcmUgcmVzZXJ2ZWQgZm9yIHJlc291cmNlIHR5cGVzIGxpa2UgXCJzY3JpcHRcIiwgXCJpbWFnZVwiLFxuLy8gYW5kIHNvIG9uLlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Nb3ppbGxhL0FkZC1vbnMvV2ViRXh0ZW5zaW9ucy9BUEkvd2ViUmVxdWVzdC9SZXNvdXJjZVR5cGVcbmV4cG9ydHMuUkVTT1VSQ0VfVFlQRVMgPSAoMSA8PCAyNCkgLSAxO1xuXG5jb25zdCBTUEVDSUFMX1RZUEVTID0gflJFU09VUkNFX1RZUEVTICYgKDEgPDwgMzEpIC0gMTtcbi8qKlxuICogQml0bWFzayBmb3Igc3BlY2lhbCBcInR5cGVzXCIgKG9wdGlvbnMgYW5kIGZsYWdzKSBsaWtlIGAkY3NwYCwgYCRlbGVtaGlkZWAsXG4gKiBhbmQgc28gb24uXG4gKlxuICogQGNvbnN0IHtudW1iZXJ9XG4gKlxuICogQHBhY2thZ2VcbiAqL1xuZXhwb3J0cy5TUEVDSUFMX1RZUEVTID0gU1BFQ0lBTF9UWVBFUztcblxuLyoqXG4gKiBCaXRtYXNrIGZvciBcInR5cGVzXCIgdGhhdCBtYXRjaCBhZ2FpbnN0IHJlcXVlc3QgY29udGV4dCBtb3JlIHRoYW5cbiAqIGFjdHVhbCBjb250ZW50IHR5cGUuIFdoZW4gbWF0Y2hpbmcgYWdhaW5zdCBjb250ZXh0IHR5cGVzLCB5b3VcbiAqIHNob3VsZCBhbHNvIGluY2x1ZGUgdGhlIHJlcXVlc3QncyByZXNvdXJjZSB0eXBlLlxuICpcbiAqIEBjb25zdCB7bnVtYmVyfVxuICpcbiAqIEBwYWNrYWdlXG4gKi9cbmNvbnN0IENPTlRFWFRfVFlQRVMgPSBjb250ZW50VHlwZXMuSEVBREVSIHwgY29udGVudFR5cGVzLkNTUDtcbmV4cG9ydHMuQ09OVEVYVF9UWVBFUyA9IENPTlRFWFRfVFlQRVM7XG5cbi8qKlxuICogQml0bWFzayBmb3IgXCJ0eXBlc1wiIChmbGFncykgdGhhdCBhcmUgZm9yIGV4Y2VwdGlvbiBydWxlcyBvbmx5LCBsaWtlXG4gKiBgJGRvY3VtZW50YCwgYCRlbGVtaGlkZWAsIGFuZCBzbyBvbi5cbiAqXG4gKiBAY29uc3Qge251bWJlcn1cbiAqXG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLkFMTE9XSU5HX1RZUEVTID0gY29udGVudFR5cGVzLkRPQ1VNRU5UIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZXMuR0VORVJJQ0JMT0NLIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZXMuRUxFTUhJREUgfFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlcy5HRU5FUklDSElERTtcblxuLyoqXG4gKiBZaWVsZHMgaW5kaXZpZHVhbCB0eXBlcyBmcm9tIGEgZmlsdGVyJ3MgdHlwZSBtYXNrLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZW50VHlwZSBBIGZpbHRlcidzIHR5cGUgbWFzay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2VsZWN0aW9uXSBXaGljaCB0eXBlcyB0byB5aWVsZC5cbiAqXG4gKiBAZ2VuZXJhdG9yXG4gKiBAeWllbGRzIHtudW1iZXJ9XG4gKlxuICogQHBhY2thZ2VcbiAqL1xuZXhwb3J0cy5lbnVtZXJhdGVUeXBlcyA9IGZ1bmN0aW9uKiBlbnVtZXJhdGVUeXBlcyhjb250ZW50VHlwZSwgc2VsZWN0aW9uID0gfjApIHtcbiAgZm9yIChsZXQgbWFzayA9IGNvbnRlbnRUeXBlICYgc2VsZWN0aW9uLCBiaXRJbmRleCA9IDA7XG4gICAgbWFzayAhPSAwOyBtYXNrID4+Pj0gMSwgYml0SW5kZXgrKykge1xuICAgIGlmICgobWFzayAmIDEpICE9IDApIHtcbiAgICAgIC8vIE5vdGU6IFRoZSB6ZXJvLWZpbGwgcmlnaHQgc2hpZnQgYnkgemVybyBpcyBuZWNlc3NhcnkgZm9yIGRyb3BwaW5nIHRoZVxuICAgICAgLy8gc2lnbi5cbiAgICAgIHlpZWxkIDEgPDwgYml0SW5kZXggPj4+IDA7XG4gICAgfVxuICB9XG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi8qKiBAbW9kdWxlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB0b0xvY2FsSVNPRGF0ZVN0cmluZyA9XG4vKipcbiAqIEZvcm1hdHMgb25seSB0aGUgZGF0ZSBwb3J0aW9uIGluIElTTyBmb3JtYXQgKFlZWVktTU0tREQpLlxuICpcbiAqIERpZmZlcnMgZnJvbSBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZygpIGluIHRoYXQgaXQgdXNlcyB0aGUgbG9jYWwgdGltZXpvbmVcbiAqIHRvIGRldGVybWluZSB0aGUgZGF0ZSwgYW5kIGRvZXMgbm90IGluY2x1ZGUgdGhlIHRpbWUgcG9ydGlvbiBpbiB0aGUgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSBkYXRlIHRvIGJlIGZvcm1hdHRlZFxuICogQHJldHVybiB7U3RyaW5nfSBkYXRlIHN0cmluZyBpbiB0aGUgZm9ybWF0IFlZWVktTU0tRERcbiAqL1xuZXhwb3J0cy50b0xvY2FsSVNPRGF0ZVN0cmluZyA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgbGV0IHllYXIgPSBTdHJpbmcoZGF0ZS5nZXRGdWxsWWVhcigpKS5wYWRTdGFydCg0LCBcIjBcIik7XG4gIGxldCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCBcIjBcIik7XG4gIGxldCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblxuICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YDtcbn07XG5cbi8qKlxuICogRm9ybWF0cyBvbmx5IHRoZSBkYXRlIHBvcnRpb24gaW4gSVNPIGZvcm1hdCAoWVlZWS1NTS1ERCksIHVzaW5nIHRoZSBwYXNzZWQgaW5cbiAqIGN1dG9mZiB0aW1lIGluc3RlYWQgb2YgbWlkbmlnaHQgYXMgdGhlIGJvdW5kYXJ5IGJldHdlZW4gZGF5cy5cbiAqXG4gKiBAcGFyYW0ge0RhdGV9IGRhdGUgRGF0ZSB0byBiZSBmb3JtYXR0ZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBkYXlDdXRvZmZNaW51dGVzIE51bWJlciBvZiBtaW51dGVzIGFmdGVyIG1pZG5pZ2h0IGluIHRoZVxuICogICBsb2NhbCB0aW1lem9uZSB3aGljaCBzaG9sZCBiZSB1c2VkIGFzIHRoZSBib3VuZGFyeSBiZXR3ZWVuIGRheXMgaW5zdGVhZCBvZlxuICogICBtaWRuaWdodC5cbiAqIEByZXR1cm4ge1N0cmluZ30gRGF0ZSBzdHJpbmcgaW4gdGhlIGZvcm1hdCBZWVlZLU1NLUREXG4gKi9cbmV4cG9ydHMudG9Mb2NhbElTT0RhdGVTdHJpbmdXaXRoQ3V0b2ZmVGltZSA9IGZ1bmN0aW9uKGRhdGUsIGRheUN1dG9mZk1pbnV0ZXMpIHtcbiAgbGV0IHRpbWVPZkRheSA9IGRhdGUuZ2V0SG91cnMoKSAqIDYwICsgZGF0ZS5nZXRNaW51dGVzKCk7XG4gIGxldCBkYXlCdWNrZXQgPSBkYXRlO1xuICBpZiAodGltZU9mRGF5IDwgZGF5Q3V0b2ZmTWludXRlcykge1xuICAgIGRheUJ1Y2tldC5zZXREYXRlKGRheUJ1Y2tldC5nZXREYXRlKCkgLSAxKTtcbiAgfVxuXG4gIHJldHVybiB0b0xvY2FsSVNPRGF0ZVN0cmluZyhkYXlCdWNrZXQpO1xufTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKiogQG1vZHVsZSAqL1xuXG5jb25zdCB7UGF0dGVybn0gPSByZXF1aXJlKFwiLi4vcGF0dGVybnNcIik7XG5jb25zdCB7cGFyc2VEb21haW5zLCBoYXNXaWxkY2FyZH0gPSByZXF1aXJlKFwiLi4vdXJsXCIpO1xuY29uc3Qge2NvbnRlbnRUeXBlcywgUkVTT1VSQ0VfVFlQRVN9ID0gcmVxdWlyZShcIi4uL2NvbnRlbnRUeXBlc1wiKTtcbmNvbnN0IHtcbiAgZ2VuZXJhdGVDU1BSdWxlcyxcbiAgZ2VuZXJhdGVBbGxvd2luZ1J1bGVzLFxuICBnZW5lcmF0ZVJlZGlyZWN0UnVsZXMsXG4gIGdlbmVyYXRlQmxvY2tpbmdSdWxlcyxcbiAgdmFsaWRhdGVSdWxlXG59ID0gcmVxdWlyZShcIi4vcnVsZXNcIik7XG5jb25zdCB7cGFyc2UsIEZpbHRlclBhcnNpbmdFcnJvcn0gPSByZXF1aXJlKFwiLi4vZmlsdGVyc1wiKTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDb252ZXJ0ZXJPcHRpb25zXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBpc1JlZ2V4U3VwcG9ydGVkIGEgc3luYy9hc3luYyBtZXRob2QgdG8gY2hlY2sgaWYgYVxuICogIGdlbmVyaWMgcmVndWxhciBleHByZXNzaW9uIGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgZW5naW5lLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gbW9kaWZ5UnVsZSBhIHN5bmMgbWV0aG9kIHRvIG1vZGlmeSBhIEROUiBydWxlIGlmIG5lZWRlZC5cbiAqL1xuXG4vKipcbiAqIFJldHVybnMgYSBjYWxsYmFjayBib3VuZCB0byB0aGUgZ2l2ZW4gb3B0aW9ucy5cbiAqIEBwYXJhbSB7Q29udmVydGVyT3B0aW9uc30gb3B0aW9ucyBpbiBNdjMgV2ViIGV4dGVuc2lvbnMgdGhpcyB3b3VsZCBiZVxuICogIGBjaHJvbWUuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0LmlzUmVnZXhTdXBwb3J0ZWRgLCBzbyB0aGF0IGl0J3MgcG9zc2libGUgdG9cbiAqICBwYXNzIGBjaHJvbWUuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0YCBkaXJlY3RseSBhcyBvcHRpb24uXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cbmV4cG9ydHMuY3JlYXRlQ29udmVydGVyID0gb3B0aW9ucyA9PiBjb252ZXJ0LmJpbmQoe1xuICAuLi5vcHRpb25zLFxuICAvLyBlbnN1cmUgYSBjYWxsYmFjayB0byB2ZXJpZnkgUmVnRXhwIHdoZW4gbmVlZGVkXG4gIC8vIEJ5IGRlZmF1bHQgcmVnZXggYXJlIG5vdCBzdXBwb3J0ZWQuXG4gIGlzUmVnZXhTdXBwb3J0ZWQ6IG9wdGlvbnMuaXNSZWdleFN1cHBvcnRlZCB8fCAoKCkgPT4gZmFsc2UpLFxuICAvLyBlbnN1cmUgYSBjYWxsYmFjayB0byBtb2RpZnkgYSBETlIgcnVsZSB3aGVuIG5lZWRlZFxuICBtb2RpZnlSdWxlOiBvcHRpb25zLm1vZGlmeVJ1bGUgfHwgKChydWxlLCBjb250ZXh0KSA9PiBydWxlKVxufSk7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUnVsZSBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9kb2NzL2V4dGVuc2lvbnMvcmVmZXJlbmNlL2RlY2xhcmF0aXZlTmV0UmVxdWVzdC8jdHlwZS1SdWxlXG4gKiBAcHJvcGVydHkge29iamVjdH0gYWN0aW9uIHNlZSBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2RvY3MvZXh0ZW5zaW9ucy9yZWZlcmVuY2UvZGVjbGFyYXRpdmVOZXRSZXF1ZXN0LyN0eXBlLVJ1bGVBY3Rpb25cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBjb25kaXRpb24gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZG9jcy9leHRlbnNpb25zL3JlZmVyZW5jZS9kZWNsYXJhdGl2ZU5ldFJlcXVlc3QvI3R5cGUtUnVsZUNvbmRpdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IGlkIGEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgcnVsZVxuICogQHByb3BlcnR5IHtudW1iZXI/fSBwcmlvcml0eSBvcHRpb25hbCBwcmlvcml0eSBvZiB0aGUgZmlsdGVyXG4gKi9cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IHdpdGggRE5SIFJ1bGVzIGlmIHRoZSB0ZXh0IGlzIG5ldHdvcmsgcmVsYXRlZCwgb3IgYW4gRXJyb3JcbiAqIGlmIG5vIHN1aXRhYmxlIHJ1bGUgY2FuIGJlIGNyZWF0ZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCB0aGUgZmlsdGVyIHRleHQgdG8gY29udmVydCBvciB0aGUgZ2VuZXJhdGVkIGVycm9yLlxuICogQHJldHVybnMge1Byb21pc2U8UnVsZVtdfEZpbHRlclBhcnNpbmdFcnJvcj59XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNvbnZlcnQodGV4dCkge1xuICBjb25zdCByZXN1bHQgPSBwYXJzZSh0ZXh0KTtcblxuICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRmlsdGVyUGFyc2luZ0Vycm9yKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHJldHVybiBhd2FpdCBhc0ROUi5jYWxsKHRoaXMsIHJlc3VsdCk7XG59XG5cbi8qKiBDb252ZXJ0IGEgcGFyc2VkIGZpbHRlciB0byBhIERlY2xhcmF0aXZlTmV0UmVxdWVzdFxuICpcbiAqIFRvIHdvcmsgcHJvcGVybHkgdGhpcyBmdW5jdGlvbiBtdXN0IGJlIGJvdW5kIHRvIGFuIG9iamVjdCB0aGF0XG4gKiBoYXMgYSBtZXRob2QgYGlzUmVnZXhTdXBwb3J0ZWRgIHRoYXQgd2lsbCByZXR1cm4gd2hldGhlciB0aGUgUmVnRXhwXG4gKiBwYXNzZWQgYXMgYXJndW1lbnQgaXMgdmFsaWQgb3Igbm90IGZvciBETlIuIFRoaXMgaXMgbmVjZXNzYXJ5IGFzXG4gKiB0aGV5IGhhdmUgdG8gYmUgUkUyIGV4cGVjdGlvbiBhbmQgdGhpcyBzeW50YXggaXNuJ3Qgc3VwcG9ydGVkIGJ5IG5hdGl2ZVxuICogSmF2YVNjcmlwdC4gVGhlcmUgaXMgYSAobmF0aXZlKSBub2RlIG1vZHVsZSBvciB0aGUgQ2hyb21lIFdlYkV4dGVuc2lvblxuICogQVBJLiBgY3JlYXRlQ29udmVydGVyYCB3aWxsIHByb3ZpZGUgYSBkZWZhdWx0IGZ1bmN0aW9uIHRoYXQgYWx3YXlzXG4gKiByZXR1cm4gdHJ1ZS5cbiAqXG4gKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJzL2luZGV4flBhcnNlZEZpbHRlcn0gcGFyc2VkRmlsdGVyIFRoZSBwYXJzZWQgZmlsdGVyXG4gKiAgIG9iamVjdC5cbiAqIEByZXR1cm4ge1Byb21pc2U8UnVsZVtdfEVycm9yPn1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gYXNETlIocGFyc2VkRmlsdGVyKSB7XG4gIGxldCB7XG4gICAgYmxvY2tpbmcsXG4gICAgdGV4dCxcbiAgICByZWdleHBTb3VyY2UsXG4gICAgY29udGVudFR5cGUsXG4gICAgbWF0Y2hDYXNlLFxuICAgIGRvbWFpbnMsXG4gICAgdGhpcmRQYXJ0eSxcbiAgICBzaXRla2V5cyxcbiAgICBoZWFkZXIsXG4gICAgcmV3cml0ZSxcbiAgICBjc3BcbiAgfSA9IHBhcnNlZEZpbHRlcjtcblxuICAvLyBTaXRla2V5IGFyZW4ndCBjdXJyZW50bHkgaGFuZGxlZCB3aXRoIERlY2xhcmF0aXZlTmV0UmVxdWVzdFxuICBpZiAoc2l0ZWtleXMgfHwgaGVhZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBGaWx0ZXJQYXJzaW5nRXJyb3IoXCJmaWx0ZXJfdW5rbm93bl9vcHRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb246IHNpdGVrZXlzID8gXCJzaXRla2V5XCIgOiBcImhlYWRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1cmxQYXR0ZXJuID0gbmV3IFBhdHRlcm4ocmVnZXhwU291cmNlLCBtYXRjaENhc2UpO1xuICAgIGxldCB7cGF0dGVybjogdXJsRmlsdGVyfSA9IHVybFBhdHRlcm47XG4gICAgbGV0IGNoZWNrVmFsaWRSZWdFeHAgPSB0cnVlO1xuICAgIGxldCBob3N0bmFtZTtcblxuICAgIG1hdGNoQ2FzZSA9IHVybFBhdHRlcm4ubWF0Y2hDYXNlO1xuXG4gICAgaWYgKHVybEZpbHRlcikge1xuICAgICAgLy8gV2UgbmVlZCB0byBzcGxpdCBvdXQgdGhlIGhvc3RuYW1lIHBhcnQgKGlmIGFueSkgb2YgdGhlIGZpbHRlciwgdGhlblxuICAgICAgLy8gZGVjaWRlIGlmIGl0IGNhbiBiZSBtYXRjaGVkIGFzIGxvd2VyY2FzZSBvciBub3QuXG4gICAgICBsZXQgbWF0Y2ggPSAvXihcXHxcXHx8W2EtekEtWl0qOlxcL1xcLykoW14qXj8vfF0qKSguKikkLy5leGVjKHVybEZpbHRlcik7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgaG9zdG5hbWUgPSBtYXRjaFsyXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB1cmxGaWx0ZXIgPSBtYXRjaFsxXSArIGhvc3RuYW1lICsgbWF0Y2hbM107XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBkZWNsYXJhdGl2ZU5ldFJlcXVlc3QgQVBJIGRvZXMgbm90IGxpa2UgdGhlIHVybEZpbHRlciB0byBoYXZlIGFcbiAgICAgIC8vIHJlZHVuZGFudCB8fCogcHJlZml4LCBzbyBsZXQncyBzdHJpcCB0aGF0IG5vdy5cbiAgICAgIGlmICh1cmxGaWx0ZXIuc3RhcnRzV2l0aChcInx8KlwiKSkge1xuICAgICAgICAvLyBBIHBhdHRlcm4gYmVnaW5uaW5nIHdpdGggYHx8KmAgaXNuJ3QgYWxsb3dlZCwgYW5kIGAqYFxuICAgICAgICAvLyBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLiBTbyBsZXQncyByZW1vdmUgdGhlIGB8fGBcbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZG9jcy9leHRlbnNpb25zL3JlZmVyZW5jZS9kZWNsYXJhdGl2ZU5ldFJlcXVlc3QvI3R5cGUtUnVsZUNvbmRpdGlvblxuICAgICAgICB1cmxGaWx0ZXIgPSB1cmxGaWx0ZXIuc3Vic3RyKDIpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh1cmxQYXR0ZXJuLnJlZ2V4cCkge1xuICAgICAgY2hlY2tWYWxpZFJlZ0V4cCA9IGF3YWl0IHRoaXMuaXNSZWdleFN1cHBvcnRlZCh7XG4gICAgICAgIHJlZ2V4OiB1cmxQYXR0ZXJuLnJlZ2V4cC5zb3VyY2UsXG4gICAgICAgIGlzQ2FzZVNlbnNpdGl2ZTogbWF0Y2hDYXNlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIWNoZWNrVmFsaWRSZWdFeHApIHtcbiAgICAgIHJldHVybiBuZXcgRmlsdGVyUGFyc2luZ0Vycm9yKFwiZmlsdGVyX2ludmFsaWRfcmVnZXhwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4cDogdXJsUGF0dGVybi5yZWdleHAuc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWx0ZXIgPSB7XG4gICAgICBibG9ja2luZyxcbiAgICAgIHJlZ2V4cDogdXJsUGF0dGVybi5yZWdleHAsXG4gICAgICBjb250ZW50VHlwZTogY29udGVudFR5cGUgfHwgUkVTT1VSQ0VfVFlQRVMsXG4gICAgICB0aGlyZFBhcnR5LFxuICAgICAgcmV3cml0ZSxcbiAgICAgIGNzcCxcbiAgICAgIGRvbWFpbnM6IGRvbWFpbnMgPT09IG51bGwgPyBudWxsIDogcGFyc2VEb21haW5zKFxuICAgICAgICBkb21haW5zLnRvTG93ZXJDYXNlKCksIFwifFwiKVxuICAgIH07XG5cblxuICAgIC8vIEZpbHRlciBUTEQgd2lsZGNhcmRzIGFyZSBub3Qgc3VwcG9ydGVkIGluIEROUixcbiAgICAvLyBIb3dldmVyIFwiLipcIiBpbiBVUkwgcGFydCBvZiByZXF1ZXN0IGZpbHRlcnMgYXJlIGludGVycHJldGVkIGFzXG4gICAgLy8gXCJkb3QgZm9sbG93ZWQgYnkgc2VxdWVuY2Ugb2YgY2hhcmFjdGVyc1wiIGFuZCBhcmUgc3VwcG9ydGVkIGJ5IENocm9taXVtOlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZG9jcy9leHRlbnNpb25zL3JlZmVyZW5jZS9hcGkvZGVjbGFyYXRpdmVOZXRSZXF1ZXN0I3Byb3BlcnR5LVJ1bGVDb25kaXRpb24tdXJsRmlsdGVyXG4gICAgLy8gVGhlIFRMRCB3aWxkY2FyZHMgaW4gZG9tYWlucyBsaXN0IGFyZSBub3Qgc3VwcG9ydGVkIGJ5IENocm9taXVtXG4gICAgLy8gYW5kIHRodXMgYXJlIG5vdCBjb252ZXJ0ZWQgaW50byBETlIgcnVsZXMuXG4gICAgaWYgKGZpbHRlci5kb21haW5zKSB7XG4gICAgICBmb3IgKGxldCBkb21haW4gb2YgZmlsdGVyLmRvbWFpbnMua2V5cygpKSB7XG4gICAgICAgIGlmIChoYXNXaWxkY2FyZChkb21haW4pKSB7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAoY29udGVudFR5cGUgJiBjb250ZW50VHlwZXMuQ1NQKSB7XG4gICAgICByZXN1bHQgPSBnZW5lcmF0ZUNTUFJ1bGVzKGZpbHRlciwgdXJsRmlsdGVyLCBtYXRjaENhc2UpO1xuICAgIH1cbiAgICBlbHNlIGlmICghYmxvY2tpbmcpIHtcbiAgICAgIHJlc3VsdCA9IGdlbmVyYXRlQWxsb3dpbmdSdWxlcyhmaWx0ZXIsIHVybEZpbHRlciwgbWF0Y2hDYXNlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmV3cml0ZSkge1xuICAgICAgcmVzdWx0ID0gZ2VuZXJhdGVSZWRpcmVjdFJ1bGVzKGZpbHRlciwgdXJsRmlsdGVyLCBtYXRjaENhc2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGdlbmVyYXRlQmxvY2tpbmdSdWxlcyhmaWx0ZXIsIHVybEZpbHRlciwgbWF0Y2hDYXNlKTtcbiAgICB9XG5cbiAgICBsZXQgY29udGV4dCA9IHtcbiAgICAgIHRleHQ6IHBhcnNlZEZpbHRlci50ZXh0XG4gICAgfTtcbiAgICByZXR1cm4gcmVzdWx0XG4gICAgICAubWFwKHJ1bGUgPT4gdGhpcy5tb2RpZnlSdWxlKHJ1bGUsIGNvbnRleHQpKVxuICAgICAgLm1hcCh2YWxpZGF0ZVJ1bGUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBuZXcgRmlsdGVyUGFyc2luZ0Vycm9yKFwiZmlsdGVyX2ludmFsaWRfcmVnZXhwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlZ2V4cDogcmVnZXhwU291cmNlLCB0ZXh0fSk7XG4gIH1cbn1cblxuZXhwb3J0cy5hc0ROUiA9IGFzRE5SO1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKiBAbW9kdWxlICovXG5cbi8qKlxuICogRE5SIE1hcHBlci4gV2lsbCBsYXp5IGxvYWQgdGhlIGRhdGEgYXMgbmVlZGVkLlxuICovXG5leHBvcnRzLkRuck1hcHBlciA9IGNsYXNzIERuck1hcHBlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsb2FkZXIgVGhlIGxvYWRlciBmb3IgdGhlIG1hcHBpbmcgZGF0YS4gVGhlXG4gICAqICAgICBsb2FkZXIgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIEpTT04gcGFyc2Ugb3V0cHV0IG9mIHRoZSBtYXBcbiAgICogICAgIGZpbGVzLiBJbiBhIFdlYiBFeHRlbnNpb24gaXQgd2lsbCBsaWtlbHkgdXNlIGBmZXRjaGAgdG8gbG9hZFxuICAgKiAgICAgaXQgZnJvbSB0aGUgZXh0ZW5zaW9uIGZpbGVzLiBUaGUgbG9hZGVyIHdpbGwgYmUgY2FsbGVkIHdoZW5cbiAgICogICAgIHRoZSBtYXAgbmVlZHMgdG8gYmUgdXNlZCB0aGUgZmlyc3QgdGltZS4gVGhlIGZ1bmN0aW9uIGNhbiBiZVxuICAgKiAgICAgYXN5bmMuXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IobG9hZGVyKSB7XG4gICAgdGhpcy5sb2FkZXIgPSBsb2FkZXI7XG4gICAgLy8gQSBudWxsIG1hcCBpcyBhIG1hcCB0aGF0IG5lZWRzIHRvIGJlIGxvYWRlZC5cbiAgICB0aGlzLm1hcCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCB0aGUgbG9hZGVyLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXN5bmMgX2xvYWRNYXBwZXIoKSB7XG4gICAgdGhpcy5tYXAgPSBuZXcgTWFwKGF3YWl0IHRoaXMubG9hZGVyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIG1hcC4gQmVjYXVzZSBpdCBpcyBhc3luYyBpdCBjYW4ndCBiZSBkb25lIG9uIGEgZ2V0LlxuICAgKiBJZGVhbGx5IHlvdSdkIGRlbGF5IGNhbGxpbmcgaXQgdG8gd2hlbiBuZWVlZGVkLiBJdCBpcyBzYWZlIHRvXG4gICAqIGNhbGwgbW9yZSB0aGFuIG9uY2UuXG4gICAqIEBhc3luY1xuICAgKi9cbiAgYXN5bmMgbG9hZCgpIHtcbiAgICBpZiAodGhpcy5tYXAgPT09IG51bGwpIHtcbiAgICAgIGF3YWl0IHRoaXMuX2xvYWRNYXBwZXIoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBydWxlIGlkcyBmb3IgdGhlIHRleHQuIE1ha2Ugc3VyZSBgbG9hZCgpYCBoYXMgYmVlbiBjYWxsZWRcbiAgICogb25jZSBwcmV2aW91c2x5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgZmlsdGVyIHRleHQgdG8gZ2V0IHRoZSBtYXBwaW5nIGZyb20uXG4gICAqXG4gICAqIEByZXR1cm5zIHs/QXJyYXkuPG51bWJlcj59IFRoZSBhcnJheSBvZiBydWxlIElEcyBpZiBmb3VuZC5cbiAgICovXG4gIGdldCh0ZXh0KSB7XG4gICAgaWYgKHRoaXMubWFwID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYXBwZXIgbm90IGxvYWRlZC5cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubWFwLmdldCh0ZXh0KTtcbiAgfVxufTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKiogQG1vZHVsZSAqL1xuXG5jb25zdCB7Y29udGVudFR5cGVzfSA9IHJlcXVpcmUoXCIuLi9jb250ZW50VHlwZXNcIik7XG5jb25zdCB7cmVzb3VyY2VzfSA9IHJlcXVpcmUoXCIuLi8uLi9kYXRhL3Jlc291cmNlcy5qc1wiKTtcblxuLy8gV2UgZGlmZmVyZW50aWF0ZSBnZW5lcmljIHJ1bGVzIGZyb20gc3BlY2lmaWMgb25lcyBpbiBvcmRlciB0byBzdXBwb3J0IHRoZVxuLy8gY29udmVyc2lvbiBvZiAkZ2VuZXJpY2Jsb2NrIGV4Y2VwdGlvbiBmaWx0ZXJzLiBTaW5jZSB3aXRoIHRoZVxuLy8gZGVjbGFyYXRpdmVOZXRSZXF1ZXN0IEFQSSBcImFsbG93XCIgcnVsZXMgdGFrZSBwcmlvcml0eSBvdmVyIFwiYWxsb3dBbGxSZXF1ZXN0XCJcbi8vIHJ1bGVzLCB3ZSBhbHNvIG5lZWQgdG8gdGFrZSBjYXJlIHRvIGdpdmUgXCJhbGxvd0FsbFJlcXVlc3RcIiBydWxlcyBhIHNsaWdobHR5XG4vLyBoaWdoZXIgcHJpb3JpdHkuXG5jb25zdCBHRU5FUklDX1BSSU9SSVRZID0gMTAwMDtcbmV4cG9ydHMuR0VORVJJQ19QUklPUklUWSA9IEdFTkVSSUNfUFJJT1JJVFk7XG5jb25zdCBHRU5FUklDX0FMTE9XX0FMTF9QUklPUklUWSA9IDEwMDE7XG5leHBvcnRzLkdFTkVSSUNfQUxMT1dfQUxMX1BSSU9SSVRZID0gR0VORVJJQ19BTExPV19BTExfUFJJT1JJVFk7XG5jb25zdCBTUEVDSUZJQ19QUklPUklUWSA9IDIwMDA7XG5leHBvcnRzLlNQRUNJRklDX1BSSU9SSVRZID0gU1BFQ0lGSUNfUFJJT1JJVFk7XG5jb25zdCBTUEVDSUZJQ19BTExPV19BTExfUFJJT1JJVFkgPSAyMDAxO1xuZXhwb3J0cy5TUEVDSUZJQ19BTExPV19BTExfUFJJT1JJVFkgPSBTUEVDSUZJQ19BTExPV19BTExfUFJJT1JJVFk7XG5cblxuY29uc3QgcmVxdWVzdFR5cGVzID0gbmV3IE1hcChbXG4gIFtjb250ZW50VHlwZXMuT1RIRVIsIFtcIm90aGVyXCIsIFwiY3NwX3JlcG9ydFwiXV0sXG4gIFtjb250ZW50VHlwZXMuU0NSSVBULCBbXCJzY3JpcHRcIl1dLFxuICBbY29udGVudFR5cGVzLklNQUdFLCBbXCJpbWFnZVwiXV0sXG4gIFtjb250ZW50VHlwZXMuU1RZTEVTSEVFVCwgW1wic3R5bGVzaGVldFwiXV0sXG4gIFtjb250ZW50VHlwZXMuT0JKRUNULCBbXCJvYmplY3RcIl1dLFxuICBbY29udGVudFR5cGVzLlNVQkRPQ1VNRU5ULCBbXCJzdWJfZnJhbWVcIl1dLFxuICBbY29udGVudFR5cGVzLldFQlNPQ0tFVCwgW1wid2Vic29ja2V0XCJdXSxcbiAgW2NvbnRlbnRUeXBlcy5XRUJCVU5ETEUsIFtcIndlYmJ1bmRsZVwiXV0sXG4gIFtjb250ZW50VHlwZXMuUElORywgW1wicGluZ1wiXV0sXG4gIFtjb250ZW50VHlwZXMuWE1MSFRUUFJFUVVFU1QsIFtcInhtbGh0dHByZXF1ZXN0XCJdXSxcbiAgW2NvbnRlbnRUeXBlcy5NRURJQSwgW1wibWVkaWFcIl1dLFxuICBbY29udGVudFR5cGVzLkZPTlQsIFtcImZvbnRcIl1dXG5dKTtcbmV4cG9ydHMucmVxdWVzdFR5cGVzID0gcmVxdWVzdFR5cGVzO1xuXG5jb25zdCBzdXBwb3J0ZWRSZXF1ZXN0VHlwZXMgPSBBcnJheS5mcm9tKHJlcXVlc3RUeXBlcy5rZXlzKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoKChzcnQsIHQpID0+IHNydCB8IHQpKTtcbmV4cG9ydHMuc3VwcG9ydGVkUmVxdWVzdFR5cGVzID0gc3VwcG9ydGVkUmVxdWVzdFR5cGVzO1xuXG5mdW5jdGlvbiBnZXRSZXNvdXJjZVR5cGVzKGZpbHRlckNvbnRlbnRUeXBlKSB7XG4gIC8vIFRoZSBkZWZhdWx0IGlzIHRvIG1hdGNoIGV2ZXJ5dGhpbmcgZXhjZXB0IFwibWFpbl9mcmFtZVwiLCB3aGljaCBpcyBmaW5lLlxuICBpZiAoKGZpbHRlckNvbnRlbnRUeXBlICYgc3VwcG9ydGVkUmVxdWVzdFR5cGVzKSA9PSBzdXBwb3J0ZWRSZXF1ZXN0VHlwZXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgcmVzdWx0ID0gW107XG5cbiAgZm9yIChsZXQgW21hc2ssIHR5cGVzXSBvZiByZXF1ZXN0VHlwZXMpIHtcbiAgICBpZiAoZmlsdGVyQ29udGVudFR5cGUgJiBtYXNrKSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHR5cGVzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBnZXREb21haW5zKGZpbHRlckRvbWFpbnMpIHtcbiAgbGV0IGRvbWFpbnMgPSBbXTtcbiAgbGV0IGV4Y2x1ZGVkRG9tYWlucyA9IFtdO1xuICBsZXQgaXNHZW5lcmljRmlsdGVyID0gdHJ1ZTtcblxuICBpZiAoZmlsdGVyRG9tYWlucykge1xuICAgIGZvciAobGV0IFtkb21haW4sIGVuYWJsZWRdIG9mIGZpbHRlckRvbWFpbnMpIHtcbiAgICAgIGlmIChkb21haW4gPT0gXCJcIikge1xuICAgICAgICBpc0dlbmVyaWNGaWx0ZXIgPSBlbmFibGVkO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIChlbmFibGVkID8gZG9tYWlucyA6IGV4Y2x1ZGVkRG9tYWlucykucHVzaChkb21haW4pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7ZG9tYWlucywgZXhjbHVkZWREb21haW5zLCBpc0dlbmVyaWNGaWx0ZXJ9O1xufVxuXG5mdW5jdGlvbiBnZXRDb25kaXRpb24oZmlsdGVyLCB1cmxGaWx0ZXIsIHJlc291cmNlVHlwZXMsIG1hdGNoQ2FzZSkge1xuICBsZXQgY29uZGl0aW9uID0ge307XG5cbiAgaWYgKHVybEZpbHRlcikge1xuICAgIGNvbmRpdGlvbi51cmxGaWx0ZXIgPSB1cmxGaWx0ZXI7XG4gIH1cbiAgZWxzZSBpZiAoZmlsdGVyLnJlZ2V4cCkge1xuICAgIGNvbmRpdGlvbi5yZWdleEZpbHRlciA9IGZpbHRlci5yZWdleHAuc291cmNlO1xuICB9XG5cbiAgaWYgKHJlc291cmNlVHlwZXMpIHtcbiAgICBjb25kaXRpb24ucmVzb3VyY2VUeXBlcyA9IHJlc291cmNlVHlwZXM7XG4gIH1cblxuICAvLyBCZWZvcmUgQ2hyb21pdW0gMTE4LCB0aGUgZGVmYXVsdCBmb3IgaXNVcmxGaWx0ZXJDYXNlU2Vuc2l0aXZlIGlzIHRydWUuIEZyb21cbiAgLy8gQ2hyb21pdW0gMTE4LCB0aGUgZGVmYXVsdCBpcyBmYWxzZS4gSWYgd2UgYXQgc29tZSBwb2ludCBtYWtlIG91ciBtaW5pbXVtXG4gIC8vIHN1cHBvcnRlZCBDaHJvbWl1bSAxMTgsIHRoZW4gd2UgY2FuIGxlYXZlIHRoaXMgdW5kZWZpbmVkIGlmICFtYXRjaENhc2UuXG4gIGNvbmRpdGlvbi5pc1VybEZpbHRlckNhc2VTZW5zaXRpdmUgPSBtYXRjaENhc2U7XG5cbiAgaWYgKGZpbHRlci50aGlyZFBhcnR5ICE9IG51bGwpIHtcbiAgICBjb25kaXRpb24uZG9tYWluVHlwZSA9IGZpbHRlci50aGlyZFBhcnR5ID8gXCJ0aGlyZFBhcnR5XCIgOiBcImZpcnN0UGFydHlcIjtcbiAgfVxuXG4gIGxldCB7ZG9tYWlucywgZXhjbHVkZWREb21haW5zLCBpc0dlbmVyaWNGaWx0ZXJ9ID0gZ2V0RG9tYWlucyhmaWx0ZXIuZG9tYWlucyk7XG5cbiAgaWYgKGRvbWFpbnMubGVuZ3RoKSB7XG4gICAgY29uZGl0aW9uLmRvbWFpbnMgPSBkb21haW5zO1xuICB9XG4gIGlmIChleGNsdWRlZERvbWFpbnMubGVuZ3RoKSB7XG4gICAgY29uZGl0aW9uLmV4Y2x1ZGVkRG9tYWlucyA9IGV4Y2x1ZGVkRG9tYWlucztcbiAgfVxuXG4gIHJldHVybiBbY29uZGl0aW9uLCBpc0dlbmVyaWNGaWx0ZXJdO1xufVxuXG5leHBvcnRzLmdlbmVyYXRlUmVkaXJlY3RSdWxlcyA9IGZ1bmN0aW9uKGZpbHRlciwgdXJsRmlsdGVyLCBtYXRjaENhc2UpIHtcbiAgbGV0IHVybCA9IHJlc291cmNlc1tmaWx0ZXIucmV3cml0ZV07XG5cbiAgLy8gV2UgY2FuJ3QgZ2VuZXJhdGUgcnVsZXMgZm9yIHVua25vd24gYWJwLXJlc291cmNlcy4uLlxuICBpZiAoIXVybCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGxldCByZXNvdXJjZVR5cGVzID0gZ2V0UmVzb3VyY2VUeXBlcyhmaWx0ZXIuY29udGVudFR5cGUpO1xuXG4gIC8vIFdlIGNhbid0IGdlbmVyYXRlIHJ1bGVzIGZvciBmaWx0ZXJzIHdoaWNoIGRvbid0IGluY2x1ZGUgYW55IHN1cHBvcnRlZFxuICAvLyByZXNvdXJjZSB0eXBlcy5cbiAgaWYgKHJlc291cmNlVHlwZXMgJiYgcmVzb3VyY2VUeXBlcy5sZW5ndGggPT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGxldCBbY29uZGl0aW9uLCBpc0dlbmVyaWNGaWx0ZXJdID0gZ2V0Q29uZGl0aW9uKFxuICAgIGZpbHRlciwgdXJsRmlsdGVyLCByZXNvdXJjZVR5cGVzLCBtYXRjaENhc2VcbiAgKTtcblxuICByZXR1cm4gW3tcbiAgICBwcmlvcml0eTogaXNHZW5lcmljRmlsdGVyID8gR0VORVJJQ19QUklPUklUWSA6IFNQRUNJRklDX1BSSU9SSVRZLFxuICAgIGNvbmRpdGlvbixcbiAgICBhY3Rpb246IHtcbiAgICAgIHR5cGU6IFwicmVkaXJlY3RcIixcbiAgICAgIHJlZGlyZWN0OiB7dXJsfVxuICAgIH1cbiAgfV07XG59O1xuXG5leHBvcnRzLmdlbmVyYXRlQ1NQUnVsZXMgPSBmdW5jdGlvbihmaWx0ZXIsIHVybEZpbHRlciwgbWF0Y2hDYXNlKSB7XG4gIGxldCBbY29uZGl0aW9uLCBpc0dlbmVyaWNGaWx0ZXJdID0gZ2V0Q29uZGl0aW9uKFxuICAgIGZpbHRlciwgdXJsRmlsdGVyLCBbXCJtYWluX2ZyYW1lXCIsIFwic3ViX2ZyYW1lXCJdLCBtYXRjaENhc2VcbiAgKTtcblxuICBsZXQgcnVsZTtcblxuICBpZiAoIWZpbHRlci5ibG9ja2luZykge1xuICAgIC8vIFRoZSBETlIgbWFrZXMgbm8gZGlzdGluY3Rpb24gYmV0d2VlbiBDU1AgcnVsZXMgYW5kIG1haW5fZnJhbWUvc3ViX2ZyYW1lXG4gICAgLy8gcnVsZXMuIElkZWFsbHksIHdlIHdvdWxkIGdpdmUgQ1NQIHJ1bGVzIGEgZGlmZmVyZW50IHByaW9yaXR5IHRoZXJlZm9yZSxcbiAgICAvLyB0byBlbnN1cmUgdGhhdCBhICRjc3AgZXhjZXB0aW9uIGZpbHRlciB3b3VsZCBub3QgYWNjaWRlbnRhbGx5IGFsbG93bGlzdFxuICAgIC8vIHRoZSB3aG9sZSB3ZWJzaXRlLiBVbmZvcnR1bmF0ZWx5LCBJIGRvbid0IHRoaW5rIHRoYXQncyBwb3NzaWJsZSBpZiB3ZSBhcmVcbiAgICAvLyB0byBhbHNvIHN1cHBvcnQgdGhlIGRpc3RpbmN0aW9uIGJldHdlZW4gc3BlY2lmaWMgYW5kIGdlbmVyaWMgcnVsZXMuXG4gICAgLy8gICBMdWNraWx5LCB3ZSBhcmUgYWRkaW5nIGFuIFwiYWxsb3dcIiBydWxlIChub3QgXCJhbGxvd0FsbFJlcXVlc3RcIikgaGVyZSBhbmRcbiAgICAvLyB0aGVyZSBpcyBubyBzdWNoIHRoaW5nIGFzIGEgYmxvY2tpbmcgZmlsdGVyIHdoaWNoIGFwcGxpZXMgdG8gdGhlXG4gICAgLy8gJGRvY3VtZW50IChtYWluX2ZyYW1lKSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB3b3JyeSBhYm91dCB0aGF0LiBUaGVyZSBpc1xuICAgIC8vIHN1Y2ggYSB0aGluZyBhcyBhICRzdWJkb2N1bWVudCBibG9ja2luZyBmaWx0ZXIgdGhvdWdoLCB3aGljaCBhICRjc3BcbiAgICAvLyBleGNlcHRpb24gZmlsdGVyIHNob3VsZCBub3QgdXN1YWxseSBhZmZlY3QuXG4gICAgLy8gICBBcyBhIGNvbXByb21pc2UgaW4gb3JkZXIgdG8gc3VwcG9ydCBib3RoICRjc3AgYW5kICRnZW5lcmljYmxvY2ssIHdlXG4gICAgLy8gYWNjZXB0IHRoYXQgJGNzcCBleGNlcHRpb24gZmlsdGVycyBtaWdodCB3cm9uZ2x5IHByZXZlbnQgZnJhbWUtYmxvY2tpbmdcbiAgICAvLyBmaWx0ZXJzIGZyb20gbWF0Y2hpbmcuIElmIHRoaXMgY29tcHJvbWlzZSBwcm92ZXMgcHJvYmxlbWF0aWMsIHdlIG1pZ2h0XG4gICAgLy8gbmVlZCB0byByZWNvbnNpZGVyIHRoaXMgaW4gdGhlIGZ1dHVyZS5cbiAgICBydWxlID0ge1xuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIHR5cGU6IFwiYWxsb3dcIlxuICAgICAgfSxcbiAgICAgIGNvbmRpdGlvbixcbiAgICAgIHByaW9yaXR5OiBmaWx0ZXIuY29udGVudFR5cGUgJiBjb250ZW50VHlwZXMuR0VORVJJQ0JMT0NLID9cbiAgICAgICAgICAgICAgICAgIEdFTkVSSUNfUFJJT1JJVFkgOiBTUEVDSUZJQ19QUklPUklUWVxuICAgIH07XG4gIH1cbiAgZWxzZSB7XG4gICAgcnVsZSA9IHtcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICB0eXBlOiBcIm1vZGlmeUhlYWRlcnNcIixcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzOiBbe1xuICAgICAgICAgIGhlYWRlcjogXCJDb250ZW50LVNlY3VyaXR5LVBvbGljeVwiLFxuICAgICAgICAgIG9wZXJhdGlvbjogXCJhcHBlbmRcIixcbiAgICAgICAgICB2YWx1ZTogZmlsdGVyLmNzcFxuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgIGNvbmRpdGlvbixcbiAgICAgIHByaW9yaXR5OiBpc0dlbmVyaWNGaWx0ZXIgPyBHRU5FUklDX1BSSU9SSVRZIDogU1BFQ0lGSUNfUFJJT1JJVFlcbiAgICB9O1xuICB9XG5cbiAgLy8gQ2hyb21pdW0gZG9lc24ndCBjb25zaWRlciBtYWluX2ZyYW1lIHJlcXVlc3RzIHRvIGhhdmUgaW5pdGlhdGVkIGZyb20gdGhlaXJcbiAgLy8gVVJMLCBzbyB0aGUgZG9tYWlucy9leGNsdWRlZERvbWFpbnMgcnVsZSBjb25kaXRpb25zIHdvbid0IHdvcmsgYXMgZXhwZWN0ZWRcbiAgLy8gZm9yIG1haW5fZnJhbWUgcmVxdWVzdHMuIFRoaXMgaXMgYSBwcm9ibGVtIGZvciAkY3NwIGZpbHRlcnMgd2hpY2ggYWxzbyB1c2VcbiAgLy8gdGhlICRkb21haW4gb3B0aW9uLiBBcyBhIHBhcnRpYWwgd29ya2Fyb3VuZCwgd2UgZ2VuZXJhdGUgYSBzZXBhcmF0ZVxuICAvLyB1cmxGaWx0ZXIgcnVsZSBmb3IgZWFjaCBkb21haW4uIEJ1dCBub3RlLCB3ZSBjYW4ndCBzdXBwb3J0IGV4Y2x1ZGVkRG9tYWluc1xuICAvLyAoJGNzcD0uLi4kfmRvbWFpbj0uLi4pIG9yIHVybEZpbHRlciBjb25kaXRpb25zICh8fC4uLiRjc3A9Li4uLGRvbWFpbj0uLi4pLlxuICAvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTIwNzMyNlxuICAvL1xuICAvLyBOb3RlOiBIb3BlZnVsbHksIHRoaXMgd29ya2Fyb3VuZCB3b24ndCBiZSBuZWNlc3NhcnkgZm9yIGxvbmcsIGJ1dCBpZiB3ZVxuICAvLyBuZWVkIGl0IGxvbmctdGVybSwgdGhlbiBwZXJoYXBzIHdlIHNob3VsZCBnZW5lcmF0ZSBvbmUgcnVsZSB3aXRoIGEgbG9uZ2VyXG4gIC8vIHJlZ2V4RmlsdGVyIGNvbmRpdGlvbiBpbnN0ZWFkLiBCdXQgaWYgd2UgZG8gdGhhdCwgd2Ugd2lsbCBuZWVkIHRvIGJlXG4gIC8vIGNhcmVmdWwgbm90IHRvIGhpdCB0aGUgbWVtb3J5IGxpbWl0IGZvciByZWd1bGFyIGV4cHJlc3Npb24gcnVsZSBjb25kaXRpb25zXG4gIC8vIGFuZCBhbHNvIHRvIG1hdGNoIHN1YmRvbWFpbnMgY29ycmVjdGx5LlxuICBpZiAocnVsZS5jb25kaXRpb24uZXhjbHVkZWREb21haW5zKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmIChydWxlLmNvbmRpdGlvbi5kb21haW5zKSB7XG4gICAgaWYgKGNvbmRpdGlvbi51cmxGaWx0ZXIpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBsZXQge2RvbWFpbnN9ID0gY29uZGl0aW9uO1xuICAgIGRlbGV0ZSBjb25kaXRpb24uZG9tYWlucztcblxuICAgIGxldCBydWxlcyA9IFtdO1xuICAgIGZvciAobGV0IGRvbWFpbiBvZiBkb21haW5zKSB7XG4gICAgICBsZXQgZG9tYWluUnVsZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocnVsZSkpO1xuICAgICAgZG9tYWluUnVsZS5jb25kaXRpb24udXJsRmlsdGVyID0gXCJ8fFwiICsgZG9tYWluICsgXCJeXCI7XG4gICAgICBydWxlcy5wdXNoKGRvbWFpblJ1bGUpO1xuICAgIH1cblxuICAgIHJldHVybiBydWxlcztcbiAgfVxuXG4gIHJldHVybiBbcnVsZV07XG59O1xuXG5leHBvcnRzLmdlbmVyYXRlQmxvY2tpbmdSdWxlcyA9IGZ1bmN0aW9uKGZpbHRlciwgdXJsRmlsdGVyLCBtYXRjaENhc2UpIHtcbiAgbGV0IHJlc291cmNlVHlwZXMgPSBnZXRSZXNvdXJjZVR5cGVzKGZpbHRlci5jb250ZW50VHlwZSk7XG5cbiAgLy8gV2UgY2FuJ3QgZ2VuZXJhdGUgcnVsZXMgZm9yIGZpbHRlcnMgd2hpY2ggZG9uJ3QgaW5jbHVkZSBhbnkgc3VwcG9ydGVkXG4gIC8vIHJlc291cmNlIHR5cGVzLlxuICBpZiAocmVzb3VyY2VUeXBlcyAmJiByZXNvdXJjZVR5cGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgbGV0IFtjb25kaXRpb24sIGlzR2VuZXJpY0ZpbHRlcl0gPSBnZXRDb25kaXRpb24oXG4gICAgZmlsdGVyLCB1cmxGaWx0ZXIsIHJlc291cmNlVHlwZXMsIG1hdGNoQ2FzZVxuICApO1xuXG4gIHJldHVybiBbe1xuICAgIHByaW9yaXR5OiBpc0dlbmVyaWNGaWx0ZXIgPyBHRU5FUklDX1BSSU9SSVRZIDogU1BFQ0lGSUNfUFJJT1JJVFksXG4gICAgY29uZGl0aW9uLFxuICAgIGFjdGlvbjoge1xuICAgICAgdHlwZTogXCJibG9ja1wiXG4gICAgfVxuICB9XTtcbn07XG5cbmV4cG9ydHMuZ2VuZXJhdGVBbGxvd2luZ1J1bGVzID0gZnVuY3Rpb24oZmlsdGVyLCB1cmxGaWx0ZXIsIG1hdGNoQ2FzZSkge1xuICBsZXQgcnVsZXMgPSBbXTtcbiAgbGV0IHtjb250ZW50VHlwZX0gPSBmaWx0ZXI7XG5cbiAgbGV0IGdlbmVyaWNCbG9jayA9IGNvbnRlbnRUeXBlICYgY29udGVudFR5cGVzLkdFTkVSSUNCTE9DSztcblxuICBpZiAoY29udGVudFR5cGUgJiBjb250ZW50VHlwZXMuRE9DVU1FTlQgfHwgZ2VuZXJpY0Jsb2NrKSB7XG4gICAgY29udGVudFR5cGUgJj0gfmNvbnRlbnRUeXBlcy5TVUJET0NVTUVOVDtcblxuICAgIHJ1bGVzLnB1c2goe1xuICAgICAgcHJpb3JpdHk6IGdlbmVyaWNCbG9jayA/XG4gICAgICAgICAgICAgICAgICBHRU5FUklDX0FMTE9XX0FMTF9QUklPUklUWSA6IFNQRUNJRklDX0FMTE9XX0FMTF9QUklPUklUWSxcbiAgICAgIGNvbmRpdGlvbjogZ2V0Q29uZGl0aW9uKFxuICAgICAgICBmaWx0ZXIsIHVybEZpbHRlciwgW1wibWFpbl9mcmFtZVwiLCBcInN1Yl9mcmFtZVwiXSwgbWF0Y2hDYXNlKVswXSxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICB0eXBlOiBcImFsbG93QWxsUmVxdWVzdHNcIlxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgbGV0IHJlc291cmNlVHlwZXMgPSBnZXRSZXNvdXJjZVR5cGVzKGNvbnRlbnRUeXBlKTtcbiAgaWYgKCFyZXNvdXJjZVR5cGVzIHx8IHJlc291cmNlVHlwZXMubGVuZ3RoKSB7XG4gICAgcnVsZXMucHVzaCh7XG4gICAgICBwcmlvcml0eTogZ2VuZXJpY0Jsb2NrID8gR0VORVJJQ19QUklPUklUWSA6IFNQRUNJRklDX1BSSU9SSVRZLFxuICAgICAgY29uZGl0aW9uOiBnZXRDb25kaXRpb24oZmlsdGVyLCB1cmxGaWx0ZXIsIHJlc291cmNlVHlwZXMsIG1hdGNoQ2FzZSlbMF0sXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgdHlwZTogXCJhbGxvd1wiXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcnVsZXM7XG59O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUlzQXNjaWlPbmx5KHN0cikge1xuICAvLyBbMC0xMjddIHJhbmdlIGlzIGNvbnNpZGVyZWQgdG8gYmUgYWxsb3dlZCBBU0NJSSBjaGFyYWN0ZXJzXG4gIGlmICghL15bXFx4MDAtXFx4N0ZdKiQvLnRlc3Qoc3RyKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBBU0NJSSBjaGFyYWN0ZXJzIGZvdW5kIGluOiBcIiR7c3RyfVwiYCk7XG4gIH1cbn1cbmV4cG9ydHMudmFsaWRhdGVJc0FzY2lpT25seSA9IHZhbGlkYXRlSXNBc2NpaU9ubHk7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRG9tYWlucyhkb21haW5zKSB7XG4gIGlmIChkb21haW5zKSB7XG4gICAgZm9yIChsZXQgZG9tYWluIG9mIGRvbWFpbnMpIHtcbiAgICAgIHZhbGlkYXRlSXNBc2NpaU9ubHkoZG9tYWluKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVDb25kaXRpb24oY29uZGl0aW9uKSB7XG4gIGlmIChjb25kaXRpb24udXJsRmlsdGVyKSB7XG4gICAgdmFsaWRhdGVJc0FzY2lpT25seShjb25kaXRpb24udXJsRmlsdGVyKTtcbiAgfVxuICBpZiAoY29uZGl0aW9uLnJlZ2V4RmlsdGVyKSB7XG4gICAgdmFsaWRhdGVJc0FzY2lpT25seShjb25kaXRpb24ucmVnZXhGaWx0ZXIpO1xuICB9XG5cbiAgdmFsaWRhdGVEb21haW5zKGNvbmRpdGlvbi5pbml0aWF0b3JEb21haW5zKTtcbiAgdmFsaWRhdGVEb21haW5zKGNvbmRpdGlvbi5yZXF1ZXN0RG9tYWlucyk7XG5cbiAgLy8gZGVwcmVjYXRlZCBzdGFydGluZyBDaHJvbWUgMTAxXG4gIHZhbGlkYXRlRG9tYWlucyhjb25kaXRpb24uZG9tYWlucyk7XG4gIHZhbGlkYXRlRG9tYWlucyhjb25kaXRpb24uZXhjbHVkZWREb21haW5zKTtcblxuICAvLyBzdGFydGluZyBDaHJvbWUgMTAxXG4gIHZhbGlkYXRlRG9tYWlucyhjb25kaXRpb24uZXhjbHVkZWRJbml0aWF0b3JEb21haW5zKTtcbiAgdmFsaWRhdGVEb21haW5zKGNvbmRpdGlvbi5leGNsdWRlZFJlcXVlc3REb21haW5zKTtcbn1cblxuZXhwb3J0cy52YWxpZGF0ZVJ1bGUgPSBmdW5jdGlvbihydWxlKSB7XG4gIHRyeSB7XG4gICAgdmFsaWRhdGVDb25kaXRpb24ocnVsZS5jb25kaXRpb24pO1xuICAgIHJldHVybiBydWxlO1xuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn07XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgQWRibG9jayBQbHVzIDxodHRwczovL2FkYmxvY2twbHVzLm9yZy8+LFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEFkYmxvY2sgUGx1cy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4vKiogQG1vZHVsZSAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZmlsZSBEb3dubG9hZHMgYSBzZXQgb2YgVVJMcyBpbiByZWd1bGFyIHRpbWUgaW50ZXJ2YWxzLlxuICovXG5cbmNvbnN0IHtNSUxMSVNfSU5fREFZfSA9IHJlcXVpcmUoXCIuL3RpbWVcIik7XG5jb25zdCB7aXNMb2NhbGhvc3R9ID0gcmVxdWlyZShcIi4vdXJsXCIpO1xuXG4vKipcbiAqIEEgdHlwZSBvZiBmdW5jdGlvbiB0aGF0IHlpZWxkcyBge0BsaW5rIG1vZHVsZTpkb3dubG9hZGVyLkRvd25sb2FkYWJsZX1gXG4gKiBvYmplY3RzIHRvIGEgYHtAbGluayBtb2R1bGU6ZG93bmxvYWRlci5Eb3dubG9hZGVyfWAuXG4gKlxuICogKipOb3RlKio6IFRoZSBpbXBsZW1lbnRhdGlvbiBtdXN0IHlpZWxkIGEgbmV3XG4gKiBge0BsaW5rIG1vZHVsZTpkb3dubG9hZGVyLkRvd25sb2FkYWJsZX1gIGluc3RhbmNlIG9uIGVhY2ggY2FsbCB3aXRoXG4gKiB1cC10by1kYXRlIHZhbHVlcyBmb3IgcHJvcGVydGllcyBsaWtlXG4gKiBge0BsaW5rIG1vZHVsZTpkb3dubG9hZGVyLkRvd25sb2FkYWJsZSNsYXN0Q2hlY2t9YCxcbiAqIGB7QGxpbmsgbW9kdWxlOmRvd25sb2FkZXIuRG93bmxvYWRhYmxlI2xhc3RWZXJzaW9ufWAsXG4gKiBge0BsaW5rIG1vZHVsZTpkb3dubG9hZGVyLkRvd25sb2FkYWJsZSNkb3dubG9hZENvdW50fWAsIGFuZCBvdGhlcnMuIElmIGFcbiAqIHZhbHVlIGlzIG91dGRhdGVkLCBpdCBtYXkgcmVzdWx0IGluIHVuZXhwZWN0ZWQgYmVoYXZpb3IuXG4gKlxuICogQGNhbGxiYWNrIERhdGFTb3VyY2VcbiAqXG4gKiBAeWllbGRzIHttb2R1bGU6ZG93bmxvYWRlci5Eb3dubG9hZGFibGV9XG4gKiBAZ2VuZXJhdG9yXG4gKlxuICogQHNlZSBtb2R1bGU6ZG93bmxvYWRlci5Eb3dubG9hZGVyXG4gKiBAc2VlIG1vZHVsZTpkb3dubG9hZGVyLkRvd25sb2FkZXIjZGF0YVNvdXJjZVxuICovXG5cbi8qKlxuICogVXNlIGEgYERvd25sb2FkZXJgIG9iamVjdCB0byBkb3dubG9hZCBhIHNldCBvZiBVUkxzIGF0IHJlZ3VsYXIgdGltZVxuICogaW50ZXJ2YWxzLlxuICpcbiAqIFRoaXMgY2xhc3MgaXMgdXNlZCBieSBge0BsaW5rIG1vZHVsZTpzeW5jaHJvbml6ZXIuc3luY2hyb25pemVyfWAgYW5kXG4gKiBge0BsaW5rIG1vZHVsZTpub3RpZmljYXRpb25zLm5vdGlmaWNhdGlvbnN9YC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uKiBkYXRhU291cmNlKClcbiAqIHtcbiAqICAgeWllbGQgbmV3IERvd25sb2FkYWJsZShcImh0dHBzOi8vZXhhbXBsZS5jb20vZmlsdGVycy50eHRcIik7XG4gKiB9XG4gKlxuICogbGV0IGluaXRpYWxEZWxheSA9IDEwMDA7XG4gKiBsZXQgY2hlY2tJbnRlcnZhbCA9IDYwMDAwO1xuICpcbiAqIGxldCBkb3dubG9hZGVyID0gbmV3IERvd25sb2FkZXIoZGF0YVNvdXJjZSk7XG4gKiBkb3dubG9hZGVyLnNjaGVkdWxlQ2hlY2tzKGNoZWNrSW50ZXJ2YWwsIGluaXRpYWxEZWxheSk7XG4gKlxuICogZG93bmxvYWRlci5vbkRvd25sb2FkU3RhcnRlZCA9IGZ1bmN0aW9uKGRvd25sb2FkYWJsZSlcbiAqIHtcbiAqICAgY29uc29sZS5sb2coYERvd25sb2FkaW5nICR7ZG93bmxvYWRhYmxlLnVybH0gLi4uYCk7XG4gKiB9XG4gKlxuICogQHBhY2thZ2VcbiAqL1xuZXhwb3J0cy5Eb3dubG9hZGVyID0gY2xhc3MgRG93bmxvYWRlciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGRvd25sb2FkZXIgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7bW9kdWxlOmRvd25sb2FkZXJ+RGF0YVNvdXJjZX0gZGF0YVNvdXJjZVxuICAgKiAgIEEgZnVuY3Rpb24gdGhhdCB5aWVsZHMgYHtAbGluayBtb2R1bGU6ZG93bmxvYWRlci5Eb3dubG9hZGFibGV9YCBvYmplY3RzXG4gICAqICAgb24gZWFjaCB7QGxpbmsgbW9kdWxlOmRvd25sb2FkZXIuRG93bmxvYWRlciNzY2hlZHVsZUNoZWNrcyBjaGVja30uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhU291cmNlKSB7XG4gICAgLyoqXG4gICAgICogTWF4aW1hbCB0aW1lIGludGVydmFsIHRoYXQgdGhlIGNoZWNrcyBjYW4gYmUgbGVmdCBvdXQgdW50aWwgdGhlIHNvZnRcbiAgICAgKiBleHBpcmF0aW9uIGludGVydmFsIGluY3JlYXNlcy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4QWJzZW5jZUludGVydmFsID0gMSAqIE1JTExJU19JTl9EQVk7XG5cbiAgICAvKipcbiAgICAgKiBNaW5pbWFsIHRpbWUgaW50ZXJ2YWwgYmVmb3JlIHJldHJ5aW5nIGEgZG93bmxvYWQgYWZ0ZXIgYW4gZXJyb3IuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1pblJldHJ5SW50ZXJ2YWwgPSAxICogTUlMTElTX0lOX0RBWTtcblxuICAgIC8qKlxuICAgICAqIE1heGltYWwgYWxsb3dlZCBleHBpcmF0aW9uIGludGVydmFsOyBsYXJnZXIgZXhwaXJhdGlvblxuICAgICAqIGludGVydmFscyB3aWxsIGJlIGNvcnJlY3RlZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4RXhwaXJhdGlvbkludGVydmFsID0gMTQgKiBNSUxMSVNfSU5fREFZO1xuXG4gICAgLyoqXG4gICAgICogTWF4aW1hbCBudW1iZXIgb2YgcmVkaXJlY3RzIGJlZm9yZSB0aGUgZG93bmxvYWQgaXMgY29uc2lkZXJlZCBhcyBmYWlsZWQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heFJlZGlyZWN0cyA9IDU7XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbmV2ZXIgZXhwaXJhdGlvbiBpbnRlcnZhbHMgZm9yIGFuIG9iamVjdCBuZWVkIHRvIGJlIGFkYXB0ZWQuXG4gICAgICogQHR5cGUge2Z1bmN0aW9uP31cbiAgICAgKi9cbiAgICB0aGlzLm9uRXhwaXJhdGlvbkNoYW5nZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB0byBiZSB0cmlnZ2VyZWQgd2hlbmV2ZXIgYSBkb3dubG9hZCBzdGFydHMuXG4gICAgICogQHR5cGUge2Z1bmN0aW9uP31cbiAgICAgKi9cbiAgICB0aGlzLm9uRG93bmxvYWRTdGFydGVkID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHRvIGJlIHRyaWdnZXJlZCB3aGVuZXZlciBhIGRvd25sb2FkIGZpbmlzaGVzIHN1Y2Nlc3NmdWxseS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBjYW4gcmV0dXJuIGFuIGVycm9yIGNvZGUgdG8gaW5kaWNhdGUgdGhhdCB0aGUgZGF0YSBpc1xuICAgICAqIHdyb25nLlxuICAgICAqXG4gICAgICogQHR5cGUge2Z1bmN0aW9uP31cbiAgICAgKi9cbiAgICB0aGlzLm9uRG93bmxvYWRTdWNjZXNzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHRvIGJlIHRyaWdnZXJlZCB3aGVuZXZlciBhIGRvd25sb2FkIGZhaWxzLlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbj99XG4gICAgICovXG4gICAgdGhpcy5vbkRvd25sb2FkRXJyb3IgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB0aGF0IHlpZWxkcyBge0BsaW5rIG1vZHVsZTpkb3dubG9hZGVyLkRvd25sb2FkYWJsZX1gIG9iamVjdHNcbiAgICAgKiBvbiBlYWNoIHtAbGluayBtb2R1bGU6ZG93bmxvYWRlci5Eb3dubG9hZGVyI3NjaGVkdWxlQ2hlY2tzIGNoZWNrfS5cbiAgICAgKiBAdHlwZSB7bW9kdWxlOmRvd25sb2FkZXJ+RGF0YVNvdXJjZX1cbiAgICAgKi9cbiAgICB0aGlzLmRhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuXG4gICAgLyoqXG4gICAgICogU2V0IGNvbnRhaW5pbmcgdGhlIFVSTHMgb2Ygb2JqZWN0cyBjdXJyZW50bHkgYmVpbmcgZG93bmxvYWRlZC5cbiAgICAgKiAoZm9yIERpZmZVcGRhdGFibGUgc3Vic2NyaXB0aW9ucyBpdCdzIHN1YnNjcmlwdGlvbiBVUkwsIG5vdCBkaWZmIFVSTClcbiAgICAgKiBAdHlwZSB7U2V0LjxzdHJpbmc+fVxuICAgICAqL1xuICAgIHRoaXMuX2Rvd25sb2FkaW5nID0gbmV3IFNldCgpO1xuXG4gICAgLyoqXG4gICAgICogU3RvcmUgdGhlIHRpbWVvdXQgSUQgZm9yIHNjaGVkdWxlZCBjaGVja3MuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLl90aW1lb3V0ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgY2hlY2tzIGF0IHJlZ3VsYXIgdGltZSBpbnRlcnZhbHMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbCBUaGUgaW50ZXJ2YWwgYmV0d2VlbiBjaGVja3MgaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgVGhlIGRlbGF5IGJlZm9yZSB0aGUgaW5pdGlhbCBjaGVjayBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzY2hlZHVsZUNoZWNrcyhpbnRlcnZhbCwgZGVsYXkpIHtcbiAgICAvLyBjbGVhciBwcmV2aW91cyB0aW1lb3V0cyBpZiBjYWxsZWQgdG9vIG1hbnkgdGltZXNcbiAgICB0aGlzLnVuc2NoZWR1bGVDaGVja3MoKTtcblxuICAgIGxldCBjaGVjayA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuX2RvQ2hlY2soKTtcbiAgICAgIH1cbiAgICAgIGZpbmFsbHkge1xuICAgICAgICAvLyBTY2hlZHVsZSB0aGUgbmV4dCBjaGVjayBvbmx5IGFmdGVyIHRoZSBjYWxsYmFjayBoYXMgZmluaXNoZWQgd2l0aFxuICAgICAgICAvLyB0aGUgY3VycmVudCBjaGVjay5cbiAgICAgICAgdGhpcy5fdGltZW91dCA9XG4gICAgICAgICAgc2V0VGltZW91dChjaGVjaywgaW50ZXJ2YWwpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIE5vdGU6IHRlc3QvX2NvbW1vbi5qcyBvdmVycmlkZXMgc2V0VGltZW91dCgpIGZvciB0aGUgdGVzdHM7IGlmIHRoaXNcbiAgICAvLyBnbG9iYWwgZnVuY3Rpb24gaXMgdXNlZCBhbnl3aGVyZSBlbHNlLCBpdCBtYXkgZ2l2ZSBpbmNvcnJlY3QgcmVzdWx0cy5cbiAgICAvLyBUaGlzIGlzIHdoeSB3ZSBkaXNhYmxlIEVTTGludCdzIG5vLXVuZGVmIHJ1bGUgbG9jYWxseS5cbiAgICAvLyBodHRwczovL2dpdGxhYi5jb20vZXllby9hZGJsb2NrcGx1cy9hYmMvYWRibG9ja3BsdXNjb3JlL2lzc3Vlcy80M1xuICAgIHRoaXMuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGNoZWNrLCBkZWxheSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBwcmV2aW91c2x5IHNjaGVkdWxlZCBjaGVja3MsIGlmIGFueS5cbiAgICovXG4gIHVuc2NoZWR1bGVDaGVja3MoKSB7XG4gICAgaWYgKHRoaXMuX3RpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuICAgICAgdGhpcy5fdGltZW91dCA9IDA7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIGFueXRoaW5nIG5lZWRzIGRvd25sb2FkaW5nLlxuICAgKi9cbiAgX2RvQ2hlY2soKSB7XG4gICAgbGV0IG5vdyA9IERhdGUubm93KCk7XG4gICAgZm9yIChsZXQgZG93bmxvYWRhYmxlIG9mIHRoaXMuZGF0YVNvdXJjZSgpKSB7XG4gICAgICBpZiAoZG93bmxvYWRhYmxlLmxhc3RDaGVjayAmJlxuICAgICAgICAgIG5vdyAtIGRvd25sb2FkYWJsZS5sYXN0Q2hlY2sgPiB0aGlzLm1heEFic2VuY2VJbnRlcnZhbCkge1xuICAgICAgICAvLyBObyBjaGVja3MgZm9yIGEgbG9uZyB0aW1lIGludGVydmFsIC0gdXNlciBtdXN0IGhhdmUgYmVlbiBvZmZsaW5lLFxuICAgICAgICAvLyBlLmcuICBkdXJpbmcgYSB3ZWVrZW5kLiBJbmNyZWFzZSBzb2Z0IGV4cGlyYXRpb24gdG8gcHJldmVudCBsb2FkXG4gICAgICAgIC8vIHBlYWtzIG9uIHRoZSBzZXJ2ZXIuXG4gICAgICAgIGRvd25sb2FkYWJsZS5zb2Z0RXhwaXJhdGlvbiArPSBub3cgLSBkb3dubG9hZGFibGUubGFzdENoZWNrO1xuICAgICAgfVxuICAgICAgZG93bmxvYWRhYmxlLmxhc3RDaGVjayA9IG5vdztcblxuICAgICAgLy8gU2FuaXR5IGNoZWNrOiBkbyBleHBpcmF0aW9uIHRpbWVzIG1ha2Ugc2Vuc2U/IE1ha2Ugc3VyZSBwZW9wbGUgY2hhbmdpbmdcbiAgICAgIC8vIHN5c3RlbSBjbG9jayBkb24ndCBnZXQgc3R1Y2sgd2l0aCBvdXRkYXRlZCBzdWJzY3JpcHRpb25zLlxuICAgICAgaWYgKGRvd25sb2FkYWJsZS5oYXJkRXhwaXJhdGlvbiAtIG5vdyA+IHRoaXMubWF4RXhwaXJhdGlvbkludGVydmFsKSB7XG4gICAgICAgIGRvd25sb2FkYWJsZS5oYXJkRXhwaXJhdGlvbiA9IG5vdyArIHRoaXMubWF4RXhwaXJhdGlvbkludGVydmFsO1xuICAgICAgfVxuICAgICAgaWYgKGRvd25sb2FkYWJsZS5zb2Z0RXhwaXJhdGlvbiAtIG5vdyA+IHRoaXMubWF4RXhwaXJhdGlvbkludGVydmFsKSB7XG4gICAgICAgIGRvd25sb2FkYWJsZS5zb2Z0RXhwaXJhdGlvbiA9IG5vdyArIHRoaXMubWF4RXhwaXJhdGlvbkludGVydmFsO1xuICAgICAgfVxuXG4gICAgICAvLyBOb3RpZnkgdGhlIGNhbGxlciBhYm91dCBjaGFuZ2VzIHRvIGV4cGlyYXRpb24gcGFyYW1ldGVyc1xuICAgICAgaWYgKHRoaXMub25FeHBpcmF0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMub25FeHBpcmF0aW9uQ2hhbmdlKGRvd25sb2FkYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIERvZXMgdGhhdCBvYmplY3QgbmVlZCBkb3dubG9hZGluZz9cbiAgICAgIGlmIChkb3dubG9hZGFibGUuc29mdEV4cGlyYXRpb24gPiBub3cgJiZcbiAgICAgICAgICBkb3dubG9hZGFibGUuaGFyZEV4cGlyYXRpb24gPiBub3cpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIERvIG5vdCByZXRyeSBkb3dubG9hZHMgdG9vIG9mdGVuXG4gICAgICBpZiAoZG93bmxvYWRhYmxlLmxhc3RFcnJvciAmJlxuICAgICAgICAgIG5vdyAtIGRvd25sb2FkYWJsZS5sYXN0RXJyb3IgPCB0aGlzLm1pblJldHJ5SW50ZXJ2YWwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2Rvd25sb2FkKGRvd25sb2FkYWJsZSwgMCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIGFuIGFkZHJlc3MgaXMgY3VycmVudGx5IGJlaW5nIGRvd25sb2FkZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0Rvd25sb2FkaW5nKHVybCkge1xuICAgIHJldHVybiB0aGlzLl9kb3dubG9hZGluZy5oYXModXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgZG93bmxvYWRpbmcgZm9yIGFuIG9iamVjdC5cbiAgICogQHBhcmFtIHtEb3dubG9hZGFibGV9IGRvd25sb2FkYWJsZVxuICAgKi9cbiAgZG93bmxvYWQoZG93bmxvYWRhYmxlKSB7XG4gICAgdGhpcy5fZG93bmxvYWQoZG93bmxvYWRhYmxlLCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgdGhlIHJlYWwgZG93bmxvYWQgVVJMIGZvciBhbiBvYmplY3QgYnkgYXBwZW5kaW5nIHZhcmlvdXNcbiAgICogcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIHtEb3dubG9hZGFibGV9IGRvd25sb2FkYWJsZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0RG93bmxvYWRVcmwoZG93bmxvYWRhYmxlKSB7XG4gICAgY29uc3Qge2FkZG9uTmFtZSwgYWRkb25WZXJzaW9uLCBhcHBsaWNhdGlvbiwgYXBwbGljYXRpb25WZXJzaW9uLFxuICAgICAgICAgICBwbGF0Zm9ybSwgcGxhdGZvcm1WZXJzaW9uLCBtYW5pZmVzdFZlcnNpb259ID0gcmVxdWlyZShcImluZm9cIik7XG5cbiAgICBsZXQgdXJsID0gZG93bmxvYWRhYmxlLnJlZGlyZWN0VVJMIHx8IGRvd25sb2FkYWJsZS51cmw7XG4gICAgaWYgKHVybC5pbmNsdWRlcyhcIj9cIikpIHtcbiAgICAgIHVybCArPSBcIiZcIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB1cmwgKz0gXCI/XCI7XG4gICAgfVxuXG4gICAgLy8gV2UgbGltaXQgdGhlIGRvd25sb2FkIGNvdW50IHRvIDQrIHRvIGtlZXAgdGhlIHJlcXVlc3QgYW5vbnltaXplZC5cbiAgICBsZXQge2Rvd25sb2FkQ291bnQsIGRpc2FibGVkfSA9IGRvd25sb2FkYWJsZTtcbiAgICBpZiAoZG93bmxvYWRDb3VudCA+IDQpIHtcbiAgICAgIGRvd25sb2FkQ291bnQgPSBcIjQrXCI7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzYWJsZWQgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB1cmwgKz0gXCJhZGRvbk5hbWU9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoYWRkb25OYW1lKSArXG4gICAgICAgICAgIFwiJmFkZG9uVmVyc2lvbj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChhZGRvblZlcnNpb24pICtcbiAgICAgICAgICAgXCImYXBwbGljYXRpb249XCIgKyBlbmNvZGVVUklDb21wb25lbnQoYXBwbGljYXRpb24pICtcbiAgICAgICAgICAgXCImYXBwbGljYXRpb25WZXJzaW9uPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGFwcGxpY2F0aW9uVmVyc2lvbikgK1xuICAgICAgICAgICBcIiZwbGF0Zm9ybT1cIiArIGVuY29kZVVSSUNvbXBvbmVudChwbGF0Zm9ybSkgK1xuICAgICAgICAgICBcIiZwbGF0Zm9ybVZlcnNpb249XCIgKyBlbmNvZGVVUklDb21wb25lbnQocGxhdGZvcm1WZXJzaW9uKSArXG4gICAgICAgICAgIFwiJmxhc3RWZXJzaW9uPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGRvd25sb2FkYWJsZS5sYXN0VmVyc2lvbikgK1xuICAgICAgICAgICBcIiZkb3dubG9hZENvdW50PVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGRvd25sb2FkQ291bnQpICtcbiAgICAgICAgICAgXCImZGlzYWJsZWQ9XCIgKyBTdHJpbmcoZGlzYWJsZWQpICtcbiAgICAgICAgICAgXCImbWFuaWZlc3RWZXJzaW9uPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG1hbmlmZXN0VmVyc2lvbikgK1xuICAgICAgICAgICBcIiZzYWZlPXRydWVcIjtcblxuICAgIGlmIChkb3dubG9hZGFibGUuZmlyc3RWZXJzaW9uICYmICFkb3dubG9hZGFibGUucmVkaXJlY3RVUkwpIHtcbiAgICAgIHVybCArPSBcIiZmaXJzdFZlcnNpb249XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZG93bmxvYWRhYmxlLmZpcnN0VmVyc2lvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIF9kb3dubG9hZChkb3dubG9hZGFibGUsIHJlZGlyZWN0cykge1xuICAgIGlmICh0aGlzLmlzRG93bmxvYWRpbmcoZG93bmxvYWRhYmxlLm9yaWdpbmFsVXJsIHx8IGRvd25sb2FkYWJsZS51cmwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGRvd25sb2FkVXJsID0gdGhpcy5nZXREb3dubG9hZFVybChkb3dubG9hZGFibGUpO1xuICAgIGxldCByZXNwb25zZVN0YXR1cyA9IDA7XG5cbiAgICBsZXQgZXJyb3JDYWxsYmFjayA9IGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUud2FybihcIkFkYmxvY2sgUGx1czogRG93bmxvYWRpbmcgVVJMIFwiICsgZG93bmxvYWRhYmxlLnVybCArXG4gICAgICAgICAgICAgICAgICAgXCIgZmFpbGVkIChcIiArIGVycm9yICsgXCIpXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgIFwiRG93bmxvYWQgYWRkcmVzczogXCIgKyBkb3dubG9hZFVybCArIFwiXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgIFwiU2VydmVyIHJlc3BvbnNlOiBcIiArIHJlc3BvbnNlU3RhdHVzKTtcblxuICAgICAgaWYgKHRoaXMub25Eb3dubG9hZEVycm9yKSB7XG4gICAgICAgIC8vIEFsbG93IG9uZSBleHRyYSByZWRpcmVjdCBpZiB0aGUgZXJyb3IgaGFuZGxlciBnaXZlcyB1cyBhIHJlZGlyZWN0IFVSTFxuICAgICAgICBsZXQgcmVkaXJlY3RDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIGlmIChyZWRpcmVjdHMgPD0gdGhpcy5tYXhSZWRpcmVjdHMpIHtcbiAgICAgICAgICByZWRpcmVjdENhbGxiYWNrID0gdXJsID0+IHtcbiAgICAgICAgICAgIGRvd25sb2FkYWJsZS5yZWRpcmVjdFVSTCA9IHVybDtcbiAgICAgICAgICAgIHRoaXMuX2Rvd25sb2FkKGRvd25sb2FkYWJsZSwgcmVkaXJlY3RzICsgMSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub25Eb3dubG9hZEVycm9yKFxuICAgICAgICAgIGRvd25sb2FkYWJsZSwgZG93bmxvYWRVcmwsIGVycm9yLCByZXNwb25zZVN0YXR1cywgcmVkaXJlY3RDYWxsYmFja1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoIURvd25sb2FkZXIuaXNWYWxpZFVSTChkb3dubG9hZFVybCkpIHtcbiAgICAgIGVycm9yQ2FsbGJhY2soXCJzeW5jaHJvbml6ZV9pbnZhbGlkX3VybFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcmVxdWVzdFVSTCA9IG5ldyBVUkwoZG93bmxvYWRVcmwpO1xuXG4gICAgbGV0IGluaXRPYmogPSB7XG4gICAgICBjYWNoZTogXCJuby1zdG9yZVwiLFxuICAgICAgY3JlZGVudGlhbHM6IFwib21pdFwiLFxuICAgICAgcmVmZXJyZXI6IFwibm8tcmVmZXJyZXJcIixcbiAgICAgIG1ldGhvZDogZG93bmxvYWRhYmxlLm1ldGhvZFxuICAgIH07XG5cbiAgICBsZXQgaGFuZGxlRXJyb3IgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9kb3dubG9hZGluZy5kZWxldGUoZG93bmxvYWRhYmxlLm9yaWdpbmFsVXJsIHx8IGRvd25sb2FkYWJsZS51cmwpO1xuICAgICAgZXJyb3JDYWxsYmFjayhcInN5bmNocm9uaXplX2Nvbm5lY3Rpb25fZXJyb3JcIik7XG4gICAgfTtcblxuICAgIGxldCBoYW5kbGVSZXNwb25zZSA9IHJlc3BvbnNlID0+IHtcbiAgICAgIHRoaXMuX2Rvd25sb2FkaW5nLmRlbGV0ZShkb3dubG9hZGFibGUub3JpZ2luYWxVcmwgfHwgZG93bmxvYWRhYmxlLnVybCk7XG5cbiAgICAgIC8vIElmIHRoZSBSZXNwb25zZS51cmwgcHJvcGVydHkgaXMgYXZhaWxhYmxlIFsxXSwgZGlzYWxsb3cgcmVkaXJlY3Rpb25cbiAgICAgIC8vIGZyb20gSFRUUFMgdG8gYW55IG90aGVyIHByb3RvY29sLlxuICAgICAgLy8gWzFdOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUmVzcG9uc2UvdXJsI0Jyb3dzZXJfY29tcGF0aWJpbGl0eVxuICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS51cmwgPT0gXCJzdHJpbmdcIiAmJiByZXF1ZXN0VVJMLnByb3RvY29sID09IFwiaHR0cHM6XCIgJiZcbiAgICAgICAgICBuZXcgVVJMKHJlc3BvbnNlLnVybCkucHJvdG9jb2wgIT0gcmVxdWVzdFVSTC5wcm90b2NvbCkge1xuICAgICAgICBlcnJvckNhbGxiYWNrKFwic3luY2hyb25pemVfY29ubmVjdGlvbl9lcnJvclwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXNwb25zZVN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcblxuICAgICAgaWYgKHJlc3BvbnNlU3RhdHVzICE9IDIwMCkge1xuICAgICAgICBmdW5jdGlvbiBpc0RpZmZUb29PbGQoZGF0ZVN0cmluZykge1xuICAgICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG4gICAgICAgICAgbGV0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICBsZXQgZGlmZmVyZW5jZSA9IGN1cnJlbnREYXRlIC0gZGF0ZTtcblxuICAgICAgICAgIC8vIFRoZSBtYXhpbXVtIGFnZSBmb3IgZGlmZiBVUkxzIGlzIDYgd2Vla3MuIFRoaXMgbGVuZ3RoIHdhcyBzZXRcbiAgICAgICAgICAvLyBzb21ld2hhdCBhcmJpdHJhcmlseSwgc28gaXQgbWlnaHQgYmUgYWRqdXN0ZWQgaW4gdGhlIGZ1dHVyZVxuICAgICAgICAgIC8vIGJ5IHRoZSBGTE9QUyB0ZWFtXG4gICAgICAgICAgLy8gaHR0cHM6Ly9qaXJhLmV5ZW8uY29tL2Jyb3dzZS9FRS0yOTdcbiAgICAgICAgICBjb25zdCBzaXhXZWVrc0luTWlsbGlzZWNvbmRzID0gNiAqIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuICAgICAgICAgIHJldHVybiBkaWZmZXJlbmNlID4gc2l4V2Vla3NJbk1pbGxpc2Vjb25kcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RpZmZUb29PbGQoZG93bmxvYWRhYmxlLmxhc3RNb2RpZmllZCkpIHtcbiAgICAgICAgICBlcnJvckNhbGxiYWNrKFwic3luY2hyb25pemVfZGlmZl90b29fb2xkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJzeW5jaHJvbml6ZV9jb25uZWN0aW9uX2Vycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gV2UgbmVlZCB0byBrZWVwIHVwZGF0ZWQgdGhlIHN1YnNjcmlwdGlvbiB2ZXJzaW9uIGV2ZW4gdmlhIEhFQUQuXG4gICAgICBpZiAoZG93bmxvYWRhYmxlLm1ldGhvZCA9PT0gXCJIRUFEXCIgfHwgZG93bmxvYWRhYmxlLm9yaWdpbmFsVXJsKSB7XG4gICAgICAgIC8vIEhvd2V2ZXIsIGFzIHdlIGRvbid0IGtub3cgaWYgdGhlIHNlcnZlciB3b3VsZCByZXNwb25kIHdpdGggc3VjaFxuICAgICAgICAvLyBkZXRhaWwsIHdlIG5lZWQgdG8gYmUgc3VyZSB0aGVyZSBpcyBzdWNoIGBEYXRlYCBvciBgZGF0ZWAgZmllbGQuXG4gICAgICAgIGxldCBkYXRlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJEYXRlXCIpIHx8IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiZGF0ZVwiKTtcbiAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAvLyBpZiB0aGF0J3MgdGhlIGNhc2UsIHdlIHdhbnQgaXQgdG8gYmUgZm9ybWF0dGVkIGFzIFlZWVlNTURESEhNTS5cbiAgICAgICAgICBkb3dubG9hZGFibGUubGFzdFZlcnNpb24gPVxuICAgICAgICAgICAgbmV3IERhdGUoZGF0ZSkudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9cXEQvZywgXCJcIikuc2xpY2UoMCwgMTIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghZG93bmxvYWRhYmxlLmRpc2FibGVkKSB7XG4gICAgICAgIGRvd25sb2FkYWJsZS5kb3dubG9hZENvdW50Kys7XG4gICAgICB9XG5cbiAgICAgIHJlc3BvbnNlLnRleHQoKS50aGVuKFxuICAgICAgICByZXNwb25zZVRleHQgPT4ge1xuICAgICAgICAgIHRoaXMub25Eb3dubG9hZFN1Y2Nlc3MoXG4gICAgICAgICAgICBkb3dubG9hZGFibGUsIHJlc3BvbnNlVGV4dCwgZXJyb3JDYWxsYmFjaywgdXJsID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlZGlyZWN0cyA+PSB0aGlzLm1heFJlZGlyZWN0cykge1xuICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJzeW5jaHJvbml6ZV9jb25uZWN0aW9uX2Vycm9yXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGRvd25sb2FkYWJsZS5yZWRpcmVjdFVSTCA9IHVybDtcbiAgICAgICAgICAgICAgdGhpcy5fZG93bmxvYWQoZG93bmxvYWRhYmxlLCByZWRpcmVjdHMgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgZXJyb3JDYWxsYmFjayhcInN5bmNocm9uaXplX2Nvbm5lY3Rpb25fZXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIGZldGNoKHJlcXVlc3RVUkwuaHJlZiwgaW5pdE9iaikudGhlbihoYW5kbGVSZXNwb25zZSwgaGFuZGxlRXJyb3IpO1xuXG4gICAgdGhpcy5fZG93bmxvYWRpbmcuYWRkKGRvd25sb2FkYWJsZS5vcmlnaW5hbFVybCB8fCBkb3dubG9hZGFibGUudXJsKTtcblxuICAgIGlmICh0aGlzLm9uRG93bmxvYWRTdGFydGVkKSB7XG4gICAgICB0aGlzLm9uRG93bmxvYWRTdGFydGVkKGRvd25sb2FkYWJsZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByb2R1Y2VzIGEgc29mdCBhbmQgYSBoYXJkIGV4cGlyYXRpb24gdGltZSBmb3IgYSBnaXZlbiBzdXBwbGllZFxuICAgKiBleHBpcmF0aW9uIGludGVydmFsLlxuICAgKlxuICAgKiBEb3dubG9hZGFibGUgdGhpbmdzLCBsaWtlIFN1YnNjcmlwdGlvbiwgaGF2ZSBhIGNlcnRhaW4gdGltZSBhZnRlclxuICAgKiB3aGljaCB0aGV5IGV4cGlyZSBhbmQgeW91IG5lZWQgdG8gZG93bmxvYWQgYSBuZXcsIHVwZGF0ZWQgdmVyc2lvbi5cbiAgICpcbiAgICogVG8gc3ByZWFkIHRoZSBsb2FkIG9uIG91ciBkb3dubG9hZCBzZXJ2ZXJzLCB3ZSdkIHJhdGhlciB0aGF0IGFsbFxuICAgKiB1c2VycyBub3QgZG93bmxvYWQgdXBkYXRlcyBhdCBleGFjdGx5IHRoZSBzYW1lIHRpbWUsIHNvIG9uXG4gICAqIGRvd25sb2FkIHdlIGNhbGN1bGF0ZSBhIHNvZnQgZXhwaXJhdGlvbiB0aW1lLCB3aGljaCBpcyByYW5kb21seVxuICAgKiBjaG9zZW4gYmV0d2VlbiA4MCUgYW5kIDEyMCUgb2YgdGhlIG9yaWdpbmFsIHRpbWUuIFdoZW4gd2UgcGFzc1xuICAgKiB0aGUgc29mdCBleHBpcmF0aW9uLCB3ZSBzdGFydCB0cnlpbmcgdG8gZG93bmxvYWQgdXBkYXRlcy5cbiAgICpcbiAgICogSG93ZXZlciwgdGhlcmUgYXJlIG90aGVyIGV2ZW50cyB0aGF0IGNvdWxkIGNhdXNlIGRvd25sb2FkcyB0byBhbGxcbiAgICogaGFwcGVuIGF0IHRoZSBzYW1lIHRpbWUuIElmIG1hbnkgcGVvcGxlIGxlYXZlIHRoZWlyIGNvbXB1dGVyIG9mZlxuICAgKiBvdmVyIHRoZSB3ZWVrZW5kIGFuZCBzaWduIGluIGF0IHRoZSBiZWdpbm5pbmcgb2YgYnVzaW5lc3MgaG91cnNcbiAgICogb24gTW9uZGF5LCB3ZSBjb3VsZCBzdGlsbCBzZWUgYSBzcGlrZSBpbiBkb3dubG9hZHMgYXQgdGhlIHNhbWVcbiAgICogdGltZS4gVG8gY29tYmF0IHRoaXMsIHRoZSBzb2Z0IGV4cGlyYXRpb24gdGltZSBtYXkgYmUgZGVsYXllZCB0b1xuICAgKiBhY2NvbW9kYXRlIHRoZXNlIHBlcmlvZHMgb2YgaW5hY3Rpdml0eS5cbiAgICpcbiAgICogVGhlcmUgYXJlIGxpbWl0cyB0byBob3cgZmFyIHdlIHdhbnQgdG8gZGVsYXkgb3VyIGRvd25sb2FkIGR1ZSB0b1xuICAgKiBpbmFjdGl2aXR5LiBUaGlzIGlzIHdoeSB3ZSBhbHNvIGNhbGN1bGF0ZSBhIGhhcmQgZXhwaXJhdGlvbiB0aW1lLFxuICAgKiB3aGljaCBpcyAyMDAlIG9mIHRoZSBvcmlnaW5hbCB0aW1lLiBXaGVuIHdlIHBhc3MgdGhlIGhhcmRcbiAgICogZXhwaXJhdGlvbiwgd2Ugc2hvdWxkIHRyeSB0byBkb3dubG9hZCBhbiB1cGRhdGUgd2hldGhlciB0aGVyZSB3YXNcbiAgICogaW5hY3Rpdml0eSBvciBub3QuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gbXVzdCBiZSBjYWxsZWQgdG8gY2FsY3VsYXRlIHRoZSBuZXcgZXhwaXJhdGlvblxuICAgKiB0aW1lcyBhcyBzb29uIGFzIGEgbmV3IHZlcnNpb24gaXMgZG93bmxvYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGludGVydmFsIGhvdyBvZnRlbiBpbiBtaWxsaXNlY29uZHMgdGhlXG4gICAqIGRvd25sb2FkYWJsZSBzaG91bGQgYmUgdXBkYXRlZFxuICAgKiBAcmV0dXJucyB7QXJyYXkuPG51bWJlcj59IHNvZnQgYW5kIGhhcmQgZXhwaXJhdGlvbiB0aW1lcyBpblxuICAgKiBtaWxsaXNlY29uZHMgc2luY2UgdGhlIFVuaXggZXBvY2hcbiAgICovXG4gIHByb2Nlc3NFeHBpcmF0aW9uSW50ZXJ2YWwoaW50ZXJ2YWwpIHtcbiAgICBpbnRlcnZhbCA9IE1hdGgubWluKE1hdGgubWF4KGludGVydmFsLCAwKSwgdGhpcy5tYXhFeHBpcmF0aW9uSW50ZXJ2YWwpO1xuICAgIGxldCBzb2Z0ID0gTWF0aC5yb3VuZChpbnRlcnZhbCAqIChNYXRoLnJhbmRvbSgpICogMC40ICsgMC44KSk7XG4gICAgbGV0IGhhcmQgPSBpbnRlcnZhbCAqIDI7XG4gICAgbGV0IG5vdyA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuIFtub3cgKyBzb2Z0LCBub3cgKyBoYXJkXTtcbiAgfVxufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIFVSTCBpcyBhIHZhbGlkIGRvd25sb2FkIFVSTC5cbiAqXG4gKiBGb3IgYSBVUkwgdG8gYmUgYSB2YWxpZCBkb3dubG9hZCBVUkwsIGl0cyBzY2hlbWUgbXVzdCBiZSBgaHR0cHNgIG9yIGBkYXRhYC5cbiAqIElmIHRoZSBob3N0IGNvbXBvbmVudCBvZiB0aGUgVVJMIGlzIGBsb2NhbGhvc3RgLCBgMTI3LjAuMC4xYCwgb3IgYFs6OjFdYCxcbiAqIGhvd2V2ZXIsIGJ1dCBpdHMgc2NoZW1lIGlzIG5vdCBgaHR0cHNgIG9yIGBkYXRhYCwgdGhlIFVSTCBpcyBzdGlsbFxuICogY29uc2lkZXJlZCB0byBiZSBhIHZhbGlkIGRvd25sb2FkIFVSTC5cbiAqXG4gKiBgaHR0cHM6Ly9leGFtcGxlLmNvbS9gLCBgZGF0YTosSGVsbG8lMkMlMjBXb3JsZCFgLCBhbmRcbiAqIGBodHRwOi8vMTI3LjAuMC4xL2V4YW1wbGUudHh0YCBhcmUgYWxsIGV4YW1wbGVzIG9mIHZhbGlkIGRvd25sb2FkIFVSTHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBVUkwgaXMgYSB2YWxpZCBkb3dubG9hZCBVUkwuXG4gKlxuICogQHBhY2thZ2VcbiAqL1xuZXhwb3J0cy5Eb3dubG9hZGVyLmlzVmFsaWRVUkwgPSBmdW5jdGlvbiBpc1ZhbGlkVVJMKHVybCkge1xuICB0cnkge1xuICAgIHVybCA9IG5ldyBVUkwodXJsKTtcbiAgfVxuICBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIVtcImh0dHBzOlwiLCBcImRhdGE6XCJdLmluY2x1ZGVzKHVybC5wcm90b2NvbCkgJiZcbiAgICAgICFpc0xvY2FsaG9zdCh1cmwuaG9zdG5hbWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEEgYERvd25sb2FkYWJsZWAgb2JqZWN0IHJlcHJlc2VudHMgYSBkb3dubG9hZGFibGUgcmVzb3VyY2UuXG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLkRvd25sb2FkYWJsZSA9IGNsYXNzIERvd25sb2FkYWJsZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSBkb3dubG9hZGVkIGJ5IHRoZSBkb3dubG9hZGVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsICBVUkwgdGhhdCBoYXMgdG8gYmUgcmVxdWVzdGVkIGZvciB0aGUgb2JqZWN0XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih1cmwpIHtcbiAgICAvKipcbiAgICAgKiBVUkwgdGhhdCB0aGUgZG93bmxvYWQgd2FzIHJlZGlyZWN0ZWQgdG8gaWYgYW55LlxuICAgICAqIEB0eXBlIHtzdHJpbmc/fVxuICAgICAqL1xuICAgIHRoaXMucmVkaXJlY3RVUkwgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGltZSBvZiBsYXN0IGRvd25sb2FkIGVycm9yIG9yIDAgaWYgdGhlIGxhc3QgZG93bmxvYWQgd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RFcnJvciA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaW1lIG9mIGxhc3QgY2hlY2sgd2hldGhlciB0aGUgb2JqZWN0IG5lZWRzIGRvd25sb2FkaW5nLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sYXN0Q2hlY2sgPSAwO1xuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IHZlcnNpb24gY29ycmVzcG9uZGluZyB0byB0aGUgbGFzdCBzdWNjZXNzZnVsIGRvd25sb2FkLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sYXN0VmVyc2lvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSB2ZXJzaW9uIG9mIHRoZSBmaXJzdCBldmVyIGRvd25sb2FkZWQgcmVzb3VyY2UsXG4gICAgICogaW4gYFlZWVlbTU1bRERdXVstRV1gIGZvcm1hdCBvciBqdXN0IGBcIjBcImAgb3IgYFwiMC1FXCJgLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHVubGlrZSBge0BsaW5rIG1vZHVsZTpkb3dubG9hZGVyLkRvd25sb2FkYWJsZSNsYXN0VmVyc2lvbn1gXG4gICAgICogdGhpcyBwcm9wZXJ0eSBpcyByZWxhdGVkIHRvIGFuYWx5dGljcyBhbmQgaXRzIHZhbHVlIGlzIGNvbW1vbiBhY3Jvc3MgYWxsXG4gICAgICogZG93bmxvYWRhYmxlIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIElmIGB7QGxpbmsgbW9kdWxlOmRvd25sb2FkZXIuRG93bmxvYWRhYmxlI3VybH1gIGlzIG5vdCBhIHRydXN0ZWQgVVJMLFxuICAgICAqIHRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IHNob3VsZCBiZSBzZXQgdG8gYG51bGxgLlxuICAgICAqXG4gICAgICogQHNlZSBtb2R1bGU6YW5hbHl0aWNzfkFuYWx5dGljcyNnZXRGaXJzdFZlcnNpb25cbiAgICAgKiBAc2VlIG1vZHVsZTphbmFseXRpY3N+QW5hbHl0aWNzI2lzVHJ1c3RlZFxuICAgICAqXG4gICAgICogQHR5cGUgez9zdHJpbmd9XG4gICAgICpcbiAgICAgKiBAcGFja2FnZVxuICAgICAqL1xuICAgIHRoaXMuZmlyc3RWZXJzaW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFNvZnQgZXhwaXJhdGlvbiB0aW1lIGluIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgVW5peCBlcG9jaC4gVGhpc1xuICAgICAqIHdpbGwgaW5jcmVhc2UgaWYgbm8gY2hlY2tzIGFyZSBwZXJmb3JtZWQgZm9yIGEgd2hpbGUuXG4gICAgICpcbiAgICAgKiBVcGRhdGVzIHNob3VsZCBiZSBkb3dubG9hZGVkIGlmIGBzb2Z0RXhwaXJhdGlvbmAgb3JcbiAgICAgKiBge0BsaW5rIG1vZHVsZTpkb3dubG9hZGVyLkRvd25sb2FkYWJsZSNoYXJkRXhwaXJhdGlvbn1gIGFyZSBpbiB0aGUgcGFzdC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc29mdEV4cGlyYXRpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogSGFyZCBleHBpcmF0aW9uIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBVbml4IGVwb2NoLiBUaGlzXG4gICAgICogaXMgZml4ZWQuXG4gICAgICpcbiAgICAgKiBVcGRhdGVzIHNob3VsZCBiZSBkb3dubG9hZGVkIGlmXG4gICAgICogYHtAbGluayBtb2R1bGU6ZG93bmxvYWRlci5Eb3dubG9hZGFibGUjc29mdEV4cGlyYXRpb259YCBvclxuICAgICAqIGBoYXJkRXhwaXJhdGlvbmAgYXJlIGluIHRoZSBwYXN0LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5oYXJkRXhwaXJhdGlvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgaW5kaWNhdGluZyBob3cgb2Z0ZW4gdGhlIG9iamVjdCB3YXMgZG93bmxvYWRlZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZG93bmxvYWRDb3VudCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IG1ldGhvZCB0byB1c2UsIHdoaWNoIGlzIGVpdGhlciBcIkdFVFwiIG9yIFwiSEVBRFwiLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5tZXRob2QgPSBcIkdFVFwiO1xuXG4gICAgLyoqXG4gICAgICogVVJMIHRoYXQgaGFzIHRvIGJlIHJlcXVlc3RlZCBmb3IgdGhlIG9iamVjdC5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudXJsID0gdXJsO1xuXG4gICAgLyoqXG4gICAgICogVVJMIHRoYXQgc3RvcmVzIHRoZSBzdWJzY3JpcHRpb24gVVJMIHdoZW4gZG93bmxvYWRpbmcgb2NjdXJzIGZvclxuICAgICAqIHRoZSBtMyBkaWZmIG1lY2hhbmlzbS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMub3JpZ2luYWxVcmwgPSBudWxsO1xuICB9XG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLyoqIEBtb2R1bGUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGZpbGUgRWxlbWVudCBoaWRpbmcgaW1wbGVtZW50YXRpb24uXG4gKi9cblxuY29uc3Qge2RvbWFpblN1ZmZpeGVzLCBoYXNXaWxkY2FyZCwgbWF0Y2hlc1dpbGRjYXJkc30gPVxuICByZXF1aXJlKFwiLi91cmxcIik7XG5jb25zdCB7RmlsdGVyc0J5RG9tYWluLCBGaWx0ZXJNYXB9ID0gcmVxdWlyZShcIi4vZmlsdGVyc0J5RG9tYWluXCIpO1xuY29uc3Qge0NhY2hlfSA9IHJlcXVpcmUoXCIuL2NhY2hpbmdcIik7XG5jb25zdCB7RWxlbUhpZGVFeGNlcHRpb25zfSA9IHJlcXVpcmUoXCIuL2VsZW1IaWRlRXhjZXB0aW9uc1wiKTtcblxuY2xhc3MgRWxlbUhpZGUge1xuICAvKipcbiAgICogQHBhcmFtIHtFbGVtSGlkZUV4Y2VwdGlvbnN9IGVsZW1IaWRlRXhjZXB0aW9ucyBUaGUgYXNzb2NpYXRlZCBlbGVtZW50XG4gICAqICAgaGlkaW5nIGV4Y2VwdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlbGVtSGlkZUV4Y2VwdGlvbnMpIHtcbiAgICBpZiAoIShlbGVtSGlkZUV4Y2VwdGlvbnMgaW5zdGFuY2VvZiBFbGVtSGlkZUV4Y2VwdGlvbnMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJlbGVtSGlkZUV4Y2VwdGlvbnMgbXVzdCBiZSBhbiBFbGVtSGlkZUV4Y2VwdGlvbnNcIik7XG4gICAgfVxuXG4gICAgLyoqIEB0eXBlIHtFbGVtSGlkZUV4Y2VwdGlvbnN9ICovXG4gICAgdGhpcy5lbGVtSGlkZUV4Y2VwdGlvbnMgPSBlbGVtSGlkZUV4Y2VwdGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBMb29rdXAgdGFibGUsIGFjdGl2ZSBmbGFnLCBieSBmaWx0ZXIgYnkgZG9tYWluLlxuICAgICAqXG4gICAgICogKE9ubHkgY29udGFpbnMgZmlsdGVycyB0aGF0IGFyZW4ndCB1bmNvbmRpdGlvbmFsbHkgbWF0Y2hlZCBmb3IgYWxsXG4gICAgICogZG9tYWlucy4pXG4gICAgICpcbiAgICAgKiBAdHlwZSB7RmlsdGVyc0J5RG9tYWlufVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9maWx0ZXJzQnlEb21haW4gPSBuZXcgRmlsdGVyc0J5RG9tYWluKCk7XG5cbiAgICAvKipcbiAgICAgKiBMb29rdXAgdGFibGUsIGZpbHRlciBieSBzZWxlY3Rvci5cbiAgICAgKlxuICAgICAqIChPbmx5IHVzZWQgZm9yIHNlbGVjdG9ycyB0aGF0IGFyZSB1bmNvbmRpdGlvbmFsbHkgbWF0Y2hlZCBmb3IgYWxsXG4gICAgICogZG9tYWlucy4pXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TWFwLjxzdHJpbmcsIEZpbHRlcj59XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZpbHRlckJ5U2VsZWN0b3IgPSBuZXcgTWFwKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGFycmF5IGNhY2hlcyB0aGUga2V5cyBvZlxuICAgICAqIGB7QGxpbmsgbW9kdWxlOmVsZW1IaWRlfkVsZW1IaWRlI19maWx0ZXJCeVNlbGVjdG9yIF9maWx0ZXJCeVNlbGVjdG9yfWBcbiAgICAgKiAoc2VsZWN0b3JzIHdoaWNoIHVuY29uZGl0aW9uYWxseSBhcHBseSBvbiBhbGwgZG9tYWlucykuXG4gICAgICpcbiAgICAgKiBJdCB3aWxsIGJlIGBudWxsYCBpZiB0aGUgY2FjaGUgbmVlZHMgdG8gYmUgcmVidWlsdC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHs/QXJyYXkuPHN0cmluZz59XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3VuY29uZGl0aW9uYWxTZWxlY3RvcnMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgc3R5bGUgc2hlZXQgdGhhdCBhcHBsaWVzIG9uIGFsbCBkb21haW5zLlxuICAgICAqXG4gICAgICogVGhpcyBpcyBiYXNlZCBvbiB0aGUgdmFsdWUgb2ZcbiAgICAgKiBge0BsaW5rIG1vZHVsZTplbGVtSGlkZX5FbGVtSGlkZSNfdW5jb25kaXRpb25hbFNlbGVjdG9yc1xuICAgICAqICAgICAgICAgX3VuY29uZGl0aW9uYWxTZWxlY3RvcnN9YC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9kZWZhdWx0U3R5bGVTaGVldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29tbW9uIHN0eWxlIHNoZWV0IHRoYXQgYXBwbGllcyBvbiBhbGwgdW5rbm93biBkb21haW5zLlxuICAgICAqXG4gICAgICogVGhpcyBpcyBhIGNvbmNhdGVuYXRpb24gb2YgdGhlIGRlZmF1bHQgc3R5bGUgc2hlZXQgYW5kIGFuIGFkZGl0aW9uYWxcbiAgICAgKiBzdHlsZSBzaGVldCBiYXNlZCBvbiBzZWxlY3RvcnMgZnJvbSBhbGwgZ2VuZXJpYyBmaWx0ZXJzIHRoYXQgYXJlIG5vdCBpblxuICAgICAqIHRoZSBge0BsaW5rIG1vZHVsZTplbGVtSGlkZX5FbGVtSGlkZSNfdW5jb25kaXRpb25hbFNlbGVjdG9yc1xuICAgICAqICAgICAgICAgICAgIF91bmNvbmRpdGlvbmFsU2VsZWN0b3JzfWAgbGlzdC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9jb21tb25TdHlsZVNoZWV0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIENhY2hlIG9mIGdlbmVyYXRlZCBkb21haW4tc3BlY2lmaWMgc3R5bGUgc2hlZXRzLlxuICAgICAqXG4gICAgICogVGhpcyBjb250YWlucyBlbnRyaWVzIGZvciBvbmx5IGtub3duIGRvbWFpbnMuIElmIGEgZG9tYWluIGlzIHVua25vd24sIGl0XG4gICAgICogZ2V0cyBge0BsaW5rIG1vZHVsZTplbGVtSGlkZX5FbGVtSGlkZSNfY29tbW9uU3R5bGVTaGVldFxuICAgICAqICAgICAgICAgICAgICBfY29tbW9uU3R5bGVTaGVldH1gLlxuICAgICAqXG4gICAgICogQHR5cGUge0NhY2hlLjxzdHJpbmcsIHN0cmluZz59XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3N0eWxlU2hlZXRDYWNoZSA9IG5ldyBDYWNoZSgxMDApO1xuXG4gICAgLyoqXG4gICAgICogU2V0IGNvbnRhaW5pbmcga25vd24gZWxlbWVudCBoaWRpbmcgZmlsdGVyc1xuICAgICAqIEB0eXBlIHtTZXQuPG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkVsZW1IaWRlRmlsdGVyPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZpbHRlcnMgPSBuZXcgU2V0KCk7XG5cbiAgICAvKipcbiAgICAgKiBBbGwgZG9tYWlucyBrbm93biB0byBvY2N1ciBpbiBleGNlcHRpb25zXG4gICAgICogQHR5cGUge1NldC48c3RyaW5nPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2V4Y2VwdGlvbkRvbWFpbnMgPSBuZXcgU2V0KCk7XG5cbiAgICAvKipcbiAgICAgKiBBbGwgZG9tYWluIHdpdGggd2lsZGNhcmRzIGtub3duIHRvIG9jY3VyIGluIGV4Y2VwdGlvbnNcbiAgICAgKiBAdHlwZSB7U2V0PGFueT59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9leGNlcHRpb25Eb21haW5zV2l0aFdpbGRjYXJkcyA9IG5ldyBTZXQoKTtcblxuICAgIHRoaXMuZWxlbUhpZGVFeGNlcHRpb25zLm9uKFwiYWRkZWRcIiwgdGhpcy5fb25FeGNlcHRpb25BZGRlZC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBrbm93biBlbGVtZW50IGhpZGluZyBmaWx0ZXJzLlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fY29tbW9uU3R5bGVTaGVldCA9IG51bGw7XG5cbiAgICBmb3IgKGxldCBjb2xsZWN0aW9uIG9mIFt0aGlzLl9zdHlsZVNoZWV0Q2FjaGUsIHRoaXMuX2ZpbHRlcnNCeURvbWFpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maWx0ZXJCeVNlbGVjdG9yLCB0aGlzLl9maWx0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2V4Y2VwdGlvbkRvbWFpbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXhjZXB0aW9uRG9tYWluc1dpdGhXaWxkY2FyZHNdKSB7XG4gICAgICBjb2xsZWN0aW9uLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fdW5jb25kaXRpb25hbFNlbGVjdG9ycyA9IG51bGw7XG4gICAgdGhpcy5fZGVmYXVsdFN0eWxlU2hlZXQgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIG5ldyBlbGVtZW50IGhpZGluZyBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuRWxlbUhpZGVGaWx0ZXJ9IGZpbHRlclxuICAgKi9cbiAgYWRkKGZpbHRlcikge1xuICAgIGlmICh0aGlzLl9maWx0ZXJzLmhhcyhmaWx0ZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc3R5bGVTaGVldENhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy5fY29tbW9uU3R5bGVTaGVldCA9IG51bGw7XG5cbiAgICBsZXQge2RvbWFpbnMsIHNlbGVjdG9yfSA9IGZpbHRlcjtcblxuICAgIGlmICghKGRvbWFpbnMgfHwgdGhpcy5lbGVtSGlkZUV4Y2VwdGlvbnMuaGFzRXhjZXB0aW9ucyhzZWxlY3RvcikpKSB7XG4gICAgICAvLyBUaGUgbmV3IGZpbHRlcidzIHNlbGVjdG9yIGlzIHVuY29uZGl0aW9uYWxseSBhcHBsaWVkIHRvIGFsbCBkb21haW5zXG4gICAgICB0aGlzLl9maWx0ZXJCeVNlbGVjdG9yLnNldChzZWxlY3RvciwgZmlsdGVyKTtcbiAgICAgIHRoaXMuX3VuY29uZGl0aW9uYWxTZWxlY3RvcnMgPSBudWxsO1xuICAgICAgdGhpcy5fZGVmYXVsdFN0eWxlU2hlZXQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIFRoZSBuZXcgZmlsdGVyJ3Mgc2VsZWN0b3Igb25seSBhcHBsaWVzIHRvIHNvbWUgZG9tYWluc1xuICAgICAgdGhpcy5fZmlsdGVyc0J5RG9tYWluLmFkZChmaWx0ZXIsIGRvbWFpbnMpO1xuICAgIH1cblxuICAgIHRoaXMuX2ZpbHRlcnMuYWRkKGZpbHRlcik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBleGlzdGluZyBlbGVtZW50IGhpZGluZyBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuRWxlbUhpZGVGaWx0ZXJ9IGZpbHRlclxuICAgKi9cbiAgcmVtb3ZlKGZpbHRlcikge1xuICAgIGlmICghdGhpcy5fZmlsdGVycy5oYXMoZmlsdGVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3N0eWxlU2hlZXRDYWNoZS5jbGVhcigpO1xuICAgIHRoaXMuX2NvbW1vblN0eWxlU2hlZXQgPSBudWxsO1xuXG4gICAgbGV0IHtzZWxlY3Rvcn0gPSBmaWx0ZXI7XG5cbiAgICAvLyBVbmNvbmRpdGlhbGx5IGFwcGxpZWQgZWxlbWVudCBoaWRpbmcgZmlsdGVyc1xuICAgIGlmICh0aGlzLl9maWx0ZXJCeVNlbGVjdG9yLmdldChzZWxlY3RvcikgPT0gZmlsdGVyKSB7XG4gICAgICB0aGlzLl9maWx0ZXJCeVNlbGVjdG9yLmRlbGV0ZShzZWxlY3Rvcik7XG4gICAgICB0aGlzLl91bmNvbmRpdGlvbmFsU2VsZWN0b3JzID0gbnVsbDtcbiAgICAgIHRoaXMuX2RlZmF1bHRTdHlsZVNoZWV0ID0gbnVsbDtcbiAgICB9XG4gICAgLy8gQ29uZGl0aW9uYWxseSBhcHBsaWVkIGVsZW1lbnQgaGlkaW5nIGZpbHRlcnNcbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2ZpbHRlcnNCeURvbWFpbi5yZW1vdmUoZmlsdGVyKTtcbiAgICB9XG5cbiAgICB0aGlzLl9maWx0ZXJzLmRlbGV0ZShmaWx0ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIGFuIGVsZW1lbnQgaGlkaW5nIGZpbHRlciBleGlzdHMuXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuRWxlbUhpZGVGaWx0ZXJ9IGZpbHRlclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGhhcyhmaWx0ZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fZmlsdGVycy5oYXMoZmlsdGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBFbGVtSGlkZVN0eWxlU2hlZXRcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IGNvZGUgQ1NTIGNvZGUuXG4gICAqIEBwcm9wZXJ0eSB7P0FycmF5LjxzdHJpbmc+fSBzZWxlY3RvcnMgTGlzdCBvZiBzZWxlY3RvcnMuXG4gICAqIEBwcm9wZXJ0eSB7P0FycmF5LjxzdHJpbmc+fSBleGNlcHRpb25zIExpc3Qgb2YgZXhjZXB0aW9ucy5cbiAgICovXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdHlsZSBzaGVldCBmb3IgYSBnaXZlbiBkb21haW4gYmFzZWQgb24gdGhlIGN1cnJlbnQgc2V0IG9mXG4gICAqIGZpbHRlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBbc3BlY2lmaWNPbmx5PWZhbHNlXSBXaGV0aGVyIHNlbGVjdG9ycyBmcm9tIGdlbmVyaWNcbiAgICogICBmaWx0ZXJzIHNob3VsZCBiZSBpbmNsdWRlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5jbHVkZUV4Y2VwdGlvbnM9ZmFsc2VdIFdoZXRoZXIgdGhlIHJldHVybiB2YWx1ZSBzaG91bGRcbiAgICogICBpbmNsdWRlIGEgc2VwYXJhdGUgbGlzdCBvZiBleGNlcHRpb25zLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bW9kdWxlOmVsZW1IaWRlfkVsZW1IaWRlU3R5bGVTaGVldH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIENTU1xuICAgKiAgIGNvZGUgYW5kIHRoZSBsaXN0IG9mIHNlbGVjdG9ycy5cbiAgICovXG4gIGdldFN0eWxlU2hlZXQoZG9tYWluLCBzcGVjaWZpY09ubHkgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICBpbmNsdWRlRXhjZXB0aW9ucyA9IGZhbHNlKSB7XG4gICAgbGV0IGNvZGUgPSBudWxsO1xuICAgIGxldCBzZWxlY3RvcnMgPSBudWxsO1xuICAgIGxldCBleGNlcHRpb25zID0gbnVsbDtcblxuICAgIGlmIChzcGVjaWZpY09ubHkpIHtcbiAgICAgIGlmIChpbmNsdWRlRXhjZXB0aW9ucykge1xuICAgICAgICBsZXQgc2VsZWN0b3JzQW5kRXhjZXB0aW9ucyA9XG4gICAgICAgICAgdGhpcy5fZ2V0Q29uZGl0aW9uYWxTZWxlY3RvcnNXaXRoRXhjZXB0aW9ucyhkb21haW4sIHRydWUpO1xuXG4gICAgICAgIHNlbGVjdG9ycyA9IHNlbGVjdG9yc0FuZEV4Y2VwdGlvbnMuc2VsZWN0b3JzO1xuICAgICAgICBleGNlcHRpb25zID0gc2VsZWN0b3JzQW5kRXhjZXB0aW9ucy5leGNlcHRpb25zO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlbGVjdG9ycyA9IHRoaXMuX2dldENvbmRpdGlvbmFsU2VsZWN0b3JzKGRvbWFpbiwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGNvZGUgPSBjcmVhdGVTdHlsZVNoZWV0KHNlbGVjdG9ycyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbGV0IGtub3duU3VmZml4ID0gdGhpcy5fZ2V0S25vd25TdWZmaXgoZG9tYWluKTtcblxuICAgICAgbGV0IHNlbGVjdG9yc0FuZEV4Y2VwdGlvbnMgPVxuICAgICAgICB0aGlzLl9nZXRDb25kaXRpb25hbFNlbGVjdG9yc1dpdGhFeGNlcHRpb25zKGtub3duU3VmZml4LCBmYWxzZSk7XG5cbiAgICAgIHNlbGVjdG9ycyA9IHNlbGVjdG9yc0FuZEV4Y2VwdGlvbnMuc2VsZWN0b3JzO1xuICAgICAgZXhjZXB0aW9ucyA9IHNlbGVjdG9yc0FuZEV4Y2VwdGlvbnMuZXhjZXB0aW9ucztcbiAgICAgIGNvZGUgPSBrbm93blN1ZmZpeCA9PSBcIlwiID8gdGhpcy5fZ2V0Q29tbW9uU3R5bGVTaGVldCgpIDpcbiAgICAgICAgdGhpcy5fZ2V0RGVmYXVsdFN0eWxlU2hlZXQoKSArIGNyZWF0ZVN0eWxlU2hlZXQoc2VsZWN0b3JzKTtcblxuICAgICAgc2VsZWN0b3JzID0gdGhpcy5fZ2V0VW5jb25kaXRpb25hbFNlbGVjdG9ycygpLmNvbmNhdChzZWxlY3RvcnMpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBjb2RlLFxuICAgICAgc2VsZWN0b3JzLFxuICAgICAgZXhjZXB0aW9uczogaW5jbHVkZUV4Y2VwdGlvbnMgPyBleGNlcHRpb25zIDogbnVsbFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgc3VmZml4IG9mIHRoZSBnaXZlbiBkb21haW4gdGhhdCBpcyBrbm93bi5cbiAgICpcbiAgICogSWYgbm8gc3VmZml4IGlzIGtub3duLCBhbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gZG9tYWluXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0S25vd25TdWZmaXgoZG9tYWluKSB7XG4gICAgZm9yIChsZXQgc3VmZml4IG9mIGRvbWFpblN1ZmZpeGVzKGRvbWFpbikpIHtcbiAgICAgIGlmICh0aGlzLl9maWx0ZXJzQnlEb21haW4uaGFzKHN1ZmZpeCkgfHxcbiAgICAgICAgICB0aGlzLl9leGNlcHRpb25Eb21haW5zLmhhcyhzdWZmaXgpKSB7XG4gICAgICAgIHJldHVybiBzdWZmaXg7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGRvbWFpbldpdGhXaWxkY2FyZHMgb2YgdGhpcy5fZXhjZXB0aW9uRG9tYWluc1dpdGhXaWxkY2FyZHMpIHtcbiAgICAgICAgaWYgKG1hdGNoZXNXaWxkY2FyZHMoc3VmZml4LCBkb21haW5XaXRoV2lsZGNhcmRzKSkge1xuICAgICAgICAgIHJldHVybiBzdWZmaXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBzZWxlY3RvcnMgdGhhdCBhcHBseSBvbiBlYWNoIHdlYnNpdGUgdW5jb25kaXRpb25hbGx5LlxuICAgKiBAcmV0dXJucyB7c3RyaW5nW119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0VW5jb25kaXRpb25hbFNlbGVjdG9ycygpIHtcbiAgICBpZiAoIXRoaXMuX3VuY29uZGl0aW9uYWxTZWxlY3RvcnMpIHtcbiAgICAgIHRoaXMuX3VuY29uZGl0aW9uYWxTZWxlY3RvcnMgPSBbLi4udGhpcy5fZmlsdGVyQnlTZWxlY3Rvci5rZXlzKCldO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl91bmNvbmRpdGlvbmFsU2VsZWN0b3JzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxpc3Qgb2Ygc2VsZWN0b3JzIHRoYXQgYXBwbHkgb24gYSBnaXZlbiBkb21haW4gZnJvbSB0aGUgc3Vic2V0XG4gICAqIG9mIGZpbHRlcnMgdGhhdCBkbyBub3QgYXBwbHkgdW5jb25kaXRpb25hbGx5IG9uIGFsbCBkb21haW5zLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3BlY2lmaWNPbmx5IFdoZXRoZXIgc2VsZWN0b3JzIGZyb20gZ2VuZXJpYyBmaWx0ZXJzIHNob3VsZFxuICAgKiAgIGJlIGluY2x1ZGVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZz59IFRoZSBsaXN0IG9mIHNlbGVjdG9ycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRDb25kaXRpb25hbFNlbGVjdG9ycyhkb21haW4sIHNwZWNpZmljT25seSkge1xuICAgIGxldCBzZWxlY3RvcnMgPSBbXTtcblxuICAgIGxldCBleGNsdWRlZCA9IG5ldyBTZXQoKTtcblxuICAgIGZvciAobGV0IGN1cnJlbnREb21haW4gb2YgZG9tYWluU3VmZml4ZXMoZG9tYWluLCAhc3BlY2lmaWNPbmx5KSkge1xuICAgICAgbGV0IG1hcCA9IHRoaXMuX2ZpbHRlcnNCeURvbWFpbi5nZXQoY3VycmVudERvbWFpbik7XG4gICAgICBpZiAobWFwKSB7XG4gICAgICAgIGZvciAobGV0IFtmaWx0ZXIsIGluY2x1ZGVdIG9mIChtYXAgaW5zdGFuY2VvZiBGaWx0ZXJNYXAgP1xuICAgICAgICAgIG1hcC5lbnRyaWVzKCkgOiBbW21hcCwgdHJ1ZV1dKSkge1xuICAgICAgICAgIGlmICghaW5jbHVkZSkge1xuICAgICAgICAgICAgZXhjbHVkZWQuYWRkKGZpbHRlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHtzZWxlY3Rvcn0gPSBmaWx0ZXI7XG4gICAgICAgICAgICBpZiAoKGV4Y2x1ZGVkLnNpemUgPT0gMCB8fCAhZXhjbHVkZWQuaGFzKGZpbHRlcikpICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuZWxlbUhpZGVFeGNlcHRpb25zLmdldEV4Y2VwdGlvbihzZWxlY3RvciwgZG9tYWluKSkge1xuICAgICAgICAgICAgICBzZWxlY3RvcnMucHVzaChzZWxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGVjdG9ycztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHNlbGVjdG9ycyBhbmQgdGhlIGxpc3Qgb2YgZXhjZXB0aW9ucyB0aGF0IGFwcGx5IG9uIGFcbiAgICogZ2l2ZW4gZG9tYWluIGZyb20gdGhlIHN1YnNldCBvZiBmaWx0ZXJzIHRoYXQgZG8gbm90IGFwcGx5IHVuY29uZGl0aW9uYWxseVxuICAgKiBvbiBhbGwgZG9tYWlucy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNwZWNpZmljT25seSBXaGV0aGVyIHNlbGVjdG9ycyBmcm9tIGdlbmVyaWMgZmlsdGVycyBzaG91bGRcbiAgICogICBiZSBpbmNsdWRlZC5cbiAgICpcbiAgICogQHJldHVybnMge3tzZWxlY3RvcnM6IEFycmF5LjxzdHJpbmc+LFxuICAgKiAgICAgICAgICAgIGV4Y2VwdGlvbnM6IEFycmF5Ljxtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5FbGVtSGlkZUV4Y2VwdGlvbj59fVxuICAgKiAgIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBsaXN0cyBvZiBzZWxlY3RvcnMgYW5kIGV4Y2VwdGlvbnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0Q29uZGl0aW9uYWxTZWxlY3RvcnNXaXRoRXhjZXB0aW9ucyhkb21haW4sIHNwZWNpZmljT25seSkge1xuICAgIGxldCBzZWxlY3RvcnMgPSBbXTtcbiAgICBsZXQgZXhjZXB0aW9ucyA9IFtdO1xuXG4gICAgbGV0IGV4Y2x1ZGVkID0gbmV3IFNldCgpO1xuXG4gICAgZm9yIChsZXQgY3VycmVudERvbWFpbiBvZiBkb21haW5TdWZmaXhlcyhkb21haW4sICFzcGVjaWZpY09ubHkpKSB7XG4gICAgICBsZXQgbWFwID0gdGhpcy5fZmlsdGVyc0J5RG9tYWluLmdldChjdXJyZW50RG9tYWluKTtcbiAgICAgIGlmIChtYXApIHtcbiAgICAgICAgZm9yIChsZXQgW2ZpbHRlciwgaW5jbHVkZV0gb2YgKG1hcCBpbnN0YW5jZW9mIEZpbHRlck1hcCA/XG4gICAgICAgICAgbWFwLmVudHJpZXMoKSA6IFtbbWFwLCB0cnVlXV0pKSB7XG4gICAgICAgICAgaWYgKCFpbmNsdWRlKSB7XG4gICAgICAgICAgICBleGNsdWRlZC5hZGQoZmlsdGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoZXhjbHVkZWQuc2l6ZSA9PSAwIHx8ICFleGNsdWRlZC5oYXMoZmlsdGVyKSkge1xuICAgICAgICAgICAgbGV0IHtzZWxlY3Rvcn0gPSBmaWx0ZXI7XG4gICAgICAgICAgICBsZXQgZXhjZXB0aW9uID1cbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1IaWRlRXhjZXB0aW9ucy5nZXRFeGNlcHRpb24oc2VsZWN0b3IsIGRvbWFpbik7XG5cbiAgICAgICAgICAgIGlmIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgZXhjZXB0aW9ucy5wdXNoKGV4Y2VwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZWN0b3JzLnB1c2goc2VsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7c2VsZWN0b3JzLCBleGNlcHRpb25zfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkZWZhdWx0IHN0eWxlIHNoZWV0IHRoYXQgYXBwbGllcyBvbiBhbGwgZG9tYWlucy5cbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXREZWZhdWx0U3R5bGVTaGVldCgpIHtcbiAgICBpZiAoIXRoaXMuX2RlZmF1bHRTdHlsZVNoZWV0KSB7XG4gICAgICB0aGlzLl9kZWZhdWx0U3R5bGVTaGVldCA9XG4gICAgICAgIGNyZWF0ZVN0eWxlU2hlZXQodGhpcy5fZ2V0VW5jb25kaXRpb25hbFNlbGVjdG9ycygpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFN0eWxlU2hlZXQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29tbW9uIHN0eWxlIHNoZWV0IHRoYXQgYXBwbGllcyBvbiBhbGwgdW5rbm93biBkb21haW5zLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldENvbW1vblN0eWxlU2hlZXQoKSB7XG4gICAgaWYgKCF0aGlzLl9jb21tb25TdHlsZVNoZWV0KSB7XG4gICAgICB0aGlzLl9jb21tb25TdHlsZVNoZWV0ID1cbiAgICAgICAgdGhpcy5fZ2V0RGVmYXVsdFN0eWxlU2hlZXQoKSArXG4gICAgICAgIGNyZWF0ZVN0eWxlU2hlZXQodGhpcy5fZ2V0Q29uZGl0aW9uYWxTZWxlY3RvcnMoXCJcIiwgZmFsc2UpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY29tbW9uU3R5bGVTaGVldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkb21haW4tc3BlY2lmaWMgc3R5bGUgc2hlZXQgdGhhdCBhcHBsaWVzIG9uIGEgZ2l2ZW4gZG9tYWluLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZG9tYWluXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0RG9tYWluU3BlY2lmaWNTdHlsZVNoZWV0KGRvbWFpbikge1xuICAgIGxldCBzdHlsZVNoZWV0ID0gdGhpcy5fc3R5bGVTaGVldENhY2hlLmdldChkb21haW4pO1xuXG4gICAgaWYgKHR5cGVvZiBzdHlsZVNoZWV0ID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHN0eWxlU2hlZXQgPVxuICAgICAgICBjcmVhdGVTdHlsZVNoZWV0KHRoaXMuX2dldENvbmRpdGlvbmFsU2VsZWN0b3JzKGRvbWFpbiwgZmFsc2UpKTtcbiAgICAgIHRoaXMuX3N0eWxlU2hlZXRDYWNoZS5zZXQoZG9tYWluLCBzdHlsZVNoZWV0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGVTaGVldDtcbiAgfVxuXG4gIF9vbkV4Y2VwdGlvbkFkZGVkKGV4Y2VwdGlvbikge1xuICAgIGxldCB7ZG9tYWlucywgc2VsZWN0b3J9ID0gZXhjZXB0aW9uO1xuXG4gICAgdGhpcy5fc3R5bGVTaGVldENhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy5fY29tbW9uU3R5bGVTaGVldCA9IG51bGw7XG5cbiAgICBpZiAoZG9tYWlucykge1xuICAgICAgZm9yIChsZXQgZG9tYWluIG9mIGRvbWFpbnMua2V5cygpKSB7XG4gICAgICAgIC8vIE5vdGU6IE9uY2UgYW4gZXhjZXB0aW9uIGRvbWFpbiBpcyBrbm93biBpdCBuZXZlciBiZWNvbWVzIHVua25vd24sXG4gICAgICAgIC8vIGV2ZW4gd2hlbiBhbGwgdGhlIGV4Y2VwdGlvbnMgY29udGFpbmluZyB0aGF0IGRvbWFpbiBhcmUgcmVtb3ZlZC5cbiAgICAgICAgLy8gVGhpcyBpcyBhIGJlc3QtY2FzZSBvcHRpbWl6YXRpb24uXG4gICAgICAgIGlmIChkb21haW4gIT0gXCJcIikge1xuICAgICAgICAgIGlmIChoYXNXaWxkY2FyZChkb21haW4pKSB7XG4gICAgICAgICAgICB0aGlzLl9leGNlcHRpb25Eb21haW5zV2l0aFdpbGRjYXJkcy5hZGQoZG9tYWluKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9leGNlcHRpb25Eb21haW5zLmFkZChkb21haW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IGV4Y2VwdGlvbiBmb3IgYSBwcmV2aW91c2x5IHVuY29uZGl0aW9uYWxseSBhcHBsaWVkXG4gICAgLy8gZWxlbWVudCBoaWRpbmcgc2VsZWN0b3Igd2UgbmVlZCB0byB0YWtlIGNhcmUgdG8gdXBkYXRlIHRoZSBsb29rdXBzLlxuICAgIGxldCB1bmNvbmRpdGlvbmFsRmlsdGVyRm9yU2VsZWN0b3IgPSB0aGlzLl9maWx0ZXJCeVNlbGVjdG9yLmdldChzZWxlY3Rvcik7XG4gICAgaWYgKHVuY29uZGl0aW9uYWxGaWx0ZXJGb3JTZWxlY3Rvcikge1xuICAgICAgdGhpcy5fZmlsdGVyc0J5RG9tYWluLmFkZCh1bmNvbmRpdGlvbmFsRmlsdGVyRm9yU2VsZWN0b3IpO1xuICAgICAgdGhpcy5fZmlsdGVyQnlTZWxlY3Rvci5kZWxldGUoc2VsZWN0b3IpO1xuICAgICAgdGhpcy5fdW5jb25kaXRpb25hbFNlbGVjdG9ycyA9IG51bGw7XG4gICAgICB0aGlzLl9kZWZhdWx0U3R5bGVTaGVldCA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ29udGFpbmVyIGZvciBlbGVtZW50IGhpZGluZyBmaWx0ZXJzLlxuICovXG5leHBvcnRzLkVsZW1IaWRlID0gRWxlbUhpZGU7XG5cbi8qKlxuICogWWllbGRzIHJ1bGVzIGZyb20gYSBzdHlsZSBzaGVldCByZXR1cm5lZCBieVxuICogYHtAbGluayBtb2R1bGU6ZWxlbUhpZGUuY3JlYXRlU3R5bGVTaGVldCBjcmVhdGVTdHlsZVNoZWV0KCl9YC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVTaGVldCBBIHN0eWxlIHNoZWV0IHJldHVybmVkIGJ5XG4gKiAgIGB7QGxpbmsgbW9kdWxlOmVsZW1IaWRlLmNyZWF0ZVN0eWxlU2hlZXQgY3JlYXRlU3R5bGVTaGVldCgpfWAuIElmIHRoZVxuICogICBnaXZlbiBzdHlsZSBzaGVldCBpcyAqbm90KiBhIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgYnkgYSBjYWxsIHRvXG4gKiAgIGB7QGxpbmsgbW9kdWxlOmVsZW1IaWRlLmNyZWF0ZVN0eWxlU2hlZXQgY3JlYXRlU3R5bGVTaGVldCgpfWAsIHRoZVxuICogICBiZWhhdmlvciBpcyB1bmRlZmluZWQuXG4gKlxuICogQGdlbmVyYXRvclxuICogQHlpZWxkcyB7c3RyaW5nfSBBIHJ1bGUgZnJvbSB0aGUgZ2l2ZW4gc3R5bGUgc2hlZXQuXG4gKi9cbmV4cG9ydHMucnVsZXNGcm9tU3R5bGVTaGVldCA9IGZ1bmN0aW9uKiBydWxlc0Zyb21TdHlsZVNoZWV0KHN0eWxlU2hlZXQpIHtcbiAgbGV0IHN0YXJ0SW5kZXggPSAwO1xuICB3aGlsZSAoc3RhcnRJbmRleCA8IHN0eWxlU2hlZXQubGVuZ3RoKSB7XG4gICAgbGV0IHJ1bGVUZXJtaW5hdG9ySW5kZXggPSBzdHlsZVNoZWV0LmluZGV4T2YoXCJcXG5cIiwgc3RhcnRJbmRleCk7XG4gICAgeWllbGQgc3R5bGVTaGVldC5zdWJzdHJpbmcoc3RhcnRJbmRleCwgcnVsZVRlcm1pbmF0b3JJbmRleCk7XG4gICAgc3RhcnRJbmRleCA9IHJ1bGVUZXJtaW5hdG9ySW5kZXggKyAxO1xuICB9XG59O1xuXG4vKipcbiAqIEVzY2FwZXMgY3VybHkgYnJhY2VzIHRvIHByZXZlbnQgQ1NTIHJ1bGUgaW5qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZVNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gIHJldHVybiBzZWxlY3Rvci5yZXBsYWNlKC9be31dL2csIGMgPT4gYFxcXFwke2MuY2hhckNvZGVBdCgpLnRvU3RyaW5nKDE2KX0gYCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBlbGVtZW50IGhpZGluZyBDU1MgcnVsZSBmb3IgYSBnaXZlbiBsaXN0IG9mIHNlbGVjdG9ycy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgVGhlIENTUyBzZWxlY3RvciBmb3IgdGhlIHJ1bGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2RlY2xhcmF0aW9uQmxvY2tdIE9wdGlvbmFsIENTUyBjb2RlIHRvIHVzZSBhcyB0aGVcbiAqICAgZGVjbGFyYXRpb24gYmxvY2suIEJ5IGRlZmF1bHQsIHRoZSBjb2RlIGB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O31gIGlzXG4gKiAgIHVzZWQuIElmIHNwZWNpZmllZCwgdGhlIHZhbHVlIGlzIGluamVjdGVkIGFzLWlzIGludG8gdGhlIHJ1bGUuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgcnVsZS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUnVsZShcbiAgc2VsZWN0b3IsXG4gIGRlY2xhcmF0aW9uQmxvY2sgPSBcIntkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fVwiXG4pIHtcbiAgcmV0dXJuIGAke2VzY2FwZVNlbGVjdG9yKHNlbGVjdG9yKX0gJHtkZWNsYXJhdGlvbkJsb2NrfVxcbmA7XG59XG5cbmxldCBjcmVhdGVTdHlsZVNoZWV0ID1cbi8qKlxuICogQ3JlYXRlcyBhbiBlbGVtZW50IGhpZGluZyBDU1Mgc3R5bGUgc2hlZXQgZnJvbSBhIGdpdmVuIGxpc3Qgb2Ygc2VsZWN0b3JzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IHNlbGVjdG9ycyBUaGUgbGlzdCBvZiBzZWxlY3RvcnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2RlY2xhcmF0aW9uQmxvY2tdIE9wdGlvbmFsIENTUyBjb2RlIHRvIHVzZSBhcyB0aGVcbiAqICAgZGVjbGFyYXRpb24gYmxvY2suIEJ5IGRlZmF1bHQsIHRoZSBjb2RlIGB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O31gIGlzXG4gKiAgIHVzZWQuIElmIHNwZWNpZmllZCwgdGhlIHZhbHVlIGlzIGluamVjdGVkIGFzLWlzIGludG8gdGhlIHN0eWxlIHNoZWV0LlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIHN0eWxlIHNoZWV0LlxuICovXG5leHBvcnRzLmNyZWF0ZVN0eWxlU2hlZXQgPSBmdW5jdGlvbiBjcmVhdGVTdHlsZVNoZWV0KHNlbGVjdG9ycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25CbG9jaykge1xuICBsZXQgc3R5bGVTaGVldCA9IFwiXCI7XG5cbiAgZm9yIChsZXQgc2VsZWN0b3Igb2Ygc2VsZWN0b3JzKSB7XG4gICAgc3R5bGVTaGVldCArPSBjcmVhdGVSdWxlKHNlbGVjdG9yLCBkZWNsYXJhdGlvbkJsb2NrKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZVNoZWV0O1xufTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi8qKiBAbW9kdWxlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7RWxlbUhpZGVFeGNlcHRpb25zfSA9IHJlcXVpcmUoXCIuL2VsZW1IaWRlRXhjZXB0aW9uc1wiKTtcblxuLyoqXG4gKiBAZmlsZSBFbGVtZW50IGhpZGluZyBlbXVsYXRpb24gaW1wbGVtZW50YXRpb24uXG4gKi9cblxuY2xhc3MgRWxlbUhpZGVFbXVsYXRpb24gZXh0ZW5kcyBTZXQge1xuICAvKipcbiAgICogQ29uc3RydWN0IGFuIEVsZW1IaWRlRW11bGF0aW9uIG9iamVjdFxuICAgKiBAcGFyYW0ge0VsZW1IaWRlRXhjZXB0aW9uc30gZWxlbUhpZGVFeGNlcHRpb25zIFRoZSBhc3NvY2lhdGVkIGVsZW1lbnRcbiAgICogIGhpZGluZyBleGNlcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbUhpZGVFeGNlcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAoIShlbGVtSGlkZUV4Y2VwdGlvbnMgaW5zdGFuY2VvZiBFbGVtSGlkZUV4Y2VwdGlvbnMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJlbGVtSGlkZUV4Y2VwdGlvbnMgbXVzdCBiZSBhbiBFbGVtSGlkZUV4Y2VwdGlvbnNcIik7XG4gICAgfVxuXG4gICAgLyoqIEB0eXBlIHtFbGVtSGlkZUV4Y2VwdGlvbnN9ICovXG4gICAgdGhpcy5lbGVtSGlkZUV4Y2VwdGlvbnMgPSBlbGVtSGlkZUV4Y2VwdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBleGlzdGluZyBlbGVtZW50IGhpZGluZyBlbXVsYXRpb24gZmlsdGVyLlxuICAgKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJDbGFzc2VzLkVsZW1IaWRlRW11bGF0aW9uRmlsdGVyfSBmaWx0ZXJcbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgVXNlXG4gICAqICAgPGNvZGU+RWxlbUhpZGVFbXVsYXRpb24jZGVsZXRlPC9jb2RlPlxuICAgKiAgIGluc3RlYWQuXG4gICAqL1xuICByZW1vdmUoZmlsdGVyKSB7XG4gICAgdGhpcy5kZWxldGUoZmlsdGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhbGwgZWxlbWVudCBoaWRpbmcgZW11bGF0aW9uIGZpbHRlcnMgYWN0aXZlIG9uIHRoZSBnaXZlblxuICAgKiBkb21haW4uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbi5cbiAgICogQHJldHVybnMge0FycmF5Ljxtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5FbGVtSGlkZUVtdWxhdGlvbkZpbHRlcj59IEEgbGlzdCBvZlxuICAgKiAgIGVsZW1lbnQgaGlkaW5nIGVtdWxhdGlvbiBmaWx0ZXJzLlxuICAgKi9cbiAgZ2V0RmlsdGVycyhkb21haW4pIHtcbiAgICBsZXQgcmVzdWx0ID0gW107XG5cbiAgICBmb3IgKGxldCBmaWx0ZXIgb2YgdGhpcykge1xuICAgICAgaWYgKGZpbHRlci5pc0FjdGl2ZU9uRG9tYWluKGRvbWFpbikgJiZcbiAgICAgICAgICAhdGhpcy5lbGVtSGlkZUV4Y2VwdGlvbnMuZ2V0RXhjZXB0aW9uKGZpbHRlci5zZWxlY3RvciwgZG9tYWluKSkge1xuICAgICAgICByZXN1bHQucHVzaChmaWx0ZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgYWxsIGVsZW1lbnQgaGlkaW5nIGVtdWxhdGlvbiBmaWx0ZXJzIGFjdGl2ZSBvbiB0aGUgZ2l2ZW5cbiAgICogZG9tYWluLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4uXG4gICAqIEByZXR1cm5zIHtBcnJheS48bW9kdWxlOmZpbHRlckNsYXNzZXMuRWxlbUhpZGVFbXVsYXRpb25GaWx0ZXI+fSBBIGxpc3Qgb2ZcbiAgICogICBlbGVtZW50IGhpZGluZyBlbXVsYXRpb24gZmlsdGVycy5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgVXNlXG4gICAqICAgPGNvZGU+e0BsaW5rXG4gICAqICAgICAgICAgIG1vZHVsZTplbGVtSGlkZUVtdWxhdGlvbn5FbGVtSGlkZUVtdWxhdGlvbiNnZXRGaWx0ZXJzfTwvY29kZT5cbiAgICogICBpbnN0ZWFkLlxuICAgKiBAc2VlIG1vZHVsZTplbGVtSGlkZUVtdWxhdGlvbn5FbGVtSGlkZUVtdWxhdGlvbiNnZXRGaWx0ZXJzXG4gICAqL1xuICBnZXRSdWxlc0ZvckRvbWFpbihkb21haW4pIHtcbiAgICByZXR1cm4gdGhpcy5nZXRGaWx0ZXJzKGRvbWFpbik7XG4gIH1cbn1cblxuLyoqXG4gKiBDb250YWluZXIgZm9yIGVsZW1lbnQgaGlkaW5nIGVtdWxhdGlvbiBmaWx0ZXJzLlxuICovXG5leHBvcnRzLkVsZW1IaWRlRW11bGF0aW9uID0gRWxlbUhpZGVFbXVsYXRpb247XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgQWRibG9jayBQbHVzIDxodHRwczovL2FkYmxvY2twbHVzLm9yZy8+LFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEFkYmxvY2sgUGx1cy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4vKiogQG1vZHVsZSAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZmlsZSBFbGVtZW50IGhpZGluZyBleGNlcHRpb25zIGltcGxlbWVudGF0aW9uLlxuICovXG5cbmNvbnN0IHtFdmVudEVtaXR0ZXJ9ID0gcmVxdWlyZShcIi4vZXZlbnRzXCIpO1xuXG5jbGFzcyBFbGVtSGlkZUV4Y2VwdGlvbnMgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAvKipcbiAgICogQGhpZGVjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIExvb2t1cCB0YWJsZSwgbGlzdHMgb2YgZWxlbWVudCBoaWRpbmcgZXhjZXB0aW9ucyBieSBzZWxlY3RvclxuICAgICAqIEB0eXBlIHtNYXAuPHN0cmluZywgU2V0Ljxtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5FbGVtSGlkZUV4Y2VwdGlvbj4+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fZXhjZXB0aW9uc0J5U2VsZWN0b3IgPSBuZXcgTWFwKCk7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY29udGFpbmluZyBrbm93biBlbGVtZW50IGhpZGluZyBleGNlcHRpb25zXG4gICAgICogQHR5cGUge1NldC48bW9kdWxlOmZpbHRlckNsYXNzZXMuRWxlbUhpZGVFeGNlcHRpb24+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fZXhjZXB0aW9ucyA9IG5ldyBTZXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBrbm93biBlbGVtZW50IGhpZGluZyBleGNlcHRpb25zLlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fZXhjZXB0aW9uc0J5U2VsZWN0b3IuY2xlYXIoKTtcbiAgICB0aGlzLl9leGNlcHRpb25zLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIG5ldyBlbGVtZW50IGhpZGluZyBleGNlcHRpb24uXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuRWxlbUhpZGVFeGNlcHRpb259IGV4Y2VwdGlvblxuICAgKi9cbiAgYWRkKGV4Y2VwdGlvbikge1xuICAgIGlmICh0aGlzLl9leGNlcHRpb25zLmhhcyhleGNlcHRpb24pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHtzZWxlY3Rvcn0gPSBleGNlcHRpb247XG4gICAgbGV0IHNldCA9IHRoaXMuX2V4Y2VwdGlvbnNCeVNlbGVjdG9yLmdldChzZWxlY3Rvcik7XG4gICAgaWYgKHNldCkge1xuICAgICAgc2V0LmFkZChleGNlcHRpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2V4Y2VwdGlvbnNCeVNlbGVjdG9yLnNldChzZWxlY3RvciwgbmV3IFNldChbZXhjZXB0aW9uXSkpO1xuICAgIH1cblxuICAgIHRoaXMuX2V4Y2VwdGlvbnMuYWRkKGV4Y2VwdGlvbik7XG5cbiAgICB0aGlzLmVtaXQoXCJhZGRlZFwiLCBleGNlcHRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gZXhpc3RpbmcgZWxlbWVudCBoaWRpbmcgZXhjZXB0aW9uLlxuICAgKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJDbGFzc2VzLkVsZW1IaWRlRXhjZXB0aW9ufSBleGNlcHRpb25cbiAgICovXG4gIHJlbW92ZShleGNlcHRpb24pIHtcbiAgICBpZiAoIXRoaXMuX2V4Y2VwdGlvbnMuaGFzKGV4Y2VwdGlvbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQge3NlbGVjdG9yfSA9IGV4Y2VwdGlvbjtcbiAgICBsZXQgc2V0ID0gdGhpcy5fZXhjZXB0aW9uc0J5U2VsZWN0b3IuZ2V0KHNlbGVjdG9yKTtcbiAgICBzZXQuZGVsZXRlKGV4Y2VwdGlvbik7XG4gICAgaWYgKHNldC5zaXplID09IDApIHtcbiAgICAgIHRoaXMuX2V4Y2VwdGlvbnNCeVNlbGVjdG9yLmRlbGV0ZShzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgdGhpcy5fZXhjZXB0aW9ucy5kZWxldGUoZXhjZXB0aW9uKTtcblxuICAgIHRoaXMuZW1pdChcInJlbW92ZWRcIiwgZXhjZXB0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciBhbiBlbGVtZW50IGhpZGluZyBleGNlcHRpb24gZXhpc3RzLlxuICAgKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJDbGFzc2VzLkVsZW1IaWRlRXhjZXB0aW9ufSBleGNlcHRpb25cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXMoZXhjZXB0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuX2V4Y2VwdGlvbnMuaGFzKGV4Y2VwdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgYW55IGV4Y2VwdGlvbiBydWxlcyBhcmUgcmVnaXN0ZXJlZCBmb3IgYSBzZWxlY3Rvci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaGFzRXhjZXB0aW9ucyhzZWxlY3Rvcikge1xuICAgIHJldHVybiB0aGlzLl9leGNlcHRpb25zQnlTZWxlY3Rvci5oYXMoc2VsZWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIGFuIGV4Y2VwdGlvbiBydWxlIGlzIHJlZ2lzdGVyZWQgZm9yIGEgc2VsZWN0b3Igb24gYVxuICAgKiBwYXJ0aWN1bGFyIGRvbWFpbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gW2RvbWFpbl1cbiAgICogQHJldHVybnMgez9tb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5FbGVtSGlkZUV4Y2VwdGlvbn1cbiAgICovXG4gIGdldEV4Y2VwdGlvbihzZWxlY3RvciwgZG9tYWluKSB7XG4gICAgbGV0IGV4Y2VwdGlvbnMgPSB0aGlzLl9leGNlcHRpb25zQnlTZWxlY3Rvci5nZXQoc2VsZWN0b3IpO1xuICAgIGlmIChleGNlcHRpb25zKSB7XG4gICAgICBmb3IgKGxldCBleGNlcHRpb24gb2YgZXhjZXB0aW9ucykge1xuICAgICAgICBpZiAoZXhjZXB0aW9uLmlzQWN0aXZlT25Eb21haW4oZG9tYWluKSkge1xuICAgICAgICAgIHJldHVybiBleGNlcHRpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIENvbnRhaW5lciBmb3IgZWxlbWVudCBoaWRpbmcgZXhjZXB0aW9ucy5cbiAqL1xuZXhwb3J0cy5FbGVtSGlkZUV4Y2VwdGlvbnMgPSBFbGVtSGlkZUV4Y2VwdGlvbnM7XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgQWRibG9jayBQbHVzIDxodHRwczovL2FkYmxvY2twbHVzLm9yZy8+LFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEFkYmxvY2sgUGx1cy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4vKiogQG1vZHVsZSAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBSZWdpc3RlcnMgYW5kIGVtaXRzIG5hbWVkIGV2ZW50cy5cbiAqL1xuZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBjbGFzcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGxpc3RlbmVyIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50IG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgIG5hbWVcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXJcbiAgICovXG4gIG9uKG5hbWUsIGxpc3RlbmVyKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycy5nZXQobmFtZSk7XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5zZXQobmFtZSwgW2xpc3RlbmVyXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBsaXN0ZW5lciBmb3IgdGhlIHNwZWNpZmllZCBldmVudCBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gICBuYW1lXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyXG4gICAqL1xuICBvZmYobmFtZSwgbGlzdGVuZXIpIHtcbiAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzLmdldChuYW1lKTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICBpZiAobGlzdGVuZXJzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgbGV0IGlkeCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKGlkeCAhPSAtMSkge1xuICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAobGlzdGVuZXJzWzBdID09PSBsaXN0ZW5lcikge1xuICAgICAgICAvLyBXZSBtdXN0IHVzZSBzdHJpY3QgZXF1YWxpdHkgYWJvdmUgZm9yIGNvbXBhdGliaWxpdHkgd2l0aFxuICAgICAgICAvLyBBcnJheS5wcm90b3R5cGUuaW5kZXhPZlxuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuZGVsZXRlKG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgY29weSBvZiB0aGUgYXJyYXkgb2YgbGlzdGVuZXJzIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKlxuICAgKiBAcmV0dXJucyB7QXJyYXkuPGZ1bmN0aW9uPn1cbiAgICovXG4gIGxpc3RlbmVycyhuYW1lKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycy5zaXplID4gMCA/IHRoaXMuX2xpc3RlbmVycy5nZXQobmFtZSkgOiBudWxsO1xuICAgIHJldHVybiBsaXN0ZW5lcnMgPyBsaXN0ZW5lcnMuc2xpY2UoKSA6IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZXJlIGFyZSBhbnkgbGlzdGVuZXJzIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIFRoZSBuYW1lIG9mIHRoZSBldmVudC4gSWYgb21pdHRlZCwgY2hlY2tzIHdoZXRoZXJcbiAgICogICB0aGVyZSBhcmUgYW55IGxpc3RlbmVycyBmb3IgYW55IGV2ZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGhhc0xpc3RlbmVycyhuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpc3RlbmVycy5zaXplID4gMCAmJlxuICAgICAgICAgICAodHlwZW9mIG5hbWUgPT0gXCJ1bmRlZmluZWRcIiB8fCB0aGlzLl9saXN0ZW5lcnMuaGFzKG5hbWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyBhbGwgcHJldmlvdXNseSBhZGRlZCBsaXN0ZW5lcnMgZm9yIHRoZSBnaXZlbiBldmVudCBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0gey4uLip9ICAgW2FyZ3NdXG4gICAqL1xuICBlbWl0KG5hbWUsIC4uLmFyZ3MpIHtcbiAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzLnNpemUgPiAwID8gdGhpcy5fbGlzdGVuZXJzLmdldChuYW1lKSA6IG51bGw7XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgbGlzdGVuZXJzLnNsaWNlKCkpIHtcbiAgICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLyoqIEBtb2R1bGUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogTW9kZXMgb2Ygb3BlcmF0aW9uIGZvciB0aGUgZmlsdGVyRW5naW5lLlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnRzLkZlYXR1cmVzID0ge1xuICAvLyBEZWZhdWx0IGZlYXR1cmVzOiBNYW5pZmVzdCB2Mi5cbiAgREVGQVVMVDogMCxcbiAgLy8gV2UgaGF2ZSBEZWNsYXJhdGl2ZU5ldFJlcXVlc3RcbiAgRE5SOiAxXG59O1xuXG5sZXQgZmVhdHVyZUZsYWdzID0ge307XG5cbi8qKlxuICogUmVzZXRzIGFsbCBrbm93biBmZWF0dXJlIGZsYWdzIGJhY2sgdG8gdGhlaXIgZGVmYXVsdCB2YWx1ZXMuXG4gKi9cbmxldCByZXNldEZlYXR1cmVGbGFncyA9XG5leHBvcnRzLnJlc2V0RmVhdHVyZUZsYWdzID0gZnVuY3Rpb24oKSB7XG4gIC8vIEFkZCBuZXcgZmVhdHVyZSBmbGFncyBoZXJlIVxuXG4gIGZlYXR1cmVGbGFncy5leGFtcGxlID0gZmFsc2U7ICAvLyBleGFtcGxlIGZlYXR1cmUgdXNlZCBieSB0ZXN0c1xuICBmZWF0dXJlRmxhZ3MuaW5saW5lQ3NzID0gZmFsc2U7XG59O1xuXG5yZXNldEZlYXR1cmVGbGFncygpO1xuXG4vKipcbiAqIFNldHMgdGhlIGFjdGl2ZSBzZXQgb2YgZmVhdHVyZSBmbGFncy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbmV3RmxhZ3MgQW4gb2JqZWN0IHdoZXJlIGVhY2ggcHJvcGVydHkgaXMgYSBmZWF0dXJlIHRvIGJlXG4gKiBzZXQuXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgYW55IG9mIHRoZSBmZWF0dXJlIGFyZSBub3Qga25vd24sIGFuZCBzbyBjb3VsZCBub3QgYmVcbiAqIHNldC4gQW55IGtub3duIGZlYXR1cmVzIHdpbGwgc3RpbGwgYmUgc2V0LlxuICovXG5leHBvcnRzLnNldEZlYXR1cmVGbGFncyA9IGZ1bmN0aW9uKG5ld0ZsYWdzKSB7XG4gIGxldCB1bmtub3duRmVhdHVyZXMgPSBbXTtcblxuICBmb3IgKGxldCBmZWF0dXJlIGluIG5ld0ZsYWdzKSB7XG4gICAgaWYgKCFPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChmZWF0dXJlRmxhZ3MsIGZlYXR1cmUpKSB7XG4gICAgICB1bmtub3duRmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBmZWF0dXJlRmxhZ3NbZmVhdHVyZV0gPSBuZXdGbGFnc1tmZWF0dXJlXTtcbiAgICB9XG4gIH1cblxuICBpZiAodW5rbm93bkZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZmVhdHVyZSBmbGFnczogJHt1bmtub3duRmVhdHVyZXMuam9pbihcIiwgXCIpfWApO1xuICB9XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGN1cnJlbnQgc3RhdHVzIG9mIGEgZmVhdHVyZSBmbGFnLiBVc2VkIHRvIGRldGVybWluZSB3aGljaCBjb2RlcGF0aFxuICogdG8gdGFrZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZSBUaGUgbmFtZSBvZiB0aGUgZmVhdHVyZS5cbiAqIEByZXR1cm5zIHtib29sfSBUaGUgdmFsdWUgb2YgdGhlIGZlYXR1cmUgZmxhZywgZWl0aGVyIGZyb20gaXRzIGRlZmF1bHQgdmFsdWVcbiAqIG9yIGFzIHNldCBieSBgc2V0RmVhdHVyZUZsYWdzYC5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgZmVhdHVyZSBpcyBub3Qgb25lIG9mIHRoZSBmZWF0dXJlcyBzZXQgaW5cbiAqIGByZXNldEZlYXR1cmVGbGFnc2AuXG4gKi9cbmV4cG9ydHMuaXNGZWF0dXJlRW5hYmxlZCA9IGZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgaWYgKHR5cGVvZiBmZWF0dXJlRmxhZ3NbZmVhdHVyZV0gPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBmZWF0dXJlIGZsYWc6ICR7ZmVhdHVyZX1gKTtcbiAgfVxuXG4gIHJldHVybiBmZWF0dXJlRmxhZ3NbZmVhdHVyZV07XG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLyoqIEBtb2R1bGUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGZpbGUgRGVmaW5pdGlvbiBvZiBGaWx0ZXIgY2xhc3MgYW5kIGl0cyBzdWJjbGFzc2VzLlxuICovXG5cbmNvbnN0IHtcbiAgY29udGVudFR5cGVzLCBSRVNPVVJDRV9UWVBFUywgQ09OVEVYVF9UWVBFU1xufSA9IHJlcXVpcmUoXCIuL2NvbnRlbnRUeXBlc1wiKTtcbmNvbnN0IHtDT05URU5UX0ZJTFRFUiwgcGFyc2UsIEZpbHRlclBhcnNpbmdFcnJvcn0gPSByZXF1aXJlKFwiLi9maWx0ZXJzXCIpO1xuY29uc3Qge1BhdHRlcm59ID0gcmVxdWlyZShcIi4vcGF0dGVybnNcIik7XG5jb25zdCB7cGFyc2VEb21haW5zLCBkb21haW5TdWZmaXhlcywgaXNWYWxpZERvbWFpbldpbGRjYXJkLFxuICAgICAgIGhhc1dpbGRjYXJkLCBtYXRjaGVzV2lsZGNhcmRzfSA9IHJlcXVpcmUoXCIuL3VybFwiKTtcbmNvbnN0IHtpc0ZlYXR1cmVFbmFibGVkfSA9IHJlcXVpcmUoXCIuL2ZlYXR1cmVzLmpzXCIpO1xuY29uc3Qge3ZlcmlmeUNTU1Byb3BlcnRpZXN9ID0gcmVxdWlyZShcIi4vZmlsdGVycy9pbmxpbmVDc3NWYWxpZGF0aW9uXCIpO1xuXG5jb25zdCB7cmVzb3VyY2VzfSA9IHJlcXVpcmUoXCIuLi9kYXRhL3Jlc291cmNlcy5qc1wiKTtcblxuY29uc3QgTUlOX0dFTkVSSUNfQ09OVEVOVF9GSUxURVJfQk9EWV9MRU5HVEggPSAzO1xuXG4vKiogVGhlIGZpbHRlciBzdGF0ZVxuICogQHR5cGUge21vZHVsZTpmaWx0ZXJTdGF0ZS5GaWx0ZXJTdGF0ZX1cbiAqL1xubGV0IGZpbHRlclN0YXRlID0gbnVsbDtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBIdHRwSGVhZGVyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZVxuICogQHByb3BlcnR5IHs/c3RyaW5nfSB2YWx1ZVxuICovXG5cbi8qKlxuICogTWFwIG9mIGludGVybmFsIHJlc291cmNlcyBmb3IgVVJMIHJld3JpdGluZy5cbiAqIEB0eXBlIHtNYXAuPHN0cmluZyxzdHJpbmc+fVxuICovXG5sZXQgcmVzb3VyY2VNYXAgPSBuZXcgTWFwKFxuICBPYmplY3Qua2V5cyhyZXNvdXJjZXMpLm1hcChrZXkgPT4gW2tleSwgcmVzb3VyY2VzW2tleV1dKVxuKTtcblxubGV0IGlzQWN0aXZlRmlsdGVyID1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGZpbHRlciBpcyBhbiBhY3RpdmUgZmlsdGVyLlxuICpcbiAqIEZpbHRlcnMgb2YgdHlwZSBgYmxvY2tpbmdgLCBgYWxsb3dpbmdgLCBgZWxlbWhpZGVgLCBgZWxlbWhpZGVleGNlcHRpb25gLFxuICogYGVsZW1oaWRlZW11bGF0aW9uYCwgYW5kIGBzbmlwcGV0YCBhcmUgY29uc2lkZXJlZCBhY3RpdmU7IGZpbHRlcnMgb2YgdHlwZVxuICogYGludmFsaWRgIGFuZCBgY29tbWVudGAgYXJlIG5vdCBjb25zaWRlcmVkIGFjdGl2ZS5cbiAqXG4gKiBAcGFyYW0gez9GaWx0ZXJ9IGZpbHRlciBUaGUgZmlsdGVyLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBmaWx0ZXIgaXMgYWN0aXZlLlxuICovXG5leHBvcnRzLmlzQWN0aXZlRmlsdGVyID0gZnVuY3Rpb24gaXNBY3RpdmVGaWx0ZXIoZmlsdGVyKSB7XG4gIHJldHVybiBmaWx0ZXIgaW5zdGFuY2VvZiBBY3RpdmVGaWx0ZXI7XG59O1xuXG5sZXQgRmlsdGVyID1cbi8qKlxuICogQWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgZmlsdGVyc1xuICovXG5leHBvcnRzLkZpbHRlciA9IGNsYXNzIEZpbHRlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAgIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZmlsdGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0ZXh0KSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgfVxuXG4gIHN0YXRpYyB1c2VGaWx0ZXJTdGF0ZShyZWZlcmVuY2UpIHtcbiAgICBmaWx0ZXJTdGF0ZSA9IHJlZmVyZW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaWx0ZXIgdHlwZSBhcyBhIHN0cmluZywgZS5nLiBcImJsb2NraW5nXCIuXG4gICAqXG4gICAqIENhbiBiZSBgYmxvY2tpbmdgLCBgYWxsb3dpbmdgLCBgZWxlbWhpZGVgLCBgZWxlbWhpZGVleGNlcHRpb25gLFxuICAgKiBgZWxlbWhpZGVlbXVsYXRpb25gLCBgc25pcHBldGAsIGBjb21tZW50YCBvciBgaW52YWxpZGAuXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBnZXQgdHlwZSgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgZGVmaW5lIGZpbHRlciB0eXBlIGluIHRoZSBzdWJjbGFzc1wiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcnVlIGlmIGZpbHRlciBzaG91bGQgb25seSBiZSBsb2FkZWQgaWYgaXQgY29tZXMgZnJvbSBhXG4gICAqIHByaXZpbGVnZWQgc3Vic2NyaXB0aW9uIChjaXJjdW12ZW50aW9uIHN1YnNjcmlwdGlvbnMgb3Igc3BlY2lhbFxuICAgKiBzdWJzY3JpcHRpb25zKS5cbiAgICogQHR5cGUge2Jvb2x9XG4gICAqL1xuICBnZXQgcmVxdWlyZXNQcml2aWxlZ2VkU3Vic2NyaXB0aW9uKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXJpYWxpemVzIHRoZSBmaWx0ZXIgZm9yIHdyaXRpbmcgb3V0IG9uIGRpc2suXG4gICAqIEB5aWVsZHMge3N0cmluZ31cbiAgICovXG4gICpzZXJpYWxpemUoKSB7XG4gICAgbGV0IHt0ZXh0fSA9IHRoaXM7XG5cbiAgICB5aWVsZCBcIltGaWx0ZXJdXCI7XG4gICAgeWllbGQgXCJ0ZXh0PVwiICsgdGV4dDtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnRleHQ7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FjaGUgZm9yIGtub3duIGZpbHRlcnMsIG1hcHMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIHRvIGZpbHRlciBvYmplY3RzLlxuICogQHR5cGUge01hcC48c3RyaW5nLCBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXI+fVxuICovXG5sZXQga25vd25GaWx0ZXJzID0gbmV3IE1hcCgpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmaWx0ZXIgb2YgY29ycmVjdCB0eXBlIGZyb20gaXRzIHRleHQgcmVwcmVzZW50YXRpb24gLSBkb2VzIHRoZVxuICogYmFzaWMgcGFyc2luZyBhbmQgY2FsbHMgdGhlIHJpZ2h0IGNvbnN0cnVjdG9yIHRoZW4uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgICBhcyBpbiBGaWx0ZXIoKVxcXG4gKiBAcmV0dXJuIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXJ9XG4gKi9cbmV4cG9ydHMuRmlsdGVyLmZyb21UZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICBsZXQgZmlsdGVyID0ga25vd25GaWx0ZXJzLmdldCh0ZXh0KTtcbiAgaWYgKGZpbHRlcikge1xuICAgIHJldHVybiBmaWx0ZXI7XG4gIH1cblxuICBpZiAodGV4dC5sZW5ndGggPT09IDApIHtcbiAgICBmaWx0ZXIgPSBuZXcgSW52YWxpZEZpbHRlcih0ZXh0LCBcImZpbHRlcl9lbXB0eVwiKTtcbiAgfVxuICBlbHNlIGlmICh0ZXh0WzBdID09IFwiIVwiKSB7XG4gICAgZmlsdGVyID0gbmV3IENvbW1lbnRGaWx0ZXIodGV4dCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgbGV0IG1hdGNoID0gdGV4dC5pbmNsdWRlcyhcIiNcIikgPyBDT05URU5UX0ZJTFRFUi5leGVjKHRleHQpIDogbnVsbDtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGZpbHRlciA9IENvbnRlbnRGaWx0ZXIuZnJvbVRleHQodGV4dCwgbWF0Y2hbMV0sIG1hdGNoWzJdLCBtYXRjaFszXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZmlsdGVyID0gVVJMRmlsdGVyLmZyb21UZXh0KHRleHQpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChmaWx0ZXIuZG9tYWlucykge1xuICAgIGZvciAobGV0IGRvbWFpbldpdGhXaWxkY2FyZCBvZiBmaWx0ZXIuZG9tYWlucy5rZXlzKCkpIHtcbiAgICAgIGlmIChkb21haW5XaXRoV2lsZGNhcmQgPT0gXCJcIikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1ZhbGlkRG9tYWluV2lsZGNhcmQoZG9tYWluV2l0aFdpbGRjYXJkKSkge1xuICAgICAgICBmaWx0ZXIgPSBuZXcgSW52YWxpZEZpbHRlcih0ZXh0LCBcImZpbHRlcl9pbnZhbGlkX3dpbGRjYXJkXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChmaWx0ZXIudHlwZSAhPT0gXCJpbnZhbGlkXCIpIHtcbiAgICBrbm93bkZpbHRlcnMuc2V0KGZpbHRlci50ZXh0LCBmaWx0ZXIpO1xuICB9XG5cbiAgcmV0dXJuIGZpbHRlcjtcbn07XG5cbi8qKlxuICogRGVzZXJpYWxpemVzIGEgZmlsdGVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9ICBvYmogbWFwIG9mIHNlcmlhbGl6ZWQgcHJvcGVydGllcyBhbmQgdGhlaXIgdmFsdWVzXG4gKiBAcmV0dXJuIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXJ9IGZpbHRlciBvciBudWxsIGlmIHRoZSBmaWx0ZXIgY291bGRuJ3RcbiAqICAgYmUgY3JlYXRlZFxuICovXG5leHBvcnRzLkZpbHRlci5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gIGxldCBmaWx0ZXIgPSBGaWx0ZXIuZnJvbVRleHQob2JqLnRleHQpO1xuICBpZiAoaXNBY3RpdmVGaWx0ZXIoZmlsdGVyKSAmJiBmaWx0ZXJTdGF0ZSkge1xuICAgIGZpbHRlclN0YXRlLmZyb21PYmplY3QoZmlsdGVyLnRleHQsIG9iaik7XG4gIH1cbiAgcmV0dXJuIGZpbHRlcjtcbn07XG5cbmxldCB7bm9ybWFsaXplfSA9IHJlcXVpcmUoXCIuL2ZpbHRlcnMvaW5kZXguanNcIik7XG5leHBvcnRzLkZpbHRlci5ub3JtYWxpemUgPSBub3JtYWxpemU7XG5cbmxldCBJbnZhbGlkRmlsdGVyID1cbi8qKlxuICogQ2xhc3MgZm9yIGludmFsaWQgZmlsdGVyc1xuICogQGV4dGVuZHMgbW9kdWxlOmZpbHRlckNsYXNzZXMuRmlsdGVyXG4gKi9cbmV4cG9ydHMuSW52YWxpZEZpbHRlciA9IGNsYXNzIEludmFsaWRGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgc2VlIHtAbGluayBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXIgRmlsdGVyKCl9XG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gUmVhc29uIHdoeSB0aGlzIGZpbHRlciBpcyBpbnZhbGlkXG4gICAqIEBwYXJhbSB7c3RyaW5nP30gb3B0aW9uIFRoZSBvcHRpb25hbCBvcHRpb24gcGFzc2VkIHRvIHRoZSBmaWx0ZXJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRleHQsIHJlYXNvbiwgb3B0aW9uID0gbnVsbCkge1xuICAgIHN1cGVyKHRleHQpO1xuXG4gICAgdGhpcy5yZWFzb24gPSByZWFzb247XG4gICAgdGhpcy5vcHRpb24gPSBvcHRpb247XG4gIH1cblxuICBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gXCJpbnZhbGlkXCI7XG4gIH1cblxuICAqc2VyaWFsaXplKCkge31cbn07XG5cbmxldCBDb21tZW50RmlsdGVyID1cbi8qKlxuICogQ2xhc3MgZm9yIGNvbW1lbnRzXG4gKiBAZXh0ZW5kcyBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXJcbiAqL1xuZXhwb3J0cy5Db21tZW50RmlsdGVyID0gY2xhc3MgQ29tbWVudEZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBzZWUge0BsaW5rIG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkZpbHRlciBGaWx0ZXIoKX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRleHQpIHtcbiAgICBzdXBlcih0ZXh0KTtcbiAgfVxuXG4gIGdldCB0eXBlKCkge1xuICAgIHJldHVybiBcImNvbW1lbnRcIjtcbiAgfVxuXG4gICpzZXJpYWxpemUoKSB7fVxufTtcblxubGV0IEFjdGl2ZUZpbHRlciA9XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGZpbHRlcnMgdGhhdCBjYW4gZ2V0IGhpdHNcbiAqIEBleHRlbmRzIG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkZpbHRlclxuICovXG5leHBvcnRzLkFjdGl2ZUZpbHRlciA9IGNsYXNzIEFjdGl2ZUZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgKiAgIHNlZSB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuRmlsdGVyIEZpbHRlcigpfVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RvbWFpbnNdXG4gICAqICAgRG9tYWlucyB0aGF0IHRoZSBmaWx0ZXIgaXMgcmVzdHJpY3RlZCB0byBzZXBhcmF0ZWQgYnkgZG9tYWluU2VwYXJhdG9yXG4gICAqICAgZS5nLiBcImZvby5jb218YmFyLmNvbXx+YmF6LmNvbVwiXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0ZXh0LCBkb21haW5zKSB7XG4gICAgc3VwZXIodGV4dCk7XG5cbiAgICAvKipcbiAgICAgKiBTdHJpbmcgdGhhdCB0aGUgZG9tYWlucyBwcm9wZXJ0eSBzaG91bGQgYmUgZ2VuZXJhdGVkIGZyb21cbiAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmRvbWFpblNvdXJjZSA9IGRvbWFpbnMgfHwgbnVsbDtcblxuICAgIHRoaXMuX2RvbWFpbnMgPSBkb21haW5zID8gdm9pZCAwIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgZmlsdGVycyBjb250YWluZWQsIHdpbGwgYWx3YXlzIGJlIDEgKHJlcXVpcmVkIHRvXG4gICAqIG9wdGltaXplIHtAbGluayBtb2R1bGU6bWF0Y2hlci5NYXRjaGVyIE1hdGNoZXJ9KS5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIGdldCBzaXplKCkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlZSBGaWx0ZXIuc2VyaWFsaXplKClcbiAgICogQGluaGVyaXRkb2NcbiAgICovXG4gICpzZXJpYWxpemUoKSB7XG4gICAgaWYgKGZpbHRlclN0YXRlKSB7XG4gICAgICB5aWVsZCogZmlsdGVyU3RhdGUuc2VyaWFsaXplKHRoaXMudGV4dCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlZmluZXMgd2hldGhlciB0aGUgZmlsdGVyIGlzIGRpc2FibGVkIGdsb2JhbGx5LlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlcHJlY2F0ZWQgdXNlXG4gICAqIHtAbGluayBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5BY3RpdmVGaWx0ZXIjaXNEaXNhYmxlZEZvclN1YnNjcmlwdGlvbn0gYW5kXG4gICAqIHtAbGluayBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5BY3RpdmVGaWx0ZXIjc2V0RGlzYWJsZWRGb3JTdWJzY3JpcHRpb259IGZvclxuICAgKiBkaXNhYmxpbmcgYW5kIGVuYWJsaW5nIGZpbHRlcnMgZm9yIHNwZWNpZmljIHN1YnNjcmlwdGlvbnMuXG4gICAqL1xuICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIGZpbHRlclN0YXRlICYmICFmaWx0ZXJTdGF0ZS5pc0VuYWJsZWQodGhpcy50ZXh0KTtcbiAgfVxuICBzZXQgZGlzYWJsZWQodmFsdWUpIHtcbiAgICBpZiAoZmlsdGVyU3RhdGUpIHtcbiAgICAgIGZpbHRlclN0YXRlLnNldEVuYWJsZWQodGhpcy50ZXh0LCAhdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHdoaWNoIHN1YnNjcmlwdGlvbnMgdGhlIGZpbHRlciBpcyBkaXNhYmxlZCBmb3IuXG4gICAqIFNlZSB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuQWN0aXZlRmlsdGVyI2lzRGlzYWJsZWRGb3JTdWJzY3JpcHRpb259IGFuZFxuICAgKiB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuQWN0aXZlRmlsdGVyI3NldERpc2FibGVkRm9yU3Vic2NyaXB0aW9ufSBmb3JcbiAgICogZGlzYWJsaW5nIGFuZCBlbmFibGluZyBmaWx0ZXJzLlxuICAgKiBAdHlwZSB7U2V0PHN0cmluZz59XG4gICAqL1xuICBnZXQgZGlzYWJsZWRTdWJzY3JpcHRpb25zKCkge1xuICAgIGlmICghZmlsdGVyU3RhdGUpIHtcbiAgICAgIHJldHVybiBuZXcgU2V0KCk7XG4gICAgfVxuICAgIHJldHVybiBmaWx0ZXJTdGF0ZS5kaXNhYmxlZFN1YnNjcmlwdGlvbnModGhpcy50ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGlzIGZpbHRlciBpcyBkaXNhYmxlZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN1YnNjcmlwdGlvblVybCBUaGUgc3Vic2NyaXB0aW9uIHRvIGNoZWNrIGZvclxuICAgKiBlbmFibGVkIC8gZGlzYWJsZWQgc3RhdGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIGZpbHRlciBpcyBkaXNhYmxlZFxuICAgKi9cbiAgaXNEaXNhYmxlZEZvclN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25VcmwpIHtcbiAgICByZXR1cm4gZmlsdGVyU3RhdGUgJiZcbiAgICAgIGZpbHRlclN0YXRlLmlzRGlzYWJsZWRGb3JTdWJzY3JpcHRpb24odGhpcy50ZXh0LCBzdWJzY3JpcHRpb25VcmwpO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlcyBvciBlbmFibGVzIHRoZSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc3Vic2NyaXB0aW9uVXJsXSBUaGUgc3Vic2NyaXB0aW9uIG9uIHdoaWNoIHRvXG4gICAqIGRpc2FibGUgLyBlbmFibGUgdGhlIGZpbHRlci5cbiAgICogQHBhcmFtIHtib29sZWFufSBbdmFsdWVdIG5ldyBkaXNhYmxlZCB2YWx1ZSwgdHJ1ZSBmb3IgZGlzYWJsZWRcbiAgICogYW5kIGZhbHNlIGZvciBlbmFibGVkXG4gICAqL1xuICBzZXREaXNhYmxlZEZvclN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25VcmwsIHZhbHVlKSB7XG4gICAgaWYgKGZpbHRlclN0YXRlKSB7XG4gICAgICBmaWx0ZXJTdGF0ZS5zZXREaXNhYmxlZEZvclN1YnNjcmlwdGlvbih0aGlzLnRleHQsIHN1YnNjcmlwdGlvblVybCwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXBhcmF0b3IgY2hhcmFjdGVyIHVzZWQgaW4gZG9tYWluU291cmNlIHByb3BlcnR5XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBnZXQgZG9tYWluU2VwYXJhdG9yKCkge1xuICAgIHJldHVybiBcIixcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgaGl0cyBvbiB0aGUgZmlsdGVyIHNpbmNlIHRoZSBsYXN0IHJlc2V0XG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgaGl0Q291bnQoKSB7XG4gICAgcmV0dXJuIGZpbHRlclN0YXRlID8gZmlsdGVyU3RhdGUuZ2V0SGl0Q291bnQodGhpcy50ZXh0KSA6IDA7XG4gIH1cbiAgc2V0IGhpdENvdW50KHZhbHVlKSB7XG4gICAgaWYgKGZpbHRlclN0YXRlKSB7XG4gICAgICBmaWx0ZXJTdGF0ZS5zZXRIaXRDb3VudCh0aGlzLnRleHQsIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGFzdCB0aW1lIHRoZSBmaWx0ZXIgaGFkIGEgaGl0IChpbiBtaWxsaXNlY29uZHMgc2luY2UgdGhlIGJlZ2lubmluZyBvZiB0aGVcbiAgICogZXBvY2gpXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgbGFzdEhpdCgpIHtcbiAgICByZXR1cm4gZmlsdGVyU3RhdGUgPyBmaWx0ZXJTdGF0ZS5nZXRMYXN0SGl0KHRoaXMudGV4dCkgOiAwO1xuICB9XG4gIHNldCBsYXN0SGl0KHZhbHVlKSB7XG4gICAgaWYgKGZpbHRlclN0YXRlKSB7XG4gICAgICBmaWx0ZXJTdGF0ZS5zZXRMYXN0SGl0KHRoaXMudGV4dCwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYXAgY29udGFpbmluZyBkb21haW5zIHRoYXQgdGhpcyBmaWx0ZXIgc2hvdWxkIG1hdGNoIG9uL25vdCBtYXRjaFxuICAgKiBvbiBvciBudWxsIGlmIHRoZSBmaWx0ZXIgc2hvdWxkIG1hdGNoIG9uIGFsbCBkb21haW5zXG4gICAqIEB0eXBlIHs/TWFwLjxzdHJpbmcsYm9vbGVhbj59XG4gICAqL1xuICBnZXQgZG9tYWlucygpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX2RvbWFpbnMgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgbGV0IHtkb21haW5Tb3VyY2U6IHNvdXJjZSwgZG9tYWluU2VwYXJhdG9yOiBzZXB9ID0gdGhpcztcbiAgICAgIHRoaXMuX2RvbWFpbnMgPSBwYXJzZURvbWFpbnMoc291cmNlLnRvTG93ZXJDYXNlKCksIHNlcCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9kb21haW5zO1xuICB9XG5cbiAgLyoqXG4gICAqIEFycmF5IGNvbnRhaW5pbmcgcHVibGljIGtleXMgb2Ygd2Vic2l0ZXMgdGhhdCB0aGlzIGZpbHRlciBzaG91bGQgYXBwbHkgdG9cbiAgICogQHR5cGUgez9BcnJheS48c3RyaW5nPn1cbiAgICovXG4gIGdldCBzaXRla2V5cygpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdHJpbmcgdGhhdCB0aGUgc2l0ZWtleSBwcm9wZXJ0eSBzaG91bGQgYmUgZ2VuZXJhdGVkIGZyb21cbiAgICogQHR5cGUgez9zdHJpbmd9XG4gICAqL1xuICBnZXQgc2l0ZWtleVNvdXJjZSgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGlzIGZpbHRlciBpcyBhY3RpdmUgb24gYSBkb21haW4uXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gW2RvY0RvbWFpbl0gZG9tYWluIG5hbWUgb2YgdGhlIGRvY3VtZW50IHRoYXQgbG9hZHMgdGhlIFVSTFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpdGVrZXldIHB1YmxpYyBrZXkgcHJvdmlkZWQgYnkgdGhlIGRvY3VtZW50XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaW4gY2FzZSBvZiB0aGUgZmlsdGVyIGJlaW5nIGFjdGl2ZVxuICAgKi9cbiAgaXNBY3RpdmVPbkRvbWFpbihkb2NEb21haW4sIHNpdGVrZXkpIHtcbiAgICAvLyBTaXRla2V5cyBhcmUgY2FzZS1zZW5zaXRpdmUgc28gd2Ugc2hvdWxkbid0IGNvbnZlcnQgdGhlbSB0b1xuICAgIC8vIHVwcGVyLWNhc2UgdG8gYXZvaWQgZmFsc2UgcG9zaXRpdmVzIGhlcmUuIEluc3RlYWQgd2UgbmVlZCB0b1xuICAgIC8vIGNoYW5nZSB0aGUgd2F5IGZpbHRlciBvcHRpb25zIGFyZSBwYXJzZWQuXG4gICAgaWYgKHRoaXMuc2l0ZWtleXMgJiZcbiAgICAgICAgKCFzaXRla2V5IHx8ICF0aGlzLnNpdGVrZXlzLmluY2x1ZGVzKHNpdGVrZXkpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxldCB7ZG9tYWluc30gPSB0aGlzO1xuXG4gICAgLy8gSWYgbm8gZG9tYWlucyBhcmUgc2V0IHRoZSBydWxlIG1hdGNoZXMgZXZlcnl3aGVyZVxuICAgIGlmICghZG9tYWlucykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGRvY0RvbWFpbiA9PSBudWxsKSB7XG4gICAgICBkb2NEb21haW4gPSBcIlwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChkb2NEb21haW5bZG9jRG9tYWluLmxlbmd0aCAtIDFdID09IFwiLlwiKSB7XG4gICAgICBkb2NEb21haW4gPSBkb2NEb21haW4uc3Vic3RyaW5nKDAsIGRvY0RvbWFpbi5sZW5ndGggLSAxKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgZG9jdW1lbnQgaGFzIG5vIGhvc3QgbmFtZSwgbWF0Y2ggb25seSBpZiB0aGUgZmlsdGVyXG4gICAgLy8gaXNuJ3QgcmVzdHJpY3RlZCB0byBzcGVjaWZpYyBkb21haW5zXG4gICAgaWYgKCFkb2NEb21haW4pIHtcbiAgICAgIHJldHVybiBkb21haW5zLmdldChcIlwiKTtcbiAgICB9XG5cbiAgICBmb3IgKGRvY0RvbWFpbiBvZiBkb21haW5TdWZmaXhlcyhkb2NEb21haW4pKSB7XG4gICAgICAvLyBleGFjdCBkb21haW4gbWF0Y2hcbiAgICAgIGxldCBpc0RvbWFpbkluY2x1ZGVkID0gZG9tYWlucy5nZXQoZG9jRG9tYWluKTtcbiAgICAgIGlmICh0eXBlb2YgaXNEb21haW5JbmNsdWRlZCAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBpc0RvbWFpbkluY2x1ZGVkO1xuICAgICAgfVxuXG4gICAgICAvLyBkb21haW5zIHdpdGggd2lsZGNhcmRzIG1hdGNoXG4gICAgICBmb3IgKGxldCBbZG9tYWluLCBpc0FjdGl2ZU9uRG9tYWluXSBvZiBkb21haW5zLmVudHJpZXMoKSkge1xuICAgICAgICBpZiAoaGFzV2lsZGNhcmQoZG9tYWluKSkge1xuICAgICAgICAgIGlmIChtYXRjaGVzV2lsZGNhcmRzKGRvY0RvbWFpbiwgZG9tYWluKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzQWN0aXZlT25Eb21haW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvbWFpbnMuZ2V0KFwiXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoaXMgZmlsdGVyIGlzIGFjdGl2ZSBvbmx5IG9uIGEgZG9tYWluIGFuZCBpdHMgc3ViZG9tYWlucy5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBbZG9jRG9tYWluXVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNBY3RpdmVPbmx5T25Eb21haW4oZG9jRG9tYWluKSB7XG4gICAgbGV0IHtkb21haW5zfSA9IHRoaXM7XG5cbiAgICBpZiAoIWRvbWFpbnMgfHwgZG9tYWlucy5nZXQoXCJcIikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZG9jRG9tYWluID09IG51bGwpIHtcbiAgICAgIGRvY0RvbWFpbiA9IFwiXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRvY0RvbWFpbltkb2NEb21haW4ubGVuZ3RoIC0gMV0gPT0gXCIuXCIpIHtcbiAgICAgIGRvY0RvbWFpbiA9IGRvY0RvbWFpbi5zdWJzdHJpbmcoMCwgZG9jRG9tYWluLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIGlmICghZG9jRG9tYWluKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgW2RvbWFpbiwgaXNJbmNsdWRlZF0gb2YgZG9tYWlucykge1xuICAgICAgaWYgKGlzSW5jbHVkZWQgJiYgZG9tYWluICE9IGRvY0RvbWFpbikge1xuICAgICAgICBpZiAoZG9tYWluLmxlbmd0aCA8PSBkb2NEb21haW4ubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkb21haW4uZW5kc1dpdGgoXCIuXCIgKyBkb2NEb21haW4pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhpcyBmaWx0ZXIgaXMgZ2VuZXJpYyBvciBzcGVjaWZpY1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNHZW5lcmljKCkge1xuICAgIGxldCB7c2l0ZWtleXMsIGRvbWFpbnN9ID0gdGhpcztcblxuICAgIHJldHVybiAhKHNpdGVrZXlzICYmIHNpdGVrZXlzLmxlbmd0aCkgJiYgKCFkb21haW5zIHx8IGRvbWFpbnMuZ2V0KFwiXCIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBZaWVsZHMgdGhlIGZpbHRlciBpdHNlbGYgKHJlcXVpcmVkIHRvIG9wdGltaXplXG4gICAqICAge0BsaW5rIG1vZHVsZTptYXRjaGVyLk1hdGNoZXIgTWF0Y2hlcn0pLlxuICAgKiBAeWllbGRzIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5BY3RpdmVGaWx0ZXJ9XG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgeWllbGQgdGhpcztcbiAgfVxufTtcblxubGV0IFVSTEZpbHRlciA9XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIFVSTCBmaWx0ZXJzXG4gKiBAZXh0ZW5kcyBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5BY3RpdmVGaWx0ZXJcbiAqL1xuZXhwb3J0cy5VUkxGaWx0ZXIgPSBjbGFzcyBVUkxGaWx0ZXIgZXh0ZW5kcyBBY3RpdmVGaWx0ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgc2VlIHtAbGluayBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXIgRmlsdGVyKCl9XG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWdleHBTb3VyY2VcbiAgICogICBmaWx0ZXIgcGFydCB0aGF0IHRoZSByZWd1bGFyIGV4cHJlc3Npb24gc2hvdWxkIGJlIGJ1aWxkIGZyb21cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjb250ZW50VHlwZV1cbiAgICogICBDb250ZW50IHR5cGVzIHRoZSBmaWx0ZXIgYXBwbGllcyB0bywgY29tYmluYXRpb24gb2YgdmFsdWVzIGZyb21cbiAgICogICBge0BsaW5rIG1vZHVsZTpjb250ZW50VHlwZXMuY29udGVudFR5cGVzfWBcbiAgICogQHBhcmFtIHtib29sZWFufSBbbWF0Y2hDYXNlXVxuICAgKiAgIERlZmluZXMgd2hldGhlciB0aGUgZmlsdGVyIHNob3VsZCBkaXN0aW5ndWlzaCBiZXR3ZWVuIGxvd2VyIGFuZCB1cHBlclxuICAgKiAgIGNhc2UgbGV0dGVyc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RvbWFpbnNdXG4gICAqICAgRG9tYWlucyB0aGF0IHRoZSBmaWx0ZXIgaXMgcmVzdHJpY3RlZCB0bywgZS5nLiBcImZvby5jb218YmFyLmNvbXx+YmF6LmNvbVwiXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3RoaXJkUGFydHldXG4gICAqICAgRGVmaW5lcyB3aGV0aGVyIHRoZSBmaWx0ZXIgc2hvdWxkIGFwcGx5IHRvIHRoaXJkLXBhcnR5IG9yIGZpcnN0LXBhcnR5XG4gICAqICAgY29udGVudCBvbmx5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l0ZWtleXNdXG4gICAqICAgUHVibGljIGtleXMgb2Ygd2Vic2l0ZXMgdGhhdCB0aGlzIGZpbHRlciBzaG91bGQgYXBwbHkgdG9cbiAgICogQHBhcmFtIHs/SHR0cEhlYWRlcn0gW2hlYWRlcl1cbiAgICogICBIZWFkZXItYmFzZWQgZmlsdGVyaW5nLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IFtyZXdyaXRlXVxuICAgKiAgIFRoZSBuYW1lIG9mIHRoZSBpbnRlcm5hbCByZXNvdXJjZSB0byB3aGljaCB0byByZXdyaXRlIHRoZVxuICAgKiAgIFVSTC4gZS5nLiBpZiB0aGUgdmFsdWUgb2YgdGhlIGAkcmV3cml0ZWAgb3B0aW9uIGlzXG4gICAqICAgYGFicC1yZXNvdXJjZTpibGFuay1odG1sYCwgdGhpcyBzaG91bGQgYmUgYGJsYW5rLWh0bWxgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3IodGV4dCwgcmVnZXhwU291cmNlLCBjb250ZW50VHlwZSwgbWF0Y2hDYXNlLCBkb21haW5zLCB0aGlyZFBhcnR5LFxuICAgICAgICAgICAgICBzaXRla2V5cywgaGVhZGVyLCByZXdyaXRlKSB7XG4gICAgc3VwZXIodGV4dCwgZG9tYWlucyk7XG5cbiAgICB0aGlzLl9zaXRla2V5U291cmNlID0gc2l0ZWtleXMgPT0gbnVsbCA/IG51bGwgOiBzaXRla2V5cztcbiAgICB0aGlzLl9zaXRla2V5cyA9IHNpdGVrZXlzID09IG51bGwgPyBudWxsIDogdm9pZCAwO1xuXG4gICAgLyoqXG4gICAgICogQ29udGVudCB0eXBlcyB0aGUgZmlsdGVyIGFwcGxpZXMgdG8sIGNvbWJpbmF0aW9uIG9mIHZhbHVlcyBmcm9tXG4gICAgICogYHtAbGluayBtb2R1bGU6Y29udGVudFR5cGVzLmNvbnRlbnRUeXBlc31gXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRlbnRUeXBlID0gY29udGVudFR5cGUgIT0gbnVsbCA/IGNvbnRlbnRUeXBlIDogUkVTT1VSQ0VfVFlQRVM7XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHdoZXRoZXIgdGhlIGZpbHRlciBzaG91bGQgYXBwbHkgdG8gdGhpcmQtcGFydHkgb3JcbiAgICAgKiBmaXJzdC1wYXJ0eSBjb250ZW50IG9ubHkuIENhbiBiZSBudWxsIChhcHBseSB0byBhbGwgY29udGVudCkuXG4gICAgICogQHR5cGUgez9ib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMudGhpcmRQYXJ0eSA9IHRoaXJkUGFydHkgIT0gbnVsbCA/IHRoaXJkUGFydHkgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSGVhZGVyLWJhc2VkIGZpbHRlcmluZyBleHByZXNzaW9uLiBSZWZlciB0byB0aGUgZmlsdGVyXG4gICAgICogZG9jdW1lbnRhdGlvbiByZWZlcmVuY2UgZm9yIHRoZSBzeW50YXgsIG9yXG4gICAgICogYHtAbGluayBCbG9ja2luZ0ZpbHRlci5maWx0ZXJIZWFkZXJzfWAgZm9yIHRoZSByZWZlcmVuY2VcbiAgICAgKiBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKiBAdHlwZSB7P0h0dHBIZWFkZXJ9XG4gICAgICovXG4gICAgdGhpcy5oZWFkZXIgPSBoZWFkZXIgIT0gbnVsbCA/IGhlYWRlciA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgaW50ZXJuYWwgcmVzb3VyY2UgdG8gd2hpY2ggdG8gcmV3cml0ZSB0aGVcbiAgICAgKiBVUkwuIGUuZy4gaWYgdGhlIHZhbHVlIG9mIHRoZSBgJHJld3JpdGVgIG9wdGlvbiBpc1xuICAgICAqIGBhYnAtcmVzb3VyY2U6YmxhbmstaHRtbGAsIHRoaXMgc2hvdWxkIGJlIGBibGFuay1odG1sYC5cbiAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnJld3JpdGUgPSByZXdyaXRlICE9IG51bGwgPyByZXdyaXRlIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFBhdHRlcm4gZm9yIG1hdGNoaW5nIHJlcXVlc3QgVVJMc1xuICAgICAqIEB0eXBlIHtQYXR0ZXJufVxuICAgICAqL1xuICAgIHRoaXMudXJsUGF0dGVybiA9IG5ldyBQYXR0ZXJuKHJlZ2V4cFNvdXJjZSwgbWF0Y2hDYXNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHByZXNzaW9uIGZyb20gd2hpY2ggYSByZWd1bGFyIGV4cHJlc3Npb24gc2hvdWxkIGJlIGdlbmVyYXRlZCAtXG4gICAqIGZvciBkZWxheWVkIGNyZWF0aW9uIG9mIHRoZSByZWdleHAgcHJvcGVydHkuXG4gICAqXG4gICAqIFVuZGVmaW5lZCBpZiB0aGUgZmlsdGVyIHVzZXMgYSByZWdleCBsaXRlcmFsIHBhdHRlcm4uXG4gICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgKiBAZGVwcmVjYXRlZCBVc2UgPGNvZGU+ZmlsdGVyLnVybFBhdHRlcm4ucGF0dGVybjwvY29kZT4sIG9yIG90aGVyXG4gICAqIGZ1bmN0aW9ucyBhdmFpbGFibGUgb24gPGNvZGU+e0BsaW5rIG1vZHVsZTpwYXR0ZXJucy5QYXR0ZXJufTwvY29kZT4uXG4gICAqL1xuICBnZXQgcGF0dGVybigpIHtcbiAgICByZXR1cm4gdGhpcy51cmxQYXR0ZXJuLnBhdHRlcm47XG4gIH1cblxuICAvKipcbiAgICogUmVndWxhciBleHByZXNzaW9uIHRvIGJlIHVzZWQgd2hlbiB0ZXN0aW5nIGFnYWluc3QgdGhpcyBwYXR0ZXJuXG4gICAqIEB0eXBlIHtSZWdFeHB9XG4gICAqIEBkZXByZWNhdGVkIFVzZSA8Y29kZT5maWx0ZXIudXJsUGF0dGVybi5yZWdleHA8L2NvZGU+LCBvciBvdGhlclxuICAgKiBmdW5jdGlvbnMgYXZhaWxhYmxlIG9uIDxjb2RlPntAbGluayBtb2R1bGU6cGF0dGVybnMuUGF0dGVybn08L2NvZGU+LlxuICAgKi9cbiAgZ2V0IHJlZ2V4cCgpIHtcbiAgICByZXR1cm4gdGhpcy51cmxQYXR0ZXJuLnJlZ2V4cDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHdoZXRoZXIgdGhlIGZpbHRlciBzaG91bGQgZGlzdGluZ3Vpc2ggYmV0d2VlbiBsb3dlciBhbmRcbiAgICogdXBwZXIgY2FzZSBsZXR0ZXJzXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IG1hdGNoQ2FzZSgpIHtcbiAgICByZXR1cm4gdGhpcy51cmxQYXR0ZXJuLm1hdGNoQ2FzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIEFjdGl2ZUZpbHRlci5kb21haW5TZXBhcmF0b3JcbiAgICovXG4gIGdldCBkb21haW5TZXBhcmF0b3IoKSB7XG4gICAgcmV0dXJuIFwifFwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgQWN0aXZlRmlsdGVyLnNpdGVrZXlzXG4gICAqL1xuICBnZXQgc2l0ZWtleXMoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9zaXRla2V5cyA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLl9zaXRla2V5cyA9IHRoaXMuX3NpdGVrZXlTb3VyY2Uuc3BsaXQoXCJ8XCIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9zaXRla2V5cztcbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIEFjdGl2ZUZpbHRlci5zaXRla2V5U291cmNlXG4gICAqL1xuICBnZXQgc2l0ZWtleVNvdXJjZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2l0ZWtleVNvdXJjZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0cyB3aGV0aGVyIHRoZSBVUkwgcmVxdWVzdCBtYXRjaGVzIHRoaXMgZmlsdGVyXG4gICAqIEBwYXJhbSB7bW9kdWxlOnVybC5VUkxSZXF1ZXN0fSByZXF1ZXN0IFVSTCByZXF1ZXN0IHRvIGJlIHRlc3RlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gdHlwZU1hc2sgYml0bWFzayBvZiBjb250ZW50IC8gcmVxdWVzdCB0eXBlcyB0byBtYXRjaFxuICAgKiBAcGFyYW0gez9zdHJpbmd9IFtzaXRla2V5XSBwdWJsaWMga2V5IHByb3ZpZGVkIGJ5IHRoZSBkb2N1bWVudFxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGluIGNhc2Ugb2YgYSBtYXRjaFxuICAgKi9cbiAgbWF0Y2hlcyhyZXF1ZXN0LCB0eXBlTWFzaywgc2l0ZWtleSkge1xuICAgIGxldCBjb250ZXh0TWFzayA9IHR5cGVNYXNrICYgQ09OVEVYVF9UWVBFUztcbiAgICBsZXQgcmVzb3VyY2VNYXNrID0gdHlwZU1hc2sgJiB+Q09OVEVYVF9UWVBFUztcbiAgICByZXR1cm4gKHRoaXMuY29udGVudFR5cGUgJiByZXNvdXJjZU1hc2spICE9IDAgJiZcbiAgICAgIChjb250ZXh0TWFzayA9PSAwID9cbiAgICAgICAodGhpcy5jb250ZW50VHlwZSAmIENPTlRFWFRfVFlQRVMpID09IDAgOlxuICAgICAgICh0aGlzLmNvbnRlbnRUeXBlICYgY29udGV4dE1hc2spICE9IDBcbiAgICAgICkgJiZcbiAgICAgICh0aGlzLnRoaXJkUGFydHkgPT0gbnVsbCB8fCB0aGlzLnRoaXJkUGFydHkgPT0gcmVxdWVzdC50aGlyZFBhcnR5KSAmJlxuICAgICAgKHRoaXMudXJsUGF0dGVybi5yZWdleHAgP1xuICAgICAgIHRoaXMuaXNBY3RpdmVPbkRvbWFpbihyZXF1ZXN0LmRvY3VtZW50SG9zdG5hbWUsIHNpdGVrZXkpICYmXG4gICAgICAgdGhpcy51cmxQYXR0ZXJuLm1hdGNoZXNMb2NhdGlvbihyZXF1ZXN0KSA6XG4gICAgICAgdGhpcy51cmxQYXR0ZXJuLm1hdGNoZXNMb2NhdGlvbihyZXF1ZXN0KSAmJlxuICAgICAgIHRoaXMuaXNBY3RpdmVPbkRvbWFpbihyZXF1ZXN0LmRvY3VtZW50SG9zdG5hbWUsIHNpdGVrZXkpKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgVVJMIGZpbHRlciBmcm9tIGl0cyB0ZXh0IHJlcHJlc2VudGF0aW9uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZpbHRlclRleHQgICBzYW1lIGFzIGluIEZpbHRlcigpXG4gKiBAcmV0dXJuIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXJ9XG4gKi9cbmV4cG9ydHMuVVJMRmlsdGVyLmZyb21UZXh0ID0gZnVuY3Rpb24oZmlsdGVyVGV4dCkge1xuICBsZXQgcmVzdWx0ID0gcGFyc2UoZmlsdGVyVGV4dCk7XG5cbiAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEZpbHRlclBhcnNpbmdFcnJvcikge1xuICAgIGxldCBvcHRpb24gPSBudWxsO1xuICAgIGlmIChyZXN1bHQubWVzc2FnZSA9PSBcImZpbHRlcl91bmtub3duX29wdGlvblwiICYmIHJlc3VsdC5kZXRhaWwpIHtcbiAgICAgIG9wdGlvbiA9IHJlc3VsdC5kZXRhaWwub3B0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEludmFsaWRGaWx0ZXIoZmlsdGVyVGV4dCwgcmVzdWx0Lm1lc3NhZ2UsIG9wdGlvbik7XG4gIH1cblxuICBsZXQge1xuICAgIGJsb2NraW5nLFxuICAgIHRleHQsXG4gICAgcmVnZXhwU291cmNlLFxuICAgIGNvbnRlbnRUeXBlLFxuICAgIG1hdGNoQ2FzZSxcbiAgICBkb21haW5zLFxuICAgIHRoaXJkUGFydHksXG4gICAgc2l0ZWtleXMsXG4gICAgaGVhZGVyLFxuICAgIHJld3JpdGUsXG4gICAgY3NwXG4gIH0gPSByZXN1bHQ7XG5cbiAgdHJ5IHtcbiAgICBpZiAoYmxvY2tpbmcpIHtcbiAgICAgIHJldHVybiBuZXcgQmxvY2tpbmdGaWx0ZXIoXG4gICAgICAgIHRleHQsXG4gICAgICAgIHJlZ2V4cFNvdXJjZSxcbiAgICAgICAgY29udGVudFR5cGUsXG4gICAgICAgIG1hdGNoQ2FzZSxcbiAgICAgICAgZG9tYWlucyxcbiAgICAgICAgdGhpcmRQYXJ0eSxcbiAgICAgICAgc2l0ZWtleXMsXG4gICAgICAgIGhlYWRlcixcbiAgICAgICAgcmV3cml0ZSxcbiAgICAgICAgY3NwXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEFsbG93aW5nRmlsdGVyKFxuICAgICAgdGV4dCxcbiAgICAgIHJlZ2V4cFNvdXJjZSxcbiAgICAgIGNvbnRlbnRUeXBlLFxuICAgICAgbWF0Y2hDYXNlLFxuICAgICAgZG9tYWlucyxcbiAgICAgIHRoaXJkUGFydHksXG4gICAgICBzaXRla2V5cyxcbiAgICAgIGhlYWRlclxuICAgICk7XG4gIH1cbiAgY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbmV3IEludmFsaWRGaWx0ZXIoZmlsdGVyVGV4dCwgXCJmaWx0ZXJfaW52YWxpZF9yZWdleHBcIik7XG4gIH1cbn07XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIDxjb2RlPntAbGluayBjb250ZW50VHlwZXN9PC9jb2RlPiBpbnN0ZWFkLlxuICogQHNlZSBjb250ZW50VHlwZXNcbiAqL1xuLy8gRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuVVJMRmlsdGVyLnR5cGVNYXAgPSBjb250ZW50VHlwZXM7XG5cbmxldCBCbG9ja2luZ0ZpbHRlciA9XG4vKipcbiAqIENsYXNzIGZvciBibG9ja2luZyBmaWx0ZXJzXG4gKiBAZXh0ZW5kcyBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXJcbiAqL1xuZXhwb3J0cy5CbG9ja2luZ0ZpbHRlciA9IGNsYXNzIEJsb2NraW5nRmlsdGVyIGV4dGVuZHMgVVJMRmlsdGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IHNlZSB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuRmlsdGVyIEZpbHRlcigpfVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVnZXhwU291cmNlIHNlZVxuICAgKiAgIHtAbGluayBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXIgVVJMRmlsdGVyKCl9XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbY29udGVudFR5cGVdIHNlZVxuICAgKiAgIHtAbGluayBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXIgVVJMRmlsdGVyKCl9XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW21hdGNoQ2FzZV0gc2VlXG4gICAqICAge0BsaW5rIG1vZHVsZTpmaWx0ZXJDbGFzc2VzLlVSTEZpbHRlciBVUkxGaWx0ZXIoKX1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkb21haW5zXSBzZWVcbiAgICogICB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuVVJMRmlsdGVyIFVSTEZpbHRlcigpfVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt0aGlyZFBhcnR5XSBzZWVcbiAgICogICB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuVVJMRmlsdGVyIFVSTEZpbHRlcigpfVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NpdGVrZXlzXSBzZWVcbiAgICogICB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuVVJMRmlsdGVyIFVSTEZpbHRlcigpfVxuICAgKiBAcGFyYW0gez9IdHRwSGVhZGVyfSBbaGVhZGVyXSBzZWVcbiAgICogICB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuVVJMRmlsdGVyIFVSTEZpbHRlcigpfVxuICAgKiBAcGFyYW0gez9zdHJpbmd9IFtyZXdyaXRlXVxuICAgKiAgIFRoZSBuYW1lIG9mIHRoZSBpbnRlcm5hbCByZXNvdXJjZSB0byB3aGljaCB0byByZXdyaXRlIHRoZVxuICAgKiAgIFVSTC4gZS5nLiBpZiB0aGUgdmFsdWUgb2YgdGhlIGAkcmV3cml0ZWAgb3B0aW9uIGlzXG4gICAqICAgYGFicC1yZXNvdXJjZTpibGFuay1odG1sYCwgdGhpcyBzaG91bGQgYmUgYGJsYW5rLWh0bWxgLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IFtjc3BdXG4gICAqICAgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgdG8gaW5qZWN0IHdoZW4gdGhlIGZpbHRlciBtYXRjaGVzXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0ZXh0LCByZWdleHBTb3VyY2UsIGNvbnRlbnRUeXBlLCBtYXRjaENhc2UsIGRvbWFpbnMsIHRoaXJkUGFydHksXG4gICAgICAgICAgICAgIHNpdGVrZXlzLCBoZWFkZXIsIHJld3JpdGUsIGNzcCkge1xuICAgIHN1cGVyKFxuICAgICAgdGV4dCxcbiAgICAgIHJlZ2V4cFNvdXJjZSxcbiAgICAgIGNvbnRlbnRUeXBlLFxuICAgICAgbWF0Y2hDYXNlLFxuICAgICAgZG9tYWlucyxcbiAgICAgIHRoaXJkUGFydHksXG4gICAgICBzaXRla2V5cyxcbiAgICAgIGhlYWRlcixcbiAgICAgIHJld3JpdGVcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogQ29udGVudCBTZWN1cml0eSBQb2xpY3kgdG8gaW5qZWN0IGZvciBtYXRjaGluZyByZXF1ZXN0cy5cbiAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmNzcCA9IGNzcCAhPSBudWxsID8gY3NwIDogbnVsbDtcbiAgfVxuXG4gIGdldCB0eXBlKCkge1xuICAgIHJldHVybiBcImJsb2NraW5nXCI7XG4gIH1cblxuICBnZXQgcmVxdWlyZXNQcml2aWxlZ2VkU3Vic2NyaXB0aW9uKCkge1xuICAgIHJldHVybiAodGhpcy5jb250ZW50VHlwZSAmIGNvbnRlbnRUeXBlcy5IRUFERVIpICE9IDA7XG4gIH1cblxuICAvKipcbiAgICogUmV3cml0ZXMgYW4gVVJMLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIHRoZSBVUkwgdG8gcmV3cml0ZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSByZXdyaXR0ZW4gVVJMLCBvciB0aGUgb3JpZ2luYWwgaW4gY2FzZSBvZiBmYWlsdXJlXG4gICAqL1xuICByZXdyaXRlVXJsKHVybCkge1xuICAgIHJldHVybiByZXNvdXJjZU1hcC5nZXQodGhpcy5yZXdyaXRlKSB8fCB1cmw7XG4gIH1cblxuICAvKipcbiAgICogRmlsdGVyIGhlYWRlcnMuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gd291bGQgYmUgY2FsbGVkIGJ5IHRoZSByZXF1ZXN0IGJsb2NrZXIgY29kZSBhZnRlclxuICAgKiBtYXRjaGluZyB0aGUgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHt3ZWJSZXF1ZXN0Lkh0dHBIZWFkZXJzfSBoZWFkZXJzIHRoZSBIVFRQIHJlc3BvbnNlIGhlYWRlcnNcbiAgICogICB0byBtYXRjaCwgYXMgdGhleSBhcmUgcmV0dXJuZWQgYnkgdGhlIHJlcXVlc3QgYmxvY2tlci4gVGhleVxuICAgKiAgIGZvbGxvdyB0aGUge0BsaW5rIHdlYlJlcXVlc3QgQVBJXG4gICAqICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Nb3ppbGxhL0FkZC1vbnMvV2ViRXh0ZW5zaW9ucy9BUEkvd2ViUmVxdWVzdC9IdHRwSGVhZGVyc30uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGhlYWRlcnMgbWF0Y2guIFdpbGwgcmV0dXJuIHRydWUgaWZcbiAgICogICB0aGVyZSBpcyBub3RoaW5nIHRvIG1hdGNoIGFnYWluc3QsIG9yIGlmIHRoZSBoZWFkZXIgaXMgcHJlc2VudFxuICAgKiAgIGJ1dCBubyB2YWx1ZS5cbiAgICovXG4gIGZpbHRlckhlYWRlcnMoaGVhZGVycykge1xuICAgIGlmICghdGhpcy5oZWFkZXIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGhlYWRlciBvZiBoZWFkZXJzKSB7XG4gICAgICBpZiAoaGVhZGVyLm5hbWUudG9Mb3dlckNhc2UoKSA9PSB0aGlzLmhlYWRlci5uYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmhlYWRlci52YWx1ZSkge1xuICAgICAgICAgIGlmIChoZWFkZXIudmFsdWUuaW5jbHVkZXModGhpcy5oZWFkZXIudmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmxldCBBbGxvd2luZ0ZpbHRlciA9XG4vKipcbiAqIENsYXNzIGZvciBhbGxvd2luZyAoYWxsb3dsaXN0aW5nKSBmaWx0ZXJzXG4gKiBAZXh0ZW5kcyBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXJcbiAqL1xuZXhwb3J0cy5BbGxvd2luZ0ZpbHRlciA9IGNsYXNzIEFsbG93aW5nRmlsdGVyIGV4dGVuZHMgVVJMRmlsdGVyIHtcbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIFwiYWxsb3dpbmdcIjtcbiAgfVxufTtcblxubGV0IENvbnRlbnRGaWx0ZXIgPVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBjb250ZW50IGZpbHRlcnNcbiAqIEBleHRlbmRzIG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkFjdGl2ZUZpbHRlclxuICovXG5leHBvcnRzLkNvbnRlbnRGaWx0ZXIgPSBjbGFzcyBDb250ZW50RmlsdGVyIGV4dGVuZHMgQWN0aXZlRmlsdGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IHNlZSB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuRmlsdGVyIEZpbHRlcigpfVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RvbWFpbnNdIEhvc3QgbmFtZXMgb3IgZG9tYWlucyB0aGUgZmlsdGVyIHNob3VsZCBiZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RyaWN0ZWQgdG9cbiAgICogQHBhcmFtIHtzdHJpbmd9IGJvZHkgICAgICBUaGUgYm9keSBvZiB0aGUgZmlsdGVyIG9yIHRoZSBzY3JpcHQgdGhhdCBzaG91bGRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBleGVjdXRlZCBvciB0aGUgQ1NTIHNlbGVjdG9yIGZvciB0aGUgSFRNTFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzIHRoYXQgc2hvdWxkIGJlIGhpZGRlblxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3IodGV4dCwgZG9tYWlucywgYm9keSkge1xuICAgIHN1cGVyKHRleHQsIGRvbWFpbnMgfHwgbnVsbCk7XG5cbiAgICB0aGlzLmJvZHkgPSBib2R5O1xuICB9XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjb250ZW50IGZpbHRlciBmcm9tIGEgcHJlLXBhcnNlZCB0ZXh0IHJlcHJlc2VudGF0aW9uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgICAgICAgICBzYW1lIGFzIGluIEZpbHRlcigpXG4gKiBAcGFyYW0ge3N0cmluZ30gW2RvbWFpbnNdXG4gKiAgIGRvbWFpbnMgcGFydCBvZiB0aGUgdGV4dCByZXByZXNlbnRhdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlXVxuICogICBydWxlIHR5cGUsIGVpdGhlcjpcbiAqICAgICAqIFwiXCIgZm9yIGFuIGVsZW1lbnQgaGlkaW5nIGZpbHRlclxuICogICAgICogXCJAXCIgZm9yIGFuIGVsZW1lbnQgaGlkaW5nIGV4Y2VwdGlvbiBmaWx0ZXJcbiAqICAgICAqIFwiP1wiIGZvciBhbiBlbGVtZW50IGhpZGluZyBlbXVsYXRpb24gZmlsdGVyXG4gKiAgICAgKiBcIiRcIiBmb3IgYSBzbmlwcGV0IGZpbHRlclxuICogQHBhcmFtIHtzdHJpbmd9IGJvZHlcbiAqICAgYm9keSBwYXJ0IG9mIHRoZSB0ZXh0IHJlcHJlc2VudGF0aW9uLCBlaXRoZXIgYSBDU1Mgc2VsZWN0b3Igb3IgYSBzbmlwcGV0XG4gKiAgIHNjcmlwdFxuICogQHJldHVybiB7bW9kdWxlOmZpbHRlckNsYXNzZXMuRWxlbUhpZGVGaWx0ZXJ8XG4gKiAgICAgICAgICBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5FbGVtSGlkZUV4Y2VwdGlvbnxcbiAqICAgICAgICAgIG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkVsZW1IaWRlRW11bGF0aW9uRmlsdGVyfFxuICogICAgICAgICAgbW9kdWxlOmZpbHRlckNsYXNzZXMuU25pcHBldEZpbHRlcnxcbiAqICAgICAgICAgIG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkludmFsaWRGaWx0ZXJ9XG4gKi9cbmV4cG9ydHMuQ29udGVudEZpbHRlci5mcm9tVGV4dCA9IGZ1bmN0aW9uKHRleHQsIGRvbWFpbnMsIHR5cGUsIGJvZHkpIHtcbiAgLy8gV2UgZG9uJ3QgYWxsb3cgY29udGVudCBmaWx0ZXJzIHdoaWNoIGhhdmUgYW55IGVtcHR5IGRvbWFpbnMuXG4gIC8vIE5vdGU6IFRoZSBDb250ZW50RmlsdGVyLnByb3RvdHlwZS5kb21haW5TZXBhcmF0b3IgaXMgZHVwbGljYXRlZCBoZXJlLCBpZlxuICAvLyB0aGF0IGNoYW5nZXMgdGhpcyBtdXN0IGJlIGNoYW5nZWQgdG9vLlxuICBpZiAoZG9tYWlucyAmJiAvKF58LCl+PygsfCQpLy50ZXN0KGRvbWFpbnMpKSB7XG4gICAgcmV0dXJuIG5ldyBJbnZhbGlkRmlsdGVyKHRleHQsIFwiZmlsdGVyX2ludmFsaWRfZG9tYWluXCIpO1xuICB9XG5cbiAgbGV0IHJlc3RyaWN0ZWRCeURvbWFpbiA9IC8sW15+XVteLC5dKlxcLlteLF0vLnRlc3QoXCIsXCIgKyBkb21haW5zKSB8fFxuICAgICAgKFwiLFwiICsgZG9tYWlucyArIFwiLFwiKS5pbmNsdWRlcyhcIixsb2NhbGhvc3QsXCIpO1xuXG4gIGlmICh0eXBlID09IFwiJFwiKSB7XG4gICAgLy8gRWxlbWVudCBoaWRpbmcgZW11bGF0aW9uIGFuZCBzbmlwcGV0IGZpbHRlcnMgYXJlIGluZWZmaWNpZW50IHNvIHdlIG5lZWRcbiAgICAvLyB0byBtYWtlIHN1cmUgdGhhdCB0aGV5J3JlIG9ubHkgYXBwbGllZCBpZiB0aGV5IHNwZWNpZnkgYWN0aXZlIGRvbWFpbnMuXG4gICAgLy8gVGhlIG9ubHkgZXhjZXB0aW9uIGlzIFwiaGlkZS1pZi1jbGFzc2lmaWVzXCIgc25pcHBldCAoRUUtMTM4KS5cblxuICAgIGxldCBzbmlwcGV0RmlsdGVyID0gbmV3IFNuaXBwZXRGaWx0ZXIodGV4dCwgZG9tYWlucywgYm9keSk7XG4gICAgaWYgKCFyZXN0cmljdGVkQnlEb21haW4gJiYgIXNuaXBwZXRGaWx0ZXIuc2NyaXB0LnN0YXJ0c1dpdGgoXCJoaWRlLWlmLWNsYXNzaWZpZXNcIikpIHtcbiAgICAgIHJldHVybiBuZXcgSW52YWxpZEZpbHRlcih0ZXh0LCBcImZpbHRlcl9zbmlwcGV0X25vZG9tYWluXCIpO1xuICAgIH1cbiAgICByZXR1cm4gc25pcHBldEZpbHRlcjtcbiAgfVxuXG4gIGxldCBzZWxlY3RvciA9IGJvZHk7XG4gIGxldCBwcm9wZXJ0aWVzTGlzdDtcbiAgbGV0IGNzcyA9IG51bGw7XG4gIGxldCByZW1vdmUgPSBmYWxzZTtcblxuICBpZiAoc2VsZWN0b3Iuc3RhcnRzV2l0aChcIkBcIikgJiYgaXNGZWF0dXJlRW5hYmxlZChcImlubGluZUNzc1wiKSkge1xuICAgIHJldHVybiBuZXcgSW52YWxpZEZpbHRlcih0ZXh0LCBcImZpbHRlcl9lbGVtaGlkZV9pbnZhbGlkX3NlbGVjdG9yXCIpO1xuICB9XG5cbiAgbGV0IHByb3BlcnRpZXNMaXN0RXh0cmFjdGluZ1Jlc3VsdCA9IC9eKC4qW14gXSkgK3soW157XSopfSQvLmV4ZWMoYm9keSk7XG4gIGlmIChwcm9wZXJ0aWVzTGlzdEV4dHJhY3RpbmdSZXN1bHQpIHtcbiAgICBbLCBzZWxlY3RvciwgcHJvcGVydGllc0xpc3RdID0gcHJvcGVydGllc0xpc3RFeHRyYWN0aW5nUmVzdWx0O1xuICAgIHByb3BlcnRpZXNMaXN0ID0gcHJvcGVydGllc0xpc3QudG9Mb3dlckNhc2UoKTtcbiAgICByZW1vdmUgPSBwcm9wZXJ0aWVzTGlzdC5pbmNsdWRlcyhcInJlbW92ZTp0cnVlO1wiKTtcblxuICAgIGlmICghcmVtb3ZlKSB7XG4gICAgICBpZiAoIWlzRmVhdHVyZUVuYWJsZWQoXCJpbmxpbmVDc3NcIikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkRmlsdGVyKHRleHQsIFwiZmlsdGVyX3Vua25vd25fb3B0aW9uXCIpO1xuICAgICAgfVxuICAgICAgY3NzID0gZXh0cmFjdENTU1Byb3BlcnRpZXMocHJvcGVydGllc0xpc3QpO1xuICAgICAgaWYgKCF2ZXJpZnlDU1NQcm9wZXJ0aWVzKGNzcykpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkRmlsdGVyKHRleHQsIFwiZmlsdGVyX2VsZW1oaWRlX2ludmFsaWRfaW5saW5lX2Nzc1wiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG5cbiAgaWYgKHR5cGUgPT0gXCI/XCIpIHtcbiAgICBpZiAoIXJlc3RyaWN0ZWRCeURvbWFpbikge1xuICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkRmlsdGVyKHRleHQsIFwiZmlsdGVyX2VsZW1oaWRlZW11bGF0aW9uX25vZG9tYWluXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRWxlbUhpZGVFbXVsYXRpb25GaWx0ZXIodGV4dCwgZG9tYWlucywgc2VsZWN0b3IsIHJlbW92ZSwgY3NzKTtcbiAgfVxuXG4gIGlmICghcmVzdHJpY3RlZEJ5RG9tYWluICYmXG4gICAgICBib2R5Lmxlbmd0aCA8IE1JTl9HRU5FUklDX0NPTlRFTlRfRklMVEVSX0JPRFlfTEVOR1RIKSB7XG4gICAgcmV0dXJuIG5ldyBJbnZhbGlkRmlsdGVyKHRleHQsIFwiZmlsdGVyX2VsZW1oaWRlX25vdF9zcGVjaWZpY19lbm91Z2hcIik7XG4gIH1cblxuICBpZiAodHlwZSA9PSBcIkBcIikge1xuICAgIHJldHVybiBuZXcgRWxlbUhpZGVFeGNlcHRpb24odGV4dCwgZG9tYWlucywgc2VsZWN0b3IpO1xuICB9XG5cbiAgaWYgKHJlbW92ZSB8fCBjc3MpIHtcbiAgICAvLyBSZW1vdmUgaXMgb25seSBpbXBsZW1lbnRlZCBmb3IgZWxlbWhpZGUgZW11bGF0aW9uIGZpbHRlcnMsIHNvIGlmIHdlIHdhbnRcbiAgICAvLyBpdCB0byB3b3JrIG9uIGFuIGVsZW1oaWRlIGZpbHRlciB0aGVuIGl0IG5lZWRzIHRvIGluc3RhbnRpYXRlIGFuIGVsZW1oaWRlXG4gICAgLy8gZW11bGF0aW9uIGZpbHRlciBpbnN0ZWFkLlxuICAgIC8vXG4gICAgLy8gSW5saW5lIENTUyBpcyBhbHNvIGN1cnJlbnRseSBvbmx5IGltcGxlbWVudGVkIGZvclxuICAgIC8vIEVsZW1IaWRlRW11bGF0aW9uRmlsdGVyLCBidXQgc2hvdWxkIGJlIGltcGxlbWVudGVkIGZvciBub3JtYWxcbiAgICAvLyBFbGVtSGlkZUZpbHRlciBsYXRlci5cbiAgICByZXR1cm4gbmV3IEVsZW1IaWRlRW11bGF0aW9uRmlsdGVyKHRleHQsIGRvbWFpbnMsIHNlbGVjdG9yLCByZW1vdmUsIGNzcyk7XG4gIH1cblxuICByZXR1cm4gbmV3IEVsZW1IaWRlRmlsdGVyKHRleHQsIGRvbWFpbnMsIHNlbGVjdG9yKTtcbn07XG5cbmZ1bmN0aW9uIGV4dHJhY3RDU1NQcm9wZXJ0aWVzKHByb3BlcnRpZXNMaXN0KSB7XG4gIGNvbnN0IGltcG9ydGFudEZsYWcgPSBcIiFpbXBvcnRhbnRcIjtcblxuICBjb25zdCBwcm9wZXJ0aWVzID0gcHJvcGVydGllc0xpc3Quc3BsaXQoXCI7XCIpO1xuICBsZXQgY3NzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICBmb3IgKGNvbnN0IHByb3BlcnR5IG9mIHByb3BlcnRpZXMpIHtcbiAgICBpZiAoIXByb3BlcnR5KSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBsZXQgY29sb25JbmRleCA9IHByb3BlcnR5LmluZGV4T2YoXCI6XCIpO1xuXG4gICAgbGV0IG5hbWU7XG4gICAgbGV0IHZhbHVlO1xuXG4gICAgaWYgKGNvbG9uSW5kZXggPCAwKSB7XG4gICAgICBuYW1lID0gcHJvcGVydHk7XG4gICAgICB2YWx1ZSA9IFwiXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbmFtZSA9IHByb3BlcnR5LnN1YnN0cmluZygwLCBjb2xvbkluZGV4KTtcbiAgICAgIHZhbHVlID0gcHJvcGVydHkuc3Vic3RyaW5nKGNvbG9uSW5kZXggKyAxKTtcbiAgICB9XG5cbiAgICBuYW1lID0gbmFtZS50cmltKCk7XG4gICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG5cbiAgICBpZiAodmFsdWUuZW5kc1dpdGgoaW1wb3J0YW50RmxhZykpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIGltcG9ydGFudEZsYWcubGVuZ3RoKS50cmltRW5kKCk7XG4gICAgfVxuXG4gICAgY3NzW25hbWVdID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gY3NzO1xufVxuXG5sZXQgRWxlbUhpZGVCYXNlID1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgZWxlbWVudCBoaWRpbmcgZmlsdGVyc1xuICogQGV4dGVuZHMgbW9kdWxlOmZpbHRlckNsYXNzZXMuQ29udGVudEZpbHRlclxuICovXG5leHBvcnRzLkVsZW1IaWRlQmFzZSA9IGNsYXNzIEVsZW1IaWRlQmFzZSBleHRlbmRzIENvbnRlbnRGaWx0ZXIge1xuICAvKipcbiAgICogQ1NTIHNlbGVjdG9yIGZvciB0aGUgSFRNTCBlbGVtZW50cyB0aGF0IHNob3VsZCBiZSBoaWRkZW5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIGdldCBzZWxlY3RvcigpIHtcbiAgICByZXR1cm4gdGhpcy5ib2R5O1xuICB9XG59O1xuXG5sZXQgRWxlbUhpZGVGaWx0ZXIgPVxuLyoqXG4gKiBDbGFzcyBmb3IgZWxlbWVudCBoaWRpbmcgZmlsdGVyc1xuICogQGV4dGVuZHMgbW9kdWxlOmZpbHRlckNsYXNzZXMuRWxlbUhpZGVCYXNlXG4gKi9cbmV4cG9ydHMuRWxlbUhpZGVGaWx0ZXIgPSBjbGFzcyBFbGVtSGlkZUZpbHRlciBleHRlbmRzIEVsZW1IaWRlQmFzZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBzZWUge0BsaW5rIG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkZpbHRlciBGaWx0ZXIoKX1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkb21haW5zXSAgc2VlXG4gICAqICAge0BsaW5rIG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkVsZW1IaWRlQmFzZSBFbGVtSGlkZUJhc2UoKX1cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIHNlZVxuICAgKiAgIHtAbGluayBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5FbGVtSGlkZUJhc2UgRWxlbUhpZGVCYXNlKCl9XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0ZXh0LCBkb21haW5zLCBzZWxlY3Rvcikge1xuICAgIHN1cGVyKHRleHQsIGRvbWFpbnMsIHNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldCB0eXBlKCkge1xuICAgIHJldHVybiBcImVsZW1oaWRlXCI7XG4gIH1cbn07XG5cbmxldCBFbGVtSGlkZUV4Y2VwdGlvbiA9XG4vKipcbiAqIENsYXNzIGZvciBlbGVtZW50IGhpZGluZyBleGNlcHRpb25zXG4gKiBAZXh0ZW5kcyBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5FbGVtSGlkZUJhc2VcbiAqL1xuZXhwb3J0cy5FbGVtSGlkZUV4Y2VwdGlvbiA9IGNsYXNzIEVsZW1IaWRlRXhjZXB0aW9uIGV4dGVuZHMgRWxlbUhpZGVCYXNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IHNlZSB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuRmlsdGVyIEZpbHRlcigpfVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RvbWFpbnNdICBzZWVcbiAgICogICB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuRWxlbUhpZGVCYXNlIEVsZW1IaWRlQmFzZSgpfVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3Igc2VlXG4gICAqICAge0BsaW5rIG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkVsZW1IaWRlQmFzZSBFbGVtSGlkZUJhc2UoKX1cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRleHQsIGRvbWFpbnMsIHNlbGVjdG9yKSB7XG4gICAgc3VwZXIodGV4dCwgZG9tYWlucywgc2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIFwiZWxlbWhpZGVleGNlcHRpb25cIjtcbiAgfVxufTtcblxubGV0IEVsZW1IaWRlRW11bGF0aW9uRmlsdGVyID1cbi8qKlxuICogQ2xhc3MgZm9yIGVsZW1lbnQgaGlkaW5nIGVtdWxhdGlvbiBmaWx0ZXJzXG4gKi9cbmV4cG9ydHMuRWxlbUhpZGVFbXVsYXRpb25GaWx0ZXIgPVxuY2xhc3MgRWxlbUhpZGVFbXVsYXRpb25GaWx0ZXIgZXh0ZW5kcyBFbGVtSGlkZUJhc2Uge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgc2VlIHtAbGluayBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXIgRmlsdGVyKCl9XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkb21haW5zIHNlZVxuICAgKiAgIHtAbGluayBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5FbGVtSGlkZUJhc2UgRWxlbUhpZGVCYXNlKCl9XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciBzZWVcbiAgICogICB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuRWxlbUhpZGVCYXNlIEVsZW1IaWRlQmFzZSgpfVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlbW92ZSBpZiB0aGUgZWxlbWVudCBzaG91bGQgYmUgcmVtb3ZlZCBmcm9tIHRoZSBET01cbiAgICogQHBhcmFtIHs/T2JqZWN0fSBjc3MgS2V5LVZhbHVlIHBhaXJzIG9mIElubGluZSBDU1MgcHJvcGVydGllc1xuICAgKiAgIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBleHRlbmRzIG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkVsZW1IaWRlQmFzZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3IodGV4dCwgZG9tYWlucywgc2VsZWN0b3IsIHJlbW92ZSwgY3NzID0gbnVsbCkge1xuICAgIHN1cGVyKHRleHQsIGRvbWFpbnMsIHNlbGVjdG9yKTtcbiAgICB0aGlzLl9yZW1vdmUgPSByZW1vdmU7XG4gICAgdGhpcy5fY3NzID0gY3NzO1xuICB9XG5cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIFwiZWxlbWhpZGVlbXVsYXRpb25cIjtcbiAgfVxuXG4gIGdldCByZW1vdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlbW92ZTtcbiAgfVxuXG4gIGdldCBjc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NzcztcbiAgfVxuXG4gIGdldCByZXF1aXJlc1ByaXZpbGVnZWRTdWJzY3JpcHRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NzcztcbiAgfVxufTtcblxubGV0IFNuaXBwZXRGaWx0ZXIgPVxuLyoqXG4gKiBDbGFzcyBmb3Igc25pcHBldCBmaWx0ZXJzXG4gKiBAZXh0ZW5kcyBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5Db250ZW50RmlsdGVyXG4gKi9cbmV4cG9ydHMuU25pcHBldEZpbHRlciA9IGNsYXNzIFNuaXBwZXRGaWx0ZXIgZXh0ZW5kcyBDb250ZW50RmlsdGVyIHtcbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIFwic25pcHBldFwiO1xuICB9XG4gIGdldCByZXF1aXJlc1ByaXZpbGVnZWRTdWJzY3JpcHRpb24oKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogU2NyaXB0IHRoYXQgc2hvdWxkIGJlIGV4ZWN1dGVkXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBnZXQgc2NyaXB0KCkge1xuICAgIHJldHVybiB0aGlzLmJvZHk7XG4gIH1cbn07XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgQWRibG9jayBQbHVzIDxodHRwczovL2FkYmxvY2twbHVzLm9yZy8+LFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEFkYmxvY2sgUGx1cy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4vKiogQG1vZHVsZSAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxucmVxdWlyZShcIi4vcG9seWZpbGxcIik7XG5jb25zdCB7cGFyc2VVUkx9ID0gcmVxdWlyZShcIi4vdXJsXCIpO1xuY29uc3Qge0ZpbHRlcn0gPSByZXF1aXJlKFwiLi9maWx0ZXJDbGFzc2VzXCIpO1xuY29uc3Qge25ld0RlZmF1bHRNYXRjaGVyfSA9IHJlcXVpcmUoXCIuL21hdGNoZXJcIik7XG5jb25zdCB7RWxlbUhpZGV9ID0gcmVxdWlyZShcIi4vZWxlbUhpZGVcIik7XG5jb25zdCB7RWxlbUhpZGVFbXVsYXRpb259ID0gcmVxdWlyZShcIi4vZWxlbUhpZGVFbXVsYXRpb25cIik7XG5jb25zdCB7RWxlbUhpZGVFeGNlcHRpb25zfSA9IHJlcXVpcmUoXCIuL2VsZW1IaWRlRXhjZXB0aW9uc1wiKTtcbmNvbnN0IHtzZXRSZWNvbW1lbmRhdGlvbnN9ID0gcmVxdWlyZShcIi4vcmVjb21tZW5kYXRpb25zXCIpO1xuY29uc3Qge1NuaXBwZXRzfSA9IHJlcXVpcmUoXCIuL3NuaXBwZXRzXCIpO1xuY29uc3Qge0ZlYXR1cmVzfSA9IHJlcXVpcmUoXCIuL2ZlYXR1cmVzXCIpO1xuXG4vKipcbiAqIEZpbHRlciBlbmdpbmUuXG4gKi9cbmNsYXNzIEZpbHRlckVuZ2luZSB7XG4gIC8qKlxuICAgKiBAdHlwZWRlZiBGaWx0ZXJFbmdpbmVPcHRpb25zXG4gICAqIEB0eXBlIHtvYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7P0FycmF5LjxvYmplY3Q+fSByZWNvbW1lbmRhdGlvbnMgVGhlIGluZGV4IG9mIGtub3duIGRvd25sb2FkYWJsZVxuICAgKiAgIHN1YnNjcmlwdGlvbnMuXG4gICAqIEBwcm9wZXJ0eSB7P21vZHVsZTpmZWF0dXJlcy5GZWF0dXJlc30gZmVhdHVyZXMgRW5hYmxlIHNwZWNpZmljIGZlYXR1cmVzXG4gICAqL1xuICAvKipcbiAgICogQ3JlYXRlcyBhIGB7QGxpbmsgbW9kdWxlOmZpbHRlckVuZ2luZS5GaWx0ZXJFbmdpbmUgRmlsdGVyRW5naW5lfWBcbiAgICogb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gez9GaWx0ZXJFbmdpbmVPcHRpb25zfSBvcHRpb25zIFRoZSBvcHRpb25zIHRvIGNyZWF0ZSB0aGUgZW5naW5lLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIC8qKiBBY3RpdmF0ZWQgZmVhdHVyZXNcbiAgICAgKiBAdHlwZSB7RmVhdHVyZXN9XG4gICAgICovXG4gICAgdGhpcy5mZWF0dXJlcyA9IG9wdGlvbnMgPyBvcHRpb25zLmZlYXR1cmVzIDogRmVhdHVyZXMuREVGQVVMVDtcblxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVjb21tZW5kYXRpb25zKSB7XG4gICAgICBzZXRSZWNvbW1lbmRhdGlvbnMob3B0aW9ucy5yZWNvbW1lbmRhdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKiBUaGUgYHtAbGluayBtb2R1bGU6ZWxlbUhpZGVFeGNlcHRpb25zLkVsZW1IaWRlRXhjZXB0aW9uc31gIGZvclxuICAgICAqICAgIHRoZSBlbmdpbmUuXG4gICAgICogQHR5cGUge21vZHVsZTplbGVtSGlkZUV4Y2VwdGlvbnMuRWxlbUhpZGVFeGNlcHRpb25zfVxuICAgICAqL1xuICAgIHRoaXMuZWxlbUhpZGVFeGNlcHRpb25zID0gbmV3IEVsZW1IaWRlRXhjZXB0aW9ucygpO1xuICAgIC8qKiBUaGUgYHtAbGluayBtb2R1bGU6ZWxlbUhpZGUuRWxlbUhpZGV9YCBmb3IgdGhlIGVuZ2luZS5cbiAgICAgKiBAdHlwZSB7bW9kdWxlOmVsZW1IaWRlLkVsZW1IaWRlfVxuICAgICAqL1xuICAgIHRoaXMuZWxlbUhpZGUgPSBuZXcgRWxlbUhpZGUodGhpcy5lbGVtSGlkZUV4Y2VwdGlvbnMpO1xuICAgIC8qKiBUaGUgYHtAbGluayBtb2R1bGU6ZWxlbUhpZGVFbXVsYXRpb24uRWxlbUhpZGVFbXVsYXRpb259YCBmb3JcbiAgICAgKiAgICB0aGUgZW5naW5lLlxuICAgICAqIEB0eXBlIHttb2R1bGU6ZWxlbUhpZGVFbXVsYXRpb24uRWxlbUhpZGVFbXVsYXRpb259XG4gICAgICovXG4gICAgdGhpcy5lbGVtSGlkZUVtdWxhdGlvbiA9IG5ldyBFbGVtSGlkZUVtdWxhdGlvbih0aGlzLmVsZW1IaWRlRXhjZXB0aW9ucyk7XG4gICAgLyoqIFRoZSBge0BsaW5rIG1vZHVsZTpzbmlwcGV0cy5TbmlwcGV0c31gIGZvciB0aGUgZW5naW5lLlxuICAgICAqIEB0eXBlIHttb2R1bGU6c25pcHBldHMuU25pcHBldHN9XG4gICAgICovXG4gICAgdGhpcy5zbmlwcGV0cyA9IG5ldyBTbmlwcGV0cygpO1xuICAgIC8qKiBUaGUgYHtAbGluayBtb2R1bGU6bWF0Y2hlci5Db21iaW5lZE1hdGNoZXJ9YCB0byB1c2Ugd2l0aCB0aGUgZW5naW5lLlxuICAgICAqIEB0eXBlIHttb2R1bGU6bWF0Y2hlci5Db21iaW5lZE1hdGNoZXJ9XG4gICAgICovXG4gICAgdGhpcy5kZWZhdWx0TWF0Y2hlciA9IG5ld0RlZmF1bHRNYXRjaGVyKCk7XG5cbiAgICAvKiogVGhlIGB7QGxpbmsgbW9kdWxlOmZpbHRlckxpc3RlbmVyLkZpbHRlckxpc3RlbmVyfWAgdG8gdXNlLlxuICAgICAqIEB0eXBlIHs/bW9kdWxlOmZpbHRlckxpc3RlbmVyLkZpbHRlckxpc3RlbmVyfVxuICAgICAqL1xuICAgIHRoaXMuX2ZpbHRlckxpc3RlbmVyID0gbnVsbDtcbiAgICAvKiogVGhlIGB7QGxpbmsgbW9kdWxlOmZpbHRlclN0b3JhZ2UuRmlsdGVyU3RvcmFnZX1gIHRvIHVzZS5cbiAgICAgKiBAdHlwZSB7P21vZHVsZTpmaWx0ZXJTdG9yYWdlLkZpbHRlclN0b3JhZ2V9XG4gICAgICovXG4gICAgdGhpcy5fZmlsdGVyU3RvcmFnZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcHJvbWlzZSByZXR1cm5lZCBieVxuICAgICAqIGB7QGxpbmsgbW9kdWxlOmZpbHRlckVuZ2luZS5GaWx0ZXJFbmdpbmUjaW5pdGlhbGl6ZX1gLlxuICAgICAqIEB0eXBlIHs/UHJvbWlzZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2luaXRpYWxpemF0aW9uUHJvbWlzZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgYSBge0BsaW5rIG1vZHVsZTpmaWx0ZXJFbmdpbmUuRmlsdGVyRW5naW5lIEZpbHRlckVuZ2luZX1gXG4gICAqIG9iamVjdCB3aXRoIHRoZSBnaXZlbiBmaWx0ZXJzIG9yIGZpbHRlcnMgbG9hZGVkIGZyb20gZGlzay5cbiAgICpcbiAgICogQHBhcmFtIHtJdGVyYWJsZS48c3RyaW5nPn0gW2ZpbHRlclNvdXJjZV0gQW4gaXRlcmFibGUgb2JqZWN0IHRoYXQgeWllbGRzXG4gICAqICAgdGhlIHRleHQgb2YgdGhlIGZpbHRlcnMgd2l0aCB3aGljaCB0byBpbml0aWFsaXplIHRoZVxuICAgKiAgIGB7QGxpbmsgbW9kdWxlOmZpbHRlckVuZ2luZS5GaWx0ZXJFbmdpbmUgRmlsdGVyRW5naW5lfWAgb2JqZWN0LiBJZlxuICAgKiAgIG9taXR0ZWQsIGZpbHRlcnMgYXJlIGxvYWRlZCBmcm9tIGRpc2suXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGUgaW5pdGlhbGl6YXRpb24gaXNcbiAgICogICBjb21wbGV0ZS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgaW5pdGlhbGl6ZShmaWx0ZXJTb3VyY2UpIHtcbiAgICBpZiAoIXRoaXMuX2luaXRpYWxpemF0aW9uUHJvbWlzZSkge1xuICAgICAgaWYgKHR5cGVvZiBmaWx0ZXJTb3VyY2UgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAvLyBOb3RlOiBmaWx0ZXJMaXN0ZW5lci5qcyBhbmQgZmlsdGVyU3RvcmFnZS5qcyBtdXN0IGJlIGxvYWRlZFxuICAgICAgICAvLyBjb25kaXRpb25hbGx5IGhlcmUgaW4gbG9jYWwgc2NvcGUgaW4gb3JkZXIgZm9yIHRoZSBlbmdpbmVcbiAgICAgICAgLy8gdG8gYmUgYWJsZSB0byB3b3JrIGluIHN0YW5kYWxvbmUgbW9kZSB3aXRoIG5vIGRpc2sgYW5kXG4gICAgICAgIC8vIG5ldHdvcmsgSS9PLlxuICAgICAgICBjb25zdCB7RmlsdGVyU3RvcmFnZX0gPSByZXF1aXJlKFwiLi9maWx0ZXJTdG9yYWdlXCIpO1xuICAgICAgICBjb25zdCB7RmlsdGVyTGlzdGVuZXJ9ID0gcmVxdWlyZShcIi4vZmlsdGVyTGlzdGVuZXJcIik7XG4gICAgICAgIHRoaXMuX2ZpbHRlclN0b3JhZ2UgPSBuZXcgRmlsdGVyU3RvcmFnZSh7ZmVhdHVyZXM6IHRoaXMuZmVhdHVyZXN9KTtcbiAgICAgICAgdGhpcy5fZmlsdGVyTGlzdGVuZXIgPSBuZXcgRmlsdGVyTGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6YXRpb25Qcm9taXNlID0gdGhpcy5fZmlsdGVyTGlzdGVuZXIuaW5pdGlhbGl6ZShcbiAgICAgICAgICB0aGlzLCB0aGlzLl9maWx0ZXJTdG9yYWdlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6YXRpb25Qcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgZm9yIChsZXQgdGV4dCBvZiBmaWx0ZXJTb3VyY2UpIHtcbiAgICAgICAgICAgIHRleHQgPSBGaWx0ZXIubm9ybWFsaXplKHRleHQsIHRydWUpO1xuICAgICAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgICAgbGV0IGZpbHRlciA9IEZpbHRlci5mcm9tVGV4dCh0ZXh0KTtcbiAgICAgICAgICAgICAgaWYgKGZpbHRlci50eXBlICE9PSBcImludmFsaWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGZpbHRlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXphdGlvblByb21pc2U7XG4gIH1cblxuICBnZXQgZmlsdGVyU3RvcmFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZmlsdGVyU3RvcmFnZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3RzIHRoZSBhcHByb3ByaWF0ZSBtb2R1bGUgZm9yIHRoZSBnaXZlbiBmaWx0ZXIgdHlwZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgYSBmaWx0ZXIuIFRoaXMgbXVzdCBiZSBvbmUgb2ZcbiAgICogICBgXCJibG9ja2luZ1wiYCwgYFwiYWxsb3dpbmdcImAsIGBcImVsZW1oaWRlXCJgLCBgXCJlbGVtaGlkZWVtdWxhdGlvblwiYCxcbiAgICogICBgXCJlbGVtaGlkZWV4Y2VwdGlvblwiYCwgYW5kIGBcInNuaXBwZXRcImA7IG90aGVyd2lzZSB0aGUgZnVuY3Rpb24gcmV0dXJuc1xuICAgKiAgIGBudWxsYC5cbiAgICpcbiAgICogQHJldHVybnMgez9vYmplY3R9IFRoZSBhcHByb3ByaWF0ZSBtb2R1bGUgZm9yIHRoZSBnaXZlbiBmaWx0ZXIgdHlwZS5cbiAgICovXG4gIHNlbGVjdE1vZHVsZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiYmxvY2tpbmdcIjpcbiAgICAgIGNhc2UgXCJhbGxvd2luZ1wiOlxuICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0TWF0Y2hlcjtcbiAgICAgIGNhc2UgXCJlbGVtaGlkZVwiOlxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtSGlkZTtcbiAgICAgIGNhc2UgXCJlbGVtaGlkZWVtdWxhdGlvblwiOlxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtSGlkZUVtdWxhdGlvbjtcbiAgICAgIGNhc2UgXCJlbGVtaGlkZWV4Y2VwdGlvblwiOlxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtSGlkZUV4Y2VwdGlvbnM7XG4gICAgICBjYXNlIFwic25pcHBldFwiOlxuICAgICAgICByZXR1cm4gdGhpcy5zbmlwcGV0cztcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgbmV3IGZpbHRlci5cbiAgICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5BY3RpdmVGaWx0ZXJ9IGZpbHRlclxuICAgKiBAcGFja2FnZVxuICAgKi9cbiAgYWRkKGZpbHRlcikge1xuICAgIGxldCBtb2R1bGUgPSB0aGlzLnNlbGVjdE1vZHVsZShmaWx0ZXIudHlwZSk7XG4gICAgaWYgKG1vZHVsZSkge1xuICAgICAgbW9kdWxlLmFkZChmaWx0ZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIGV4aXN0aW5nIGZpbHRlci5cbiAgICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5BY3RpdmVGaWx0ZXJ9IGZpbHRlclxuICAgKiBAcGFja2FnZVxuICAgKi9cbiAgcmVtb3ZlKGZpbHRlcikge1xuICAgIGxldCBtb2R1bGUgPSB0aGlzLnNlbGVjdE1vZHVsZShmaWx0ZXIudHlwZSk7XG4gICAgaWYgKG1vZHVsZSkge1xuICAgICAgbW9kdWxlLnJlbW92ZShmaWx0ZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciBhIGZpbHRlciBleGlzdHMuXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuQWN0aXZlRmlsdGVyfSBmaWx0ZXJcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBoYXMoZmlsdGVyKSB7XG4gICAgbGV0IG1vZHVsZSA9IHRoaXMuc2VsZWN0TW9kdWxlKGZpbHRlci50eXBlKTtcbiAgICBpZiAobW9kdWxlKSB7XG4gICAgICByZXR1cm4gbW9kdWxlLmhhcyhmaWx0ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIGFsbCBmaWx0ZXJzLlxuICAgKiBAcGFja2FnZVxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5kZWZhdWx0TWF0Y2hlci5jbGVhcigpO1xuICAgIHRoaXMuZWxlbUhpZGUuY2xlYXIoKTtcbiAgICB0aGlzLmVsZW1IaWRlRW11bGF0aW9uLmNsZWFyKCk7XG4gICAgdGhpcy5lbGVtSGlkZUV4Y2VwdGlvbnMuY2xlYXIoKTtcbiAgICB0aGlzLnNuaXBwZXRzLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogTWF0Y2hlcyBleGlzdGluZyBVUkwgZmlsdGVycyBhZ2FpbnN0IGEgd2ViIHJlc291cmNlXG4gICAqIChIVE1MIGRvY3VtZW50LCBDU1Mgc3R5bGUgc2hlZXQsIFBORyBpbWFnZSwgZXRjLikgYW5kIHJldHVybnMgdGhlIG1hdGNoaW5nXG4gICAqIGZpbHRlciBpZiB0aGVyZSdzIGEgbWF0Y2guXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfFVSTHxtb2R1bGU6dXJsflVSTEluZm99IHVybCBUaGUgVVJMIG9mIHRoZSByZXNvdXJjZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHR5cGVNYXNrIFRoZVxuICAgKiAgIHtAbGluayBtb2R1bGU6Y29udGVudFR5cGVzLmNvbnRlbnRUeXBlcyBjb250ZW50IHR5cGVzfSBhc3NvY2lhdGVkIHdpdGhcbiAgICogICB0aGUgcmVzb3VyY2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkb2N1bWVudEhvc3RuYW1lIFRoZSBob3N0bmFtZSBvZiB0aGUgZG9jdW1lbnQgb2YgdGhlXG4gICAqICAgcmVzb3VyY2UuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gW3NpdGVrZXldIEFuIG9wdGlvbmFsIHB1YmxpYyBrZXkgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgKiAgIGRvY3VtZW50IG9mIHRoZSByZXNvdXJjZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbc3BlY2lmaWNPbmx5XSBXaGV0aGVyIHRvIGlnbm9yZSBhbnkgZ2VuZXJpYyBmaWx0ZXJzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7P3N0cmluZ30gQSBVUkwgZmlsdGVyIGlmIHRoZXJlJ3MgYSBtYXRjaDsgb3RoZXJ3aXNlIGBudWxsYC5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgbWF0Y2godXJsLCB0eXBlTWFzaywgZG9jdW1lbnRIb3N0bmFtZSwgc2l0ZWtleSA9IG51bGwsIHNwZWNpZmljT25seSA9IGZhbHNlKSB7XG4gICAgaWYgKHR5cGVvZiB1cmwgPT0gXCJzdHJpbmdcIikge1xuICAgICAgdXJsID0gcGFyc2VVUkwodXJsKTtcbiAgICB9XG5cbiAgICBsZXQgZmlsdGVyID0gdGhpcy5kZWZhdWx0TWF0Y2hlci5tYXRjaChcbiAgICAgIHVybCwgdHlwZU1hc2ssIGRvY3VtZW50SG9zdG5hbWUsIHNpdGVrZXksIHNwZWNpZmljT25seVxuICAgICk7XG4gICAgcmV0dXJuIGZpbHRlciA/IGZpbHRlci50ZXh0IDogbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBgRmlsdGVyRW5naW5lYCBjbGFzcyBtYWludGFpbnMgZmlsdGVycyBmb3IgcmVxdWVzdCBibG9ja2luZywgZWxlbWVudFxuICogaGlkaW5nLCBhbmQgc25pcHBldHMuXG4gKlxuICogQHB1YmxpY1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogbGV0IHtjb250ZW50VHlwZXMsIEZpbHRlckVuZ2luZX0gPSByZXF1aXJlKFwiYWRibG9ja3BsdXNjb3JlXCIpO1xuICpcbiAqIGxldCBmaWx0ZXJFbmdpbmVyID0gbmV3IEZpbHRlckVuZ2luZSgpO1xuICogYXdhaXQgZmlsdGVyRW5naW5lLmluaXRpYWxpemUoXG4gKiAgIFtcbiAqICAgICBcIi9hbm5veWluZy1hZF4kaW1hZ2VcIixcbiAqICAgICBcInx8ZXhhbXBsZS5jb20vc29jaWFsLXdpZGdldC5odG1sXlwiXG4gKiAgIF1cbiAqICk7XG4gKlxuICogbGV0IHJlc291cmNlID0ge1xuICogICB1cmw6IFwiaHR0cHM6Ly9hZC1zZXJ2ZXIuZXhhbXBsZS5uZXQvYW5ub3lpbmctYWQucG5nXCIsXG4gKiAgIGRvY3VtZW50VVJMOiBcImh0dHBzOi8vbmV3cy5leGFtcGxlLmNvbS93b3JsZC5odG1sXCJcbiAqIH07XG4gKlxuICogbGV0IGZpbHRlciA9IGZpbHRlckVuZ2luZS5tYXRjaChyZXNvdXJjZS51cmwsIGNvbnRlbnRUeXBlcy5JTUFHRSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFVSTChyZXNvdXJjZS5kb2N1bWVudFVSTCkuaG9zdG5hbWUpO1xuICogY29uc29sZS5sb2coZmlsdGVyKTsgLy8gcHJpbnRzIFwiL2Fubm95aW5nLWFkXiRpbWFnZVwiXG4gKi9cbmV4cG9ydHMuRmlsdGVyRW5naW5lID0gRmlsdGVyRW5naW5lO1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLyoqIEBtb2R1bGUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGZpbGUgU3luY2hyb25pemF0aW9uIGJldHdlZW4gZmlsdGVyIHN0b3JhZ2UgYW5kIHRoZSBmaWx0ZXIgZW5naW5lLlxuICovXG5cbmNvbnN0IHtmaWx0ZXJOb3RpZmllcn0gPSByZXF1aXJlKFwiLi9maWx0ZXJOb3RpZmllclwiKTtcbmNvbnN0IHtpc0FjdGl2ZUZpbHRlciwgRmlsdGVyfSA9IHJlcXVpcmUoXCIuL2ZpbHRlckNsYXNzZXNcIik7XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgZmlsdGVycyBmcm9tIGEgZ2l2ZW4gc3Vic2NyaXB0aW9uIHNob3VsZCBiZSBkZXBsb3llZCB0byB0aGVcbiAqIGZpbHRlciBlbmdpbmUuXG4gKlxuICogSWYgdGhlIHN1YnNjcmlwdGlvbiBpcyBib3RoIHZhbGlkIGFuZCBlbmFibGVkLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWA7XG4gKiBvdGhlcndpc2UsIGl0IHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAcGFyYW0ge21vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbn0gc3Vic2NyaXB0aW9uXG4gKiAgIFRoZSBzdWJzY3JpcHRpb24uXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgZmlsdGVycyBmcm9tIHRoZSBzdWJzY3JpcHRpb24gc2hvdWxkIGJlIGRlcGxveWVkXG4gKiAgIHRvIHRoZSBmaWx0ZXIgZW5naW5lLlxuICovXG5mdW5jdGlvbiBzaG91bGREZXBsb3lGaWx0ZXJzKHN1YnNjcmlwdGlvbikge1xuICByZXR1cm4gc3Vic2NyaXB0aW9uLnZhbGlkICYmICFzdWJzY3JpcHRpb24uZGlzYWJsZWQ7XG59XG5cbi8qKlxuICogRGVwbG95cyBhIGZpbHRlciB0byB0aGUgZmlsdGVyIGVuZ2luZS5cbiAqXG4gKiBUaGUgZmlsdGVyIGlzIGRlcGxveWVkIG9ubHkgaWYgaXQgYmVsb25ncyB0byBhdCBsZWFzdCBvbmUgc3Vic2NyaXB0aW9uIHRoYXRcbiAqIGlzIGJvdGggdmFsaWQgYW5kIGVuYWJsZWQuXG4gKlxuICogSWYgdGhlIGZpbHRlciBpcyBhIHNuaXBwZXQgZmlsdGVyLCBvciBhIGJsb2NrIGZpbHRlciB3aXRoIHRoZSBgJGhlYWRlcmBcbiAqIG9wdGlvbnMsIGl0IGlzIGRlcGxveWVkIG9ubHkgaWYgaXQgYmVsb25ncyB0byBhdFxuICogbGVhc3Qgb25lIHN1YnNjcmlwdGlvbiB0aGF0IGlzIHZhbGlkLCBlbmFibGVkLCBhbmQgb2ZcbiAqIHtAbGluayBtb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5TdWJzY3JpcHRpb24jdHlwZSB0eXBlfVxuICogYGNpcmN1bXZlbnRpb25gIG9yIGFcbiAqIHtAbGluayBtb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5TcGVjaWFsU3Vic2NyaXB0aW9uIHNwZWNpYWwgc3Vic2NyaXB0aW9ufVxuICogdGhhdCBrZWVwcyB1c2VyLWRlZmluZWQgZmlsdGVycy5cbiAqXG4gKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJFbmdpbmUuRmlsdGVyRW5naW5lfSBlbmdpbmUgQSByZWZlcmVuY2UgdG8gdGhlXG4gKiAgIGZpbHRlciBlbmdpbmUuXG4gKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJTdG9yYWdlLkZpbHRlclN0b3JhZ2V9IHN0b3JhZ2UgQSByZWZlcmVuY2UgdG9cbiAqICAgdGhlIGZpbHRlciBzdG9yYWdlLlxuICogQHBhcmFtIHtGaWx0ZXJ9IGZpbHRlciBUaGUgZmlsdGVyLlxuICogQHBhcmFtIHs/QXJyYXkuPG1vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbj59IFtzdWJzY3JpcHRpb25zXVxuICogICBBIGxpc3Qgb2Ygc3Vic2NyaXB0aW9ucyB0byB3aGljaCB0aGUgZmlsdGVyIGJlbG9uZ3MuIElmIG9taXR0ZWQgb3IgYG51bGxgLFxuICogICB0aGUgaW5mb3JtYXRpb24gaXMgbG9va2VkIHVwIGZyb21cbiAqICAge0BsaW5rIG1vZHVsZTpmaWx0ZXJTdG9yYWdlLmZpbHRlclN0b3JhZ2UgZmlsdGVyIHN0b3JhZ2V9LlxuICovXG5mdW5jdGlvbiBkZXBsb3lGaWx0ZXIoZW5naW5lLCBzdG9yYWdlLCBmaWx0ZXIsIHN1YnNjcmlwdGlvbnMgPSBudWxsKSB7XG4gIGlmICghaXNBY3RpdmVGaWx0ZXIoZmlsdGVyKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBkZXBsb3kgPSBmYWxzZTtcbiAgbGV0IGFsbG93UHJpdmlsZWdlZCA9IGZhbHNlO1xuICBsZXQgcmVxdWlyZXNQcml2aWxlZ2VkU3Vic2NyaXB0aW9uID0gZmlsdGVyLnJlcXVpcmVzUHJpdmlsZWdlZFN1YnNjcmlwdGlvbjtcblxuICBmb3IgKGxldCBzdWJzY3JpcHRpb24gb2Ygc3Vic2NyaXB0aW9ucyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zdWJzY3JpcHRpb25zKGZpbHRlci50ZXh0KSkge1xuICAgIGlmIChzaG91bGREZXBsb3lGaWx0ZXJzKHN1YnNjcmlwdGlvbikgJiZcbiAgICAgICAgIWZpbHRlci5pc0Rpc2FibGVkRm9yU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbi51cmwpKSB7XG4gICAgICBkZXBsb3kgPSB0cnVlO1xuICAgICAgaWYgKCFyZXF1aXJlc1ByaXZpbGVnZWRTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIC8vIEFsbG93IHNuaXBwZXRzIHRvIGJlIGV4ZWN1dGVkIG9ubHkgYnkgdGhlIGNpcmN1bXZlbnRpb24gbGlzdHMgb3IgdGhlXG4gICAgICAvLyB1c2VyJ3Mgb3duIGZpbHRlcnMuXG4gICAgICBpZiAoc3Vic2NyaXB0aW9uLnByaXZpbGVnZWQpIHtcbiAgICAgICAgYWxsb3dQcml2aWxlZ2VkID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKCFkZXBsb3kpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocmVxdWlyZXNQcml2aWxlZ2VkU3Vic2NyaXB0aW9uICYmICFhbGxvd1ByaXZpbGVnZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBlbmdpbmUuYWRkKGZpbHRlcik7XG59XG5cbi8qKlxuICogVW5kZXBsb3lzIGEgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBlbmdpbmUuXG4gKlxuICogVGhlIGZpbHRlciBpcyB1bmRlcGxveWVkIG9ubHkgaWYgaXQgZG9lcyBub3QgYmVsb25nIHRvIGF0IGxlYXN0IG9uZVxuICogc3Vic2NyaXB0aW9uIHRoYXQgaXMgYm90aCB2YWxpZCBhbmQgZW5hYmxlZC5cbiAqXG4gKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJFbmdpbmUuRmlsdGVyRW5naW5lfSBlbmdpbmUgQSByZWZlcmVuY2UgdG8gdGhlXG4gKiAgIGZpbHRlciBlbmdpbmUuXG4gKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJTdG9yYWdlLkZpbHRlclN0b3JhZ2V9IHN0b3JhZ2UgQSByZWZlcmVuY2UgdG8gdGhlXG4gKiAgIGZpbHRlciBzdG9yYWdlLlxuICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXJ9IGZpbHRlciBUaGUgZmlsdGVyLlxuICovXG5mdW5jdGlvbiB1bmRlcGxveUZpbHRlcihlbmdpbmUsIHN0b3JhZ2UsIGZpbHRlcikge1xuICBpZiAoIWlzQWN0aXZlRmlsdGVyKGZpbHRlcikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgcmVxdWlyZXNQcml2aWxlZ2VkU3Vic2NyaXB0aW9uID0gZmlsdGVyLnJlcXVpcmVzUHJpdmlsZWdlZFN1YnNjcmlwdGlvbjtcblxuICBmb3IgKGxldCBzdWJzY3JpcHRpb24gb2Ygc3RvcmFnZS5zdWJzY3JpcHRpb25zKGZpbHRlci50ZXh0KSkge1xuICAgIGlmIChzaG91bGREZXBsb3lGaWx0ZXJzKHN1YnNjcmlwdGlvbikgJiZcbiAgICAgICAgIWZpbHRlci5pc0Rpc2FibGVkRm9yU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbi51cmwpKSB7XG4gICAgICBpZiAoIXJlcXVpcmVzUHJpdmlsZWdlZFN1YnNjcmlwdGlvbiB8fFxuICAgICAgICAgIChyZXF1aXJlc1ByaXZpbGVnZWRTdWJzY3JpcHRpb24gJiYgc3Vic2NyaXB0aW9uLnByaXZpbGVnZWQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlbmdpbmUucmVtb3ZlKGZpbHRlcik7XG59XG5cbi8qKlxuICogYHtAbGluayBtb2R1bGU6ZmlsdGVyTGlzdGVuZXIuZmlsdGVyTGlzdGVuZXIgZmlsdGVyTGlzdGVuZXJ9YFxuICogaW1wbGVtZW50YXRpb24uXG4gKi9cbmNsYXNzIEZpbHRlckxpc3RlbmVyIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGZpbHRlciBsaXN0ZW5lciBvbiBzdGFydHVwLCByZWdpc3RlcnMgdGhlIG5lY2Vzc2FyeSBob29rcy5cbiAgICpcbiAgICogSW5pdGlhbGl6YXRpb24gaXMgYXN5bmNocm9ub3VzOyBvbmNlIGNvbXBsZXRlLFxuICAgKiBge0BsaW5rIG1vZHVsZTpmaWx0ZXJOb3RpZmllci5maWx0ZXJOb3RpZmllciBmaWx0ZXJOb3RpZmllcn1gIGVtaXRzIHRoZVxuICAgKiBgcmVhZHlgIGV2ZW50LlxuICAgKlxuICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgZmlsdGVyIGVuZ2luZS5cbiAgICAgKiBAdHlwZSB7P21vZHVsZTpmaWx0ZXJFbmdpbmUuRmlsdGVyRW5naW5lfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fZW5naW5lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBmaWx0ZXIgc3RvcmFnZVxuICAgICAqIEB0eXBlIHs/bW9kdWxlOmZpbHRlclN0b3JhZ2UuRmlsdGVyU3RvcmFnZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3N0b3JhZ2UgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSW5jcmVhc2VzIG9uIGZpbHRlciBjaGFuZ2VzLCBmaWx0ZXJzIHdpbGwgYmUgc2F2ZWQgaWYgaXQgZXhjZWVkcyAxLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9pc0RpcnR5ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBmaWx0ZXIgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckVuZ2luZS5GaWx0ZXJFbmdpbmV9IGVuZ2luZSBBIHJlZmVyZW5jZSB0byB0aGVcbiAgICogICBmaWx0ZXIgZW5naW5lLlxuICAgKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJTdG9yYWdlLkZpbHRlclN0b3JhZ2V9IHN0b3JhZ2UgQSByZWZlcmVuY2UgdG8gdGhlXG4gICAqICAgZmlsdGVyIHN0b3JhZ2UuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGUgaW5pdGlhbGl6YXRpb24gaXNcbiAgICogICBjb21wbGV0ZS5cbiAgICogQHBhY2thZ2VcbiAgICovXG4gIGFzeW5jIGluaXRpYWxpemUoZW5naW5lLCBzdG9yYWdlKSB7XG4gICAgaWYgKGVuZ2luZSA9PSBudWxsIHx8IHR5cGVvZiBlbmdpbmUgIT0gXCJvYmplY3RcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZW5naW5lIG11c3QgYmUgYSBub24tbnVsbCBvYmplY3QuXCIpO1xuICAgIH1cbiAgICBpZiAoc3RvcmFnZSA9PSBudWxsIHx8IHR5cGVvZiBzdG9yYWdlICE9IFwib2JqZWN0XCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImZpbHRlclN0b3JhZ2UgbXVzdCBiZSBhIG5vbi1udWxsIG9iamVjdC5cIik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2VuZ2luZSAhPSBudWxsIHx8IHRoaXMuX3N0b3JhZ2UgIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmlsdGVyIGxpc3RlbmVyIGFscmVhZHkgaW5pdGlhbGl6ZWQuXCIpO1xuICAgIH1cblxuICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcbiAgICB0aGlzLl9zdG9yYWdlID0gc3RvcmFnZTtcblxuICAgIGF3YWl0IHN0b3JhZ2UubG9hZEZyb21EaXNrKCk7XG5cbiAgICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBmaWx0ZXJzIGZyb20gZWFjaCBzdWJzY3JpcHRpb24gYXN5bmNocm9ub3VzbHkgb24gc3RhcnR1cCBieVxuICAgIC8vIHNldHRpbmcgdXAgYSBjaGFpbiBvZiBwcm9taXNlcy5cbiAgICBmb3IgKGxldCBzdWJzY3JpcHRpb24gb2Ygc3RvcmFnZS5zdWJzY3JpcHRpb25zKCkpIHtcbiAgICAgIGlmIChzaG91bGREZXBsb3lGaWx0ZXJzKHN1YnNjcmlwdGlvbikpIHtcbiAgICAgICAgYXdhaXQgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICBmb3IgKGxldCB0ZXh0IG9mIHN1YnNjcmlwdGlvbi5maWx0ZXJUZXh0KCkpIHtcbiAgICAgICAgICAgIGRlcGxveUZpbHRlcihcbiAgICAgICAgICAgICAgdGhpcy5fZW5naW5lLCBzdG9yYWdlLCBGaWx0ZXIuZnJvbVRleHQodGV4dCksIFtzdWJzY3JpcHRpb25dXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmlsdGVyTm90aWZpZXIub24oXCJmaWx0ZXIuYWRkZWRcIiwgdGhpcy5fb25GaWx0ZXJBZGRlZC5iaW5kKHRoaXMpKTtcbiAgICBmaWx0ZXJOb3RpZmllci5vbihcImZpbHRlci5yZW1vdmVkXCIsIHRoaXMuX29uRmlsdGVyUmVtb3ZlZC5iaW5kKHRoaXMpKTtcbiAgICBmaWx0ZXJOb3RpZmllci5vbihcImZpbHRlci5tb3ZlZFwiLCB0aGlzLl9vbkdlbmVyaWNDaGFuZ2UuYmluZCh0aGlzKSk7XG5cbiAgICBmaWx0ZXJOb3RpZmllci5vbihcImZpbHRlclN0YXRlLmVuYWJsZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkZpbHRlclN0YXRlRW5hYmxlZC5iaW5kKHRoaXMpKTtcbiAgICBmaWx0ZXJOb3RpZmllci5vbihcImZpbHRlclN0YXRlLmRpc2FibGVkU3Vic2NyaXB0aW9uc1wiLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRmlsdGVyU3RhdGVFbmFibGVkLmJpbmQodGhpcykpO1xuICAgIGZpbHRlck5vdGlmaWVyLm9uKFwiZmlsdGVyU3RhdGUuaGl0Q291bnRcIixcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkZpbHRlclN0YXRlSGl0Q291bnQuYmluZCh0aGlzKSk7XG4gICAgZmlsdGVyTm90aWZpZXIub24oXCJmaWx0ZXJTdGF0ZS5sYXN0SGl0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25GaWx0ZXJTdGF0ZUxhc3RIaXQuYmluZCh0aGlzKSk7XG5cbiAgICBmaWx0ZXJOb3RpZmllci5vbihcInN1YnNjcmlwdGlvbi5hZGRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uU3Vic2NyaXB0aW9uQWRkZWQuYmluZCh0aGlzKSk7XG4gICAgZmlsdGVyTm90aWZpZXIub24oXCJzdWJzY3JpcHRpb24ucmVtb3ZlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uU3Vic2NyaXB0aW9uUmVtb3ZlZC5iaW5kKHRoaXMpKTtcbiAgICBmaWx0ZXJOb3RpZmllci5vbihcInN1YnNjcmlwdGlvbi5kaXNhYmxlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uU3Vic2NyaXB0aW9uRGlzYWJsZWQuYmluZCh0aGlzKSk7XG4gICAgZmlsdGVyTm90aWZpZXIub24oXCJzdWJzY3JpcHRpb24udXBkYXRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uU3Vic2NyaXB0aW9uVXBkYXRlZC5iaW5kKHRoaXMpKTtcbiAgICBmaWx0ZXJOb3RpZmllci5vbihcInN1YnNjcmlwdGlvbi50aXRsZVwiLCB0aGlzLl9vbkdlbmVyaWNDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgZmlsdGVyTm90aWZpZXIub24oXCJzdWJzY3JpcHRpb24uZml4ZWRUaXRsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uR2VuZXJpY0NoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICBmaWx0ZXJOb3RpZmllci5vbihcInN1YnNjcmlwdGlvbi5ob21lcGFnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uR2VuZXJpY0NoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICBmaWx0ZXJOb3RpZmllci5vbihcInN1YnNjcmlwdGlvbi5kb3dubG9hZFN0YXR1c1wiLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uR2VuZXJpY0NoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICBmaWx0ZXJOb3RpZmllci5vbihcInN1YnNjcmlwdGlvbi5sYXN0Q2hlY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkdlbmVyaWNDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgZmlsdGVyTm90aWZpZXIub24oXCJzdWJzY3JpcHRpb24uZXJyb3JzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25HZW5lcmljQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIGZpbHRlck5vdGlmaWVyLm9uKFwic3Vic2NyaXB0aW9uLnByaXZpbGVnZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkdlbmVyaWNDaGFuZ2UuYmluZCh0aGlzKSk7XG5cbiAgICBmaWx0ZXJOb3RpZmllci5vbihcImxvYWRcIiwgdGhpcy5fb25Mb2FkLmJpbmQodGhpcykpO1xuICAgIGZpbHRlck5vdGlmaWVyLm9uKFwic2F2ZVwiLCB0aGlzLl9vblNhdmUuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBJbmRpY2F0ZSB0aGF0IGFsbCBmaWx0ZXJzIGFyZSByZWFkeSBmb3IgdXNlLlxuICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJyZWFkeVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmNyZWFzZXMgXCJkaXJ0eSBmYWN0b3JcIiBvZiB0aGUgZmlsdGVycyBhbmQgY2FsbHNcbiAgICogZmlsdGVyU3RvcmFnZS5zYXZlVG9EaXNrKCkgaWYgaXQgYmVjb21lcyAxIG9yIG1vcmUuXG4gICAqXG4gICAqIFNhdmUgaXMgZXhlY3V0ZWQgZGVsYXllZCB0byBwcmV2ZW50IG11bHRpcGxlIHN1YnNlcXVlbnQgY2FsbHMuIElmIHRoZVxuICAgKiBwYXJhbWV0ZXIgaXMgMCBpdCBmb3JjZXMgc2F2aW5nIGZpbHRlcnMgaWYgYW55IGNoYW5nZXMgd2VyZSByZWNvcmRlZCBhZnRlclxuICAgKiB0aGUgcHJldmlvdXMgc2F2ZS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZhY3RvclxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldERpcnR5KGZhY3Rvcikge1xuICAgIGlmIChmYWN0b3IgPT0gMCAmJiB0aGlzLl9pc0RpcnR5ID4gMCkge1xuICAgICAgdGhpcy5faXNEaXJ0eSA9IDE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5faXNEaXJ0eSArPSBmYWN0b3I7XG4gICAgfVxuICAgIGlmICh0aGlzLl9pc0RpcnR5ID49IDEpIHtcbiAgICAgIHRoaXMuX2lzRGlydHkgPSAwO1xuICAgICAgdGhpcy5fc3RvcmFnZS5zYXZlVG9EaXNrKCk7XG4gICAgfVxuICB9XG5cbiAgX29uU3Vic2NyaXB0aW9uQWRkZWQoc3Vic2NyaXB0aW9uKSB7XG4gICAgdGhpcy5fc2V0RGlydHkoMSk7XG5cbiAgICBpZiAoc2hvdWxkRGVwbG95RmlsdGVycyhzdWJzY3JpcHRpb24pKSB7XG4gICAgICBmb3IgKGxldCB0ZXh0IG9mIHN1YnNjcmlwdGlvbi5maWx0ZXJUZXh0KCkpIHtcbiAgICAgICAgZGVwbG95RmlsdGVyKFxuICAgICAgICAgIHRoaXMuX2VuZ2luZSwgdGhpcy5fc3RvcmFnZSwgRmlsdGVyLmZyb21UZXh0KHRleHQpLCBbc3Vic2NyaXB0aW9uXVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9vblN1YnNjcmlwdGlvblJlbW92ZWQoc3Vic2NyaXB0aW9uKSB7XG4gICAgdGhpcy5fc2V0RGlydHkoMSk7XG5cbiAgICBpZiAoc2hvdWxkRGVwbG95RmlsdGVycyhzdWJzY3JpcHRpb24pKSB7XG4gICAgICBmb3IgKGxldCB0ZXh0IG9mIHN1YnNjcmlwdGlvbi5maWx0ZXJUZXh0KCkpIHtcbiAgICAgICAgdW5kZXBsb3lGaWx0ZXIodGhpcy5fZW5naW5lLCB0aGlzLl9zdG9yYWdlLCBGaWx0ZXIuZnJvbVRleHQodGV4dCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9vblN1YnNjcmlwdGlvbkRpc2FibGVkKHN1YnNjcmlwdGlvbiwgbmV3VmFsdWUpIHtcbiAgICB0aGlzLl9zZXREaXJ0eSgxKTtcblxuICAgIGlmICh0aGlzLl9zdG9yYWdlLmhhc1N1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pKSB7XG4gICAgICBpZiAobmV3VmFsdWUgPT0gZmFsc2UpIHtcbiAgICAgICAgZm9yIChsZXQgdGV4dCBvZiBzdWJzY3JpcHRpb24uZmlsdGVyVGV4dCgpKSB7XG4gICAgICAgICAgZGVwbG95RmlsdGVyKFxuICAgICAgICAgICAgdGhpcy5fZW5naW5lLCB0aGlzLl9zdG9yYWdlLCBGaWx0ZXIuZnJvbVRleHQodGV4dCksIFtzdWJzY3JpcHRpb25dXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZvciAobGV0IHRleHQgb2Ygc3Vic2NyaXB0aW9uLmZpbHRlclRleHQoKSkge1xuICAgICAgICAgIHVuZGVwbG95RmlsdGVyKHRoaXMuX2VuZ2luZSwgdGhpcy5fc3RvcmFnZSwgRmlsdGVyLmZyb21UZXh0KHRleHQpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9vblN1YnNjcmlwdGlvblVwZGF0ZWQoc3Vic2NyaXB0aW9uLCB0ZXh0RGVsdGEpIHtcbiAgICB0aGlzLl9zZXREaXJ0eSgxKTtcblxuICAgIGlmICh0ZXh0RGVsdGEgJiYgc2hvdWxkRGVwbG95RmlsdGVycyhzdWJzY3JpcHRpb24pICYmXG4gICAgICAgIHRoaXMuX3N0b3JhZ2UuaGFzU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbikpIHtcbiAgICAgIGZvciAobGV0IHRleHQgb2YgdGV4dERlbHRhLnJlbW92ZWQpIHtcbiAgICAgICAgdW5kZXBsb3lGaWx0ZXIoXG4gICAgICAgICAgdGhpcy5fZW5naW5lLCB0aGlzLl9zdG9yYWdlLCBGaWx0ZXIuZnJvbVRleHQodGV4dClcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgdGV4dCBvZiB0ZXh0RGVsdGEuYWRkZWQpIHtcbiAgICAgICAgZGVwbG95RmlsdGVyKFxuICAgICAgICAgIHRoaXMuX2VuZ2luZSwgdGhpcy5fc3RvcmFnZSwgRmlsdGVyLmZyb21UZXh0KHRleHQpLCBbc3Vic2NyaXB0aW9uXVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9vbkZpbHRlckFkZGVkKGZpbHRlcikge1xuICAgIHRoaXMuX3NldERpcnR5KDEpO1xuICAgIGRlcGxveUZpbHRlcih0aGlzLl9lbmdpbmUsIHRoaXMuX3N0b3JhZ2UsIGZpbHRlcik7XG4gIH1cblxuICBfb25GaWx0ZXJSZW1vdmVkKGZpbHRlcikge1xuICAgIHRoaXMuX3NldERpcnR5KDEpO1xuICAgIHVuZGVwbG95RmlsdGVyKHRoaXMuX2VuZ2luZSwgdGhpcy5fc3RvcmFnZSwgZmlsdGVyKTtcbiAgfVxuXG4gIF9vbkZpbHRlclN0YXRlRW5hYmxlZCh0ZXh0LCBuZXdWYWx1ZSkge1xuICAgIHRoaXMuX3NldERpcnR5KDEpO1xuXG4gICAgLy8gaXQncyBkaWZmaWN1bHQgdG8gdGVsbCBmcm9tIG5ld1ZhbHVlIGFsb25lIGlmIHdlIG5lZWQgdG8gYWRkIG9yXG4gICAgLy8gcmVtb3ZlIHRoZSBmaWx0ZXIuIEx1Y2tpbHksIGRlcGxveUZpbHRlciBhbmQgdW5kZXBsb3lGaWx0ZXIgZG9cbiAgICAvLyBmdWxsIGNoZWNrcyB0aGF0IHRoZSBmaWx0ZXIgc2hvdWxkIGJlIGFkZGVkIC8gcmVtb3ZlZC5cbiAgICBsZXQgZmlsdGVyID0gRmlsdGVyLmZyb21UZXh0KHRleHQpO1xuICAgIGlmICh0aGlzLl9lbmdpbmUuaGFzKGZpbHRlcikpIHtcbiAgICAgIHVuZGVwbG95RmlsdGVyKHRoaXMuX2VuZ2luZSwgdGhpcy5fc3RvcmFnZSwgZmlsdGVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBkZXBsb3lGaWx0ZXIodGhpcy5fZW5naW5lLCB0aGlzLl9zdG9yYWdlLCBmaWx0ZXIpO1xuICAgIH1cbiAgfVxuXG4gIF9vbkZpbHRlclN0YXRlSGl0Q291bnQodGV4dCwgbmV3VmFsdWUpIHtcbiAgICBpZiAobmV3VmFsdWUgPT0gMCkge1xuICAgICAgdGhpcy5fc2V0RGlydHkoMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fc2V0RGlydHkoMC4wMDIpO1xuICAgIH1cbiAgfVxuXG4gIF9vbkZpbHRlclN0YXRlTGFzdEhpdCgpIHtcbiAgICB0aGlzLl9zZXREaXJ0eSgwLjAwMik7XG4gIH1cblxuICBfb25HZW5lcmljQ2hhbmdlKCkge1xuICAgIHRoaXMuX3NldERpcnR5KDEpO1xuICB9XG5cbiAgX29uTG9hZCgpIHtcbiAgICB0aGlzLl9pc0RpcnR5ID0gMDtcblxuICAgIHRoaXMuX2VuZ2luZS5jbGVhcigpO1xuXG4gICAgZm9yIChsZXQgc3Vic2NyaXB0aW9uIG9mIHRoaXMuX3N0b3JhZ2Uuc3Vic2NyaXB0aW9ucygpKSB7XG4gICAgICBpZiAoc2hvdWxkRGVwbG95RmlsdGVycyhzdWJzY3JpcHRpb24pKSB7XG4gICAgICAgIGZvciAobGV0IHRleHQgb2Ygc3Vic2NyaXB0aW9uLmZpbHRlclRleHQoKSkge1xuICAgICAgICAgIGRlcGxveUZpbHRlcihcbiAgICAgICAgICAgIHRoaXMuX2VuZ2luZSwgdGhpcy5fc3RvcmFnZSwgRmlsdGVyLmZyb21UZXh0KHRleHQpLCBbc3Vic2NyaXB0aW9uXVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfb25TYXZlKCkge1xuICAgIHRoaXMuX2lzRGlydHkgPSAwO1xuICB9XG59XG5cbi8qKlxuICogQ29tcG9uZW50IHN5bmNocm9uaXppbmcgZmlsdGVyIHN0b3JhZ2Ugd2l0aCB0aGUgZmlsdGVyIGVuZ2luZS5cbiAqIEBwYWNrYWdlXG4gKi9cbmV4cG9ydHMuRmlsdGVyTGlzdGVuZXIgPSBGaWx0ZXJMaXN0ZW5lcjtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi8qKiBAbW9kdWxlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBmaWxlIFRoaXMgY29tcG9uZW50IG1hbmFnZXMgbGlzdGVuZXJzIGFuZCBjYWxscyB0aGVtIHRvIGRpc3RyaWJ1dGVcbiAqIG1lc3NhZ2VzIGFib3V0IGZpbHRlciBjaGFuZ2VzLlxuICovXG5cbmNvbnN0IHtFdmVudEVtaXR0ZXJ9ID0gcmVxdWlyZShcIi4vZXZlbnRzXCIpO1xuXG4vKipcbiAqIFRoaXMgb2JqZWN0IGFsbG93cyByZWdpc3RlcmluZyBhbmQgdHJpZ2dlcmluZyBsaXN0ZW5lcnMgZm9yIGZpbHRlciBldmVudHMuXG4gKiBAdHlwZSB7bW9kdWxlOmV2ZW50cy5FdmVudEVtaXR0ZXJ9XG4gKi9cbmV4cG9ydHMuZmlsdGVyTm90aWZpZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgQWRibG9jayBQbHVzIDxodHRwczovL2FkYmxvY2twbHVzLm9yZy8+LFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEFkYmxvY2sgUGx1cy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4vKiogQG1vZHVsZSAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge2ZpbHRlck5vdGlmaWVyfSA9IHJlcXVpcmUoXCIuL2ZpbHRlck5vdGlmaWVyXCIpO1xuY29uc3Qge0ZpbHRlcn0gPSByZXF1aXJlKFwiLi9maWx0ZXJDbGFzc2VzXCIpO1xuXG5jbGFzcyBGaWx0ZXJTdGF0ZSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBuZXcgRmlsdGVyU3RhdGUuXG4gICAqIEFzIGEgc2lkZSBlZmZlY3QgdGhpcyB3aWxsIHNldCB0aGUgZ2xvYmFsIEZpbHRlclN0YXRlIHVzZWRcbiAgICogYnkgRmlsdGVyLiBBdm9pZCBjb25zdHJ1Y3RpbmcgaXQgbW9yZSB0aGFuIG9uY2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtYXAgY29udGFpbmluZyBmaWx0ZXIgc3RhdGUuXG4gICAgICogQHR5cGUge01hcC48c3RyaW5nLCBGaWx0ZXJTdGF0ZUVudHJ5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm1hcCA9IG5ldyBNYXAoKTtcblxuICAgIC8vIEZvciBub3cgd2UnbGwgYXNzdW1lIHRoYXQgdGhpcyBpcyB0aGUgZmlsdGVyIHN0YXRlXG4gICAgRmlsdGVyLnVzZUZpbHRlclN0YXRlKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgd2hpY2ggc3Vic2NyaXB0aW9ucyB0aGlzIGZpbHRlcnMgaGFzIGJlZW4gZGlzYWJsZWQgZm9yLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyVGV4dCBUaGUgdGV4dCBvZiB0aGUgZmlsdGVyLlxuICAgKiBAcmV0dXJucyB7U2V0PHN0cmluZz59IFNldCBvZiBzdWJzY3JpcHRpb24gdXJscyB0aGF0IHRoaXMgZmlsdGVyXG4gICAqIGhhcyBiZWVuIGRpc2FibGVkIGZvci5cbiAgICovXG4gIGRpc2FibGVkU3Vic2NyaXB0aW9ucyhmaWx0ZXJUZXh0KSB7XG4gICAgbGV0IHN0YXRlID0gdGhpcy5tYXAuZ2V0KGZpbHRlclRleHQpO1xuICAgIGlmICghc3RhdGUgfHwgdHlwZW9mIHN0YXRlLmRpc2FibGVkU3Vic2NyaXB0aW9ucyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIG5ldyBTZXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLmRpc2FibGVkU3Vic2NyaXB0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgZGlzYWJsZWQgc3RhdHVzIG9mIHRoaXMgZmlsdGVyIHRvIHRoZSBkZWZhdWx0IG9mXG4gICAqIGVuYWJsZWQgZm9yIGFsbCBzdWJzY3JpcHRpb25zLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyVGV4dCBUaGUgdGV4dCBvZiB0aGUgZmlsdGVyLlxuICAgKi9cbiAgcmVzZXRFbmFibGVkKGZpbHRlclRleHQpIHtcbiAgICB0aGlzLl91cGRhdGVTdGF0ZU9iamVjdChmaWx0ZXJUZXh0LCBzdGF0ZSA9PiB7XG4gICAgICBzdGF0ZS5yZXNldEVuYWJsZWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciBhIGZpbHRlciBpcyBkaXNhYmxlZCBmb3IgYSBzdWJzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJUZXh0IFRoZSB0ZXh0IG9mIHRoZSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdWJzY3JpcHRpb25VcmwgVGhlIHN1YnNjcmlwdGlvbiB0byBjaGVjayBmb3JcbiAgICogZW5hYmxlZCAvIGRpc2FibGVkIHN0YXRlLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZmlsdGVyIGlzIGRpc2FibGVkLlxuICAgKi9cbiAgaXNEaXNhYmxlZEZvclN1YnNjcmlwdGlvbihmaWx0ZXJUZXh0LCBzdWJzY3JpcHRpb25VcmwpIHtcbiAgICBsZXQgc3RhdGUgPSB0aGlzLm1hcC5nZXQoZmlsdGVyVGV4dCk7XG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUuaXNEaXNhYmxlZEZvclN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25VcmwpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZGlzYWJsZWQgc3RhdGUgb2YgYSBmaWx0ZXIgZm9yIGEgc3Vic2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyVGV4dCBUaGUgdGV4dCBvZiB0aGUgZmlsdGVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3Vic2NyaXB0aW9uVXJsIFRoZSBzdWJzY3JpcHRpb24gdG8gZW5hYmxlIC9cbiAgICogZGlzYWJsZSB0aGUgZmlsdGVyIGluLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRpc2FibGVkIFRoZSBuZXcgZGlzYWJsZWQgc3RhdGUgb2YgdGhlIGZpbHRlci5cbiAgICovXG4gIHNldERpc2FibGVkRm9yU3Vic2NyaXB0aW9uKGZpbHRlclRleHQsIHN1YnNjcmlwdGlvblVybCwgZGlzYWJsZWQpIHtcbiAgICB0aGlzLl91cGRhdGVTdGF0ZU9iamVjdChmaWx0ZXJUZXh0LCBzdGF0ZSA9PiB7XG4gICAgICBzdGF0ZS5zZXREaXNhYmxlZEZvclN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25VcmwsIGRpc2FibGVkKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciBhIGZpbHRlciBpcyBlbmFibGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyVGV4dCBUaGUgdGV4dCBvZiB0aGUgZmlsdGVyLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZmlsdGVyIGlzIGVuYWJsZWQuXG4gICAqIEBkZXByZWNhdGVkIFVzZVxuICAgKiB7QGxpbmsgbW9kdWxlOmZpbHRlclN0YXRlLkZpbHRlclN0YXRlI2lzRGlzYWJsZWRGb3JTdWJzY3JpcHRpb259IGluc3RlYWRcbiAgICovXG4gIGlzRW5hYmxlZChmaWx0ZXJUZXh0KSB7XG4gICAgbGV0IHN0YXRlID0gdGhpcy5tYXAuZ2V0KGZpbHRlclRleHQpO1xuICAgIGlmIChzdGF0ZSkge1xuICAgICAgcmV0dXJuIHN0YXRlLmVuYWJsZWQ7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGVuYWJsZWQgc3RhdGUgb2YgYSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJUZXh0IFRoZSB0ZXh0IG9mIHRoZSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCBUaGUgbmV3IGVuYWJsZWQgc3RhdGUgb2YgdGhlIGZpbHRlci5cbiAgICogQGRlcHJlY2F0ZWQgVXNlXG4gICAqIHtAbGluayBtb2R1bGU6ZmlsdGVyU3RhdGUuRmlsdGVyU3RhdGUjc2V0RGlzYWJsZWRGb3JTdWJzY3JpcHRpb259IGluc3RlYWRcbiAgICovXG4gIHNldEVuYWJsZWQoZmlsdGVyVGV4dCwgZW5hYmxlZCkge1xuICAgIHRoaXMuX3VwZGF0ZVN0YXRlT2JqZWN0KGZpbHRlclRleHQsIHN0YXRlID0+IHtcbiAgICAgIHN0YXRlLmVuYWJsZWQgPSBlbmFibGVkO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIGVuYWJsZWQgc3RhdGUgb2YgYSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJUZXh0IFRoZSB0ZXh0IG9mIHRoZSBmaWx0ZXIuXG4gICAqIEBkZXByZWNhdGVkIFVzZVxuICAgKiB7QGxpbmsgbW9kdWxlOmZpbHRlclN0YXRlLkZpbHRlclN0YXRlI3NldERpc2FibGVkRm9yU3Vic2NyaXB0aW9ufSBpbnN0ZWFkXG4gICAqL1xuICB0b2dnbGVFbmFibGVkKGZpbHRlclRleHQpIHtcbiAgICBsZXQgbmV3VmFsdWUgPSAhdGhpcy5pc0VuYWJsZWQoZmlsdGVyVGV4dCk7XG4gICAgdGhpcy5zZXRFbmFibGVkKGZpbHRlclRleHQsIG5ld1ZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBoaXQgY291bnQgb2YgYSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJUZXh0IFRoZSB0ZXh0IG9mIHRoZSBmaWx0ZXIuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBoaXQgY291bnQgb2YgdGhlIGZpbHRlci5cbiAgICovXG4gIGdldEhpdENvdW50KGZpbHRlclRleHQpIHtcbiAgICBsZXQgc3RhdGUgPSB0aGlzLm1hcC5nZXQoZmlsdGVyVGV4dCk7XG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUuaGl0Q291bnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgaGl0IGNvdW50IG9mIGEgZmlsdGVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyVGV4dCBUaGUgdGV4dCBvZiB0aGUgZmlsdGVyLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGl0Q291bnQgVGhlIG5ldyBoaXQgY291bnQgb2YgdGhlIGZpbHRlci5cbiAgICovXG4gIHNldEhpdENvdW50KGZpbHRlclRleHQsIGhpdENvdW50KSB7XG4gICAgdGhpcy5fdXBkYXRlU3RhdGVPYmplY3QoZmlsdGVyVGV4dCwgc3RhdGUgPT4ge1xuICAgICAgc3RhdGUuaGl0Q291bnQgPSBoaXRDb3VudDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGhpdCBjb3VudCBvZiBhIGZpbHRlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbHRlclRleHQgVGhlIHRleHQgb2YgdGhlIGZpbHRlci5cbiAgICovXG4gIHJlc2V0SGl0Q291bnQoZmlsdGVyVGV4dCkge1xuICAgIHRoaXMuc2V0SGl0Q291bnQoZmlsdGVyVGV4dCwgMCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGFzdCBoaXQgdGltZSBvZiBhIGZpbHRlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbHRlclRleHQgVGhlIHRleHQgb2YgdGhlIGZpbHRlci5cbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIGxhc3QgaGl0IHRpbWUgb2YgdGhlIGZpbHRlciBpbiBtaWxsaXNlY29uZHMgc2luY2VcbiAgICogICB0aGUgVW5peCBlcG9jaC5cbiAgICovXG4gIGdldExhc3RIaXQoZmlsdGVyVGV4dCkge1xuICAgIGxldCBzdGF0ZSA9IHRoaXMubWFwLmdldChmaWx0ZXJUZXh0KTtcbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5sYXN0SGl0O1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxhc3QgaGl0IHRpbWUgb2YgYSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJUZXh0IFRoZSB0ZXh0IG9mIHRoZSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsYXN0SGl0IFRoZSBuZXcgbGFzdCBoaXQgdGltZSBvZiB0aGUgZmlsdGVyIGluXG4gICAqICAgbWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBVbml4IGVwb2NoLlxuICAgKi9cbiAgc2V0TGFzdEhpdChmaWx0ZXJUZXh0LCBsYXN0SGl0KSB7XG4gICAgdGhpcy5fdXBkYXRlU3RhdGVPYmplY3QoZmlsdGVyVGV4dCwgc3RhdGUgPT4ge1xuICAgICAgc3RhdGUubGFzdEhpdCA9IGxhc3RIaXQ7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBsYXN0IGhpdCB0aW1lIG9mIGEgZmlsdGVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyVGV4dCBUaGUgdGV4dCBvZiB0aGUgZmlsdGVyLlxuICAgKi9cbiAgcmVzZXRMYXN0SGl0KGZpbHRlclRleHQpIHtcbiAgICB0aGlzLnNldExhc3RIaXQoZmlsdGVyVGV4dCwgMCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgZmlsdGVyIGhpdCBieSBpbmNyZW1lbnRpbmcgdGhlIGhpdCBjb3VudCBvZiB0aGUgZmlsdGVyIGFuZFxuICAgKiBzZXR0aW5nIHRoZSBsYXN0IGhpdCB0aW1lIG9mIHRoZSBmaWx0ZXIgdG8gdGhlIGN1cnJlbnQgdGltZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbHRlclRleHQgVGhlIHRleHQgb2YgdGhlIGZpbHRlci5cbiAgICovXG4gIHJlZ2lzdGVySGl0KGZpbHRlclRleHQpIHtcbiAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLl91cGRhdGVTdGF0ZU9iamVjdChmaWx0ZXJUZXh0LCBzdGF0ZSA9PiB7XG4gICAgICBzdGF0ZS5oaXRDb3VudCsrO1xuICAgICAgc3RhdGUubGFzdEhpdCA9IG5vdztcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGhpdCBjb3VudCBhbmQgbGFzdCBoaXQgdGltZSBvZiBhIGZpbHRlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbHRlclRleHQgVGhlIHRleHQgb2YgdGhlIGZpbHRlci5cbiAgICovXG4gIHJlc2V0SGl0cyhmaWx0ZXJUZXh0KSB7XG4gICAgdGhpcy5fdXBkYXRlU3RhdGVPYmplY3QoZmlsdGVyVGV4dCwgc3RhdGUgPT4ge1xuICAgICAgc3RhdGUuaGl0Q291bnQgPSAwO1xuICAgICAgc3RhdGUubGFzdEhpdCA9IDA7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBlbmFibGVkIHN0YXRlLCBoaXQgY291bnQsIGFuZCBsYXN0IGhpdCB0aW1lIG9mIGEgZmlsdGVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyVGV4dCBUaGUgdGV4dCBvZiB0aGUgZmlsdGVyLlxuICAgKi9cbiAgcmVzZXQoZmlsdGVyVGV4dCkge1xuICAgIGxldCBzdGF0ZSA9IHRoaXMubWFwLmdldChmaWx0ZXJUZXh0KTtcbiAgICBpZiAoIXN0YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5tYXAuZGVsZXRlKGZpbHRlclRleHQpO1xuXG4gICAgaWYgKHN0YXRlLmVuYWJsZWQgIT09IHRydWUpIHtcbiAgICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJmaWx0ZXJTdGF0ZS5lbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmVuYWJsZWQpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5kaXNhYmxlZFN1YnNjcmlwdGlvbnMgJiYgc3RhdGUuZGlzYWJsZWRTdWJzY3JpcHRpb25zLnNpemUgPiAwKSB7XG4gICAgICBmaWx0ZXJOb3RpZmllci5lbWl0KFwiZmlsdGVyU3RhdGUuZGlzYWJsZWRTdWJzY3JpcHRpb25zXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuZGlzYWJsZWRTdWJzY3JpcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuaGl0Q291bnQgIT0gMCkge1xuICAgICAgZmlsdGVyTm90aWZpZXIuZW1pdChcImZpbHRlclN0YXRlLmhpdENvdW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmhpdENvdW50KTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUubGFzdEhpdCAhPSAwKSB7XG4gICAgICBmaWx0ZXJOb3RpZmllci5lbWl0KFwiZmlsdGVyU3RhdGUubGFzdEhpdFwiLCBmaWx0ZXJUZXh0LCAwLCBzdGF0ZS5sYXN0SGl0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VyaWFsaXplcyB0aGUgc3RhdGUgb2YgYSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJUZXh0IFRoZSB0ZXh0IG9mIHRoZSBmaWx0ZXIuXG4gICAqIEB5aWVsZHMge3N0cmluZ30gVGhlIG5leHQgbGluZSBpbiB0aGUgc2VyaWFsaXplZCByZXByZXNlbnRhdGlvbiBvZiB0aGVcbiAgICogICBzdGF0ZSBvZiB0aGUgZmlsdGVyLlxuICAgKiBAc2VlIG1vZHVsZTpmaWx0ZXJTdGF0ZS5GaWx0ZXJTdGF0ZSNmcm9tT2JqZWN0XG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICAqc2VyaWFsaXplKGZpbHRlclRleHQpIHtcbiAgICBsZXQgc3RhdGUgPSB0aGlzLm1hcC5nZXQoZmlsdGVyVGV4dCk7XG4gICAgaWYgKCFzdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHlpZWxkIFwiW0ZpbHRlcl1cIjtcbiAgICB5aWVsZCBcInRleHQ9XCIgKyBmaWx0ZXJUZXh0O1xuXG4gICAgaWYgKHN0YXRlLmRpc2FibGVkKSB7XG4gICAgICB5aWVsZCBcImRpc2FibGVkPXRydWVcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHN0YXRlLmRpc2FibGVkU3Vic2NyaXB0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgZm9yIChsZXQgZGlzYWJsZWRTdWJzY3JpcHRpb24gb2Ygc3RhdGUuZGlzYWJsZWRTdWJzY3JpcHRpb25zKSB7XG4gICAgICAgIHlpZWxkIFwiZGlzYWJsZWRTdWJzY3JpcHRpb25zW109XCIgKyBkaXNhYmxlZFN1YnNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuaGl0Q291bnQgIT0gMCkge1xuICAgICAgeWllbGQgXCJoaXRDb3VudD1cIiArIHN0YXRlLmhpdENvdW50O1xuICAgIH1cbiAgICBpZiAoc3RhdGUubGFzdEhpdCAhPSAwKSB7XG4gICAgICB5aWVsZCBcImxhc3RIaXQ9XCIgKyBzdGF0ZS5sYXN0SGl0O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyB0aGUgc3RhdGUgb2YgYSBmaWx0ZXIgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJUZXh0IFRoZSB0ZXh0IG9mIHRoZSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYXQgbGVhc3Qgb25lIG9mIGBkaXNhYmxlZGAsXG4gICAqICAgYGhpdENvdW50YCwgYW5kIGBsYXN0SGl0YCBwcm9wZXJ0aWVzIGFuZCB0aGVpciBhcHByb3ByaWF0ZSB2YWx1ZXMuXG4gICAqIEBzZWUgbW9kdWxlOmZpbHRlclN0YXRlLkZpbHRlclN0YXRlI3NlcmlhbGl6ZVxuICAgKiBAcGFja2FnZVxuICAgKi9cbiAgZnJvbU9iamVjdChmaWx0ZXJUZXh0LCBvYmplY3QpIHtcbiAgICBpZiAoIShcImRpc2FibGVkXCIgaW4gb2JqZWN0IHx8XG4gICAgICAgICAgXCJkaXNhYmxlZFN1YnNjcmlwdGlvbnNcIiBpbiBvYmplY3QgfHxcbiAgICAgICAgICBcImhpdENvdW50XCIgaW4gb2JqZWN0IHx8XG4gICAgICAgICAgXCJsYXN0SGl0XCIgaW4gb2JqZWN0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBzdGF0ZSA9IG5ldyBGaWx0ZXJTdGF0ZUVudHJ5KCk7XG4gICAgaWYgKFN0cmluZyhvYmplY3QuZGlzYWJsZWQpID09IFwidHJ1ZVwiKSB7XG4gICAgICBzdGF0ZS5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBvYmplY3QuZGlzYWJsZWRTdWJzY3JpcHRpb25zID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBzdGF0ZS5kaXNhYmxlZFN1YnNjcmlwdGlvbnMgPSBuZXcgU2V0KG9iamVjdC5kaXNhYmxlZFN1YnNjcmlwdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRlLmhpdENvdW50ID0gcGFyc2VJbnQob2JqZWN0LmhpdENvdW50LCAxMCkgfHwgMDtcbiAgICBzdGF0ZS5sYXN0SGl0ID0gcGFyc2VJbnQob2JqZWN0Lmxhc3RIaXQsIDEwKSB8fCAwO1xuICAgIGlmICghc3RhdGUuaXNFbXB0eSgpKSB7XG4gICAgICB0aGlzLm1hcC5zZXQoZmlsdGVyVGV4dCwgc3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIF91cGRhdGVTdGF0ZU9iamVjdChmaWx0ZXJUZXh0LCBkb1VwZGF0ZSkge1xuICAgIGxldCBzdGF0ZSA9IHRoaXMubWFwLmdldChmaWx0ZXJUZXh0KTtcbiAgICBpZiAoIXN0YXRlKSB7XG4gICAgICBzdGF0ZSA9IG5ldyBGaWx0ZXJTdGF0ZUVudHJ5KCk7XG4gICAgICB0aGlzLm1hcC5zZXQoZmlsdGVyVGV4dCwgc3RhdGUpO1xuICAgIH1cblxuICAgIGxldCBvbGRIaXRDb3VudCA9IHN0YXRlLmhpdENvdW50O1xuICAgIGxldCBvbGRMYXN0SGl0ID0gc3RhdGUubGFzdEhpdDtcbiAgICBsZXQgb2xkRW5hYmxlZCA9IHN0YXRlLmVuYWJsZWQ7XG4gICAgbGV0IG9sZERpc2FibGVkU3Vic2NyaXB0aW9ucyA9IG5ldyBTZXQoc3RhdGUuZGlzYWJsZWRTdWJzY3JpcHRpb25zKTtcblxuICAgIGRvVXBkYXRlKHN0YXRlKTtcblxuICAgIGxldCBuZXdIaXRDb3VudCA9IHN0YXRlLmhpdENvdW50O1xuICAgIGxldCBuZXdMYXN0SGl0ID0gc3RhdGUubGFzdEhpdDtcbiAgICBsZXQgbmV3RW5hYmxlZCA9IHN0YXRlLmVuYWJsZWQ7XG4gICAgbGV0IG5ld0Rpc2FibGVkU3Vic2NyaXB0aW9ucyA9IG5ldyBTZXQoc3RhdGUuZGlzYWJsZWRTdWJzY3JpcHRpb25zKTtcblxuICAgIGlmIChzdGF0ZS5pc0VtcHR5KCkpIHtcbiAgICAgIHRoaXMubWFwLmRlbGV0ZShmaWx0ZXJUZXh0KTtcbiAgICB9XG5cbiAgICBpZiAob2xkSGl0Q291bnQgIT09IG5ld0hpdENvdW50KSB7XG4gICAgICBmaWx0ZXJOb3RpZmllci5lbWl0KFwiZmlsdGVyU3RhdGUuaGl0Q291bnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SGl0Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9sZEhpdENvdW50KTtcbiAgICB9XG5cbiAgICBpZiAob2xkTGFzdEhpdCAhPT0gbmV3TGFzdEhpdCkge1xuICAgICAgZmlsdGVyTm90aWZpZXIuZW1pdChcImZpbHRlclN0YXRlLmxhc3RIaXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TGFzdEhpdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkTGFzdEhpdCk7XG4gICAgfVxuXG4gICAgaWYgKG9sZEVuYWJsZWQgIT09IG5ld0VuYWJsZWQpIHtcbiAgICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJmaWx0ZXJTdGF0ZS5lbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0VuYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9sZEVuYWJsZWQpO1xuICAgIH1cblxuICAgIGlmICghZGlzYWJsZWRTdWJzY3JpcHRpb25zRXF1YWxzKG9sZERpc2FibGVkU3Vic2NyaXB0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdEaXNhYmxlZFN1YnNjcmlwdGlvbnMpKSB7XG4gICAgICBmaWx0ZXJOb3RpZmllci5lbWl0KFwiZmlsdGVyU3RhdGUuZGlzYWJsZWRTdWJzY3JpcHRpb25zXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Rpc2FibGVkU3Vic2NyaXB0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkRGlzYWJsZWRTdWJzY3JpcHRpb25zKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBzdGF0ZSBmb3IgYSBzaW5nbGUgZmlsdGVyLlxuICogU2VlIHtAbGluayBtb2R1bGU6ZmlsdGVyU3RhdGUuRmlsdGVyU3RhdGV9XG4gKi9cbmNsYXNzIEZpbHRlclN0YXRlRW50cnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgaGl0IGNvdW50IG9mIHRoZSBmaWx0ZXIuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhpdENvdW50ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsYXN0IGhpdCB0aW1lIG9mIHRoZSBmaWx0ZXIgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBVbml4IGVwb2NoLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sYXN0SGl0ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgc3RhdGUgaXMgZW1wdHksIHNvIHdlIGtub3cgaWYgd2UgY2FuIGNsZWFuIGl0IHVwLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGl0Q291bnQgPT09IDAgJiZcbiAgICAgIHRoaXMubGFzdEhpdCA9PT0gMCAmJlxuICAgICAgIXRoaXMuZGlzYWJsZWQgJiZcbiAgICAgICF0aGlzLmRpc2FibGVkU3Vic2NyaXB0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGZpbHRlciBpcyBkaXNhYmxlZCBmb3IgYSBzcGVjaWZpZWQgc3Vic2NyaXB0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3Vic2NyaXB0aW9uVXJsIFRoZSBzdWJzY3JpcHRpb24gdG8gY2hlY2sgZm9yXG4gICAqIGVuYWJsZWQgLyBkaXNhYmxlZCBzdGF0ZS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0Rpc2FibGVkRm9yU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvblVybCkge1xuICAgIGlmICh0aGlzLmRpc2FibGVkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZGlzYWJsZWRTdWJzY3JpcHRpb25zICYmXG4gICAgICB0aGlzLmRpc2FibGVkU3Vic2NyaXB0aW9ucy5oYXMoc3Vic2NyaXB0aW9uVXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBkaXNhYmxlZCBzdGF0ZSBvZiBhIGZpbHRlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN1YnNjcmlwdGlvblVybCBUaGUgc3Vic2NyaXB0aW9uIHRvIGVuYWJsZSAvXG4gICAqIGRpc2FibGUgdGhlIGZpbHRlciBpbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBkaXNhYmxlZCBUaGUgbmV3IGRpc2FibGVkIHN0YXRlIG9mIHRoZSBmaWx0ZXIuXG4gICAqL1xuICBzZXREaXNhYmxlZEZvclN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25VcmwsIGRpc2FibGVkKSB7XG4gICAgZGVsZXRlIHRoaXMuZGlzYWJsZWQ7XG5cbiAgICBpZiAoIXRoaXMuZGlzYWJsZWRTdWJzY3JpcHRpb25zICYmICFkaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5kaXNhYmxlZFN1YnNjcmlwdGlvbnMpIHtcbiAgICAgIHRoaXMuZGlzYWJsZWRTdWJzY3JpcHRpb25zID0gbmV3IFNldCgpO1xuICAgIH1cblxuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgdGhpcy5kaXNhYmxlZFN1YnNjcmlwdGlvbnMuYWRkKHN1YnNjcmlwdGlvblVybCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlZFN1YnNjcmlwdGlvbnMuZGVsZXRlKHN1YnNjcmlwdGlvblVybCk7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZFN1YnNjcmlwdGlvbnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBkZWxldGUgdGhpcy5kaXNhYmxlZFN1YnNjcmlwdGlvbnM7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHRoZSBkaXNhYmxlZCBzdGF0dXMgb2YgdGhpcyBmaWx0ZXIgdG8gdGhlIGRlZmF1bHQgb2ZcbiAgICogZW5hYmxlZCBmb3IgYWxsIHN1YnNjcmlwdGlvbnMuXG4gICAqL1xuICByZXNldEVuYWJsZWQoKSB7XG4gICAgZGVsZXRlIHRoaXMuZGlzYWJsZWQ7XG4gICAgZGVsZXRlIHRoaXMuZGlzYWJsZWRTdWJzY3JpcHRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcHJlc2VudGF0aW9uIG9mIGZpbHRlciBzdGF0ZSBmb3IgdGhlIGRlcHJlY2F0ZWQgZ2xvYmFsIGVuYWJsaW5nXG4gICAqIGFuZCBkaXNhYmxpbmcgb2YgZmlsdGVycywgYXMgd2VsbCBhcyB0aGUgYGZpbHRlclN0YXRlLmVuYWJsZWRgXG4gICAqIGV2ZW50cy5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZXByZWNhdGVkIFByZWZlciB7QGxpbmsgaXNEaXNhYmxlZEZvclN1YnNjcmlwdGlvbn1cbiAgICovXG4gIGdldCBlbmFibGVkKCkge1xuICAgIHJldHVybiAhdGhpcy5kaXNhYmxlZDtcbiAgfVxuICBzZXQgZW5hYmxlZCh2YWx1ZSkge1xuICAgIGRlbGV0ZSB0aGlzLmRpc2FibGVkU3Vic2NyaXB0aW9ucztcbiAgICB0aGlzLmRpc2FibGVkID0gIXZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHR3byBzZXRzIG9mIGRpc2FibGVkIHN1YnNjcmlwdGlvbiB1cmxzIGNvbnRhaW4gZXhhY3RseVxuICogdGhlIHNhbWUgc3Vic2NyaXB0aW9uIHVybHMuXG4gKiBAcGFyYW0ge1NldDxzdHJpbmc+fSBvbGREaXNhYmxlZFN1YnNjcmlwdGlvbnNcbiAqIEBwYXJhbSB7U2V0PHN0cmluZz59IG5ld0Rpc2FibGVkU3Vic2NyaXB0aW9uc1xuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGRpc2FibGVkU3Vic2NyaXB0aW9uc0VxdWFscyhvbGREaXNhYmxlZFN1YnNjcmlwdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGlzYWJsZWRTdWJzY3JpcHRpb25zKSB7XG4gIGlmIChvbGREaXNhYmxlZFN1YnNjcmlwdGlvbnMuc2l6ZSAhPT0gbmV3RGlzYWJsZWRTdWJzY3JpcHRpb25zLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmb3IgKGxldCBvbGQgb2Ygb2xkRGlzYWJsZWRTdWJzY3JpcHRpb25zKSB7XG4gICAgaWYgKCFuZXdEaXNhYmxlZFN1YnNjcmlwdGlvbnMuaGFzKG9sZCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogTWFpbnRhaW5zIGZpbHRlciBzdGF0ZS5cbiAqL1xuZXhwb3J0cy5GaWx0ZXJTdGF0ZSA9IEZpbHRlclN0YXRlO1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLyoqIEBtb2R1bGUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGZpbGUgYGZpbHRlclN0b3JhZ2VgIG9iamVjdCByZXNwb25zaWJsZSBmb3IgbWFuYWdpbmcgdGhlIHVzZXInc1xuICogc3Vic2NyaXB0aW9ucyBhbmQgZmlsdGVycy5cbiAqL1xuXG5jb25zdCB7SU99ID0gcmVxdWlyZShcImlvXCIpO1xuY29uc3Qge1ByZWZzfSA9IHJlcXVpcmUoXCJwcmVmc1wiKTtcbmNvbnN0IHtpc0FjdGl2ZUZpbHRlcn0gPSByZXF1aXJlKFwiLi9maWx0ZXJDbGFzc2VzXCIpO1xuY29uc3Qge1N1YnNjcmlwdGlvbiwgU3BlY2lhbFN1YnNjcmlwdGlvbn0gPSByZXF1aXJlKFwiLi9zdWJzY3JpcHRpb25DbGFzc2VzXCIpO1xuY29uc3Qge2ZpbHRlck5vdGlmaWVyfSA9IHJlcXVpcmUoXCIuL2ZpbHRlck5vdGlmaWVyXCIpO1xuY29uc3Qge0lOSVBhcnNlcn0gPSByZXF1aXJlKFwiLi9pbmlQYXJzZXJcIik7XG5jb25zdCB7RmlsdGVyU3RhdGV9ID0gcmVxdWlyZShcIi4vZmlsdGVyU3RhdGVcIik7XG5jb25zdCB7U3luY2hyb25pemVyfSA9IHJlcXVpcmUoXCIuL3N5bmNocm9uaXplclwiKTtcbmNvbnN0IHtGZWF0dXJlc30gPSByZXF1aXJlKFwiLi9mZWF0dXJlc1wiKTtcblxuLyoqXG4gKiBUaGUgRXJyb3IgdHlwZSByZXR1cm5lZCBieSBmaWx0ZXIgc3RvcmFnZS5cbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGV0YWlsIENvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlcnJvci5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZGV0YWlsLnRleHRdIFRoZSB0ZXh0IG9mIHRoZSBmaWx0ZXIgZm9yXG4gICAgIGBmaWx0ZXJfbm90X2ZvdW5kYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPHN0cmluZz59IFtkZXRhaWwuZXhpc3RdIFRoZSBsaXN0IG9mIGR1cGxpY2F0ZVxuICogICBmaWx0ZXJzLlxuICovXG5jbGFzcyBGaWx0ZXJTdG9yYWdlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKiBDb25zdHJ1Y3QgYSBGaWx0ZXJQYXJzaW5nRXJyb3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGV0YWlsIFRoZSBgRmlsdGVyU3RvcmFnZUVycm9yYCBkZXRhaWwuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBkZXRhaWwpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLmRldGFpbCA9IGRldGFpbDtcbiAgfVxufVxuXG5leHBvcnRzLkZpbHRlclN0b3JhZ2VFcnJvciA9IEZpbHRlclN0b3JhZ2VFcnJvcjtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTdGF0c1xuICogQHByb3BlcnR5IHtib29sZWFufSBleGlzdHNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsYXN0TW9kaWZpZWRcbiAqL1xuXG4vKipcbiAqIEEgY2FjaGUgZm9yIGFsbCBzb3VyY2UgZmlsZXMgYW5kIGJhY2t1cCBzdGF0cy5cbiAqIEB0eXBlIHtNYXA8c3RyaW5nLCBTdGF0cz59XG4gKiBAcHJpdmF0ZVxuICovXG5sZXQgc3RhdHMgPSBuZXcgTWFwKCk7XG5cbi8qKlxuICogQW4gYXN5bmNocm9ub3VzIGd1YXJkIGZvciBtdWx0aXBsZSBiYWNrdXBzIHJlbm1haW5nIG9wZXJhdGlvbnMuIEl0IGdldHNcbiAqIHJlYXNzaWduZWQgdG8gYSBuZXcgUHJvbWlzZSB0aGF0IHJlbmFtZSBhbGwgYmFja3VwcyBvbmUgbW9yZSB0aW1lLlxuICogQHR5cGUge1Byb21pc2U8dm9pZD59XG4gKiBAcHJpdmF0ZVxuICovXG5sZXQgYmFja3VwUXVldWUgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuLyoqXG4gKiBWZXJzaW9uIG51bWJlciBvZiB0aGUgZmlsdGVyIHN0b3JhZ2UgZmlsZSBmb3JtYXQuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5jb25zdCBGT1JNQVRfVkVSU0lPTiA9IDU7XG5cbi8qKlxuICogUmVhZHMgdGhlIHVzZXIncyBmaWx0ZXJzIGZyb20gZGlzaywgbWFuYWdlcyB0aGVtIGluIG1lbW9yeSwgYW5kIHdyaXRlcyB0aGVtXG4gKiBiYWNrIHRvIGRpc2suXG4gKi9cbmNsYXNzIEZpbHRlclN0b3JhZ2Uge1xuICAvKipcbiAgICogQHR5cGVkZWYgRmlsdGVyU3RvcmFnZU9wdGlvbnNcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQHByb3BlcnR5IHs/bW9kdWxlOmZlYXR1cmVzLkZlYXR1cmVzfSBmZWF0dXJlcyBFbmFibGUgc3BlY2lmaWMgZmVhdHVyZXNcbiAgICovXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBGaWx0ZXJTdG9yYWdlXG4gICAqXG4gICAqIEBwYXJhbSB7P0ZpbHRlclN0b3JhZ2VPcHRpb25zfSBvcHRpb25zIFRoZSBvcHRpb25zIHRvIGNyZWF0ZSB0aGUgc3RvcmFnZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBXaWxsIGJlIHNldCB0byBgdHJ1ZWAgYWZ0ZXIgdGhlIGluaXRpYWxcbiAgICAgKiBge0BsaW5rIG1vZHVsZTpmaWx0ZXJTdG9yYWdlLkZpbHRlclN0b3JhZ2UjbG9hZEZyb21EaXNrIGxvYWRGcm9tRGlzaygpfWBcbiAgICAgKiBjYWxsIGNvbXBsZXRlcy5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIGJlIHNldCB0byBgdHJ1ZWAgaWYgbm8gYHBhdHRlcm5zLmluaWAgZmlsZSBleGlzdHMuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5maXJzdFJ1biA9IGZhbHNlO1xuXG4gICAgLyoqIEFjdGl2YXRlZCBmZWF0dXJlc1xuICAgICAqIEB0eXBlIHtGZWF0dXJlc31cbiAgICAgKi9cbiAgICB0aGlzLmZlYXR1cmVzID0gb3B0aW9ucyA/IG9wdGlvbnMuZmVhdHVyZXMgOiBGZWF0dXJlcy5ERUZBVUxUO1xuICAgIFN1YnNjcmlwdGlvbi5kbnIgPSAodGhpcy5mZWF0dXJlcyAmIEZlYXR1cmVzLkROUikgIT0gMDtcblxuICAgIC8qKlxuICAgICAqIE1hcCBvZiBwcm9wZXJ0aWVzIGxpc3RlZCBpbiB0aGUgZmlsdGVyIHN0b3JhZ2UgZmlsZSBiZWZvcmUgdGhlIHNlY3Rpb25zXG4gICAgICogc3RhcnQuIFJpZ2h0IG5vdyB0aGlzIHNob3VsZCBiZSBvbmx5IHRoZSBmb3JtYXQgdmVyc2lvbi5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuZmlsZVByb3BlcnRpZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgLyoqXG4gICAgICogTWFwIG9mIHN1YnNjcmlwdGlvbnMgYWxyZWFkeSBvbiB0aGUgbGlzdCwgYnkgdGhlaXIgVVJML2lkZW50aWZpZXIuXG4gICAgICogQHR5cGUge01hcC48c3RyaW5nLG1vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9rbm93blN1YnNjcmlwdGlvbnMgPSBuZXcgTWFwKCk7XG5cbiAgICAvKipcbiAgICAgKiBNYXAgb2Ygc3Vic2NyaXB0aW9ucyB3aXRoIG1ldGFkYXRhLCBieSB0aGVpciBVUkwvaWRlbnRpZmllci5cbiAgICAgKlxuICAgICAqIEl0IGNhbiBiZSB1c2VkIHRvIGFuc3dlciBcIndoaWNoIHN1YnNjcmlwdGlvbnMgaGF2ZSBtZXRhZGF0YT9cIi5cbiAgICAgKiBAdHlwZSB7TWFwLjxzdHJpbmcsbW9kdWxlOnN1YnNjcmlwdGlvbkNsYXNzZXMuU3Vic2NyaXB0aW9uPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX21ldGFkYXRhU3Vic2NyaXB0aW9ucyA9IG5ldyBNYXAoKTtcblxuICAgIC8qKlxuICAgICAqIFdpbGwgYmUgc2V0IHRvIGB0cnVlYCBpZlxuICAgICAqIGB7QGxpbmsgbW9kdWxlOmZpbHRlclN0b3JhZ2UuRmlsdGVyU3RvcmFnZSNzYXZlVG9EaXNrIHNhdmVUb0Rpc2soKX1gXG4gICAgICogaXMgcnVubmluZyAocmVlbnRyYW5jZSBwcm90ZWN0aW9uKS5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3NhdmluZyA9IGZhbHNlO1xuICAgIHRoaXMuX2luaXRTYXZpbmcoKTtcblxuICAgIC8qKlxuICAgICAqIFdpbGwgYmUgc2V0IHRvIGB0cnVlYCBpZiBhXG4gICAgICogYHtAbGluayBtb2R1bGU6ZmlsdGVyU3RvcmFnZS5GaWx0ZXJTdG9yYWdlI3NhdmVUb0Rpc2sgc2F2ZVRvRGlzaygpfWBcbiAgICAgKiBjYWxsIGFycml2ZXMgd2hpbGVcbiAgICAgKiBge0BsaW5rIG1vZHVsZTpmaWx0ZXJTdG9yYWdlLkZpbHRlclN0b3JhZ2Ujc2F2ZVRvRGlzayBzYXZlVG9EaXNrKCl9YFxuICAgICAqIGlzIGFscmVhZHkgcnVubmluZyAoZGVsYXllZCBleGVjdXRpb24pLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbmVlZHNTYXZlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHByb3BlcnR5IGlzIGZvciB0ZXN0aW5nIHB1cnBvc2Ugb25seSBhbmQgaXQgc2hvdWxkIG5ldmVyIGJlIHVzZWRcbiAgICAgKiBkaXJlY3RseSB2aWEgY29kZS5cbiAgICAgKiBAdHlwZSB7TWFwPHN0cmluZywgU3RhdHM+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fc3RhdHMgPSBzdGF0cztcblxuICAgIHRoaXMuc3luY2hyb25pemVyID0gbmV3IFN5bmNocm9uaXplcih0aGlzKTtcbiAgICB0aGlzLmZpbHRlclN0YXRlID0gbmV3IEZpbHRlclN0YXRlKCk7XG4gIH1cblxuICBfaW5pdFNhdmluZygpIHtcbiAgICBpZiAodGhpcy5fc2F2aW5nKSB7XG4gICAgICBjb25zdCBmcyA9IHRoaXM7XG4gICAgICB0aGlzLl9zYXZpbmdQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBmcy5fc2F2aW5nUHJvbWlzZVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICBmcy5fc2F2aW5nUHJvbWlzZVJlamVjdCA9IHJlamVjdDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmICh0aGlzLl9zYXZpbmdQcm9taXNlUmVzb2x2ZSkge1xuICAgICAgICB0aGlzLl9zYXZpbmdQcm9taXNlUmVzb2x2ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zYXZpbmdQcm9taXNlID0gbnVsbDtcbiAgICAgIHRoaXMuX3NhdmluZ1Byb21pc2VSZXNvbHZlID0gbnVsbDtcbiAgICAgIHRoaXMuX3NhdmluZ1Byb21pc2VSZWplY3QgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHNldFNhdmluZyhuZXdWYWx1ZSwgc2tpcEluaXQgPSBmYWxzZSkge1xuICAgIGlmIChuZXdWYWx1ZSA9PSB0aGlzLl9zYXZpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fc2F2aW5nID0gbmV3VmFsdWU7XG4gICAgaWYgKCFza2lwSW5pdCkge1xuICAgICAgdGhpcy5faW5pdFNhdmluZygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgdmVyc2lvbiBudW1iZXIgb2YgdGhlIGBwYXR0ZXJucy5pbmlgIGZvcm1hdCB1c2VkLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IGZvcm1hdFZlcnNpb24oKSB7XG4gICAgcmV0dXJuIEZPUk1BVF9WRVJTSU9OO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBmaWxlIGNvbnRhaW5pbmcgdGhlIHN1YnNjcmlwdGlvbnMuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHNvdXJjZUZpbGUoKSB7XG4gICAgcmV0dXJuIFwicGF0dGVybnMuaW5pXCI7XG4gIH1cblxuICAvKipcbiAgICogWWllbGRzIHN1YnNjcmlwdGlvbnMgaW4gdGhlIHN0b3JhZ2UuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gW2ZpbHRlclRleHRdIFRoZSBmaWx0ZXIgdGV4dCBmb3Igd2hpY2ggdG8gbG9vay4gSWZcbiAgICogICBzcGVjaWZpZWQsIHRoZSBmdW5jdGlvbiB5aWVsZHMgb25seSB0aG9zZSBzdWJzY3JpcHRpb25zIHRoYXQgY29udGFpbiB0aGVcbiAgICogICBnaXZlbiBmaWx0ZXIgdGV4dC4gQnkgZGVmYXVsdCB0aGUgZnVuY3Rpb24geWllbGRzIGFsbCBzdWJzY3JpcHRpb25zLlxuICAgKiBAeWllbGRzIHttb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5TdWJzY3JpcHRpb259XG4gICAqL1xuICAqc3Vic2NyaXB0aW9ucyhmaWx0ZXJUZXh0ID0gbnVsbCkge1xuICAgIGlmIChmaWx0ZXJUZXh0ID09IG51bGwpIHtcbiAgICAgIHlpZWxkKiB0aGlzLl9rbm93blN1YnNjcmlwdGlvbnMudmFsdWVzKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9yIChsZXQgc3Vic2NyaXB0aW9uIG9mIHRoaXMuX2tub3duU3Vic2NyaXB0aW9ucy52YWx1ZXMoKSkge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLmhhc0ZpbHRlclRleHQoZmlsdGVyVGV4dCkpIHtcbiAgICAgICAgICB5aWVsZCBzdWJzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHN1YnNjcmlwdGlvbnMgaW4gdGhlIHN0b3JhZ2UuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gW2ZpbHRlclRleHRdIFRoZSBmaWx0ZXIgdGV4dCBmb3Igd2hpY2ggdG8gbG9vay4gSWZcbiAgICogICBzcGVjaWZpZWQsIHRoZSBmdW5jdGlvbiBjb3VudHMgb25seSB0aG9zZSBzdWJzY3JpcHRpb25zIHRoYXQgY29udGFpbiB0aGVcbiAgICogICBnaXZlbiBmaWx0ZXIgdGV4dC4gQnkgZGVmYXVsdCB0aGUgZnVuY3Rpb24gY291bnRzIGFsbCBzdWJzY3JpcHRpb25zLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0U3Vic2NyaXB0aW9uQ291bnQoZmlsdGVyVGV4dCA9IG51bGwpIHtcbiAgICBpZiAoZmlsdGVyVGV4dCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5fa25vd25TdWJzY3JpcHRpb25zLnNpemU7XG4gICAgfVxuXG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGxldCBzdWJzY3JpcHRpb24gb2YgdGhpcy5fa25vd25TdWJzY3JpcHRpb25zLnZhbHVlcygpKSB7XG4gICAgICBpZiAoc3Vic2NyaXB0aW9uLmhhc0ZpbHRlclRleHQoZmlsdGVyVGV4dCkpIHtcbiAgICAgICAgY291bnQrKztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBmaWx0ZXIgZ3JvdXAgdGhhdCBhIGZpbHRlciBzaG91bGQgYmUgYWRkZWQgdG8gYnkgZGVmYXVsdC4gV2lsbFxuICAgKiByZXR1cm4gYG51bGxgIGlmIHRoaXMgZ3JvdXAgZG9lc24ndCBleGlzdCB5ZXQuXG4gICAqIEBwYXJhbSB7RmlsdGVyfSBmaWx0ZXJcbiAgICogQHJldHVybnMgez9tb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5TcGVjaWFsU3Vic2NyaXB0aW9ufVxuICAgKi9cbiAgZ2V0R3JvdXBGb3JGaWx0ZXIoZmlsdGVyKSB7XG4gICAgbGV0IGdlbmVyYWxTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgIGZvciAobGV0IHN1YnNjcmlwdGlvbiBvZiB0aGlzLl9rbm93blN1YnNjcmlwdGlvbnMudmFsdWVzKCkpIHtcbiAgICAgIC8vIFdlIGlnbm9yZSBkaXNhYmxlZCBzdWJzY3JpcHRpb25zIGFuZCBzdWJzY3JpcHRpb25zXG4gICAgICAvLyB3aXRob3V0IG1ldGFkYXRhXG4gICAgICBpZiAoXG4gICAgICAgIHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFNwZWNpYWxTdWJzY3JpcHRpb24gJiZcbiAgICAgICAgIXN1YnNjcmlwdGlvbi5kaXNhYmxlZCAmJiAhc3Vic2NyaXB0aW9uLm1ldGFkYXRhXG4gICAgICApIHtcbiAgICAgICAgLy8gQWx3YXlzIHByZWZlciBzcGVjaWFsaXplZCBzdWJzY3JpcHRpb25zXG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24uaXNEZWZhdWx0Rm9yKGZpbHRlcikpIHtcbiAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGdlbmVyYWwgc3Vic2NyaXB0aW9uIC0gc3RvcmUgaXQgYXMgZmFsbGJhY2tcbiAgICAgICAgaWYgKCFnZW5lcmFsU3Vic2NyaXB0aW9uICYmXG4gICAgICAgICAgICAoIXN1YnNjcmlwdGlvbi5kZWZhdWx0cyB8fCAhc3Vic2NyaXB0aW9uLmRlZmF1bHRzLmxlbmd0aCkpIHtcbiAgICAgICAgICBnZW5lcmFsU3Vic2NyaXB0aW9uID0gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBnZW5lcmFsU3Vic2NyaXB0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gc3Vic2NyaXB0aW9uIGlzIGluIHRoZSBzdG9yYWdlLlxuICAgKiBAcGFyYW0ge21vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbnxzdHJpbmd9IHN1YnNjcmlwdGlvblxuICAgKiAgIG9yIHRoZSBVUkwgb2YgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiBzdWJzY3JpcHRpb24gPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHRoaXMuX2tub3duU3Vic2NyaXB0aW9ucy5oYXMoc3Vic2NyaXB0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fa25vd25TdWJzY3JpcHRpb25zLmhhcyhzdWJzY3JpcHRpb24udXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRoZSBzdWJzY3JpcHRpb24gZnJvbSB0aGUgc3RvcmFnZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN1YnNjcmlwdGlvbiBUaGUgVVJMIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHttb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5TdWJzY3JpcHRpb259XG4gICAqL1xuICBnZXRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuX2tub3duU3Vic2NyaXB0aW9ucy5nZXQoc3Vic2NyaXB0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgc3Vic2NyaXB0aW9uIHRvIHRoZSBzdG9yYWdlLlxuICAgKiBAcGFyYW0ge21vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbn0gc3Vic2NyaXB0aW9uIFRoZVxuICAgKiAgIHN1YnNjcmlwdGlvbiB0byBiZSBhZGRlZC5cbiAgICovXG4gIGFkZFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pIHtcbiAgICBpZiAodGhpcy5fa25vd25TdWJzY3JpcHRpb25zLmhhcyhzdWJzY3JpcHRpb24udXJsKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2tub3duU3Vic2NyaXB0aW9ucy5zZXQoc3Vic2NyaXB0aW9uLnVybCwgc3Vic2NyaXB0aW9uKTtcblxuICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJzdWJzY3JpcHRpb24uYWRkZWRcIiwgc3Vic2NyaXB0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgc3Vic2NyaXB0aW9uIGZyb20gdGhlIHN0b3JhZ2UuXG4gICAqIEBwYXJhbSB7bW9kdWxlOnN1YnNjcmlwdGlvbkNsYXNzZXMuU3Vic2NyaXB0aW9ufSBzdWJzY3JpcHRpb24gVGhlXG4gICAqICAgc3Vic2NyaXB0aW9uIHRvIGJlIHJlbW92ZWQuXG4gICAqL1xuICByZW1vdmVTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKSB7XG4gICAgaWYgKCF0aGlzLl9rbm93blN1YnNjcmlwdGlvbnMuaGFzKHN1YnNjcmlwdGlvbi51cmwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fa25vd25TdWJzY3JpcHRpb25zLmRlbGV0ZShzdWJzY3JpcHRpb24udXJsKTtcbiAgICB0aGlzLl9tZXRhZGF0YVN1YnNjcmlwdGlvbnMuZGVsZXRlKHN1YnNjcmlwdGlvbi51cmwpO1xuXG4gICAgLy8gVGhpcyBzaG91bGQgYmUgdGhlIGxhc3QgcmVtYWluaW5nIHJlZmVyZW5jZSB0byB0aGUgU3Vic2NyaXB0aW9uXG4gICAgLy8gb2JqZWN0LlxuICAgIFN1YnNjcmlwdGlvbi5rbm93blN1YnNjcmlwdGlvbnMuZGVsZXRlKHN1YnNjcmlwdGlvbi51cmwpO1xuXG4gICAgZmlsdGVyTm90aWZpZXIuZW1pdChcInN1YnNjcmlwdGlvbi5yZW1vdmVkXCIsIHN1YnNjcmlwdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgdGhlIHN1YnNjcmlwdGlvbnMgZnJvbSB0aGUgc3RvcmFnZSAoZmFzdCwgZm9yIHRlc3RpbmcpLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NsZWFyKCkge1xuICAgIHRoaXMuX2tub3duU3Vic2NyaXB0aW9ucy5jbGVhcigpO1xuICAgIHRoaXMuX21ldGFkYXRhU3Vic2NyaXB0aW9ucy5jbGVhcigpO1xuICAgIFN1YnNjcmlwdGlvbi5rbm93blN1YnNjcmlwdGlvbnMuY2xlYXIoKTtcbiAgICB0aGlzLl9zdGF0cy5jbGVhcigpO1xuXG4gICAgLy8gbm90IHVzaW5nIGBzZXRTYXZpbmcoZmFsc2UpYCBhcyBpdCBtaWdodCBub3QgcmVzb2x2ZVxuICAgIC8vIHBvc3NpYmxlIHNhdmluZyBwcm9taXNlIGlmIHJlU2F2aW5nIGlzIGluIHByb2dyZXNzLlxuICAgIHRoaXMuX3NhdmluZyA9IGZhbHNlO1xuICAgIHRoaXMuX2luaXRTYXZpbmcoKTtcblxuICAgIHRoaXMuX25lZWRzU2F2ZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5maWx0ZXJTdGF0ZSA9IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSBsaXN0IG9mIGZpbHRlcnMgaW4gYSBzdWJzY3JpcHRpb24gd2l0aCBhIG5ldyBsaXN0LlxuICAgKiBAcGFyYW0ge21vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbn0gc3Vic2NyaXB0aW9uIFRoZVxuICAgKiAgIHN1YnNjcmlwdGlvbiB0byBiZSB1cGRhdGVkLlxuICAgKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBmaWx0ZXJUZXh0IFRoZSBuZXcgZmlsdGVyIHRleHQuXG4gICAqL1xuICB1cGRhdGVTdWJzY3JpcHRpb25GaWx0ZXJzKHN1YnNjcmlwdGlvbiwgZmlsdGVyVGV4dCkge1xuICAgIGxldCB1cGRhdGUgPSBzdWJzY3JpcHRpb24udXBkYXRlRmlsdGVyVGV4dChmaWx0ZXJUZXh0KTtcbiAgICBmaWx0ZXJOb3RpZmllci5lbWl0KFxuICAgICAgXCJzdWJzY3JpcHRpb24udXBkYXRlZFwiLFxuICAgICAgc3Vic2NyaXB0aW9uLFxuICAgICAgdXBkYXRlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBmaWx0ZXIgZXhpc3RzIGluIGFueSBhY3RpdmUgc3BlY2lhbCBzdWJzY3JpcHRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RmlsdGVyfSBmaWx0ZXIgVGhlIGZpbHRlciB0byBjaGVjay5cbiAgICogQHJldHVybiB7Ym9vbH0gVHJ1ZSBpZiB0aGUgZmlsdGVyIGFwcGVhcnMgaW4gYSBzcGVjaWFsIHN1YnNjcmlwdGlvbi5cbiAgICovXG4gIGZpbHRlckV4aXN0cyhmaWx0ZXIpIHtcbiAgICBmb3IgKGxldCBjdXJyZW50U3Vic2NyaXB0aW9uIG9mIHRoaXMuX2tub3duU3Vic2NyaXB0aW9ucy52YWx1ZXMoKSkge1xuICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBTcGVjaWFsU3Vic2NyaXB0aW9uICYmXG4gICAgICAgICAgIWN1cnJlbnRTdWJzY3JpcHRpb24uZGlzYWJsZWQgJiZcbiAgICAgICAgICBjdXJyZW50U3Vic2NyaXB0aW9uLmhhc0ZpbHRlclRleHQoZmlsdGVyLnRleHQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHVzZXItZGVmaW5lZCBmaWx0ZXJzIHRvIHRoZSBzdG9yYWdlIHdpdGggbWV0YWRhdGEuIEZpbHRlcnMgd2hpY2hcbiAgICogYWxyZWFkeSBleGlzdCBpbiBhIHNwZWNpYWwgc3Vic2NyaXB0aW9uIGFyZSBza2lwcGVkLlxuICAgKlxuICAgKiBAYXN5bmNcbiAgICogQHBhcmFtIHtGaWx0ZXJ8QXJyYXk8RmlsdGVyPn0gZmlsdGVycyBGaWx0ZXIocykgdG8gYWRkLiBJZiB0aGUgbGlzdFxuICAgKiAgIGNvbnRhaW5zIGR1cGxpY2F0ZSBlbnRyaWVzLCB0aGV5J2xsIGJlIHNraXBwZWQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtZXRhZGF0YSBUaGUgbWV0YWRhdGEgYmxvY2suXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2U8bW9kdWxlOnN1YnNjcmlwdGlvbkNsYXNzZXMuU3BlY2lhbFN1YnNjcmlwdGlvbnxudWxsPn1cbiAgICogICBQcm9taXNlIHJlc29sdmVzIHRvIHRoZSBzdWJzY3JpcHRpb24gdGhlIG5ldyBmaWx0ZXJzIGFyZSBpbiwgb3IgbnVsbCBpZlxuICAgKiAgIG5vIGZpbHRlcnMgd2VyZSBhZGRlZC5cbiAgICovXG4gIGFzeW5jIGFkZEZpbHRlcnNXaXRoTWV0YWRhdGEoZmlsdGVycywgbWV0YWRhdGEpIHtcbiAgICBsZXQgbGlzdCA9IEFycmF5LmlzQXJyYXkoZmlsdGVycykgPyBmaWx0ZXJzIDogW2ZpbHRlcnNdO1xuXG4gICAgbGV0IG5ld0ZpbHRlcnMgPSBsaXN0LmZpbHRlcihmaWx0ZXIgPT4gIXRoaXMuZmlsdGVyRXhpc3RzKGZpbHRlcikpO1xuXG4gICAgaWYgKG5ld0ZpbHRlcnMubGVuZ3RoID09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGxldCBzdWJzY3JpcHRpb24gPSBudWxsO1xuXG4gICAgZm9yIChsZXQgZmlsdGVyIG9mIG5ld0ZpbHRlcnMpIHtcbiAgICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHN1YnNjcmlwdGlvbiA9IFNwZWNpYWxTdWJzY3JpcHRpb24uY3JlYXRlRm9yRmlsdGVyKGZpbHRlcik7XG4gICAgICB9XG4gICAgICAvLyBXZSBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBhIGR1cGxpY2F0ZSBhbHJlYWR5IGZyb20gYGZpbHRlcnNgLlxuICAgICAgZWxzZSBpZiAoIXN1YnNjcmlwdGlvbi5oYXNGaWx0ZXJUZXh0KGZpbHRlci50ZXh0KSkge1xuICAgICAgICBzdWJzY3JpcHRpb24uYWRkRmlsdGVyVGV4dChmaWx0ZXIudGV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fbWV0YWRhdGFTdWJzY3JpcHRpb25zLnNldChzdWJzY3JpcHRpb24udXJsLCBzdWJzY3JpcHRpb24pO1xuICAgIHRoaXMuYWRkU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG5cbiAgICBmb3IgKGxldCBmaWx0ZXIgb2YgbmV3RmlsdGVycykge1xuICAgICAgaWYgKHRoaXMuZmlsdGVyU3RhdGUuaXNEaXNhYmxlZEZvclN1YnNjcmlwdGlvbihcbiAgICAgICAgZmlsdGVyLnRleHQsIHN1YnNjcmlwdGlvbi51cmwpKSB7XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhdGUuc2V0RGlzYWJsZWRGb3JTdWJzY3JpcHRpb24oXG4gICAgICAgICAgZmlsdGVyLnRleHQsIHN1YnNjcmlwdGlvbi51cmwsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdWJzY3JpcHRpb24ubWV0YWRhdGEgPSBtZXRhZGF0YTtcblxuICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtZXRhZGF0YSBmb3IgYSBmaWx0ZXIuXG4gICAqXG4gICAqIEBhc3luY1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgZmlsdGVyIHRleHQuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8P09iamVjdD59IFRoZSBtZXRhZGF0YSBpZiBhbnkgZm91bmQuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBpdGVyYXRlIHRocm91Z2ggYWxsIHRoZSBzdWJzY3JpcHRpb25zIHdpdGggbWV0YWRhdGFcbiAgICogdG8gZmluZCBhIGBTcGVjaWFsU3Vic2NyaXB0aW9uYCB0aGF0IGNvbnRhaW5zIHRoZSBmaWx0ZXIgdGV4dC5cbiAgICovXG4gIGFzeW5jIGdldE1ldGFkYXRhRm9yRmlsdGVyKHRleHQpIHtcbiAgICBmb3IgKGxldCBjdXJyZW50U3Vic2NyaXB0aW9uIG9mIHRoaXMuX21ldGFkYXRhU3Vic2NyaXB0aW9ucy52YWx1ZXMoKSkge1xuICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpcHRpb24uaGFzRmlsdGVyVGV4dCh0ZXh0KSkge1xuICAgICAgICByZXR1cm4gY3VycmVudFN1YnNjcmlwdGlvbi5tZXRhZGF0YTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1ldGFkYXRhIGZvciBhIGZpbHRlciB0aGF0IGFscmVhZHkgaGFzIG1ldGFkYXRhLlxuICAgKlxuICAgKiBBIGZpbHRlciBjYW4gaGF2ZSBtZXRhZGF0YSBvbmx5IGlmIGl0IHdhcyBhZGRlZCB1c2luZ1xuICAgKiBgYWRkRmlsdGVyc1dpdGhNZXRhZGF0YSgpYC4gSXQgaXMgY3VycmVudGx5IG5vdCBwb3NzaWJsZSB0byBhZGQgbWV0YWRhdGFcbiAgICogdG8gYW4gZXhpc3RpbmcgY3VzdG9tIGZpbHRlciB0aGF0IHdhcyBhZGRlZCB3aXRoIGBhZGRGaWx0ZXIoKWAuIEluIHRoYXRcbiAgICogY2FzZSwgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGEgYGZpbHRlcl9ub3RfZm91bmRgIGVycm9yLlxuICAgKlxuICAgKiBAYXN5bmNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIGZpbHRlciB0ZXh0LlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWV0YWRhdGEgVGhlIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPG1vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlNwZWNpYWxTdWJzY3JpcHRpb24+fSBUaGVcbiAgICogICBzdWJzY3JpcHRpb24gd2hvc2UgbWV0YWRhdGEgd2FzIGNoYW5nZWQuXG4gICAqL1xuICBhc3luYyBzZXRNZXRhZGF0YUZvckZpbHRlcih0ZXh0LCBtZXRhZGF0YSkge1xuICAgIGZvciAobGV0IGN1cnJlbnRTdWJzY3JpcHRpb24gb2YgdGhpcy5fbWV0YWRhdGFTdWJzY3JpcHRpb25zLnZhbHVlcygpKSB7XG4gICAgICBpZiAoY3VycmVudFN1YnNjcmlwdGlvbi5oYXNGaWx0ZXJUZXh0KHRleHQpKSB7XG4gICAgICAgIGN1cnJlbnRTdWJzY3JpcHRpb24ubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRTdWJzY3JpcHRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEZpbHRlclN0b3JhZ2VFcnJvcihcImZpbHRlcl9ub3RfZm91bmRcIiwge3RleHR9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgYW5kIGVuYWJsZXMgdGhlIGZpbHRlciBmb3IgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbHRlclRleHQgVGhlIGZpbHRlciB0ZXh0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3Vic2NyaXB0aW9uVXJsIFRoZSBzdWJzY3JpcHRpb24gVVJMIHRvIGVuYWJsZSBmaWx0ZXIgZm9yLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW5hYmxlRmlsdGVyKGZpbHRlclRleHQsIHN1YnNjcmlwdGlvblVybCkge1xuICAgIGlmICh0aGlzLmZpbHRlclN0YXRlLmlzRGlzYWJsZWRGb3JTdWJzY3JpcHRpb24oXG4gICAgICBmaWx0ZXJUZXh0LCBzdWJzY3JpcHRpb25VcmwpKSB7XG4gICAgICB0aGlzLmZpbHRlclN0YXRlLnNldERpc2FibGVkRm9yU3Vic2NyaXB0aW9uKFxuICAgICAgICBmaWx0ZXJUZXh0LCBzdWJzY3JpcHRpb25VcmwsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIHVzZXItZGVmaW5lZCBmaWx0ZXIgdG8gdGhlIHN0b3JhZ2UuXG4gICAqXG4gICAqIEBhc3luY1xuICAgKiBAcGFyYW0ge0ZpbHRlcn0gZmlsdGVyXG4gICAqIEBwYXJhbSB7P21vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlNwZWNpYWxTdWJzY3JpcHRpb259IFtzdWJzY3JpcHRpb25dXG4gICAqICAgVGhlIHN1YnNjcmlwdGlvbiB0aGF0IHRoZSBmaWx0ZXIgc2hvdWxkIGJlIGFkZGVkIHRvLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uXSBUaGUgcG9zaXRpb24gd2l0aGluIHRoZSBzdWJzY3JpcHRpb24gYXQgd2hpY2hcbiAgICogICB0aGUgZmlsdGVyIHNob3VsZCBiZSBhZGRlZC4gSWYgbm90IHNwZWNpZmllZCwgdGhlIGZpbHRlciBpcyBhZGRlZCBhdCB0aGVcbiAgICogICBlbmQgb2YgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZTxtb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5TcGVjaWFsU3Vic2NyaXB0aW9uPn0gVGhlXG4gICAqICAgc3Vic2NyaXB0aW9uIHRoZSBmaWx0ZXIgaXMgaW4uIEVpdGhlciBleGlzdGluZyBvciBhZGRlZC5cbiAgICovXG4gIGFzeW5jIGFkZEZpbHRlcihmaWx0ZXIsIHN1YnNjcmlwdGlvbiwgcG9zaXRpb24pIHtcbiAgICBpZiAoIXN1YnNjcmlwdGlvbikge1xuICAgICAgZm9yIChsZXQgY3VycmVudFN1YnNjcmlwdGlvbiBvZiB0aGlzLl9rbm93blN1YnNjcmlwdGlvbnMudmFsdWVzKCkpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBTcGVjaWFsU3Vic2NyaXB0aW9uICYmXG4gICAgICAgICAgICAhY3VycmVudFN1YnNjcmlwdGlvbi5kaXNhYmxlZCAmJlxuICAgICAgICAgICAgY3VycmVudFN1YnNjcmlwdGlvbi5oYXNGaWx0ZXJUZXh0KGZpbHRlci50ZXh0KSkge1xuICAgICAgICAgIHJldHVybiBjdXJyZW50U3Vic2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdWJzY3JpcHRpb24gPSB0aGlzLmdldEdyb3VwRm9yRmlsdGVyKGZpbHRlcik7XG4gICAgfVxuICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICAvLyBObyBncm91cCBmb3IgdGhpcyBmaWx0ZXIgZXhpc3RzLCBjcmVhdGUgb25lXG4gICAgICBzdWJzY3JpcHRpb24gPSBTcGVjaWFsU3Vic2NyaXB0aW9uLmNyZWF0ZUZvckZpbHRlcihmaWx0ZXIpO1xuICAgICAgdGhpcy5hZGRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbiAgICAgIHRoaXMuZW5hYmxlRmlsdGVyKGZpbHRlci50ZXh0LCBzdWJzY3JpcHRpb24udXJsKTtcbiAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwb3NpdGlvbiA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBwb3NpdGlvbiA9IHN1YnNjcmlwdGlvbi5maWx0ZXJDb3VudDtcbiAgICB9XG5cbiAgICBzdWJzY3JpcHRpb24uaW5zZXJ0RmlsdGVyVGV4dEF0KGZpbHRlci50ZXh0LCBwb3NpdGlvbik7XG4gICAgdGhpcy5lbmFibGVGaWx0ZXIoZmlsdGVyLnRleHQsIHN1YnNjcmlwdGlvbi51cmwpO1xuICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJmaWx0ZXIuYWRkZWRcIiwgZmlsdGVyLCBzdWJzY3JpcHRpb24sIHBvc2l0aW9uKTtcbiAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSB1c2VyLWRlZmluZWQgZmlsdGVyIGZyb20gdGhlIHN0b3JhZ2UuXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuRmlsdGVyfSBmaWx0ZXJcbiAgICogQHBhcmFtIHs/bW9kdWxlOnN1YnNjcmlwdGlvbkNsYXNzZXMuU3BlY2lhbFN1YnNjcmlwdGlvbn0gW3N1YnNjcmlwdGlvbl1cbiAgICogICBUaGUgc3Vic2NyaXB0aW9uIHRoYXQgdGhlIGZpbHRlciBzaG91bGQgYmUgcmVtb3ZlZCBmcm9tLiBJZiBub3RcbiAgICogICBzcGVjaWZpZWQsIHRoZSBmaWx0ZXIgd2lsbCBiZSByZW1vdmVkIGZyb20gYWxsIHN1YnNjcmlwdGlvbnMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb25dIFRoZSBwb3NpdGlvbiB3aXRoaW4gdGhlIHN1YnNjcmlwdGlvbiBhdCB3aGljaFxuICAgKiAgIHRoZSBmaWx0ZXIgc2hvdWxkIGJlIHJlbW92ZWQuIElmIG5vdCBzcGVjaWZpZWQsIGFsbCBpbnN0YW5jZXMgb2YgdGhlXG4gICAqICAgZmlsdGVyIHdpbGwgYmUgcmVtb3ZlZC5cbiAgICovXG4gIHJlbW92ZUZpbHRlcihmaWx0ZXIsIHN1YnNjcmlwdGlvbiwgcG9zaXRpb24pIHtcbiAgICBsZXQgc3Vic2NyaXB0aW9ucyA9IChcbiAgICAgIHN1YnNjcmlwdGlvbiA/IFtzdWJzY3JpcHRpb25dIDogdGhpcy5fa25vd25TdWJzY3JpcHRpb25zLnZhbHVlcygpXG4gICAgKTtcbiAgICBmb3IgKGxldCBjdXJyZW50U3Vic2NyaXB0aW9uIG9mIHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgIGlmIChjdXJyZW50U3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgU3BlY2lhbFN1YnNjcmlwdGlvbiAmJlxuICAgICAgICAgIChjdXJyZW50U3Vic2NyaXB0aW9uID09IHN1YnNjcmlwdGlvbiB8fFxuICAgICAgICAgICBjdXJyZW50U3Vic2NyaXB0aW9uLmhhc0ZpbHRlclRleHQoZmlsdGVyLnRleHQpKSkge1xuICAgICAgICBsZXQgcG9zaXRpb25zID0gW107XG4gICAgICAgIGlmICh0eXBlb2YgcG9zaXRpb24gPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGxldCBpbmRleCA9IC0xO1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGluZGV4ID0gY3VycmVudFN1YnNjcmlwdGlvbi5maW5kRmlsdGVyVGV4dEluZGV4KFxuICAgICAgICAgICAgICBmaWx0ZXIudGV4dCwgaW5kZXggKyAxKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlIChpbmRleCA+PSAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBwb3NpdGlvbnMucHVzaChwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBqID0gcG9zaXRpb25zLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICAgICAgbGV0IGN1cnJlbnRQb3NpdGlvbiA9IHBvc2l0aW9uc1tqXTtcbiAgICAgICAgICBsZXQgY3VycmVudEZpbHRlclRleHQgPVxuICAgICAgICAgICAgY3VycmVudFN1YnNjcmlwdGlvbi5maWx0ZXJUZXh0QXQoY3VycmVudFBvc2l0aW9uKTtcbiAgICAgICAgICBpZiAoY3VycmVudEZpbHRlclRleHQgJiYgY3VycmVudEZpbHRlclRleHQgPT0gZmlsdGVyLnRleHQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdWJzY3JpcHRpb24uZGVsZXRlRmlsdGVyQXQoY3VycmVudFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXG4gICAgICAgICAgICAgIFwiZmlsdGVyLnJlbW92ZWRcIiwgZmlsdGVyLCBjdXJyZW50U3Vic2NyaXB0aW9uLCBjdXJyZW50UG9zaXRpb25cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1vdmVzIGEgdXNlci1kZWZpbmVkIGZpbHRlciB0byBhIG5ldyBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXJ9IGZpbHRlclxuICAgKiBAcGFyYW0ge21vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlNwZWNpYWxTdWJzY3JpcHRpb259IHN1YnNjcmlwdGlvbiBUaGVcbiAgICogICBzdWJzY3JpcHRpb24gd2hlcmUgdGhlIGZpbHRlciBpcyBsb2NhdGVkLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2xkUG9zaXRpb24gVGhlIGN1cnJlbnQgcG9zaXRpb24gb2YgdGhlIGZpbHRlci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG5ld1Bvc2l0aW9uIFRoZSBuZXcgcG9zaXRpb24gb2YgdGhlIGZpbHRlci5cbiAgICovXG4gIG1vdmVGaWx0ZXIoZmlsdGVyLCBzdWJzY3JpcHRpb24sIG9sZFBvc2l0aW9uLCBuZXdQb3NpdGlvbikge1xuICAgIGlmICghKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFNwZWNpYWxTdWJzY3JpcHRpb24pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGN1cnJlbnRGaWx0ZXJUZXh0ID0gc3Vic2NyaXB0aW9uLmZpbHRlclRleHRBdChvbGRQb3NpdGlvbik7XG4gICAgaWYgKCFjdXJyZW50RmlsdGVyVGV4dCB8fCBjdXJyZW50RmlsdGVyVGV4dCAhPSBmaWx0ZXIudGV4dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5ld1Bvc2l0aW9uID0gTWF0aC5taW4oTWF0aC5tYXgobmV3UG9zaXRpb24sIDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLmZpbHRlckNvdW50IC0gMSk7XG4gICAgaWYgKG9sZFBvc2l0aW9uID09IG5ld1Bvc2l0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3Vic2NyaXB0aW9uLmRlbGV0ZUZpbHRlckF0KG9sZFBvc2l0aW9uKTtcbiAgICBzdWJzY3JpcHRpb24uaW5zZXJ0RmlsdGVyVGV4dEF0KGZpbHRlci50ZXh0LCBuZXdQb3NpdGlvbik7XG4gICAgZmlsdGVyTm90aWZpZXIuZW1pdChcbiAgICAgIFwiZmlsdGVyLm1vdmVkXCIsIGZpbHRlciwgc3Vic2NyaXB0aW9uLCBvbGRQb3NpdGlvbiwgbmV3UG9zaXRpb25cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEluY3JlYXNlcyB0aGUgaGl0IGNvdW50IGZvciBhIGZpbHRlciBieSBvbmUuXG4gICAqIEBwYXJhbSB7RmlsdGVyfSBmaWx0ZXJcbiAgICovXG4gIGluY3JlYXNlSGl0Q291bnQoZmlsdGVyKSB7XG4gICAgaWYgKCFQcmVmcy5zYXZlc3RhdHMgfHwgIWlzQWN0aXZlRmlsdGVyKGZpbHRlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmZpbHRlclN0YXRlLnJlZ2lzdGVySGl0KGZpbHRlci50ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgaGl0IGNvdW50IGZvciBzb21lIGZpbHRlcnMuXG4gICAqIEBwYXJhbSB7P0FycmF5LjxGaWx0ZXI+fSBbZmlsdGVyc10gVGhlIGZpbHRlcnMgdG8gYmUgcmVzZXQuIElmIG5vdFxuICAgKiAgIHNwZWNpZmllZCwgYWxsIGZpbHRlcnMgd2lsbCBiZSByZXNldC5cbiAgICovXG4gIHJlc2V0SGl0Q291bnRzKGZpbHRlcnMpIHtcbiAgICBpZiAoZmlsdGVycykge1xuICAgICAgZm9yIChsZXQgZmlsdGVyIG9mIGZpbHRlcnMpIHtcbiAgICAgICAgdGhpcy5maWx0ZXJTdGF0ZS5yZXNldEhpdHMoZmlsdGVyLnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGZvciAobGV0IHRleHQgb2YgdGhpcy5maWx0ZXJTdGF0ZS5tYXAua2V5cygpKSB7XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhdGUucmVzZXRIaXRzKHRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAY2FsbGJhY2sgVGV4dFNpbmtcbiAgICogQHBhcmFtIHtzdHJpbmc/fSBsaW5lXG4gICAqL1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgaW1wb3J0aW5nIHByZXZpb3VzbHkgc2VyaWFsaXplZCBmaWx0ZXIgZGF0YS5cbiAgICogQHBhcmFtIHtib29sZWFufSBzaWxlbnQgSWYgYHRydWVgLCBubyBcImxvYWRcIiBub3RpZmljYXRpb24gd2lsbCBiZSBzZW50XG4gICAqICAgb3V0LlxuICAgKiBAcmV0dXJucyB7VGV4dFNpbmt9IFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgZm9yIGVhY2ggbGluZSBvZiBkYXRhLlxuICAgKiAgIENhbGxpbmcgaXQgd2l0aCBgbnVsbGAgYXMgdGhlIGFyZ3VtZW50IGZpbmFsaXplcyB0aGUgaW1wb3J0IGFuZCByZXBsYWNlc1xuICAgKiAgIGV4aXN0aW5nIGRhdGEuIE5vIGNoYW5nZXMgd2lsbCBiZSBhcHBsaWVkIGJlZm9yZSBmaW5hbGl6YXRpb24sIHNvIGltcG9ydFxuICAgKiAgIGNhbiBiZSBcImFib3J0ZWRcIiBieSBmb3JnZXR0aW5nIHRoaXMgY2FsbGJhY2suXG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBpbXBvcnREYXRhKHNpbGVudCkge1xuICAgIGxldCBwYXJzZXIgPSBuZXcgSU5JUGFyc2VyKHRoaXMuZmlsdGVyU3RhdGUpO1xuICAgIHJldHVybiBsaW5lID0+IHtcbiAgICAgIHBhcnNlci5wcm9jZXNzKGxpbmUpO1xuICAgICAgaWYgKGxpbmUgPT09IG51bGwpIHtcbiAgICAgICAgbGV0IGtub3duU3Vic2NyaXB0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgbGV0IG1ldGFkYXRhU3Vic2NyaXB0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChsZXQgc3Vic2NyaXB0aW9uIG9mIHBhcnNlci5zdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgLy8gQ29udmVydCB0byB0aGUgbmV3IHRlcm1pbm9sb2d5IHdoZW4gbG9hZGluZy5cbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdWJzY3JpcHRpb24uZGVmYXVsdHMpKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uZGVmYXVsdHMuZm9yRWFjaCgodHlwZSwgaSwgYXJyKSA9PiB7XG4gICAgICAgICAgICAgIGlmICh0eXBlID09IFwid2hpdGVsaXN0XCIpIHtcbiAgICAgICAgICAgICAgICBhcnJbaV0gPSBcImFsbG93aW5nXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrbm93blN1YnNjcmlwdGlvbnMuc2V0KHN1YnNjcmlwdGlvbi51cmwsIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5tZXRhZGF0YSkge1xuICAgICAgICAgICAgbWV0YWRhdGFTdWJzY3JpcHRpb25zLnNldChzdWJzY3JpcHRpb24udXJsLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlsZVByb3BlcnRpZXMgPSBwYXJzZXIuZmlsZVByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMuX2tub3duU3Vic2NyaXB0aW9ucyA9IGtub3duU3Vic2NyaXB0aW9ucztcbiAgICAgICAgdGhpcy5fbWV0YWRhdGFTdWJzY3JpcHRpb25zID0gbWV0YWRhdGFTdWJzY3JpcHRpb25zO1xuXG4gICAgICAgIGlmICghc2lsZW50KSB7XG4gICAgICAgICAgZmlsdGVyTm90aWZpZXIuZW1pdChcImxvYWRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIGFsbCBzdWJzY3JpcHRpb25zIGZyb20gZGlzay5cbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSByZXNvbHZlZCBvciByZWplY3RlZCB3aGVuIGxvYWRpbmcgaXMgY29tcGxldGUuXG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBhc3luYyBsb2FkRnJvbURpc2soKSB7XG4gICAgbGV0IHRyeUJhY2t1cCA9IGFzeW5jIGJhY2t1cEluZGV4ID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVzdG9yZUJhY2t1cChiYWNrdXBJbmRleCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gR2l2ZSB1cFxuICAgICAgfVxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgbGV0IHN0YXREYXRhID0gYXdhaXQgc3RhdEZpbGUoRmlsdGVyU3RvcmFnZS5zb3VyY2VGaWxlKTtcblxuICAgICAgaWYgKCFzdGF0RGF0YS5leGlzdHMpIHtcbiAgICAgICAgdGhpcy5maXJzdFJ1biA9IHRydWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IHBhcnNlciA9IHRoaXMuaW1wb3J0RGF0YSh0cnVlKTtcbiAgICAgIGF3YWl0IElPLnJlYWRGcm9tRmlsZShGaWx0ZXJTdG9yYWdlLnNvdXJjZUZpbGUsIHBhcnNlcik7XG4gICAgICBwYXJzZXIobnVsbCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICAgIGF3YWl0IHRyeUJhY2t1cCgxKTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBmaWx0ZXJOb3RpZmllci5lbWl0KFwibG9hZFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIHRoZSBmaWxlIG5hbWUgZm9yIGEgYHBhdHRlcm5zLmluaWAgYmFja3VwLlxuICAgKiBAcGFyYW0ge251bWJlcn0gYmFja3VwSW5kZXggTnVtYmVyIG9mIHRoZSBiYWNrdXAgZmlsZSAoMSBiZWluZyB0aGUgbW9zdFxuICAgKiAgIHJlY2VudCkuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEJhY2t1cCBmaWxlIG5hbWUuXG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBzdGF0aWMgZ2V0QmFja3VwTmFtZShiYWNrdXBJbmRleCkge1xuICAgIGxldCBbbmFtZSwgZXh0ZW5zaW9uXSA9IEZpbHRlclN0b3JhZ2Uuc291cmNlRmlsZS5zcGxpdChcIi5cIiwgMik7XG4gICAgcmV0dXJuIChuYW1lICsgXCItYmFja3VwXCIgKyBiYWNrdXBJbmRleCArIFwiLlwiICsgZXh0ZW5zaW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN0b3JlcyBhbiBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYmFja3VwLlxuICAgKiBAcGFyYW0ge251bWJlcn0gYmFja3VwSW5kZXggTnVtYmVyIG9mIHRoZSBiYWNrdXAgdG8gcmVzdG9yZSAoMSBiZWluZyB0aGVcbiAgICogICBtb3N0IHJlY2VudCkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2lsZW50IElmIGB0cnVlYCwgbm8gXCJsb2FkXCIgbm90aWZpY2F0aW9uIHdpbGwgYmUgc2VudFxuICAgKiAgIG91dC5cbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSByZXNvbHZlZCBvciByZWplY3RlZCB3aGVuIHJlc3RvcmF0aW9uIGlzXG4gICAqICAgY29tcGxldGUuXG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBhc3luYyByZXN0b3JlQmFja3VwKGJhY2t1cEluZGV4LCBzaWxlbnQpIHtcbiAgICBsZXQgYmFja3VwRmlsZSA9IEZpbHRlclN0b3JhZ2UuZ2V0QmFja3VwTmFtZShiYWNrdXBJbmRleCk7XG4gICAgbGV0IHBhcnNlciA9IHRoaXMuaW1wb3J0RGF0YShzaWxlbnQpO1xuICAgIGF3YWl0IElPLnJlYWRGcm9tRmlsZShiYWNrdXBGaWxlLCBwYXJzZXIpO1xuICAgIHBhcnNlcihudWxsKTtcbiAgICByZXR1cm4gdGhpcy5zYXZlVG9EaXNrKCk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdG9yIHNlcmlhbGl6aW5nIGZpbHRlciBkYXRhIGFuZCB5aWVsZGluZyBpdCBsaW5lIGJ5IGxpbmUuXG4gICAqIEB5aWVsZHMge3N0cmluZ31cbiAgICovXG4gICpleHBvcnREYXRhKCkge1xuICAgIC8vIERvIG5vdCBwZXJzaXN0IGV4dGVybmFsIHN1YnNjcmlwdGlvbnNcbiAgICBsZXQgc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgIGZvciAobGV0IHN1YnNjcmlwdGlvbiBvZiB0aGlzLl9rbm93blN1YnNjcmlwdGlvbnMudmFsdWVzKCkpIHtcbiAgICAgIGlmICghKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFNwZWNpYWxTdWJzY3JpcHRpb24gJiZcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5maWx0ZXJDb3VudCA9PSAwKSkge1xuICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB5aWVsZCBcIiMgQWRibG9jayBQbHVzIHByZWZlcmVuY2VzXCI7XG4gICAgeWllbGQgXCJ2ZXJzaW9uPVwiICsgdGhpcy5mb3JtYXRWZXJzaW9uO1xuXG4gICAgbGV0IHNhdmVkID0gbmV3IFNldCgpO1xuXG4gICAgLy8gU2F2ZSBzdWJzY3JpcHRpb25zXG4gICAgZm9yIChsZXQgc3Vic2NyaXB0aW9uIG9mIHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgIHlpZWxkKiBzdWJzY3JpcHRpb24uc2VyaWFsaXplKCk7XG4gICAgICB5aWVsZCogc3Vic2NyaXB0aW9uLnNlcmlhbGl6ZUZpbHRlcnMoKTtcbiAgICB9XG5cbiAgICAvLyBTYXZlIGZpbHRlciBkYXRhXG4gICAgZm9yIChsZXQgc3Vic2NyaXB0aW9uIG9mIHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgIGZvciAobGV0IHRleHQgb2Ygc3Vic2NyaXB0aW9uLmZpbHRlclRleHQoKSkge1xuICAgICAgICBpZiAoIXNhdmVkLmhhcyh0ZXh0KSkge1xuICAgICAgICAgIHlpZWxkKiB0aGlzLmZpbHRlclN0YXRlLnNlcmlhbGl6ZSh0ZXh0KTtcbiAgICAgICAgICBzYXZlZC5hZGQodGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2F2ZXMgYWxsIHN1YnNjcmlwdGlvbnMgYmFjayB0byBkaXNrLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwSW5pdFNhdmVQcm9taXNlPWZhbHNlXSBTa2lwIGluaXQgbmV3IHNhdmluZyBwcm9taXNlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgd2hlbiBzYXZpbmcgaXMgY29tcGxldGUuXG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBhc3luYyBzYXZlVG9EaXNrKHNraXBJbml0U2F2ZVByb21pc2UgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLl9zYXZpbmcpIHtcbiAgICAgIHRoaXMuX25lZWRzU2F2ZSA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTYXZpbmcodHJ1ZSwgc2tpcEluaXRTYXZlUHJvbWlzZSk7XG4gICAgdHJ5IHtcbiAgICAgIGxldCB7cGF0dGVybnNiYWNrdXBzfSA9IFByZWZzO1xuICAgICAgbGV0IGlzQmFja3VwUmVxdWlyZWQgPSBhc3luYygpID0+IHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgd2hldGhlciB3ZSBuZWVkIHRvIGNyZWF0ZSBhIGJhY2t1cFxuICAgICAgICBpZiAocGF0dGVybnNiYWNrdXBzIDw9IDApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdERhdGEgPSBhd2FpdCBzdGF0RmlsZShGaWx0ZXJTdG9yYWdlLnNvdXJjZUZpbGUpO1xuICAgICAgICBpZiAoIXN0YXREYXRhLmV4aXN0cykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBiYWNrdXBTdGF0RGF0YSA9IGF3YWl0IHN0YXRGaWxlKEZpbHRlclN0b3JhZ2UuZ2V0QmFja3VwTmFtZSgxKSk7XG4gICAgICAgIGlmIChiYWNrdXBTdGF0RGF0YS5leGlzdHMgJiZcbiAgICAgICAgICAgIChEYXRlLm5vdygpIC0gYmFja3VwU3RhdERhdGEubGFzdE1vZGlmaWVkKSAvIDM2MDAwMDAgPFxuICAgICAgICAgICAgICBQcmVmcy5wYXR0ZXJuc2JhY2t1cGludGVydmFsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuXG4gICAgICBpZiAoYXdhaXQgaXNCYWNrdXBSZXF1aXJlZCgpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gaWYgcGF0dGVybnNiYWNrdXBzIGlzIDEganVzdCBjcmVhdGUgaXQsIG90aGVyd2lzZSBjcmVhdGUgYVxuICAgICAgICAgIC8vIGJhY2t1cC0wIHRoYXQgd2lsbCBiZSBzaGlmdGVkIGFtb25nIG90aGVycyBsYXRlciBvblxuICAgICAgICAgIGxldCBpID0gcGF0dGVybnNiYWNrdXBzID4gMSA/IDAgOiAxO1xuICAgICAgICAgIGF3YWl0IHJlbmFtZUZpbGUoXG4gICAgICAgICAgICBGaWx0ZXJTdG9yYWdlLnNvdXJjZUZpbGUsIEZpbHRlclN0b3JhZ2UuZ2V0QmFja3VwTmFtZShpKVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gYSBiYWNrdXAsIGJhY2t1cC0wIHVwIHRvIGJhY2t1cC1YIG5lZWQgdG8gYmVcbiAgICAgICAgICAvLyByZW5hbWVkIGJ1dCB3aXRob3V0IGJsb2NraW5nIHRoaXMgY2FsbGJhY2tcbiAgICAgICAgICBpZiAocGF0dGVybnNiYWNrdXBzID4gMSkge1xuICAgICAgICAgICAgLy8ga2VlcCBxdWV1ZWluZyBiYWNrdXBzIGFzIHRoZXNlIGNvbWUsIGNvbnNpZGVyaW5nIGJhY2t1cDEgYW5kXG4gICAgICAgICAgICAvLyBiYWNrdXAgMCBhcmUgYWx3YXlzIHNhZmUgdGhhbmtzIHRvIHRoZSB0aGlzLl9zYXZpbmcgZmxhZ1xuICAgICAgICAgICAgYmFja3VwUXVldWUgPSBiYWNrdXBRdWV1ZS50aGVuKCgpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICBsZXQgcmVuYW1lQWxsID0gYXN5bmMgaW5kZXggPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzb3VyY2UgPSBGaWx0ZXJTdG9yYWdlLmdldEJhY2t1cE5hbWUoaW5kZXggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlc3QgPSBGaWx0ZXJTdG9yYWdlLmdldEJhY2t1cE5hbWUoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZW5hbWVGaWxlKHNvdXJjZSwgZGVzdCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRXhwZWN0ZWQgZXJyb3IsIGJhY2t1cCBmaWxlIGRvZXNuJ3QgZXhpc3QuXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZW5hbWVBbGwoaW5kZXggLSAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZW5hbWVBbGwocGF0dGVybnNiYWNrdXBzKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBhY3R1YWxseSBhbiB1bmV4cGVjdGVkIGVycm9yIHRoYXQgY291bGQgaGFwcGVuIG9ubHkgaWZcbiAgICAgICAgICAvLyB0aGUgZGlzayBoYWQgaXNzdWVzIGluIHJlbmFtaW5nIHRoZSBzb3VyY2UgZmlsZS5cbiAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gRXJyb3JzIGR1cmluZyBiYWNrdXAgY3JlYXRpb24gc2hvdWxkbid0IHByZXZlbnQgd3JpdGluZyBmaWx0ZXJzLlxuICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgSU8ud3JpdGVUb0ZpbGUoRmlsdGVyU3RvcmFnZS5zb3VyY2VGaWxlLCB0aGlzLmV4cG9ydERhdGEoKSk7XG4gICAgICBzdGF0cy5zZXQoXG4gICAgICAgIEZpbHRlclN0b3JhZ2Uuc291cmNlRmlsZSwge2V4aXN0czogdHJ1ZSwgbGFzdE1vZGlmaWVkOiBEYXRlLm5vdygpfVxuICAgICAgKTtcbiAgICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJzYXZlXCIpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElmIHNhdmluZyBmYWlsZWQsIHJlcG9ydCBlcnJvciBidXQgY29udGludWUgLVxuICAgICAgLy8gd2Ugc3RpbGwgaGF2ZSB0byBwcm9jZXNzIGZsYWdzLlxuICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICAgIHN0YXRzLmRlbGV0ZShGaWx0ZXJTdG9yYWdlLnNvdXJjZUZpbGUpO1xuICAgIH1cblxuICAgIC8vIGlmIGl0IHN0aWxsIG5lZWRzIHJlU2F2aW5nLCBkb24ndCByZXNvbHZlIGN1cnJlbnQgcHJvbWlzZSBoZXJlIGFuZFxuICAgIC8vIHNraXAgY3JlYXRpbmcgbmV3IHByb21pc2UgaW4gaW50ZXJuYWwgYHNhdmVUb0Rpc2soKWAgYmVsb3dcbiAgICB0aGlzLnNldFNhdmluZyhmYWxzZSwgdGhpcy5fbmVlZHNTYXZlKTtcblxuICAgIGlmICh0aGlzLl9uZWVkc1NhdmUpIHtcbiAgICAgIHRoaXMuX25lZWRzU2F2ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5zYXZlVG9EaXNrKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGF3YWl0U2F2aW5nQ29tcGxldGUoKSB7XG4gICAgaWYgKCF0aGlzLl9zYXZpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLl9zYXZpbmdQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IEZpbGVJbmZvXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcHJvcGVydHkge251bWJlcn0gbGFzdE1vZGlmaWVkXG4gICAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSByZXNvbHZpbmcgaW4gYSBsaXN0IG9mIGV4aXN0aW5nIGJhY2t1cCBmaWxlcy5cbiAgICogQHJldHVybnMge1Byb21pc2UuPEFycmF5LjxGaWxlSW5mbz4+fVxuICAgKiBAcGFja2FnZVxuICAgKi9cbiAgYXN5bmMgZ2V0QmFja3VwRmlsZXMoKSB7XG4gICAgbGV0IGJhY2t1cHMgPSBbXTtcblxuICAgIGxldCBjaGVja0JhY2t1cEZpbGUgPSBhc3luYyBpbmRleCA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgc3RhdERhdGEgPSBhd2FpdCBzdGF0RmlsZShGaWx0ZXJTdG9yYWdlLmdldEJhY2t1cE5hbWUoaW5kZXgpKTtcbiAgICAgICAgaWYgKCFzdGF0RGF0YS5leGlzdHMpIHtcbiAgICAgICAgICByZXR1cm4gYmFja3VwcztcbiAgICAgICAgfVxuXG4gICAgICAgIGJhY2t1cHMucHVzaCh7XG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgbGFzdE1vZGlmaWVkOiBzdGF0RGF0YS5sYXN0TW9kaWZpZWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNoZWNrQmFja3VwRmlsZShpbmRleCArIDEpO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFNvbWV0aGluZyB3ZW50IHdyb25nLCByZXR1cm4gd2hhdGV2ZXIgZGF0YSB3ZSBnb3Qgc28gZmFyLlxuICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgICByZXR1cm4gYmFja3VwcztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGNoZWNrQmFja3VwRmlsZSgxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGNhY2hlXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsZWFyU3RhdHMoKSB7XG4gICAgdGhpcy5fc3RhdHMuY2xlYXIoKTtcbiAgfVxufVxuXG5leHBvcnRzLkZpbHRlclN0b3JhZ2UgPSBGaWx0ZXJTdG9yYWdlO1xuXG4vKipcbiAqIEdpdmVuIGEgcGF0aCwgcmV0dXJuIGl0cyBzdGF0cywgaWYga25vd24sIG9yIGEgU3RhdHMgb2JqZWN0IHdpdGggcHJvcGVydGllc1xuICogZXhpc3RzID0gZmFsc2UgYW5kIGxhc3RNb2RpZmllZCA9IDAuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICogQHJldHVybnMge1N0YXRzfVxuICovXG5hc3luYyBmdW5jdGlvbiBzdGF0RmlsZShwYXRoKSB7XG4gIGxldCBrbm93biA9IHN0YXRzLmdldChwYXRoKTtcbiAgaWYgKGtub3duKSB7XG4gICAgcmV0dXJuIGtub3duO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBrbm93biA9IGF3YWl0IElPLnN0YXRGaWxlKHBhdGgpO1xuICB9XG4gIGNhdGNoIChlcnJvcikge1xuICAgIGtub3duID0ge2V4aXN0czogZmFsc2UsIGxhc3RNb2RpZmllZDogMH07XG4gIH1cbiAgc3RhdHMuc2V0KHBhdGgsIGtub3duKTtcbiAgcmV0dXJuIGtub3duO1xufVxuXG4vKipcbiAqIEdpdmVuIGEgc291cmNlIHBhdGggYW5kIGEgZGVzdGluYXRpb24gcGF0aCwgdHJpZXMgdG8gcmVuYW1lIHRoZSBzb3VyY2UgYW5kLFxuICogaWYgaXQgc3VjY2VlZCwgcmVtb3ZlIHRoZSBzb3VyY2UgZnJvbSB0aGUgc3RhdHMgYW5kIHNldCBzdGF0cyBmb3IgZGVzdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBkZXN0XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJlbmFtZUZpbGUoc291cmNlLCBkZXN0KSB7XG4gIGF3YWl0IElPLnJlbmFtZUZpbGUoc291cmNlLCBkZXN0KTtcbiAgc3RhdHMuZGVsZXRlKHNvdXJjZSk7XG4gIHN0YXRzLnNldChkZXN0LCB7ZXhpc3RzOiB0cnVlLCBsYXN0TW9kaWZpZWQ6IERhdGUubm93KCl9KTtcbn1cbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKiogQG1vZHVsZSAqL1xuXG5jb25zdCB7Y29udGVudFR5cGVzLCBSRVNPVVJDRV9UWVBFU30gPSByZXF1aXJlKFwiLi4vY29udGVudFR5cGVzXCIpO1xuXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGNvbnRlbnQgZmlsdGVycyBzaG91bGQgbWF0Y2hcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKi9cbmNvbnN0IENPTlRFTlRfRklMVEVSID0gL14oW14vfEBcIiFdKj8pIyhbQD8kXSk/IyguKykkLztcbmV4cG9ydHMuQ09OVEVOVF9GSUxURVIgPSBDT05URU5UX0ZJTFRFUjtcblxuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBvcHRpb25zIG9uIGEgUmVnRXhwIGZpbHRlciBzaG91bGQgbWF0Y2hcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKi9cbmNvbnN0IEZJTFRFUl9PUFRJT05TID0gL1xcJCh+P1tcXHctXSsoPzo9W14sXSopPyg/Oix+P1tcXHctXSsoPzo9W14sXSopPykqKSQvO1xuZXhwb3J0cy5GSUxURVJfT1BUSU9OUyA9IEZJTFRFUl9PUFRJT05TO1xuXG4vLyB1c2VkIHRvIHJlZHVjZSBwb3NzaWJsZSBzaG9ydCBmaWx0ZXJzIGRhbWFnZVxuY29uc3QgTUlOX0dFTkVSSUNfVVJMX0ZJTFRFUl9QQVRURVJOX0xFTkdUSCA9IDQ7XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHRoYXQgbWF0Y2hlcyBhbiBpbnZhbGlkIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5XG4gKiBAdHlwZSB7UmVnRXhwfVxuICovXG5jb25zdCBJTlZBTElEX0NTUCA9IC8oO3xeKSA/KGJhc2UtdXJpfHJlZmVycmVyfHJlcG9ydC10b3xyZXBvcnQtdXJpfHVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMpXFxiL2k7XG5leHBvcnRzLklOVkFMSURfQ1NQID0gSU5WQUxJRF9DU1A7XG5cbi8qKlxuICogVGhlIEVycm9yIHR5cGUgcmV0dXJuZWQgYnkgcGFyc2UuXG4gKlxuICogRm9yIGV4YW1wbGUgYGZpbHRlcl91bmtub3duX29wdGlvbmAgd2lsbCBoYXZlIGBvcHRpb25gLlxuICogQHByb3BlcnR5IHtPYmplY3R9IGRldGFpbCBDb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3IuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2RldGFpbC5vcHRpb25dIFRoZSBvcHRpb24gZm9yIGBmaWx0ZXJfdW5rbm93bl9vcHRpb25gLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtkZXRhaWwucmVnZXhwXSBUaGUgcmVnZXhwIGZvciBgZmlsdGVyX2ludmFsaWRfcmVnZXhwYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWwudGV4dCBUaGUgdGV4dCBvZiB0aGUgcmVqZWN0ZWQgZmlsdGVyLlxuICovXG5jbGFzcyBGaWx0ZXJQYXJzaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKiBDb25zdHJ1Y3QgYSBGaWx0ZXJQYXJzaW5nRXJyb3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGV0YWlsIFRoZSBGaWx0ZXJQYXJzaW5nRXJyb3IgZGV0YWlsLiBDb250YWlucyBhdFxuICAgKiAgIGxlYXN0IGB0ZXh0YC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGRldGFpbCkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMuZGV0YWlsID0gZGV0YWlsO1xuICB9XG59XG5cbmV4cG9ydHMuRmlsdGVyUGFyc2luZ0Vycm9yID0gRmlsdGVyUGFyc2luZ0Vycm9yO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBhcnNlZEZpbHRlclxuICogQHByb3BlcnR5IHtib29sfSBibG9ja2luZyBXaGV0aGVyIGl0J3MgYSBibG9ja2luZyBmaWx0ZXIgb3Igbm90LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHRleHQgVGhlIGZpbHRlciB0ZXh0LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHJlZ2V4cFNvdXJjZSBUaGUgc291cmNlIG9mIHRoZSBtYXRjaGluZyBSZWdFeHAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29udGVudFR5cGUgVGhlXG4gKiAgIHtAbGluayBtb2R1bGU6Y29udGVudFR5cGVzLmNvbnRlbnRUeXBlcyBjb250ZW50IHR5cGVzfSBmb3IgdGhlIGZpbHRlci5cbiAqIEBwcm9wZXJ0eSB7Ym9vbD99IG1hdGNoQ2FzZSBJZiB0aGUgZmlsdGVyIGlzIGNhc2Ugc2Vuc2l0aXZlLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+P30gZG9tYWlucyBUaGUgZG9tYWlucyB0byBtYXRjaFxuICogICAoYCRkb21haW5zYCBvcHRpb24pLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+P30gc2l0ZWtleXMgVGhlIHNpdGVrZXlzIHRvIG1hdGNoLlxuICogQHByb3BlcnR5IHtvYmplY3Q/fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZpbHRlcmluZy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nP30gcmV3cml0ZSBUaGUgVVJMIGZvciB0byByZXdyaXRlIHRvLlxuICogQHByb3BlcnR5IHtzdHJpbmc/fSBjc3AgVGhlIENTUCBkaXJlY3RpdmUuXG4gKi9cblxuLyoqXG4gKiBQYXJzZSB0aGUgZmlsdGVyIHRleHQgcmVwcmVzZW50YXRpb24gaW50byBhIHN0cnVjdHVyZS5cbiAqXG4gKiBUaGlzIGlzIG1lYW50IHRvIGJlIGNhbGxlZCBieVxuICoge21vZHVsZTpmaWx0ZXJDbGFzc2VzLlVSTEZpbHRlci5mcm9tVGV4dH1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCB0aGUgZmlsdGVyIG5vcm1hbGl6ZWQgdGV4dC4gQ2FsbCBub3JtYWxpemUoKVxuICogICBvbiB0aGUgdGV4dCBwcmlvciB0byB0aGlzLCB1bmxlc3MgaXQgaXMgYWxyZWFkeSBub3JtYWxpemVkLlxuICogQHJldHVybiB7UGFyc2VkRmlsdGVyfEZpbHRlclBhcnNpbmdFcnJvcn1cbiAqICAgVGhlIHBhcnNlZCBmaWx0ZXIsIG9yIGEgRmlsdGVyUGFyc2luZ0Vycm9yLlxuICovXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UodGV4dCkge1xuICAvLyBleGNsdWRlIGVtcHR5IHRleHQsIGNvbW1lbnRzLCBhbmQgY29udGVudCBmaWx0ZXJzXG4gIGlmICh0ZXh0Lmxlbmd0aCA8IDEpIHtcbiAgICByZXR1cm4gbmV3IEZpbHRlclBhcnNpbmdFcnJvcihcImZpbHRlcl9lbXB0eVwiLCB7dGV4dH0pO1xuICB9XG5cbiAgaWYgKHRleHRbMF0gPT09IFwiIVwiIHx8IENPTlRFTlRfRklMVEVSLnRlc3QodGV4dCkpIHtcbiAgICByZXR1cm4gbmV3IEZpbHRlclBhcnNpbmdFcnJvcihcImludmFsaWRcIiwge3RleHR9KTtcbiAgfVxuXG4gIC8vIHBhcnNlIGxpa2UgYW4gQUJQIFVSTEZpbHRlclxuICBsZXQgYmxvY2tpbmcgPSB0cnVlO1xuICBsZXQgb3JpZ1RleHQgPSB0ZXh0O1xuICBpZiAodGV4dC5zdGFydHNXaXRoKFwiQEBcIikpIHtcbiAgICBibG9ja2luZyA9IGZhbHNlO1xuICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygyKTtcbiAgfVxuXG4gIGxldCBjb250ZW50VHlwZSA9IG51bGw7XG4gIGxldCBtYXRjaENhc2UgPSBudWxsO1xuICBsZXQgZG9tYWlucyA9IG51bGw7XG4gIGxldCBzaXRla2V5cyA9IG51bGw7XG4gIGxldCB0aGlyZFBhcnR5ID0gbnVsbDtcbiAgbGV0IGNzcCA9IG51bGw7XG4gIGxldCByZXdyaXRlID0gbnVsbDtcbiAgbGV0IGhlYWRlciA9IG51bGw7XG4gIGxldCBvcHRpb25zO1xuICBsZXQgbWF0Y2ggPSB0ZXh0LmluY2x1ZGVzKFwiJFwiKSA/IEZJTFRFUl9PUFRJT05TLmV4ZWModGV4dCkgOiBudWxsO1xuICBpZiAobWF0Y2gpIHtcbiAgICB0ZXh0ID0gbWF0Y2guaW5wdXQuc3Vic3RyaW5nKDAsIG1hdGNoLmluZGV4KTtcblxuICAgIG9wdGlvbnMgPSBtYXRjaFsxXS5zcGxpdChcIixcIik7XG4gICAgbGV0IGNzcFNldCA9IGZhbHNlO1xuICAgIGxldCBoZWFkZXJTZXQgPSBmYWxzZTtcblxuICAgIGZvciAobGV0IG9wdGlvbiBvZiBvcHRpb25zKSB7XG4gICAgICBsZXQgdmFsdWUgPSBudWxsO1xuICAgICAgbGV0IHNlcGFyYXRvckluZGV4ID0gb3B0aW9uLmluZGV4T2YoXCI9XCIpO1xuICAgICAgaWYgKHNlcGFyYXRvckluZGV4ID49IDApIHtcbiAgICAgICAgdmFsdWUgPSBvcHRpb24uc3Vic3RyaW5nKHNlcGFyYXRvckluZGV4ICsgMSk7XG4gICAgICAgIG9wdGlvbiA9IG9wdGlvbi5zdWJzdHJpbmcoMCwgc2VwYXJhdG9ySW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBsZXQgaW52ZXJzZSA9IG9wdGlvblswXSA9PSBcIn5cIjtcbiAgICAgIGlmIChpbnZlcnNlKSB7XG4gICAgICAgIG9wdGlvbiA9IG9wdGlvbi5zdWJzdHJpbmcoMSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBvcHRpb25VcHBlckNhc2UgPSBvcHRpb24udG9VcHBlckNhc2UoKTtcbiAgICAgIGxldCB0eXBlID0gY29udGVudFR5cGVzW29wdGlvblVwcGVyQ2FzZS5yZXBsYWNlKC8tLywgXCJfXCIpXTtcbiAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgIGlmIChpbnZlcnNlKSB7XG4gICAgICAgICAgaWYgKGNvbnRlbnRUeXBlID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gUkVTT1VSQ0VfVFlQRVM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRlbnRUeXBlICY9IH50eXBlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IGNvbnRlbnRUeXBlcy5DU1ApIHtcbiAgICAgICAgICBpZiAoYmxvY2tpbmcgJiYgIXZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZpbHRlclBhcnNpbmdFcnJvcihcImZpbHRlcl9pbnZhbGlkX2NzcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RleHQ6IG9yaWdUZXh0fSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNzcFNldCA9IHRydWU7XG4gICAgICAgICAgY3NwID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gY29udGVudFR5cGVzLkhFQURFUikge1xuICAgICAgICAgIGlmIChibG9ja2luZyAmJiAhdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmlsdGVyUGFyc2luZ0Vycm9yKFwiZmlsdGVyX2ludmFsaWRfaGVhZGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGV4dDogb3JpZ1RleHR9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGVhZGVyU2V0ID0gdHJ1ZTtcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBoZWFkZXJSYXcgPSB2YWx1ZS5yZXBsYWNlKC8oW15cXFxcXSlcXFxceDJjL2csIFwiJDEsXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcXFxceDJjL2csIFwiXFxcXHgyY1wiKTtcbiAgICAgICAgICAgIGxldCBlcXVhbCA9IGhlYWRlclJhdy5pbmRleE9mKFwiPVwiKTtcbiAgICAgICAgICAgIGlmIChlcXVhbCA9PSBoZWFkZXJSYXcubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAvLyBUaGlzIGNhc2UgaXMgXCJrZXk9XCIgd2l0aCBubyB2YWx1ZVxuICAgICAgICAgICAgICBoZWFkZXIgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogaGVhZGVyUmF3LnN1YnN0cmluZygwLCBlcXVhbCkudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXF1YWwgPj0gMCkge1xuICAgICAgICAgICAgICBoZWFkZXIgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogaGVhZGVyUmF3LnN1YnN0cmluZygwLCBlcXVhbCkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogaGVhZGVyUmF3LnN1YnN0cmluZyhlcXVhbCArIDEpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgaGVhZGVyID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGhlYWRlclJhdy50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChoZWFkZXIubmFtZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IEZpbHRlclBhcnNpbmdFcnJvcihcImZpbHRlcl9pbnZhbGlkX2hlYWRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGV4dDogb3JpZ1RleHR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgvXlxcL1tcXHNcXFNdKlxcLyQvLnRlc3QoaGVhZGVyLnZhbHVlKSkge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IEZpbHRlclBhcnNpbmdFcnJvcihcImZpbHRlcl9pbnZhbGlkX2hlYWRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGV4dDogb3JpZ1RleHR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29udGVudFR5cGUgfD0gdHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN3aXRjaCAob3B0aW9uVXBwZXJDYXNlKSB7XG4gICAgICAgICAgY2FzZSBcIk1BVENILUNBU0VcIjpcbiAgICAgICAgICAgIG1hdGNoQ2FzZSA9ICFpbnZlcnNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIkRPTUFJTlwiOlxuICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IEZpbHRlclBhcnNpbmdFcnJvcihcImZpbHRlcl91bmtub3duX29wdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7b3B0aW9uLCB0ZXh0OiBvcmlnVGV4dH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9tYWlucyA9IHZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIlRISVJELVBBUlRZXCI6XG4gICAgICAgICAgICB0aGlyZFBhcnR5ID0gIWludmVyc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiU0lURUtFWVwiOlxuICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IEZpbHRlclBhcnNpbmdFcnJvcihcImZpbHRlcl91bmtub3duX29wdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7b3B0aW9uLCB0ZXh0OiBvcmlnVGV4dH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2l0ZWtleXMgYXJlIGNhc2Utc2Vuc2l0aXZlLCB0aGV5IHNob3VsZG4ndCBiZSB1cHBlcmNhc2VkLlxuICAgICAgICAgICAgc2l0ZWtleXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJSRVdSSVRFXCI6XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IEZpbHRlclBhcnNpbmdFcnJvcihcImZpbHRlcl91bmtub3duX29wdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7b3B0aW9uLCB0ZXh0OiBvcmlnVGV4dH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF2YWx1ZS5zdGFydHNXaXRoKFwiYWJwLXJlc291cmNlOlwiKSkge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IEZpbHRlclBhcnNpbmdFcnJvcihcImZpbHRlcl9pbnZhbGlkX3Jld3JpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RleHQ6IG9yaWdUZXh0fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXdyaXRlID0gdmFsdWUuc3Vic3RyaW5nKFwiYWJwLXJlc291cmNlOlwiLmxlbmd0aCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGaWx0ZXJQYXJzaW5nRXJyb3IoXCJmaWx0ZXJfdW5rbm93bl9vcHRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcHRpb24sIHRleHQ6IG9yaWdUZXh0fSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNzcFNldCB8fCBoZWFkZXJTZXQpIHtcbiAgICAgIGlmIChjb250ZW50VHlwZSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnRlbnRUeXBlID0gUkVTT1VSQ0VfVFlQRVM7XG4gICAgICB9XG4gICAgICBpZiAoY3NwU2V0KSB7XG4gICAgICAgIGNvbnRlbnRUeXBlIHw9IGNvbnRlbnRUeXBlcy5DU1A7XG4gICAgICB9XG4gICAgICBpZiAoaGVhZGVyU2V0KSB7XG4gICAgICAgIGNvbnRlbnRUeXBlIHw9IGNvbnRlbnRUeXBlcy5IRUFERVI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV0IGlzR2VuZXJpYyA9ICFzaXRla2V5cyAmJiAhZG9tYWlucztcbiAgaWYgKGlzR2VuZXJpYykge1xuICAgIGxldCBtaW5UZXh0TGVuZ3RoID0gTUlOX0dFTkVSSUNfVVJMX0ZJTFRFUl9QQVRURVJOX0xFTkdUSDtcbiAgICBsZXQge2xlbmd0aH0gPSB0ZXh0O1xuICAgIGlmIChsZW5ndGggPiAwICYmIHRleHRbMF0gPT09IFwifFwiKSB7XG4gICAgICBtaW5UZXh0TGVuZ3RoKys7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiB0ZXh0WzFdID09PSBcInxcIikge1xuICAgICAgICBtaW5UZXh0TGVuZ3RoKys7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsZW5ndGggPCBtaW5UZXh0TGVuZ3RoICYmICF0ZXh0LmluY2x1ZGVzKFwiKlwiKSkge1xuICAgICAgcmV0dXJuIG5ldyBGaWx0ZXJQYXJzaW5nRXJyb3IoXCJmaWx0ZXJfdXJsX25vdF9zcGVjaWZpY19lbm91Z2hcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0OiBvcmlnVGV4dH0pO1xuICAgIH1cbiAgfVxuICAvLyBXZSBleHBlY3QgZmlsdGVycyB0byB1c2UgUHVueWNvZGUgZm9yIGRvbWFpbnMgdGhlc2UgZGF5cywgc28gbGV0J3MganVzdFxuICAvLyBza2lwIGZpbHRlcnMgd2hpY2ggZG9uJ3QuIFNlZSAjNjY0Ny5cbiAgZWxzZSBpZiAoZG9tYWlucyAmJiAvW15cXHgwMC1cXHg3Rl0vLnRlc3QoZG9tYWlucykpIHtcbiAgICByZXR1cm4gbmV3IEZpbHRlclBhcnNpbmdFcnJvcihcImZpbHRlcl9pbnZhbGlkX2RvbWFpblwiLCB7dGV4dDogb3JpZ1RleHR9KTtcbiAgfVxuXG4gIGlmIChibG9ja2luZykge1xuICAgIGlmIChjc3AgJiYgSU5WQUxJRF9DU1AudGVzdChjc3ApKSB7XG4gICAgICByZXR1cm4gbmV3IEZpbHRlclBhcnNpbmdFcnJvcihcImZpbHRlcl9pbnZhbGlkX2NzcFwiLCB7dGV4dDogb3JpZ1RleHR9KTtcbiAgICB9XG5cbiAgICBpZiAocmV3cml0ZSkge1xuICAgICAgaWYgKHRleHQuc3RhcnRzV2l0aChcInx8XCIpKSB7XG4gICAgICAgIGlmICghZG9tYWlucyAmJiB0aGlyZFBhcnR5ICE9IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBGaWx0ZXJQYXJzaW5nRXJyb3IoXCJmaWx0ZXJfaW52YWxpZF9yZXdyaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RleHQ6IG9yaWdUZXh0fSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRleHQuc3RhcnRzV2l0aChcIipcIikpIHtcbiAgICAgICAgaWYgKCFkb21haW5zKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBGaWx0ZXJQYXJzaW5nRXJyb3IoXCJmaWx0ZXJfaW52YWxpZF9yZXdyaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RleHQ6IG9yaWdUZXh0fSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IEZpbHRlclBhcnNpbmdFcnJvcihcImZpbHRlcl9pbnZhbGlkX3Jld3JpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RleHQ6IG9yaWdUZXh0fSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBibG9ja2luZyxcbiAgICB0ZXh0OiBvcmlnVGV4dCxcbiAgICByZWdleHBTb3VyY2U6IHRleHQsXG4gICAgY29udGVudFR5cGUsXG4gICAgbWF0Y2hDYXNlLFxuICAgIGRvbWFpbnMsXG4gICAgdGhpcmRQYXJ0eSxcbiAgICBzaXRla2V5cyxcbiAgICBoZWFkZXIsXG4gICAgcmV3cml0ZSxcbiAgICBjc3BcbiAgfTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyB1bm5lY2Vzc2FyeSB3aGl0ZXNwYWNlcyBmcm9tIGZpbHRlciB0ZXh0LCB3aWxsIG9ubHkgcmV0dXJuIG51bGwgaWZcbiAqIHRoZSBpbnB1dCBwYXJhbWV0ZXIgaXMgbnVsbC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQHBhcmFtIHtib29sZWFuP30gZG9udFNhbml0aXplIGF2b2lkIGV4cGVuc2l2ZSBvcGVyYXRpb25zIG9uIHRleHQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24odGV4dCwgZG9udFNhbml0aXplID0gZmFsc2UpIHtcbiAgaWYgKHRleHQgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIC8vIFJlbW92ZSBsaW5lIGJyZWFrcywgdGFicyBldGNcbiAgdGV4dCA9IHRleHQucmVwbGFjZSgvW15cXFMgXSsvZywgXCJcIik7XG5cbiAgY29uc3QgcmVtb3ZlU3BhY2VzID0gcyA9PiBzLnJlcGxhY2UoLyArL2csIFwiXCIpO1xuXG4gIGNvbnN0IHRyaW1TcGFjZXMgPSBhY3Rpb24gPT4ge1xuICAgIGlmICghYWN0aW9uLmluY2x1ZGVzKFwiOlwiKSkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuXG4gICAgbGV0IFtrZXksIHZhbHVlXSA9IGFjdGlvbi5zcGxpdChcIjpcIik7XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwiIWltcG9ydGFudFwiLCBcIlwiKTtcblxuICAgIC8vIFJlcXVpcmVkIHRvIGFsbG93IENTUyBwcm9wZXJ0aWVzIHdpdGggc3BhY2VzXG4gICAgLy8gZS5nLiBcImJvcmRlcjogMXB4IHNvbGlkIGJsYWNrXCJcbiAgICByZXR1cm4ga2V5LnRyaW1TdGFydCgpLnRyaW1FbmQoKSArIFwiOlwiICsgdmFsdWUudHJpbVN0YXJ0KCkudHJpbUVuZCgpICsgXCI7XCI7XG4gIH07XG5cbiAgY29uc3QgZm9ybWF0SW5uZXJDdXJseUJyYWNlVGV4dCA9IGFjdGlvbkJvZHkgPT4ge1xuICAgIGNvbnN0IGFjdGlvbnMgPSBhY3Rpb25Cb2R5LnNwbGl0KFwiO1wiKTtcbiAgICBsZXQgZm9ybWF0dGVkID0gXCJcIjtcblxuICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBmb3JtYXR0ZWQgKz0gdHJpbVNwYWNlcyhhY3Rpb24pO1xuICAgIH1cblxuICAgIHJldHVybiBmb3JtYXR0ZWQ7XG4gIH07XG5cbiAgaWYgKGRvbnRTYW5pdGl6ZSkge1xuICAgIHJldHVybiB0ZXh0LnRyaW0oKTtcbiAgfVxuXG4gIGlmICghdGV4dC5pbmNsdWRlcyhcIiBcIikpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIC8vIERvbid0IHJlbW92ZSBzcGFjZXMgaW5zaWRlIGNvbW1lbnRzXG4gIGlmICgvXiAqIS8udGVzdCh0ZXh0KSkge1xuICAgIHJldHVybiB0ZXh0LnRyaW0oKTtcbiAgfVxuXG4gIC8vIFNwZWNpYWwgdHJlYXRtZW50IGZvciBjb250ZW50IGZpbHRlcnMsIHJpZ2h0IHNpZGUgaXMgYWxsb3dlZCB0byBjb250YWluXG4gIC8vIHNwYWNlc1xuICBpZiAoQ09OVEVOVF9GSUxURVIudGVzdCh0ZXh0KSkge1xuICAgIC8vIE1hdGNoZXMgZmlsdGVyIHdpdGggbXVsdGlwbGUgZWxlbWVudHMgaW5zaWRlIHRyYWlsaW5nIGN1cmx5IGJyYWNlc1xuICAgIC8vIHdpdGggdGhlIGZvcm0gXCJ7cHJvcGVydHl9OiB7dmFsdWV9O1wiIHdpdGggYW55IHdoaXRlc3BhY2VzIGlnbm9yZWRcbiAgICAvLyBOb3RlOiBUaGUgc2VtaS1jb2xvbiBmb3IgdGhlIGZpbmFsIGVsZW1lbnQgaXMgb3B0aW9uYWxcbiAgICAvLyBpLmUuIFwie3Byb3BlcnR5fToge3ZhbHVlfVwiIGlzIGFsc28gdmFsaWRcbiAgICBjb25zdCBlbGVtaGlkZVdpdGhUcmFpbGluZ0JyYWNlc01hdGNoZXMgPSAvXiguKj8pKCNbQD9dPyMpKC4qKSArXFx7KCAqLiogKjogKlteO10rICooOyk/ICopXFx9ICokLy5leGVjKHRleHQpO1xuXG4gICAgaWYgKGVsZW1oaWRlV2l0aFRyYWlsaW5nQnJhY2VzTWF0Y2hlcykge1xuICAgICAgY29uc3QgW1xuICAgICAgICAsXG4gICAgICAgIGRvbWFpbnMsXG4gICAgICAgIHNlcGFyYXRvcixcbiAgICAgICAgYm9keSxcbiAgICAgICAgdGV4dEluc2lkZUN1cmx5QnJhY2VzXG4gICAgICBdID0gZWxlbWhpZGVXaXRoVHJhaWxpbmdCcmFjZXNNYXRjaGVzO1xuXG4gICAgICByZXR1cm4gcmVtb3ZlU3BhY2VzKGRvbWFpbnMpICtcbiAgICAgICAgc2VwYXJhdG9yICtcbiAgICAgICAgYm9keS50cmltKCkgK1xuICAgICAgICBcIiB7XCIgK1xuICAgICAgICBmb3JtYXRJbm5lckN1cmx5QnJhY2VUZXh0KHRleHRJbnNpZGVDdXJseUJyYWNlcykgK1xuICAgICAgICBcIn1cIjtcbiAgICB9XG5cbiAgICBjb25zdCBbLCBkb21haW5zLCBzZXBhcmF0b3IsIGJvZHldID0gL14oLio/KSgjW0A/JF0/Iz8pKC4qKSQvLmV4ZWModGV4dCk7XG4gICAgcmV0dXJuIHJlbW92ZVNwYWNlcyhkb21haW5zKSArIHNlcGFyYXRvciArIGJvZHkudHJpbSgpO1xuICB9XG5cbiAgLy8gRm9yIG1vc3QgcmVnZXhwIGZpbHRlcnMgd2Ugc3RyaXAgYWxsIHNwYWNlcywgYnV0ICRjc3AgZmlsdGVyIG9wdGlvbnNcbiAgLy8gYXJlIGFsbG93ZWQgdG8gY29udGFpbiBzaW5nbGUgKG5vbiB0cmFpbGluZykgc3BhY2VzLlxuICBsZXQgc3RyaXBwZWRUZXh0ID0gcmVtb3ZlU3BhY2VzKHRleHQpO1xuICBpZiAoIXN0cmlwcGVkVGV4dC5pbmNsdWRlcyhcIiRcIikgfHwgIS9cXGIoY3NwfGhlYWRlcik9L2kudGVzdChzdHJpcHBlZFRleHQpKSB7XG4gICAgcmV0dXJuIHN0cmlwcGVkVGV4dDtcbiAgfVxuXG4gIGxldCBvcHRpb25zTWF0Y2ggPSBGSUxURVJfT1BUSU9OUy5leGVjKHN0cmlwcGVkVGV4dCk7XG4gIGlmICghb3B0aW9uc01hdGNoKSB7XG4gICAgcmV0dXJuIHN0cmlwcGVkVGV4dDtcbiAgfVxuXG4gIC8vIEZvciAkY3NwIGZpbHRlcnMgd2UgbXVzdCBmaXJzdCBzZXBhcmF0ZSBvdXQgdGhlIG9wdGlvbnMgcGFydCBvZiB0aGVcbiAgLy8gdGV4dCwgYmVpbmcgY2FyZWZ1bCB0byBwcmVzZXJ2ZSBpdHMgc3BhY2VzLlxuICBsZXQgYmVmb3JlT3B0aW9ucyA9IHN0cmlwcGVkVGV4dC5zdWJzdHJpbmcoMCwgb3B0aW9uc01hdGNoLmluZGV4KTtcbiAgbGV0IHN0cmlwcGVkRG9sbGFySW5kZXggPSAtMTtcbiAgbGV0IGRvbGxhckluZGV4ID0gLTE7XG4gIGRvIHtcbiAgICBzdHJpcHBlZERvbGxhckluZGV4ID0gYmVmb3JlT3B0aW9ucy5pbmRleE9mKFwiJFwiLCBzdHJpcHBlZERvbGxhckluZGV4ICsgMSk7XG4gICAgZG9sbGFySW5kZXggPSB0ZXh0LmluZGV4T2YoXCIkXCIsIGRvbGxhckluZGV4ICsgMSk7XG4gIH1cbiAgd2hpbGUgKHN0cmlwcGVkRG9sbGFySW5kZXggIT0gLTEpO1xuICBsZXQgb3B0aW9uc1RleHQgPSB0ZXh0LnN1YnN0cmluZyhkb2xsYXJJbmRleCArIDEpO1xuXG4gIC8vIFRoZW4gd2UgY2FuIG5vcm1hbGl6ZSBzcGFjZXMgaW4gdGhlIG9wdGlvbnMgcGFydCBzYWZlbHlcbiAgbGV0IG9wdGlvbnMgPSBvcHRpb25zVGV4dC5zcGxpdChcIixcIik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBvcHRpb24gPSBvcHRpb25zW2ldO1xuICAgIGxldCBvcHRpb25NYXRjaCA9IC9eICooYyAqcyAqcHxoICplICphICpkICplICpyKSAqPS9pLmV4ZWMob3B0aW9uKTtcbiAgICBpZiAob3B0aW9uTWF0Y2gpIHtcbiAgICAgIG9wdGlvbnNbaV0gPSByZW1vdmVTcGFjZXMob3B0aW9uTWF0Y2hbMF0pICtcbiAgICAgICAgb3B0aW9uLnN1YnN0cmluZyhvcHRpb25NYXRjaFswXS5sZW5ndGgpLnRyaW0oKS5yZXBsYWNlKC8gKy9nLCBcIiBcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgb3B0aW9uc1tpXSA9IHJlbW92ZVNwYWNlcyhvcHRpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBiZWZvcmVPcHRpb25zICsgXCIkXCIgKyBvcHRpb25zLmpvaW4oKTtcbn07XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgQWRibG9jayBQbHVzIDxodHRwczovL2FkYmxvY2twbHVzLm9yZy8+LFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEFkYmxvY2sgUGx1cy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqIEBtb2R1bGUgKi9cblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIENTUyBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBydWxlcyBpblxuICogaHR0cHM6Ly9naXRsYWIuY29tL2V5ZW8vYWRibG9ja3BsdXMvYWQtZmlsdGVyaW5nLXdvcmtpbmctZ3JvdXAvLS9ibG9iL21haW4vZmlsdGVyLXN5bnRheC5tZCN2YWxpZC1jc3MtcHJvcGVydHktbmFtZXMtYW5kLXZhbHVlc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjc3MgVGhlIHBhcnNlZCBwcm9wZXJ0aWVzIHRvIHZhbGlkYXRlLiBFYWNoIHByb3BlcnR5IG9uIHRoZVxuICogICBvYmplY3Qgc2hvdWxkIGJlIGEgdmFsaWQgQ1NTIHByb3BlcnR5LlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIENTUyBwcm9wZXJ0aWVzIGFyZSBhbGwgdmFsaWQueFxuICovXG5leHBvcnRzLnZlcmlmeUNTU1Byb3BlcnRpZXMgPSBmdW5jdGlvbiB2ZXJpZnlDU1NQcm9wZXJ0aWVzKGNzcykge1xuICBpZiAoT2JqZWN0LmtleXMoY3NzKS5sZW5ndGggPT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAobGV0IG5hbWUgaW4gY3NzKSB7XG4gICAgaWYgKCF2ZXJpZnlDU1NQcm9wZXJ0eU5hbWUobmFtZSkgfHwgIXZlcmlmeUNTU1Byb3BlcnR5VmFsdWUoY3NzW25hbWVdKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gdmVyaWZ5Q1NTUHJvcGVydHlOYW1lKG5hbWUpIHtcbiAgcmV0dXJuIC9eKC0/W2Etel0rKSskLy50ZXN0KG5hbWUpO1xufVxuXG5mdW5jdGlvbiB2ZXJpZnlDU1NQcm9wZXJ0eVZhbHVlKHZhbHVlKSB7XG4gIC8vIHNwbGl0dGluZyBpcyB0byBhbGxvdyBsaXN0cyBvZiB2YWxpZCB2YWx1ZXMsIGZvciBleGFtcGxlIGluIHNob3J0aGFuZFxuICAvLyBwcm9wZXJ0aWVzIGxpa2UgYG1hcmdpbmAgb3IgYGJvcmRlcmAuXG4gIGxldCBzdWJ2YWx1ZXMgPSB2YWx1ZS5zcGxpdChcIiBcIikuZmlsdGVyKHN1YnZhbHVlID0+IHN1YnZhbHVlLmxlbmd0aCA+IDApO1xuICBpZiAoc3VidmFsdWVzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHN1YnZhbHVlcy5ldmVyeShzdWJ2YWx1ZSA9PiB7XG4gICAgcmV0dXJuIENTU19WQUxJREFUSU9OX1dISVRFTElTVC5zb21lKHZhbGlkVmFsdWUgPT4ge1xuICAgICAgaWYgKHZhbGlkVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkVmFsdWUudGVzdChzdWJ2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWxpZFZhbHVlID09IHN1YnZhbHVlO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gVGhpcyBzaG91bGQgYmUga2VwdCBpbiBzeW5jIHdpdGggaHR0cHM6Ly9naXRsYWIuY29tL2V5ZW8vYWRibG9ja3BsdXMvYWQtZmlsdGVyaW5nLXdvcmtpbmctZ3JvdXAvLS9ibG9iL21haW4vZmlsdGVyLXN5bnRheC5tZCNwcm9wZXJ0eS12YWx1ZXNcbmNvbnN0IENTU19WQUxJREFUSU9OX1dISVRFTElTVCA9IFtcbiAgXCJpbmhlcml0XCIsXG4gIFwiaW5pdGlhbFwiLFxuICBcIm5vbmVcIixcbiAgXCJyZXZlcnRcIixcbiAgXCJyZXZlcnQtbGF5ZXJcIixcbiAgXCJ1bnNldFwiLFxuICAvXiNbMC05YS1mXXszLDh9JC8sXG4gIFwiY3VycmVudGNvbG9yXCIsXG4gIC9eWystXT8oXFxkKyhcXC5cXGQrKT98XFwuXFxkKykoZVsrLV0/XFxkKyk/KGNtfG1tfHF8aW58cGN8cHR8cHh8ZW18ZXh8Y2h8cmVtfGxofHJsaHx2d3x2aHx2bWlufHZtYXh8dmJ8dml8c3Z3fHN2aHxsdnd8bHZofGR2d3xkdmh8JXxmcik/JC8sXG4gIFwiYWJzb2x1dGVcIixcbiAgXCJhbGxcIixcbiAgXCJhdXRvXCIsXG4gIFwiYmxvY2tcIixcbiAgXCJib3RoXCIsXG4gIFwiY2xpcFwiLFxuICBcImNvbGxhcHNlXCIsXG4gIFwiY29udGFpblwiLFxuICBcImRhc2hlZFwiLFxuICBcImRlZmF1bHRcIixcbiAgXCJkb3R0ZWRcIixcbiAgXCJkb3VibGVcIixcbiAgXCJlbGVtZW50XCIsXG4gIFwiZml0LWNvbnRlbnRcIixcbiAgXCJmaXhlZFwiLFxuICBcImZsZXhcIixcbiAgXCJmbG93LXJvb3RcIixcbiAgXCJmbG93XCIsXG4gIFwiZ3JpZFwiLFxuICBcImdyb292ZVwiLFxuICBcImhpZGRlblwiLFxuICBcImlubGluZS1ibG9ja1wiLFxuICBcImlubGluZS1mbGV4XCIsXG4gIFwiaW5saW5lLWdyaWRcIixcbiAgXCJpbmxpbmUtdGFibGVcIixcbiAgXCJpbmxpbmVcIixcbiAgXCJpbnNldFwiLFxuICBcImxlZnRcIixcbiAgXCJsaXN0LWl0ZW1cIixcbiAgXCJtYXgtY29udGVudFwiLFxuICBcIm1pbi1jb250ZW50XCIsXG4gIFwib3V0c2V0XCIsXG4gIFwicG9pbnRlclwiLFxuICBcInJlbGF0aXZlXCIsXG4gIFwicmlkZ2VcIixcbiAgXCJyaWdodFwiLFxuICBcInJ1YnlcIixcbiAgXCJzY3JvbGxcIixcbiAgXCJzb2xpZFwiLFxuICBcInN0YXRpY1wiLFxuICBcInN0aWNreVwiLFxuICBcInRhYmxlLXJvd1wiLFxuICBcInRhYmxlXCIsXG4gIFwidGV4dFwiLFxuICBcInRoaW5cIixcbiAgXCJ0cmFuc3BhcmVudFwiLFxuICBcInRydWVcIixcbiAgXCJ2aXNpYmxlXCJcbl07XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgQWRibG9jayBQbHVzIDxodHRwczovL2FkYmxvY2twbHVzLm9yZy8+LFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEFkYmxvY2sgUGx1cy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqIEBtb2R1bGUgKi9cblxuLyoqXG4gKiBHaXZlbiBzb21lIHRleHQgY29udGFpbmluZyBhIGZpbHRlciBsaXN0LCBwYXJzZSBlYWNoIGxpbmUgYW5kIHJldHVybiBhbGxcbiAqIGRldGFpbHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVycyBUaGUgZmlsdGVyIGxpc3QgZmlsZS90ZXh0IHRvIHBhcnNlLlxuICogQHJldHVybnMge09iamVjdC48ZXJyb3I/LCBsaW5lcz8sIHBhcmFtcz8sIG1pblZlcnNpb24/Pn0gQWxsIHBhcnNlZCBkZXRhaWxzLFxuICogIGlmIGF2YWlsYWJsZS4gYGxpbmVzYCB3aWxsIGNvbnRhaW4gdGhlIGhlYWRlciBpbiB0aGUgZmlyc3QgbGluZS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VGaWx0ZXJMaXN0KGZpbHRlcnMpIHtcbiAgbGV0IGxpbmVzID0gZmlsdGVycy5zcGxpdCgvW1xcclxcbl0rLyk7XG4gIC8vIFRoZSBmaWx0ZXIgbGlzdCBhbHdheXMgc3RhcnQgd2l0aCBhIGhlYWRlciwgYXQgbWluaW11bSBgW0FkYmxvY2tdYC5cbiAgbGV0IGhlYWRlck1hdGNoID0gL1xcW0FkYmxvY2soPzpcXHMqUGx1c1xccyooW1xcZC5dKyk/KT9cXF0vaS5leGVjKGxpbmVzWzBdKTtcblxuICBpZiAoIWhlYWRlck1hdGNoKSB7XG4gICAgcmV0dXJuIHtlcnJvcjogXCJzeW5jaHJvbml6ZV9pbnZhbGlkX2RhdGFcIn07XG4gIH1cblxuICBsZXQgbWluVmVyc2lvbiA9IGhlYWRlck1hdGNoWzFdO1xuXG4gIGxldCBwYXJhbXMgPSB7XG4gICAgcmVkaXJlY3Q6IG51bGwsXG4gICAgaG9tZXBhZ2U6IG51bGwsXG4gICAgdGl0bGU6IG51bGwsXG4gICAgdmVyc2lvbjogbnVsbCxcbiAgICBleHBpcmVzOiBudWxsLFxuICAgIGFidGVzdDogbnVsbCxcbiAgICBkaWZmdXJsOiBudWxsLFxuICAgIGxhc3Rtb2RpZmllZDogbnVsbFxuICB9O1xuXG4gIGZvciAobGV0IHtoYXNPd25Qcm9wZXJ0eX0gPSBPYmplY3QucHJvdG90eXBlLCBpID0gMTsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG1hdGNoID0gL15cXHMqIVxccyooLio/KVxccyo6XFxzKiguKikvLmV4ZWMobGluZXNbaV0pO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGxldCBrZXl3b3JkID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgXCJcIik7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocGFyYW1zLCBrZXl3b3JkKSkge1xuICAgICAgcGFyYW1zW2tleXdvcmRdID0gbWF0Y2hbMl07XG4gICAgICBsaW5lcy5zcGxpY2UoaS0tLCAxKTtcbiAgICB9XG4gIH1cblxuICBwYXJhbXNbXCJsYXN0TW9kaWZpZWRcIl0gPSBwYXJhbXMubGFzdG1vZGlmaWVkO1xuICBkZWxldGUgcGFyYW1zLmxhc3Rtb2RpZmllZDtcblxuICByZXR1cm4ge2xpbmVzLCBwYXJhbXMsIG1pblZlcnNpb259O1xufVxuXG5leHBvcnRzLnBhcnNlRmlsdGVyTGlzdCA9IHBhcnNlRmlsdGVyTGlzdDtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi8qKiBAbW9kdWxlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7aGFzV2lsZGNhcmQsIG1hdGNoZXNXaWxkY2FyZHN9ID0gcmVxdWlyZShcIi4vdXJsXCIpO1xuXG4vKipcbiAqIE1hcCB0byBiZSB1c2VkIGluc3RlYWQgd2hlbiBhIGZpbHRlciBoYXMgYSBibGFuayBgZG9tYWluc2AgcHJvcGVydHkuXG4gKiBAdHlwZSB7TWFwLjxzdHJpbmcsIGJvb2xlYW4+fVxuICovXG5sZXQgZGVmYXVsdERvbWFpbnMgPSBuZXcgTWFwKFtbXCJcIiwgdHJ1ZV1dKTtcblxubGV0IEZpbHRlck1hcCA9XG4vKipcbiAqIEEgYEZpbHRlck1hcGAgb2JqZWN0IGNvbnRhaW5zIGEgc2V0IG9mIGZpbHRlcnMsIGVhY2ggbWFwcGVkIHRvIGEgYm9vbGVhblxuICogdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBmaWx0ZXIgc2hvdWxkIGJlIGFwcGxpZWQuXG4gKlxuICogSXQgaXMgdXNlZCBieVxuICogYHtAbGluayBtb2R1bGU6ZmlsdGVyc0J5RG9tYWluLkZpbHRlcnNCeURvbWFpbiBGaWx0ZXJzQnlEb21haW59YC5cbiAqXG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLkZpbHRlck1hcCA9IGNsYXNzIEZpbHRlck1hcCBleHRlbmRzIE1hcCB7fTtcblxuLyoqXG4gKiBBIGBGaWx0ZXJzQnlEb21haW5gIG9iamVjdCBjb250YWlucyBhIHNldCBvZiBkb21haW5zLCBlYWNoIG1hcHBlZCB0byBhIHNldFxuICogb2YgZmlsdGVycyBhbG9uZyB3aXRoIGEgYm9vbGVhbiB2YWx1ZSBmb3IgZWFjaCBmaWx0ZXIgaW5kaWNhdGluZyB3aGV0aGVyIHRoZVxuICogZmlsdGVyIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSBkb21haW4uXG4gKlxuICogQHBhY2thZ2VcbiAqL1xuZXhwb3J0cy5GaWx0ZXJzQnlEb21haW4gPSBjbGFzcyBGaWx0ZXJzQnlEb21haW4gZXh0ZW5kcyBNYXAge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UpIHtcbiAgICBzdXBlcihzb3VyY2UpO1xuXG4gICAgLy8gV2Uga2VlcCBjb25jcmV0ZSBkb21haW5zIGxpc3QgKGVnLiBcImV4YW1wbGUuY29tXCIpIGluIGB0aGlzYCBtYXBcbiAgICAvLyBhbmQgdGhlIGRvbWFpbiB3aXRoIHdpbGRjYXJkcyBpbiBpbnRlcm5hbCBgZG9tYWluc1dpdGhXaWxkY2FyZHNgIG1hcFxuICAgIC8vIGJlY2F1c2Ugb2YgZGlmZmVyZW50IHdheSBvZiBtYXRjaGluZy5cbiAgICAvLyBgTWFwYCB1c2VzIFwiZXF1YWxzXCIgaW1wbGVtZW50YXRpb24gZm9yIGBnZXQoKWAgYW5kIGZvclxuICAgIC8vIHdpbGRjYXJkZWQgbWF0Y2hpbmcgaW1wbGVtZW50YXRpb24gd2UgbmVlZCB0byBpdGVyYXRlIGV4aXN0aW5nIGVudHJpZXNcbiAgICAvLyBhbmQgY2FsbCBvdXIgb3duIGBtYXRjaGVzV2lsZGNhcmRzKC4uKWAgaW1wbGVtZW50YXRpb24uXG4gICAgLy8gU28gYXQgZmlsdGVyIGFkZGluZyB0byBhZGQgaXQgdG8gdGhlIGFjY29yZGluZyBtYXAgYW5kIG92ZXJyaWRlIGFsbCB0aGVcbiAgICAvLyByZWxldmFudCBtZXRob2RzIChoYXMsIGdldCkgdG8gcnVuIHRoZSB3aWxkY2FyZHMtcmVsYXRlZCBsb2dpYy5cbiAgICB0aGlzLmRvbWFpbnNXaXRoV2lsZGNhcmRzID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBmaWx0ZXIgYW5kIGFsbCBvZiBpdHMgZG9tYWlucyB0byB0aGUgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJDbGFzc2VzLkFjdGl2ZUZpbHRlcn0gZmlsdGVyIFRoZSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7TWFwLjxzdHJpbmcsIGJvb2xlYW4+fSBbZG9tYWluc10gVGhlIGZpbHRlcidzIGRvbWFpbnMuIElmIG5vdFxuICAgKiAgIGdpdmVuLCB0aGUgYHtAbGluayBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5BY3RpdmVGaWx0ZXIjZG9tYWlucyBkb21haW5zfWBcbiAgICogICBwcm9wZXJ0eSBvZiBgZmlsdGVyYCBpcyB1c2VkLlxuICAgKi9cbiAgYWRkKGZpbHRlciwgZG9tYWlucyA9IGZpbHRlci5kb21haW5zKSB7XG4gICAgZm9yIChsZXQgW2RvbWFpbiwgaW5jbHVkZV0gb2YgZG9tYWlucyB8fCBkZWZhdWx0RG9tYWlucykge1xuICAgICAgaWYgKCFpbmNsdWRlICYmIGRvbWFpbiA9PSBcIlwiKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzV2lsZGNhcmQoZG9tYWluKSkge1xuICAgICAgICB0aGlzLl9hZGRUb01hcChmaWx0ZXIsIGRvbWFpbiwgaW5jbHVkZSwgdGhpcy5kb21haW5zV2l0aFdpbGRjYXJkcyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fYWRkVG9NYXAoZmlsdGVyLCBkb21haW4sIGluY2x1ZGUsIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9hZGRUb01hcChmaWx0ZXIsIGRvbWFpbiwgaW5jbHVkZSwgdG9NYXApIHtcbiAgICBsZXQgbWFwID0gdG9NYXAuZ2V0KGRvbWFpbiwgdHJ1ZSk7XG4gICAgaWYgKCFtYXApIHtcbiAgICAgIHRvTWFwLnNldChkb21haW4sIGluY2x1ZGUgPyBmaWx0ZXIgOiBuZXcgRmlsdGVyTWFwKFtbZmlsdGVyLCBmYWxzZV1dKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1hcC5zaXplID09IDEgJiYgIShtYXAgaW5zdGFuY2VvZiBGaWx0ZXJNYXApKSB7XG4gICAgICBpZiAoZmlsdGVyICE9IG1hcCkge1xuICAgICAgICB0b01hcC5zZXQoZG9tYWluLCBuZXcgRmlsdGVyTWFwKFtbbWFwLCB0cnVlXSwgW2ZpbHRlciwgaW5jbHVkZV1dKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbWFwLnNldChmaWx0ZXIsIGluY2x1ZGUpO1xuICAgIH1cbiAgfVxuXG4gIGhhcyhkb21haW4pIHtcbiAgICBsZXQgcmVzdWx0ID0gc3VwZXIuaGFzKGRvbWFpbik7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIC8vIG5vIGZpbHRlcnMgZm9yIHRoZSBjb25jcmV0ZSBkb21haW5cbiAgICAgIGZvciAobGV0IGRvbWFpbldpdGhXaWxkY2FyZHMgb2YgdGhpcy5kb21haW5zV2l0aFdpbGRjYXJkcy5rZXlzKCkpIHtcbiAgICAgICAgaWYgKG1hdGNoZXNXaWxkY2FyZHMoZG9tYWluLCBkb21haW5XaXRoV2lsZGNhcmRzKSkge1xuICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGdldChkb21haW4sIHNraXBXaWxkY2FyZENoZWNrKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGxldCBtYXAgPSBzdXBlci5nZXQoZG9tYWluKTtcbiAgICBpZiAobWFwKSB7XG4gICAgICByZXN1bHQucHVzaChtYXApO1xuICAgIH1cblxuICAgIGlmICghc2tpcFdpbGRjYXJkQ2hlY2spIHtcbiAgICAgIGZvciAobGV0IFtkb21haW5XaXRoV2lsZGNhcmRzLCBmaWx0ZXJPck1hcF0gb2ZcbiAgICAgICAgdGhpcy5kb21haW5zV2l0aFdpbGRjYXJkcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgaWYgKG1hdGNoZXNXaWxkY2FyZHMoZG9tYWluLCBkb21haW5XaXRoV2lsZGNhcmRzKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGZpbHRlck9yTWFwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZXN1bHQubGVuZ3RoID09IDApIHtcbiAgICAgIHJlc3VsdCA9IHZvaWQgMDtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzdWx0Lmxlbmd0aCA9PSAxKSB7XG4gICAgICByZXN1bHQgPSByZXN1bHRbMF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gbWVyZ2UgdGhlIHJlc3VsdHNcbiAgICAgIGxldCBtZXJnZWRNYXAgPSBuZXcgRmlsdGVyTWFwKCk7XG4gICAgICBmb3IgKGxldCBmaWx0ZXJPck1hcCBvZiByZXN1bHQpIHtcbiAgICAgICAgbGV0IGZyb21NYXAgPSAoZmlsdGVyT3JNYXAgaW5zdGFuY2VvZiBNYXAgP1xuICAgICAgICAgIGZpbHRlck9yTWFwIDogbmV3IE1hcChbW2ZpbHRlck9yTWFwLCB0cnVlXV0pKTtcblxuICAgICAgICBmb3IgKGxldCBbZmlsdGVyLCBpc0luY2x1ZGVkXSBvZiBmcm9tTWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgIG1lcmdlZE1hcC5zZXQoZmlsdGVyLCBpc0luY2x1ZGVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0ID0gbWVyZ2VkTWFwO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBzdXBlci5jbGVhcigpO1xuICAgIHRoaXMuZG9tYWluc1dpdGhXaWxkY2FyZHMuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgZmlsdGVyIGFuZCBhbGwgb2YgaXRzIGRvbWFpbnMgZnJvbSB0aGUgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJDbGFzc2VzLkFjdGl2ZUZpbHRlcn0gZmlsdGVyIFRoZSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7TWFwLjxzdHJpbmcsIGJvb2xlYW4+fSBbZG9tYWluc10gVGhlIGZpbHRlcidzIGRvbWFpbnMuIElmIG5vdFxuICAgKiAgIGdpdmVuLCB0aGUgYHtAbGluayBtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5BY3RpdmVGaWx0ZXIjZG9tYWlucyBkb21haW5zfWBcbiAgICogICBwcm9wZXJ0eSBvZiBgZmlsdGVyYCBpcyB1c2VkLlxuICAgKi9cbiAgcmVtb3ZlKGZpbHRlciwgZG9tYWlucyA9IGZpbHRlci5kb21haW5zKSB7XG4gICAgZm9yIChsZXQgZG9tYWluIG9mIChkb21haW5zIHx8IGRlZmF1bHREb21haW5zKS5rZXlzKCkpIHtcbiAgICAgIGlmIChoYXNXaWxkY2FyZChkb21haW4pKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUZyb21NYXAoZmlsdGVyLCBkb21haW4sIHRoaXMuZG9tYWluc1dpdGhXaWxkY2FyZHMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUZyb21NYXAoZmlsdGVyLCBkb21haW4sIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVGcm9tTWFwKGZpbHRlciwgZG9tYWluLCBmcm9tTWFwKSB7XG4gICAgbGV0IG1hcCA9IGZyb21NYXAuZ2V0KGRvbWFpbik7XG4gICAgaWYgKG1hcCkge1xuICAgICAgaWYgKG1hcC5zaXplID4gMSB8fCBtYXAgaW5zdGFuY2VvZiBGaWx0ZXJNYXApIHtcbiAgICAgICAgbWFwLmRlbGV0ZShmaWx0ZXIpO1xuXG4gICAgICAgIGlmIChtYXAuc2l6ZSA9PSAwKSB7XG4gICAgICAgICAgZnJvbU1hcC5kZWxldGUoZG9tYWluKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXAuc2l6ZSA9PSAxKSB7XG4gICAgICAgICAgZm9yIChsZXQgW2xhc3RGaWx0ZXIsIGluY2x1ZGVdIG9mIG1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIC8vIFJlZHVjZSBNYXAgeyBcImV4YW1wbGUuY29tXCIgPT4gTWFwIHsgZmlsdGVyID0+IHRydWUgfSB9IHRvXG4gICAgICAgICAgICAvLyBNYXAgeyBcImV4YW1wbGUuY29tXCIgPT4gZmlsdGVyIH1cbiAgICAgICAgICAgIGlmIChpbmNsdWRlKSB7XG4gICAgICAgICAgICAgIGZyb21NYXAuc2V0KGRvbWFpbiwgbGFzdEZpbHRlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZmlsdGVyID09IG1hcCkge1xuICAgICAgICBmcm9tTWFwLmRlbGV0ZShkb21haW4pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi8qKlxuICogQG1vZHVsZVxuICpcbiAqIEBib3Jyb3dzIG1vZHVsZTpjb250ZW50VHlwZXMuY29udGVudFR5cGVzIGFzIGNvbnRlbnRUeXBlc1xuICogQGJvcnJvd3MgbW9kdWxlOmZlYXR1cmVzLkZlYXR1cmVzIGFzIEZlYXR1cmVzXG4gKiBAYm9ycm93cyBtb2R1bGU6ZmlsdGVyRW5naW5lLkZpbHRlckVuZ2luZSBhcyBGaWx0ZXJFbmdpbmVcbiAqIEBib3Jyb3dzIG1vZHVsZTpzeW5jaHJvbml6ZXIuU3luY2hyb25pemVyIGFzIFN5bmNocm9uaXplclxuICogQGJvcnJvd3MgbW9kdWxlOnVybC5wYXJzZVVSTCBhcyBwYXJzZVVSTFxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7Y29udGVudFR5cGVzfSA9IHJlcXVpcmUoXCIuL2NvbnRlbnRUeXBlc1wiKTtcbmNvbnN0IHtGZWF0dXJlc30gPSByZXF1aXJlKFwiLi9mZWF0dXJlc1wiKTtcbmNvbnN0IHtGaWx0ZXJFbmdpbmV9ID0gcmVxdWlyZShcIi4vZmlsdGVyRW5naW5lXCIpO1xuY29uc3Qge1N5bmNocm9uaXplcn0gPSByZXF1aXJlKFwiLi9zeW5jaHJvbml6ZXJcIik7XG5jb25zdCB7cGFyc2VVUkx9ID0gcmVxdWlyZShcIi4vdXJsXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY29udGVudFR5cGVzLFxuICBGZWF0dXJlcyxcbiAgRmlsdGVyRW5naW5lLFxuICBTeW5jaHJvbml6ZXIsXG4gIHBhcnNlVVJMXG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLyoqIEBtb2R1bGUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGZpbGUgSU5JIHBhcnNpbmcuXG4gKi9cblxuY29uc3Qge2lzQWN0aXZlRmlsdGVyLCBGaWx0ZXJ9ID0gcmVxdWlyZShcIi4vZmlsdGVyQ2xhc3Nlc1wiKTtcbmNvbnN0IHtGaWx0ZXJTdGF0ZX0gPSByZXF1aXJlKFwiLi9maWx0ZXJTdGF0ZVwiKTtcbmNvbnN0IHtTdWJzY3JpcHRpb259ID0gcmVxdWlyZShcIi4vc3Vic2NyaXB0aW9uQ2xhc3Nlc1wiKTtcblxuLyoqXG4gKiBQYXJzZXMgZmlsdGVyIGRhdGEuXG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLklOSVBhcnNlciA9IGNsYXNzIElOSVBhcnNlciB7XG4gIC8qKiBAcGFyYW0ge0ZpbHRlclN0YXRlfSBmaWx0ZXJTdGF0ZSB0aGUgZmlsdGVyIHN0YXRlICovXG4gIGNvbnN0cnVjdG9yKGZpbHRlclN0YXRlKSB7XG4gICAgaWYgKCEoZmlsdGVyU3RhdGUgaW5zdGFuY2VvZiBGaWx0ZXJTdGF0ZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImZpbHRlclN0YXRlIG11c3QgYmUgYSBGaWx0ZXJTdGF0ZSBvYmplY3RcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyBvZiB0aGUgZmlsdGVyIGRhdGEuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGVQcm9wZXJ0aWVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBzdWJzY3JpcHRpb25zIGluIHRoZSBmaWx0ZXIgZGF0YS5cbiAgICAgKiBAdHlwZSB7QXJyYXkuPG1vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbj59XG4gICAgICovXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG5cbiAgICAvKiogQHR5cGUge21vZHVsZTpmaWx0ZXJTdGF0ZS5GaWx0ZXJTdGF0ZX0gKi9cbiAgICB0aGlzLmZpbHRlclN0YXRlID0gZmlsdGVyU3RhdGU7XG5cbiAgICB0aGlzLl93YW50T2JqID0gdHJ1ZTtcbiAgICB0aGlzLl9jdXJPYmogPSB0aGlzLmZpbGVQcm9wZXJ0aWVzO1xuICAgIHRoaXMuX2N1clNlY3Rpb24gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3NlcyBhIGxpbmUgb2YgZmlsdGVyIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nP30gbGluZSBUaGUgbGluZSBvZiBmaWx0ZXIgZGF0YSB0byBwcm9jZXNzLiBUaGlzIG1heSBiZVxuICAgKiAgIGBudWxsYCwgd2hpY2ggaW5kaWNhdGVzIHRoZSBlbmQgb2YgdGhlIGZpbHRlciBkYXRhLlxuICAgKi9cbiAgcHJvY2VzcyhsaW5lKSB7XG4gICAgbGV0IG1hdGNoID0gbnVsbDtcbiAgICBpZiAodGhpcy5fd2FudE9iaiA9PT0gdHJ1ZSAmJiAobWF0Y2ggPSAvXihcXHcrKT0oLiopJC8uZXhlYyhsaW5lKSkpIHtcbiAgICAgIHRoaXMuX2N1ck9ialttYXRjaFsxXV0gPSBtYXRjaFsyXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5fd2FudE9iaiA9PT0gdHJ1ZSAmJiAobWF0Y2ggPSAvXihcXHcrKVxcW109KC4qKSQvLmV4ZWMobGluZSkpKSB7XG4gICAgICBpZiAoIXRoaXMuX2N1ck9ialttYXRjaFsxXV0pIHtcbiAgICAgICAgdGhpcy5fY3VyT2JqW21hdGNoWzFdXSA9IFtdO1xuICAgICAgfVxuICAgICAgdGhpcy5fY3VyT2JqW21hdGNoWzFdXS5wdXNoKG1hdGNoWzJdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGluZSA9PT0gbnVsbCB8fCAobWF0Y2ggPSAvXlxccypcXFsoLispXFxdXFxzKiQvLmV4ZWMobGluZSkpKSB7XG4gICAgICBpZiAodGhpcy5fY3VyT2JqKSB7XG4gICAgICAgIC8vIFByb2Nlc3MgY3VycmVudCBvYmplY3QgYmVmb3JlIGdvaW5nIHRvIG5leHQgc2VjdGlvblxuICAgICAgICBzd2l0Y2ggKHRoaXMuX2N1clNlY3Rpb24pIHtcbiAgICAgICAgICBjYXNlIFwiZmlsdGVyXCI6XG4gICAgICAgICAgICBpZiAoXCJ0ZXh0XCIgaW4gdGhpcy5fY3VyT2JqKSB7XG4gICAgICAgICAgICAgIGxldCB7dGV4dH0gPSB0aGlzLl9jdXJPYmo7XG4gICAgICAgICAgICAgIGlmIChpc0FjdGl2ZUZpbHRlcihGaWx0ZXIuZnJvbVRleHQodGV4dCkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJTdGF0ZS5mcm9tT2JqZWN0KHRleHQsIHRoaXMuX2N1ck9iaik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcInN1YnNjcmlwdGlvblwiOlxuICAgICAgICAgICAgbGV0IHN1YnNjcmlwdGlvbiA9IFN1YnNjcmlwdGlvbi5mcm9tT2JqZWN0KHRoaXMuX2N1ck9iaik7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJzdWJzY3JpcHRpb24gZmlsdGVyc1wiOlxuICAgICAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgbGV0IGN1cnJlbnRTdWJzY3JpcHRpb24gPSB0aGlzLnN1YnNjcmlwdGlvbnNbXG4gICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGggLSAxXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIGN1cnJlbnRTdWJzY3JpcHRpb24udXBkYXRlRmlsdGVyVGV4dCh0aGlzLl9jdXJPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGxpbmUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jdXJTZWN0aW9uID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgIHN3aXRjaCAodGhpcy5fY3VyU2VjdGlvbikge1xuICAgICAgICBjYXNlIFwiZmlsdGVyXCI6XG4gICAgICAgIGNhc2UgXCJzdWJzY3JpcHRpb25cIjpcbiAgICAgICAgICB0aGlzLl93YW50T2JqID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLl9jdXJPYmogPSB7fTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN1YnNjcmlwdGlvbiBmaWx0ZXJzXCI6XG4gICAgICAgICAgdGhpcy5fd2FudE9iaiA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuX2N1ck9iaiA9IFtdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRoaXMuX3dhbnRPYmogPSBudWxsO1xuICAgICAgICAgIHRoaXMuX2N1ck9iaiA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuX3dhbnRPYmogPT09IGZhbHNlICYmIGxpbmUpIHtcbiAgICAgIHRoaXMuX2N1ck9iai5wdXNoKGxpbmUucmVwbGFjZSgvXFxcXFxcWy9nLCBcIltcIikpO1xuICAgIH1cbiAgfVxufTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAwNSAgVG9tIFd1XG4gKiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZ1xuICogYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4gKiBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbiAqIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbiAqIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0b1xuICogcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvXG4gKiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAqIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTLUlTXCIgQU5EIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gKiBFWFBSRVNTLCBJTVBMSUVEIE9SIE9USEVSV0lTRSwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiwgQU5ZXG4gKiBXQVJSQU5UWSBPRiBNRVJDSEFOVEFCSUxJVFkgT1IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuXG4gKlxuICogSU4gTk8gRVZFTlQgU0hBTEwgVE9NIFdVIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIElOQ0lERU5UQUwsXG4gKiBJTkRJUkVDVCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT0YgQU5ZIEtJTkQsIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVJcbiAqIFJFU1VMVElORyBGUk9NIExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgT1IgTk9UIEFEVklTRUQgT0ZcbiAqIFRIRSBQT1NTSUJJTElUWSBPRiBEQU1BR0UsIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgQVJJU0lORyBPVVRcbiAqIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4gKlxuICogSW4gYWRkaXRpb24sIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uIGFwcGxpZXM6XG4gKlxuICogQWxsIHJlZGlzdHJpYnV0aW9ucyBtdXN0IHJldGFpbiBhbiBpbnRhY3QgY29weSBvZiB0aGlzIGNvcHlyaWdodCBub3RpY2VcbiAqIGFuZCBkaXNjbGFpbWVyLlxuICovXG5cbi8vIEJhc2ljIEphdmFTY3JpcHQgQk4gbGlicmFyeSAtIHN1YnNldCB1c2VmdWwgZm9yIFJTQSBlbmNyeXB0aW9uLlxuXG4vLyBNb2RpZmllZCBieSBleWVvIEdtYkggdG8gYmV0dGVyIHN1cHBvcnQgZ29pbmcgdG8gYW5kIGZyb20gSlMgYmluYXJ5XG4vLyBzdHJpbmdzIChiYXNlIDI1NikgYW5kIG91ciBwYXJ0aWN1bGFyIHVzZSBjYXNlLlxuXG4vLyBCaXRzIHBlciBkaWdpdFxudmFyIGRiaXRzO1xuXG4vLyBKYXZhU2NyaXB0IGVuZ2luZSBhbmFseXNpc1xudmFyIGNhbmFyeSA9IDB4ZGVhZGJlZWZjYWZlO1xudmFyIGpfbG0gPSAoKGNhbmFyeSYweGZmZmZmZik9PTB4ZWZjYWZlKTtcblxuLy8gKHB1YmxpYykgQ29uc3RydWN0b3JcbmxldCBCaWdJbnRlZ2VyID0gZXhwb3J0cy5CaWdJbnRlZ2VyID0gZnVuY3Rpb24gQmlnSW50ZWdlcihhLGIsYykge1xuICBpZihhICE9IG51bGwpXG4gICAgaWYoXCJudW1iZXJcIiA9PSB0eXBlb2YgYSkgdGhpcy5mcm9tTnVtYmVyKGEsYixjKTtcbiAgICBlbHNlIGlmKGIgPT0gbnVsbCAmJiBcInN0cmluZ1wiICE9IHR5cGVvZiBhKSB0aGlzLmZyb21TdHJpbmcoYSwyNTYpO1xuICAgIGVsc2UgdGhpcy5mcm9tU3RyaW5nKGEsYik7XG59O1xuXG4vLyByZXR1cm4gbmV3LCB1bnNldCBCaWdJbnRlZ2VyXG5mdW5jdGlvbiBuYmkoKSB7IHJldHVybiBuZXcgQmlnSW50ZWdlcihudWxsKTsgfVxuXG4vLyBhbTogQ29tcHV0ZSB3X2ogKz0gKHgqdGhpc19pKSwgcHJvcGFnYXRlIGNhcnJpZXMsXG4vLyBjIGlzIGluaXRpYWwgY2FycnksIHJldHVybnMgZmluYWwgY2FycnkuXG4vLyBjIDwgMypkdmFsdWUsIHggPCAyKmR2YWx1ZSwgdGhpc19pIDwgZHZhbHVlXG4vLyBXZSBuZWVkIHRvIHNlbGVjdCB0aGUgZmFzdGVzdCBvbmUgdGhhdCB3b3JrcyBpbiB0aGlzIGVudmlyb25tZW50LlxuXG4vLyBhbTE6IHVzZSBhIHNpbmdsZSBtdWx0IGFuZCBkaXZpZGUgdG8gZ2V0IHRoZSBoaWdoIGJpdHMsXG4vLyBtYXggZGlnaXQgYml0cyBzaG91bGQgYmUgMjYgYmVjYXVzZVxuLy8gbWF4IGludGVybmFsIHZhbHVlID0gMipkdmFsdWVeMi0yKmR2YWx1ZSAoPCAyXjUzKVxuZnVuY3Rpb24gYW0xKGkseCx3LGosYyxuKSB7XG4gIHdoaWxlKC0tbiA+PSAwKSB7XG4gICAgdmFyIHYgPSB4KnRoaXNbaSsrXSt3W2pdK2M7XG4gICAgYyA9IE1hdGguZmxvb3Iodi8weDQwMDAwMDApO1xuICAgIHdbaisrXSA9IHYmMHgzZmZmZmZmO1xuICB9XG4gIHJldHVybiBjO1xufVxuLy8gYW0yIGF2b2lkcyBhIGJpZyBtdWx0LWFuZC1leHRyYWN0IGNvbXBsZXRlbHkuXG4vLyBNYXggZGlnaXQgYml0cyBzaG91bGQgYmUgPD0gMzAgYmVjYXVzZSB3ZSBkbyBiaXR3aXNlIG9wc1xuLy8gb24gdmFsdWVzIHVwIHRvIDIqaGR2YWx1ZV4yLWhkdmFsdWUtMSAoPCAyXjMxKVxuZnVuY3Rpb24gYW0yKGkseCx3LGosYyxuKSB7XG4gIHZhciB4bCA9IHgmMHg3ZmZmLCB4aCA9IHg+PjE1O1xuICB3aGlsZSgtLW4gPj0gMCkge1xuICAgIHZhciBsID0gdGhpc1tpXSYweDdmZmY7XG4gICAgdmFyIGggPSB0aGlzW2krK10+PjE1O1xuICAgIHZhciBtID0geGgqbCtoKnhsO1xuICAgIGwgPSB4bCpsKygobSYweDdmZmYpPDwxNSkrd1tqXSsoYyYweDNmZmZmZmZmKTtcbiAgICBjID0gKGw+Pj4zMCkrKG0+Pj4xNSkreGgqaCsoYz4+PjMwKTtcbiAgICB3W2orK10gPSBsJjB4M2ZmZmZmZmY7XG4gIH1cbiAgcmV0dXJuIGM7XG59XG4vLyBBbHRlcm5hdGVseSwgc2V0IG1heCBkaWdpdCBiaXRzIHRvIDI4IHNpbmNlIHNvbWVcbi8vIGJyb3dzZXJzIHNsb3cgZG93biB3aGVuIGRlYWxpbmcgd2l0aCAzMi1iaXQgbnVtYmVycy5cbmZ1bmN0aW9uIGFtMyhpLHgsdyxqLGMsbikge1xuICB2YXIgeGwgPSB4JjB4M2ZmZiwgeGggPSB4Pj4xNDtcbiAgd2hpbGUoLS1uID49IDApIHtcbiAgICB2YXIgbCA9IHRoaXNbaV0mMHgzZmZmO1xuICAgIHZhciBoID0gdGhpc1tpKytdPj4xNDtcbiAgICB2YXIgbSA9IHhoKmwraCp4bDtcbiAgICBsID0geGwqbCsoKG0mMHgzZmZmKTw8MTQpK3dbal0rYztcbiAgICBjID0gKGw+PjI4KSsobT4+MTQpK3hoKmg7XG4gICAgd1tqKytdID0gbCYweGZmZmZmZmY7XG4gIH1cbiAgcmV0dXJuIGM7XG59XG5pZihqX2xtICYmICh0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yLmFwcE5hbWUgPT0gXCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIikpIHsgLyoqIE1PRElGSUVEICoqL1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbSA9IGFtMjtcbiAgZGJpdHMgPSAzMDtcbn1cbmVsc2UgaWYoal9sbSAmJiAodHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIG5hdmlnYXRvci5hcHBOYW1lICE9IFwiTmV0c2NhcGVcIikpIHsgLyoqIE1PRElGSUVEICoqL1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbSA9IGFtMTtcbiAgZGJpdHMgPSAyNjtcbn1cbmVsc2UgeyAvLyBNb3ppbGxhL05ldHNjYXBlIHNlZW1zIHRvIHByZWZlciBhbTNcbiAgQmlnSW50ZWdlci5wcm90b3R5cGUuYW0gPSBhbTM7XG4gIGRiaXRzID0gMjg7XG59XG5cbkJpZ0ludGVnZXIucHJvdG90eXBlLkRCID0gZGJpdHM7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5ETSA9ICgoMTw8ZGJpdHMpLTEpO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuRFYgPSAoMTw8ZGJpdHMpO1xuXG52YXIgQklfRlAgPSA1MjtcbkJpZ0ludGVnZXIucHJvdG90eXBlLkZWID0gTWF0aC5wb3coMixCSV9GUCk7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5GMSA9IEJJX0ZQLWRiaXRzO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuRjIgPSAyKmRiaXRzLUJJX0ZQO1xuXG4vLyBEaWdpdCBjb252ZXJzaW9uc1xudmFyIEJJX1JNID0gXCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIjtcbnZhciBCSV9SQyA9IG5ldyBBcnJheSgpO1xudmFyIHJyLHZ2O1xucnIgPSBcIjBcIi5jaGFyQ29kZUF0KDApO1xuZm9yKHZ2ID0gMDsgdnYgPD0gOTsgKyt2dikgQklfUkNbcnIrK10gPSB2djtcbnJyID0gXCJhXCIuY2hhckNvZGVBdCgwKTtcbmZvcih2diA9IDEwOyB2diA8IDM2OyArK3Z2KSBCSV9SQ1tycisrXSA9IHZ2O1xucnIgPSBcIkFcIi5jaGFyQ29kZUF0KDApO1xuZm9yKHZ2ID0gMTA7IHZ2IDwgMzY7ICsrdnYpIEJJX1JDW3JyKytdID0gdnY7XG5cbmZ1bmN0aW9uIGludDJjaGFyKG4pIHsgcmV0dXJuIEJJX1JNLmNoYXJBdChuKTsgfVxuZnVuY3Rpb24gaW50QXQocyxpKSB7XG4gIHZhciBjID0gQklfUkNbcy5jaGFyQ29kZUF0KGkpXTtcbiAgcmV0dXJuIChjPT1udWxsKT8tMTpjO1xufVxuXG4vLyAocHJvdGVjdGVkKSBjb3B5IHRoaXMgdG8gclxuZnVuY3Rpb24gYm5wQ29weVRvKHIpIHtcbiAgZm9yKHZhciBpID0gdGhpcy50LTE7IGkgPj0gMDsgLS1pKSByW2ldID0gdGhpc1tpXTtcbiAgci50ID0gdGhpcy50O1xuICByLnMgPSB0aGlzLnM7XG59XG5cbi8vIChwcm90ZWN0ZWQpIHNldCBmcm9tIGludGVnZXIgdmFsdWUgeCwgLURWIDw9IHggPCBEVlxuZnVuY3Rpb24gYm5wRnJvbUludCh4KSB7XG4gIHRoaXMudCA9IDE7XG4gIHRoaXMucyA9ICh4PDApPy0xOjA7XG4gIGlmKHggPiAwKSB0aGlzWzBdID0geDtcbiAgZWxzZSBpZih4IDwgLTEpIHRoaXNbMF0gPSB4K0RWO1xuICBlbHNlIHRoaXMudCA9IDA7XG59XG5cbi8vIHJldHVybiBiaWdpbnQgaW5pdGlhbGl6ZWQgdG8gdmFsdWVcbmZ1bmN0aW9uIG5idihpKSB7IHZhciByID0gbmJpKCk7IHIuZnJvbUludChpKTsgcmV0dXJuIHI7IH1cblxuLy8gKHByb3RlY3RlZCkgc2V0IGZyb20gc3RyaW5nIGFuZCByYWRpeFxuZnVuY3Rpb24gYm5wRnJvbVN0cmluZyhzLGIpIHtcbiAgdmFyIGs7XG4gIGlmKGIgPT0gMTYpIGsgPSA0O1xuICBlbHNlIGlmKGIgPT0gOCkgayA9IDM7XG4gIGVsc2UgaWYoYiA9PSAyNTYpIGsgPSA4OyAvLyBieXRlIGFycmF5XG4gIGVsc2UgaWYoYiA9PSAyKSBrID0gMTtcbiAgZWxzZSBpZihiID09IDMyKSBrID0gNTtcbiAgZWxzZSBpZihiID09IDQpIGsgPSAyO1xuICBlbHNlIHsgdGhpcy5mcm9tUmFkaXgocyxiKTsgcmV0dXJuOyB9XG4gIHRoaXMudCA9IDA7XG4gIHRoaXMucyA9IDA7XG4gIHZhciBpID0gcy5sZW5ndGgsIG1pID0gZmFsc2UsIHNoID0gMDtcbiAgd2hpbGUoLS1pID49IDApIHtcbiAgICB2YXIgeCA9IChrPT04KT9zLmNoYXJDb2RlQXQoaSkmMHhmZjppbnRBdChzLGkpOyAgIC8qKiBNT0RJRklFRCAqKi9cbiAgICBpZih4IDwgMCkge1xuICAgICAgaWYocy5jaGFyQXQoaSkgPT0gXCItXCIpIG1pID0gdHJ1ZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBtaSA9IGZhbHNlO1xuICAgIGlmKHNoID09IDApXG4gICAgICB0aGlzW3RoaXMudCsrXSA9IHg7XG4gICAgZWxzZSBpZihzaCtrID4gdGhpcy5EQikge1xuICAgICAgdGhpc1t0aGlzLnQtMV0gfD0gKHgmKCgxPDwodGhpcy5EQi1zaCkpLTEpKTw8c2g7XG4gICAgICB0aGlzW3RoaXMudCsrXSA9ICh4Pj4odGhpcy5EQi1zaCkpO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICB0aGlzW3RoaXMudC0xXSB8PSB4PDxzaDtcbiAgICBzaCArPSBrO1xuICAgIGlmKHNoID49IHRoaXMuREIpIHNoIC09IHRoaXMuREI7XG4gIH1cbiAgaWYoayA9PSA4ICYmIChzWzBdJjB4ODApICE9IDApIHtcbiAgICB0aGlzLnMgPSAtMTtcbiAgICBpZihzaCA+IDApIHRoaXNbdGhpcy50LTFdIHw9ICgoMTw8KHRoaXMuREItc2gpKS0xKTw8c2g7XG4gIH1cbiAgdGhpcy5jbGFtcCgpO1xuICBpZihtaSkgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHRoaXMsdGhpcyk7XG59XG5cbi8vIChwcm90ZWN0ZWQpIGNsYW1wIG9mZiBleGNlc3MgaGlnaCB3b3Jkc1xuZnVuY3Rpb24gYm5wQ2xhbXAoKSB7XG4gIHZhciBjID0gdGhpcy5zJnRoaXMuRE07XG4gIHdoaWxlKHRoaXMudCA+IDAgJiYgdGhpc1t0aGlzLnQtMV0gPT0gYykgLS10aGlzLnQ7XG59XG5cbi8vIChwdWJsaWMpIHJldHVybiBzdHJpbmcgcmVwcmVzZW50YXRpb24gaW4gZ2l2ZW4gcmFkaXhcbmZ1bmN0aW9uIGJuVG9TdHJpbmcoYikge1xuICBpZih0aGlzLnMgPCAwKSByZXR1cm4gXCItXCIrdGhpcy5uZWdhdGUoKS50b1N0cmluZyhiKTtcbiAgdmFyIGs7XG4gIGlmKGIgPT0gMTYpIGsgPSA0O1xuICBlbHNlIGlmKGIgPT0gOCkgayA9IDM7XG4gIGVsc2UgaWYoYiA9PSAyNTYpIGsgPSA4OyAvLyBieXRlIGFycmF5ICAgICAgLyoqIE1PRElGSUVEICoqL1xuICBlbHNlIGlmKGIgPT0gMikgayA9IDE7XG4gIGVsc2UgaWYoYiA9PSAzMikgayA9IDU7XG4gIGVsc2UgaWYoYiA9PSA0KSBrID0gMjtcbiAgZWxzZSByZXR1cm4gdGhpcy50b1JhZGl4KGIpO1xuICB2YXIga20gPSAoMTw8ayktMSwgZCwgbSA9IGZhbHNlLCByID0gXCJcIiwgaSA9IHRoaXMudDtcbiAgdmFyIHAgPSB0aGlzLkRCLShpKnRoaXMuREIpJWs7XG4gIGlmKGktLSA+IDApIHtcbiAgICBpZihwIDwgdGhpcy5EQiAmJiAoZCA9IHRoaXNbaV0+PnApID4gMCkgeyBtID0gdHJ1ZTsgciA9IChrPT04KT9TdHJpbmcuZnJvbUNoYXJDb2RlKGQpOmludDJjaGFyKGQpOyB9ICAgLyoqIE1PRElGSUVEICoqL1xuICAgIHdoaWxlKGkgPj0gMCkge1xuICAgICAgaWYocCA8IGspIHtcbiAgICAgICAgZCA9ICh0aGlzW2ldJigoMTw8cCktMSkpPDwoay1wKTtcbiAgICAgICAgZCB8PSB0aGlzWy0taV0+PihwKz10aGlzLkRCLWspO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGQgPSAodGhpc1tpXT4+KHAtPWspKSZrbTtcbiAgICAgICAgaWYocCA8PSAwKSB7IHAgKz0gdGhpcy5EQjsgLS1pOyB9XG4gICAgICB9XG4gICAgICBpZihkID4gMCkgbSA9IHRydWU7XG4gICAgICBpZihtKSByICs9IChrPT04KT9TdHJpbmcuZnJvbUNoYXJDb2RlKGQpOmludDJjaGFyKGQpOyAgICAvKiogTU9ESUZJRUQgKiovXG4gICAgfVxuICB9XG4gIHJldHVybiBtP3I6XCIwXCI7XG59XG5cbi8vIChwdWJsaWMpIC10aGlzXG5mdW5jdGlvbiBibk5lZ2F0ZSgpIHsgdmFyIHIgPSBuYmkoKTsgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHRoaXMscik7IHJldHVybiByOyB9XG5cbi8vIChwdWJsaWMpIHx0aGlzfFxuZnVuY3Rpb24gYm5BYnMoKSB7IHJldHVybiAodGhpcy5zPDApP3RoaXMubmVnYXRlKCk6dGhpczsgfVxuXG4vLyAocHVibGljKSByZXR1cm4gKyBpZiB0aGlzID4gYSwgLSBpZiB0aGlzIDwgYSwgMCBpZiBlcXVhbFxuZnVuY3Rpb24gYm5Db21wYXJlVG8oYSkge1xuICB2YXIgciA9IHRoaXMucy1hLnM7XG4gIGlmKHIgIT0gMCkgcmV0dXJuIHI7XG4gIHZhciBpID0gdGhpcy50O1xuICByID0gaS1hLnQ7XG4gIGlmKHIgIT0gMCkgcmV0dXJuIHI7XG4gIHdoaWxlKC0taSA+PSAwKSBpZigocj10aGlzW2ldLWFbaV0pICE9IDApIHJldHVybiByO1xuICByZXR1cm4gMDtcbn1cblxuLy8gcmV0dXJucyBiaXQgbGVuZ3RoIG9mIHRoZSBpbnRlZ2VyIHhcbmZ1bmN0aW9uIG5iaXRzKHgpIHtcbiAgdmFyIHIgPSAxLCB0O1xuICBpZigodD14Pj4+MTYpICE9IDApIHsgeCA9IHQ7IHIgKz0gMTY7IH1cbiAgaWYoKHQ9eD4+OCkgIT0gMCkgeyB4ID0gdDsgciArPSA4OyB9XG4gIGlmKCh0PXg+PjQpICE9IDApIHsgeCA9IHQ7IHIgKz0gNDsgfVxuICBpZigodD14Pj4yKSAhPSAwKSB7IHggPSB0OyByICs9IDI7IH1cbiAgaWYoKHQ9eD4+MSkgIT0gMCkgeyB4ID0gdDsgciArPSAxOyB9XG4gIHJldHVybiByO1xufVxuXG4vLyAocHVibGljKSByZXR1cm4gdGhlIG51bWJlciBvZiBiaXRzIGluIFwidGhpc1wiXG5mdW5jdGlvbiBibkJpdExlbmd0aCgpIHtcbiAgaWYodGhpcy50IDw9IDApIHJldHVybiAwO1xuICByZXR1cm4gdGhpcy5EQioodGhpcy50LTEpK25iaXRzKHRoaXNbdGhpcy50LTFdXih0aGlzLnMmdGhpcy5ETSkpO1xufVxuXG4vLyAocHJvdGVjdGVkKSByID0gdGhpcyA8PCBuKkRCXG5mdW5jdGlvbiBibnBETFNoaWZ0VG8obixyKSB7XG4gIHZhciBpO1xuICBmb3IoaSA9IHRoaXMudC0xOyBpID49IDA7IC0taSkgcltpK25dID0gdGhpc1tpXTtcbiAgZm9yKGkgPSBuLTE7IGkgPj0gMDsgLS1pKSByW2ldID0gMDtcbiAgci50ID0gdGhpcy50K247XG4gIHIucyA9IHRoaXMucztcbn1cblxuLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgPj4gbipEQlxuZnVuY3Rpb24gYm5wRFJTaGlmdFRvKG4scikge1xuICBmb3IodmFyIGkgPSBuOyBpIDwgdGhpcy50OyArK2kpIHJbaS1uXSA9IHRoaXNbaV07XG4gIHIudCA9IE1hdGgubWF4KHRoaXMudC1uLDApO1xuICByLnMgPSB0aGlzLnM7XG59XG5cbi8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzIDw8IG5cbmZ1bmN0aW9uIGJucExTaGlmdFRvKG4scikge1xuICB2YXIgYnMgPSBuJXRoaXMuREI7XG4gIHZhciBjYnMgPSB0aGlzLkRCLWJzO1xuICB2YXIgYm0gPSAoMTw8Y2JzKS0xO1xuICB2YXIgZHMgPSBNYXRoLmZsb29yKG4vdGhpcy5EQiksIGMgPSAodGhpcy5zPDxicykmdGhpcy5ETSwgaTtcbiAgZm9yKGkgPSB0aGlzLnQtMTsgaSA+PSAwOyAtLWkpIHtcbiAgICByW2krZHMrMV0gPSAodGhpc1tpXT4+Y2JzKXxjO1xuICAgIGMgPSAodGhpc1tpXSZibSk8PGJzO1xuICB9XG4gIGZvcihpID0gZHMtMTsgaSA+PSAwOyAtLWkpIHJbaV0gPSAwO1xuICByW2RzXSA9IGM7XG4gIHIudCA9IHRoaXMudCtkcysxO1xuICByLnMgPSB0aGlzLnM7XG4gIHIuY2xhbXAoKTtcbn1cblxuLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgPj4gblxuZnVuY3Rpb24gYm5wUlNoaWZ0VG8obixyKSB7XG4gIHIucyA9IHRoaXMucztcbiAgdmFyIGRzID0gTWF0aC5mbG9vcihuL3RoaXMuREIpO1xuICBpZihkcyA+PSB0aGlzLnQpIHsgci50ID0gMDsgcmV0dXJuOyB9XG4gIHZhciBicyA9IG4ldGhpcy5EQjtcbiAgdmFyIGNicyA9IHRoaXMuREItYnM7XG4gIHZhciBibSA9ICgxPDxicyktMTtcbiAgclswXSA9IHRoaXNbZHNdPj5icztcbiAgZm9yKHZhciBpID0gZHMrMTsgaSA8IHRoaXMudDsgKytpKSB7XG4gICAgcltpLWRzLTFdIHw9ICh0aGlzW2ldJmJtKTw8Y2JzO1xuICAgIHJbaS1kc10gPSB0aGlzW2ldPj5icztcbiAgfVxuICBpZihicyA+IDApIHJbdGhpcy50LWRzLTFdIHw9ICh0aGlzLnMmYm0pPDxjYnM7XG4gIHIudCA9IHRoaXMudC1kcztcbiAgci5jbGFtcCgpO1xufVxuXG4vLyAocHJvdGVjdGVkKSByID0gdGhpcyAtIGFcbmZ1bmN0aW9uIGJucFN1YlRvKGEscikge1xuICB2YXIgaSA9IDAsIGMgPSAwLCBtID0gTWF0aC5taW4oYS50LHRoaXMudCk7XG4gIHdoaWxlKGkgPCBtKSB7XG4gICAgYyArPSB0aGlzW2ldLWFbaV07XG4gICAgcltpKytdID0gYyZ0aGlzLkRNO1xuICAgIGMgPj49IHRoaXMuREI7XG4gIH1cbiAgaWYoYS50IDwgdGhpcy50KSB7XG4gICAgYyAtPSBhLnM7XG4gICAgd2hpbGUoaSA8IHRoaXMudCkge1xuICAgICAgYyArPSB0aGlzW2ldO1xuICAgICAgcltpKytdID0gYyZ0aGlzLkRNO1xuICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICB9XG4gICAgYyArPSB0aGlzLnM7XG4gIH1cbiAgZWxzZSB7XG4gICAgYyArPSB0aGlzLnM7XG4gICAgd2hpbGUoaSA8IGEudCkge1xuICAgICAgYyAtPSBhW2ldO1xuICAgICAgcltpKytdID0gYyZ0aGlzLkRNO1xuICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICB9XG4gICAgYyAtPSBhLnM7XG4gIH1cbiAgci5zID0gKGM8MCk/LTE6MDtcbiAgaWYoYyA8IC0xKSByW2krK10gPSB0aGlzLkRWK2M7XG4gIGVsc2UgaWYoYyA+IDApIHJbaSsrXSA9IGM7XG4gIHIudCA9IGk7XG4gIHIuY2xhbXAoKTtcbn1cblxuLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgKiBhLCByICE9IHRoaXMsYSAoSEFDIDE0LjEyKVxuLy8gXCJ0aGlzXCIgc2hvdWxkIGJlIHRoZSBsYXJnZXIgb25lIGlmIGFwcHJvcHJpYXRlLlxuZnVuY3Rpb24gYm5wTXVsdGlwbHlUbyhhLHIpIHtcbiAgdmFyIHggPSB0aGlzLmFicygpLCB5ID0gYS5hYnMoKTtcbiAgdmFyIGkgPSB4LnQ7XG4gIHIudCA9IGkreS50O1xuICB3aGlsZSgtLWkgPj0gMCkgcltpXSA9IDA7XG4gIGZvcihpID0gMDsgaSA8IHkudDsgKytpKSByW2kreC50XSA9IHguYW0oMCx5W2ldLHIsaSwwLHgudCk7XG4gIHIucyA9IDA7XG4gIHIuY2xhbXAoKTtcbiAgaWYodGhpcy5zICE9IGEucykgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHIscik7XG59XG5cbi8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzXjIsIHIgIT0gdGhpcyAoSEFDIDE0LjE2KVxuZnVuY3Rpb24gYm5wU3F1YXJlVG8ocikge1xuICB2YXIgeCA9IHRoaXMuYWJzKCk7XG4gIHZhciBpID0gci50ID0gMip4LnQ7XG4gIHdoaWxlKC0taSA+PSAwKSByW2ldID0gMDtcbiAgZm9yKGkgPSAwOyBpIDwgeC50LTE7ICsraSkge1xuICAgIHZhciBjID0geC5hbShpLHhbaV0sciwyKmksMCwxKTtcbiAgICBpZigocltpK3gudF0rPXguYW0oaSsxLDIqeFtpXSxyLDIqaSsxLGMseC50LWktMSkpID49IHguRFYpIHtcbiAgICAgIHJbaSt4LnRdIC09IHguRFY7XG4gICAgICByW2kreC50KzFdID0gMTtcbiAgICB9XG4gIH1cbiAgaWYoci50ID4gMCkgcltyLnQtMV0gKz0geC5hbShpLHhbaV0sciwyKmksMCwxKTtcbiAgci5zID0gMDtcbiAgci5jbGFtcCgpO1xufVxuXG4vLyAocHJvdGVjdGVkKSBkaXZpZGUgdGhpcyBieSBtLCBxdW90aWVudCBhbmQgcmVtYWluZGVyIHRvIHEsIHIgKEhBQyAxNC4yMClcbi8vIHIgIT0gcSwgdGhpcyAhPSBtLiAgcSBvciByIG1heSBiZSBudWxsLlxuZnVuY3Rpb24gYm5wRGl2UmVtVG8obSxxLHIpIHtcbiAgdmFyIHBtID0gbS5hYnMoKTtcbiAgaWYocG0udCA8PSAwKSByZXR1cm47XG4gIHZhciBwdCA9IHRoaXMuYWJzKCk7XG4gIGlmKHB0LnQgPCBwbS50KSB7XG4gICAgaWYocSAhPSBudWxsKSBxLmZyb21JbnQoMCk7XG4gICAgaWYociAhPSBudWxsKSB0aGlzLmNvcHlUbyhyKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYociA9PSBudWxsKSByID0gbmJpKCk7XG4gIHZhciB5ID0gbmJpKCksIHRzID0gdGhpcy5zLCBtcyA9IG0ucztcbiAgdmFyIG5zaCA9IHRoaXMuREItbmJpdHMocG1bcG0udC0xXSk7XHQvLyBub3JtYWxpemUgbW9kdWx1c1xuICBpZihuc2ggPiAwKSB7IHBtLmxTaGlmdFRvKG5zaCx5KTsgcHQubFNoaWZ0VG8obnNoLHIpOyB9XG4gIGVsc2UgeyBwbS5jb3B5VG8oeSk7IHB0LmNvcHlUbyhyKTsgfVxuICB2YXIgeXMgPSB5LnQ7XG4gIHZhciB5MCA9IHlbeXMtMV07XG4gIGlmKHkwID09IDApIHJldHVybjtcbiAgdmFyIHl0ID0geTAqKDE8PHRoaXMuRjEpKygoeXM+MSk/eVt5cy0yXT4+dGhpcy5GMjowKTtcbiAgdmFyIGQxID0gdGhpcy5GVi95dCwgZDIgPSAoMTw8dGhpcy5GMSkveXQsIGUgPSAxPDx0aGlzLkYyO1xuICB2YXIgaSA9IHIudCwgaiA9IGkteXMsIHQgPSAocT09bnVsbCk/bmJpKCk6cTtcbiAgeS5kbFNoaWZ0VG8oaix0KTtcbiAgaWYoci5jb21wYXJlVG8odCkgPj0gMCkge1xuICAgIHJbci50KytdID0gMTtcbiAgICByLnN1YlRvKHQscik7XG4gIH1cbiAgQmlnSW50ZWdlci5PTkUuZGxTaGlmdFRvKHlzLHQpO1xuICB0LnN1YlRvKHkseSk7XHQvLyBcIm5lZ2F0aXZlXCIgeSBzbyB3ZSBjYW4gcmVwbGFjZSBzdWIgd2l0aCBhbSBsYXRlclxuICB3aGlsZSh5LnQgPCB5cykgeVt5LnQrK10gPSAwO1xuICB3aGlsZSgtLWogPj0gMCkge1xuICAgIC8vIEVzdGltYXRlIHF1b3RpZW50IGRpZ2l0XG4gICAgdmFyIHFkID0gKHJbLS1pXT09eTApP3RoaXMuRE06TWF0aC5mbG9vcihyW2ldKmQxKyhyW2ktMV0rZSkqZDIpO1xuICAgIGlmKChyW2ldKz15LmFtKDAscWQscixqLDAseXMpKSA8IHFkKSB7XHQvLyBUcnkgaXQgb3V0XG4gICAgICB5LmRsU2hpZnRUbyhqLHQpO1xuICAgICAgci5zdWJUbyh0LHIpO1xuICAgICAgd2hpbGUocltpXSA8IC0tcWQpIHIuc3ViVG8odCxyKTtcbiAgICB9XG4gIH1cbiAgaWYocSAhPSBudWxsKSB7XG4gICAgci5kclNoaWZ0VG8oeXMscSk7XG4gICAgaWYodHMgIT0gbXMpIEJpZ0ludGVnZXIuWkVSTy5zdWJUbyhxLHEpO1xuICB9XG4gIHIudCA9IHlzO1xuICByLmNsYW1wKCk7XG4gIGlmKG5zaCA+IDApIHIuclNoaWZ0VG8obnNoLHIpO1x0Ly8gRGVub3JtYWxpemUgcmVtYWluZGVyXG4gIGlmKHRzIDwgMCkgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHIscik7XG59XG5cbi8vIChwdWJsaWMpIHRoaXMgbW9kIGFcbmZ1bmN0aW9uIGJuTW9kKGEpIHtcbiAgdmFyIHIgPSBuYmkoKTtcbiAgdGhpcy5hYnMoKS5kaXZSZW1UbyhhLG51bGwscik7XG4gIGlmKHRoaXMucyA8IDAgJiYgci5jb21wYXJlVG8oQmlnSW50ZWdlci5aRVJPKSA+IDApIGEuc3ViVG8ocixyKTtcbiAgcmV0dXJuIHI7XG59XG5cbi8vIE1vZHVsYXIgcmVkdWN0aW9uIHVzaW5nIFwiY2xhc3NpY1wiIGFsZ29yaXRobVxuZnVuY3Rpb24gQ2xhc3NpYyhtKSB7IHRoaXMubSA9IG07IH1cbmZ1bmN0aW9uIGNDb252ZXJ0KHgpIHtcbiAgaWYoeC5zIDwgMCB8fCB4LmNvbXBhcmVUbyh0aGlzLm0pID49IDApIHJldHVybiB4Lm1vZCh0aGlzLm0pO1xuICBlbHNlIHJldHVybiB4O1xufVxuZnVuY3Rpb24gY1JldmVydCh4KSB7IHJldHVybiB4OyB9XG5mdW5jdGlvbiBjUmVkdWNlKHgpIHsgeC5kaXZSZW1Ubyh0aGlzLm0sbnVsbCx4KTsgfVxuZnVuY3Rpb24gY011bFRvKHgseSxyKSB7IHgubXVsdGlwbHlUbyh5LHIpOyB0aGlzLnJlZHVjZShyKTsgfVxuZnVuY3Rpb24gY1NxclRvKHgscikgeyB4LnNxdWFyZVRvKHIpOyB0aGlzLnJlZHVjZShyKTsgfVxuXG5DbGFzc2ljLnByb3RvdHlwZS5jb252ZXJ0ID0gY0NvbnZlcnQ7XG5DbGFzc2ljLnByb3RvdHlwZS5yZXZlcnQgPSBjUmV2ZXJ0O1xuQ2xhc3NpYy5wcm90b3R5cGUucmVkdWNlID0gY1JlZHVjZTtcbkNsYXNzaWMucHJvdG90eXBlLm11bFRvID0gY011bFRvO1xuQ2xhc3NpYy5wcm90b3R5cGUuc3FyVG8gPSBjU3FyVG87XG5cbi8vIChwcm90ZWN0ZWQpIHJldHVybiBcIi0xL3RoaXMgJSAyXkRCXCI7IHVzZWZ1bCBmb3IgTW9udC4gcmVkdWN0aW9uXG4vLyBqdXN0aWZpY2F0aW9uOlxuLy8gICAgICAgICB4eSA9PSAxIChtb2QgbSlcbi8vICAgICAgICAgeHkgPSAgMStrbVxuLy8gICB4eSgyLXh5KSA9ICgxK2ttKSgxLWttKVxuLy8geFt5KDIteHkpXSA9IDEta14ybV4yXG4vLyB4W3koMi14eSldID09IDEgKG1vZCBtXjIpXG4vLyBpZiB5IGlzIDEveCBtb2QgbSwgdGhlbiB5KDIteHkpIGlzIDEveCBtb2QgbV4yXG4vLyBzaG91bGQgcmVkdWNlIHggYW5kIHkoMi14eSkgYnkgbV4yIGF0IGVhY2ggc3RlcCB0byBrZWVwIHNpemUgYm91bmRlZC5cbi8vIEpTIG11bHRpcGx5IFwib3ZlcmZsb3dzXCIgZGlmZmVyZW50bHkgZnJvbSBDL0MrKywgc28gY2FyZSBpcyBuZWVkZWQgaGVyZS5cbmZ1bmN0aW9uIGJucEludkRpZ2l0KCkge1xuICBpZih0aGlzLnQgPCAxKSByZXR1cm4gMDtcbiAgdmFyIHggPSB0aGlzWzBdO1xuICBpZigoeCYxKSA9PSAwKSByZXR1cm4gMDtcbiAgdmFyIHkgPSB4JjM7XHRcdC8vIHkgPT0gMS94IG1vZCAyXjJcbiAgeSA9ICh5KigyLSh4JjB4ZikqeSkpJjB4ZjtcdC8vIHkgPT0gMS94IG1vZCAyXjRcbiAgeSA9ICh5KigyLSh4JjB4ZmYpKnkpKSYweGZmO1x0Ly8geSA9PSAxL3ggbW9kIDJeOFxuICB5ID0gKHkqKDItKCgoeCYweGZmZmYpKnkpJjB4ZmZmZikpKSYweGZmZmY7XHQvLyB5ID09IDEveCBtb2QgMl4xNlxuICAvLyBsYXN0IHN0ZXAgLSBjYWxjdWxhdGUgaW52ZXJzZSBtb2QgRFYgZGlyZWN0bHk7XG4gIC8vIGFzc3VtZXMgMTYgPCBEQiA8PSAzMiBhbmQgYXNzdW1lcyBhYmlsaXR5IHRvIGhhbmRsZSA0OC1iaXQgaW50c1xuICB5ID0gKHkqKDIteCp5JXRoaXMuRFYpKSV0aGlzLkRWO1x0XHQvLyB5ID09IDEveCBtb2QgMl5kYml0c1xuICAvLyB3ZSByZWFsbHkgd2FudCB0aGUgbmVnYXRpdmUgaW52ZXJzZSwgYW5kIC1EViA8IHkgPCBEVlxuICByZXR1cm4gKHk+MCk/dGhpcy5EVi15Oi15O1xufVxuXG4vLyBNb250Z29tZXJ5IHJlZHVjdGlvblxuZnVuY3Rpb24gTW9udGdvbWVyeShtKSB7XG4gIHRoaXMubSA9IG07XG4gIHRoaXMubXAgPSBtLmludkRpZ2l0KCk7XG4gIHRoaXMubXBsID0gdGhpcy5tcCYweDdmZmY7XG4gIHRoaXMubXBoID0gdGhpcy5tcD4+MTU7XG4gIHRoaXMudW0gPSAoMTw8KG0uREItMTUpKS0xO1xuICB0aGlzLm10MiA9IDIqbS50O1xufVxuXG4vLyB4UiBtb2QgbVxuZnVuY3Rpb24gbW9udENvbnZlcnQoeCkge1xuICB2YXIgciA9IG5iaSgpO1xuICB4LmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCxyKTtcbiAgci5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxyKTtcbiAgaWYoeC5zIDwgMCAmJiByLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pID4gMCkgdGhpcy5tLnN1YlRvKHIscik7XG4gIHJldHVybiByO1xufVxuXG4vLyB4L1IgbW9kIG1cbmZ1bmN0aW9uIG1vbnRSZXZlcnQoeCkge1xuICB2YXIgciA9IG5iaSgpO1xuICB4LmNvcHlUbyhyKTtcbiAgdGhpcy5yZWR1Y2Uocik7XG4gIHJldHVybiByO1xufVxuXG4vLyB4ID0geC9SIG1vZCBtIChIQUMgMTQuMzIpXG5mdW5jdGlvbiBtb250UmVkdWNlKHgpIHtcbiAgd2hpbGUoeC50IDw9IHRoaXMubXQyKVx0Ly8gcGFkIHggc28gYW0gaGFzIGVub3VnaCByb29tIGxhdGVyXG4gICAgeFt4LnQrK10gPSAwO1xuICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5tLnQ7ICsraSkge1xuICAgIC8vIGZhc3RlciB3YXkgb2YgY2FsY3VsYXRpbmcgdTAgPSB4W2ldKm1wIG1vZCBEVlxuICAgIHZhciBqID0geFtpXSYweDdmZmY7XG4gICAgdmFyIHUwID0gKGoqdGhpcy5tcGwrKCgoaip0aGlzLm1waCsoeFtpXT4+MTUpKnRoaXMubXBsKSZ0aGlzLnVtKTw8MTUpKSZ4LkRNO1xuICAgIC8vIHVzZSBhbSB0byBjb21iaW5lIHRoZSBtdWx0aXBseS1zaGlmdC1hZGQgaW50byBvbmUgY2FsbFxuICAgIGogPSBpK3RoaXMubS50O1xuICAgIHhbal0gKz0gdGhpcy5tLmFtKDAsdTAseCxpLDAsdGhpcy5tLnQpO1xuICAgIC8vIHByb3BhZ2F0ZSBjYXJyeVxuICAgIHdoaWxlKHhbal0gPj0geC5EVikgeyB4W2pdIC09IHguRFY7IHhbKytqXSsrOyB9XG4gIH1cbiAgeC5jbGFtcCgpO1xuICB4LmRyU2hpZnRUbyh0aGlzLm0udCx4KTtcbiAgaWYoeC5jb21wYXJlVG8odGhpcy5tKSA+PSAwKSB4LnN1YlRvKHRoaXMubSx4KTtcbn1cblxuLy8gciA9IFwieF4yL1IgbW9kIG1cIjsgeCAhPSByXG5mdW5jdGlvbiBtb250U3FyVG8oeCxyKSB7IHguc3F1YXJlVG8ocik7IHRoaXMucmVkdWNlKHIpOyB9XG5cbi8vIHIgPSBcInh5L1IgbW9kIG1cIjsgeCx5ICE9IHJcbmZ1bmN0aW9uIG1vbnRNdWxUbyh4LHkscikgeyB4Lm11bHRpcGx5VG8oeSxyKTsgdGhpcy5yZWR1Y2Uocik7IH1cblxuTW9udGdvbWVyeS5wcm90b3R5cGUuY29udmVydCA9IG1vbnRDb252ZXJ0O1xuTW9udGdvbWVyeS5wcm90b3R5cGUucmV2ZXJ0ID0gbW9udFJldmVydDtcbk1vbnRnb21lcnkucHJvdG90eXBlLnJlZHVjZSA9IG1vbnRSZWR1Y2U7XG5Nb250Z29tZXJ5LnByb3RvdHlwZS5tdWxUbyA9IG1vbnRNdWxUbztcbk1vbnRnb21lcnkucHJvdG90eXBlLnNxclRvID0gbW9udFNxclRvO1xuXG4vLyAocHJvdGVjdGVkKSB0cnVlIGlmZiB0aGlzIGlzIGV2ZW5cbmZ1bmN0aW9uIGJucElzRXZlbigpIHsgcmV0dXJuICgodGhpcy50PjApPyh0aGlzWzBdJjEpOnRoaXMucykgPT0gMDsgfVxuXG4vLyAocHJvdGVjdGVkKSB0aGlzXmUsIGUgPCAyXjMyLCBkb2luZyBzcXIgYW5kIG11bCB3aXRoIFwiclwiIChIQUMgMTQuNzkpXG5mdW5jdGlvbiBibnBFeHAoZSx6KSB7XG4gIGlmKGUgPiAweGZmZmZmZmZmIHx8IGUgPCAxKSByZXR1cm4gQmlnSW50ZWdlci5PTkU7XG4gIHZhciByID0gbmJpKCksIHIyID0gbmJpKCksIGcgPSB6LmNvbnZlcnQodGhpcyksIGkgPSBuYml0cyhlKS0xO1xuICBnLmNvcHlUbyhyKTtcbiAgd2hpbGUoLS1pID49IDApIHtcbiAgICB6LnNxclRvKHIscjIpO1xuICAgIGlmKChlJigxPDxpKSkgPiAwKSB6Lm11bFRvKHIyLGcscik7XG4gICAgZWxzZSB7IHZhciB0ID0gcjsgciA9IHIyOyByMiA9IHQ7IH1cbiAgfVxuICByZXR1cm4gei5yZXZlcnQocik7XG59XG5cbi8vIChwdWJsaWMpIHRoaXNeZSAlIG0sIDAgPD0gZSA8IDJeMzJcbmZ1bmN0aW9uIGJuTW9kUG93SW50KGUsbSkge1xuICB2YXIgejtcbiAgaWYoZSA8IDI1NiB8fCBtLmlzRXZlbigpKSB6ID0gbmV3IENsYXNzaWMobSk7IGVsc2UgeiA9IG5ldyBNb250Z29tZXJ5KG0pO1xuICByZXR1cm4gdGhpcy5leHAoZSx6KTtcbn1cblxuLy8gcHJvdGVjdGVkXG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5jb3B5VG8gPSBibnBDb3B5VG87XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tSW50ID0gYm5wRnJvbUludDtcbkJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21TdHJpbmcgPSBibnBGcm9tU3RyaW5nO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuY2xhbXAgPSBibnBDbGFtcDtcbkJpZ0ludGVnZXIucHJvdG90eXBlLmRsU2hpZnRUbyA9IGJucERMU2hpZnRUbztcbkJpZ0ludGVnZXIucHJvdG90eXBlLmRyU2hpZnRUbyA9IGJucERSU2hpZnRUbztcbkJpZ0ludGVnZXIucHJvdG90eXBlLmxTaGlmdFRvID0gYm5wTFNoaWZ0VG87XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5yU2hpZnRUbyA9IGJucFJTaGlmdFRvO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuc3ViVG8gPSBibnBTdWJUbztcbkJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5VG8gPSBibnBNdWx0aXBseVRvO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuc3F1YXJlVG8gPSBibnBTcXVhcmVUbztcbkJpZ0ludGVnZXIucHJvdG90eXBlLmRpdlJlbVRvID0gYm5wRGl2UmVtVG87XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5pbnZEaWdpdCA9IGJucEludkRpZ2l0O1xuQmlnSW50ZWdlci5wcm90b3R5cGUuaXNFdmVuID0gYm5wSXNFdmVuO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuZXhwID0gYm5wRXhwO1xuXG4vLyBwdWJsaWNcbkJpZ0ludGVnZXIucHJvdG90eXBlLnRvU3RyaW5nID0gYm5Ub1N0cmluZztcbkJpZ0ludGVnZXIucHJvdG90eXBlLm5lZ2F0ZSA9IGJuTmVnYXRlO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuYWJzID0gYm5BYnM7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5jb21wYXJlVG8gPSBibkNvbXBhcmVUbztcbkJpZ0ludGVnZXIucHJvdG90eXBlLmJpdExlbmd0aCA9IGJuQml0TGVuZ3RoO1xuQmlnSW50ZWdlci5wcm90b3R5cGUubW9kID0gYm5Nb2Q7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3dJbnQgPSBibk1vZFBvd0ludDtcblxuLy8gXCJjb25zdGFudHNcIlxuQmlnSW50ZWdlci5aRVJPID0gbmJ2KDApO1xuQmlnSW50ZWdlci5PTkUgPSBuYnYoMSk7XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgQWRibG9jayBQbHVzIDxodHRwczovL2FkYmxvY2twbHVzLm9yZy8+LFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEFkYmxvY2sgUGx1cy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4vKiogQG1vZHVsZSAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZmlsZSBNYXRjaGVyIGNsYXNzIGltcGxlbWVudGluZyBtYXRjaGluZyBhZGRyZXNzZXMgYWdhaW5zdFxuICogICAgICAgICAgICAgICBhIGxpc3Qgb2YgZmlsdGVycy5cbiAqL1xuXG5jb25zdCB7UkVTT1VSQ0VfVFlQRVMsIFNQRUNJQUxfVFlQRVMsIEFMTE9XSU5HX1RZUEVTLCBjb250ZW50VHlwZXMsXG4gICAgICAgZW51bWVyYXRlVHlwZXN9ID0gcmVxdWlyZShcIi4vY29udGVudFR5cGVzXCIpO1xuY29uc3Qge2NvbXBpbGVQYXR0ZXJuc30gPSByZXF1aXJlKFwiLi9wYXR0ZXJuc1wiKTtcbmNvbnN0IHtkb21haW5TdWZmaXhlcywgVVJMUmVxdWVzdH0gPSByZXF1aXJlKFwiLi91cmxcIik7XG5jb25zdCB7RmlsdGVyfSA9IHJlcXVpcmUoXCIuL2ZpbHRlckNsYXNzZXNcIik7XG5jb25zdCB7RmlsdGVyc0J5RG9tYWluLCBGaWx0ZXJNYXB9ID0gcmVxdWlyZShcIi4vZmlsdGVyc0J5RG9tYWluXCIpO1xuY29uc3Qge0NhY2hlfSA9IHJlcXVpcmUoXCIuL2NhY2hpbmdcIik7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYW1vdW50IG9mIGZpbHRlcnMgcGVyIG1hcC5cbiAqIEBwYXJhbSB7TWFwfSBtYXBcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXl3b3JkXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5sZXQgY291bnRGaWx0ZXJzID0gKG1hcCwga2V5d29yZCkgPT4ge1xuICBsZXQgbGlzdCA9IG1hcC5nZXQoa2V5d29yZCk7XG4gIGlmICghbGlzdCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmIChsaXN0IGluc3RhbmNlb2YgRmlsdGVyKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgcmV0dXJuIGxpc3QubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiBmaWx0ZXJzLCBpZiBhbnksIG9yIGFuIGVtcHR5IGxpc3QuXG4gKiBAcGFyYW0ge01hcH0gbWFwXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5d29yZFxuICogQHJldHVybnMge0FycmF5Ljxtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXI+fVxuICovXG5sZXQgZ2V0RmlsdGVycyA9IChtYXAsIGtleXdvcmQpID0+IHtcbiAgbGV0IGxpc3QgPSBtYXAuZ2V0KGtleXdvcmQpO1xuICBpZiAoIWxpc3QpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlO1xuICB9XG4gIGlmIChsaXN0IGluc3RhbmNlb2YgRmlsdGVyKSB7XG4gICAgcmV0dXJuIFtsaXN0XTtcbiAgfVxuICByZXR1cm4gbGlzdDtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBrZXl3b3JkIGlzIGJhZCBmb3IgdXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGtleXdvcmRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0JhZEtleXdvcmQoa2V5d29yZCkge1xuICByZXR1cm4ga2V5d29yZCA9PSBcImh0dHBzXCIgfHwga2V5d29yZCA9PSBcImh0dHBcIiB8fCBrZXl3b3JkID09IFwiY29tXCIgfHxcbiAgICAgICAgIGtleXdvcmQgPT0gXCJqc1wiO1xufVxuXG4vKipcbiAqIEFkZHMgYSBmaWx0ZXIgYnkgYSBnaXZlbiBrZXl3b3JkIHRvIGEgbWFwLlxuICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXJ9IGZpbHRlclxuICogQHBhcmFtIHtzdHJpbmd9IGtleXdvcmRcbiAqIEBwYXJhbSB7TWFwLjxzdHJpbmcsKG1vZHVsZTpmaWx0ZXJDbGFzc2VzLlVSTEZpbHRlcnxcbiAqICAgICAgICAgICAgICAgICAgICAgIEFycmF5Ljxtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXI+KT59IG1hcFxuICovXG5mdW5jdGlvbiBhZGRGaWx0ZXJCeUtleXdvcmQoZmlsdGVyLCBrZXl3b3JkLCBtYXApIHtcbiAgLy8gdGhpcyBkYW5jZSBpcyB0byBhdm9pZCBzdG9yaW5nIGFycmF5cyBmb3Igc2luZ2xlIGZpbHRlcnNcbiAgbGV0IGxpc3QgPSBtYXAuZ2V0KGtleXdvcmQpO1xuICAvLyB3aGVuIHRoZSBrZXl3b3JkIGlzIGtub3duLCBwcm9tb3RlIGFzIGFycmF5IGlmIG5lZWRlZFxuICBpZiAobGlzdCkge1xuICAgIGlmIChsaXN0IGluc3RhbmNlb2YgRmlsdGVyKSB7XG4gICAgICBtYXAuc2V0KGtleXdvcmQsIFtsaXN0LCBmaWx0ZXJdKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBsaXN0LnB1c2goZmlsdGVyKTtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gc3RvcmUganVzdCB0aGUgZmlsdGVyIHdpdGhvdXQgdGhlIEFycmF5XG4gICAgbWFwLnNldChrZXl3b3JkLCBmaWx0ZXIpO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhIGZpbHRlciBieSBhIGdpdmVuIGtleXdvcmQgZnJvbSBhIG1hcC5cbiAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuVVJMRmlsdGVyfSBmaWx0ZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXl3b3JkXG4gKiBAcGFyYW0ge01hcC48c3RyaW5nLChtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXJ8XG4gKiAgICAgICAgICAgICAgICAgICAgICBBcnJheS48bW9kdWxlOmZpbHRlckNsYXNzZXMuVVJMRmlsdGVyPik+fSBtYXBcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRmlsdGVyQnlLZXl3b3JkKGZpbHRlciwga2V5d29yZCwgbWFwKSB7XG4gIC8vIHRoaXMgZGFuY2UgaXMgdG8gbm9ybWFsaXplIGJhY2sgdGhlIGtleXdvcmQgZW50cnksIGlmIGFueVxuICBsZXQgbGlzdCA9IG1hcC5nZXQoa2V5d29yZCk7XG4gIGlmIChsaXN0KSB7XG4gICAgLy8gd2hlbiB0aGUgdmFsdWUgaXMgYSBmaWx0ZXIsIHJlbW92ZSB0aGUga2V5d29yZCBpZiBmaWx0ZXIgbWF0Y2hlc1xuICAgIGlmIChsaXN0IGluc3RhbmNlb2YgRmlsdGVyKSB7XG4gICAgICBpZiAobGlzdCA9PSBmaWx0ZXIpIHtcbiAgICAgICAgbWFwLmRlbGV0ZShrZXl3b3JkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gb3RoZXJ3aXNlIGZpbmQgdGhlIGluZGV4IGFuZCBkcm9wIHRoZSBhcnJheSBpZiB0aGUgbGlzdCBoYXMgMSBpdGVtXG4gICAgZWxzZSB7XG4gICAgICBsZXQgaSA9IGxpc3QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbSA9PT0gZmlsdGVyKTtcbiAgICAgIGlmIChpID49IDApIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIG1hcC5zZXQoa2V5d29yZCwgbGlzdFswXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIGZpbHRlciBtYXRjaGVzIGEgZ2l2ZW4gVVJMIHJlcXVlc3QuXG4gKlxuICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXJ9IGZpbHRlciBUaGUgZmlsdGVyLlxuICogQHBhcmFtIHttb2R1bGU6dXJsLlVSTFJlcXVlc3R9IHJlcXVlc3QgVGhlIFVSTCByZXF1ZXN0LlxuICogQHBhcmFtIHtudW1iZXJ9IHR5cGVNYXNrIEEgbWFzayBzcGVjaWZ5aW5nIHRoZSBjb250ZW50IHR5cGUgb2YgdGhlIFVSTFxuICogICByZXF1ZXN0LlxuICogQHBhcmFtIHs/c3RyaW5nfSBbc2l0ZWtleV0gQW4gb3B0aW9uYWwgcHVibGljIGtleSBhc3NvY2lhdGVkIHdpdGggdGhlXG4gKiAgIFVSTCByZXF1ZXN0LlxuICogQHBhcmFtIHs/QXJyYXl9IFtjb2xsZWN0aW9uXSBBbiBvcHRpb25hbCBsaXN0IHRvIHdoaWNoIHRvIGFwcGVuZCB0aGUgZmlsdGVyXG4gKiAgIGlmIGl0IG1hdGNoZXMuIElmIG9taXR0ZWQsIHRoZSBmdW5jdGlvbiBkaXJlY3RseSByZXR1cm5zIHRoZSBmaWx0ZXIgaWYgaXRcbiAqICAgbWF0Y2hlcy5cbiAqXG4gKiBAcmV0dXJucyB7P21vZHVsZTpmaWx0ZXJDbGFzc2VzLlVSTEZpbHRlcn0gVGhlIGZpbHRlciBpZiBpdCBtYXRjaGVzIGFuZFxuICogICBgY29sbGVjdGlvbmAgaXMgb21pdHRlZDsgb3RoZXJ3aXNlIGBudWxsYC5cbiAqL1xuZnVuY3Rpb24gbWF0Y2hGaWx0ZXIoZmlsdGVyLCByZXF1ZXN0LCB0eXBlTWFzaywgc2l0ZWtleSwgY29sbGVjdGlvbikge1xuICBpZiAoZmlsdGVyLm1hdGNoZXMocmVxdWVzdCwgdHlwZU1hc2ssIHNpdGVrZXkpKSB7XG4gICAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gZmlsdGVyO1xuICAgIH1cblxuICAgIGNvbGxlY3Rpb24ucHVzaChmaWx0ZXIpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBwYXJ0aWN1bGFyIGZpbHRlciBpcyBzbG93LlxuICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXJ9IGZpbHRlclxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuaXNTbG93RmlsdGVyID0gZnVuY3Rpb24gaXNTbG93RmlsdGVyKGZpbHRlcikge1xuICByZXR1cm4gIWZpbHRlci51cmxQYXR0ZXJuLmhhc0tleXdvcmRzKCk7XG59O1xuXG5sZXQgTWF0Y2hlciA9XG4vKipcbiAqIEJsb2NraW5nL2FsbG93aW5nIGZpbHRlciBtYXRjaGluZ1xuICovXG5leHBvcnRzLk1hdGNoZXIgPSBjbGFzcyBNYXRjaGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogTG9va3VwIHRhYmxlIGZvciBrZXl3b3JkcyBieSB0aGVpciBhc3NvY2lhdGVkIGZpbHRlclxuICAgICAqIEB0eXBlIHtNYXAuPG1vZHVsZTpmaWx0ZXJDbGFzc2VzLlVSTEZpbHRlcixzdHJpbmc+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fa2V5d29yZEJ5RmlsdGVyID0gbmV3IE1hcCgpO1xuXG4gICAgLyoqXG4gICAgICogTG9va3VwIHRhYmxlIGZvciBzaW1wbGUgZmlsdGVycyBieSB0aGVpciBhc3NvY2lhdGVkIGtleXdvcmRcbiAgICAgKiBAdHlwZSB7TWFwLjxzdHJpbmcsKG1vZHVsZTpmaWx0ZXJDbGFzc2VzLlVSTEZpbHRlcnxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIEFycmF5Ljxtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXI+KT59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9zaW1wbGVGaWx0ZXJzQnlLZXl3b3JkID0gbmV3IE1hcCgpO1xuXG4gICAgLyoqXG4gICAgICogTG9va3VwIHRhYmxlIGZvciBjb21wbGV4IGZpbHRlcnMgYnkgdGhlaXIgYXNzb2NpYXRlZCBrZXl3b3JkXG4gICAgICogQHR5cGUge01hcC48c3RyaW5nLChtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXJ8XG4gICAgICogICAgICAgICAgICAgICAgICAgICBBcnJheS48bW9kdWxlOmZpbHRlckNsYXNzZXMuVVJMRmlsdGVyPik+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fY29tcGxleEZpbHRlcnNCeUtleXdvcmQgPSBuZXcgTWFwKCk7XG5cbiAgICAvKipcbiAgICAgKiBMb29rdXAgdGFibGUgb2YgY29tcGlsZWQgcGF0dGVybnMgZm9yIHNpbXBsZSBmaWx0ZXJzIGJ5IHRoZWlyIGFzc29jaWF0ZWRcbiAgICAgKiBrZXl3b3JkXG4gICAgICogQHR5cGUge01hcC48c3RyaW5nLD9tb2R1bGU6cGF0dGVybnN+Q29tcGlsZWRQYXR0ZXJucz59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9jb21waWxlZFBhdHRlcm5zQnlLZXl3b3JkID0gbmV3IE1hcCgpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZWQgcGF0dGVybnMgZm9yIGdlbmVyaWMgY29tcGxleCBmaWx0ZXJzIHdpdGggbm8gYXNzb2NpYXRlZFxuICAgICAqIGtleXdvcmQuXG4gICAgICogQHR5cGUgez9tb2R1bGU6cGF0dGVybnN+Q29tcGlsZWRQYXR0ZXJuc3xib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fa2V5d29yZGxlc3NDb21waWxlZFBhdHRlcm5zID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBMb29rdXAgdGFibGUgb2YgZG9tYWluIG1hcHMgZm9yIGNvbXBsZXggZmlsdGVycyBieSB0aGVpciBhc3NvY2lhdGVkXG4gICAgICoga2V5d29yZFxuICAgICAqIEB0eXBlIHtNYXAuPHN0cmluZyxcbiAgICAgKiAgICAgICAgICAgICBNYXAuPHN0cmluZyxcbiAgICAgKiAgICAgICAgICAgICAgICAgIChtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXJ8XG4gICAgICogICAgICAgICAgICAgICAgICAgTWFwLjxtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXIsYm9vbGVhbj4pPj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9maWx0ZXJEb21haW5NYXBzQnlLZXl3b3JkID0gbmV3IE1hcCgpO1xuXG4gICAgLyoqXG4gICAgICogTG9va3VwIHRhYmxlIG9mIHR5cGUtc3BlY2lmaWMgbG9va3VwIHRhYmxlcyBmb3IgY29tcGxleCBmaWx0ZXJzIGJ5IHRoZWlyXG4gICAgICogYXNzb2NpYXRlZCBrZXl3b3JkXG4gICAgICogQHR5cGUge01hcC48c3RyaW5nLFxuICAgICAqICAgICAgICAgICAgIE1hcC48c3RyaW5nLFxuICAgICAqICAgICAgICAgICAgICAgICAgKG1vZHVsZTpmaWx0ZXJDbGFzc2VzLlVSTEZpbHRlcnxcbiAgICAgKiAgICAgICAgICAgICAgICAgICBBcnJheS48bW9kdWxlOmZpbHRlckNsYXNzZXMuVVJMRmlsdGVyPik+Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZpbHRlck1hcHNCeVR5cGUgPSBuZXcgTWFwKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwga25vd24gZmlsdGVyc1xuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fa2V5d29yZEJ5RmlsdGVyLmNsZWFyKCk7XG4gICAgdGhpcy5fc2ltcGxlRmlsdGVyc0J5S2V5d29yZC5jbGVhcigpO1xuICAgIHRoaXMuX2NvbXBsZXhGaWx0ZXJzQnlLZXl3b3JkLmNsZWFyKCk7XG4gICAgdGhpcy5fY29tcGlsZWRQYXR0ZXJuc0J5S2V5d29yZC5jbGVhcigpO1xuICAgIHRoaXMuX2tleXdvcmRsZXNzQ29tcGlsZWRQYXR0ZXJucyA9IGZhbHNlO1xuICAgIHRoaXMuX2ZpbHRlckRvbWFpbk1hcHNCeUtleXdvcmQuY2xlYXIoKTtcbiAgICB0aGlzLl9maWx0ZXJNYXBzQnlUeXBlLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGZpbHRlciB0byB0aGUgbWF0Y2hlclxuICAgKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJDbGFzc2VzLlVSTEZpbHRlcn0gZmlsdGVyXG4gICAqL1xuICBhZGQoZmlsdGVyKSB7XG4gICAgaWYgKHRoaXMuX2tleXdvcmRCeUZpbHRlci5oYXMoZmlsdGVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIExvb2sgZm9yIGEgc3VpdGFibGUga2V5d29yZFxuICAgIGxldCBrZXl3b3JkID0gdGhpcy5maW5kS2V5d29yZChmaWx0ZXIpO1xuICAgIGxldCBzaW1wbGUgPSBmaWx0ZXIuY29udGVudFR5cGUgPT0gUkVTT1VSQ0VfVFlQRVMgJiYgZmlsdGVyLmlzR2VuZXJpYygpO1xuXG4gICAgYWRkRmlsdGVyQnlLZXl3b3JkKGZpbHRlciwga2V5d29yZCwgc2ltcGxlID8gdGhpcy5fc2ltcGxlRmlsdGVyc0J5S2V5d29yZCA6XG4gICAgICAgIHRoaXMuX2NvbXBsZXhGaWx0ZXJzQnlLZXl3b3JkKTtcblxuICAgIHRoaXMuX2tleXdvcmRCeUZpbHRlci5zZXQoZmlsdGVyLCBrZXl3b3JkKTtcblxuICAgIGlmIChzaW1wbGUpIHtcbiAgICAgIGlmICh0aGlzLl9jb21waWxlZFBhdHRlcm5zQnlLZXl3b3JkLnNpemUgPiAwKSB7XG4gICAgICAgIHRoaXMuX2NvbXBpbGVkUGF0dGVybnNCeUtleXdvcmQuZGVsZXRlKGtleXdvcmQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGtleXdvcmQgPT0gXCJcIikge1xuICAgICAgdGhpcy5fa2V5d29yZGxlc3NDb21waWxlZFBhdHRlcm5zID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgdHlwZSBvZiBlbnVtZXJhdGVUeXBlcyhmaWx0ZXIuY29udGVudFR5cGUsIFNQRUNJQUxfVFlQRVMpKSB7XG4gICAgICBsZXQgbWFwID0gdGhpcy5fZmlsdGVyTWFwc0J5VHlwZS5nZXQodHlwZSk7XG4gICAgICBpZiAoIW1hcCkge1xuICAgICAgICB0aGlzLl9maWx0ZXJNYXBzQnlUeXBlLnNldCh0eXBlLCBtYXAgPSBuZXcgTWFwKCkpO1xuICAgICAgfVxuXG4gICAgICBhZGRGaWx0ZXJCeUtleXdvcmQoZmlsdGVyLCBrZXl3b3JkLCBtYXApO1xuICAgIH1cblxuICAgIGxldCB7ZG9tYWluc30gPSBmaWx0ZXI7XG5cbiAgICBsZXQgZmlsdGVyc0J5RG9tYWluID0gdGhpcy5fZmlsdGVyRG9tYWluTWFwc0J5S2V5d29yZC5nZXQoa2V5d29yZCk7XG4gICAgaWYgKCFmaWx0ZXJzQnlEb21haW4pIHtcbiAgICAgIC8vIEluIG1vc3QgY2FzZXMsIHRoZXJlIGlzIG9ubHkgb25lIHB1cmUgZ2VuZXJpYyBmaWx0ZXIgdG8gYSBrZXl3b3JkLlxuICAgICAgLy8gSW5zdGVhZCBvZiBNYXAgeyBcImZvb1wiID0+IE1hcCB7IFwiXCIgPT4gTWFwIHsgZmlsdGVyID0+IHRydWUgfSB9IH0sIHdlXG4gICAgICAvLyBjYW4ganVzdCByZWR1Y2UgaXQgdG8gTWFwIHsgXCJmb29cIiA9PiBmaWx0ZXIgfSBhbmQgc2F2ZSBhIGxvdCBvZlxuICAgICAgLy8gbWVtb3J5LlxuICAgICAgaWYgKCFkb21haW5zKSB7XG4gICAgICAgIHRoaXMuX2ZpbHRlckRvbWFpbk1hcHNCeUtleXdvcmQuc2V0KGtleXdvcmQsIGZpbHRlcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZmlsdGVyc0J5RG9tYWluID0gbmV3IEZpbHRlcnNCeURvbWFpbigpO1xuICAgICAgdGhpcy5fZmlsdGVyRG9tYWluTWFwc0J5S2V5d29yZC5zZXQoa2V5d29yZCwgZmlsdGVyc0J5RG9tYWluKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIShmaWx0ZXJzQnlEb21haW4gaW5zdGFuY2VvZiBGaWx0ZXJzQnlEb21haW4pKSB7XG4gICAgICBmaWx0ZXJzQnlEb21haW4gPSBuZXcgRmlsdGVyc0J5RG9tYWluKFtbXCJcIiwgZmlsdGVyc0J5RG9tYWluXV0pO1xuICAgICAgdGhpcy5fZmlsdGVyRG9tYWluTWFwc0J5S2V5d29yZC5zZXQoa2V5d29yZCwgZmlsdGVyc0J5RG9tYWluKTtcbiAgICB9XG5cbiAgICBmaWx0ZXJzQnlEb21haW4uYWRkKGZpbHRlciwgZG9tYWlucyk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGZpbHRlciBmcm9tIHRoZSBtYXRjaGVyXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuVVJMRmlsdGVyfSBmaWx0ZXJcbiAgICovXG4gIHJlbW92ZShmaWx0ZXIpIHtcbiAgICBsZXQga2V5d29yZCA9IHRoaXMuX2tleXdvcmRCeUZpbHRlci5nZXQoZmlsdGVyKTtcbiAgICBpZiAodHlwZW9mIGtleXdvcmQgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBzaW1wbGUgPSBmaWx0ZXIuY29udGVudFR5cGUgPT0gUkVTT1VSQ0VfVFlQRVMgJiYgZmlsdGVyLmlzR2VuZXJpYygpO1xuXG4gICAgcmVtb3ZlRmlsdGVyQnlLZXl3b3JkKFxuICAgICAgZmlsdGVyLFxuICAgICAga2V5d29yZCxcbiAgICAgIHNpbXBsZSA/XG4gICAgICAgIHRoaXMuX3NpbXBsZUZpbHRlcnNCeUtleXdvcmQgOlxuICAgICAgICB0aGlzLl9jb21wbGV4RmlsdGVyc0J5S2V5d29yZFxuICAgICk7XG5cbiAgICB0aGlzLl9rZXl3b3JkQnlGaWx0ZXIuZGVsZXRlKGZpbHRlcik7XG5cbiAgICBpZiAoc2ltcGxlKSB7XG4gICAgICBpZiAodGhpcy5fY29tcGlsZWRQYXR0ZXJuc0J5S2V5d29yZC5zaXplID4gMCkge1xuICAgICAgICB0aGlzLl9jb21waWxlZFBhdHRlcm5zQnlLZXl3b3JkLmRlbGV0ZShrZXl3b3JkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXl3b3JkID09IFwiXCIpIHtcbiAgICAgIHRoaXMuX2tleXdvcmRsZXNzQ29tcGlsZWRQYXR0ZXJucyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IHR5cGUgb2YgZW51bWVyYXRlVHlwZXMoZmlsdGVyLmNvbnRlbnRUeXBlLCBTUEVDSUFMX1RZUEVTKSkge1xuICAgICAgbGV0IG1hcCA9IHRoaXMuX2ZpbHRlck1hcHNCeVR5cGUuZ2V0KHR5cGUpO1xuICAgICAgaWYgKG1hcCkge1xuICAgICAgICByZW1vdmVGaWx0ZXJCeUtleXdvcmQoZmlsdGVyLCBrZXl3b3JkLCBtYXApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBmaWx0ZXJzQnlEb21haW4gPSB0aGlzLl9maWx0ZXJEb21haW5NYXBzQnlLZXl3b3JkLmdldChrZXl3b3JkKTtcbiAgICBpZiAoZmlsdGVyc0J5RG9tYWluKSB7XG4gICAgICAvLyBCZWNhdXNlIG9mIHRoZSBtZW1vcnkgb3B0aW1pemF0aW9uIGluIHRoZSBhZGQgZnVuY3Rpb24sIG1vc3Qgb2YgdGhlXG4gICAgICAvLyB0aW1lIHRoaXMgd2lsbCBiZSBhIGZpbHRlciByYXRoZXIgdGhhbiBhIG1hcC5cbiAgICAgIGlmICghKGZpbHRlcnNCeURvbWFpbiBpbnN0YW5jZW9mIEZpbHRlcnNCeURvbWFpbikpIHtcbiAgICAgICAgdGhpcy5fZmlsdGVyRG9tYWluTWFwc0J5S2V5d29yZC5kZWxldGUoa2V5d29yZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZmlsdGVyc0J5RG9tYWluLnJlbW92ZShmaWx0ZXIpO1xuXG4gICAgICBpZiAoZmlsdGVyc0J5RG9tYWluLnNpemUgPT0gMCkge1xuICAgICAgICB0aGlzLl9maWx0ZXJEb21haW5NYXBzQnlLZXl3b3JkLmRlbGV0ZShrZXl3b3JkKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGZpbHRlcnNCeURvbWFpbi5zaXplID09IDEpIHtcbiAgICAgICAgZm9yIChsZXQgW2xhc3REb21haW4sIG1hcF0gb2YgZmlsdGVyc0J5RG9tYWluLmVudHJpZXMoKSkge1xuICAgICAgICAgIC8vIFJlZHVjZSBNYXAgeyBcImZvb1wiID0+IE1hcCB7IFwiXCIgPT4gZmlsdGVyIH0gfSB0b1xuICAgICAgICAgIC8vIE1hcCB7IFwiZm9vXCIgPT4gZmlsdGVyIH1cbiAgICAgICAgICBpZiAobGFzdERvbWFpbiA9PSBcIlwiICYmICEobWFwIGluc3RhbmNlb2YgRmlsdGVyTWFwKSkge1xuICAgICAgICAgICAgdGhpcy5fZmlsdGVyRG9tYWluTWFwc0J5S2V5d29yZC5zZXQoa2V5d29yZCwgbWFwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciBhIGZpbHRlciBleGlzdHMgaW4gdGhlIG1hdGNoZXJcbiAgICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXJ9IGZpbHRlclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGhhcyhmaWx0ZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fa2V5d29yZEJ5RmlsdGVyLmhhcyhmaWx0ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENob29zZXMgYSBrZXl3b3JkIHRvIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZmlsdGVyLlxuICAgKlxuICAgKiBCZWNhdXNlIGl0IHdpbGwgcGVyZm9ybSBzb21lIGludGVybmFsIG9wdGltaXphdGlvbnMsIHRoZXJlIGlzIG5vXG4gICAqIGd1YXJhbnRlZSB0aGF0IHRoaXMgZnVuY3Rpb24gd2lsbCBhbHdheXMgcmV0dXJuIHRoZSBzYW1lIHJlc3VsdCB3aGVuXG4gICAqIGNhbGxlZCB3aXRoIHRoZSBzYW1lIGZpbHRlci5cbiAgICpcbiAgICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXJ9IGZpbHRlclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBrZXl3b3JkIG9yIGFuIGVtcHR5IHN0cmluZyBpZiBubyBrZXl3b3JkIGNvdWxkIGJlIGZvdW5kXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGZpbmRLZXl3b3JkKGZpbHRlcikge1xuICAgIGxldCByZXN1bHQgPSBcIlwiO1xuXG4gICAgbGV0IGNhbmRpZGF0ZXMgPSBmaWx0ZXIudXJsUGF0dGVybi5rZXl3b3JkQ2FuZGlkYXRlcygpO1xuICAgIGlmICghY2FuZGlkYXRlcykge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0Q291bnQgPSAweEZGRkZGRjtcbiAgICBsZXQgcmVzdWx0TGVuZ3RoID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gY2FuZGlkYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGxldCBjYW5kaWRhdGUgPSBjYW5kaWRhdGVzW2ldLnN1YnN0cmluZygxKTtcblxuICAgICAgaWYgKGlzQmFkS2V5d29yZChjYW5kaWRhdGUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgc2ltcGxlQ291bnQgPSBjb3VudEZpbHRlcnModGhpcy5fc2ltcGxlRmlsdGVyc0J5S2V5d29yZCwgY2FuZGlkYXRlKTtcbiAgICAgIGxldCBjb21wbGV4Q291bnQgPSBjb3VudEZpbHRlcnModGhpcy5fY29tcGxleEZpbHRlcnNCeUtleXdvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZSk7XG5cbiAgICAgIGxldCBjb3VudCA9IHNpbXBsZUNvdW50ICsgY29tcGxleENvdW50O1xuXG4gICAgICBpZiAoY291bnQgPCByZXN1bHRDb3VudCB8fFxuICAgICAgICAgIChjb3VudCA9PSByZXN1bHRDb3VudCAmJiBjYW5kaWRhdGUubGVuZ3RoID4gcmVzdWx0TGVuZ3RoKSkge1xuICAgICAgICByZXN1bHQgPSBjYW5kaWRhdGU7XG4gICAgICAgIHJlc3VsdENvdW50ID0gY291bnQ7XG4gICAgICAgIHJlc3VsdExlbmd0aCA9IGNhbmRpZGF0ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIF9tYXRjaEZpbHRlcnNCeURvbWFpbihmaWx0ZXJzQnlEb21haW4sIHJlcXVlc3QsIHR5cGVNYXNrLCBzaXRla2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWNPbmx5LCBjb2xsZWN0aW9uKSB7XG4gICAgbGV0IGV4Y2x1ZGVkID0gbnVsbDtcblxuICAgIGxldCBkb21haW4gPSByZXF1ZXN0LmRvY3VtZW50SG9zdG5hbWUgfHwgXCJcIjtcbiAgICBmb3IgKGxldCBzdWZmaXggb2YgZG9tYWluU3VmZml4ZXMoZG9tYWluLCAhc3BlY2lmaWNPbmx5KSkge1xuICAgICAgbGV0IG1hcCA9IGZpbHRlcnNCeURvbWFpbi5nZXQoc3VmZml4KTtcbiAgICAgIGlmIChtYXApIHtcbiAgICAgICAgaWYgKG1hcCBpbnN0YW5jZW9mIEZpbHRlck1hcCkge1xuICAgICAgICAgIGZvciAobGV0IFtmaWx0ZXIsIGluY2x1ZGVdIG9mIG1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmICghaW5jbHVkZSkge1xuICAgICAgICAgICAgICBpZiAoZXhjbHVkZWQpIHtcbiAgICAgICAgICAgICAgICBleGNsdWRlZC5hZGQoZmlsdGVyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBleGNsdWRlZCA9IG5ldyBTZXQoW2ZpbHRlcl0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgKCFleGNsdWRlZCB8fCAhZXhjbHVkZWQuaGFzKGZpbHRlcikpICYmXG4gICAgICAgICAgICAgIG1hdGNoRmlsdGVyKGZpbHRlciwgcmVxdWVzdCwgdHlwZU1hc2ssIHNpdGVrZXksIGNvbGxlY3Rpb24pXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKCFleGNsdWRlZCB8fCAhZXhjbHVkZWQuaGFzKG1hcCkpICYmXG4gICAgICAgICAgICAgICAgIG1hdGNoRmlsdGVyKG1hcCwgcmVxdWVzdCwgdHlwZU1hc2ssIHNpdGVrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgX2NoZWNrRW50cnlNYXRjaFNpbXBsZVF1aWNrQ2hlY2soa2V5d29yZCwgcmVxdWVzdCwgZmlsdGVycykge1xuICAgIGxldCBjb21waWxlZCA9IHRoaXMuX2NvbXBpbGVkUGF0dGVybnNCeUtleXdvcmQuZ2V0KGtleXdvcmQpO1xuICAgIGlmICh0eXBlb2YgY29tcGlsZWQgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY29tcGlsZWQgPSBjb21waWxlUGF0dGVybnMoZmlsdGVycyk7XG4gICAgICB0aGlzLl9jb21waWxlZFBhdHRlcm5zQnlLZXl3b3JkLnNldChrZXl3b3JkLCBjb21waWxlZCk7XG4gICAgfVxuXG4gICAgLy8gSWYgY29tcGlsYXRpb24gZmFpbGVkIChlLmcuIHRvbyBtYW55IGZpbHRlcnMpLCByZXR1cm4gdHJ1ZSBiZWNhdXNlIHRoaXNcbiAgICAvLyBpcyBvbmx5IGEgcHJlLWNoZWNrLlxuICAgIHJldHVybiAhY29tcGlsZWQgfHwgY29tcGlsZWQudGVzdChyZXF1ZXN0KTtcbiAgfVxuXG4gIF9jaGVja0VudHJ5TWF0Y2hTaW1wbGUoa2V5d29yZCwgcmVxdWVzdCwgY29sbGVjdGlvbikge1xuICAgIGxldCBmaWx0ZXJzID0gZ2V0RmlsdGVycyh0aGlzLl9zaW1wbGVGaWx0ZXJzQnlLZXl3b3JkLCBrZXl3b3JkKTtcbiAgICBsZXQge2xlbmd0aH0gPSBmaWx0ZXJzO1xuICAgIGlmIChsZW5ndGgpIHtcbiAgICAgIC8vIEZvciBzaW1wbGUgZmlsdGVycyB3aGVyZSB0aGVyZSdzIG1vcmUgdGhhbiBvbmUgZmlsdGVyIHRvIHRoZSBrZXl3b3JkLFxuICAgICAgLy8gd2UgZG8gYSBxdWljayBjaGVjayB1c2luZyBhIHNpbmdsZSBjb21waWxlZCBwYXR0ZXJuIHRoYXQgY29tYmluZXMgYWxsXG4gICAgICAvLyB0aGUgcGF0dGVybnMuIFRoaXMgaXMgYSBsb3QgZmFzdGVyIGZvciByZXF1ZXN0cyB0aGF0IGFyZSBub3QgZ29pbmcgdG9cbiAgICAgIC8vIGJlIGJsb2NrZWQgKGkuZS4gbW9zdCByZXF1ZXN0cykuXG4gICAgICBpZiAobGVuZ3RoID09PSAxIHx8XG4gICAgICAgICAgdGhpcy5fY2hlY2tFbnRyeU1hdGNoU2ltcGxlUXVpY2tDaGVjayhrZXl3b3JkLCByZXF1ZXN0LCBmaWx0ZXJzKSkge1xuICAgICAgICBmb3IgKGxldCBmaWx0ZXIgb2YgZmlsdGVycykge1xuICAgICAgICAgIC8vIFNpbXBsZSBmaWx0ZXJzIG1hdGNoIGFueSByZXNvdXJjZSB0eXBlLlxuICAgICAgICAgIGlmIChtYXRjaEZpbHRlcihmaWx0ZXIsIHJlcXVlc3QsIFJFU09VUkNFX1RZUEVTLCBudWxsLCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIF9jaGVja0VudHJ5TWF0Y2hGb3JUeXBlKGtleXdvcmQsIHJlcXVlc3QsIHR5cGVNYXNrLCBzaXRla2V5LCBzcGVjaWZpY09ubHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24pIHtcbiAgICBsZXQgZmlsdGVyc0ZvclR5cGUgPSB0aGlzLl9maWx0ZXJNYXBzQnlUeXBlLmdldCh0eXBlTWFzayAmIFNQRUNJQUxfVFlQRVMpO1xuICAgIGlmIChmaWx0ZXJzRm9yVHlwZSkge1xuICAgICAgZm9yIChsZXQgZmlsdGVyIG9mIGdldEZpbHRlcnMoZmlsdGVyc0ZvclR5cGUsIGtleXdvcmQpKSB7XG4gICAgICAgIGlmIChzcGVjaWZpY09ubHkgJiYgZmlsdGVyLmlzR2VuZXJpYygpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0Y2hGaWx0ZXIoZmlsdGVyLCByZXF1ZXN0LCB0eXBlTWFzaywgc2l0ZWtleSwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gZmlsdGVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBfY2hlY2tFbnRyeU1hdGNoQnlEb21haW4oa2V5d29yZCwgcmVxdWVzdCwgdHlwZU1hc2ssIHNpdGVrZXksIHNwZWNpZmljT25seSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24pIHtcbiAgICBsZXQgZmlsdGVyc0J5RG9tYWluID0gdGhpcy5fZmlsdGVyRG9tYWluTWFwc0J5S2V5d29yZC5nZXQoa2V5d29yZCk7XG4gICAgaWYgKGZpbHRlcnNCeURvbWFpbikge1xuICAgICAgaWYgKGZpbHRlcnNCeURvbWFpbiBpbnN0YW5jZW9mIEZpbHRlcnNCeURvbWFpbikge1xuICAgICAgICBpZiAoa2V5d29yZCA9PSBcIlwiICYmICFzcGVjaWZpY09ubHkpIHtcbiAgICAgICAgICBsZXQgY29tcGlsZWQgPSB0aGlzLl9rZXl3b3JkbGVzc0NvbXBpbGVkUGF0dGVybnM7XG5cbiAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgZmFsc2UsIGl0IGluZGljYXRlcyB0aGF0IHdlIG5lZWQgdG8gaW5pdGlhbGl6ZSBpdFxuICAgICAgICAgIC8vIHRvIGVpdGhlciBhIENvbXBpbGVkUGF0dGVybnMgb2JqZWN0IG9yIG51bGwuXG4gICAgICAgICAgaWYgKGNvbXBpbGVkID09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBDb21waWxlIGFsbCB0aGUgcGF0dGVybnMgZnJvbSB0aGUgZ2VuZXJpYyBmaWx0ZXJzIGludG8gYSBzaW5nbGVcbiAgICAgICAgICAgIC8vIG9iamVjdC4gSXQgaXMgd29ydGggZG9pbmcgdGhpcyBmb3IgdGhlIGtleXdvcmRsZXNzIGdlbmVyaWNcbiAgICAgICAgICAgIC8vIGNvbXBsZXggZmlsdGVycyBiZWNhdXNlIHRoZXkgbXVzdCBiZSBjaGVja2VkIGFnYWluc3QgZXZlcnlcbiAgICAgICAgICAgIC8vIHNpbmdsZSBVUkwgcmVxdWVzdCB0aGF0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGJsb2NrZWQgYnkgb25lIG9mXG4gICAgICAgICAgICAvLyB0aGUgc2ltcGxlIGZpbHRlcnMgKGkuZS4gbW9zdCBVUkwgcmVxdWVzdHMpLlxuICAgICAgICAgICAgbGV0IG1hcCA9IGZpbHRlcnNCeURvbWFpbi5nZXQoXCJcIik7XG4gICAgICAgICAgICBpZiAobWFwIGluc3RhbmNlb2YgRmlsdGVyTWFwKSB7XG4gICAgICAgICAgICAgIGNvbXBpbGVkID0gY29tcGlsZVBhdHRlcm5zKFsuLi5tYXAua2V5cygpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2tleXdvcmRsZXNzQ29tcGlsZWRQYXR0ZXJucyA9IGNvbXBpbGVkIHx8IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gV2UgY2FuIHNraXAgdGhlIGdlbmVyaWMgZmlsdGVycyBpZiBub25lIG9mIHRoZW0gcGFzcyB0aGUgdGVzdC5cbiAgICAgICAgICBpZiAoY29tcGlsZWQgJiYgIWNvbXBpbGVkLnRlc3QocmVxdWVzdCkpIHtcbiAgICAgICAgICAgIHNwZWNpZmljT25seSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21hdGNoRmlsdGVyc0J5RG9tYWluKFxuICAgICAgICAgIGZpbHRlcnNCeURvbWFpbiwgcmVxdWVzdCwgdHlwZU1hc2ssIHNpdGVrZXksIHNwZWNpZmljT25seSwgY29sbGVjdGlvblxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBCZWNhdXNlIG9mIHRoZSBtZW1vcnkgb3B0aW1pemF0aW9uIGluIHRoZSBhZGQgZnVuY3Rpb24sIG1vc3Qgb2YgdGhlXG4gICAgICAvLyB0aW1lIHRoaXMgd2lsbCBiZSBhIGZpbHRlciByYXRoZXIgdGhhbiBhIG1hcC5cblxuICAgICAgLy8gQWxzbyBzZWUgIzczMTI6IElmIGl0J3MgYSBzaW5nbGUgZmlsdGVyLCBpdCdzIGFsd2F5cyB0aGUgZXF1aXZhbGVudCBvZlxuICAgICAgLy8gTWFwIHsgXCJcIiA9PiBNYXAgeyBmaWx0ZXIgPT4gdHJ1ZSB9IH0gKGkuZS4gYXBwbGllcyB0byBhbnkgZG9tYWluKS4gSWZcbiAgICAgIC8vIHRoZSBzcGVjaWZpYy1vbmx5IGZsYWcgaXMgc2V0LCB3ZSBza2lwIGl0LlxuICAgICAgaWYgKCFzcGVjaWZpY09ubHkpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoRmlsdGVyKFxuICAgICAgICAgIGZpbHRlcnNCeURvbWFpbiwgcmVxdWVzdCwgdHlwZU1hc2ssIHNpdGVrZXksIGNvbGxlY3Rpb25cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZW50cmllcyBmb3IgYSBwYXJ0aWN1bGFyIGtleXdvcmQgbWF0Y2ggYSBVUkxcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleXdvcmRcbiAgICogQHBhcmFtIHttb2R1bGU6dXJsLlVSTFJlcXVlc3R9IHJlcXVlc3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHR5cGVNYXNrXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gW3NpdGVrZXldXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NwZWNpZmljT25seV1cbiAgICogQHBhcmFtIHs/QXJyYXkuPG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkZpbHRlcj59IFtjb2xsZWN0aW9uXSBBbiBvcHRpb25hbFxuICAgKiAgIGxpc3Qgb2YgZmlsdGVycyB0byB3aGljaCB0byBhcHBlbmQgYW55IHJlc3VsdHMuIElmIHNwZWNpZmllZCwgdGhlXG4gICAqICAgZnVuY3Rpb24gYWRkcyAqYWxsKiBtYXRjaGluZyBmaWx0ZXJzIHRvIHRoZSBsaXN0OyBpZiBvbWl0dGVkLFxuICAgKiAgIHRoZSBmdW5jdGlvbiBkaXJlY3RseSByZXR1cm5zIHRoZSBmaXJzdCBtYXRjaGluZyBmaWx0ZXIuXG4gICAqIEByZXR1cm5zIHs/bW9kdWxlOmZpbHRlckNsYXNzZXMuRmlsdGVyfVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBjaGVja0VudHJ5TWF0Y2goa2V5d29yZCwgcmVxdWVzdCwgdHlwZU1hc2ssIHNpdGVrZXksIHNwZWNpZmljT25seSxcbiAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24pIHtcbiAgICAvLyBXZSBuZWVkIHRvIHNraXAgdGhlIHNpbXBsZSAobG9jYXRpb24tb25seSkgZmlsdGVycyBpZiB0aGUgdHlwZSBtYXNrIGRvZXNcbiAgICAvLyBub3QgY29udGFpbiBhbnkgcmVzb3VyY2UgdHlwZXMuXG4gICAgaWYgKCFzcGVjaWZpY09ubHkgJiYgKHR5cGVNYXNrICYgUkVTT1VSQ0VfVFlQRVMpICE9IDApIHtcbiAgICAgIGxldCBmaWx0ZXIgPSB0aGlzLl9jaGVja0VudHJ5TWF0Y2hTaW1wbGUoa2V5d29yZCwgcmVxdWVzdCwgY29sbGVjdGlvbik7XG4gICAgICBpZiAoZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHR5cGUgbWFzayBjb250YWlucyBhIHNwZWNpYWwgdHlwZSAoZmlyc3QgY29uZGl0aW9uKSBhbmQgaXQgaXNcbiAgICAvLyB0aGUgb25seSB0eXBlIGluIHRoZSBtYXNrIChzZWNvbmQgY29uZGl0aW9uIHdpdGggT1RIRVIgZXhjZXB0aW9uKSxcbiAgICAvLyB3ZSBjYW4gdXNlIHRoZSB0eXBlLXNwZWNpZmljIG1hcCwgd2hpY2ggdHlwaWNhbGx5IGNvbnRhaW5zIGEgbG90IGZld2VyXG4gICAgLy8gZmlsdGVycy4gVGhpcyBlbmFibGVzIGZhc3RlciBsb29rdXBzIGZvciBhbGxvd2luZyB0eXBlcyBsaWtlICRkb2N1bWVudCxcbiAgICAvLyAkZWxlbWhpZGUsIGFuZCBzbyBvbiwgYXMgd2VsbCBhcyBvdGhlciBzcGVjaWFsIHR5cGVzIGxpa2UgJGNzcC5cbiAgICBpZiAoKHR5cGVNYXNrICYgU1BFQ0lBTF9UWVBFUykgIT0gMCAmJiAoXG4gICAgICAodHlwZU1hc2sgJiB0eXBlTWFzayAtIDEpID09IDAgfHxcbiAgICAgICh0eXBlTWFzayAmIFJFU09VUkNFX1RZUEVTKSA9PSBjb250ZW50VHlwZXMuT1RIRVIpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tFbnRyeU1hdGNoRm9yVHlwZShcbiAgICAgICAga2V5d29yZCwgcmVxdWVzdCwgdHlwZU1hc2ssIHNpdGVrZXksIHNwZWNpZmljT25seSwgY29sbGVjdGlvblxuICAgICAgKTtcbiAgICB9XG5cblxuICAgIHJldHVybiB0aGlzLl9jaGVja0VudHJ5TWF0Y2hCeURvbWFpbihcbiAgICAgIGtleXdvcmQsIHJlcXVlc3QsIHR5cGVNYXNrLCBzaXRla2V5LCBzcGVjaWZpY09ubHksIGNvbGxlY3Rpb25cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgI21hdGNoXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBpbmhlcml0ZG9jXG4gICAqL1xuICBtYXRjaGVzQW55KHVybCwgdHlwZU1hc2ssIGRvY0RvbWFpbiwgc2l0ZWtleSwgc3BlY2lmaWNPbmx5KSB7XG4gICAgcmV0dXJuIHRoaXMubWF0Y2godXJsLCB0eXBlTWFzaywgZG9jRG9tYWluLCBzaXRla2V5LCBzcGVjaWZpY09ubHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3RzIHdoZXRoZXIgdGhlIFVSTCBtYXRjaGVzIGFueSBvZiB0aGUga25vd24gZmlsdGVyc1xuICAgKiBAcGFyYW0ge1VSTHxtb2R1bGU6dXJsflVSTEluZm98c3RyaW5nfSB1cmxcbiAgICogICBVUkwgdG8gYmUgdGVzdGVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlTWFza1xuICAgKiAgIGJpdG1hc2sgb2YgY29udGVudCAvIHJlcXVlc3QgdHlwZXMgdG8gbWF0Y2hcbiAgICogQHBhcmFtIHs/c3RyaW5nfSBbZG9jRG9tYWluXVxuICAgKiAgIGRvbWFpbiBuYW1lIG9mIHRoZSBkb2N1bWVudCB0aGF0IGxvYWRzIHRoZSBVUkxcbiAgICogQHBhcmFtIHs/c3RyaW5nfSBbc2l0ZWtleV1cbiAgICogICBwdWJsaWMga2V5IHByb3ZpZGVkIGJ5IHRoZSBkb2N1bWVudFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzcGVjaWZpY09ubHldXG4gICAqICAgc2hvdWxkIGJlIGB0cnVlYCBpZiBnZW5lcmljIG1hdGNoZXMgc2hvdWxkIGJlIGlnbm9yZWRcbiAgICogQHJldHVybnMgez9tb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXJ9XG4gICAqICAgbWF0Y2hpbmcgZmlsdGVyIG9yIGBudWxsYFxuICAgKi9cbiAgbWF0Y2godXJsLCB0eXBlTWFzaywgZG9jRG9tYWluLCBzaXRla2V5LCBzcGVjaWZpY09ubHkpIHtcbiAgICBsZXQgcmVxdWVzdCA9IFVSTFJlcXVlc3QuZnJvbSh1cmwsIGRvY0RvbWFpbik7XG4gICAgbGV0IGNhbmRpZGF0ZXMgPSByZXF1ZXN0Lmxvd2VyQ2FzZUhyZWYubWF0Y2goL1thLXowLTklXXsyLH18JC9nKTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gY2FuZGlkYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChpc0JhZEtleXdvcmQoY2FuZGlkYXRlc1tpXSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCByZXN1bHQgPSB0aGlzLmNoZWNrRW50cnlNYXRjaChcbiAgICAgICAgY2FuZGlkYXRlc1tpXSwgcmVxdWVzdCwgdHlwZU1hc2ssIHNpdGVrZXksIHNwZWNpZmljT25seVxuICAgICAgKTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuY2xhc3MgQ29tYmluZWRNYXRjaGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogTWF0Y2hlciBmb3IgYmxvY2tpbmcgcnVsZXMuXG4gICAgICogQHR5cGUge21vZHVsZTptYXRjaGVyLk1hdGNoZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9ibG9ja2luZyA9IG5ldyBNYXRjaGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBNYXRjaGVyIGZvciBleGNlcHRpb24gcnVsZXMuXG4gICAgICogQHR5cGUge21vZHVsZTptYXRjaGVyLk1hdGNoZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9hbGxvd2luZyA9IG5ldyBNYXRjaGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBMb29rdXAgdGFibGUgb2YgcHJldmlvdXMgbWF0Y2ggcmVzdWx0c1xuICAgICAqIEB0eXBlIHttb2R1bGU6Y2FjaGluZy5DYWNoZS48c3RyaW5nLCA/KG1vZHVsZTpmaWx0ZXJDbGFzc2VzLlVSTEZpbHRlcnxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRjaGVyU2VhcmNoUmVzdWx0cyk+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fcmVzdWx0Q2FjaGUgPSBuZXcgQ2FjaGUoMTAwMDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgbW9kdWxlOm1hdGNoZXIuTWF0Y2hlciNjbGVhclxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fYmxvY2tpbmcuY2xlYXIoKTtcbiAgICB0aGlzLl9hbGxvd2luZy5jbGVhcigpO1xuICAgIHRoaXMuX3Jlc3VsdENhY2hlLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBtb2R1bGU6bWF0Y2hlci5NYXRjaGVyI2FkZFxuICAgKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJDbGFzc2VzLkZpbHRlcn0gZmlsdGVyXG4gICAqL1xuICBhZGQoZmlsdGVyKSB7XG4gICAgaWYgKGZpbHRlci50eXBlID09IFwiYWxsb3dpbmdcIikge1xuICAgICAgdGhpcy5fYWxsb3dpbmcuYWRkKGZpbHRlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fYmxvY2tpbmcuYWRkKGZpbHRlcik7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVzdWx0Q2FjaGUuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIG1vZHVsZTptYXRjaGVyLk1hdGNoZXIjcmVtb3ZlXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuRmlsdGVyfSBmaWx0ZXJcbiAgICovXG4gIHJlbW92ZShmaWx0ZXIpIHtcbiAgICBpZiAoZmlsdGVyLnR5cGUgPT0gXCJhbGxvd2luZ1wiKSB7XG4gICAgICB0aGlzLl9hbGxvd2luZy5yZW1vdmUoZmlsdGVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9ibG9ja2luZy5yZW1vdmUoZmlsdGVyKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZXN1bHRDYWNoZS5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgbW9kdWxlOm1hdGNoZXIuTWF0Y2hlciNoYXNcbiAgICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXJ9IGZpbHRlclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGhhcyhmaWx0ZXIpIHtcbiAgICBpZiAoZmlsdGVyLnR5cGUgPT0gXCJhbGxvd2luZ1wiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWxsb3dpbmcuaGFzKGZpbHRlcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9ibG9ja2luZy5oYXMoZmlsdGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIG1vZHVsZTptYXRjaGVyLk1hdGNoZXIjZmluZEtleXdvcmRcbiAgICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXJ9IGZpbHRlclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBrZXl3b3JkXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGZpbmRLZXl3b3JkKGZpbHRlcikge1xuICAgIGlmIChmaWx0ZXIudHlwZSA9PSBcImFsbG93aW5nXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hbGxvd2luZy5maW5kS2V5d29yZChmaWx0ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYmxvY2tpbmcuZmluZEtleXdvcmQoZmlsdGVyKTtcbiAgfVxuXG4gIF9tYXRjaEludGVybmFsKHVybCwgdHlwZU1hc2ssIGRvY0RvbWFpbiwgc2l0ZWtleSwgc3BlY2lmaWNPbmx5LFxuICAgICAgICAgICAgICAgICBleGhhdXN0aXZlU2VhcmNoKSB7XG4gICAgbGV0IHJlcXVlc3QgPSBVUkxSZXF1ZXN0LmZyb20odXJsLCBkb2NEb21haW4pO1xuICAgIGxldCBjYW5kaWRhdGVzID0gcmVxdWVzdC5sb3dlckNhc2VIcmVmLm1hdGNoKC9bYS16MC05JV17Mix9fCQvZylcbiAgICAgICAgLmZpbHRlcihjYW5kaWRhdGUgPT4gIWlzQmFkS2V5d29yZChjYW5kaWRhdGUpKTtcbiAgICBsZXQgdHlwZUlzT25seUFsbG93aW5nID0gKHR5cGVNYXNrICYgfkFMTE9XSU5HX1RZUEVTKSA9PSAwO1xuXG4gICAgbGV0IGFsbG93aW5nSGl0ID0gbnVsbDtcbiAgICBsZXQgYmxvY2tpbmdIaXQgPSBudWxsO1xuXG4gICAgbGV0IGZpbmRBbGxvd2luZyA9ICgpID0+IHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gY2FuZGlkYXRlcy5sZW5ndGg7ICFhbGxvd2luZ0hpdCAmJiBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGFsbG93aW5nSGl0ID0gdGhpcy5fYWxsb3dpbmcuY2hlY2tFbnRyeU1hdGNoKFxuICAgICAgICAgIGNhbmRpZGF0ZXNbaV0sIHJlcXVlc3QsIHR5cGVNYXNrLCBzaXRla2V5XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxldCBmaW5kQmxvY2tpbmcgPSAoKSA9PiB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGNhbmRpZGF0ZXMubGVuZ3RoOyAhYmxvY2tpbmdIaXQgJiYgaSA8IGw7IGkrKykge1xuICAgICAgICBibG9ja2luZ0hpdCA9IHRoaXMuX2Jsb2NraW5nLmNoZWNrRW50cnlNYXRjaChcbiAgICAgICAgICBjYW5kaWRhdGVzW2ldLCByZXF1ZXN0LCB0eXBlTWFzaywgc2l0ZWtleSwgc3BlY2lmaWNPbmx5XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChleGhhdXN0aXZlU2VhcmNoKSB7XG4gICAgICBmaW5kQWxsb3dpbmcoKTtcbiAgICAgIGlmICghYWxsb3dpbmdIaXQgJiYgIXR5cGVJc09ubHlBbGxvd2luZykge1xuICAgICAgICBmaW5kQmxvY2tpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZUlzT25seUFsbG93aW5nKSB7XG4gICAgICBmaW5kQWxsb3dpbmcoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBmaW5kQmxvY2tpbmcoKTtcbiAgICAgIGlmIChibG9ja2luZ0hpdCkge1xuICAgICAgICBmaW5kQWxsb3dpbmcoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYWxsb3dpbmdIaXQgfHwgYmxvY2tpbmdIaXQ7XG4gIH1cblxuICBfc2VhcmNoSW50ZXJuYWwodXJsLCB0eXBlTWFzaywgZG9jRG9tYWluLCBzaXRla2V5LCBzcGVjaWZpY09ubHksIGZpbHRlclR5cGUpIHtcbiAgICBsZXQgaGl0cyA9IHt9O1xuXG4gICAgbGV0IHNlYXJjaEJsb2NraW5nID0gZmlsdGVyVHlwZSA9PSBcImJsb2NraW5nXCIgfHwgZmlsdGVyVHlwZSA9PSBcImFsbFwiO1xuICAgIGxldCBzZWFyY2hBbGxvd2luZyA9IGZpbHRlclR5cGUgPT0gXCJhbGxvd2luZ1wiIHx8IGZpbHRlclR5cGUgPT0gXCJhbGxcIjtcblxuICAgIGlmIChzZWFyY2hCbG9ja2luZykge1xuICAgICAgaGl0cy5ibG9ja2luZyA9IFtdO1xuICAgIH1cblxuICAgIGlmIChzZWFyY2hBbGxvd2luZykge1xuICAgICAgaGl0cy5hbGxvd2luZyA9IFtdO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSB0eXBlIG1hc2sgaW5jbHVkZXMgbm8gdHlwZXMgb3RoZXIgdGhhbiBhbGxvd2luZyB0eXBlcywgd2VcbiAgICAvLyBjYW4gc2tpcCB0aGUgYmxvY2tpbmcgZmlsdGVycy5cbiAgICBpZiAoKHR5cGVNYXNrICYgfkFMTE9XSU5HX1RZUEVTKSA9PSAwKSB7XG4gICAgICBzZWFyY2hCbG9ja2luZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGxldCByZXF1ZXN0ID0gVVJMUmVxdWVzdC5mcm9tKHVybCwgZG9jRG9tYWluKTtcbiAgICBsZXQgY2FuZGlkYXRlcyA9IHJlcXVlc3QubG93ZXJDYXNlSHJlZi5tYXRjaCgvW2EtejAtOSVdezIsfXwkL2cpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBjYW5kaWRhdGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGlzQmFkS2V5d29yZChjYW5kaWRhdGVzW2ldKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlYXJjaEJsb2NraW5nKSB7XG4gICAgICAgIHRoaXMuX2Jsb2NraW5nLmNoZWNrRW50cnlNYXRjaChcbiAgICAgICAgICBjYW5kaWRhdGVzW2ldLFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgdHlwZU1hc2ssXG4gICAgICAgICAgc2l0ZWtleSxcbiAgICAgICAgICBzcGVjaWZpY09ubHksXG4gICAgICAgICAgaGl0cy5ibG9ja2luZ1xuICAgICAgICApO1xuICAgICAgfVxuXG5cbiAgICAgIGlmIChzZWFyY2hBbGxvd2luZykge1xuICAgICAgICB0aGlzLl9hbGxvd2luZy5jaGVja0VudHJ5TWF0Y2goXG4gICAgICAgICAgY2FuZGlkYXRlc1tpXSwgcmVxdWVzdCwgdHlwZU1hc2ssIHNpdGVrZXksIGZhbHNlLCBoaXRzLmFsbG93aW5nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGhpdHM7XG4gIH1cblxuICAvKipcbiAgICogQHNlZSAjbWF0Y2hcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQGluaGVyaXRkb2NcbiAgICovXG4gIG1hdGNoZXNBbnkodXJsLCB0eXBlTWFzaywgZG9jRG9tYWluLCBzaXRla2V5LCBzcGVjaWZpY09ubHkpIHtcbiAgICByZXR1cm4gdGhpcy5tYXRjaCh1cmwsIHR5cGVNYXNrLCBkb2NEb21haW4sIHNpdGVrZXksIHNwZWNpZmljT25seSk7XG4gIH1cblxuICAvKipcbiAgICogVGVzdHMgd2hldGhlciB0aGUgVVJMIG1hdGNoZXMgYW55IG9mIHRoZSBrbm93biBmaWx0ZXJzXG4gICAqXG4gICAqIElmIGJvdGggYSBibG9ja2luZyBhbmQgYW4gYWxsb3dpbmcgZmlsdGVyIG1hdGNoZXMsIHRoZSBhbGxvd2luZyBmaWx0ZXIgaXNcbiAgICogcHJpb3JpdGl6ZWQuXG4gICAqXG4gICAqIElmIG9ubHkgYW4gYWxsb3dpbmcgZmlsdGVyIG1hdGNoZXMsIHRoZW4gdGhlIGFsbG93aW5nIGZpbHRlciB3aWxsIG5vdCBiZVxuICAgKiByZXR1cm5lZCB1bmxlc3MgaXQgaXMgb25lIG9mIHRoZSBge0BsaW5rIG1vZHVsZTpjb250ZW50VHlwZXMuQUxMT1dJTkdfVFlQRVNcbiAgICogQUxMT1dJTkdfVFlQRVN9YCB1c2VkIGZvciBleGNlcHRpb24gcnVsZXMgb25seSwgb3IgaWYgYGV4aGF1c3RpdmVTZWFyY2hgIGlzXG4gICAqIHRydWUuIEluIG90aGVyIHdvcmRzLCB0aGUgYWxsb3dpbmcgZmlsdGVyIGlzIG9ubHkgcmV0dXJuZWQgaWYgaXQgaXNcbiAgICogZXhwZWN0ZWQgdG8gY2hhbmdlIGJsb2NraW5nIGJlaGF2aW91ci5cbiAgICpcbiAgICogQHBhcmFtIHtVUkx8bW9kdWxlOnVybH5VUkxJbmZvfHN0cmluZ30gdXJsXG4gICAqICAgVVJMIHRvIGJlIHRlc3RlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gdHlwZU1hc2tcbiAgICogICBiaXRtYXNrIG9mIGNvbnRlbnQgLyByZXF1ZXN0IHR5cGVzIHRvIG1hdGNoXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gW2RvY0RvbWFpbl1cbiAgICogICBkb21haW4gbmFtZSBvZiB0aGUgZG9jdW1lbnQgdGhhdCBsb2FkcyB0aGUgVVJMXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gW3NpdGVrZXldXG4gICAqICAgcHVibGljIGtleSBwcm92aWRlZCBieSB0aGUgZG9jdW1lbnRcbiAgICogQHBhcmFtIHtib29sZWFufSBbc3BlY2lmaWNPbmx5XVxuICAgKiAgIHNob3VsZCBiZSBgdHJ1ZWAgaWYgZ2VuZXJpYyBtYXRjaGVzIHNob3VsZCBiZSBpZ25vcmVkXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2V4aGF1c3RpdmVTZWFyY2g9ZmFsc2VdXG4gICAqICAgc2hvdWxkIHJldHVybiBhIG1hdGNoZWQgYWxsb3dpbmcgZmlsdGVyLCBldmVuIGlmIHRoZSBmaWx0ZXIgd2lsbCBoYXZlIG5vXG4gICAqICAgZWZmZWN0IG9uIGJsb2NraW5nIGJlaGF2aW91clxuICAgKiBAcmV0dXJucyB7P21vZHVsZTpmaWx0ZXJDbGFzc2VzLlVSTEZpbHRlcn1cbiAgICogICBtYXRjaGluZyBmaWx0ZXIgb3IgYG51bGxgXG4gICAqL1xuICBtYXRjaCh1cmwsIHR5cGVNYXNrLCBkb2NEb21haW4sIHNpdGVrZXksIHNwZWNpZmljT25seSxcbiAgICAgICAgZXhoYXVzdGl2ZVNlYXJjaCA9IGZhbHNlKSB7XG4gICAgbGV0IGtleSA9IGAke3VybH0gJHt0eXBlTWFza30gJHtkb2NEb21haW59ICR7c2l0ZWtleX0gJHtzcGVjaWZpY09ubHl9ICR7ZXhoYXVzdGl2ZVNlYXJjaH1gO1xuICAgIGxldCByZXN1bHQgPSB0aGlzLl9yZXN1bHRDYWNoZS5nZXQoa2V5KTtcbiAgICBpZiAodHlwZW9mIHJlc3VsdCAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdCA9IHRoaXMuX21hdGNoSW50ZXJuYWwoXG4gICAgICB1cmwsIHR5cGVNYXNrLCBkb2NEb21haW4sIHNpdGVrZXksIHNwZWNpZmljT25seSwgZXhoYXVzdGl2ZVNlYXJjaFxuICAgICk7XG5cbiAgICB0aGlzLl9yZXN1bHRDYWNoZS5zZXQoa2V5LCByZXN1bHQpO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBNYXRjaGVyU2VhcmNoUmVzdWx0c1xuICAgKiBAcHJvcGVydHkge0FycmF5Ljxtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5CbG9ja2luZ0ZpbHRlcj59IFtibG9ja2luZ10gTGlzdCBvZlxuICAgKiAgIGJsb2NraW5nIGZpbHRlcnMgZm91bmQuXG4gICAqIEBwcm9wZXJ0eSB7QXJyYXkuPG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkFsbG93aW5nRmlsdGVyPn0gW2FsbG93aW5nXSBMaXN0XG4gICAqICAgb2YgYWxsb3dpbmcgZmlsdGVycyBmb3VuZC5cbiAgICovXG5cbiAgLyoqXG4gICAqIFNlYXJjaGVzIGFsbCBibG9ja2luZyBhbmQgYWxsb3dpbmcgZmlsdGVycyBhbmQgcmV0dXJucyByZXN1bHRzIG1hdGNoaW5nXG4gICAqIHRoZSBnaXZlbiBwYXJhbWV0ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge1VSTHxtb2R1bGU6dXJsflVSTEluZm98c3RyaW5nfSB1cmxcbiAgICogQHBhcmFtIHtudW1iZXJ9IHR5cGVNYXNrXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gW2RvY0RvbWFpbl1cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBbc2l0ZWtleV1cbiAgICogQHBhcmFtIHtib29sZWFufSBbc3BlY2lmaWNPbmx5XVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZpbHRlclR5cGVdIFRoZSB0eXBlcyBvZiBmaWx0ZXJzIHRvIGxvb2sgZm9yLiBUaGlzIGNhbiBiZVxuICAgKiAgIGBcImJsb2NraW5nXCJgLCBgXCJhbGxvd2luZ1wiYCwgb3IgYFwiYWxsXCJgIChkZWZhdWx0KS5cbiAgICpcbiAgICogQHJldHVybnMge01hdGNoZXJTZWFyY2hSZXN1bHRzfVxuICAgKi9cbiAgc2VhcmNoKHVybCwgdHlwZU1hc2ssIGRvY0RvbWFpbiwgc2l0ZWtleSwgc3BlY2lmaWNPbmx5LCBmaWx0ZXJUeXBlID0gXCJhbGxcIikge1xuICAgIGxldCBrZXkgPSBgKiAke3VybH0gJHt0eXBlTWFza30gJHtkb2NEb21haW59ICR7c2l0ZWtleX0gYCArXG4gICAgICAgICAgICAgIGAke3NwZWNpZmljT25seX0gJHtmaWx0ZXJUeXBlfWA7XG5cbiAgICBsZXQgcmVzdWx0ID0gdGhpcy5fcmVzdWx0Q2FjaGUuZ2V0KGtleSk7XG4gICAgaWYgKHR5cGVvZiByZXN1bHQgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQgPSB0aGlzLl9zZWFyY2hJbnRlcm5hbChcbiAgICAgIHVybCwgdHlwZU1hc2ssIGRvY0RvbWFpbiwgc2l0ZWtleSwgc3BlY2lmaWNPbmx5LCBmaWx0ZXJUeXBlXG4gICAgKTtcblxuICAgIHRoaXMuX3Jlc3VsdENhY2hlLnNldChrZXksIHJlc3VsdCk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3RzIHdoZXRoZXIgdGhlIFVSTCBpcyBhbGxvd2xpc3RlZFxuICAgKiBAc2VlIG1vZHVsZTptYXRjaGVyLk1hdGNoZXIjbWF0Y2hcbiAgICogQGluaGVyaXRkb2NcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0FsbG93bGlzdGVkKHVybCwgdHlwZU1hc2ssIGRvY0RvbWFpbiwgc2l0ZWtleSkge1xuICAgIHJldHVybiAhIXRoaXMuX2FsbG93aW5nLm1hdGNoKHVybCwgdHlwZU1hc2ssIGRvY0RvbWFpbiwgc2l0ZWtleSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDb21iaW5lcyBhIG1hdGNoZXIgZm9yIGJsb2NraW5nIGFuZCBleGNlcHRpb24gcnVsZXMsIGF1dG9tYXRpY2FsbHkgc29ydHNcbiAqIHJ1bGVzIGludG8gdHdvIGB7QGxpbmsgbW9kdWxlOm1hdGNoZXIuTWF0Y2hlciBNYXRjaGVyfWAgaW5zdGFuY2VzLlxuICovXG5leHBvcnRzLkNvbWJpbmVkTWF0Y2hlciA9IENvbWJpbmVkTWF0Y2hlcjtcblxuLyoqXG4gKiBDcmVhdGUgdGhlIGB7QGxpbmsgbW9kdWxlOm1hdGNoZXJ+Q29tYmluZWRNYXRjaGVyIENvbWJpbmVkTWF0Y2hlcn1gXG4gKiBpbnN0YW5jZSB0aGF0IHNob3VsZCB1c3VhbGx5IGJlIHVzZWQuXG4gKiBAcmV0dXJucyB7bW9kdWxlOm1hdGNoZXIuQ29tYmluZWRNYXRjaGVyfVxuICovXG5leHBvcnRzLm5ld0RlZmF1bHRNYXRjaGVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgQ29tYmluZWRNYXRjaGVyKCk7XG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLyoqIEBtb2R1bGUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGZpbGUgSGFuZGxlcyBub3RpZmljYXRpb25zLlxuICovXG5cbmNvbnN0IHtQcmVmc30gPSByZXF1aXJlKFwicHJlZnNcIik7XG5cbmNvbnN0IHtNSUxMSVNfSU5fTUlOVVRFLCBNSUxMSVNfSU5fSE9VUiwgTUlMTElTX0lOX0RBWX0gPSByZXF1aXJlKFwiLi90aW1lXCIpO1xuY29uc3Qge0Rvd25sb2FkZXIsIERvd25sb2FkYWJsZX0gPSByZXF1aXJlKFwiLi9kb3dubG9hZGVyXCIpO1xuY29uc3Qge2NvbXBhcmVWZXJzaW9uc30gPSByZXF1aXJlKFwiLi92ZXJzaW9uc1wiKTtcbmNvbnN0IHthbmFseXRpY3N9ID0gcmVxdWlyZShcIi4vYW5hbHl0aWNzXCIpO1xuY29uc3Qge0V2ZW50RW1pdHRlcn0gPSByZXF1aXJlKFwiLi9ldmVudHNcIik7XG5cbmNvbnN0IElOSVRJQUxfREVMQVkgPSAxICogTUlMTElTX0lOX01JTlVURTtcbmNvbnN0IENIRUNLX0lOVEVSVkFMID0gMSAqIE1JTExJU19JTl9IT1VSO1xuY29uc3QgRVhQSVJBVElPTl9JTlRFUlZBTCA9IDEgKiBNSUxMSVNfSU5fREFZO1xuXG5sZXQgZ2V0UHJlZmVycmVkTWlsbGlzID0gKGZpZWxkLCBmYWxsYmFjaykgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQgaW4gUHJlZnMgPyBQcmVmc1tmaWVsZF0gOiBmYWxsYmFjaztcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBsb2NhbGUgZm9yIHRoZSBsb2NhbGl6YXRpb24gb2Ygbm90aWZpY2F0aW9uIHRleHRzLlxuICogQHR5cGUge3N0cmluZ31cbiAqIEBkZWZhdWx0XG4gKi9cbmNvbnN0IERFRkFVTFRfTE9DQUxFID0gXCJlbi1VU1wiO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG51bWVyaWNhbCBzZXZlcml0eSBvZiBhIG5vdGlmaWNhdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBub3RpZmljYXRpb24gVGhlIG5vdGlmaWNhdGlvbi5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBudW1lcmljYWwgc2V2ZXJpdHkgb2YgdGhlIG5vdGlmaWNhdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0TnVtZXJpY2FsU2V2ZXJpdHkobm90aWZpY2F0aW9uKSB7XG4gIHN3aXRjaCAobm90aWZpY2F0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFwiaW5mb3JtYXRpb25cIjpcbiAgICAgIHJldHVybiAwO1xuICAgIGNhc2UgXCJuZXd0YWJcIjpcbiAgICBjYXNlIFwicmVsZW50bGVzc1wiOlxuICAgICAgcmV0dXJuIDE7XG4gICAgY2FzZSBcImNyaXRpY2FsXCI6XG4gICAgICByZXR1cm4gMjtcbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIFNhdmVzIG5vdGlmaWNhdGlvbiBkYXRhIHRvIHByZWZlcmVuY2VzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgdG8gc2F2ZS5cbiAqL1xuZnVuY3Rpb24gc2F2ZU5vdGlmaWNhdGlvbkRhdGEoa2V5ID0gXCJub3RpZmljYXRpb25kYXRhXCIpIHtcbiAgLy8gSlNPTiB2YWx1ZXMgYXJlbid0IHNhdmVkIHVubGVzcyB0aGV5IGFyZSBhc3NpZ25lZCBhIGRpZmZlcmVudCBvYmplY3QuXG4gIFByZWZzW2tleV0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFByZWZzW2tleV0pKTtcbn1cblxuLyoqXG4gKiBMb2NhbGl6ZXMgYSBub3RpZmljYXRpb24gdGV4dC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdHJhbnNsYXRpb25zIFRoZSBzZXQgb2YgdHJhbnNsYXRpb25zIGZyb20gd2hpY2ggdG8gc2VsZWN0XG4gKiAgIHRoZSBsb2NhbGl6YXRpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlIFRoZSBsb2NhbGUgc3RyaW5nIHRvIHVzZSBmb3IgdGhlIHNlbGVjdGlvbi4gSWYgbm9cbiAqICAgbG9jYWxpemVkIHZlcnNpb24gaXMgZm91bmQgaW4gdGhlIGB0cmFuc2xhdGlvbnNgIG9iamVjdCBmb3IgdGhlIGdpdmVuXG4gKiAgIGxvY2FsZSwgdGhlXG4gKiAgIHtAbGluayBtb2R1bGU6bm90aWZpY2F0aW9uc35ERUZBVUxUX0xPQ0FMRSBkZWZhdWx0IGxvY2FsZX0gaXMgdXNlZC5cbiAqXG4gKiBAcmV0dXJucyB7Kn0gVGhlIGxvY2FsaXplZCB0ZXh0OyBgdW5kZWZpbmVkYCBpZiBubyBsb2NhbGl6ZWQgdmVyc2lvbiBpc1xuICogICBmb3VuZCBpbiB0aGUgYHRyYW5zbGF0aW9uc2Agb2JqZWN0LlxuICovXG5mdW5jdGlvbiBsb2NhbGl6ZSh0cmFuc2xhdGlvbnMsIGxvY2FsZSkge1xuICBpZiAobG9jYWxlIGluIHRyYW5zbGF0aW9ucykge1xuICAgIHJldHVybiB0cmFuc2xhdGlvbnNbbG9jYWxlXTtcbiAgfVxuXG4gIGxldCBsYW5ndWFnZVBhcnQgPSBsb2NhbGUuc3Vic3RyaW5nKDAsIGxvY2FsZS5pbmRleE9mKFwiLVwiKSk7XG4gIGlmIChsYW5ndWFnZVBhcnQgJiYgbGFuZ3VhZ2VQYXJ0IGluIHRyYW5zbGF0aW9ucykge1xuICAgIHJldHVybiB0cmFuc2xhdGlvbnNbbGFuZ3VhZ2VQYXJ0XTtcbiAgfVxuXG4gIHJldHVybiB0cmFuc2xhdGlvbnNbREVGQVVMVF9MT0NBTEVdO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikge1xuICAvLyBPbmx5IG5vdGlmaWNhdGlvbnMgdGhhdCBhcmUgbWVhbnQgdG8gYmUgb3BlbmVkIGluIGEgbmV3IHRhYiBtdXN0XG4gIC8vIGNvbnRhaW4gYXQgbGVhc3Qgb25lIFVSTCB0byBvcGVuLlxuICBpZiAobm90aWZpY2F0aW9uLnR5cGUgPT0gXCJuZXd0YWJcIiAmJlxuICAgICAgIShub3RpZmljYXRpb24ubGlua3MgJiYgbm90aWZpY2F0aW9uLmxpbmtzLmxlbmd0aCA+IDApKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogYHtAbGluayBtb2R1bGU6bm90aWZpY2F0aW9ucy5ub3RpZmljYXRpb25zfWAgaW1wbGVtZW50YXRpb24uXG4gKlxuICogSXQgYWxzbyBlbWl0cyB0aGUgbmFtZWQgZXZlbnRzIGBkb3dubG9hZGVkYCwgYGlnbm9yZWQtY2F0ZWdvcnktYWRkZWRgIGFuZFxuICogYGlnbm9yZWQtY2F0ZWdvcnktcmVtb3ZlZGAgYnVpbHQgd2l0aCBge0BsaW5rIG1vZHVsZTpldmVudHMuRXZlbnRFbWl0dGVyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRFbWl0dGVyfWBcbiAqL1xuY2xhc3MgTm90aWZpY2F0aW9ucyBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIC8qKlxuICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgZmV0Y2hpbmcgb2Ygbm90aWZpY2F0aW9ucyBoYXMgYmVlbiBzdGFydGVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBhbGwgaWdub3JhYmxlIG5vdGlmaWNhdGlvbnMgc2hvdWxkIGJlIGlnbm9yZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pZ25vcmVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG9jYWxlIGZvciB0aGUgbG9jYWxpemF0aW9uIG9mIG5vdGlmaWNhdGlvbiB0ZXh0cy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IHtAbGluayBtb2R1bGU6bm90aWZpY2F0aW9uc35ERUZBVUxUX0xPQ0FMRX1cbiAgICAgKi9cbiAgICB0aGlzLmxvY2FsZSA9IERFRkFVTFRfTE9DQUxFO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciB0byBjb25zaWRlciB3aGVuIHBlcmZvcm1pbmcgdGhlIGJsb2NrZWRUb3RhbE1pbiBhbmRcbiAgICAgKiBibG9ja2VkVG90YWxNYXggdGFyZ2V0IGNoZWNrcy5cbiAgICAgKlxuICAgICAqIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gYmUgaW5pdGlhbGl6ZWQgYXQgc3RhcnR1cCBhbmQgdXBkYXRlZFxuICAgICAqIHdoZW5ldmVyIGEgYmxvY2tpbmcgZmlsdGVyIG1hdGNoZXMuIElmIHNldCB0byBudWxsIChkZWZhdWx0KSxcbiAgICAgKiBub3RpZmljYXRpb25zIHVzaW5nIHRoZXNlIHRhcmdldCBjaGVja3MgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgZGVwcmVjYXRlZCBwcmVmZXJlbmNlcyBQcmVmcy5zaG93X3N0YXRzaW5wb3B1cCBhbmRcbiAgICAgKiBQcmVmcy5ibG9ja2VkX3RvdGFsIGV4aXN0IHRoZXkgdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhpcyBwcm9wZXJ0eS5cbiAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm51bUJsb2NrZWQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogTGlzdGVuZXJzIGZvciBub3RpZmljYXRpb25zIHRvIGJlIHNob3duLlxuICAgICAqIEB0eXBlIHtTZXQuPGZ1bmN0aW9uPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3Nob3dMaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG5cbiAgICAvKipcbiAgICAgKiBMb2NhbCBub3RpZmljYXRpb25zIGFkZGVkIHZpYVxuICAgICAqIGB7QGxpbmsgbW9kdWxlOm5vdGlmaWNhdGlvbnN+Tm90aWZpY2F0aW9ucyNhZGROb3RpZmljYXRpb25cbiAgICAgKiAgICAgICAgIGFkZE5vdGlmaWNhdGlvbigpfWAuXG4gICAgICogQHR5cGUge1NldC48T2JqZWN0Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2xvY2FsTm90aWZpY2F0aW9ucyA9IG5ldyBTZXQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3QgcHJvdmlkaW5nIGFjdHVhbCBkb3dubG9hZGluZyBmdW5jdGlvbmFsaXR5LlxuICAgICAqIEB0eXBlIHttb2R1bGU6ZG93bmxvYWRlci5Eb3dubG9hZGVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fZG93bmxvYWRlciA9IG5ldyBEb3dubG9hZGVyKHRoaXMuX2dldERvd25sb2FkYWJsZXMuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLl9kb3dubG9hZGVyLm9uRXhwaXJhdGlvbkNoYW5nZSA9IHRoaXMuX29uRXhwaXJhdGlvbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Rvd25sb2FkZXIub25Eb3dubG9hZFN1Y2Nlc3MgPSB0aGlzLl9vbkRvd25sb2FkU3VjY2Vzcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Rvd25sb2FkZXIub25Eb3dubG9hZEVycm9yID0gdGhpcy5fb25Eb3dubG9hZEVycm9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25CbG9ja2VkVG90YWwgPSB0aGlzLl9vbkJsb2NrZWRUb3RhbC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBmZXRjaGluZyBub3RpZmljYXRpb25zLlxuICAgKlxuICAgKiBObyBub3RpZmljYXRpb25zIGFyZSBmZXRjaGVkIHVudGlsIHRoaXMgZnVuY3Rpb24gaGFzIGJlZW4gY2FsbGVkIGF0IGxlYXN0XG4gICAqIG9uY2UuXG4gICAqL1xuICBzdGFydCgpIHtcbiAgICBpZiAodGhpcy5fc3RhcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIFByZWZzLm9uKFwiYmxvY2tlZF90b3RhbFwiLCB0aGlzLl9vbkJsb2NrZWRUb3RhbCk7XG5cbiAgICB0aGlzLl9kb3dubG9hZGVyLnNjaGVkdWxlQ2hlY2tzKFxuICAgICAgZ2V0UHJlZmVycmVkTWlsbGlzKFwibm90aWZpY2F0aW9uc19jaGVja19pbnRlcnZhbFwiLCBDSEVDS19JTlRFUlZBTCksXG4gICAgICBnZXRQcmVmZXJyZWRNaWxsaXMoXCJub3RpZmljYXRpb25zX2luaXRpYWxfZGVsYXlcIiwgSU5JVElBTF9ERUxBWSlcbiAgICApO1xuICAgIHRoaXMuX3N0YXJ0ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIGZldGNoaW5nIG5vdGlmaWNhdGlvbnMuXG4gICAqL1xuICBzdG9wKCkge1xuICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9kb3dubG9hZGVyLnVuc2NoZWR1bGVDaGVja3MoKTtcblxuICAgIFByZWZzLm9mZihcImJsb2NrZWRfdG90YWxcIiwgdGhpcy5fb25CbG9ja2VkVG90YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYW4gYWx0ZXJuYXRpdmUgc3RvcmFnZSBiYWNrZW5kIGZvciBzdG9yaW5nIGxvY2FsXG4gICAqIG5vdGlmaWNhdGlvbnMuIEJ5IGRlZmF1bHQsIGxvY2FsIG5vdGlmaWNhdGlvbnMgYXJlIHN0b3JlZCBpblxuICAgKiBtZW1vcnkuXG4gICAqXG4gICAqIFRoZSBuZXcgc3RvcmFnZSBiYWNrZW5kIGlzIGV4cGVjdGVkIHRvIHByb3ZpZGUgc2ltaWxhclxuICAgKiBmdW5jdGlvbmFsaXR5IHRvIGEgU2V0LiBOb3RpZmljYXRpb25zIHdpbGwgYmUgYWRkZWQgdG8gaXQsXG4gICAqIGRlbGV0ZWQgZnJvbSBpdCwgYW5kIGl0ZXJhdGVkIG92ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBzdG9yYWdlQmFja2VuZFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdG9yYWdlQmFja2VuZC5hZGQgQWRkIGEgbmV3IG5vdGlmaWNhdGlvbi5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gc3RvcmFnZUJhY2tlbmQuZGVsZXRlIFJlbW92ZSBhIG5vdGlmaWNhdGlvbi5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gc3RvcmFnZUJhY2tlbmQuU3ltYm9sLml0ZXJhdG9yIFJldHVybnMgYW4gaXRlcmFibGUgb2YgYWxsXG4gICAqICAgbG9jYWwgbm90aWZpY2F0aW9ucy5cbiAgICovXG4gIHNldExvY2FsTm90aWZpY2F0aW9uU3RvcmFnZShzdG9yYWdlQmFja2VuZCkge1xuICAgIGlmICh0aGlzLl9sb2NhbE5vdGlmaWNhdGlvbnMgPT0gc3RvcmFnZUJhY2tlbmQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBub3RpZmljYXRpb24gb2YgdGhpcy5fbG9jYWxOb3RpZmljYXRpb25zKSB7XG4gICAgICBzdG9yYWdlQmFja2VuZC5hZGQobm90aWZpY2F0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLl9sb2NhbE5vdGlmaWNhdGlvbnMgPSBzdG9yYWdlQmFja2VuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBZaWVsZHMgYSBge0BsaW5rIG1vZHVsZTpkb3dubG9hZGVyLkRvd25sb2FkYWJsZSBEb3dubG9hZGFibGV9YCBpbnN0YW5jZVxuICAgKiBmb3IgdGhlIG5vdGlmaWNhdGlvbnMgZG93bmxvYWQuXG4gICAqIEB5aWVsZHMge21vZHVsZTpkb3dubG9hZGVyLkRvd25sb2FkYWJsZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gICpfZ2V0RG93bmxvYWRhYmxlcygpIHtcbiAgICBsZXQge25vdGlmaWNhdGlvbnVybDogdXJsLCBub3RpZmljYXRpb25kYXRhfSA9IFByZWZzO1xuXG4gICAgbGV0IGRvd25sb2FkYWJsZSA9IG5ldyBEb3dubG9hZGFibGUodXJsKTtcblxuICAgIGlmIChhbmFseXRpY3MuaXNUcnVzdGVkKHVybCkpIHtcbiAgICAgIGRvd25sb2FkYWJsZS5maXJzdFZlcnNpb24gPSBhbmFseXRpY3MuZ2V0Rmlyc3RWZXJzaW9uKCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBub3RpZmljYXRpb25kYXRhLmxhc3RFcnJvciA9PSBcIm51bWJlclwiKSB7XG4gICAgICBkb3dubG9hZGFibGUubGFzdEVycm9yID0gbm90aWZpY2F0aW9uZGF0YS5sYXN0RXJyb3I7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygbm90aWZpY2F0aW9uZGF0YS5sYXN0Q2hlY2sgPT0gXCJudW1iZXJcIikge1xuICAgICAgZG93bmxvYWRhYmxlLmxhc3RDaGVjayA9IG5vdGlmaWNhdGlvbmRhdGEubGFzdENoZWNrO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygbm90aWZpY2F0aW9uZGF0YS5kYXRhID09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgXCJ2ZXJzaW9uXCIgaW4gbm90aWZpY2F0aW9uZGF0YS5kYXRhKSB7XG4gICAgICBkb3dubG9hZGFibGUubGFzdFZlcnNpb24gPSBub3RpZmljYXRpb25kYXRhLmRhdGEudmVyc2lvbjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5vdGlmaWNhdGlvbmRhdGEuc29mdEV4cGlyYXRpb24gPT0gXCJudW1iZXJcIikge1xuICAgICAgZG93bmxvYWRhYmxlLnNvZnRFeHBpcmF0aW9uID0gbm90aWZpY2F0aW9uZGF0YS5zb2Z0RXhwaXJhdGlvbjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBub3RpZmljYXRpb25kYXRhLmhhcmRFeHBpcmF0aW9uID09IFwibnVtYmVyXCIpIHtcbiAgICAgIGRvd25sb2FkYWJsZS5oYXJkRXhwaXJhdGlvbiA9IG5vdGlmaWNhdGlvbmRhdGEuaGFyZEV4cGlyYXRpb247XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygbm90aWZpY2F0aW9uZGF0YS5kb3dubG9hZENvdW50ID09IFwibnVtYmVyXCIpIHtcbiAgICAgIGRvd25sb2FkYWJsZS5kb3dubG9hZENvdW50ID0gbm90aWZpY2F0aW9uZGF0YS5kb3dubG9hZENvdW50O1xuICAgIH1cblxuICAgIHlpZWxkIGRvd25sb2FkYWJsZTtcbiAgfVxuXG4gIF9vbkV4cGlyYXRpb25DaGFuZ2UoZG93bmxvYWRhYmxlKSB7XG4gICAgUHJlZnMubm90aWZpY2F0aW9uZGF0YS5sYXN0Q2hlY2sgPSBkb3dubG9hZGFibGUubGFzdENoZWNrO1xuICAgIFByZWZzLm5vdGlmaWNhdGlvbmRhdGEuc29mdEV4cGlyYXRpb24gPSBkb3dubG9hZGFibGUuc29mdEV4cGlyYXRpb247XG4gICAgUHJlZnMubm90aWZpY2F0aW9uZGF0YS5oYXJkRXhwaXJhdGlvbiA9IGRvd25sb2FkYWJsZS5oYXJkRXhwaXJhdGlvbjtcblxuICAgIHNhdmVOb3RpZmljYXRpb25EYXRhKCk7XG4gIH1cblxuICBfb25Eb3dubG9hZFN1Y2Nlc3MoZG93bmxvYWRhYmxlLCByZXNwb25zZVRleHQsIGVycm9yQ2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICByZWRpcmVjdENhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZVRleHQpO1xuXG4gICAgICBpZiAodHlwZW9mIGRhdGEudmVyc2lvbiA9PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgYW5hbHl0aWNzLmlzVHJ1c3RlZChkb3dubG9hZGFibGUucmVkaXJlY3RVUkwgfHwgZG93bmxvYWRhYmxlLnVybCkpIHtcbiAgICAgICAgYW5hbHl0aWNzLnJlY29yZFZlcnNpb24oZGF0YS52ZXJzaW9uKTtcbiAgICAgIH1cblxuICAgICAgbGV0IG5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICAgIGZvciAobGV0IG5vdGlmaWNhdGlvbiBvZiBkYXRhLm5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgaWYgKCFpc1ZhbGlkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYEludmFsaWQgbm90aWZpY2F0aW9uIHdpdGggSUQgXCIke25vdGlmaWNhdGlvbi5pZH1cImApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFwic2V2ZXJpdHlcIiBpbiBub3RpZmljYXRpb24pIHtcbiAgICAgICAgICBpZiAoIShcInR5cGVcIiBpbiBub3RpZmljYXRpb24pKSB7XG4gICAgICAgICAgICBub3RpZmljYXRpb24udHlwZSA9IG5vdGlmaWNhdGlvbi5zZXZlcml0eTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIG5vdGlmaWNhdGlvbi5zZXZlcml0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xuICAgICAgfVxuICAgICAgZGF0YS5ub3RpZmljYXRpb25zID0gbm90aWZpY2F0aW9ucztcblxuICAgICAgUHJlZnMubm90aWZpY2F0aW9uZGF0YS5kYXRhID0gZGF0YTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgZXJyb3JDYWxsYmFjayhcInN5bmNocm9uaXplX2ludmFsaWRfZGF0YVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZXhwaXJhdGlvbkludGVydmFsID0gZ2V0UHJlZmVycmVkTWlsbGlzKFxuICAgICAgXCJub3RpZmljYXRpb25zX2V4cGlyYXRpb25faW50ZXJ2YWxcIixcbiAgICAgIEVYUElSQVRJT05fSU5URVJWQUxcbiAgICApO1xuXG4gICAgUHJlZnMubm90aWZpY2F0aW9uZGF0YS5sYXN0RXJyb3IgPSAwO1xuICAgIFByZWZzLm5vdGlmaWNhdGlvbmRhdGEuZG93bmxvYWRTdGF0dXMgPSBcInN5bmNocm9uaXplX29rXCI7XG4gICAgW1xuICAgICAgUHJlZnMubm90aWZpY2F0aW9uZGF0YS5zb2Z0RXhwaXJhdGlvbixcbiAgICAgIFByZWZzLm5vdGlmaWNhdGlvbmRhdGEuaGFyZEV4cGlyYXRpb25cbiAgICBdID0gdGhpcy5fZG93bmxvYWRlci5wcm9jZXNzRXhwaXJhdGlvbkludGVydmFsKGV4cGlyYXRpb25JbnRlcnZhbCk7XG4gICAgUHJlZnMubm90aWZpY2F0aW9uZGF0YS5kb3dubG9hZENvdW50ID0gZG93bmxvYWRhYmxlLmRvd25sb2FkQ291bnQ7XG5cbiAgICBzYXZlTm90aWZpY2F0aW9uRGF0YSgpO1xuXG4gICAgdGhpcy5lbWl0KFwiZG93bmxvYWRlZFwiKTtcbiAgICB0aGlzLnNob3dOZXh0KCk7XG4gIH1cblxuICBfb25Eb3dubG9hZEVycm9yKGRvd25sb2FkYWJsZSwgZG93bmxvYWRVUkwsIGVycm9yLCByZXNwb25zZVN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICByZWRpcmVjdENhbGxiYWNrKSB7XG4gICAgUHJlZnMubm90aWZpY2F0aW9uZGF0YS5sYXN0RXJyb3IgPSBEYXRlLm5vdygpO1xuICAgIFByZWZzLm5vdGlmaWNhdGlvbmRhdGEuZG93bmxvYWRTdGF0dXMgPSBlcnJvcjtcblxuICAgIHNhdmVOb3RpZmljYXRpb25EYXRhKCk7XG4gIH1cblxuICBfb25CbG9ja2VkVG90YWwoKSB7XG4gICAgdGhpcy5zaG93TmV4dCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBsaXN0ZW5lciBmb3Igbm90aWZpY2F0aW9ucyB0byBiZSBzaG93bi5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIgdG8gYmUgaW52b2tlZCB3aGVuIGEgbm90aWZpY2F0aW9uIGlzXG4gICAqICAgdG8gYmUgc2hvd24uXG4gICAqL1xuICBhZGRTaG93TGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICB0aGlzLl9zaG93TGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgc3VwcGxpZWQgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyIExpc3RlbmVyIHRoYXQgd2FzIGFkZGVkIHZpYVxuICAgKiAgIGB7QGxpbmsgbW9kdWxlOm5vdGlmaWNhdGlvbnN+Tm90aWZpY2F0aW9ucyNhZGRTaG93TGlzdGVuZXJcbiAgICogICAgICAgICAgIGFkZFNob3dMaXN0ZW5lcigpfWAuXG4gICAqL1xuICByZW1vdmVTaG93TGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICB0aGlzLl9zaG93TGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHVzZXIgcHJlZmVyZW5jZXMgaW5kaWNhdGUgdGhhdCBub3RpZmljYXRpb25zXG4gICAqIHNob3VsZCBiZSBpZ25vcmVkLlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgc2hvdWxkSWdub3JlTm90aWZpY2F0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5pZ25vcmVkIHx8XG4gICAgICBQcmVmcy5ub3RpZmljYXRpb25zX2lnbm9yZWRjYXRlZ29yaWVzLmluY2x1ZGVzKFwiKlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCBsb2NhbCBhbmQgcmVtb3RlIG5vdGlmaWNhdGlvbnMuXG4gICAqIEByZXR1cm5zIHtBcnJheS48T2JqZWN0Pn0gQWxsIGxvY2FsIGFuZCByZW1vdGUgbm90aWZpY2F0aW9ucy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXROb3RpZmljYXRpb25zKCkge1xuICAgIGxldCByZW1vdGVOb3RpZmljYXRpb25zID0gW107XG4gICAgaWYgKHR5cGVvZiBQcmVmcy5ub3RpZmljYXRpb25kYXRhLmRhdGEgPT0gXCJvYmplY3RcIiAmJlxuICAgICAgICBQcmVmcy5ub3RpZmljYXRpb25kYXRhLmRhdGEubm90aWZpY2F0aW9ucyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICByZW1vdGVOb3RpZmljYXRpb25zID0gUHJlZnMubm90aWZpY2F0aW9uZGF0YS5kYXRhLm5vdGlmaWNhdGlvbnM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFsuLi50aGlzLl9sb2NhbE5vdGlmaWNhdGlvbnMsIC4uLnJlbW90ZU5vdGlmaWNhdGlvbnNdO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hpY2ggbm90aWZpY2F0aW9uIGlzIHRvIGJlIHNob3duIG5leHQuXG4gICAqIEByZXR1cm5zIHs/b2JqZWN0fSBUaGUgbm90aWZpY2F0aW9uIHRvIGJlIHNob3duLCBvciBgbnVsbGAgaWYgdGhlcmUgaXNcbiAgICogICBub25lLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldE5leHRUb1Nob3coKSB7XG4gICAgbGV0IG5vdGlmaWNhdGlvbnMgPSB0aGlzLl9nZXROb3RpZmljYXRpb25zKCk7XG4gICAgaWYgKG5vdGlmaWNhdGlvbnMubGVuZ3RoID09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHthZGRvbk5hbWUsIGFkZG9uVmVyc2lvbiwgYXBwbGljYXRpb24sIGFwcGxpY2F0aW9uVmVyc2lvbixcbiAgICAgICAgICAgcGxhdGZvcm0sIHBsYXRmb3JtVmVyc2lvbn0gPSByZXF1aXJlKFwiaW5mb1wiKTtcblxuICAgIGxldCB7bnVtQmxvY2tlZH0gPSB0aGlzO1xuICAgIC8vIENvbXBhdGliaWxpdHkgZm9yIGxlZ2FjeSBhZGJsb2NrcGx1c2Nocm9tZVxuICAgIGlmIChcImJsb2NrZWRfdG90YWxcIiBpbiBQcmVmcykge1xuICAgICAgbnVtQmxvY2tlZCA9IFByZWZzLmJsb2NrZWRfdG90YWw7XG4gICAgfVxuICAgIGlmIChQcmVmcy5zaG93X3N0YXRzaW5wb3B1cCA9PT0gZmFsc2UpIHtcbiAgICAgIG51bUJsb2NrZWQgPSBudWxsO1xuICAgIH1cblxuICAgIGxldCB0YXJnZXRDaGVja3MgPSB7XG4gICAgICBleHRlbnNpb246IHYgPT4gdiA9PSBhZGRvbk5hbWUsXG4gICAgICBleHRlbnNpb25NaW5WZXJzaW9uOlxuICAgICAgICB2ID0+IGNvbXBhcmVWZXJzaW9ucyhhZGRvblZlcnNpb24sIHYpID49IDAsXG4gICAgICBleHRlbnNpb25NYXhWZXJzaW9uOlxuICAgICAgICB2ID0+IGNvbXBhcmVWZXJzaW9ucyhhZGRvblZlcnNpb24sIHYpIDw9IDAsXG4gICAgICBhcHBsaWNhdGlvbjogdiA9PiB2ID09IGFwcGxpY2F0aW9uLFxuICAgICAgYXBwbGljYXRpb25NaW5WZXJzaW9uOlxuICAgICAgICB2ID0+IGNvbXBhcmVWZXJzaW9ucyhhcHBsaWNhdGlvblZlcnNpb24sIHYpID49IDAsXG4gICAgICBhcHBsaWNhdGlvbk1heFZlcnNpb246XG4gICAgICAgIHYgPT4gY29tcGFyZVZlcnNpb25zKGFwcGxpY2F0aW9uVmVyc2lvbiwgdikgPD0gMCxcbiAgICAgIHBsYXRmb3JtOiB2ID0+IHYgPT0gcGxhdGZvcm0sXG4gICAgICBwbGF0Zm9ybU1pblZlcnNpb246XG4gICAgICAgIHYgPT4gY29tcGFyZVZlcnNpb25zKHBsYXRmb3JtVmVyc2lvbiwgdikgPj0gMCxcbiAgICAgIHBsYXRmb3JtTWF4VmVyc2lvbjpcbiAgICAgICAgdiA9PiBjb21wYXJlVmVyc2lvbnMocGxhdGZvcm1WZXJzaW9uLCB2KSA8PSAwLFxuICAgICAgYmxvY2tlZFRvdGFsTWluOiB2ID0+IG51bUJsb2NrZWQgIT0gbnVsbCAmJiBudW1CbG9ja2VkID49IHYsXG4gICAgICBibG9ja2VkVG90YWxNYXg6IHYgPT4gbnVtQmxvY2tlZCAhPSBudWxsICYmIG51bUJsb2NrZWQgPD0gdixcbiAgICAgIGxvY2FsZXM6IHYgPT4gdi5pbmNsdWRlcyh0aGlzLmxvY2FsZSlcbiAgICB9O1xuXG4gICAgbGV0IG5vdGlmaWNhdGlvblRvU2hvdyA9IG51bGw7XG4gICAgZm9yIChsZXQgbm90aWZpY2F0aW9uIG9mIG5vdGlmaWNhdGlvbnMpIHtcbiAgICAgIGlmIChub3RpZmljYXRpb24udHlwZSAhPSBcImNyaXRpY2FsXCIpIHtcbiAgICAgICAgbGV0IHNob3duO1xuICAgICAgICBpZiAodHlwZW9mIFByZWZzLm5vdGlmaWNhdGlvbmRhdGEuc2hvd24gPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIHNob3duID0gUHJlZnMubm90aWZpY2F0aW9uZGF0YS5zaG93bltub3RpZmljYXRpb24uaWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzaG93biAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBub3RpZmljYXRpb24uaW50ZXJ2YWwgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgaWYgKHNob3duICsgbm90aWZpY2F0aW9uLmludGVydmFsID4gRGF0ZS5ub3coKSkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoc2hvd24pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub3RpZmljYXRpb24udHlwZSAhPSBcInJlbGVudGxlc3NcIiAmJlxuICAgICAgICAgICAgdGhpcy5zaG91bGRJZ25vcmVOb3RpZmljYXRpb25zKCkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobm90aWZpY2F0aW9uLnRhcmdldHMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBsZXQgbWF0Y2ggPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCB0YXJnZXQgb2Ygbm90aWZpY2F0aW9uLnRhcmdldHMpIHtcbiAgICAgICAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKHRhcmdldCk7XG4gICAgICAgICAgaWYgKGtleXMuZXZlcnkoXG4gICAgICAgICAgICBrZXkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldENoZWNrcywga2V5KSAmJlxuICAgICAgICAgICAgICAgICAgIHRhcmdldENoZWNrc1trZXldKHRhcmdldFtrZXldKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIG1hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIW5vdGlmaWNhdGlvblRvU2hvdyB8fCBnZXROdW1lcmljYWxTZXZlcml0eShub3RpZmljYXRpb24pID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldE51bWVyaWNhbFNldmVyaXR5KG5vdGlmaWNhdGlvblRvU2hvdykpIHtcbiAgICAgICAgbm90aWZpY2F0aW9uVG9TaG93ID0gbm90aWZpY2F0aW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub3RpZmljYXRpb25Ub1Nob3c7XG4gIH1cblxuICAvKipcbiAgICogU2hvd3MgYSBub3RpZmljYXRpb24gb25jZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG5vdGlmaWNhdGlvbiBUaGUgbm90aWZpY2F0aW9uIHRvIHNob3cuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pZ25vcmFibGU9ZmFsc2VdIElmIHRydWUsIHVzZXIgcHJlZmVyZW5jZSB3aWxsXG4gICAqICAgYmUgY29uc2lkZXJlZCB0byBkZXRlcm1pbmUgd2hldGhlciBub3RpZmljYXRpb24gc2hvdWxkIGJlIHNob3duLlxuICAgKi9cbiAgc2hvd05vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmIChvcHRpb25zLmlnbm9yYWJsZSAmJiB0aGlzLnNob3VsZElnbm9yZU5vdGlmaWNhdGlvbnMoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IHNob3dMaXN0ZW5lciBvZiB0aGlzLl9zaG93TGlzdGVuZXJzKSB7XG4gICAgICBzaG93TGlzdGVuZXIobm90aWZpY2F0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlcyB0aGUgbGlzdGVuZXJzIGFkZGVkIHZpYVxuICAgKiBge0BsaW5rIG1vZHVsZTpub3RpZmljYXRpb25zfk5vdGlmaWNhdGlvbnMjYWRkU2hvd0xpc3RlbmVyXG4gICAqICAgICAgICAgYWRkU2hvd0xpc3RlbmVyKCl9YCB3aXRoIHRoZSBuZXh0IG5vdGlmaWNhdGlvbiB0byBiZSBzaG93bi5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB3aGVuZXZlciBhIHBhZ2UgbG9hZHMuXG4gICAqL1xuICBzaG93TmV4dCgpIHtcbiAgICBsZXQgbm90aWZpY2F0aW9uID0gdGhpcy5fZ2V0TmV4dFRvU2hvdygpO1xuICAgIGlmIChub3RpZmljYXRpb24pIHtcbiAgICAgIGZvciAobGV0IHNob3dMaXN0ZW5lciBvZiB0aGlzLl9zaG93TGlzdGVuZXJzKSB7XG4gICAgICAgIHNob3dMaXN0ZW5lcihub3RpZmljYXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYXJrcyBhIG5vdGlmaWNhdGlvbiBhcyBzaG93bi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIGJlIG1hcmtlZCBhcyBzaG93bi5cbiAgICovXG4gIG1hcmtBc1Nob3duKGlkKSB7XG4gICAgbGV0IG5vdGlmaWNhdGlvbnMgPSB0aGlzLl9nZXROb3RpZmljYXRpb25zKCk7XG5cbiAgICAvLyBJZ25vcmUgaWYgdGhlcmUncyBubyBub3RpZmljYXRpb24gd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAgaWYgKCFub3RpZmljYXRpb25zLnNvbWUobm90aWZpY2F0aW9uID0+IG5vdGlmaWNhdGlvbi5pZCA9PSBpZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBsZXQgZGF0YSA9IFByZWZzLm5vdGlmaWNhdGlvbmRhdGE7XG5cbiAgICBpZiAoZGF0YS5zaG93biBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBsZXQgbmV3U2hvd24gPSB7fTtcbiAgICAgIGZvciAobGV0IG9sZElkIG9mIGRhdGEuc2hvd24pIHtcbiAgICAgICAgbmV3U2hvd25bb2xkSWRdID0gbm93O1xuICAgICAgfVxuICAgICAgZGF0YS5zaG93biA9IG5ld1Nob3duO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZGF0YS5zaG93biAhPSBcIm9iamVjdFwiKSB7XG4gICAgICBkYXRhLnNob3duID0ge307XG4gICAgfVxuXG4gICAgZGF0YS5zaG93bltpZF0gPSBub3c7XG5cbiAgICBzYXZlTm90aWZpY2F0aW9uRGF0YSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvY2FsaXplcyB0aGUgdGV4dHMgb2YgdGhlIGdpdmVuIG5vdGlmaWNhdGlvbiBiYXNlZCBvbiB0aGVcbiAgICoge0BsaW5rIG1vZHVsZTpub3RpZmljYXRpb25zfk5vdGlmaWNhdGlvbnMjbG9jYWxlIGxvY2FsZX0uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBub3RpZmljYXRpb24gVGhlIG5vdGlmaWNhdGlvbi5cbiAgICogQHJldHVybnMge09iamVjdH0gVGhlIGxvY2FsaXplZCB0ZXh0cy5cbiAgICovXG4gIGdldExvY2FsaXplZFRleHRzKG5vdGlmaWNhdGlvbikge1xuICAgIGxldCB0ZXh0S2V5cyA9IFtcInRpdGxlXCIsIFwibWVzc2FnZVwiXTtcbiAgICBsZXQgbG9jYWxpemVkVGV4dHMgPSB7fTtcblxuICAgIGZvciAobGV0IGtleSBvZiB0ZXh0S2V5cykge1xuICAgICAgaWYgKGtleSBpbiBub3RpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBub3RpZmljYXRpb25ba2V5XSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgbG9jYWxpemVkVGV4dHNba2V5XSA9IG5vdGlmaWNhdGlvbltrZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxvY2FsaXplZFRleHRzW2tleV0gPSBsb2NhbGl6ZShub3RpZmljYXRpb25ba2V5XSwgdGhpcy5sb2NhbGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvY2FsaXplZFRleHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBsb2NhbCBub3RpZmljYXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBub3RpZmljYXRpb24gVGhlIG5vdGlmaWNhdGlvbiB0byBhZGQuXG4gICAqL1xuICBhZGROb3RpZmljYXRpb24obm90aWZpY2F0aW9uKSB7XG4gICAgaWYgKCFpc1ZhbGlkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBub3RpZmljYXRpb24gd2l0aCBJRCBcIiR7bm90aWZpY2F0aW9uLmlkfVwiYCk7XG4gICAgfVxuXG4gICAgdGhpcy5fbG9jYWxOb3RpZmljYXRpb25zLmFkZChub3RpZmljYXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gZXhpc3RpbmcgbG9jYWwgbm90aWZpY2F0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbm90aWZpY2F0aW9uIFRoZSBub3RpZmljYXRpb24gdG8gcmVtb3ZlLlxuICAgKi9cbiAgcmVtb3ZlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikge1xuICAgIHRoaXMuX2xvY2FsTm90aWZpY2F0aW9ucy5kZWxldGUobm90aWZpY2F0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGVzIHdoZXRoZXIgbm90aWZpY2F0aW9ucyBvZiBhIHNwZWNpZmljIGNhdGVnb3J5IHNob3VsZCBiZSBpZ25vcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2F0ZWdvcnkgVGhlIG5vdGlmaWNhdGlvbiBjYXRlZ29yeSBpZGVudGlmaWVyLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVZhbHVlXSBXaGV0aGVyIHRvIGZvcmNlIHRoZSBzcGVjaWZpZWQgdmFsdWUuXG4gICAqL1xuICB0b2dnbGVJZ25vcmVDYXRlZ29yeShjYXRlZ29yeSwgZm9yY2VWYWx1ZSkge1xuICAgIGxldCBjYXRlZ29yaWVzID0gUHJlZnMubm90aWZpY2F0aW9uc19pZ25vcmVkY2F0ZWdvcmllcztcbiAgICBsZXQgaW5kZXggPSBjYXRlZ29yaWVzLmluZGV4T2YoY2F0ZWdvcnkpO1xuICAgIGlmIChpbmRleCA9PSAtMSAmJiBmb3JjZVZhbHVlICE9IGZhbHNlKSB7XG4gICAgICBjYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpO1xuICAgICAgUHJlZnMubm90aWZpY2F0aW9uc19pZ25vcmVkY2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7XG4gICAgICB0aGlzLmVtaXQoXCJpZ25vcmVkLWNhdGVnb3J5LWFkZGVkXCIsIGNhdGVnb3J5KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaW5kZXggIT0gLTEgJiYgZm9yY2VWYWx1ZSAhPSB0cnVlKSB7XG4gICAgICBjYXRlZ29yaWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBQcmVmcy5ub3RpZmljYXRpb25zX2lnbm9yZWRjYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcbiAgICAgIHRoaXMuZW1pdChcImlnbm9yZWQtY2F0ZWdvcnktcmVtb3ZlZFwiLCBjYXRlZ29yeSk7XG4gICAgfVxuXG4gICAgc2F2ZU5vdGlmaWNhdGlvbkRhdGEoXCJub3RpZmljYXRpb25zX2lnbm9yZWRjYXRlZ29yaWVzXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUgbm90aWZpY2F0aW9ucyBkYXRhIGhhdmUgYmVlbiBkb3dubG9hZGVkLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0RG93bmxvYWRDb3VudCgpIHtcbiAgICByZXR1cm4gUHJlZnMubm90aWZpY2F0aW9uZGF0YS5kb3dubG9hZENvdW50IHx8IDA7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBpZ25vcmVkIGNhdGVnb3JpZXMuXG4gICAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn1cbiAgICovXG4gIGdldElnbm9yZWRDYXRlZ29yaWVzKCkge1xuICAgIHJldHVybiBQcmVmcy5ub3RpZmljYXRpb25zX2lnbm9yZWRjYXRlZ29yaWVzO1xuICB9XG59XG5cbi8qKlxuICogUmVndWxhcmx5IGZldGNoZXMgbm90aWZpY2F0aW9ucyBhbmQgZGVjaWRlcyB3aGljaCBub3RpZmljYXRpb24gdG8gc2hvdy5cbiAqIEB0eXBlIHttb2R1bGU6bm90aWZpY2F0aW9uc35Ob3RpZmljYXRpb25zfVxuICovXG5leHBvcnRzLm5vdGlmaWNhdGlvbnMgPSBuZXcgTm90aWZpY2F0aW9ucygpO1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLyoqIEBtb2R1bGUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHBhdHRlcm5zIHRoYXRcbiAqIGB7QGxpbmsgbW9kdWxlOnBhdHRlcm5zLmNvbXBpbGVQYXR0ZXJucyBjb21waWxlUGF0dGVybnMoKX1gIHdpbGwgY29tcGlsZVxuICogaW50byByZWd1bGFyIGV4cHJlc3Npb25zLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuY29uc3QgQ09NUElMRV9QQVRURVJOU19NQVggPSAxMDA7XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gbWF0Y2ggdGhlIGBeYCBzdWZmaXggaW4gYW4gb3RoZXJ3aXNlIGxpdGVyYWxcbiAqIHBhdHRlcm4uXG4gKiBAdHlwZSB7UmVnRXhwfVxuICovXG5sZXQgc2VwYXJhdG9yUmVnRXhwID0gL1tcXHgwMC1cXHgyNFxceDI2LVxceDJDXFx4MkZcXHgzQS1cXHg0MFxceDVCLVxceDVFXFx4NjBcXHg3Qi1cXHg3Rl0vO1xuXG5sZXQgZmlsdGVyVG9SZWdFeHAgPVxuLyoqXG4gKiBDb252ZXJ0cyBmaWx0ZXIgdGV4dCBpbnRvIHJlZ3VsYXIgZXhwcmVzc2lvbiBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IGFzIGluIEZpbHRlcigpXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHJlZ3VsYXIgZXhwcmVzc2lvbiByZXByZXNlbnRhdGlvbiBvZiBmaWx0ZXIgdGV4dFxuICogQHBhY2thZ2VcbiAqL1xuZXhwb3J0cy5maWx0ZXJUb1JlZ0V4cCA9IGZ1bmN0aW9uIGZpbHRlclRvUmVnRXhwKHRleHQpIHtcbiAgLy8gcmVtb3ZlIG11bHRpcGxlIHdpbGRjYXJkc1xuICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXCorL2csIFwiKlwiKTtcblxuICAvLyByZW1vdmUgbGVhZGluZyB3aWxkY2FyZFxuICBpZiAodGV4dFswXSA9PSBcIipcIikge1xuICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygxKTtcbiAgfVxuXG4gIC8vIHJlbW92ZSB0cmFpbGluZyB3aWxkY2FyZFxuICBpZiAodGV4dFt0ZXh0Lmxlbmd0aCAtIDFdID09IFwiKlwiKSB7XG4gICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIHRleHQubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gdGV4dFxuICAgIC8vIHJlbW92ZSBhbmNob3JzIGZvbGxvd2luZyBzZXBhcmF0b3IgcGxhY2Vob2xkZXJcbiAgICAucmVwbGFjZSgvXFxeXFx8JC8sIFwiXlwiKVxuICAgIC8vIGVzY2FwZSBzcGVjaWFsIHN5bWJvbHNcbiAgICAucmVwbGFjZSgvXFxXL2csIFwiXFxcXCQmXCIpXG4gICAgLy8gcmVwbGFjZSB3aWxkY2FyZHMgYnkgLipcbiAgICAucmVwbGFjZSgvXFxcXFxcKi9nLCBcIi4qXCIpXG4gICAgLy8gcHJvY2VzcyBzZXBhcmF0b3IgcGxhY2Vob2xkZXJzIChhbGwgQU5TSSBjaGFyYWN0ZXJzIGJ1dCBhbHBoYW51bWVyaWNcbiAgICAvLyBjaGFyYWN0ZXJzIGFuZCBfJS4tKVxuICAgIC5yZXBsYWNlKC9cXFxcXFxeL2csIGAoPzoke3NlcGFyYXRvclJlZ0V4cC5zb3VyY2V9fCQpYClcbiAgICAvLyBwcm9jZXNzIGV4dGVuZGVkIGFuY2hvciBhdCBleHByZXNzaW9uIHN0YXJ0XG4gICAgLnJlcGxhY2UoL15cXFxcXFx8XFxcXFxcfC8sIFwiXltcXFxcd1xcXFwtXSs6XFxcXC8rKD86W15cXFxcL10rXFxcXC4pP1wiKVxuICAgIC8vIHByb2Nlc3MgYW5jaG9yIGF0IGV4cHJlc3Npb24gc3RhcnRcbiAgICAucmVwbGFjZSgvXlxcXFxcXHwvLCBcIl5cIilcbiAgICAvLyBwcm9jZXNzIGFuY2hvciBhdCBleHByZXNzaW9uIGVuZFxuICAgIC5yZXBsYWNlKC9cXFxcXFx8JC8sIFwiJFwiKTtcbn07XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gbWF0Y2ggdGhlIGB8fGAgcHJlZml4IGluIGFuIG90aGVyd2lzZSBsaXRlcmFsXG4gKiBwYXR0ZXJuLlxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xubGV0IGV4dGVuZGVkQW5jaG9yUmVnRXhwID0gbmV3IFJlZ0V4cChmaWx0ZXJUb1JlZ0V4cChcInx8XCIpICsgXCIkXCIpO1xuXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgbWF0Y2hpbmcgYSBrZXl3b3JkIGluIGEgZmlsdGVyLlxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xubGV0IGtleXdvcmRSZWdFeHAgPSAvW15hLXowLTklKl1bYS16MC05JV17Mix9KD89W15hLXowLTklKl0pLztcblxuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gZm9yIG1hdGNoaW5nIGFsbCBrZXl3b3JkcyBpbiBhIGZpbHRlci5cbiAqIEB0eXBlIHtSZWdFeHB9XG4gKi9cbmxldCBhbGxLZXl3b3Jkc1JlZ0V4cCA9IG5ldyBSZWdFeHAoa2V5d29yZFJlZ0V4cCwgXCJnXCIpO1xuXG4vKipcbiAqIEEgYENvbXBpbGVkUGF0dGVybnNgIG9iamVjdCByZXByZXNlbnRzIHRoZSBjb21waWxlZCB2ZXJzaW9uIG9mIG11bHRpcGxlIFVSTFxuICogcmVxdWVzdCBwYXR0ZXJucy4gSXQgaXMgcmV0dXJuZWQgYnlcbiAqIGB7QGxpbmsgbW9kdWxlOnBhdHRlcm5zLmNvbXBpbGVQYXR0ZXJucyBjb21waWxlUGF0dGVybnMoKX1gLlxuICovXG5jbGFzcyBDb21waWxlZFBhdHRlcm5zIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIGdpdmVuIHJlZ3VsYXIgZXhwcmVzc2lvbnMgZm9yIGNhc2Utc2Vuc2l0aXZlXG4gICAqIGFuZCBjYXNlLWluc2Vuc2l0aXZlIG1hdGNoaW5nIHJlc3BlY3RpdmVseS5cbiAgICogQHBhcmFtIHs/UmVnRXhwfSBbY2FzZVNlbnNpdGl2ZV1cbiAgICogQHBhcmFtIHs/UmVnRXhwfSBbY2FzZUluc2Vuc2l0aXZlXVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FzZVNlbnNpdGl2ZSwgY2FzZUluc2Vuc2l0aXZlKSB7XG4gICAgdGhpcy5fY2FzZVNlbnNpdGl2ZSA9IGNhc2VTZW5zaXRpdmU7XG4gICAgdGhpcy5fY2FzZUluc2Vuc2l0aXZlID0gY2FzZUluc2Vuc2l0aXZlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3RzIHdoZXRoZXIgdGhlIGdpdmVuIFVSTCByZXF1ZXN0IG1hdGNoZXMgdGhlIHBhdHRlcm5zIHVzZWQgdG8gY3JlYXRlXG4gICAqIHRoaXMgb2JqZWN0LlxuICAgKiBAcGFyYW0ge21vZHVsZTp1cmwuVVJMUmVxdWVzdH0gcmVxdWVzdFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHRlc3QocmVxdWVzdCkge1xuICAgIHJldHVybiAoKHRoaXMuX2Nhc2VTZW5zaXRpdmUgJiZcbiAgICAgICAgICAgICB0aGlzLl9jYXNlU2Vuc2l0aXZlLnRlc3QocmVxdWVzdC5ocmVmKSkgfHxcbiAgICAgICAgICAgICh0aGlzLl9jYXNlSW5zZW5zaXRpdmUgJiZcbiAgICAgICAgICAgICB0aGlzLl9jYXNlSW5zZW5zaXRpdmUudGVzdChyZXF1ZXN0Lmxvd2VyQ2FzZUhyZWYpKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDb21waWxlcyBwYXR0ZXJucyBmcm9tIHRoZSBnaXZlbiBmaWx0ZXJzIGludG8gYSBzaW5nbGVcbiAqIGB7QGxpbmsgbW9kdWxlOnBhdHRlcm5zfkNvbXBpbGVkUGF0dGVybnMgQ29tcGlsZWRQYXR0ZXJuc31gIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJDbGFzc2VzLlVSTEZpbHRlcnxcbiAqICAgICAgICAgU2V0Ljxtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5VUkxGaWx0ZXI+fSBmaWx0ZXJzXG4gKiAgIFRoZSBmaWx0ZXJzLiBJZiB0aGUgbnVtYmVyIG9mIGZpbHRlcnMgZXhjZWVkc1xuICogICBge0BsaW5rIG1vZHVsZTpwYXR0ZXJuc35DT01QSUxFX1BBVFRFUk5TX01BWCBDT01QSUxFX1BBVFRFUk5TX01BWH1gLCB0aGVcbiAqICAgZnVuY3Rpb24gcmV0dXJucyBgbnVsbGAuXG4gKlxuICogQHJldHVybnMgez9tb2R1bGU6cGF0dGVybnN+Q29tcGlsZWRQYXR0ZXJuc31cbiAqXG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLmNvbXBpbGVQYXR0ZXJucyA9IGZ1bmN0aW9uIGNvbXBpbGVQYXR0ZXJucyhmaWx0ZXJzKSB7XG4gIGxldCBsaXN0ID0gQXJyYXkuaXNBcnJheShmaWx0ZXJzKSA/IGZpbHRlcnMgOiBbZmlsdGVyc107XG5cbiAgLy8gSWYgdGhlIG51bWJlciBvZiBmaWx0ZXJzIGlzIHRvbyBsYXJnZSwgaXQgbWF5IGNob2tlIGVzcGVjaWFsbHkgb24gbG93LWVuZFxuICAvLyBwbGF0Zm9ybXMuIEFzIGEgcHJlY2F1dGlvbiwgd2UgcmVmdXNlIHRvIGNvbXBpbGUuIElkZWFsbHkgd2Ugd291bGQgY2hlY2tcbiAgLy8gdGhlIGxlbmd0aCBvZiB0aGUgcmVndWxhciBleHByZXNzaW9uIHNvdXJjZSByYXRoZXIgdGhhbiB0aGUgbnVtYmVyIG9mXG4gIC8vIGZpbHRlcnMsIGJ1dCB0aGlzIGlzIGZhciBtb3JlIHN0cmFpZ2h0Zm9yd2FyZCBhbmQgcHJhY3RpY2FsLlxuICBpZiAobGlzdC5sZW5ndGggPiBDT01QSUxFX1BBVFRFUk5TX01BWCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGV0IGNhc2VTZW5zaXRpdmUgPSBcIlwiO1xuICBsZXQgY2FzZUluc2Vuc2l0aXZlID0gXCJcIjtcblxuICBmb3IgKGxldCBmaWx0ZXIgb2YgZmlsdGVycykge1xuICAgIGxldCBzb3VyY2UgPSBmaWx0ZXIudXJsUGF0dGVybi5yZWdleHBTb3VyY2U7XG5cbiAgICBpZiAoZmlsdGVyLm1hdGNoQ2FzZSkge1xuICAgICAgY2FzZVNlbnNpdGl2ZSArPSBzb3VyY2UgKyBcInxcIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYXNlSW5zZW5zaXRpdmUgKz0gc291cmNlICsgXCJ8XCI7XG4gICAgfVxuICB9XG5cbiAgbGV0IGNhc2VTZW5zaXRpdmVSZWdFeHAgPSBudWxsO1xuICBsZXQgY2FzZUluc2Vuc2l0aXZlUmVnRXhwID0gbnVsbDtcblxuICB0cnkge1xuICAgIGlmIChjYXNlU2Vuc2l0aXZlKSB7XG4gICAgICBjYXNlU2Vuc2l0aXZlUmVnRXhwID0gbmV3IFJlZ0V4cChjYXNlU2Vuc2l0aXZlLnNsaWNlKDAsIC0xKSk7XG4gICAgfVxuXG4gICAgaWYgKGNhc2VJbnNlbnNpdGl2ZSkge1xuICAgICAgY2FzZUluc2Vuc2l0aXZlUmVnRXhwID0gbmV3IFJlZ0V4cChjYXNlSW5zZW5zaXRpdmUuc2xpY2UoMCwgLTEpKTtcbiAgICB9XG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gSXQgaXMgcG9zc2libGUgaW4gdGhlb3J5IGZvciB0aGUgcmVndWxhciBleHByZXNzaW9uIHRvIGJlIHRvbyBsYXJnZVxuICAgIC8vIGRlc3BpdGUgQ09NUElMRV9QQVRURVJOU19NQVhcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBuZXcgQ29tcGlsZWRQYXR0ZXJucyhjYXNlU2Vuc2l0aXZlUmVnRXhwLCBjYXNlSW5zZW5zaXRpdmVSZWdFeHApO1xufTtcblxuLyoqXG4gKiBQYXR0ZXJucyBmb3IgbWF0Y2hpbmcgYWdhaW5zdCBVUkxzLlxuICpcbiAqIEludGVybmFsbHksIHRoaXMgbWF5IGJlIGEgUmVnRXhwIG9yIG1hdGNoIGRpcmVjdGx5IGFnYWluc3QgdGhlXG4gKiBwYXR0ZXJuIGZvciBzaW1wbGUgbGl0ZXJhbCBwYXR0ZXJucy5cbiAqL1xuZXhwb3J0cy5QYXR0ZXJuID0gY2xhc3MgUGF0dGVybiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0dGVybiBwYXR0ZXJuIHRoYXQgcmVxdWVzdHMgVVJMcyBzaG91bGQgYmVcbiAgICogbWF0Y2hlZCBhZ2FpbnN0IGluIGZpbHRlciB0ZXh0IG5vdGF0aW9uXG4gICAqIEBwYXJhbSB7Ym9vbH0gbWF0Y2hDYXNlIGB0cnVlYCBpZiBjb21wYXJpc29ucyBtdXN0IGJlIGNhc2VcbiAgICogc2Vuc2l0aXZlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXR0ZXJuLCBtYXRjaENhc2UpIHtcbiAgICB0aGlzLm1hdGNoQ2FzZSA9IG1hdGNoQ2FzZSB8fCBmYWxzZTtcblxuICAgIGlmICghdGhpcy5tYXRjaENhc2UpIHtcbiAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKHBhdHRlcm4ubGVuZ3RoID49IDIgJiZcbiAgICAgICAgcGF0dGVyblswXSA9PSBcIi9cIiAmJlxuICAgICAgICBwYXR0ZXJuW3BhdHRlcm4ubGVuZ3RoIC0gMV0gPT0gXCIvXCIpIHtcbiAgICAgIC8vIFRoZSBmaWx0ZXIgaXMgYSByZWd1bGFyIGV4cHJlc3Npb24gLSBjb252ZXJ0IGl0IGltbWVkaWF0ZWx5IHRvXG4gICAgICAvLyBjYXRjaCBzeW50YXggZXJyb3JzXG4gICAgICBwYXR0ZXJuID0gcGF0dGVybi5zdWJzdHJpbmcoMSwgcGF0dGVybi5sZW5ndGggLSAxKTtcbiAgICAgIHRoaXMuX3JlZ2V4cCA9IG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gUGF0dGVybnMgbGlrZSAvZm9vL2Jhci8qIGV4aXN0IHNvIHRoYXQgdGhleSBhcmUgbm90IHRyZWF0ZWQgYXMgcmVndWxhclxuICAgICAgLy8gZXhwcmVzc2lvbnMuIFdlIGRyb3AgYW55IHN1cGVyZmx1b3VzIHdpbGRjYXJkcyBoZXJlIHNvIG91clxuICAgICAgLy8gb3B0aW1pemF0aW9ucyBjYW4ga2ljayBpbi5cbiAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnJlcGxhY2UoL15cXCorLywgXCJcIikucmVwbGFjZSgvXFwqKyQvLCBcIlwiKTtcblxuICAgICAgLy8gTm8gbmVlZCB0byBjb252ZXJ0IHRoaXMgZmlsdGVyIHRvIHJlZ3VsYXIgZXhwcmVzc2lvbiB5ZXQsIGRvIGl0IG9uXG4gICAgICAvLyBkZW1hbmRcbiAgICAgIHRoaXMucGF0dGVybiA9IHBhdHRlcm47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSBwYXR0ZXJuIGlzIGEgc3RyaW5nIG9mIGxpdGVyYWwgY2hhcmFjdGVycyB3aXRoXG4gICAqIG5vIHdpbGRjYXJkcyBvciBhbnkgb3RoZXIgc3BlY2lhbCBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBJZiB0aGUgcGF0dGVybiBpcyBwcmVmaXhlZCB3aXRoIGEgYHx8YCBvciBzdWZmaXhlZCB3aXRoIGEgYF5gIGJ1dCBvdGhlcndpc2VcbiAgICogY29udGFpbnMgbm8gc3BlY2lhbCBjaGFyYWN0ZXJzLCBpdCBpcyBzdGlsbCBjb25zaWRlcmVkIHRvIGJlIGEgbGl0ZXJhbFxuICAgKiBwYXR0ZXJuLlxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzTGl0ZXJhbFBhdHRlcm4oKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLnBhdHRlcm4gIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICEvWypefF0vLnRlc3QodGhpcy5wYXR0ZXJuLnJlcGxhY2UoL15cXHx7MSwyfS8sIFwiXCIpLnJlcGxhY2UoL1t8Xl0kLywgXCJcIikpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSB1c2VkIHdoZW4gdGVzdGluZyBhZ2FpbnN0IHRoaXMgcGF0dGVybi5cbiAgICpcbiAgICogbnVsbCBpZiB0aGUgcGF0dGVybiBpcyBtYXRjaGVkIHdpdGhvdXQgdXNpbmcgcmVndWxhciBleHByZXNzaW9ucy5cbiAgICogQHR5cGUge1JlZ0V4cH1cbiAgICovXG4gIGdldCByZWdleHAoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9yZWdleHAgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5fcmVnZXhwID0gdGhpcy5pc0xpdGVyYWxQYXR0ZXJuKCkgP1xuICAgICAgICBudWxsIDogbmV3IFJlZ0V4cChmaWx0ZXJUb1JlZ0V4cCh0aGlzLnBhdHRlcm4pKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlZ2V4cDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXR0ZXJuIGluIHJlZ3VsYXIgZXhwcmVzc2lvbiBub3RhdGlvbi4gVGhpcyB3aWxsIGhhdmUgYSB2YWx1ZVxuICAgKiBldmVuIGlmIGByZWdleHBgIHJldHVybnMgbnVsbC5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIGdldCByZWdleHBTb3VyY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlZ2V4cCA/IHRoaXMuX3JlZ2V4cC5zb3VyY2UgOiBmaWx0ZXJUb1JlZ0V4cCh0aGlzLnBhdHRlcm4pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBVUkwgcmVxdWVzdCBtYXRjaGVzIHRoaXMgZmlsdGVyJ3MgcGF0dGVybi5cbiAgICogQHBhcmFtIHttb2R1bGU6dXJsLlVSTFJlcXVlc3R9IHJlcXVlc3QgVGhlIFVSTCByZXF1ZXN0IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBVUkwgcmVxdWVzdCBtYXRjaGVzLlxuICAgKi9cbiAgbWF0Y2hlc0xvY2F0aW9uKHJlcXVlc3QpIHtcbiAgICBsZXQgbG9jYXRpb24gPSB0aGlzLm1hdGNoQ2FzZSA/IHJlcXVlc3QuaHJlZiA6IHJlcXVlc3QubG93ZXJDYXNlSHJlZjtcbiAgICBsZXQgcmVnZXhwID0gdGhpcy5yZWdleHA7XG4gICAgaWYgKHJlZ2V4cCkge1xuICAgICAgcmV0dXJuIHJlZ2V4cC50ZXN0KGxvY2F0aW9uKTtcbiAgICB9XG5cbiAgICBsZXQgcGF0dGVybiA9IHRoaXMucGF0dGVybjtcbiAgICBsZXQgc3RhcnRzV2l0aEFuY2hvciA9IHBhdHRlcm5bMF0gPT0gXCJ8XCI7XG4gICAgbGV0IHN0YXJ0c1dpdGhFeHRlbmRlZEFuY2hvciA9IHN0YXJ0c1dpdGhBbmNob3IgJiYgcGF0dGVyblsxXSA9PSBcInxcIjtcbiAgICBsZXQgZW5kc1dpdGhTZXBhcmF0b3IgPSBwYXR0ZXJuW3BhdHRlcm4ubGVuZ3RoIC0gMV0gPT0gXCJeXCI7XG4gICAgbGV0IGVuZHNXaXRoQW5jaG9yID0gIWVuZHNXaXRoU2VwYXJhdG9yICYmXG4gICAgICAgIHBhdHRlcm5bcGF0dGVybi5sZW5ndGggLSAxXSA9PSBcInxcIjtcblxuICAgIGlmIChzdGFydHNXaXRoRXh0ZW5kZWRBbmNob3IpIHtcbiAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnN1YnN0cigyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc3RhcnRzV2l0aEFuY2hvcikge1xuICAgICAgcGF0dGVybiA9IHBhdHRlcm4uc3Vic3RyKDEpO1xuICAgIH1cblxuICAgIGlmIChlbmRzV2l0aFNlcGFyYXRvciB8fCBlbmRzV2l0aEFuY2hvcikge1xuICAgICAgcGF0dGVybiA9IHBhdHRlcm4uc2xpY2UoMCwgLTEpO1xuICAgIH1cblxuICAgIGxldCBpbmRleCA9IGxvY2F0aW9uLmluZGV4T2YocGF0dGVybik7XG5cbiAgICB3aGlsZSAoaW5kZXggIT0gLTEpIHtcbiAgICAgIC8vIFRoZSBcInx8XCIgcHJlZml4IHJlcXVpcmVzIHRoYXQgdGhlIHRleHQgdGhhdCBmb2xsb3dzIGRvZXMgbm90IHN0YXJ0XG4gICAgICAvLyB3aXRoIGEgZm9yd2FyZCBzbGFzaC5cbiAgICAgIGlmICgoc3RhcnRzV2l0aEV4dGVuZGVkQW5jaG9yID9cbiAgICAgICAgICAgbG9jYXRpb25baW5kZXhdICE9IFwiL1wiICYmXG4gICAgICAgICAgIGV4dGVuZGVkQW5jaG9yUmVnRXhwLnRlc3QobG9jYXRpb24uc3Vic3RyaW5nKDAsIGluZGV4KSkgOlxuICAgICAgICAgICBzdGFydHNXaXRoQW5jaG9yID9cbiAgICAgICAgICAgaW5kZXggPT0gMCA6XG4gICAgICAgICAgIHRydWUpICYmXG4gICAgICAgICAgKGVuZHNXaXRoU2VwYXJhdG9yID9cbiAgICAgICAgICAgIWxvY2F0aW9uW2luZGV4ICsgcGF0dGVybi5sZW5ndGhdIHx8XG4gICAgICAgICAgIHNlcGFyYXRvclJlZ0V4cC50ZXN0KGxvY2F0aW9uW2luZGV4ICsgcGF0dGVybi5sZW5ndGhdKSA6XG4gICAgICAgICAgIGVuZHNXaXRoQW5jaG9yID9cbiAgICAgICAgICAgaW5kZXggPT0gbG9jYXRpb24ubGVuZ3RoIC0gcGF0dGVybi5sZW5ndGggOlxuICAgICAgICAgICB0cnVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhdHRlcm4gPT0gXCJcIikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaW5kZXggPSBsb2NhdGlvbi5pbmRleE9mKHBhdHRlcm4sIGluZGV4ICsgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSBwYXR0ZXJuIGhhcyBrZXl3b3Jkc1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGhhc0tleXdvcmRzKCkge1xuICAgIHJldHVybiB0aGlzLnBhdHRlcm4gJiYga2V5d29yZFJlZ0V4cC50ZXN0KHRoaXMucGF0dGVybik7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgYWxsIGtleXdvcmRzIHRoYXQgY291bGQgYmUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcGF0dGVyblxuICAgKiBAcmV0dXJucyB7c3RyaW5nW119XG4gICAqL1xuICBrZXl3b3JkQ2FuZGlkYXRlcygpIHtcbiAgICBpZiAoIXRoaXMucGF0dGVybikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBhdHRlcm4udG9Mb3dlckNhc2UoKS5tYXRjaChhbGxLZXl3b3Jkc1JlZ0V4cCk7XG4gIH1cbn07XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgQWRibG9jayBQbHVzIDxodHRwczovL2FkYmxvY2twbHVzLm9yZy8+LFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEFkYmxvY2sgUGx1cy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLy8gUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseSBpcyBub3Qgc3VwcG9ydGVkIGluIEZpcmVmb3ggPCA1OFxuaWYgKCFQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5KSB7XG4gIFByb21pc2UucHJvdG90eXBlLmZpbmFsbHkgPSBmdW5jdGlvbihmbikge1xuICAgIHJldHVybiB0aGlzLnRoZW4oZm4sIGZuKTtcbiAgfTtcbn1cbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4vKiogQG1vZHVsZSAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIG1pbiAoaW5jbHVzaXZlKSBhbmQgbWF4IChleGNsdXNpdmUpLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gVGhlIG1pbmltdW0gaW50ZWdlciB0byBnZW5lcmF0ZSAoaW5jbHVzaXZlKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIG1heGltdW0gaW50ZWdlciB0byBnZW5lcmF0ZSAoZXhjbHVzaXZlKS5cbiAqIEByZXR1cm4ge251bWJlcn0gQSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIG1pbiBhbmQgbWF4XG4gKi9cbmV4cG9ydHMucmFuZG9tSW50ZWdlciA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gIGlmIChtaW4gPiBtYXgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2VuZXJhdGUgcmFuZG9tIGludGVnZXIgaW4gcmFuZ2UsIFwiICtcbiAgICAgIGBtaW4gKCR7bWlufSkgbXVzdCBiZSBsZXNzIHRoYW4gbWF4ICgke21heH0pYCk7XG4gIH1cblxuICBsZXQgcmFuZ2UgPSBtYXggLSBtaW47XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiByYW5nZSArIG1pbik7XG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLyoqIEBtb2R1bGUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQSBgUmVjb21tZW5kYXRpb25gIG9iamVjdCByZXByZXNlbnRzIGEgcmVjb21tZW5kZWQgZmlsdGVyIHN1YnNjcmlwdGlvbi5cbiAqL1xuY2xhc3MgUmVjb21tZW5kYXRpb24ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIGBSZWNvbW1lbmRhdGlvbmAgb2JqZWN0IGZyb20gdGhlIGdpdmVuIHNvdXJjZSBvYmplY3QuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UpIHtcbiAgICB0aGlzLl9zb3VyY2UgPSBzb3VyY2U7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGlkIChVVUlEKSBvZiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKiBJZiB0aGUgaWQgaXMgbm90IG51bGwsIHRoZXJlIGlzIGEgMToxIHJlbGF0aW9uc2hpcCB3aXRoIGBpZGAgOiBgdXJsYC5cbiAgICogQHR5cGUgez9zdHJpbmd9XG4gICAqL1xuICBnZXQgaWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcmVxdWlyZWQgc3Vic2NyaXB0aW9uIGlkcy5cbiAgICogQHR5cGUgez9BcnJheS48c3RyaW5nPn1cbiAgICovXG4gIGdldCByZXF1aXJlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fc291cmNlLnJlcXVpcmVzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSByZWNvbW1lbmRlZCBmaWx0ZXIgc3Vic2NyaXB0aW9uLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NvdXJjZS50eXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBsYW5ndWFnZXMgb2YgdGhlIHJlY29tbWVuZGVkIGZpbHRlciBzdWJzY3JpcHRpb24uXG4gICAqIEB0eXBlIHtBcnJheS48c3RyaW5nPn1cbiAgICovXG4gIGdldCBsYW5ndWFnZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5sYW5ndWFnZXMgPyBbLi4udGhpcy5fc291cmNlLmxhbmd1YWdlc10gOiBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgdGl0bGUgb2YgdGhlIHJlY29tbWVuZGVkIGZpbHRlciBzdWJzY3JpcHRpb24uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBnZXQgdGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NvdXJjZS50aXRsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgVVJMIG9mIHRoZSByZWNvbW1lbmRlZCBmaWx0ZXIgc3Vic2NyaXB0aW9uLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0IHVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc291cmNlLnVybDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgaG9tZSBwYWdlIG9mIHRoZSByZWNvbW1lbmRlZCBmaWx0ZXIgc3Vic2NyaXB0aW9uLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0IGhvbWVwYWdlKCkge1xuICAgIHJldHVybiB0aGlzLl9zb3VyY2UuaG9tZXBhZ2U7XG4gIH1cblxuICAvKipcbiAgICogVGhlIG1hbmlmZXN0IHYyIFVSTFxuICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICovXG4gIGdldCBtdjJVUkwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5tdjJfdXJsO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXJlIHRoaXMgcmVjb21tZW5kYXRpb24gd2lsbCBnZXQgdXBkYXRlcyBmcm9tLlxuICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICovXG4gIGdldCBkaWZmVVJMKCkge1xuICAgIHJldHVybiB0aGlzLl9zb3VyY2UuZGlmZl91cmw7XG4gIH1cblxuICAvKipcbiAgICogRXhwaXJhdGlvbiBpbnRlcnZhbCBmcm9tIHRoZSBzdWJzY3JpcHRpb24gaGVhZGVyLlxuICAgKiBVc3VhbGx5IHRoZSBudW1iZXIgb2YgZGF5cyBvciBob3VycyBiZXR3ZWVuIGV4cGlyYXRpb25zLlxuICAgKiBAZXhhbXBsZSBcIjEgZGF5c1wiXG4gICAqIEBleGFtcGxlIFwiNiBob3Vyc1wiXG4gICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0IGV4cGlyZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5leHBpcmVzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhpcyBzdWJzY3JpcHRpb24gY2FuIGxvYWQgZmlsdGVycyB0aGF0IHJlcXVpcmUgcHJpdmlsZWdlZCBhY2Nlc3MsXG4gICAqIGxpa2Ugc25pcHBldHMuXG4gICAqIEB0eXBlIHs/Ym9vbH1cbiAgICovXG4gIGdldCBwcml2aWxlZ2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9zb3VyY2UucHJpdmlsZWdlZDtcbiAgfVxufVxuXG5sZXQgX3JlY29tbWVuZGF0aW9ucyA9IG51bGw7XG5cbi8qKlxuICogU2V0IHRoZSByZWNvbW1lbmRhdGlvbnMuIFRoaXMgaXMgcmVxdWlyZWQuIEl0IHNob3VsZCBiZSBkb25lIGJlZm9yZVxuICogYW55IG90aGVyIG9wZXJhdGlvbiBvbiBzdWJzY3JpcHRpb25zLCBhbmQgc2hvdWxkbid0IGJlIGNhbGxlZCBtb3JlXG4gKiB0aGFuIG9uY2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHJlY29tbWVuZGF0aW9ucyBUaGUgYXZhaWxhYmxlIHJlY29tbWVuZGVkIHN1YnNjcmlwdGlvbnMuXG4gKi9cbmV4cG9ydHMuc2V0UmVjb21tZW5kYXRpb25zID0gZnVuY3Rpb24ocmVjb21tZW5kYXRpb25zKSB7XG4gIF9yZWNvbW1lbmRhdGlvbnMgPSByZWNvbW1lbmRhdGlvbnM7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2ZcbiAqIGB7QGxpbmsgbW9kdWxlOnJlY29tbWVuZGF0aW9uc35SZWNvbW1lbmRhdGlvbiBSZWNvbW1lbmRhdGlvbn1gIG9iamVjdHNcbiAqIHJlcHJlc2VudGluZyByZWNvbW1lbmRlZCBmaWx0ZXIgc3Vic2NyaXB0aW9ucy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXkuPG1vZHVsZTpyZWNvbW1lbmRhdGlvbnN+UmVjb21tZW5kYXRpb24+fSBBbiBhcnJheSBvZiBvYmplY3RzXG4gKiAgcmVwcmVzZW50aW5nIHJlY29tbWVuZGVkIGZpbHRlciBzdWJzY3JpcHRpb25zLlxuICovXG5leHBvcnRzLnJlY29tbWVuZGF0aW9ucyA9IGZ1bmN0aW9uIHJlY29tbWVuZGF0aW9ucygpIHtcbiAgaWYgKCFfcmVjb21tZW5kYXRpb25zKSB7XG4gICAgX3JlY29tbWVuZGF0aW9ucyA9IHJlcXVpcmUoXCIuLi9kYXRhL3N1YnNjcmlwdGlvbnMuanNvblwiKTtcbiAgfVxuXG4gIHJldHVybiBfcmVjb21tZW5kYXRpb25zLm1hcChzb3VyY2UgPT4gbmV3IFJlY29tbWVuZGF0aW9uKHNvdXJjZSkpO1xufTtcblxuZXhwb3J0cy5SZWNvbW1lbmRhdGlvbiA9IFJlY29tbWVuZGF0aW9uO1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLyogZ2xvYmFsIGNyeXB0bywgVGV4dEVuY29kZXIgKi9cblxuLyoqIEBtb2R1bGUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IFJ1c2hhID0gcmVxdWlyZShcIi4vcnVzaGEuanNcIik7XG5jb25zdCB7QmlnSW50ZWdlcn0gPSByZXF1aXJlKFwiLi9qc2JuLmpzXCIpO1xuXG4vKipcbiAqIEBmaWxlIFByb3ZpZGVzIEFTTi4xIHNpdGVrZXlzIHZlcmlmaWNhdGlvbnMuXG4gKi9cblxubGV0IGJhc2U2NFRvQXJyYXlCdWZmZXIgPVxuLyoqXG4gKiBDb252ZXJ0cyBhIGJhc2U2NCBzdHJpbmcgdG8gYW4gYXJyYXkgYnVmZmVyIGJ5dGUgYXJyYXkuXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZTY0IEJhc2U2NCBlbmNvZGVkIHN0cmluZy5cbiAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IFRoZSBzYW1lIGRhdGEsIGVuY29kZWQgYXMgYW4gYXJyYXkgYnVmZmVyLlxuICovXG5leHBvcnRzLmJhc2U2NFRvQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiBiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NCkge1xuICBsZXQgYmluYXJ5U3RyaW5nID0gYXRvYihiYXNlNjQpO1xuICByZXR1cm4gVWludDhBcnJheS5mcm9tKGJpbmFyeVN0cmluZywgYyA9PiBjLmNoYXJDb2RlQXQoMCkpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBhcnJheSBidWZmZXIgYnl0ZSBhcnJheSBpbnRvIGEgYmFzZTY0IHN0cmluZy5cbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmZmVyIEJ5dGUgYXJyYXkgb2YgYW55IGRhdGEuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzYW1lIGRhdGEsIGVuY29kZWQgYXMgYSBiYXNlNjQgc3RyaW5nLlxuICovXG5leHBvcnRzLmFycmF5QnVmZmVyVG9CYXNlNjQgPSBmdW5jdGlvbiBhcnJheUJ1ZmZlclRvQmFzZTY0KGJ1ZmZlcikge1xuICBsZXQgYmluYXJ5ID0gXCJcIjtcbiAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5ieXRlTGVuZ3RoOyBpKyspIHtcbiAgICBiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7XG4gIH1cblxuICByZXR1cm4gYnRvYShiaW5hcnkpO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgc2lnbmF0dXJlIGlzIHZhbGlkIGZvciB0aGUgZ2l2ZW4gcHVibGljIGtleSBhbmQgZGF0YS5cbiAqIFRoZSB2ZXJpZmljYXRpb24gaXMgYmFzZWQgb24gQVNOLjEgb3ZlciBTSEEtMS4gVGhpcyBwcm9jZWR1cmUgaXMga25vd24gYXNcbiAqIFJTQV9QS0NTMV9TSEExIGFuZCBpdCBpcyB0aGUgZGVmYXVsdCBraW5kIG9mIHByb2NlZHVyZSwgaW4gT3BlblNTTCwgd2hlblxuICogU0VDX09JRF9JU09fU0hBX1dJVEhfUlNBX1NJR05BVFVSRSBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUga2V5L3NpZ25hdHVyZSBwYWlyLlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBhIGJhc2UgNjQgcHVibGljIGtleSB1c2VkIHRvIHZlcmlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzaWduYXR1cmUgYSBiYXNlIDY0IHNpZ25hdHVyZSB1c2VkIHRvIHZlcmlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIGEgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHJlc291cmNlIHRvIHZlcmlmeS5cbiAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSByZXNvbHZlcyB3aXRoIHRydWUgaWYgdGhlIHNpZ25hdHVyZSBpcyB2YWxpZFxuICovXG5leHBvcnRzLnZlcmlmeVNpZ25hdHVyZSA9IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVNpZ25hdHVyZShrZXksIHNpZ25hdHVyZSwgZGF0YSkge1xuICBsZXQgc2lnbkFsZ29yaXRobSA9IHtcbiAgICBuYW1lOiBcIlJTQVNTQS1QS0NTMS12MV81XCIsXG4gICAgaGFzaDoge25hbWU6IFwiU0hBLTFcIn1cbiAgfTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgY3J5cHRvLnN1YnRsZS52ZXJpZnkoXG4gICAgICBzaWduQWxnb3JpdGhtLFxuICAgICAgYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgICAgIFwic3BraVwiLFxuICAgICAgICBiYXNlNjRUb0FycmF5QnVmZmVyKGtleSksXG4gICAgICAgIHNpZ25BbGdvcml0aG0sXG4gICAgICAgIHRydWUsXG4gICAgICAgIFtcInZlcmlmeVwiXVxuICAgICAgKSxcbiAgICAgIGJhc2U2NFRvQXJyYXlCdWZmZXIoc2lnbmF0dXJlKSxcbiAgICAgIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShkYXRhKVxuICAgICk7XG4gIH1cbiAgY2F0Y2ggKHttZXNzYWdlfSkge1xuICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgZW5jcnlwdGVkIHNpZ25hdHVyZTogXCIgKyBtZXNzYWdlKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIERlZmluZSBBU04uMSB0ZW1wbGF0ZXMgZm9yIHRoZSBkYXRhIHN0cnVjdHVyZXMgdXNlZFxuZnVuY3Rpb24gc2VxKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIHt0eXBlOiAweDMwLCBjaGlsZHJlbjogYXJnc307XG59XG5mdW5jdGlvbiBvYmooaWQpIHtcbiAgcmV0dXJuIHt0eXBlOiAweDA2LCBjb250ZW50OiBpZH07XG59XG5mdW5jdGlvbiBiaXRTdHIoY29udGVudHMpIHtcbiAgcmV0dXJuIHt0eXBlOiAweDAzLCBlbmNhcHN1bGF0ZXM6IGNvbnRlbnRzfTtcbn1cbmZ1bmN0aW9uIGludFJlc3VsdChpZCkge1xuICByZXR1cm4ge3R5cGU6IDB4MDIsIG91dDogaWR9O1xufVxuZnVuY3Rpb24gb2N0ZXRSZXN1bHQoaWQpIHtcbiAgcmV0dXJuIHt0eXBlOiAweDA0LCBvdXQ6IGlkfTtcbn1cblxuLy8gU2VlIGh0dHA6Ly93d3cuY3J5cHRvcHAuY29tL3dpa2kvS2V5c19hbmRfRm9ybWF0cyNSU0FfUHVibGljS2V5XG4vLyAyQSA4NiA0OCA4NiBGNyAwRCAwMSAwMSAwMSBtZWFucyAxLjIuODQwLjExMzU0OS4xLjEuMVxubGV0IHB1YmxpY0tleVRlbXBsYXRlID0gc2VxKFxuICBzZXEob2JqKFwiXFx4MkFcXHg4NlxceDQ4XFx4ODZcXHhGN1xceDBEXFx4MDFcXHgwMVxceDAxXCIpLCB7fSksXG4gIGJpdFN0cihzZXEoaW50UmVzdWx0KFwiblwiKSwgaW50UmVzdWx0KFwiZVwiKSkpXG4pO1xuXG4vLyBTZWUgaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ0NyNzZWN0aW9uLTkuMiBzdGVwIDJcbi8vIDJCIDBFIDAzIDAyIDFBIG1lYW5zIDEuMy4xNC4zLjIuMjZcbmxldCBzaWduYXR1cmVUZW1wbGF0ZSA9IHNlcShcbiAgc2VxKG9iaihcIlxceDJCXFx4MEVcXHgwM1xceDAyXFx4MUFcIiksIHt9KSxcbiAgb2N0ZXRSZXN1bHQoXCJzaGExXCIpXG4pO1xuXG4vKipcbiAqIFJlYWRzIEFTTi4xIGRhdGEgbWF0Y2hpbmcgdGhlIHRlbXBsYXRlIHBhc3NlZCBpbi4gVGhpcyB3aWxsIHRocm93IGFuXG4gKiBleGNlcHRpb24gaWYgdGhlIGRhdGEgZm9ybWF0IGRvZXNuJ3QgbWF0Y2ggdGhlIHRlbXBsYXRlLiBPbiBzdWNjZXNzIGFuXG4gKiBvYmplY3QgY29udGFpbmluZyByZXN1bHQgcHJvcGVydGllcyBpcyByZXR1cm5lZC5cbiAqIEBzZWUgaHR0cDovL2x1Y2EubnRvcC5vcmcvVGVhY2hpbmcvQXBwdW50aS9hc24xLmh0bWwgZm9yIGluZm8gb24gdGhlIGZvcm1hdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gdGVtcGxcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJlYWRBU04xKGRhdGEsIHRlbXBsKSB7XG4gIGxldCBwb3MgPSAwO1xuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHJldHVybiBkYXRhLmNoYXJDb2RlQXQocG9zKyspO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZExlbmd0aCgpIHtcbiAgICBsZXQgbGVuID0gbmV4dCgpO1xuICAgIGlmIChsZW4gJiAweDgwKSB7XG4gICAgICBsZXQgY250ID0gbGVuICYgMHg3RjtcbiAgICAgIGlmIChjbnQgPiAyIHx8IGNudCA9PSAwKSB7XG4gICAgICAgIHRocm93IFwiVW5zdXBwb3J0ZWQgbGVuZ3RoXCI7XG4gICAgICB9XG5cbiAgICAgIGxlbiA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNudDsgaSsrKSB7XG4gICAgICAgIGxlbiArPSBuZXh0KCkgPDwgKGNudCAtIDEgLSBpKSAqIDg7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGVuO1xuICAgIH1cbiAgICByZXR1cm4gbGVuO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZE5vZGUoY3VyVGVtcGwpIHtcbiAgICBsZXQgdHlwZSA9IG5leHQoKTtcbiAgICBsZXQgbGVuID0gcmVhZExlbmd0aCgpO1xuICAgIGlmIChcInR5cGVcIiBpbiBjdXJUZW1wbCAmJiBjdXJUZW1wbC50eXBlICE9IHR5cGUpIHtcbiAgICAgIHRocm93IFwiVW5leHBlY3RlZCB0eXBlXCI7XG4gICAgfVxuICAgIGlmIChcImNvbnRlbnRcIiBpbiBjdXJUZW1wbCAmJlxuICAgICAgICBjdXJUZW1wbC5jb250ZW50ICE9IGRhdGEuc3Vic3RyaW5nKHBvcywgcG9zICsgbGVuKSkge1xuICAgICAgdGhyb3cgXCJVbmV4cGVjdGVkIGNvbnRlbnRcIjtcbiAgICB9XG4gICAgaWYgKFwib3V0XCIgaW4gY3VyVGVtcGwpIHtcbiAgICAgIG91dFtjdXJUZW1wbC5vdXRdID0gbmV3IEJpZ0ludGVnZXIoZGF0YS5zdWJzdHJpbmcocG9zLCBwb3MgKyBsZW4pLCAyNTYpO1xuICAgIH1cbiAgICBpZiAoXCJjaGlsZHJlblwiIGluIGN1clRlbXBsKSB7XG4gICAgICBsZXQgaTtcbiAgICAgIGxldCBlbmQ7XG4gICAgICBmb3IgKGkgPSAwLCBlbmQgPSBwb3MgKyBsZW47IHBvcyA8IGVuZDsgaSsrKSB7XG4gICAgICAgIGlmIChpID49IGN1clRlbXBsLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgIHRocm93IFwiVG9vIG1hbnkgY2hpbGRyZW5cIjtcbiAgICAgICAgfVxuICAgICAgICByZWFkTm9kZShjdXJUZW1wbC5jaGlsZHJlbltpXSk7XG4gICAgICB9XG4gICAgICBpZiAoaSA8IGN1clRlbXBsLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBcIlRvbyBmZXcgY2hpbGRyZW5cIjtcbiAgICAgIH1cbiAgICAgIGlmIChwb3MgPiBlbmQpIHtcbiAgICAgICAgdGhyb3cgXCJDaGlsZHJlbiB0b28gbGFyZ2VcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoXCJlbmNhcHN1bGF0ZXNcIiBpbiBjdXJUZW1wbCkge1xuICAgICAgaWYgKG5leHQoKSAhPSAwKSB7XG4gICAgICAgIHRocm93IFwiRW5jYXBzdWxhdGlvbiBleHBlY3RlZFwiO1xuICAgICAgfVxuICAgICAgcmVhZE5vZGUoY3VyVGVtcGwuZW5jYXBzdWxhdGVzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBwb3MgKz0gbGVuO1xuICAgIH1cbiAgfVxuXG4gIGxldCBvdXQgPSB7fTtcbiAgcmVhZE5vZGUodGVtcGwpO1xuICBpZiAocG9zICE9IGRhdGEubGVuZ3RoKSB7XG4gICAgdGhyb3cgXCJUb28gbXVjaCBkYXRhXCI7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBSZWFkcyBhIEJFUi1lbmNvZGVkIFJTQSBwdWJsaWMga2V5LiBPbiBzdWNjZXNzIHJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlXG4gKiBwcm9wZXJ0aWVzIG4gYW5kIGUgKHRoZSBjb21wb25lbnRzIG9mIHRoZSBrZXkpLCBvdGhlcndpc2UgbnVsbC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEByZXR1cm4gez9PYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJlYWRQdWJsaWNLZXkoa2V5KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHJlYWRBU04xKGF0b2Ioa2V5KSwgcHVibGljS2V5VGVtcGxhdGUpO1xuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBSU0EgcHVibGljIGtleTogXCIgKyBlKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5sZXQgcnVzaGE7XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIHNpZ25hdHVyZSBpcyB2YWxpZCBmb3IgdGhlIGdpdmVuIHB1YmxpYyBrZXkgYW5kIGRhdGEuXG4gKiBUaGUgdmVyaWZpY2F0aW9uIGlzIGJhc2VkIG9uIEFTTi4xIG92ZXIgU0hBLTEuIFRoaXMgcHJvY2VkdXJlIGlzIGtub3duIGFzXG4gKiBSU0FfUEtDUzFfU0hBMSBhbmQgaXQgaXMgdGhlIGRlZmF1bHQga2luZCBvZiBwcm9jZWR1cmUsIGluIE9wZW5TU0wsIHdoZW5cbiAqIFNFQ19PSURfSVNPX1NIQV9XSVRIX1JTQV9TSUdOQVRVUkUgaXMgdXNlZCB0byBjcmVhdGUgdGhlIGtleS9zaWduYXR1cmUgcGFpci5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHN5bmNocm9ub3VzLCBhbmQgc28gZG9lcyBub3QgcmV0dXJuIGFcbiAqIHByb21pc2UuIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBhc3luY2hyb25vdXMgdmVyc2lvbixcbiAqIGB7QGxpbmsgbW9kdWxlOnJzYS52ZXJpZnlTaWduYXR1cmUgdmVyaWZ5U2lnbmF0dXJlfWAsIGlmIHBvc3NpYmxlLlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBhIGJhc2UgNjQgcHVibGljIGtleSB1c2VkIHRvIHZlcmlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzaWduYXR1cmUgYSBiYXNlIDY0IHNpZ25hdHVyZSB1c2VkIHRvIHZlcmlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIGEgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHJlc291cmNlIHRvIHZlcmlmeS5cbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBzaWduYXR1cmUgaXMgdmFsaWQuXG4gKi9cbmV4cG9ydHMudmVyaWZ5U2lnbmF0dXJlU3luYyA9XG5mdW5jdGlvbiB2ZXJpZnlTaWduYXR1cmVTeW5jKGtleSwgc2lnbmF0dXJlLCBkYXRhKSB7XG4gIGlmICh0eXBlb2YgcnVzaGEgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJ1c2hhID0gbmV3IFJ1c2hhKCk7XG4gIH1cblxuICBsZXQga2V5RGF0YSA9IHJlYWRQdWJsaWNLZXkoa2V5KTtcbiAgaWYgKCFrZXlEYXRhKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gV2UgbmVlZCB0aGUgZXhwb25lbnQgYXMgcmVndWxhciBudW1iZXJcbiAga2V5RGF0YS5lID0gcGFyc2VJbnQoa2V5RGF0YS5lLnRvU3RyaW5nKDE2KSwgMTYpO1xuXG4gIC8vIERlY3J5cHQgc2lnbmF0dXJlIGRhdGEgdXNpbmcgUlNBIGFsZ29yaXRobVxuICBsZXQgc2lnSW50ID0gbmV3IEJpZ0ludGVnZXIoYXRvYihzaWduYXR1cmUpLCAyNTYpO1xuICBsZXQgZGlnZXN0ID0gc2lnSW50Lm1vZFBvd0ludChrZXlEYXRhLmUsIGtleURhdGEubikudG9TdHJpbmcoMjU2KTtcblxuICB0cnkge1xuICAgIGxldCBwb3MgPSAwO1xuICAgIGxldCBuZXh0ID0gKCkgPT4gZGlnZXN0LmNoYXJDb2RlQXQocG9zKyspO1xuXG4gICAgLy8gU2tpcCBwYWRkaW5nLCBzZWUgaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ0NyNzZWN0aW9uLTkuMiBzdGVwIDVcbiAgICBpZiAobmV4dCgpICE9IDEpIHtcbiAgICAgIHRocm93IFwiV3JvbmcgcGFkZGluZyBpbiBzaWduYXR1cmUgZGlnZXN0XCI7XG4gICAgfVxuICAgIHdoaWxlIChuZXh0KCkgPT0gMjU1KSB7fVxuICAgIGlmIChkaWdlc3QuY2hhckNvZGVBdChwb3MgLSAxKSAhPSAwKSB7XG4gICAgICB0aHJvdyBcIldyb25nIHBhZGRpbmcgaW4gc2lnbmF0dXJlIGRpZ2VzdFwiO1xuICAgIH1cblxuICAgIC8vIFJlc3QgaXMgYW4gQVNOLjEgc3RydWN0dXJlLCBnZXQgdGhlIFNIQTEgaGFzaCBmcm9tIGl0IGFuZCBjb21wYXJlIHRvXG4gICAgLy8gdGhlIHJlYWwgb25lXG4gICAgbGV0IHtzaGExfSA9IHJlYWRBU04xKGRpZ2VzdC5zdWJzdHJpbmcocG9zKSwgc2lnbmF0dXJlVGVtcGxhdGUpO1xuICAgIGxldCBleHBlY3RlZCA9IG5ldyBCaWdJbnRlZ2VyKHJ1c2hhLmRpZ2VzdChkYXRhKSwgMTYpO1xuICAgIHJldHVybiAoc2hhMS5jb21wYXJlVG8oZXhwZWN0ZWQpID09IDApO1xuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBlbmNyeXB0ZWQgc2lnbmF0dXJlOiBcIiArIGUpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIC8qXG4gKiBSdXNoYSwgYSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBTZWN1cmUgSGFzaCBBbGdvcml0aG0sIFNIQS0xLFxuICogYXMgZGVmaW5lZCBpbiBGSVBTIFBVQiAxODAtMSwgdHVuZWQgZm9yIGhpZ2ggcGVyZm9ybWFuY2Ugd2l0aCBsYXJnZSBpbnB1dHMuXG4gKiAoaHR0cDovL2dpdGh1Yi5jb20vc3JpanMvcnVzaGEpXG4gKlxuICogSW5zcGlyZWQgYnkgUGF1bCBKb2huc3RvbnMgaW1wbGVtZW50YXRpb24gKGh0dHA6Ly9wYWpob21lLm9yZy51ay9jcnlwdC9tZDUpLlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMyBTYW0gUmlqcyAoaHR0cDovL2F3ZXNhbS5kZSkuXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVCBsaWNlbnNlIGFzIGZvbGxvd3M6XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb25cbiAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLFxuICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1NcbiAqIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuICAgIHV0aWwgPSB7XG4gICAgICAgIGdldERhdGFUeXBlOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnc3RyaW5nJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FycmF5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWwuQnVmZmVyICYmIGdsb2JhbC5CdWZmZXIuaXNCdWZmZXIoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2J1ZmZlcic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcnJheWJ1ZmZlcic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiAndmlldyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Jsb2InO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBkYXRhIHR5cGUuJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIFJ1c2hhKGNodW5rU2l6ZSkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIHZhciAvLyBQcml2YXRlIG9iamVjdCBzdHJ1Y3R1cmUuXG4gICAgICAgIHNlbGYkMiA9IHsgZmlsbDogMCB9O1xuICAgICAgICB2YXIgLy8gQ2FsY3VsYXRlIHRoZSBsZW5ndGggb2YgYnVmZmVyIHRoYXQgdGhlIHNoYTEgcm91dGluZSB1c2VzXG4gICAgICAgIC8vIGluY2x1ZGluZyB0aGUgcGFkZGluZy5cbiAgICAgICAgcGFkbGVuID0gZnVuY3Rpb24gKGxlbikge1xuICAgICAgICAgICAgZm9yIChsZW4gKz0gOTsgbGVuICUgNjQgPiAwOyBsZW4gKz0gMSk7XG4gICAgICAgICAgICByZXR1cm4gbGVuO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcGFkWmVyb2VzID0gZnVuY3Rpb24gKGJpbiwgbGVuKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDIgPSBsZW4gPj4gMjsgaSQyIDwgYmluLmxlbmd0aDsgaSQyKyspXG4gICAgICAgICAgICAgICAgYmluW2kkMl0gPSAwO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcGFkRGF0YSA9IGZ1bmN0aW9uIChiaW4sIGNodW5rTGVuLCBtc2dMZW4pIHtcbiAgICAgICAgICAgIGJpbltjaHVua0xlbiA+PiAyXSB8PSAxMjggPDwgMjQgLSAoY2h1bmtMZW4gJSA0IDw8IDMpO1xuICAgICAgICAgICAgLy8gVG8gc3VwcG9ydCBtc2dMZW4gPj0gMiBHaUIsIHVzZSBhIGZsb2F0IGRpdmlzaW9uIHdoZW4gY29tcHV0aW5nIHRoZVxuICAgICAgICAgICAgLy8gaGlnaCAzMi1iaXRzIG9mIHRoZSBiaWctZW5kaWFuIG1lc3NhZ2UgbGVuZ3RoIGluIGJpdHMuXG4gICAgICAgICAgICBiaW5bKChjaHVua0xlbiA+PiAyKSArIDIgJiB+MTUpICsgMTRdID0gbXNnTGVuIC8gKDEgPDwgMjkpIHwgMDtcbiAgICAgICAgICAgIGJpblsoKGNodW5rTGVuID4+IDIpICsgMiAmIH4xNSkgKyAxNV0gPSBtc2dMZW4gPDwgMztcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIC8vIENvbnZlcnQgYSBiaW5hcnkgc3RyaW5nIGFuZCB3cml0ZSBpdCB0byB0aGUgaGVhcC5cbiAgICAgICAgLy8gQSBiaW5hcnkgc3RyaW5nIGlzIGV4cGVjdGVkIHRvIG9ubHkgY29udGFpbiBjaGFyIGNvZGVzIDwgMjU2LlxuICAgICAgICBjb252U3RyID0gZnVuY3Rpb24gKEg4LCBIMzIsIHN0YXJ0LCBsZW4sIG9mZikge1xuICAgICAgICAgICAgdmFyIHN0ciA9IHRoaXMsIGkkMiwgb20gPSBvZmYgJSA0LCBsbSA9IGxlbiAlIDQsIGogPSBsZW4gLSBsbTtcbiAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAob20pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIEg4W29mZiArIDMgfCAwXSA9IHN0ci5jaGFyQ29kZUF0KHN0YXJ0KTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIEg4W29mZiArIDIgfCAwXSA9IHN0ci5jaGFyQ29kZUF0KHN0YXJ0ICsgMSk7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBIOFtvZmYgKyAxIHwgMF0gPSBzdHIuY2hhckNvZGVBdChzdGFydCArIDIpO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgSDhbb2ZmIHwgMF0gPSBzdHIuY2hhckNvZGVBdChzdGFydCArIDMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaSQyID0gb207IGkkMiA8IGo7IGkkMiA9IGkkMiArIDQgfCAwKSB7XG4gICAgICAgICAgICAgICAgSDMyW29mZiArIGkkMiA+PiAyXSA9IHN0ci5jaGFyQ29kZUF0KHN0YXJ0ICsgaSQyKSA8PCAyNCB8IHN0ci5jaGFyQ29kZUF0KHN0YXJ0ICsgaSQyICsgMSkgPDwgMTYgfCBzdHIuY2hhckNvZGVBdChzdGFydCArIGkkMiArIDIpIDw8IDggfCBzdHIuY2hhckNvZGVBdChzdGFydCArIGkkMiArIDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChsbSkge1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIEg4W29mZiArIGogKyAxIHwgMF0gPSBzdHIuY2hhckNvZGVBdChzdGFydCArIGogKyAyKTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBIOFtvZmYgKyBqICsgMiB8IDBdID0gc3RyLmNoYXJDb2RlQXQoc3RhcnQgKyBqICsgMSk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgSDhbb2ZmICsgaiArIDMgfCAwXSA9IHN0ci5jaGFyQ29kZUF0KHN0YXJ0ICsgaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciAvLyBDb252ZXJ0IGEgYnVmZmVyIG9yIGFycmF5IGFuZCB3cml0ZSBpdCB0byB0aGUgaGVhcC5cbiAgICAgICAgLy8gVGhlIGJ1ZmZlciBvciBhcnJheSBpcyBleHBlY3RlZCB0byBvbmx5IGNvbnRhaW4gZWxlbWVudHMgPCAyNTYuXG4gICAgICAgIGNvbnZCdWYgPSBmdW5jdGlvbiAoSDgsIEgzMiwgc3RhcnQsIGxlbiwgb2ZmKSB7XG4gICAgICAgICAgICB2YXIgYnVmID0gdGhpcywgaSQyLCBvbSA9IG9mZiAlIDQsIGxtID0gbGVuICUgNCwgaiA9IGxlbiAtIGxtO1xuICAgICAgICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChvbSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgSDhbb2ZmICsgMyB8IDBdID0gYnVmW3N0YXJ0XTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIEg4W29mZiArIDIgfCAwXSA9IGJ1ZltzdGFydCArIDFdO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgSDhbb2ZmICsgMSB8IDBdID0gYnVmW3N0YXJ0ICsgMl07XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBIOFtvZmYgfCAwXSA9IGJ1ZltzdGFydCArIDNdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaSQyID0gNCAtIG9tOyBpJDIgPCBqOyBpJDIgPSBpJDIgKz0gNCB8IDApIHtcbiAgICAgICAgICAgICAgICBIMzJbb2ZmICsgaSQyID4+IDJdID0gYnVmW3N0YXJ0ICsgaSQyXSA8PCAyNCB8IGJ1ZltzdGFydCArIGkkMiArIDFdIDw8IDE2IHwgYnVmW3N0YXJ0ICsgaSQyICsgMl0gPDwgOCB8IGJ1ZltzdGFydCArIGkkMiArIDNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChsbSkge1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIEg4W29mZiArIGogKyAxIHwgMF0gPSBidWZbc3RhcnQgKyBqICsgMl07XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgSDhbb2ZmICsgaiArIDIgfCAwXSA9IGJ1ZltzdGFydCArIGogKyAxXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBIOFtvZmYgKyBqICsgMyB8IDBdID0gYnVmW3N0YXJ0ICsgal07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjb252QmxvYiA9IGZ1bmN0aW9uIChIOCwgSDMyLCBzdGFydCwgbGVuLCBvZmYpIHtcbiAgICAgICAgICAgIHZhciBibG9iID0gdGhpcywgaSQyLCBvbSA9IG9mZiAlIDQsIGxtID0gbGVuICUgNCwgaiA9IGxlbiAtIGxtO1xuICAgICAgICAgICAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iLnNsaWNlKHN0YXJ0LCBzdGFydCArIGxlbikpKTtcbiAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAob20pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIEg4W29mZiArIDMgfCAwXSA9IGJ1ZlswXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIEg4W29mZiArIDIgfCAwXSA9IGJ1ZlsxXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIEg4W29mZiArIDEgfCAwXSA9IGJ1ZlsyXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIEg4W29mZiB8IDBdID0gYnVmWzNdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaSQyID0gNCAtIG9tOyBpJDIgPCBqOyBpJDIgPSBpJDIgKz0gNCB8IDApIHtcbiAgICAgICAgICAgICAgICBIMzJbb2ZmICsgaSQyID4+IDJdID0gYnVmW2kkMl0gPDwgMjQgfCBidWZbaSQyICsgMV0gPDwgMTYgfCBidWZbaSQyICsgMl0gPDwgOCB8IGJ1ZltpJDIgKyAzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAobG0pIHtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBIOFtvZmYgKyBqICsgMSB8IDBdID0gYnVmW2ogKyAyXTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBIOFtvZmYgKyBqICsgMiB8IDBdID0gYnVmW2ogKyAxXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBIOFtvZmYgKyBqICsgMyB8IDBdID0gYnVmW2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgY29udkZuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodXRpbC5nZXREYXRhVHlwZShkYXRhKSkge1xuICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udlN0ci5iaW5kKGRhdGEpO1xuICAgICAgICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgICAgICAgICAgIHJldHVybiBjb252QnVmLmJpbmQoZGF0YSk7XG4gICAgICAgICAgICBjYXNlICdidWZmZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiBjb252QnVmLmJpbmQoZGF0YSk7XG4gICAgICAgICAgICBjYXNlICdhcnJheWJ1ZmZlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZCdWYuYmluZChuZXcgVWludDhBcnJheShkYXRhKSk7XG4gICAgICAgICAgICBjYXNlICd2aWV3JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udkJ1Zi5iaW5kKG5ldyBVaW50OEFycmF5KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCkpO1xuICAgICAgICAgICAgY2FzZSAnYmxvYic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZCbG9iLmJpbmQoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzbGljZSA9IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodXRpbC5nZXREYXRhVHlwZShkYXRhKSkge1xuICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5zbGljZShvZmZzZXQpO1xuICAgICAgICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLnNsaWNlKG9mZnNldCk7XG4gICAgICAgICAgICBjYXNlICdidWZmZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLnNsaWNlKG9mZnNldCk7XG4gICAgICAgICAgICBjYXNlICdhcnJheWJ1ZmZlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuc2xpY2Uob2Zmc2V0KTtcbiAgICAgICAgICAgIGNhc2UgJ3ZpZXcnOlxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmJ1ZmZlci5zbGljZShvZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgLy8gUHJlY29tcHV0ZSAwMCAtIGZmIHN0cmluZ3NcbiAgICAgICAgcHJlY29tcHV0ZWRIZXggPSBuZXcgQXJyYXkoMjU2KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgICAgICAgcHJlY29tcHV0ZWRIZXhbaV0gPSAoaSA8IDE2ID8gJzAnIDogJycpICsgaS50b1N0cmluZygxNik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIC8vIENvbnZlcnQgYW4gQXJyYXlCdWZmZXIgaW50byBpdHMgaGV4YWRlY2ltYWwgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAgICBoZXggPSBmdW5jdGlvbiAoYXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIHZhciBiaW5hcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgICAgICAgIHZhciByZXMgPSBuZXcgQXJyYXkoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDIgPSAwOyBpJDIgPCByZXMubGVuZ3RoOyBpJDIrKykge1xuICAgICAgICAgICAgICAgIHJlc1tpJDJdID0gcHJlY29tcHV0ZWRIZXhbYmluYXJyYXlbaSQyXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpvaW4oJycpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgY2VpbEhlYXBTaXplID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIC8vIFRoZSBhc20uanMgc3BlYyBzYXlzOlxuICAgICAgICAgICAgLy8gVGhlIGhlYXAgb2JqZWN0J3MgYnl0ZUxlbmd0aCBtdXN0IGJlIGVpdGhlclxuICAgICAgICAgICAgLy8gMl5uIGZvciBuIGluIFsxMiwgMjQpIG9yIDJeMjQgKiBuIGZvciBuIOKJpSAxLlxuICAgICAgICAgICAgLy8gQWxzbywgYnl0ZUxlbmd0aHMgc21hbGxlciB0aGFuIDJeMTYgYXJlIGRlcHJlY2F0ZWQuXG4gICAgICAgICAgICB2YXIgcDtcbiAgICAgICAgICAgIGlmICgvLyBJZiB2IGlzIHNtYWxsZXIgdGhhbiAyXjE2LCB0aGUgc21hbGxlc3QgcG9zc2libGUgc29sdXRpb25cbiAgICAgICAgICAgICAgICAvLyBpcyAyXjE2LlxuICAgICAgICAgICAgICAgIHYgPD0gNjU1MzYpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDY1NTM2O1xuICAgICAgICAgICAgaWYgKC8vIElmIHYgPCAyXjI0LCB3ZSByb3VuZCB1cCB0byAyXm4sXG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIHJvdW5kIHVwIHRvIDJeMjQgKiBuLlxuICAgICAgICAgICAgICAgIHYgPCAxNjc3NzIxNikge1xuICAgICAgICAgICAgICAgIGZvciAocCA9IDE7IHAgPCB2OyBwID0gcCA8PCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChwID0gMTY3NzcyMTY7IHAgPCB2OyBwICs9IDE2Nzc3MjE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgLy8gSW5pdGlhbGl6ZSB0aGUgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmVzIHRvIGEgbmV3IGNhcGFjaXR5LlxuICAgICAgICBpbml0ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgICAgIGlmIChzaXplICUgNjQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaHVuayBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxMjggYml0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmJDIubWF4Q2h1bmtMZW4gPSBzaXplO1xuICAgICAgICAgICAgc2VsZiQyLnBhZE1heENodW5rTGVuID0gcGFkbGVuKHNpemUpO1xuICAgICAgICAgICAgLy8gVGhlIHNpemUgb2YgdGhlIGhlYXAgaXMgdGhlIHN1bSBvZjpcbiAgICAgICAgICAgIC8vIDEuIFRoZSBwYWRkZWQgaW5wdXQgbWVzc2FnZSBzaXplXG4gICAgICAgICAgICAvLyAyLiBUaGUgZXh0ZW5kZWQgc3BhY2UgdGhlIGFsZ29yaXRobSBuZWVkcyAoMzIwIGJ5dGUpXG4gICAgICAgICAgICAvLyAzLiBUaGUgMTYwIGJpdCBzdGF0ZSB0aGUgYWxnb3JpdG0gdXNlc1xuICAgICAgICAgICAgc2VsZiQyLmhlYXAgPSBuZXcgQXJyYXlCdWZmZXIoY2VpbEhlYXBTaXplKHNlbGYkMi5wYWRNYXhDaHVua0xlbiArIDMyMCArIDIwKSk7XG4gICAgICAgICAgICBzZWxmJDIuaDMyID0gbmV3IEludDMyQXJyYXkoc2VsZiQyLmhlYXApO1xuICAgICAgICAgICAgc2VsZiQyLmg4ID0gbmV3IEludDhBcnJheShzZWxmJDIuaGVhcCk7XG4gICAgICAgICAgICBzZWxmJDIuY29yZSA9IG5ldyBSdXNoYS5fY29yZSh7XG4gICAgICAgICAgICAgICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICAgICAgICAgICAgICBEYXRhVmlldzogRGF0YVZpZXdcbiAgICAgICAgICAgIH0sIHt9LCBzZWxmJDIuaGVhcCk7XG4gICAgICAgICAgICBzZWxmJDIuYnVmZmVyID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgZGF0YSBzdHJ1Y3R1cmVzIGFjY29yZGluZ1xuICAgICAgICAvLyB0byBhIGNodW5rIHNpemUuXG4gICAgICAgIGluaXQoY2h1bmtTaXplIHx8IDY0ICogMTAyNCk7XG4gICAgICAgIHZhciBpbml0U3RhdGUgPSBmdW5jdGlvbiAoaGVhcCwgcGFkTXNnTGVuKSB7XG4gICAgICAgICAgICB2YXIgaW8gPSBuZXcgSW50MzJBcnJheShoZWFwLCBwYWRNc2dMZW4gKyAzMjAsIDUpO1xuICAgICAgICAgICAgaW9bMF0gPSAxNzMyNTg0MTkzO1xuICAgICAgICAgICAgaW9bMV0gPSAtMjcxNzMzODc5O1xuICAgICAgICAgICAgaW9bMl0gPSAtMTczMjU4NDE5NDtcbiAgICAgICAgICAgIGlvWzNdID0gMjcxNzMzODc4O1xuICAgICAgICAgICAgaW9bNF0gPSAtMTAwOTU4OTc3NjtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHBhZENodW5rID0gZnVuY3Rpb24gKGNodW5rTGVuLCBtc2dMZW4pIHtcbiAgICAgICAgICAgIHZhciBwYWRDaHVua0xlbiA9IHBhZGxlbihjaHVua0xlbik7XG4gICAgICAgICAgICB2YXIgdmlldyA9IG5ldyBJbnQzMkFycmF5KHNlbGYkMi5oZWFwLCAwLCBwYWRDaHVua0xlbiA+PiAyKTtcbiAgICAgICAgICAgIHBhZFplcm9lcyh2aWV3LCBjaHVua0xlbik7XG4gICAgICAgICAgICBwYWREYXRhKHZpZXcsIGNodW5rTGVuLCBtc2dMZW4pO1xuICAgICAgICAgICAgcmV0dXJuIHBhZENodW5rTGVuO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgLy8gV3JpdGUgZGF0YSB0byB0aGUgaGVhcC5cbiAgICAgICAgd3JpdGUgPSBmdW5jdGlvbiAoZGF0YSwgY2h1bmtPZmZzZXQsIGNodW5rTGVuKSB7XG4gICAgICAgICAgICBjb252Rm4oZGF0YSkoc2VsZiQyLmg4LCBzZWxmJDIuaDMyLCBjaHVua09mZnNldCwgY2h1bmtMZW4sIDApO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgLy8gSW5pdGlhbGl6ZSBhbmQgY2FsbCB0aGUgUnVzaGFDb3JlLFxuICAgICAgICAvLyBhc3N1bWluZyBhbiBpbnB1dCBidWZmZXIgb2YgbGVuZ3RoIGxlbiAqIDQuXG4gICAgICAgIGNvcmVDYWxsID0gZnVuY3Rpb24gKGRhdGEsIGNodW5rT2Zmc2V0LCBjaHVua0xlbiwgbXNnTGVuLCBmaW5hbGl6ZSkge1xuICAgICAgICAgICAgdmFyIHBhZENodW5rTGVuID0gY2h1bmtMZW47XG4gICAgICAgICAgICBpZiAoZmluYWxpemUpIHtcbiAgICAgICAgICAgICAgICBwYWRDaHVua0xlbiA9IHBhZENodW5rKGNodW5rTGVuLCBtc2dMZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JpdGUoZGF0YSwgY2h1bmtPZmZzZXQsIGNodW5rTGVuKTtcbiAgICAgICAgICAgIHNlbGYkMi5jb3JlLmhhc2gocGFkQ2h1bmtMZW4sIHNlbGYkMi5wYWRNYXhDaHVua0xlbik7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBnZXRSYXdEaWdlc3QgPSBmdW5jdGlvbiAoaGVhcCwgcGFkTWF4Q2h1bmtMZW4pIHtcbiAgICAgICAgICAgIHZhciBpbyA9IG5ldyBJbnQzMkFycmF5KGhlYXAsIHBhZE1heENodW5rTGVuICsgMzIwLCA1KTtcbiAgICAgICAgICAgIHZhciBvdXQgPSBuZXcgSW50MzJBcnJheSg1KTtcbiAgICAgICAgICAgIHZhciBhcnIgPSBuZXcgRGF0YVZpZXcob3V0LmJ1ZmZlcik7XG4gICAgICAgICAgICBhcnIuc2V0SW50MzIoMCwgaW9bMF0sIGZhbHNlKTtcbiAgICAgICAgICAgIGFyci5zZXRJbnQzMig0LCBpb1sxXSwgZmFsc2UpO1xuICAgICAgICAgICAgYXJyLnNldEludDMyKDgsIGlvWzJdLCBmYWxzZSk7XG4gICAgICAgICAgICBhcnIuc2V0SW50MzIoMTIsIGlvWzNdLCBmYWxzZSk7XG4gICAgICAgICAgICBhcnIuc2V0SW50MzIoMTYsIGlvWzRdLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgLy8gQ2FsY3VsYXRlIHRoZSBoYXNoIGRpZ2VzdCBhcyBhbiBhcnJheSBvZiA1IDMyYml0IGludGVnZXJzLlxuICAgICAgICByYXdEaWdlc3QgPSB0aGlzLnJhd0RpZ2VzdCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgIHZhciBtc2dMZW4gPSBzdHIuYnl0ZUxlbmd0aCB8fCBzdHIubGVuZ3RoIHx8IHN0ci5zaXplIHx8IDA7XG4gICAgICAgICAgICBpbml0U3RhdGUoc2VsZiQyLmhlYXAsIHNlbGYkMi5wYWRNYXhDaHVua0xlbik7XG4gICAgICAgICAgICB2YXIgY2h1bmtPZmZzZXQgPSAwLCBjaHVua0xlbiA9IHNlbGYkMi5tYXhDaHVua0xlbiwgbGFzdDtcbiAgICAgICAgICAgIGZvciAoY2h1bmtPZmZzZXQgPSAwOyBtc2dMZW4gPiBjaHVua09mZnNldCArIGNodW5rTGVuOyBjaHVua09mZnNldCArPSBjaHVua0xlbikge1xuICAgICAgICAgICAgICAgIGNvcmVDYWxsKHN0ciwgY2h1bmtPZmZzZXQsIGNodW5rTGVuLCBtc2dMZW4sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvcmVDYWxsKHN0ciwgY2h1bmtPZmZzZXQsIG1zZ0xlbiAtIGNodW5rT2Zmc2V0LCBtc2dMZW4sIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIGdldFJhd0RpZ2VzdChzZWxmJDIuaGVhcCwgc2VsZiQyLnBhZE1heENodW5rTGVuKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVGhlIGRpZ2VzdCBhbmQgZGlnZXN0RnJvbSogaW50ZXJmYWNlIHJldHVybnMgdGhlIGhhc2ggZGlnZXN0XG4gICAgICAgIC8vIGFzIGEgaGV4IHN0cmluZy5cbiAgICAgICAgdGhpcy5kaWdlc3QgPSB0aGlzLmRpZ2VzdEZyb21TdHJpbmcgPSB0aGlzLmRpZ2VzdEZyb21CdWZmZXIgPSB0aGlzLmRpZ2VzdEZyb21BcnJheUJ1ZmZlciA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBoZXgocmF3RGlnZXN0KHN0cikuYnVmZmVyKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgO1xuICAgIC8vIFRoZSBsb3ctbGV2ZWwgUnVzaENvcmUgbW9kdWxlIHByb3ZpZGVzIHRoZSBoZWFydCBvZiBSdXNoYSxcbiAgICAvLyBhIGhpZ2gtc3BlZWQgc2hhMSBpbXBsZW1lbnRhdGlvbiB3b3JraW5nIG9uIGFuIEludDMyQXJyYXkgaGVhcC5cbiAgICAvLyBBdCBmaXJzdCBnbGFuY2UsIHRoZSBpbXBsZW1lbnRhdGlvbiBzZWVtcyBjb21wbGljYXRlZCwgaG93ZXZlclxuICAgIC8vIHdpdGggdGhlIFNIQTEgc3BlYyBhdCBoYW5kLCBpdCBpcyBvYnZpb3VzIHRoaXMgYWxtb3N0IGEgdGV4dGJvb2tcbiAgICAvLyBpbXBsZW1lbnRhdGlvbiB0aGF0IGhhcyBhIGZldyBmdW5jdGlvbnMgaGFuZC1pbmxpbmVkIGFuZCBhIGZldyBsb29wc1xuICAgIC8vIGhhbmQtdW5yb2xsZWQuXG4gICAgUnVzaGEuX2NvcmUgPSBmdW5jdGlvbiBSdXNoYUNvcmUoc3RkbGliLCBmb3JlaWduLCBoZWFwKSB7XG4gICAgICAgICd1c2UgYXNtJztcbiAgICAgICAgdmFyIEggPSBuZXcgc3RkbGliLkludDMyQXJyYXkoaGVhcCk7XG4gICAgICAgIGZ1bmN0aW9uIGhhc2goaywgeCkge1xuICAgICAgICAgICAgLy8gayBpbiBieXRlc1xuICAgICAgICAgICAgayA9IGsgfCAwO1xuICAgICAgICAgICAgeCA9IHggfCAwO1xuICAgICAgICAgICAgdmFyIGkgPSAwLCBqID0gMCwgeTAgPSAwLCB6MCA9IDAsIHkxID0gMCwgejEgPSAwLCB5MiA9IDAsIHoyID0gMCwgeTMgPSAwLCB6MyA9IDAsIHk0ID0gMCwgejQgPSAwLCB0MCA9IDAsIHQxID0gMDtcbiAgICAgICAgICAgIHkwID0gSFt4ICsgMzIwID4+IDJdIHwgMDtcbiAgICAgICAgICAgIHkxID0gSFt4ICsgMzI0ID4+IDJdIHwgMDtcbiAgICAgICAgICAgIHkyID0gSFt4ICsgMzI4ID4+IDJdIHwgMDtcbiAgICAgICAgICAgIHkzID0gSFt4ICsgMzMyID4+IDJdIHwgMDtcbiAgICAgICAgICAgIHk0ID0gSFt4ICsgMzM2ID4+IDJdIHwgMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IChpIHwgMCkgPCAoayB8IDApOyBpID0gaSArIDY0IHwgMCkge1xuICAgICAgICAgICAgICAgIHowID0geTA7XG4gICAgICAgICAgICAgICAgejEgPSB5MTtcbiAgICAgICAgICAgICAgICB6MiA9IHkyO1xuICAgICAgICAgICAgICAgIHozID0geTM7XG4gICAgICAgICAgICAgICAgejQgPSB5NDtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyAoaiB8IDApIDwgNjQ7IGogPSBqICsgNCB8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdDEgPSBIW2kgKyBqID4+IDJdIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgdDAgPSAoKHkwIDw8IDUgfCB5MCA+Pj4gMjcpICsgKHkxICYgeTIgfCB+eTEgJiB5MykgfCAwKSArICgodDEgKyB5NCB8IDApICsgMTUxODUwMDI0OSB8IDApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgeTQgPSB5MztcbiAgICAgICAgICAgICAgICAgICAgeTMgPSB5MjtcbiAgICAgICAgICAgICAgICAgICAgeTIgPSB5MSA8PCAzMCB8IHkxID4+PiAyO1xuICAgICAgICAgICAgICAgICAgICB5MSA9IHkwO1xuICAgICAgICAgICAgICAgICAgICB5MCA9IHQwO1xuICAgICAgICAgICAgICAgICAgICBIW2sgKyBqID4+IDJdID0gdDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoaiA9IGsgKyA2NCB8IDA7IChqIHwgMCkgPCAoayArIDgwIHwgMCk7IGogPSBqICsgNCB8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdDEgPSAoSFtqIC0gMTIgPj4gMl0gXiBIW2ogLSAzMiA+PiAyXSBeIEhbaiAtIDU2ID4+IDJdIF4gSFtqIC0gNjQgPj4gMl0pIDw8IDEgfCAoSFtqIC0gMTIgPj4gMl0gXiBIW2ogLSAzMiA+PiAyXSBeIEhbaiAtIDU2ID4+IDJdIF4gSFtqIC0gNjQgPj4gMl0pID4+PiAzMTtcbiAgICAgICAgICAgICAgICAgICAgdDAgPSAoKHkwIDw8IDUgfCB5MCA+Pj4gMjcpICsgKHkxICYgeTIgfCB+eTEgJiB5MykgfCAwKSArICgodDEgKyB5NCB8IDApICsgMTUxODUwMDI0OSB8IDApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgeTQgPSB5MztcbiAgICAgICAgICAgICAgICAgICAgeTMgPSB5MjtcbiAgICAgICAgICAgICAgICAgICAgeTIgPSB5MSA8PCAzMCB8IHkxID4+PiAyO1xuICAgICAgICAgICAgICAgICAgICB5MSA9IHkwO1xuICAgICAgICAgICAgICAgICAgICB5MCA9IHQwO1xuICAgICAgICAgICAgICAgICAgICBIW2ogPj4gMl0gPSB0MTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChqID0gayArIDgwIHwgMDsgKGogfCAwKSA8IChrICsgMTYwIHwgMCk7IGogPSBqICsgNCB8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdDEgPSAoSFtqIC0gMTIgPj4gMl0gXiBIW2ogLSAzMiA+PiAyXSBeIEhbaiAtIDU2ID4+IDJdIF4gSFtqIC0gNjQgPj4gMl0pIDw8IDEgfCAoSFtqIC0gMTIgPj4gMl0gXiBIW2ogLSAzMiA+PiAyXSBeIEhbaiAtIDU2ID4+IDJdIF4gSFtqIC0gNjQgPj4gMl0pID4+PiAzMTtcbiAgICAgICAgICAgICAgICAgICAgdDAgPSAoKHkwIDw8IDUgfCB5MCA+Pj4gMjcpICsgKHkxIF4geTIgXiB5MykgfCAwKSArICgodDEgKyB5NCB8IDApICsgMTg1OTc3NTM5MyB8IDApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgeTQgPSB5MztcbiAgICAgICAgICAgICAgICAgICAgeTMgPSB5MjtcbiAgICAgICAgICAgICAgICAgICAgeTIgPSB5MSA8PCAzMCB8IHkxID4+PiAyO1xuICAgICAgICAgICAgICAgICAgICB5MSA9IHkwO1xuICAgICAgICAgICAgICAgICAgICB5MCA9IHQwO1xuICAgICAgICAgICAgICAgICAgICBIW2ogPj4gMl0gPSB0MTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChqID0gayArIDE2MCB8IDA7IChqIHwgMCkgPCAoayArIDI0MCB8IDApOyBqID0gaiArIDQgfCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHQxID0gKEhbaiAtIDEyID4+IDJdIF4gSFtqIC0gMzIgPj4gMl0gXiBIW2ogLSA1NiA+PiAyXSBeIEhbaiAtIDY0ID4+IDJdKSA8PCAxIHwgKEhbaiAtIDEyID4+IDJdIF4gSFtqIC0gMzIgPj4gMl0gXiBIW2ogLSA1NiA+PiAyXSBeIEhbaiAtIDY0ID4+IDJdKSA+Pj4gMzE7XG4gICAgICAgICAgICAgICAgICAgIHQwID0gKCh5MCA8PCA1IHwgeTAgPj4+IDI3KSArICh5MSAmIHkyIHwgeTEgJiB5MyB8IHkyICYgeTMpIHwgMCkgKyAoKHQxICsgeTQgfCAwKSAtIDE4OTQwMDc1ODggfCAwKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgIHk0ID0geTM7XG4gICAgICAgICAgICAgICAgICAgIHkzID0geTI7XG4gICAgICAgICAgICAgICAgICAgIHkyID0geTEgPDwgMzAgfCB5MSA+Pj4gMjtcbiAgICAgICAgICAgICAgICAgICAgeTEgPSB5MDtcbiAgICAgICAgICAgICAgICAgICAgeTAgPSB0MDtcbiAgICAgICAgICAgICAgICAgICAgSFtqID4+IDJdID0gdDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoaiA9IGsgKyAyNDAgfCAwOyAoaiB8IDApIDwgKGsgKyAzMjAgfCAwKTsgaiA9IGogKyA0IHwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0MSA9IChIW2ogLSAxMiA+PiAyXSBeIEhbaiAtIDMyID4+IDJdIF4gSFtqIC0gNTYgPj4gMl0gXiBIW2ogLSA2NCA+PiAyXSkgPDwgMSB8IChIW2ogLSAxMiA+PiAyXSBeIEhbaiAtIDMyID4+IDJdIF4gSFtqIC0gNTYgPj4gMl0gXiBIW2ogLSA2NCA+PiAyXSkgPj4+IDMxO1xuICAgICAgICAgICAgICAgICAgICB0MCA9ICgoeTAgPDwgNSB8IHkwID4+PiAyNykgKyAoeTEgXiB5MiBeIHkzKSB8IDApICsgKCh0MSArIHk0IHwgMCkgLSA4OTk0OTc1MTQgfCAwKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgIHk0ID0geTM7XG4gICAgICAgICAgICAgICAgICAgIHkzID0geTI7XG4gICAgICAgICAgICAgICAgICAgIHkyID0geTEgPDwgMzAgfCB5MSA+Pj4gMjtcbiAgICAgICAgICAgICAgICAgICAgeTEgPSB5MDtcbiAgICAgICAgICAgICAgICAgICAgeTAgPSB0MDtcbiAgICAgICAgICAgICAgICAgICAgSFtqID4+IDJdID0gdDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHkwID0geTAgKyB6MCB8IDA7XG4gICAgICAgICAgICAgICAgeTEgPSB5MSArIHoxIHwgMDtcbiAgICAgICAgICAgICAgICB5MiA9IHkyICsgejIgfCAwO1xuICAgICAgICAgICAgICAgIHkzID0geTMgKyB6MyB8IDA7XG4gICAgICAgICAgICAgICAgeTQgPSB5NCArIHo0IHwgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEhbeCArIDMyMCA+PiAyXSA9IHkwO1xuICAgICAgICAgICAgSFt4ICsgMzI0ID4+IDJdID0geTE7XG4gICAgICAgICAgICBIW3ggKyAzMjggPj4gMl0gPSB5MjtcbiAgICAgICAgICAgIEhbeCArIDMzMiA+PiAyXSA9IHkzO1xuICAgICAgICAgICAgSFt4ICsgMzM2ID4+IDJdID0geTQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgaGFzaDogaGFzaCB9O1xuICAgIH07XG4gICAgZXhwb3J0cyA9IFJ1c2hhO1xuICAgIGlmICgvLyBJZiB3ZSdlIHJ1bm5pbmcgaW4gTm9kZS5KUywgZXhwb3J0IGEgbW9kdWxlLlxuICAgICAgICB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IFJ1c2hhO1xuICAgIH0gZWxzZSB7Ly8gSWYgd2UncmUgcnVubmluZyBpbiBBZGJsb2NrIFBsdXMsIGV4cG9ydCBhIG1vZHVsZS5cbiAgICAgICAgZXhwb3J0cyA9IFJ1c2hhO1xuICAgIH1cbiAgICBpZiAoLy8gSWYgd2UncmUgcnVubmluZyBpbiBhIHdlYndvcmtlciwgYWNjZXB0XG4gICAgICAgIC8vIG1lc3NhZ2VzIGNvbnRhaW5pbmcgYSBqb2JpZCBhbmQgYSBidWZmZXJcbiAgICAgICAgLy8gb3IgYmxvYiBvYmplY3QsIGFuZCByZXR1cm4gdGhlIGhhc2ggcmVzdWx0LlxuICAgICAgICB0eXBlb2YgRmlsZVJlYWRlclN5bmMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlclN5bmMoKSwgaGFzaGVyID0gbmV3IFJ1c2hhKDQgKiAxMDI0ICogMTAyNCk7XG4gICAgICAgIHNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24gb25NZXNzYWdlKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaGFzaCwgZGF0YSA9IGV2ZW50LmRhdGEuZGF0YTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaGFzaCA9IGhhc2hlci5kaWdlc3QoZGF0YSk7XG4gICAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBldmVudC5kYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICBoYXNoOiBoYXNoXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBldmVudC5kYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZS5uYW1lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufSgpKTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi8qKiBAbW9kdWxlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBmaWxlIFNuaXBwZXRzIGltcGxlbWVudGF0aW9uLlxuICovXG5cbmNvbnN0IHtFdmVudEVtaXR0ZXJ9ID0gcmVxdWlyZShcIi4vZXZlbnRzXCIpO1xuXG5sZXQgc2luZ2xlQ2hhcmFjdGVyRXNjYXBlcyA9IG5ldyBNYXAoW1xuICBbXCJuXCIsIFwiXFxuXCJdLCBbXCJyXCIsIFwiXFxyXCJdLCBbXCJ0XCIsIFwiXFx0XCJdXG5dKTtcblxuLyoqXG4gKiBge0BsaW5rIG1vZHVsZTpzbmlwcGV0cy5zbmlwcGV0cyBzbmlwcGV0c31gIGltcGxlbWVudGF0aW9uLlxuICovXG5jbGFzcyBTbmlwcGV0cyBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIC8qKlxuICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQWxsIGtub3duIHNuaXBwZXQgZmlsdGVycy5cbiAgICAgKiBAdHlwZSB7U2V0Ljxtb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5TbmlwcGV0RmlsdGVyPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZpbHRlcnMgPSBuZXcgU2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwga25vd24gc25pcHBldCBmaWx0ZXJzLlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgbGV0IHtfZmlsdGVyc30gPSB0aGlzO1xuXG4gICAgaWYgKF9maWx0ZXJzLnNpemUgPT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF9maWx0ZXJzLmNsZWFyKCk7XG5cbiAgICB0aGlzLmVtaXQoXCJzbmlwcGV0cy5maWx0ZXJzQ2xlYXJlZFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgbmV3IHNuaXBwZXQgZmlsdGVyLlxuICAgKiBAcGFyYW0ge21vZHVsZTpmaWx0ZXJDbGFzc2VzLlNuaXBwZXRGaWx0ZXJ9IGZpbHRlclxuICAgKi9cbiAgYWRkKGZpbHRlcikge1xuICAgIGxldCB7X2ZpbHRlcnN9ID0gdGhpcztcbiAgICBsZXQge3NpemV9ID0gX2ZpbHRlcnM7XG5cbiAgICBfZmlsdGVycy5hZGQoZmlsdGVyKTtcblxuICAgIGlmIChzaXplICE9IF9maWx0ZXJzLnNpemUpIHtcbiAgICAgIHRoaXMuZW1pdChcInNuaXBwZXRzLmZpbHRlckFkZGVkXCIsIGZpbHRlcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gZXhpc3Rpbmcgc25pcHBldCBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuU25pcHBldEZpbHRlcn0gZmlsdGVyXG4gICAqL1xuICByZW1vdmUoZmlsdGVyKSB7XG4gICAgbGV0IHtfZmlsdGVyc30gPSB0aGlzO1xuICAgIGxldCB7c2l6ZX0gPSBfZmlsdGVycztcblxuICAgIF9maWx0ZXJzLmRlbGV0ZShmaWx0ZXIpO1xuXG4gICAgaWYgKHNpemUgIT0gX2ZpbHRlcnMuc2l6ZSkge1xuICAgICAgdGhpcy5lbWl0KFwic25pcHBldHMuZmlsdGVyUmVtb3ZlZFwiLCBmaWx0ZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciBhIHNuaXBwZXQgZmlsdGVyIGV4aXN0cy5cbiAgICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5TbmlwcGV0RmlsdGVyfSBmaWx0ZXJcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXMoZmlsdGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbHRlcnMuaGFzKGZpbHRlcik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgYWxsIHNuaXBwZXQgZmlsdGVycyBhY3RpdmUgb24gdGhlIGdpdmVuIGRvbWFpbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluLlxuICAgKiBAcmV0dXJucyB7QXJyYXkuPG1vZHVsZTpmaWx0ZXJDbGFzc2VzLlNuaXBwZXRGaWx0ZXI+fSBBIGxpc3Qgb2Ygc25pcHBldFxuICAgKiAgIGZpbHRlcnMuXG4gICAqL1xuICBnZXRGaWx0ZXJzKGRvbWFpbikge1xuICAgIGxldCByZXN1bHQgPSBbXTtcblxuICAgIGZvciAobGV0IGZpbHRlciBvZiB0aGlzLl9maWx0ZXJzKSB7XG4gICAgICBpZiAoZmlsdGVyLmlzQWN0aXZlT25Eb21haW4oZG9tYWluKSkge1xuICAgICAgICByZXN1bHQucHVzaChmaWx0ZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgYWxsIHNuaXBwZXQgZmlsdGVycyBhY3RpdmUgb24gdGhlIGdpdmVuIGRvbWFpbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluLlxuICAgKiBAcmV0dXJucyB7QXJyYXkuPG1vZHVsZTpmaWx0ZXJDbGFzc2VzLlNuaXBwZXRGaWx0ZXI+fSBBIGxpc3Qgb2Ygc25pcHBldFxuICAgKiAgIGZpbHRlcnMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIFVzZSA8Y29kZT57QGxpbmsgbW9kdWxlOnNuaXBwZXRzflNuaXBwZXRzI2dldEZpbHRlcnN9PC9jb2RlPlxuICAgKiAgIGluc3RlYWQuXG4gICAqIEBzZWUgbW9kdWxlOnNuaXBwZXRzflNuaXBwZXRzI2dldEZpbHRlcnNcbiAgICovXG4gIGdldEZpbHRlcnNGb3JEb21haW4oZG9tYWluKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RmlsdGVycyhkb21haW4pO1xuICB9XG59XG5cbi8qKlxuICogQ29udGFpbmVyIGZvciBzbmlwcGV0IGZpbHRlcnMuXG4gKi9cbmV4cG9ydHMuU25pcHBldHMgPSBTbmlwcGV0cztcblxubGV0IHBhcnNlU2NyaXB0ID1cbi8qKlxuICogUGFyc2VzIGEgc2NyaXB0IGFuZCByZXR1cm5zIGEgbGlzdCBvZiBhbGwgaXRzIGNvbW1hbmRzIGFuZCB0aGVpciBhcmd1bWVudHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2NyaXB0IFRoZSBzY3JpcHQuXG4gKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZ1tdPn0gQSBsaXN0IG9mIGNvbW1hbmRzIGFuZCB0aGVpciBhcmd1bWVudHMuXG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLnBhcnNlU2NyaXB0ID0gZnVuY3Rpb24gcGFyc2VTY3JpcHQoc2NyaXB0KSB7XG4gIGxldCB0cmVlID0gW107XG5cbiAgbGV0IGVzY2FwZSA9IGZhbHNlO1xuICBsZXQgd2l0aGluUXVvdGVzID0gZmFsc2U7XG5cbiAgbGV0IHVuaWNvZGVFc2NhcGUgPSBudWxsO1xuXG4gIGxldCBxdW90ZXNDbG9zZWQgPSBmYWxzZTtcblxuICBsZXQgY2FsbCA9IFtdO1xuICBsZXQgYXJndW1lbnQgPSBcIlwiO1xuXG4gIGZvciAobGV0IGNoYXJhY3RlciBvZiBzY3JpcHQudHJpbSgpICsgXCI7XCIpIHtcbiAgICBsZXQgYWZ0ZXJRdW90ZXNDbG9zZWQgPSBxdW90ZXNDbG9zZWQ7XG4gICAgcXVvdGVzQ2xvc2VkID0gZmFsc2U7XG5cbiAgICBpZiAodW5pY29kZUVzY2FwZSAhPSBudWxsKSB7XG4gICAgICB1bmljb2RlRXNjYXBlICs9IGNoYXJhY3RlcjtcblxuICAgICAgaWYgKHVuaWNvZGVFc2NhcGUubGVuZ3RoID09IDQpIHtcbiAgICAgICAgbGV0IGNvZGVQb2ludCA9IHBhcnNlSW50KHVuaWNvZGVFc2NhcGUsIDE2KTtcbiAgICAgICAgaWYgKCFpc05hTihjb2RlUG9pbnQpKSB7XG4gICAgICAgICAgYXJndW1lbnQgKz0gU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZVBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVuaWNvZGVFc2NhcGUgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChlc2NhcGUpIHtcbiAgICAgIGVzY2FwZSA9IGZhbHNlO1xuXG4gICAgICBpZiAoY2hhcmFjdGVyID09IFwidVwiKSB7XG4gICAgICAgIHVuaWNvZGVFc2NhcGUgPSBcIlwiO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGFyZ3VtZW50ICs9IHNpbmdsZUNoYXJhY3RlckVzY2FwZXMuZ2V0KGNoYXJhY3RlcikgfHwgY2hhcmFjdGVyO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChjaGFyYWN0ZXIgPT0gXCJcXFxcXCIpIHtcbiAgICAgIGVzY2FwZSA9IHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoYXJhY3RlciA9PSBcIidcIikge1xuICAgICAgd2l0aGluUXVvdGVzID0gIXdpdGhpblF1b3RlcztcblxuICAgICAgaWYgKCF3aXRoaW5RdW90ZXMpIHtcbiAgICAgICAgcXVvdGVzQ2xvc2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAod2l0aGluUXVvdGVzIHx8IGNoYXJhY3RlciAhPSBcIjtcIiAmJiAhL1xccy8udGVzdChjaGFyYWN0ZXIpKSB7XG4gICAgICBhcmd1bWVudCArPSBjaGFyYWN0ZXI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKGFyZ3VtZW50IHx8IGFmdGVyUXVvdGVzQ2xvc2VkKSB7XG4gICAgICAgIGNhbGwucHVzaChhcmd1bWVudCk7XG4gICAgICAgIGFyZ3VtZW50ID0gXCJcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoYXJhY3RlciA9PSBcIjtcIiAmJiBjYWxsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdHJlZS5wdXNoKGNhbGwpO1xuICAgICAgICBjYWxsID0gW107XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRyZWU7XG59O1xuXG4vKipcbiAqIENvbXBpbGVzIGEgc2NyaXB0IGFnYWluc3QgYSBnaXZlbiBsaXN0IG9mIGxpYnJhcmllcywgcGFzc2VkIGFzIEpTT05cbiAqIHNlcmlhbGl6ZWQgc3RyaW5nLCBvciBhIGFuIGFycmF5IG9mIHN0cmluZ3MsIGludG8gZXhlY3V0YWJsZSBjb2RlLlxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXkuPHN0cmluZz59IHNjcmlwdHMgT25lIG9yIG1vcmUgc2NyaXB0cyB0byBjb252ZXJ0IGludG9cbiAqICBleGVjdXRhYmxlIGNvZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gaXNvbGF0ZWRTbmlwcGV0c0xpYnJhcnkgVGhlIHN0cmluZ2lmaWVkIGJ1bmRsZSB0byBiZSBleGVjdXRlZFxuICogaW4gdGhlIGlzb2xhdGVkIGNvbnRlbnQgc2NyaXB0IGNvbnRleHQuXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5qZWN0ZWRTbmlwcGV0c0xpYnJhcnkgVGhlIHN0cmluZ2lmaWVkIGJ1bmRsZSB0byBiZSBpbmplY3RlZFxuICogYW5kIGV4ZWN1dGVkIGluIHRoZSBtYWluIGNvbnRleHQuXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheS48c3RyaW5nPn0gaW5qZWN0ZWRTbmlwcGV0c0xpc3QgQW4gYXJyYXkgY29udGFpbmluZyB0aGVcbiAqIGF2YWlsYWJsZSBpbmplY3RhYmxlIHNuaXBwZXRzLlxuICogQHBhcmFtIHtvYmplY3R9IFtlbnZpcm9ubWVudF0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgZW52aXJvbm1lbnQgdmFyaWFibGVzLlxuICogQHJldHVybnMge3N0cmluZ30gRXhlY3V0YWJsZSBjb2RlLlxuICovXG5leHBvcnRzLmNvbXBpbGVTY3JpcHQgPSBmdW5jdGlvbiBjb21waWxlU2NyaXB0KHNjcmlwdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzb2xhdGVkU25pcHBldHNMaWJyYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmplY3RlZFNuaXBwZXRzTGlicmFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRTbmlwcGV0c0xpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudmlyb25tZW50ID0ge30pIHtcbiAgbGV0IGlzb2xhdGVkTGliID0gSlNPTi5zdHJpbmdpZnkoaXNvbGF0ZWRTbmlwcGV0c0xpYnJhcnkpO1xuICBsZXQgaW5qZWN0ZWRMaWIgPSBKU09OLnN0cmluZ2lmeShpbmplY3RlZFNuaXBwZXRzTGlicmFyeSk7XG4gIGxldCBqc29uRW52ID0gSlNPTi5zdHJpbmdpZnkoZW52aXJvbm1lbnQpO1xuICByZXR1cm4gYFxuICAgIFwidXNlIHN0cmljdFwiO1xuICAgICgoKSA9PiBcbiAgICB7XG4gICAgICBsZXQgc2NyaXB0cyA9ICR7SlNPTi5zdHJpbmdpZnkoW10uY29uY2F0KHNjcmlwdHMpLm1hcChwYXJzZVNjcmlwdCkpfTtcblxuICAgICAgbGV0IGlzb2xhdGVkTGliID0gJHtpc29sYXRlZExpYn07XG4gICAgICBsZXQgaW1wb3J0cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBsZXQgaW5qZWN0ZWRTbmlwcGV0c0NvdW50ID0gMDtcbiAgICAgIGxldCBsb2FkTGlicmFyeSA9IG5ldyBGdW5jdGlvbihcImV4cG9ydHNcIiwgXCJlbnZpcm9ubWVudFwiLCBpc29sYXRlZExpYik7XG4gICAgICBsb2FkTGlicmFyeShpbXBvcnRzLCAke2pzb25FbnZ9KTtcbiAgICAgIGNvbnN0IGlzb2xhdGVkU25pcHBldHMgPSBpbXBvcnRzLnNuaXBwZXRzO1xuXG4gICAgICBsZXQgaW5qZWN0ZWRMaWIgPSAke2luamVjdGVkTGlifTtcbiAgICAgIGxldCBpbmplY3RlZFNuaXBwZXRzTGlzdCA9ICR7SlNPTi5zdHJpbmdpZnkoaW5qZWN0ZWRTbmlwcGV0c0xpc3QpfTtcbiAgICAgIGxldCBleGVjdXRhYmxlID0gXCIoKCkgPT4ge1wiO1xuICAgICAgZXhlY3V0YWJsZSArPSBcImxldCBlbnZpcm9ubWVudCA9ICR7anNvbkVudi5yZXBsYWNlKC9bXFxcXFwiXS9nLCBcIlxcXFwkJlwiKX07XCI7XG4gICAgICBleGVjdXRhYmxlICs9IGluamVjdGVkTGliO1xuXG4gICAgICBsZXQge2hhc093blByb3BlcnR5fSA9IE9iamVjdC5wcm90b3R5cGU7XG4gICAgICBmb3IgKGxldCBzY3JpcHQgb2Ygc2NyaXB0cylcbiAgICAgIHtcbiAgICAgICAgZm9yIChsZXQgW25hbWUsIC4uLmFyZ3NdIG9mIHNjcmlwdClcbiAgICAgICAge1xuICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGlzb2xhdGVkU25pcHBldHMsIG5hbWUpKVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGlzb2xhdGVkU25pcHBldHNbbmFtZV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgdmFsdWUoLi4uYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmplY3RlZFNuaXBwZXRzTGlzdC5pbmNsdWRlcyhuYW1lKSlcbiAgICAgICAgICB7XG4gICAgICAgICAgICBleGVjdXRhYmxlICs9IHN0cmluZ2lmeUZ1bmN0aW9uQ2FsbChuYW1lLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIGluamVjdGVkU25pcHBldHNDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBleGVjdXRhYmxlICs9IFwifSkoKTtcIjtcblxuICAgICAgaWYgKGluamVjdGVkU25pcHBldHNDb3VudCA+IDApXG4gICAgICAgIGluamVjdFNuaXBwZXRzSW5NYWluQ29udGV4dChleGVjdXRhYmxlKTtcblxuICAgICAgZnVuY3Rpb24gc3RyaW5naWZ5RnVuY3Rpb25DYWxsKGZ1bmMsIC4uLnBhcmFtcylcbiAgICAgIHtcbiAgICAgICAgLy8gQ2FsbCBKU09OLnN0cmluZ2lmeSBvbiB0aGUgYXJndW1lbnRzIHRvIGF2b2lkIGFueSBhcmJpdHJhcnkgY29kZVxuICAgICAgICAvLyBleGVjdXRpb24uXG4gICAgICAgIGNvbnN0IGYgPSBcInNuaXBwZXRzWydcIiArIGZ1bmMgKyBcIiddXCI7XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBwYXJhbXMubWFwKEpTT04uc3RyaW5naWZ5KS5qb2luKFwiLFwiKTtcbiAgICAgICAgcmV0dXJuIGYgKyBcIihcIiArIHBhcmFtZXRlcnMgKyBcIik7XCI7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGluamVjdFNuaXBwZXRzSW5NYWluQ29udGV4dChleGVjKVxuICAgICAge1xuICAgICAgICAvLyBpbmplY3RpbmcgcGhhc2VcbiAgICAgICAgbGV0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgIHNjcmlwdC50eXBlID0gXCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCI7XG4gICAgICAgIHNjcmlwdC5hc3luYyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEZpcmVmb3ggNTggb25seSBieXBhc3NlcyBzaXRlIENTUHMgd2hlbiBhc3NpZ25pbmcgdG8gJ3NyYycsXG4gICAgICAgIC8vIHdoaWxlIENocm9tZSA2NyBhbmQgTWljcm9zb2Z0IEVkZ2UgKHRlc3RlZCBvbiA0NC4xNzc2My4xLjApXG4gICAgICAgIC8vIG9ubHkgYnlwYXNzIHNpdGUgQ1NQcyB3aGVuIHVzaW5nICd0ZXh0Q29udGVudCcuXG4gICAgICAgIGlmICh0eXBlb2YgbmV0c2NhcGUgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgYnJvd3NlciAhPSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB7XG4gICAgICAgICAgbGV0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2V4ZWNdKSk7XG4gICAgICAgICAgc2NyaXB0LnNyYyA9IHVybDtcbiAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgc2NyaXB0LnRleHRDb250ZW50ID0gZXhlYztcbiAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gIGA7XG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLyoqIEBtb2R1bGUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGZpbGUgRGVmaW5pdGlvbiBvZiBTdWJzY3JpcHRpb24gY2xhc3MgYW5kIGl0cyBzdWJjbGFzc2VzLlxuICovXG5cbmNvbnN0IHtyZWNvbW1lbmRhdGlvbnN9ID0gcmVxdWlyZShcIi4vcmVjb21tZW5kYXRpb25zXCIpO1xuY29uc3Qge2lzQWN0aXZlRmlsdGVyLCBGaWx0ZXJ9ID0gcmVxdWlyZShcIi4vZmlsdGVyQ2xhc3Nlc1wiKTtcbmNvbnN0IHtmaWx0ZXJOb3RpZmllcn0gPSByZXF1aXJlKFwiLi9maWx0ZXJOb3RpZmllclwiKTtcbmNvbnN0IHtEb3dubG9hZGVyfSA9IHJlcXVpcmUoXCIuL2Rvd25sb2FkZXJcIik7XG5cbmxldCBfcmVjb21tZW5kYXRpb25zQnlVUkwgPSBudWxsO1xuXG4vKipcbiAqIENsZWFuIHRoZSBtYXBzIGNhY2hlXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydHMuX2NsZWFuID0gZnVuY3Rpb24oKSB7XG4gIF9yZWNvbW1lbmRhdGlvbnNCeVVSTCA9IG51bGw7XG4gIF91cmxCeU12MlVSTCA9IG51bGw7XG59O1xuXG4vKipcbiAqIFN1YnNjcmlwdGlvbiByZWNvbW1lbmRhdGlvbiBieSBVUkwuXG4gKlxuICogSWYgYFN1YnNjcmlwdGlvbi5kbnJgIGlzIGZhbHNleSB0aGVuIHRoZSBtdjJVUkwgaXMgdGhlIGFjdHVhbCBVUkxcbiAqIGFzIHdlIHdvdWxkIGhhdmUgd2l0aCBtYW5pZmVzdCB2Mi5cbiAqXG4gKiBAcmV0dXJucyB7TWFwLjxzdHJpbmcsIFJlY29tbWVuZGF0aW9uPn1cbiAqL1xuZnVuY3Rpb24gcmVjb21tZW5kYXRpb25zQnlVUkwoKSB7XG4gIGlmIChfcmVjb21tZW5kYXRpb25zQnlVUkwpIHtcbiAgICByZXR1cm4gX3JlY29tbWVuZGF0aW9uc0J5VVJMO1xuICB9XG5cbiAgX3JlY29tbWVuZGF0aW9uc0J5VVJMID0gbmV3IE1hcCgpO1xuXG4gIGZvciAobGV0IHJlY29tbWVuZGF0aW9uIG9mIHJlY29tbWVuZGF0aW9ucygpKSB7XG4gICAgaWYgKFN1YnNjcmlwdGlvbi5kbnIgJiYgcmVjb21tZW5kYXRpb24udXJsKSB7XG4gICAgICBfcmVjb21tZW5kYXRpb25zQnlVUkwuc2V0KHJlY29tbWVuZGF0aW9uLnVybCwgcmVjb21tZW5kYXRpb24pO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWNvbW1lbmRhdGlvbi5tdjJVUkwpIHtcbiAgICAgIF9yZWNvbW1lbmRhdGlvbnNCeVVSTC5zZXQocmVjb21tZW5kYXRpb24ubXYyVVJMLCByZWNvbW1lbmRhdGlvbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBfcmVjb21tZW5kYXRpb25zQnlVUkw7XG59XG5cbmxldCBfdXJsQnlNdjJVUkwgPSBudWxsO1xuXG4vKipcbiAqIFN1YnNjcmlwdGlvbiBVUkwgYnkgbXYyX3VybC5cbiAqXG4gKiBAcmV0dXJucyB7TWFwLjxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmZ1bmN0aW9uIHVybEJ5TXYyVVJMKCkge1xuICBpZiAoX3VybEJ5TXYyVVJMKSB7XG4gICAgcmV0dXJuIF91cmxCeU12MlVSTDtcbiAgfVxuXG4gIF91cmxCeU12MlVSTCA9IG5ldyBNYXAoKTtcbiAgZm9yIChsZXQgcmVjb21tZW5kYXRpb24gb2YgcmVjb21tZW5kYXRpb25zKCkpIHtcbiAgICBpZiAocmVjb21tZW5kYXRpb24ubXYyVVJMKSB7XG4gICAgICBfdXJsQnlNdjJVUkwuc2V0KHJlY29tbWVuZGF0aW9uLm12MlVSTCwgcmVjb21tZW5kYXRpb24udXJsKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIF91cmxCeU12MlVSTDtcbn1cblxubGV0IFN1YnNjcmlwdGlvbiA9XG4vKipcbiAqIFRoZSBgU3Vic2NyaXB0aW9uYCBjbGFzcyByZXByZXNlbnRzIGEgZmlsdGVyIHN1YnNjcmlwdGlvbi5cbiAqIEBhYnN0cmFjdFxuICovXG5leHBvcnRzLlN1YnNjcmlwdGlvbiA9IGNsYXNzIFN1YnNjcmlwdGlvbiB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgYFN1YnNjcmlwdGlvbmAgb2JqZWN0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgb2YgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFt0aXRsZV0gVGhlIHRpdGxlIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih1cmwsIHRpdGxlKSB7XG4gICAgLyoqXG4gICAgICogVGhlIFVSTCBvZiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQHNlZSBtb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5TdWJzY3JpcHRpb24jdXJsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl91cmwgPSB1cmw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBVUkwgb2YgdGhlIHN1YnNjcmlwdGlvbiBpcyBhIHZhbGlkIHN1YnNjcmlwdGlvbiBVUkwuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAc2VlIG1vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbiN2YWxpZFxuICAgICAqL1xuICAgIHRoaXMuX3VybFZhbGlkID0gU3Vic2NyaXB0aW9uLmlzVmFsaWRVUkwodXJsKTtcblxuICAgIGxldCByZWNvbW1lbmRhdGlvbiA9IHJlY29tbWVuZGF0aW9uc0J5VVJMKCkuZ2V0KHVybCk7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCA8Y29kZT5udWxsPC9jb2RlPlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHNlZSBtb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5TdWJzY3JpcHRpb24jdHlwZVxuICAgICAqL1xuICAgIHRoaXMuX3R5cGUgPSByZWNvbW1lbmRhdGlvbiA/IHJlY29tbWVuZGF0aW9uLnR5cGUgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIChVVUlEKSBvZiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IDxjb2RlPm51bGw8L2NvZGU+XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9pZCA9IHJlY29tbWVuZGF0aW9uID8gcmVjb21tZW5kYXRpb24uaWQgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHRleHQgY29udGFpbmVkIGluIHRoZSBzdWJzY3JpcHRpb24uXG4gICAgICogQHR5cGUge0FycmF5LjxzdHJpbmc+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fZmlsdGVyVGV4dCA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQSBzZWFyY2hhYmxlIGluZGV4IG9mIGZpbHRlciB0ZXh0IGluIHRoZSBzdWJzY3JpcHRpb24uXG4gICAgICogQHR5cGUge1NldC48c3RyaW5nPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZpbHRlclRleHRJbmRleCA9IG5ldyBTZXQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aXRsZSBvZiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IDxjb2RlPm51bGw8L2NvZGU+XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAc2VlIG1vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbiN0aXRsZVxuICAgICAqL1xuICAgIHRoaXMuX3RpdGxlID0gbnVsbDtcblxuICAgIGlmICh0aXRsZSkge1xuICAgICAgdGhpcy5fdGl0bGUgPSB0aXRsZTtcbiAgICB9XG5cbiAgICB0aGlzLl9wcml2aWxlZ2VkID0gcmVjb21tZW5kYXRpb24gPyByZWNvbW1lbmRhdGlvbi5wcml2aWxlZ2VkIDogZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0aXRsZSBvZiB0aGUgc3Vic2NyaXB0aW9uIGlzIG5vbi1lZGl0YWJsZS5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCA8Y29kZT5mYWxzZTwvY29kZT5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBzZWUgbW9kdWxlOnN1YnNjcmlwdGlvbkNsYXNzZXMuU3Vic2NyaXB0aW9uI2ZpeGVkVGl0bGVcbiAgICAgKi9cbiAgICB0aGlzLl9maXhlZFRpdGxlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzdWJzY3JpcHRpb24gaXMgZGlzYWJsZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgPGNvZGU+ZmFsc2U8L2NvZGU+XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAc2VlIG1vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbiNkaXNhYmxlZFxuICAgICAqL1xuICAgIHRoaXMuX2Rpc2FibGVkID0gZmFsc2U7XG5cbiAgICBTdWJzY3JpcHRpb24ua25vd25TdWJzY3JpcHRpb25zLnNldCh1cmwsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBpZCAoVVVJRCkgb2YgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIFVSTCBvZiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0IHVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXJsO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHN1YnNjcmlwdGlvbiBpcyB2YWxpZC5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBnZXQgdmFsaWQoKSB7XG4gICAgLy8gVGhpcyBzaG91bGQgcmV0dXJuIGEgdmFsdWUgYmFzZWQgb24gU3Vic2NyaXB0aW9uI191cmxWYWxpZCBhZnRlclxuICAgIC8vIGh0dHBzOi8vZ2l0bGFiLmNvbS9leWVvL2FkYmxvY2twbHVzL2FicHVpL2FkYmxvY2twbHVzdWkvLS9pc3N1ZXMvNzUzXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICogQHR5cGUgez9zdHJpbmd9XG4gICAqIEBkZWZhdWx0IDxjb2RlPm51bGw8L2NvZGU+XG4gICAqL1xuICBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcnVlIGlmIHRoaXMgc3Vic2NyaXB0aW9uIGNhbiBsb2FkIGZpbHRlcnMgdGhhdCByZXF1aXJlXG4gICAqIHByaXZpbGVnZWQgYWNjZXNzLCBsaWtlIHNuaXBwZXRzLiBEZWZhdWx0cyB0byB0aGUgcmVzdWx0IG9mIHRoZSB0eXBlIGJlaW5nXG4gICAqIFwiY2lyY3VtdmVudGlvblwiIGlmIHRoaXMgdmFsdWUgaXMgbnVsbFxuICAgKiBAdHlwZSB7Ym9vbH1cbiAgICovXG4gIGdldCBwcml2aWxlZ2VkKCkge1xuICAgIGlmICh0aGlzLl9wcml2aWxlZ2VkID09IG51bGwpIHtcbiAgICAgIHJldHVybiB0aGlzLl90eXBlID09PSBcImNpcmN1bXZlbnRpb25cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fcHJpdmlsZWdlZDtcbiAgfVxuXG4gIHNldCBwcml2aWxlZ2VkKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB0aGlzLl9wcml2aWxlZ2VkKSB7XG4gICAgICBsZXQgb2xkVmFsdWUgPSB0aGlzLl9wcml2aWxlZ2VkO1xuICAgICAgdGhpcy5fcHJpdmlsZWdlZCA9IHZhbHVlO1xuICAgICAgZmlsdGVyTm90aWZpZXIuZW1pdChcInN1YnNjcmlwdGlvbi5wcml2aWxlZ2VkXCIsIHRoaXMsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB0aXRsZSBvZiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0IHRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgfVxuXG4gIHNldCB0aXRsZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPSB0aGlzLl90aXRsZSkge1xuICAgICAgbGV0IG9sZFZhbHVlID0gdGhpcy5fdGl0bGU7XG4gICAgICB0aGlzLl90aXRsZSA9IHZhbHVlO1xuICAgICAgZmlsdGVyTm90aWZpZXIuZW1pdChcInN1YnNjcmlwdGlvbi50aXRsZVwiLCB0aGlzLCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSB0aXRsZSBvZiB0aGUgc3Vic2NyaXB0aW9uIGlzIG5vbi1lZGl0YWJsZS5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IDxjb2RlPmZhbHNlPC9jb2RlPlxuICAgKi9cbiAgZ2V0IGZpeGVkVGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpeGVkVGl0bGU7XG4gIH1cblxuICBzZXQgZml4ZWRUaXRsZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPSB0aGlzLl9maXhlZFRpdGxlKSB7XG4gICAgICBsZXQgb2xkVmFsdWUgPSB0aGlzLl9maXhlZFRpdGxlO1xuICAgICAgdGhpcy5fZml4ZWRUaXRsZSA9IHZhbHVlO1xuICAgICAgZmlsdGVyTm90aWZpZXIuZW1pdChcInN1YnNjcmlwdGlvbi5maXhlZFRpdGxlXCIsIHRoaXMsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHN1YnNjcmlwdGlvbiBpcyBkb3dubG9hZGFibGUuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCA8Y29kZT5mYWxzZTwvY29kZT5cbiAgICovXG4gIGdldCBkb3dubG9hZGFibGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhcyBmaWx0ZXJzIGJ1bmRsZWQgYWxvbmcgd2l0aCB0aGUgZXh0ZW5zaW9uLCB3aGljaCBzaG91bGQgYmUgcmVsb2FkZWQgb25cbiAgICogZXh0ZW5zaW9uIHVwZGF0ZS5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIGdldCBoYXNCdW5kbGVkRmlsdGVycygpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciB0aGUgc3Vic2NyaXB0aW9uIGlzIGRpc2FibGVkLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgPGNvZGU+ZmFsc2U8L2NvZGU+XG4gICAqL1xuICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkO1xuICB9XG5cbiAgc2V0IGRpc2FibGVkKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9IHRoaXMuX2Rpc2FibGVkKSB7XG4gICAgICBsZXQgb2xkVmFsdWUgPSB0aGlzLl9kaXNhYmxlZDtcbiAgICAgIHRoaXMuX2Rpc2FibGVkID0gdmFsdWU7XG4gICAgICBmaWx0ZXJOb3RpZmllci5lbWl0KFwic3Vic2NyaXB0aW9uLmRpc2FibGVkXCIsIHRoaXMsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgZmlsdGVycyBpbiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCA8Y29kZT4wPC9jb2RlPlxuICAgKi9cbiAgZ2V0IGZpbHRlckNvdW50KCkge1xuICAgIHJldHVybiB0aGlzLl9maWx0ZXJUZXh0Lmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGl0ZXJhdG9yIHRoYXQgeWllbGRzIHRoZSB0ZXh0IGZvciBlYWNoIGZpbHRlciBpbiB0aGVcbiAgICogc3Vic2NyaXB0aW9uLlxuICAgKiBAcmV0dXJucyB7SXRlcmF0b3IuPHN0cmluZz59XG4gICAqL1xuICBmaWx0ZXJUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLl9maWx0ZXJUZXh0W1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgcGFyYW1ldGVycyBmb3IgQ291bnRhYmxlU3Vic2NyaXB0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyBUaGUgcGFyYW1zIGZyb20gdGhlIGZpbHRlciBsaXN0LiBgcGFyYW1zYCBpc1xuICAgKiAgIHRoZSBgcGFyYW1zYCBmaWVsZCBhcyByZXR1cm5lZCBieVxuICAgKiAgIGB7QGxpbmsgbW9kdWxlOmZpbHRlcnMvbGlzdHMucGFyc2VGaWx0ZXJMaXN0IHBhcnNlRmlsdGVyTGlzdCgpfWAuXG4gICAqL1xuICBzZXRQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKHBhcmFtcy5ob21lcGFnZSkge1xuICAgICAgbGV0IHVybDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHVybCA9IG5ldyBVUkwocGFyYW1zLmhvbWVwYWdlKTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHVybCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh1cmwgJiYgKHVybC5wcm90b2NvbCA9PSBcImh0dHA6XCIgfHwgdXJsLnByb3RvY29sID09IFwiaHR0cHM6XCIpKSB7XG4gICAgICAgIHRoaXMuaG9tZXBhZ2UgPSB1cmwuaHJlZjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnRpdGxlKSB7XG4gICAgICB0aGlzLnRpdGxlID0gcGFyYW1zLnRpdGxlO1xuICAgICAgdGhpcy5maXhlZFRpdGxlID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmZpeGVkVGl0bGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnZlcnNpb24pIHtcbiAgICAgIHRoaXMudmVyc2lvbiA9IHBhcnNlSW50KHBhcmFtcy52ZXJzaW9uLCAxMCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudHlwZSkge1xuICAgICAgdGhpcy5hYnRlc3QgPSBwYXJhbXMuYWJ0ZXN0O1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuZGlmZlVSTCkge1xuICAgICAgdGhpcy5kaWZmVVJMID0gcGFyYW1zLmRpZmZVUkw7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5sYXN0TW9kaWZpZWQpe1xuICAgICAgdGhpcy5sYXN0TW9kaWZpZWQgPSBwYXJhbXMubGFzdE1vZGlmaWVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGZpbHRlciB0ZXh0LCBhbmQgcmVzZXQgdGhlIGluZGV4LiBDYWxsIHRoaXMgYmVmb3JlIGFkZGluZ1xuICAgKiB0byB0aGUgc3RvcmFnZS5cbiAgICpcbiAgICogVGhlIGZpbHRlciB0ZXh0cyB3aWxsIGJlIG5vcm1hbGl6ZWQgd2l0aCBge0BsaW5rXG4gICAqIG1vZHVsZTpmaWx0ZXJDbGFzc2VzLkZpbHRlciNub3JtYWxpemUgRmlsdGVyLm5vcm1hbGl6ZSgpfWAgbGlrZVxuICAgKiBpZiB0aGV5IHdlcmUgbG9hZGVkIGZyb20gYSBmaWx0ZXIgbGlzdC5cbiAgICpcbiAgICogSXQgaXMgaW1wb3J0YW50IHRvIG5vdCBjYWxsIHRoaXMgYmVzaWRlIHRoZSBpbml0aWFsaXNhdGlvbiBvZiB0aGVcbiAgICogc3Vic2NyaXB0aW9uIGFzIGl0IGRvZXNuJ3Qgbm90aWZ5IG9mIGNoYW5nZXNcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheS48c3RyaW5nPn0gdGV4dCBUaGUgdGV4dCBzdHJpbmdzLlxuICAgKiBAcGFyYW0ge29iamVjdD99IHBhcmFtcyBUaGUgZmlsdGVyIGxpc3QgcGFyYW1zIGlmIGFueS4gYHBhcmFtc2AgaXNcbiAgICogICB0aGUgYHBhcmFtc2AgZmllbGQgYXMgcmV0dXJuZWQgYnlcbiAgICogICBge0BsaW5rIG1vZHVsZTpmaWx0ZXJzL2xpc3RzLnBhcnNlRmlsdGVyTGlzdCBwYXJzZUZpbHRlckxpc3QoKX1gLlxuICAgKlxuICAgKiBBbiBlcnJvciB3aWxsIGJlIHRocm93biBpZiBgdGV4dGAgaXNuJ3QgYW4gYXJyYXkuXG4gICAqL1xuICBzZXRGaWx0ZXJUZXh0KHRleHQsIHBhcmFtcyA9IG51bGwpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGV4dCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInNldEZpbHRlclRleHQoKSBtdXN0IGJlIGNhbGxlZCB3aXRoIGFuIEFycmF5XCIpO1xuICAgIH1cblxuICAgIHRoaXMuX2ZpbHRlclRleHQgPSB0ZXh0Lm1hcCh0ID0+IEZpbHRlci5ub3JtYWxpemUodCkpO1xuICAgIHRoaXMuX2ZpbHRlclRleHRJbmRleCA9IG5ldyBTZXQodGhpcy5fZmlsdGVyVGV4dCk7XG5cbiAgICBpZiAocGFyYW1zKSB7XG4gICAgICB0aGlzLnNldFBhcmFtcyhwYXJhbXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgc3Vic2NyaXB0aW9uIGhhcyB0aGUgZ2l2ZW4gZmlsdGVyIHRleHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJUZXh0IFRoZSBmaWx0ZXIgdGV4dC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHN1YnNjcmlwdGlvbiBoYXMgdGhlIGZpbHRlciB0ZXh0LlxuICAgKiBAcGFja2FnZVxuICAgKi9cbiAgaGFzRmlsdGVyVGV4dChmaWx0ZXJUZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbHRlclRleHRJbmRleC5oYXMoZmlsdGVyVGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZmlsdGVyIHRleHQgYXQgdGhlIGdpdmVuIGAwYC1iYXNlZCBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBgMGAtYmFzZWQgaW5kZXguIElmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzLFxuICAgKiAgIHRoZSByZXR1cm4gdmFsdWUgaXMgYG51bGxgLlxuICAgKiBAcmV0dXJucyB7P21vZHVsZTpmaWx0ZXJDbGFzc2VzLkZpbHRlcn0gVGhlIGZpbHRlciB0ZXh0LlxuICAgKi9cbiAgZmlsdGVyVGV4dEF0KGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbHRlclRleHRbaW5kZXhdIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYDBgLWJhc2VkIGluZGV4IG9mIHRoZSBnaXZlbiBmaWx0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuRmlsdGVyfSBmaWx0ZXIgVGhlIGZpbHRlci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXhdIFRoZSBgMGAtYmFzZWQgaW5kZXggZnJvbSB3aGljaCB0byBzdGFydCB0aGVcbiAgICogICBzZWFyY2guXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBgMGAtYmFzZWQgaW5kZXggYXQgd2hpY2ggdGhlIGZpbHRlciBpcyBmb3VuZC4gSWYgdGhlXG4gICAqICAgZmlsdGVyIGlzIG5vdCBmb3VuZCBpbiB0aGUgc3Vic2NyaXB0aW9uLCB0aGUgcmV0dXJuIHZhbHVlIGlzIGAtMWAuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGZpbmRGaWx0ZXJUZXh0SW5kZXh9IGlmIHlvdSBvbmx5IGhhdmUgYSBmaWx0ZXIgdGV4dC5cbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIGZpbmRGaWx0ZXJJbmRleChmaWx0ZXIsIGZyb21JbmRleCA9IDApIHtcbiAgICByZXR1cm4gdGhpcy5maW5kRmlsdGVyVGV4dEluZGV4KGZpbHRlci50ZXh0LCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGAwYC1iYXNlZCBpbmRleCBvZiB0aGUgZ2l2ZW4gZmlsdGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyVGV4dCBUaGUgZmlsdGVyIHRleHQuLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleF0gVGhlIGAwYC1iYXNlZCBpbmRleCBmcm9tIHdoaWNoIHRvIHN0YXJ0IHRoZVxuICAgKiAgIHNlYXJjaC5cbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIGAwYC1iYXNlZCBpbmRleCBhdCB3aGljaCB0aGUgZmlsdGVyIGlzXG4gICAqICAgZm91bmQuIElmIHRoZSBmaWx0ZXIgaXMgbm90IGZvdW5kIGluIHRoZSBzdWJzY3JpcHRpb24sIHRoZVxuICAgKiAgIHJldHVybiB2YWx1ZSBpcyBgLTFgLlxuICAgKi9cbiAgZmluZEZpbHRlclRleHRJbmRleChmaWx0ZXJUZXh0LCBmcm9tSW5kZXggPSAwKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbHRlclRleHQuaW5kZXhPZihmaWx0ZXJUZXh0LCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGZpbHRlcnMgZnJvbSB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKi9cbiAgY2xlYXJGaWx0ZXJzKCkge1xuICAgIHRoaXMuX2ZpbHRlclRleHQgPSBbXTtcbiAgICB0aGlzLl9maWx0ZXJUZXh0SW5kZXguY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgZmlsdGVyIHRvIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuRmlsdGVyfSBmaWx0ZXIgVGhlIGZpbHRlci5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgYWRkRmlsdGVyVGV4dH0gaWYgeW91IG9ubHkgaGF2ZSBhIGZpbHRlciB0ZXh0LlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKi9cbiAgYWRkRmlsdGVyKGZpbHRlcikge1xuICAgIHRoaXMuYWRkRmlsdGVyVGV4dChmaWx0ZXIudGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGZpbHRlciB0ZXh0IHRvIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSBmaWx0ZXIgdGV4dC5cbiAgICovXG4gIGFkZEZpbHRlclRleHQodGV4dCkge1xuICAgIHRoaXMuX2ZpbHRlclRleHQucHVzaCh0ZXh0KTtcbiAgICB0aGlzLl9maWx0ZXJUZXh0SW5kZXguYWRkKHRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydHMgYSBmaWx0ZXIgaW50byB0aGUgc3Vic2NyaXB0aW9uIGF0IHRoZSBnaXZlbiBgMGAtYmFzZWQgaW5kZXguXG4gICAqXG4gICAqIEBwYXJhbSB7bW9kdWxlOmZpbHRlckNsYXNzZXMuRmlsdGVyfSBmaWx0ZXIgVGhlIGZpbHRlci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBgMGAtYmFzZWQgaW5kZXguIElmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzLFxuICAgKiAgIHRoZSBmaWx0ZXIgaXMgaW5zZXJ0ZWQgYXQgdGhlIGJlZ2lubmluZyBvciBhdCB0aGUgZW5kIGFjY29yZGluZ2x5LlxuICAgKiBAc2VlIHtAbGluayBpbnNlcnRGaWx0ZXJUZXh0QXR9IGlmIHlvdSBvbmx5IGhhdmUgYSBmaWx0ZXIgdGV4dC5cbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIGluc2VydEZpbHRlckF0KGZpbHRlciwgaW5kZXgpIHtcbiAgICB0aGlzLmluc2VydEZpbHRlclRleHRBdChmaWx0ZXIudGV4dCwgaW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydHMgYSBmaWx0ZXIgaW50byB0aGUgc3Vic2NyaXB0aW9uIGF0IHRoZSBnaXZlbiBgMGAtYmFzZWQgaW5kZXguXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJUZXh0IFRoZSBmaWx0ZXIgdGV4dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBgMGAtYmFzZWQgaW5kZXguIElmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzLFxuICAgKiAgIHRoZSBmaWx0ZXIgaXMgaW5zZXJ0ZWQgYXQgdGhlIGJlZ2lubmluZyBvciBhdCB0aGUgZW5kIGFjY29yZGluZ2x5LlxuICAgKi9cbiAgaW5zZXJ0RmlsdGVyVGV4dEF0KGZpbHRlclRleHQsIGluZGV4KSB7XG4gICAgdGhpcy5fZmlsdGVyVGV4dC5zcGxpY2UoaW5kZXgsIDAsIGZpbHRlclRleHQpO1xuICAgIHRoaXMuX2ZpbHRlclRleHRJbmRleC5hZGQoZmlsdGVyVGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBhIGZpbHRlciBmcm9tIHRoZSBzdWJzY3JpcHRpb24gYXQgdGhlIGdpdmVuIGAwYC1iYXNlZCBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBgMGAtYmFzZWQgaW5kZXguIElmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzLFxuICAgKiAgIG5vIGZpbHRlciBpcyBkZWxldGVkLlxuICAgKi9cbiAgZGVsZXRlRmlsdGVyQXQoaW5kZXgpIHtcbiAgICAvLyBJZ25vcmUgaW5kZXggaWYgb3V0IG9mIGJvdW5kcyBvbiB0aGUgbmVnYXRpdmUgc2lkZSwgZm9yIGNvbnNpc3RlbmN5LlxuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgW2ZpbHRlclRleHRdID0gdGhpcy5fZmlsdGVyVGV4dC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGlmICghdGhpcy5fZmlsdGVyVGV4dC5pbmNsdWRlcyhmaWx0ZXJUZXh0KSkge1xuICAgICAgdGhpcy5fZmlsdGVyVGV4dEluZGV4LmRlbGV0ZShmaWx0ZXJUZXh0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZmlsdGVyIHRleHQgb2YgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHtBcnJheS48c3RyaW5nPn0gZmlsdGVyVGV4dCBUaGUgbmV3IGZpbHRlciB0ZXh0LlxuICAgKiBAcmV0dXJucyB7e2FkZGVkOiBBcnJheS48c3RyaW5nPiwgcmVtb3ZlZDogQXJyYXkuPHN0cmluZz59fSBBbiBvYmplY3RcbiAgICogICBjb250YWluaW5nIHR3byBsaXN0cyBvZiB0aGUgdGV4dCBvZiBhZGRlZCBhbmQgcmVtb3ZlZCBmaWx0ZXJzXG4gICAqICAgcmVzcGVjdGl2ZWx5LlxuICAgKiBAcGFja2FnZVxuICAgKi9cbiAgdXBkYXRlRmlsdGVyVGV4dChmaWx0ZXJUZXh0KSB7XG4gICAgbGV0IGFkZGVkID0gW107XG4gICAgbGV0IHJlbW92ZWQgPSBbXTtcblxuICAgIGlmICh0aGlzLl9maWx0ZXJUZXh0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICBhZGRlZCA9IFsuLi5maWx0ZXJUZXh0XTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmlsdGVyVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGxldCB0ZXh0IG9mIGZpbHRlclRleHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9maWx0ZXJUZXh0SW5kZXguaGFzKHRleHQpKSB7XG4gICAgICAgICAgYWRkZWQucHVzaCh0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2ZpbHRlclRleHRJbmRleCA9IG5ldyBTZXQoZmlsdGVyVGV4dCk7XG5cbiAgICBpZiAoZmlsdGVyVGV4dC5sZW5ndGggPT0gMCkge1xuICAgICAgcmVtb3ZlZCA9IFsuLi50aGlzLl9maWx0ZXJUZXh0XTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5fZmlsdGVyVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGxldCB0ZXh0IG9mIHRoaXMuX2ZpbHRlclRleHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9maWx0ZXJUZXh0SW5kZXguaGFzKHRleHQpKSB7XG4gICAgICAgICAgcmVtb3ZlZC5wdXNoKHRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fZmlsdGVyVGV4dCA9IFsuLi5maWx0ZXJUZXh0XTtcblxuICAgIHJldHVybiB7YWRkZWQsIHJlbW92ZWR9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZXMgdGhlIHN1YnNjcmlwdGlvbiBmb3Igd3JpdGluZyBvdXQgb24gZGlzay5cbiAgICogQHlpZWxkcyB7c3RyaW5nfVxuICAgKiBAcGFja2FnZVxuICAgKi9cbiAgKnNlcmlhbGl6ZSgpIHtcbiAgICBsZXQge3VybCwgX3RpdGxlLCBfZml4ZWRUaXRsZSwgX2Rpc2FibGVkLCBfaWR9ID0gdGhpcztcblxuICAgIHlpZWxkIFwiW1N1YnNjcmlwdGlvbl1cIjtcbiAgICB5aWVsZCBcInVybD1cIiArIHVybDtcblxuICAgIGlmIChfdGl0bGUpIHtcbiAgICAgIHlpZWxkIFwidGl0bGU9XCIgKyBfdGl0bGU7XG4gICAgfVxuICAgIGlmIChfZml4ZWRUaXRsZSkge1xuICAgICAgeWllbGQgXCJmaXhlZFRpdGxlPXRydWVcIjtcbiAgICB9XG4gICAgaWYgKF9kaXNhYmxlZCkge1xuICAgICAgeWllbGQgXCJkaXNhYmxlZD10cnVlXCI7XG4gICAgfVxuICAgIGlmIChfaWQpIHtcbiAgICAgIHlpZWxkIFwiaWQ9XCIgKyBfaWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZXMgdGhlIHN1YnNjcmlwdGlvbidzIGZpbHRlciB0ZXh0IGZvciB3cml0aW5nIG91dCBvbiBkaXNrLlxuICAgKiBAeWllbGRzIHtzdHJpbmd9XG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICAqc2VyaWFsaXplRmlsdGVycygpIHtcbiAgICBsZXQge19maWx0ZXJUZXh0fSA9IHRoaXM7XG5cbiAgICB5aWVsZCBcIltTdWJzY3JpcHRpb24gZmlsdGVyc11cIjtcblxuICAgIGZvciAobGV0IHRleHQgb2YgX2ZpbHRlclRleHQpIHtcbiAgICAgIHlpZWxkIHRleHQucmVwbGFjZSgvXFxbL2csIFwiXFxcXFtcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuc2VyaWFsaXplKCldLmpvaW4oXCJcXG5cIik7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FjaGUgZm9yIGtub3duIGZpbHRlciBzdWJzY3JpcHRpb25zIHRoYXQgbWFwcyBzdWJzY3JpcHRpb24gVVJMcyB0b1xuICogc3Vic2NyaXB0aW9uIG9iamVjdHMuXG4gKiBAdHlwZSB7TWFwLjxzdHJpbmcsIG1vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbj59XG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLlN1YnNjcmlwdGlvbi5rbm93blN1YnNjcmlwdGlvbnMgPSBuZXcgTWFwKCk7XG4vKipcbiAqIFdlIG9wZXJhdGUgaW4gRE5SIG1vZGUuIERlZmF1bHQgaXMgZmFsc2UuXG4gKiBAdHlwZSB7Ym9vbH1cbiAqIEBwYWNrYWdlXG4gKi9cbmV4cG9ydHMuU3Vic2NyaXB0aW9uLmRuciA9IGZhbHNlO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHN1YnNjcmlwdGlvbiBvYmplY3QgZm9yIGEgc3Vic2NyaXB0aW9uIFVSTC5cbiAqXG4gKiBFdmVyeSBzdWJzY3JpcHRpb24gVVJMIG1hcHMgdG8gaXRzIG93biB1bmlxdWUgb2JqZWN0LiBJZiBubyBzdWNoIG9iamVjdFxuICogZXhpc3RzLCBhIG5ldyBvbmUgaXMgY3JlYXRlZCBpbnRlcm5hbGx5OyBvdGhlcndpc2UgdGhlIGV4aXN0aW5nIG9iamVjdCBpc1xuICogdXNlZC5cbiAqXG4gKiBJZiBgU3Vic2NyaXB0aW9uLmRucmAgaXMgdHJ1ZSwgaXQgd2lsbCByZW1hcCBgbXYyX3VybGAgdG8gdGhlIGNhbm9uaWNhbFxuICogYHVybGAgaWYgbmVjZXNzYXJ5LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHN1YnNjcmlwdGlvbiBVUkwuXG4gKlxuICogQHJldHVybnMge21vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbn0gQSBzdWJzY3JpcHRpb25cbiAqIG9iamVjdCAoY2FuIGJlIGFueSBzdWJjbGFzcyB0aGVyZW9mLlxuICovXG5leHBvcnRzLlN1YnNjcmlwdGlvbi5mcm9tVVJMID0gZnVuY3Rpb24odXJsKSB7XG4gIGxldCBzdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb24ua25vd25TdWJzY3JpcHRpb25zLmdldCh1cmwpO1xuICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgfVxuXG4gIGlmICh1cmxbMF0gIT0gXCJ+XCIpIHtcbiAgICBsZXQgZG93bmxvYWRhYmxlID0gdHJ1ZTtcbiAgICBsZXQgdGl0bGUgPSBudWxsO1xuICAgIGxldCBwYXJhbXMgPSBudWxsO1xuICAgIGxldCB1cGRhdGFibGVUaHJvdWdoRGlmZnMgPSBmYWxzZTtcblxuICAgIGlmIChTdWJzY3JpcHRpb24uZG5yKSB7XG4gICAgICAvLyBJbiBETlIgd2UgY2hlY2sgaWYgd2UgZ290IGEgbXYyIFVSTCBhbmQgcmVtYXAuXG4gICAgICBsZXQgYWN0dWFsVXJsID0gdXJsQnlNdjJVUkwoKS5nZXQodXJsKTtcbiAgICAgIGlmIChhY3R1YWxVcmwpIHtcbiAgICAgICAgc3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uLmtub3duU3Vic2NyaXB0aW9ucy5nZXQoYWN0dWFsVXJsKTtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH1cblxuICAgICAgICB1cmwgPSBhY3R1YWxVcmw7XG4gICAgICB9XG5cbiAgICAgIGxldCByZWNvbW1lbmRhdGlvbiA9IHJlY29tbWVuZGF0aW9uc0J5VVJMKCkuZ2V0KHVybCk7XG4gICAgICBpZiAocmVjb21tZW5kYXRpb24pIHtcbiAgICAgICAgLy8gSW4gRE5SIHdlIHVzZSB0aGUgcmVjb21tZW5kYXRpb24gdGl0bGUuXG4gICAgICAgIHRpdGxlID0gcmVjb21tZW5kYXRpb24udGl0bGU7XG5cbiAgICAgICAgLy8gQWxsIHRoZSBrbm93biBzdWJzY3JpcHRpb25zIGFyZSBjb25zaWRlcmVkIHRvIGJlIGVpdGhlclxuICAgICAgICAvLyB1c2VyIGNvdW50YWJsZSBvciBkaWZmIHVwZGF0YWJsZVxuICAgICAgICBkb3dubG9hZGFibGUgPSBmYWxzZTtcbiAgICAgICAgLy8gV2UgaGF2ZSB0byBzZXQgdGhlIHBhcmFtcyBsaWtlIGlmIHRoZSBsaXN0IHdhcyBkb3dubG9hZGVkLlxuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgaG9tZXBhZ2U6IHJlY29tbWVuZGF0aW9uLmhvbWVwYWdlLFxuICAgICAgICAgIC8vIFRoZSBlZmZlY3Qgb2Ygc2V0dGluZyB0aXRsZSBoZXJlIGlzIHRoYXQgaXQgd2lsbCBtYWtlIHRoZVxuICAgICAgICAgIC8vIGZpeGVkVGl0bGUgcHJvcGVydHkgdG8gYmUgdHJ1ZS5cbiAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBlcXVpdmFsZW50IG9mIHRoZSB0aXRsZSBiZWluZyBzZXQgYnkgdGhlXG4gICAgICAgICAgLy8gZmlsdGVyIGxpc3QuXG4gICAgICAgICAgdGl0bGVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocmVjb21tZW5kYXRpb24uZGlmZlVSTCkge1xuICAgICAgICAgIHBhcmFtcy5kaWZmVVJMID0gcmVjb21tZW5kYXRpb24uZGlmZlVSTDtcbiAgICAgICAgICB1cGRhdGFibGVUaHJvdWdoRGlmZnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRvd25sb2FkYWJsZSkge1xuICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IEZ1bGxVcGRhdGFibGVTdWJzY3JpcHRpb24odXJsLCB0aXRsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHVwZGF0YWJsZVRocm91Z2hEaWZmcykge1xuICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IERpZmZVcGRhdGFibGVTdWJzY3JpcHRpb24odXJsLCB0aXRsZSwgcGFyYW1zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzdWJzY3JpcHRpb24gPSBuZXcgQ291bnRhYmxlU3Vic2NyaXB0aW9uKHVybCwgdGl0bGUsIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgfVxuXG4gIHJldHVybiBuZXcgU3BlY2lhbFN1YnNjcmlwdGlvbih1cmwpO1xufTtcblxuLyoqXG4gKiBEZXNlcmlhbGl6ZXMgYSBzdWJzY3JpcHRpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIEEgbWFwIG9mIHNlcmlhbGl6ZWQgcHJvcGVydGllcyBhbmQgdGhlaXIgdmFsdWVzLlxuICogQHJldHVybnMge21vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvbn0gQSBzdWJzY3JpcHRpb24gb2JqZWN0LlxuICogQHBhY2thZ2VcbiAqL1xuZXhwb3J0cy5TdWJzY3JpcHRpb24uZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICBsZXQgcmVzdWx0O1xuICBpZiAob2JqLnVybFswXSAhPSBcIn5cIikge1xuICAgIC8vIFVSTCBpcyB2YWxpZCAtIHRoaXMgaXMgYSByZWd1bGFyIHN1YnNjcmlwdGlvblxuICAgIC8vIFVubGVzcyBpbmRpY2F0ZWQgb3RoZXJ3aXNlIGl0IGlzIGRvd25sb2FkYWJsZS5cbiAgICBpZiAoKFwiZG93bmxvYWRhYmxlXCIgaW4gb2JqKSAmJiAob2JqLmRvd25sb2FkYWJsZSA9PSBcImZhbHNlXCIpKXtcbiAgICAgIGlmIChcImRpZmZVUkxcIiBpbiBvYmopIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IERpZmZVcGRhdGFibGVTdWJzY3JpcHRpb24ob2JqLnVybCwgb2JqLnRpdGxlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBuZXcgQ291bnRhYmxlU3Vic2NyaXB0aW9uKG9iai51cmwsIG9iai50aXRsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVzdWx0ID0gbmV3IEZ1bGxVcGRhdGFibGVTdWJzY3JpcHRpb24ob2JqLnVybCwgb2JqLnRpdGxlKTtcbiAgICB9XG5cbiAgICBpZiAocmVzdWx0LnR5cGUpIHtcbiAgICAgIHJlc3VsdC5hYnRlc3QgPSBvYmouYWJ0ZXN0O1xuICAgIH1cblxuICAgIGlmIChcImRpZmZVUkxcIiBpbiBvYmopIHtcbiAgICAgIHJlc3VsdC5kaWZmVVJMID0gb2JqLmRpZmZVUkw7XG4gICAgfVxuICAgIGlmIChcImRvd25sb2FkU3RhdHVzXCIgaW4gb2JqKSB7XG4gICAgICByZXN1bHQuX2Rvd25sb2FkU3RhdHVzID0gb2JqLmRvd25sb2FkU3RhdHVzO1xuICAgIH1cbiAgICBpZiAoXCJsYXN0U3VjY2Vzc1wiIGluIG9iaikge1xuICAgICAgcmVzdWx0Lmxhc3RTdWNjZXNzID0gcGFyc2VJbnQob2JqLmxhc3RTdWNjZXNzLCAxMCkgfHwgMDtcbiAgICB9XG4gICAgaWYgKFwibGFzdENoZWNrXCIgaW4gb2JqKSB7XG4gICAgICByZXN1bHQuX2xhc3RDaGVjayA9IHBhcnNlSW50KG9iai5sYXN0Q2hlY2ssIDEwKSB8fCAwO1xuICAgIH1cbiAgICBpZiAoXCJleHBpcmVzXCIgaW4gb2JqKSB7XG4gICAgICByZXN1bHQuZXhwaXJlcyA9IHBhcnNlSW50KG9iai5leHBpcmVzLCAxMCkgfHwgMDtcbiAgICB9XG4gICAgaWYgKFwic29mdEV4cGlyYXRpb25cIiBpbiBvYmopIHtcbiAgICAgIHJlc3VsdC5zb2Z0RXhwaXJhdGlvbiA9IHBhcnNlSW50KG9iai5zb2Z0RXhwaXJhdGlvbiwgMTApIHx8IDA7XG4gICAgfVxuICAgIGlmIChcImVycm9yc1wiIGluIG9iaikge1xuICAgICAgcmVzdWx0Ll9lcnJvcnMgPSBwYXJzZUludChvYmouZXJyb3JzLCAxMCkgfHwgMDtcbiAgICB9XG4gICAgaWYgKFwidmVyc2lvblwiIGluIG9iaikge1xuICAgICAgcmVzdWx0LnZlcnNpb24gPSBwYXJzZUludChvYmoudmVyc2lvbiwgMTApIHx8IDA7XG4gICAgfVxuICAgIGlmIChcInJlcXVpcmVkVmVyc2lvblwiIGluIG9iaikge1xuICAgICAgcmVzdWx0LnJlcXVpcmVkVmVyc2lvbiA9IG9iai5yZXF1aXJlZFZlcnNpb247XG4gICAgfVxuICAgIGlmIChcImhvbWVwYWdlXCIgaW4gb2JqKSB7XG4gICAgICByZXN1bHQuX2hvbWVwYWdlID0gb2JqLmhvbWVwYWdlO1xuICAgIH1cbiAgICBpZiAoXCJsYXN0RG93bmxvYWRcIiBpbiBvYmopIHtcbiAgICAgIHJlc3VsdC5fbGFzdERvd25sb2FkID0gcGFyc2VJbnQob2JqLmxhc3REb3dubG9hZCwgMTApIHx8IDA7XG4gICAgfVxuICAgIGlmIChcImRvd25sb2FkQ291bnRcIiBpbiBvYmopIHtcbiAgICAgIHJlc3VsdC5kb3dubG9hZENvdW50ID0gcGFyc2VJbnQob2JqLmRvd25sb2FkQ291bnQsIDEwKSB8fCAwO1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICByZXN1bHQgPSBuZXcgU3BlY2lhbFN1YnNjcmlwdGlvbihvYmoudXJsLCBvYmoudGl0bGUpO1xuICAgIGlmIChcImRlZmF1bHRzXCIgaW4gb2JqKSB7XG4gICAgICByZXN1bHQuZGVmYXVsdHMgPSBvYmouZGVmYXVsdHMuc3BsaXQoXCIgXCIpO1xuICAgIH1cbiAgICBpZiAoXCJtZXRhZGF0YVwiIGluIG9iaikge1xuICAgICAgcmVzdWx0Ll9tZXRhZGF0YSA9IEpTT04ucGFyc2Uob2JqLm1ldGFkYXRhKTtcbiAgICB9XG4gIH1cbiAgaWYgKFwiaWRcIiBpbiBvYmopIHtcbiAgICByZXN1bHQuX2lkID0gb2JqLmlkO1xuICB9XG4gIGlmIChcImZpeGVkVGl0bGVcIiBpbiBvYmopIHtcbiAgICByZXN1bHQuX2ZpeGVkVGl0bGUgPSAob2JqLmZpeGVkVGl0bGUgPT0gXCJ0cnVlXCIpO1xuICB9XG4gIGlmIChcImRpc2FibGVkXCIgaW4gb2JqKSB7XG4gICAgcmVzdWx0Ll9kaXNhYmxlZCA9IChvYmouZGlzYWJsZWQgPT0gXCJ0cnVlXCIpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBVUkwgaXMgYSB2YWxpZCBzdWJzY3JpcHRpb24gVVJMLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMLlxuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIFVSTCBpcyBhIHZhbGlkIHN1YnNjcmlwdGlvbiBVUkwuXG4gKi9cbmV4cG9ydHMuU3Vic2NyaXB0aW9uLmlzVmFsaWRVUkwgPSBmdW5jdGlvbiBpc1ZhbGlkVVJMKHVybCkge1xuICByZXR1cm4gdHlwZW9mIHVybCA9PSBcInN0cmluZ1wiICYmXG4gICAgKHVybC5zdGFydHNXaXRoKFwifnVzZXJ+XCIpIHx8IERvd25sb2FkZXIuaXNWYWxpZFVSTCh1cmwpKTtcbn07XG5cbmxldCBTcGVjaWFsU3Vic2NyaXB0aW9uID1cbi8qKlxuICogVGhlIGBTcGVjaWFsU3Vic2NyaXB0aW9uYCBjbGFzcyByZXByZXNlbnRzIGEgc3BlY2lhbCBmaWx0ZXIgc3Vic2NyaXB0aW9uLlxuICpcbiAqIFRoaXMgdHlwZSBvZiBzdWJzY3JpcHRpb24gaXMgdXNlZCBmb3Iga2VlcGluZyB1c2VyLWRlZmluZWQgZmlsdGVycy5cbiAqIEBleHRlbmRzIG1vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlN1YnNjcmlwdGlvblxuICovXG5leHBvcnRzLlNwZWNpYWxTdWJzY3JpcHRpb24gPSBjbGFzcyBTcGVjaWFsU3Vic2NyaXB0aW9uIGV4dGVuZHMgU3Vic2NyaXB0aW9uIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBgU3BlY2lhbFN1YnNjcmlwdGlvbmAgb2JqZWN0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgb2YgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFt0aXRsZV0gVGhlIHRpdGxlIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih1cmwsIHRpdGxlKSB7XG4gICAgc3VwZXIodXJsLCB0aXRsZSk7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZXMgdGhhdCBzaG91bGQgYmUgYWRkZWQgdG8gdGhpcyBzdWJzY3JpcHRpb24gYnkgZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIEVudHJpZXMgc2hvdWxkIGNvcnJlc3BvbmQgdG8ga2V5cyBpblxuICAgICAqIGB7QGxpbmsgbW9kdWxlOnN1YnNjcmlwdGlvbkNsYXNzZXMuU3BlY2lhbFN1YnNjcmlwdGlvbi5kZWZhdWx0c01hcH1gLlxuICAgICAqXG4gICAgICogQHR5cGUgez9BcnJheS48c3RyaW5nPn1cbiAgICAgKlxuICAgICAqIEBwYWNrYWdlXG4gICAgICovXG4gICAgdGhpcy5kZWZhdWx0cyA9IG51bGw7XG5cbiAgICB0aGlzLl9tZXRhZGF0YSA9IG51bGw7XG4gIH1cblxuICBnZXQgcHJpdmlsZWdlZCgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gZmlsdGVyIHNob3VsZCBiZSBhZGRlZCB0byB0aGlzIHN1YnNjcmlwdGlvbiBieVxuICAgKiBkZWZhdWx0LlxuICAgKiBAcGFyYW0ge0ZpbHRlcn0gZmlsdGVyIFRoZSBmaWx0ZXIuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBmaWx0ZXIgc2hvdWxkIGJlIGFkZGVkIHRvIHRoaXMgc3Vic2NyaXB0aW9uXG4gICAqICAgYnkgZGVmYXVsdC5cbiAgICogQHBhY2thZ2VcbiAgICovXG4gIGlzRGVmYXVsdEZvcihmaWx0ZXIpIHtcbiAgICBpZiAodGhpcy5kZWZhdWx0cyAmJiB0aGlzLmRlZmF1bHRzLmxlbmd0aCkge1xuICAgICAgZm9yIChsZXQgdHlwZSBvZiB0aGlzLmRlZmF1bHRzKSB7XG4gICAgICAgIGlmIChTcGVjaWFsU3Vic2NyaXB0aW9uLmRlZmF1bHRzTWFwLmdldCh0eXBlKS5pbmNsdWRlcyhmaWx0ZXIudHlwZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQWN0aXZlRmlsdGVyKGZpbHRlcikgJiYgdHlwZSA9PSBcImJsb2NraW5nXCIpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1ldGFkYXRhIGJsb2NrIGZvciB0aGUgc3BlY2lhbCBzdWJzY3JpcHRpb25cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IFt2YWx1ZV0gVGhlIG1ldGFkYXRhXG4gICAqL1xuICBzZXQgbWV0YWRhdGEodmFsdWUpIHtcbiAgICBsZXQgb2xkVmFsdWUgPSB0aGlzLl9tZXRhZGF0YTtcbiAgICB0aGlzLl9tZXRhZGF0YSA9IHZhbHVlO1xuICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJzdWJzY3JpcHRpb24ubWV0YWRhdGFcIiwgdGhpcywgdmFsdWUsIG9sZFZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1ldGFkYXRhIGJsb2NrLlxuICAgKiBAcmV0dXJuIHs/b2JqZWN0fSB0aGUgbWV0YWRhdGEgb2JqZWN0IG9yIG51bGxcbiAgICovXG4gIGdldCBtZXRhZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWV0YWRhdGE7XG4gIH1cblxuICAvKipcbiAgICogU2VyaWFsaXplcyB0aGUgc3Vic2NyaXB0aW9uIGZvciB3cml0aW5nIG91dCBvbiBkaXNrLlxuICAgKiBAeWllbGRzIHtzdHJpbmd9XG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICAqc2VyaWFsaXplKCkge1xuICAgIGxldCB7ZGVmYXVsdHMsIF9sYXN0RG93bmxvYWQsIF9tZXRhZGF0YX0gPSB0aGlzO1xuXG4gICAgeWllbGQqIHN1cGVyLnNlcmlhbGl6ZSgpO1xuXG4gICAgaWYgKGRlZmF1bHRzKSB7XG4gICAgICB5aWVsZCBcImRlZmF1bHRzPVwiICtcbiAgICAgICAgICAgIGRlZmF1bHRzLm1hcChcbiAgICAgICAgICAgICAgLy8gcmVtYXAgZm9yIHRoZSBzdG9yZWQgZm9ybWF0LlxuICAgICAgICAgICAgICB0eXBlID0+IHR5cGUgPT0gXCJhbGxvd2luZ1wiID8gXCJ3aGl0ZWxpc3RcIiA6IHR5cGVcbiAgICAgICAgICAgICkuZmlsdGVyKFxuICAgICAgICAgICAgICB0eXBlID0+IFNwZWNpYWxTdWJzY3JpcHRpb24uZGVmYXVsdHNNYXAuaGFzKHR5cGUpXG4gICAgICAgICAgICApLmpvaW4oXCIgXCIpO1xuICAgIH1cbiAgICAvLyBNZXRhZGF0YSBpcyBlbmNvZGVkIGFzIGEgSlNPTiBvbiBhIHNpbmdsZSBsaW5lLlxuICAgIC8vIFRoaXMgc2hvdWxkIGJlIHNhZmUuXG4gICAgaWYgKF9tZXRhZGF0YSkge1xuICAgICAgeWllbGQgXCJtZXRhZGF0YT1cIiArIEpTT04uc3RyaW5naWZ5KF9tZXRhZGF0YSk7XG4gICAgfVxuXG4gICAgaWYgKF9sYXN0RG93bmxvYWQpIHtcbiAgICAgIHlpZWxkIFwibGFzdERvd25sb2FkPVwiICsgX2xhc3REb3dubG9hZDtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQSBtYXAgb2YgZmlsdGVyIHR5cGVzLlxuICogQHR5cGUge01hcC48c3RyaW5nLCBBcnJheS48c3RyaW5nPj59XG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLlNwZWNpYWxTdWJzY3JpcHRpb24uZGVmYXVsdHNNYXAgPSBuZXcgTWFwKFtcbiAgW1wiYWxsb3dpbmdcIiwgW1wiYWxsb3dpbmdcIl1dLFxuICAvLyBkZXByZWNhdGVkIHRlcm1pbm9sb2d5XG4gIFtcIndoaXRlbGlzdFwiLCBbXCJhbGxvd2luZ1wiXV0sXG4gIFtcImJsb2NraW5nXCIsIFtcImJsb2NraW5nXCJdXSxcbiAgW1wiZWxlbWhpZGVcIiwgW1wiZWxlbWhpZGVcIiwgXCJlbGVtaGlkZWV4Y2VwdGlvblwiLCBcImVsZW1oaWRlZW11bGF0aW9uXCJdXVxuXSk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBzcGVjaWFsIHN1YnNjcmlwdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbdGl0bGVdIFRoZSB0aXRsZSBvZiB0aGUgc3Vic2NyaXB0aW9uLlxuICogQHJldHVybnMge21vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlNwZWNpYWxTdWJzY3JpcHRpb259IEEgbmV3IHNwZWNpYWxcbiAqICAgc3Vic2NyaXB0aW9uLlxuICogQHBhY2thZ2VcbiAqL1xuZXhwb3J0cy5TcGVjaWFsU3Vic2NyaXB0aW9uLmNyZWF0ZSA9IGZ1bmN0aW9uKHRpdGxlKSB7XG4gIGxldCB1cmw7XG4gIGRvIHtcbiAgICB1cmwgPSBcIn51c2VyflwiICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMDAwMCk7XG4gIH1cbiAgd2hpbGUgKFN1YnNjcmlwdGlvbi5rbm93blN1YnNjcmlwdGlvbnMuaGFzKHVybCkpO1xuICByZXR1cm4gbmV3IFNwZWNpYWxTdWJzY3JpcHRpb24odXJsLCB0aXRsZSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgc3BlY2lhbCBzdWJzY3JpcHRpb24gYW5kIGFkZHMgdGhlIGdpdmVuIGZpbHRlciB0byBpdC5cbiAqXG4gKiBPbmNlIGNyZWF0ZWQsIHRoZSBzdWJzY3JpcHRpb24gYWN0cyBhcyB0aGUgZGVmYXVsdCBmb3IgYWxsIGZpbHRlcnMgb2YgdGhlXG4gKiB7QGxpbmsgbW9kdWxlOmZpbHRlckNsYXNzZXMuRmlsdGVyI3R5cGUgdHlwZX0uXG4gKlxuICogQHBhcmFtIHttb2R1bGU6ZmlsdGVyQ2xhc3Nlcy5GaWx0ZXJ9IGZpbHRlciBUaGUgZmlsdGVyLlxuICpcbiAqIEByZXR1cm5zIHttb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5TcGVjaWFsU3Vic2NyaXB0aW9ufSBBIG5ldyBzcGVjaWFsXG4gKiAgIHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLlNwZWNpYWxTdWJzY3JpcHRpb24uY3JlYXRlRm9yRmlsdGVyID0gZnVuY3Rpb24oZmlsdGVyKSB7XG4gIGxldCBzdWJzY3JpcHRpb24gPSBTcGVjaWFsU3Vic2NyaXB0aW9uLmNyZWF0ZSgpO1xuICBzdWJzY3JpcHRpb24uYWRkRmlsdGVyKGZpbHRlcik7XG4gIGZvciAobGV0IFt0eXBlLCBtYXBwZWRUeXBlc10gb2YgU3BlY2lhbFN1YnNjcmlwdGlvbi5kZWZhdWx0c01hcCkge1xuICAgIGlmIChtYXBwZWRUeXBlcy5pbmNsdWRlcyhmaWx0ZXIudHlwZSkpIHtcbiAgICAgIHN1YnNjcmlwdGlvbi5kZWZhdWx0cyA9IFt0eXBlXTtcbiAgICB9XG4gIH1cbiAgaWYgKCFzdWJzY3JpcHRpb24uZGVmYXVsdHMpIHtcbiAgICBzdWJzY3JpcHRpb24uZGVmYXVsdHMgPSBbXCJibG9ja2luZ1wiXTtcbiAgfVxuICByZXR1cm4gc3Vic2NyaXB0aW9uO1xufTtcblxubGV0IFJlZ3VsYXJTdWJzY3JpcHRpb24gPVxuLyoqXG4gKiBUaGUgYFJlZ3VsYXJTdWJzY3JpcHRpb25gIGNsYXNzIHJlcHJlc2VudHMgYSByZWd1bGFyIGZpbHRlciBzdWJzY3JpcHRpb25cbiAqIHRoYXQgaXMgbm90IGJ5IGRlZmF1bHQgZG93bmxvYWRlZCBvZmYgdGhlIGludGVybmV0LlxuICogYENvdW50YWJsZVN1YnNjcmlwdGlvbmAgaXMgYSBzdWJjbGFzcyBvZiB0aGlzLlxuICpcbiAqIEluIGEgbWFuaWZlc3QgdjIgY29udGV4dCBpdCBzaG91bGRuJ3QgYmUgZW5jb3VudGVyZWQuIEluIG1hbmlmZXN0IHYzLCBpdCdzXG4gKiB0aGUgZGVmYXVsdC5cbiAqXG4gKiBAZXh0ZW5kcyBtb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5TdWJzY3JpcHRpb25cbiAqL1xuZXhwb3J0cy5SZWd1bGFyU3Vic2NyaXB0aW9uID0gY2xhc3MgUmVndWxhclN1YnNjcmlwdGlvbiBleHRlbmRzIFN1YnNjcmlwdGlvbiB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgYFJlZ3VsYXJTdWJzY3JpcHRpb25gIG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdGl0bGVdIFRoZSB0aXRsZSBvZiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3IodXJsLCB0aXRsZSkge1xuICAgIHN1cGVyKHVybCwgdGl0bGUgfHwgdXJsKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBob21lcGFnZSBvZiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IDxjb2RlPm51bGw8L2NvZGU+XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAc2VlIG1vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLlJlZ3VsYXJTdWJzY3JpcHRpb24jaG9tZXBhZ2VcbiAgICAgKi9cbiAgICB0aGlzLl9ob21lcGFnZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCB0aW1lIHRoZSBzdWJzY3JpcHRpb24gd2FzIGRvd25sb2FkZWQsIGluIHNlY29uZHMgc2luY2UgdGhlXG4gICAgICogYmVnaW5uaW5nIG9mIHRoZSBVbml4IGVwb2NoLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgPGNvZGU+MDwvY29kZT5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBzZWUgbW9kdWxlOnN1YnNjcmlwdGlvbkNsYXNzZXMuUmVndWxhclN1YnNjcmlwdGlvbiNsYXN0RG93bmxvYWRcbiAgICAgKi9cbiAgICB0aGlzLl9sYXN0RG93bmxvYWQgPSAwO1xuXG4gICAgbGV0IHJlY29tbWVuZGF0aW9uID0gcmVjb21tZW5kYXRpb25zQnlVUkwoKS5nZXQodXJsKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbGFuZ3VhZ2VzIHRoYXQgYXBwbHkgZm9yIHRoaXMgc3Vic2NyaXB0aW9uLlxuICAgICAqIEB0eXBlIHs/QXJyYXkuPHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5fbGFuZ3VhZ2VzID0gcmVjb21tZW5kYXRpb24gPyByZWNvbW1lbmRhdGlvbi5sYW5ndWFnZXMgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBob21lcGFnZSBvZiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICogQGRlZmF1bHQgPGNvZGU+bnVsbDwvY29kZT5cbiAgICovXG4gIGdldCBob21lcGFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faG9tZXBhZ2U7XG4gIH1cblxuICBzZXQgaG9tZXBhZ2UodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT0gdGhpcy5faG9tZXBhZ2UpIHtcbiAgICAgIGxldCBvbGRWYWx1ZSA9IHRoaXMuX2hvbWVwYWdlO1xuICAgICAgdGhpcy5faG9tZXBhZ2UgPSB2YWx1ZTtcbiAgICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJzdWJzY3JpcHRpb24uaG9tZXBhZ2VcIiwgdGhpcywgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIGxhbmd1YWdlcyB0aGF0IGFwcGx5IGZvciB0aGlzIHN1YnNjcmlwdGlvbi5cbiAgICogQHR5cGUgez9BcnJheS48c3RyaW5nPn1cbiAgICogQGRlZmF1bHQgPGNvZGU+bnVsbDwvY29kZT5cbiAgICovXG4gIGdldCBsYW5ndWFnZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xhbmd1YWdlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbGFzdCB0aW1lIHRoZSBzdWJzY3JpcHRpb24gd2FzIGRvd25sb2FkZWQsIGluIHNlY29uZHMgc2luY2UgdGhlXG4gICAqIGJlZ2lubmluZyBvZiB0aGUgVW5peCBlcG9jaC5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgPGNvZGU+MDwvY29kZT5cbiAgICovXG4gIGdldCBsYXN0RG93bmxvYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3REb3dubG9hZDtcbiAgfVxuXG4gIHNldCBsYXN0RG93bmxvYWQodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT0gdGhpcy5fbGFzdERvd25sb2FkKSB7XG4gICAgICBsZXQgb2xkVmFsdWUgPSB0aGlzLl9sYXN0RG93bmxvYWQ7XG4gICAgICB0aGlzLl9sYXN0RG93bmxvYWQgPSB2YWx1ZTtcbiAgICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJzdWJzY3JpcHRpb24ubGFzdERvd25sb2FkXCIsIHRoaXMsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZXMgdGhlIHN1YnNjcmlwdGlvbiBmb3Igd3JpdGluZyBvdXQgb24gZGlzay5cbiAgICogQHlpZWxkcyB7c3RyaW5nfVxuICAgKiBAcGFja2FnZVxuICAgKi9cbiAgKnNlcmlhbGl6ZSgpIHtcbiAgICBsZXQge19ob21lcGFnZSwgX2xhc3REb3dubG9hZH0gPSB0aGlzO1xuXG4gICAgeWllbGQqIHN1cGVyLnNlcmlhbGl6ZSgpO1xuXG4gICAgLy8gVG8ga2VlcCBjb21wYXRpYmlsaXR5IGRvd25sb2FkYWJsZSBpcyB0cnVlIGlmIG1pc3NpbmdcbiAgICBpZiAoIXRoaXMuZG93bmxvYWRhYmxlKSB7XG4gICAgICB5aWVsZCBcImRvd25sb2FkYWJsZT1mYWxzZVwiO1xuICAgIH1cbiAgICBpZiAoX2hvbWVwYWdlKSB7XG4gICAgICB5aWVsZCBcImhvbWVwYWdlPVwiICsgX2hvbWVwYWdlO1xuICAgIH1cbiAgICBpZiAoX2xhc3REb3dubG9hZCkge1xuICAgICAgeWllbGQgXCJsYXN0RG93bmxvYWQ9XCIgKyBfbGFzdERvd25sb2FkO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBPbmNlIGluaXRpYWxpemVkLCB0aGUgc2hhcmVkIFN5bmNocm9uaXplciBzaW5nbGV0b24gd2lsbCBiZSBzdG9yZWQgaW4gaGVyZS5cbiAqIEB0eXBlIHttb2R1bGU6c3luY2hyb25pemVyLlN5bmNocm9uaXplcn1cbiAqL1xubGV0IHN5bmNocm9uaXplciA9IG51bGw7XG5cbmxldCBDb3VudGFibGVTdWJzY3JpcHRpb24gPVxuLyoqXG4gKiBUaGUgYENvdW50YWJsZVN1YnNjcmlwdGlvbmAgY2xhc3MgcmVwcmVzZW50cyBhIHJlZ3VsYXIgZmlsdGVyXG4gKiBzdWJzY3JpcHRpb24gd2hpY2ggd2lsbCBpbmRpY2F0ZSBpdCB0byB0aGUgcmVtb3RlIGB1cmxgIGl0IGlzIGluXG4gKiB1c2UgYnkgaXNzdWluZyBhIGBIRUFEYCBodHRwIHJlcXVlc3QgaW5zdGVhZCBvZiBhIGBHRVRgLlxuICpcbiAqIEhvd2V2ZXIgaXQgd2lsbCBoYXZlIGl0cyBwcm9wZXJ0eSBgZG93bmxvYWRhYmxlYCBzdGlsbCBzZXQgdG9cbiAqIGBmYWxzZWAuXG4gKlxuICogQGV4dGVuZHMgbW9kdWxlOnN1YnNjcmlwdGlvbkNsYXNzZXMuUmVndWxhclN1YnNjcmlwdGlvblxuICovXG5leHBvcnRzLkNvdW50YWJsZVN1YnNjcmlwdGlvbiA9XG5jbGFzcyBDb3VudGFibGVTdWJzY3JpcHRpb24gZXh0ZW5kcyBSZWd1bGFyU3Vic2NyaXB0aW9uIHtcbiAgLyoqXG4gICAqIEFsbG93cyBkb3dubG9hZGFibGUgc3Vic2NyaXB0aW9ucyB0byB1cGRhdGUgdGhlbXNlbHZlcyBvbmNlIHJlLWVuYWJsZWQsXG4gICAqIHZpYSByZWNlaXZpbmcgdGhlIFN5bmNocm9uaXplciBzaW5nbGV0b24uXG4gICAqIEBwYXJhbSB7bW9kdWxlOnN5bmNocm9uaXplcn5TeW5jaHJvbml6ZXJ9IHJlZmVyZW5jZSB0aGUgU3luY2hyb25pemVyXG4gICAqL1xuICBzdGF0aWMgdXNlU3luY2hyb25pemVyKHJlZmVyZW5jZSkge1xuICAgIHN5bmNocm9uaXplciA9IHJlZmVyZW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgYENvdW50YWJsZVN1YnNjcmlwdGlvbmAgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgb2YgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFt0aXRsZV0gVGhlIHRpdGxlIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7P29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBwYXNzIHRvXG4gICAqICAgIGB7QGxpbmsgU3Vic2NyaXB0aW9uLnNldFBhcmFtc31gLiBDYW4gYmUgb21pdHRlZCBvciBgbnVsbGAuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih1cmwsIHRpdGxlLCBwYXJhbXMpIHtcbiAgICBzdXBlcih1cmwsIHRpdGxlKTtcblxuICAgIGlmIChwYXJhbXMpIHtcbiAgICAgIHRoaXMuc2V0UGFyYW1zKHBhcmFtcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHN0YXR1cyBvZiB0aGUgbGFzdCBkb3dubG9hZC5cbiAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCA8Y29kZT5udWxsPC9jb2RlPlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHNlZSBtb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5Db3VudGFibGVTdWJzY3JpcHRpb24jZG93bmxvYWRTdGF0dXNcbiAgICAgKi9cbiAgICB0aGlzLl9kb3dubG9hZFN0YXR1cyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCB0aW1lIHRoZSBzdWJzY3JpcHRpb24gd2FzIGNvbnNpZGVyZWQgZm9yIGFuIHVwZGF0ZSwgaW4gc2Vjb25kc1xuICAgICAqIHNpbmNlIHRoZSBiZWdpbm5pbmcgb2YgdGhlIFVuaXggZXBvY2guXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA8Y29kZT4wPC9jb2RlPlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHNlZSBtb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5Db3VudGFibGVTdWJzY3JpcHRpb24jbGFzdENoZWNrXG4gICAgICovXG4gICAgdGhpcy5fbGFzdENoZWNrID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZG93bmxvYWQgZmFpbHVyZXMgc2luY2UgdGhlIGxhc3Qgc3VjY2Vzc2Z1bCBkb3dubG9hZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDxjb2RlPjA8L2NvZGU+XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAc2VlIG1vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLkNvdW50YWJsZVN1YnNjcmlwdGlvbiNlcnJvcnNcbiAgICAgKi9cbiAgICB0aGlzLl9lcnJvcnMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxhc3QgdGltZSB0aGUgc3Vic2NyaXB0aW9uIHdhcyBzdWNjZXNzZnVsbHkgZG93bmxvYWRlZCwgaW4gc2Vjb25kc1xuICAgICAqIHNpbmNlIHRoZSBiZWdpbm5pbmcgb2YgdGhlIFVuaXggZXBvY2guXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA8Y29kZT4wPC9jb2RlPlxuICAgICAqL1xuICAgIHRoaXMubGFzdFN1Y2Nlc3MgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhhcmQgZXhwaXJhdGlvbiB0aW1lIG9mIHRoZSBzdWJzY3JpcHRpb24sIGluIHNlY29uZHMgc2luY2UgdGhlXG4gICAgICogYmVnaW5uaW5nIG9mIHRoZSBVbml4IGVwb2NoLlxuICAgICAqXG4gICAgICogVXBkYXRlcyBzaG91bGQgYmUgZG93bmxvYWRlZCBpZiBge0BsaW5rXG4gICAgICogbW9kdWxlOnN1YnNjcmlwdGlvbkNsYXNzZXMuQ291bnRhYmxlU3Vic2NyaXB0aW9uI3NvZnRFeHBpcmF0aW9ufWBcbiAgICAgKiBvciBgZXhwaXJlc2AgYXJlIGluIHRoZSBwYXN0LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgPGNvZGU+MDwvY29kZT5cbiAgICAgKi9cbiAgICB0aGlzLmV4cGlyZXMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNvZnQgZXhwaXJhdGlvbiB0aW1lIG9mIHRoZSBzdWJzY3JpcHRpb24sIGluIHNlY29uZHMgc2luY2UgdGhlXG4gICAgICogYmVnaW5uaW5nIG9mIHRoZSBVbml4IGVwb2NoLlxuICAgICAqXG4gICAgICogVXBkYXRlcyBzaG91bGQgYmUgZG93bmxvYWRlZCBpZiBgc29mdEV4cGlyYXRpb25gIG9yXG4gICAgICogYHtAbGluayBtb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5Db3VudGFibGVTdWJzY3JpcHRpb24jZXhwaXJlc31gXG4gICAgICogYXJlIGluIHRoZSBwYXN0LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgPGNvZGU+MDwvY29kZT5cbiAgICAgKi9cbiAgICB0aGlzLnNvZnRFeHBpcmF0aW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBzdWJzY3JpcHRpb24gZGF0YSB0aGF0IHdhcyByZXRyaWV2ZWQgb24gbGFzdFxuICAgICAqIHN1Y2Nlc3NmdWwgZG93bmxvYWQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA8Y29kZT4wPC9jb2RlPlxuICAgICAqL1xuICAgIHRoaXMudmVyc2lvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWluaW1hbCBBZGJsb2NrIFBsdXMgdmVyc2lvbiByZXF1aXJlZCBmb3IgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCA8Y29kZT5udWxsPC9jb2RlPlxuICAgICAqL1xuICAgIHRoaXMucmVxdWlyZWRWZXJzaW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgdGltZXMgdGhlIHN1YnNjcmlwdGlvbiBoYXMgYmVlbiBkb3dubG9hZGVkLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgPGNvZGU+MDwvY29kZT5cbiAgICAgKi9cbiAgICB0aGlzLmRvd25sb2FkQ291bnQgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyBpcyBhIGNvdW50YWJsZSBzdWJzY3JpcHRpb24sIGkuZS4gYSBzdWJzY3JpcHRpb24gdGhhdFxuICAgKiB3aWxsIGNvbm5lY3QgdG8gdGhlIFVSTC4gQSBkb3dubG9hZGFibGUgc3Vic2NyaXB0aW9uIGlzIGNvdW50YWJsZSxcbiAgICogYnV0IG5vdCB0aGUgb3RoZXIgd2F5IGFyb3VuZC5cbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IDxjb2RlPnRydWU8L2NvZGU+XG4gICAqL1xuICBnZXQgY291bnRhYmxlKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZ2V0IGhhc0J1bmRsZWRGaWx0ZXJzKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHN1YnNjcmlwdGlvbiBpcyBkaXNhYmxlZC4gT25jZSByZS1lbmFibGVkLCBpdCBlbnN1cmVzIHRoZVxuICAgKiBzeW5jaHJvbml6ZXIgZG93bmxvYWRzIGxhdGVzdCB2ZXJzaW9uIG9mIHRoaXMgc3Vic2NyaXB0aW9uLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgPGNvZGU+ZmFsc2U8L2NvZGU+XG4gICAqL1xuICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHN1cGVyLmRpc2FibGVkO1xuICB9XG5cbiAgc2V0IGRpc2FibGVkKHZhbHVlKSB7XG4gICAgbGV0IHtfZGlzYWJsZWR9ID0gdGhpcztcbiAgICBzdXBlci5kaXNhYmxlZCA9IHZhbHVlO1xuICAgIGlmIChzeW5jaHJvbml6ZXIgJiYgX2Rpc2FibGVkICYmICF2YWx1ZSkge1xuICAgICAgc3luY2hyb25pemVyLmV4ZWN1dGUodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIGxhc3QgZG93bmxvYWQuXG4gICAqXG4gICAqIEEgbWVzc2FnZSBJRCB3aGljaCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHZhbHVlczpcbiAgICogLSBgc3luY2hyb25pemVfb2tgIC0gVGhlIHN1YnNjcmlwdGlvbiBpcyBwZXJmZWN0bHkgZmluZS5cbiAgICogLSBgc3luY2hyb25pemVfY29ubmVjdGlvbl9lcnJvcmAgLSBBbiBlcnJvciBoYXMgb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG9cbiAgICogICAgZG93bmxvYWQgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICogLSBgc3luY2hyb25pemVfaW52YWxpZF91cmxgIC0gVGhlIHN1YnNjcmlwdGlvbiBVUkwgaXMgaW52YWxpZC5cbiAgICogLSBgc3luY2hyb25pemVfdG9vX21hbnlfZmlsdGVyc2AgLSBBIGN1c3RvbSB1c2VyIHN1YnNjcmlwdGlvbiBjYW5ub3RcbiAgICogICAgdXBkYXRlIGJlY2F1c2UgdGhlcmUgYXJlbid0IGVub3VnaCBkeW5hbWljIHJ1bGVzIGF2YWlsYWJsZS5cbiAgICogLSBgc3luY2hyb25pemVfZG5yX2Vycm9yYCAtIERvd25sb2FkaW5nIHN1Y2NlZWRlZCBidXQsIGFuIGVycm9yIG9jY3VycmVkXG4gICAqICAgIHdoaWxlIHVwZGF0aW5nIHRoZSBjdXN0b20gc3Vic2NyaXB0aW9uLlxuICAgKiAtIGBzeW5jaHJvbml6ZV9kaWZmX3Rvb19tYW55X2ZpbHRlcnNgIC0gQSBkaWZmIHVwZGF0YWJsZSBzdWJzY3JpcHRpb25cbiAgICogICAgY2Fubm90IHVwZGF0ZSBiZWNhdXNlIHRoZXJlIGFyZW4ndCBlbm91Z2ggZHluYW1pYyBydWxlcyBhdmFpbGFibGUuXG4gICAqIC0gYHN5bmNocm9uaXplX2RpZmZfZXJyb3JgIC0gRG93bmxvYWRpbmcgc3VjY2VlZGVkIGJ1dCwgYW4gZXJyb3Igb2NjdXJyZWRcbiAgICogICAgd2hpbGUgdXBkYXRpbmcgdGhlIGRpZmYgdXBkYXRhYmxlIHN1YnNjcmlwdGlvbi5cbiAgICpcbiAgICogSWYgdGhlIGluaXRpYWwgZG93bmxvYWQgaXMgbm90IGNvbXBsZXRlZCB5ZXQsIHRoZW4gaXQgaXMgbnVsbC5cbiAgICpcbiAgICogQHR5cGUgez9zdHJpbmd9XG4gICAqIEBkZWZhdWx0IDxjb2RlPm51bGw8L2NvZGU+XG4gICAqL1xuICBnZXQgZG93bmxvYWRTdGF0dXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Rvd25sb2FkU3RhdHVzO1xuICB9XG5cbiAgc2V0IGRvd25sb2FkU3RhdHVzKHZhbHVlKSB7XG4gICAgbGV0IG9sZFZhbHVlID0gdGhpcy5fZG93bmxvYWRTdGF0dXM7XG4gICAgdGhpcy5fZG93bmxvYWRTdGF0dXMgPSB2YWx1ZTtcbiAgICBmaWx0ZXJOb3RpZmllci5lbWl0KFwic3Vic2NyaXB0aW9uLmRvd25sb2FkU3RhdHVzXCIsIHRoaXMsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGxhc3QgdGltZSB0aGUgc3Vic2NyaXB0aW9uIHdhcyBjb25zaWRlcmVkIGZvciBhbiB1cGRhdGUsIGluIHNlY29uZHNcbiAgICogc2luY2UgdGhlIGJlZ2lubmluZyBvZiB0aGUgVW5peCBlcG9jaC5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VkIHRvIGluY3JlYXNlIHRoZSBzb2Z0IGV4cGlyYXRpb24gdGltZSBpZiB0aGUgdXNlciBkb2Vzbid0IHVzZVxuICAgKiBBZGJsb2NrIFBsdXMgZm9yIHNvbWUgdGltZS5cbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgPGNvZGU+MDwvY29kZT5cbiAgICovXG4gIGdldCBsYXN0Q2hlY2soKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3RDaGVjaztcbiAgfVxuXG4gIHNldCBsYXN0Q2hlY2sodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT0gdGhpcy5fbGFzdENoZWNrKSB7XG4gICAgICBsZXQgb2xkVmFsdWUgPSB0aGlzLl9sYXN0Q2hlY2s7XG4gICAgICB0aGlzLl9sYXN0Q2hlY2sgPSB2YWx1ZTtcbiAgICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJzdWJzY3JpcHRpb24ubGFzdENoZWNrXCIsIHRoaXMsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgZG93bmxvYWQgZmFpbHVyZXMgc2luY2UgdGhlIGxhc3Qgc3VjY2Vzc2Z1bCBkb3dubG9hZC5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgPGNvZGU+MDwvY29kZT5cbiAgICovXG4gIGdldCBlcnJvcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Vycm9ycztcbiAgfVxuXG4gIHNldCBlcnJvcnModmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT0gdGhpcy5fZXJyb3JzKSB7XG4gICAgICBsZXQgb2xkVmFsdWUgPSB0aGlzLl9lcnJvcnM7XG4gICAgICB0aGlzLl9lcnJvcnMgPSB2YWx1ZTtcbiAgICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJzdWJzY3JpcHRpb24uZXJyb3JzXCIsIHRoaXMsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZXMgdGhlIHN1YnNjcmlwdGlvbiBmb3Igd3JpdGluZyBvdXQgb24gZGlzay5cbiAgICogQHlpZWxkcyB7c3RyaW5nfVxuICAgKiBAcGFja2FnZVxuICAgKi9cbiAgKnNlcmlhbGl6ZSgpIHtcbiAgICBsZXQge2Rvd25sb2FkU3RhdHVzLCBsYXN0U3VjY2VzcywgbGFzdENoZWNrLCBleHBpcmVzLFxuICAgICAgICAgc29mdEV4cGlyYXRpb24sIGVycm9ycywgdmVyc2lvbiwgcmVxdWlyZWRWZXJzaW9uLFxuICAgICAgICAgZG93bmxvYWRDb3VudH0gPSB0aGlzO1xuXG4gICAgeWllbGQqIHN1cGVyLnNlcmlhbGl6ZSgpO1xuXG4gICAgaWYgKGRvd25sb2FkU3RhdHVzKSB7XG4gICAgICB5aWVsZCBcImRvd25sb2FkU3RhdHVzPVwiICsgZG93bmxvYWRTdGF0dXM7XG4gICAgfVxuICAgIGlmIChsYXN0U3VjY2Vzcykge1xuICAgICAgeWllbGQgXCJsYXN0U3VjY2Vzcz1cIiArIGxhc3RTdWNjZXNzO1xuICAgIH1cbiAgICBpZiAobGFzdENoZWNrKSB7XG4gICAgICB5aWVsZCBcImxhc3RDaGVjaz1cIiArIGxhc3RDaGVjaztcbiAgICB9XG4gICAgaWYgKGV4cGlyZXMpIHtcbiAgICAgIHlpZWxkIFwiZXhwaXJlcz1cIiArIGV4cGlyZXM7XG4gICAgfVxuICAgIGlmIChzb2Z0RXhwaXJhdGlvbikge1xuICAgICAgeWllbGQgXCJzb2Z0RXhwaXJhdGlvbj1cIiArIHNvZnRFeHBpcmF0aW9uO1xuICAgIH1cbiAgICBpZiAoZXJyb3JzKSB7XG4gICAgICB5aWVsZCBcImVycm9ycz1cIiArIGVycm9ycztcbiAgICB9XG4gICAgaWYgKHZlcnNpb24pIHtcbiAgICAgIHlpZWxkIFwidmVyc2lvbj1cIiArIHZlcnNpb247XG4gICAgfVxuICAgIGlmIChyZXF1aXJlZFZlcnNpb24pIHtcbiAgICAgIHlpZWxkIFwicmVxdWlyZWRWZXJzaW9uPVwiICsgcmVxdWlyZWRWZXJzaW9uO1xuICAgIH1cbiAgICBpZiAoZG93bmxvYWRDb3VudCkge1xuICAgICAgeWllbGQgXCJkb3dubG9hZENvdW50PVwiICsgZG93bmxvYWRDb3VudDtcbiAgICB9XG4gIH1cbn07XG5cbmxldCBGdWxsVXBkYXRhYmxlU3Vic2NyaXB0aW9uID1cbi8qKlxuICogVGhlIGBGdWxsVXBkYXRhYmxlU3Vic2NyaXB0aW9uYCBjbGFzcyByZXByZXNlbnRzIGEgcmVndWxhciBmaWx0ZXJcbiAqIHN1YnNjcmlwdGlvbiB3aG9zZSBjb250ZW50IChmaWx0ZXIgdGV4dCkgaXMgZG93bmxvYWRlZCBmcm9tIGEgZmlsdGVyIGxpc3RcbiAqIG9mZiB0aGUgaW50ZXJuZXQgZnJvbSBgdXJsYCB3aXRoIGEgZnVsbCB1cGRhdGUuXG4gKlxuICogSXQgd2lsbCBoYXZlIGl0cyBwcm9wZXJ0eSBgZG93bmxvYWRhYmxlYCBzZXQgdG8gYHRydWVgLlxuICpcbiAqIEBleHRlbmRzIG1vZHVsZTpzdWJzY3JpcHRpb25DbGFzc2VzLkNvdW50YWJsZVN1YnNjcmlwdGlvblxuICovXG5leHBvcnRzLkZ1bGxVcGRhdGFibGVTdWJzY3JpcHRpb24gPVxuY2xhc3MgRnVsbFVwZGF0YWJsZVN1YnNjcmlwdGlvbiBleHRlbmRzIENvdW50YWJsZVN1YnNjcmlwdGlvbiB7XG4gIC8qKiBDb25zdHJ1Y3QgYSBuZXcgRnVsbFVwZGF0YWJsZVN1YnNjcmlwdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgb2YgdGhlIHN1YnNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFt0aXRsZV0gVGhlIHRpdGxlIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih1cmwsIHRpdGxlKSB7XG4gICAgc3VwZXIodXJsLCB0aXRsZSk7XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciB0aGUgc3Vic2NyaXB0aW9uIGlzIGRvd25sb2FkYWJsZS5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IDxjb2RlPnRydWU8L2NvZGU+XG4gICAqL1xuICBnZXQgZG93bmxvYWRhYmxlKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZ2V0IGhhc0J1bmRsZWRGaWx0ZXJzKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxubGV0IERpZmZVcGRhdGFibGVTdWJzY3JpcHRpb24gPVxuLyoqXG4gKiBUaGUgYERpZmZVcGRhdGFibGVTdWJzY3JpcHRpb25gIGNsYXNzIHJlcHJlc2VudHMgYSByZWd1bGFyIGZpbHRlclxuICogc3Vic2NyaXB0aW9uIHdob3NlIGNvbnRlbnQgKGZpbHRlciB0ZXh0KSBpcyBkb3dubG9hZGVkIGZyb20gYSBmaWx0ZXIgbGlzdFxuICogb2ZmIHRoZSBpbnRlcm5ldCBmcm9tIGB1cmxgLiBUaGUga2V5IGRpZmZlcmVuY2UgYmV0d2VlbiB0aGlzIGFuZCBhXG4gKiBge0BsaW5rIENvdW50YWJsZVN1YnNjcmlwdGlvbn1gIGlzIHRoYXQgdGhpcyBjbGFzcyBoYXMgYSBkaWZmdXJsXG4gKiBmcm9tIHdoZXJlIHVwZGF0ZXMgd2lsbCBiZSBoYW5kbGVkXG4gKlxuICogSXQgd2lsbCBoYXZlIGl0cyBgZG93bmxvYWRhYmxlYCBwcm9wZXJ0eSBzZXQgdG8gYGZhbHNlYC5cbiAqXG4gKiBAZXh0ZW5kcyBtb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5Db3VudGFibGVTdWJzY3JpcHRpb25cbiAqL1xuZXhwb3J0cy5EaWZmVXBkYXRhYmxlU3Vic2NyaXB0aW9uID1cbmNsYXNzIERpZmZVcGRhdGFibGVTdWJzY3JpcHRpb24gZXh0ZW5kcyBDb3VudGFibGVTdWJzY3JpcHRpb24ge1xuICAvKipcbiAgICogQ29uc3RydWN0IGEgbmV3IERpZmZVcGRhdGFibGVTdWJzY3JpcHRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdGl0bGVdIFRoZSB0aXRsZSBvZiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKiBAcGFyYW0gez9vYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gcGFzcyB0b1xuICAgKiAgICBge0BsaW5rIFN1YnNjcmlwdGlvbi5zZXRQYXJhbXN9YC4gQ2FuIGJlIG9taXR0ZWQgb3IgYG51bGxgLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3IodXJsLCB0aXRsZSwgcGFyYW1zKSB7XG4gICAgc3VwZXIodXJsLCB0aXRsZSk7XG5cbiAgICBpZiAocGFyYW1zKSB7XG4gICAgICB0aGlzLnNldFBhcmFtcyhwYXJhbXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXJpYWxpemVzIHRoZSBzdWJzY3JpcHRpb24gZm9yIHdyaXRpbmcgb3V0IG9uIGRpc2suXG4gICAqIEB5aWVsZHMge3N0cmluZ31cbiAgICogQHBhY2thZ2VcbiAgICovXG4gICpzZXJpYWxpemUoKSB7XG4gICAgbGV0IHtkaWZmVVJMLCBsYXN0TW9kaWZpZWR9ID0gdGhpcztcblxuICAgIHlpZWxkKiBzdXBlci5zZXJpYWxpemUoKTtcblxuICAgIGlmIChkaWZmVVJMKSB7XG4gICAgICB5aWVsZCBcImRpZmZVUkw9XCIgKyBkaWZmVVJMO1xuICAgIH1cblxuICAgIGlmIChsYXN0TW9kaWZpZWQpIHtcbiAgICAgIHlpZWxkIFwibGFzdE1vZGlmaWVkPVwiICsgbGFzdE1vZGlmaWVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGFibGUgc3Vic2NyaXB0aW9ucyBzaG91bGQgbm90IGJlIGRvd25sb2FkYWJsZSBhcyB0aGV5IHdpbGwgcmF0aGVyXG4gICAqIHN1cHBvcnQgZ2V0dGluZyBkaWZmcyBmcm9tIGEgZGlmZlVSTC5cbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IDxjb2RlPnRydWU8L2NvZGU+XG4gICAqL1xuICBnZXQgZG93bmxvYWRhYmxlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbG9jYXRpb24gd2hlcmUgdGhpcyBzdWJzY3JpcHRpb24ncyBjb250ZW50IGlzIGRvd25sb2FkZWQgZnJvbS5cbiAgICpcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGdldCBkaWZmVVJMKCkge1xuICAgIHJldHVybiB0aGlzLl9kaWZmVVJMO1xuICB9XG5cbiAgc2V0IGRpZmZVUkwodmFsdWUpIHtcbiAgICBsZXQgb2xkVmFsdWUgPSB0aGlzLl9kaWZmVVJMO1xuICAgIHRoaXMuX2RpZmZVUkwgPSB2YWx1ZTtcbiAgICBmaWx0ZXJOb3RpZmllci5lbWl0KFwic3Vic2NyaXB0aW9uLmRpZmZVUkxcIiwgdGhpcywgdmFsdWUsIG9sZFZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcmVsZWFzZSBkYXRlIG9mIHRoaXMgc3Vic2NyaXB0aW9uLCB1c2VkIGFzIGJhc2UgZGF0ZSB0byBjYWxjdWxhdGUgdGhlXG4gICAqIGRpZmZzLlxuICAgKlxuICAgKiBAdHlwZSB7RGF0ZX1cbiAgICovXG4gIGdldCBsYXN0TW9kaWZpZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3RNb2RpZmllZDtcbiAgfVxuXG4gIHNldCBsYXN0TW9kaWZpZWQodmFsdWUpIHtcbiAgICBsZXQgb2xkVmFsdWUgPSB0aGlzLl9sYXN0TW9kaWZpZWQ7XG4gICAgdGhpcy5fbGFzdE1vZGlmaWVkID0gdmFsdWU7XG4gICAgZmlsdGVyTm90aWZpZXIuZW1pdChcInN1YnNjcmlwdGlvbi5sYXN0TW9kaWZpZWRcIiwgdGhpcywgdmFsdWUsIG9sZFZhbHVlKTtcbiAgfVxufTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi8qKiBAbW9kdWxlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBmaWxlIE1hbmFnZXMgc3luY2hyb25pemF0aW9uIG9mIGZpbHRlciBzdWJzY3JpcHRpb25zLlxuICovXG5cbmNvbnN0IHtQcmVmc30gPSByZXF1aXJlKFwicHJlZnNcIik7XG5cbmNvbnN0IHtNSUxMSVNfSU5fU0VDT05ELCBNSUxMSVNfSU5fTUlOVVRFLCBNSUxMSVNfSU5fSE9VUixcbiAgICAgICBNSUxMSVNfSU5fREFZfSA9IHJlcXVpcmUoXCIuL3RpbWVcIik7XG5jb25zdCB7RG93bmxvYWRlciwgRG93bmxvYWRhYmxlfSA9IHJlcXVpcmUoXCIuL2Rvd25sb2FkZXJcIik7XG5jb25zdCB7RmlsdGVyfSA9IHJlcXVpcmUoXCIuL2ZpbHRlckNsYXNzZXNcIik7XG5jb25zdCB7ZmlsdGVyTm90aWZpZXJ9ID0gcmVxdWlyZShcIi4vZmlsdGVyTm90aWZpZXJcIik7XG5jb25zdCB7U3Vic2NyaXB0aW9uLFxuICAgICAgIENvdW50YWJsZVN1YnNjcmlwdGlvbn0gPSByZXF1aXJlKFwiLi9zdWJzY3JpcHRpb25DbGFzc2VzXCIpO1xuY29uc3Qge2FuYWx5dGljc30gPSByZXF1aXJlKFwiLi9hbmFseXRpY3NcIik7XG5jb25zdCB7cGFyc2VGaWx0ZXJMaXN0fSA9IHJlcXVpcmUoXCIuL2ZpbHRlcnMvbGlzdHMuanNcIik7XG5jb25zdCB7cmVjb21tZW5kYXRpb25zfSA9IHJlcXVpcmUoXCIuL3JlY29tbWVuZGF0aW9uc1wiKTtcblxuY29uc3QgSU5JVElBTF9ERUxBWSA9IDEgKiBNSUxMSVNfSU5fTUlOVVRFO1xuY29uc3QgQ0hFQ0tfSU5URVJWQUwgPSAxICogTUlMTElTX0lOX0hPVVI7XG5jb25zdCBERUZBVUxUX0VYUElSQVRJT05fSU5URVJWQUwgPSA1ICogTUlMTElTX0lOX0RBWTtcblxubGV0IGdldFByZWZlcnJlZE1pbGxpcyA9IChmaWVsZCwgZmFsbGJhY2spID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkIGluIFByZWZzID8gUHJlZnNbZmllbGRdIDogZmFsbGJhY2s7XG5cbi8qKlxuICogRG93bmxvYWRzIGZpbHRlciBzdWJzY3JpcHRpb25zIHdoZW5ldmVyIG5lY2Vzc2FyeS5cbiAqL1xuY2xhc3MgU3luY2hyb25pemVyIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIG5ldyBzeW5jaHJvbml6ZXIuXG4gICAqIEBwYXJhbSB7RmlsdGVyU3RvcmFnZX0gW2ZpbHRlclN0b3JhZ2VdIFRoZSBhc3NvY2lhdGVkIGZpbHRlciBzdG9yYWdlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZmlsdGVyU3RvcmFnZSkge1xuICAgIGlmIChmaWx0ZXJTdG9yYWdlID09IG51bGwgfHwgdHlwZW9mIGZpbHRlclN0b3JhZ2UgIT0gXCJvYmplY3RcIikge1xuICAgICAgdGhyb3cgRXJyb3IoXCJmaWx0ZXJTdG9yYWdlIG11c3QgYmUgYSB2YWxpZCBvYmplY3RcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgZG93bmxvYWRpbmcgb2Ygc3Vic2NyaXB0aW9ucyBoYXMgYmVlbiBzdGFydGVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCBwcm92aWRpbmcgYWN0dWFsIGRvd25sb2FkaW5nIGZ1bmN0aW9uYWxpdHkuXG4gICAgICogQHR5cGUge21vZHVsZTpkb3dubG9hZGVyLkRvd25sb2FkZXJ9XG4gICAgICovXG4gICAgdGhpcy5fZG93bmxvYWRlciA9IG5ldyBEb3dubG9hZGVyKHRoaXMuX2dldERvd25sb2FkYWJsZXMuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLl9kb3dubG9hZGVyLm9uRXhwaXJhdGlvbkNoYW5nZSA9IHRoaXMuX29uRXhwaXJhdGlvbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Rvd25sb2FkZXIub25Eb3dubG9hZFN0YXJ0ZWQgPSB0aGlzLl9vbkRvd25sb2FkU3RhcnRlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Rvd25sb2FkZXIub25Eb3dubG9hZFN1Y2Nlc3MgPSB0aGlzLl9vbkRvd25sb2FkU3VjY2Vzcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Rvd25sb2FkZXIub25Eb3dubG9hZEVycm9yID0gdGhpcy5fb25Eb3dubG9hZEVycm9yLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLl9maWx0ZXJTdG9yYWdlID0gZmlsdGVyU3RvcmFnZTtcblxuICAgIC8vIGFsbG93IHN1YnNjcmlwdGlvbiB0byB1cGRhdGUgdGhlbXNlbHZlcyBvbmNlIHJlLWVuYWJsZWQgaWYgbmVlZGVkLlxuICAgIENvdW50YWJsZVN1YnNjcmlwdGlvbi51c2VTeW5jaHJvbml6ZXIodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIGRvd25sb2FkaW5nIHN1YnNjcmlwdGlvbnMuXG4gICAqXG4gICAqIE5vIHN1YnNjcmlwdGlvbnMgYXJlIGRvd25sb2FkZWQgdW50aWwgdGhpcyBmdW5jdGlvbiBoYXMgYmVlbiBjYWxsZWQgYXRcbiAgICogbGVhc3Qgb25jZS5cbiAgICovXG4gIHN0YXJ0KCkge1xuICAgIGlmICh0aGlzLl9zdGFydGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZG93bmxvYWRlci5zY2hlZHVsZUNoZWNrcyhcbiAgICAgIGdldFByZWZlcnJlZE1pbGxpcyhcInN1YnNjcmlwdGlvbnNfY2hlY2tfaW50ZXJ2YWxcIiwgQ0hFQ0tfSU5URVJWQUwpLFxuICAgICAgZ2V0UHJlZmVycmVkTWlsbGlzKFwic3Vic2NyaXB0aW9uc19pbml0aWFsX2RlbGF5XCIsIElOSVRJQUxfREVMQVkpXG4gICAgKTtcbiAgICB0aGlzLl9zdGFydGVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbnkgZnVydGhlciBkb3dubG9hZGVyIHNjaGVkdWxlZCBjaGVjayBhbmQgc2V0IGl0cyBpbnRlcm5hbCBzdGF0ZVxuICAgKiBhcyBub3Qgc3RhcnRlZC5cbiAgICovXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2Rvd25sb2FkZXIudW5zY2hlZHVsZUNoZWNrcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIGEgc3Vic2NyaXB0aW9uIGlzIGN1cnJlbnRseSBiZWluZyBkb3dubG9hZGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsICBVUkwgb2YgdGhlIHN1YnNjcmlwdGlvblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzRXhlY3V0aW5nKHVybCkge1xuICAgIHJldHVybiB0aGlzLl9kb3dubG9hZGVyLmlzRG93bmxvYWRpbmcodXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGRvd25sb2FkIG9mIGEgc3Vic2NyaXB0aW9uIGlmIGl0IGlzIGRvd25sb2FkYWJsZS5cbiAgICpcbiAgICogQHBhcmFtIHttb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5Db3VudGFibGVTdWJzY3JpcHRpb259IHN1YnNjcmlwdGlvblxuICAgKiAgIFN1YnNjcmlwdGlvbiB0byBiZSBkb3dubG9hZGVkXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbWFudWFsXG4gICAqICAgYHRydWVgIGZvciBhIG1hbnVhbGx5IHN0YXJ0ZWQgZG93bmxvYWQgKHNob3VsZCBub3QgdHJpZ2dlciBmYWxsYmFja1xuICAgKiAgIHJlcXVlc3RzKVxuICAgKi9cbiAgZXhlY3V0ZShzdWJzY3JpcHRpb24sIG1hbnVhbCkge1xuICAgIHRoaXMuX2Rvd25sb2FkZXIuZG93bmxvYWQodGhpcy5fZ2V0RG93bmxvYWRhYmxlKHN1YnNjcmlwdGlvbiwgbWFudWFsKSk7XG4gIH1cblxuICAvKipcbiAgICogWWllbGRzIGB7QGxpbmsgbW9kdWxlOmRvd25sb2FkZXIuRG93bmxvYWRhYmxlIERvd25sb2FkYWJsZX1gIGluc3RhbmNlcyBmb3JcbiAgICogYWxsIHN1YnNjcmlwdGlvbnMgdGhhdCBjYW4gYmUgZG93bmxvYWRlZC5cbiAgICogQHlpZWxkcyB7bW9kdWxlOmRvd25sb2FkZXIuRG93bmxvYWRhYmxlfVxuICAgKi9cbiAgKl9nZXREb3dubG9hZGFibGVzKCkge1xuICAgIGlmICghUHJlZnMuc3Vic2NyaXB0aW9uc19hdXRvdXBkYXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChsZXQgc3Vic2NyaXB0aW9uIG9mIHRoaXMuX2ZpbHRlclN0b3JhZ2Uuc3Vic2NyaXB0aW9ucygpKSB7XG4gICAgICBpZiAoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgQ291bnRhYmxlU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHlpZWxkIHRoaXMuX2dldERvd25sb2FkYWJsZShzdWJzY3JpcHRpb24sIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGB7QGxpbmsgbW9kdWxlOmRvd25sb2FkZXIuRG93bmxvYWRhYmxlIERvd25sb2FkYWJsZX1gIGluc3RhbmNlXG4gICAqIGZvciBhIHN1YnNjcmlwdGlvbi5cbiAgICogQHBhcmFtIHttb2R1bGU6c3Vic2NyaXB0aW9uQ2xhc3Nlcy5TdWJzY3JpcHRpb259IHN1YnNjcmlwdGlvblxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG1hbnVhbFxuICAgKiBAcmV0dXJucyB7bW9kdWxlOmRvd25sb2FkZXIuRG93bmxvYWRhYmxlfVxuICAgKi9cbiAgX2dldERvd25sb2FkYWJsZShzdWJzY3JpcHRpb24sIG1hbnVhbCkge1xuICAgIGxldCB7dXJsLCBsYXN0RG93bmxvYWQsIGxhc3RTdWNjZXNzLCBsYXN0Q2hlY2ssIHZlcnNpb24sIHNvZnRFeHBpcmF0aW9uLFxuICAgICAgICAgZXhwaXJlcywgZG93bmxvYWRDb3VudCwgZGlzYWJsZWQsIGRvd25sb2FkYWJsZSxcbiAgICAgICAgIGNvdW50YWJsZSwgZGlmZlVSTCwgbGFzdE1vZGlmaWVkfSA9IHN1YnNjcmlwdGlvbjtcblxuICAgIGxldCByZXN1bHQ7XG5cbiAgICAvLyBJZiB0aGlzIGlzIGEgRGlmZlVwZGF0YWJsZSBzdWJzY3JpcHRpb24sIHVzZSB0aGUgZGlmZiBVUkwgYW5kIHNldCB0aGVcbiAgICAvLyBvcmlnaW5hbCBVUkwuIFdlIG5lZWQgdG8gc2V0IHRoaXMgb3JpZ2luYWwgVVJMIG9yIGl0IHdpbGwgbm90IGJlXG4gICAgLy8gYXZhaWxhYmxlIGluIHRoZSBkb3dubG9hZCBzdWNjZXNzIGNhbGxiYWNrLlxuICAgIGlmIChkaWZmVVJMKSB7XG4gICAgICByZXN1bHQgPSBuZXcgRG93bmxvYWRhYmxlKGRpZmZVUkwpO1xuICAgICAgcmVzdWx0Lm9yaWdpbmFsVXJsID0gdXJsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IG5ldyBEb3dubG9hZGFibGUodXJsKTtcbiAgICB9XG5cbiAgICBpZiAoYW5hbHl0aWNzLmlzVHJ1c3RlZCh1cmwpKSB7XG4gICAgICByZXN1bHQuZmlyc3RWZXJzaW9uID0gYW5hbHl0aWNzLmdldEZpcnN0VmVyc2lvbigpO1xuICAgIH1cblxuICAgIGlmIChsYXN0RG93bmxvYWQgIT0gbGFzdFN1Y2Nlc3MpIHtcbiAgICAgIHJlc3VsdC5sYXN0RXJyb3IgPSBsYXN0RG93bmxvYWQgKiBNSUxMSVNfSU5fU0VDT05EO1xuICAgIH1cblxuICAgIHJlc3VsdC5sYXN0Q2hlY2sgPSBsYXN0Q2hlY2sgKiBNSUxMSVNfSU5fU0VDT05EO1xuICAgIHJlc3VsdC5sYXN0VmVyc2lvbiA9IHZlcnNpb247XG4gICAgcmVzdWx0LnNvZnRFeHBpcmF0aW9uID0gc29mdEV4cGlyYXRpb24gKiBNSUxMSVNfSU5fU0VDT05EO1xuICAgIHJlc3VsdC5oYXJkRXhwaXJhdGlvbiA9IGV4cGlyZXMgKiBNSUxMSVNfSU5fU0VDT05EO1xuICAgIHJlc3VsdC5tYW51YWwgPSBtYW51YWw7XG4gICAgcmVzdWx0LmRvd25sb2FkQ291bnQgPSBkb3dubG9hZENvdW50O1xuICAgIHJlc3VsdC5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIHJlc3VsdC5sYXN0TW9kaWZpZWQgPSBsYXN0TW9kaWZpZWQ7XG4gICAgaWYgKCFkaWZmVVJMICYmIChkaXNhYmxlZCB8fCAoY291bnRhYmxlICYmICFkb3dubG9hZGFibGUpKSkge1xuICAgICAgcmVzdWx0Lm1ldGhvZCA9IFwiSEVBRFwiO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBfb25FeHBpcmF0aW9uQ2hhbmdlKGRvd25sb2FkYWJsZSkge1xuICAgIGxldCBzdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb24uZnJvbVVSTChcbiAgICAgIGRvd25sb2FkYWJsZS5vcmlnaW5hbFVybCB8fCBkb3dubG9hZGFibGUudXJsKTtcbiAgICBzdWJzY3JpcHRpb24ubGFzdENoZWNrID0gTWF0aC5yb3VuZChcbiAgICAgIGRvd25sb2FkYWJsZS5sYXN0Q2hlY2sgLyBNSUxMSVNfSU5fU0VDT05EXG4gICAgKTtcbiAgICBzdWJzY3JpcHRpb24uc29mdEV4cGlyYXRpb24gPSBNYXRoLnJvdW5kKFxuICAgICAgZG93bmxvYWRhYmxlLnNvZnRFeHBpcmF0aW9uIC8gTUlMTElTX0lOX1NFQ09ORFxuICAgICk7XG4gICAgc3Vic2NyaXB0aW9uLmV4cGlyZXMgPSBNYXRoLnJvdW5kKFxuICAgICAgZG93bmxvYWRhYmxlLmhhcmRFeHBpcmF0aW9uIC8gTUlMTElTX0lOX1NFQ09ORFxuICAgICk7XG4gIH1cblxuICBfb25Eb3dubG9hZFN0YXJ0ZWQoZG93bmxvYWRhYmxlKSB7XG4gICAgbGV0IHN1YnNjcmlwdGlvbiA9IFN1YnNjcmlwdGlvbi5mcm9tVVJMKFxuICAgICAgZG93bmxvYWRhYmxlLm9yaWdpbmFsVXJsIHx8IGRvd25sb2FkYWJsZS51cmwpO1xuICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJzdWJzY3JpcHRpb24uZG93bmxvYWRpbmdcIiwgc3Vic2NyaXB0aW9uKTtcbiAgfVxuXG4gIF9vbkRvd25sb2FkU3VjY2Vzcyhkb3dubG9hZGFibGUsIHJlc3BvbnNlVGV4dCwgZXJyb3JDYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0Q2FsbGJhY2spIHtcbiAgICAvLyBpZiBpdCBoYXMgb3JpZ2luYWxVcmwsIGl0IG1lYW5zIHRoYXQgaXQncyBhIGRpZmZVcGRhdGFibGUgc3Vic2NyaXB0aW9uXG4gICAgbGV0IGlzRGlmZlVwZGF0YWJsZSA9IChkb3dubG9hZGFibGUub3JpZ2luYWxVcmwgIT0gbnVsbCk7XG5cbiAgICBsZXQgc3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uLmZyb21VUkwoZG93bmxvYWRhYmxlLnJlZGlyZWN0VVJMIHx8XG4gICAgICAoaXNEaWZmVXBkYXRhYmxlID8gZG93bmxvYWRhYmxlLm9yaWdpbmFsVXJsIDogZG93bmxvYWRhYmxlLnVybCkpO1xuICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJzdWJzY3JpcHRpb24uZG93bmxvYWRpbmdcIiwgc3Vic2NyaXB0aW9uKTtcblxuICAgIGxldCBpc0hFQUQgPSBkb3dubG9hZGFibGUubWV0aG9kID09PSBcIkhFQURcIjtcblxuICAgIGxldCB7ZXJyb3IsIGxpbmVzLCBwYXJhbXMsXG4gICAgICAgICBtaW5WZXJzaW9ufSA9IGlzSEVBRCB8fCBpc0RpZmZVcGRhdGFibGUgP1xuICAgICAgICAgICB7cGFyYW1zOiB7fX0gOiBwYXJzZUZpbHRlckxpc3QocmVzcG9uc2VUZXh0KTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIGVycm9yQ2FsbGJhY2soZXJyb3IpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMucmVkaXJlY3QpIHtcbiAgICAgIHJldHVybiByZWRpcmVjdENhbGxiYWNrKHBhcmFtcy5yZWRpcmVjdCk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHJlZGlyZWN0c1xuICAgIGlmIChkb3dubG9hZGFibGUucmVkaXJlY3RVUkwgJiZcbiAgICAgICAgZG93bmxvYWRhYmxlLnJlZGlyZWN0VVJMICE9IGRvd25sb2FkYWJsZS51cmwpIHtcbiAgICAgIGxldCBvbGRTdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb24uZnJvbVVSTChcbiAgICAgICAgZG93bmxvYWRhYmxlLm9yaWdpbmFsVXJsIHx8IGRvd25sb2FkYWJsZS51cmwpO1xuICAgICAgc3Vic2NyaXB0aW9uLnRpdGxlID0gb2xkU3Vic2NyaXB0aW9uLnRpdGxlO1xuICAgICAgc3Vic2NyaXB0aW9uLmRpc2FibGVkID0gb2xkU3Vic2NyaXB0aW9uLmRpc2FibGVkO1xuICAgICAgc3Vic2NyaXB0aW9uLmxhc3RDaGVjayA9IG9sZFN1YnNjcmlwdGlvbi5sYXN0Q2hlY2s7XG5cbiAgICAgIGxldCBsaXN0ZWQgPSB0aGlzLl9maWx0ZXJTdG9yYWdlLmhhc1N1YnNjcmlwdGlvbihvbGRTdWJzY3JpcHRpb24pO1xuICAgICAgaWYgKGxpc3RlZCkge1xuICAgICAgICB0aGlzLl9maWx0ZXJTdG9yYWdlLnJlbW92ZVN1YnNjcmlwdGlvbihvbGRTdWJzY3JpcHRpb24pO1xuICAgICAgfVxuXG4gICAgICBTdWJzY3JpcHRpb24ua25vd25TdWJzY3JpcHRpb25zLmRlbGV0ZShvbGRTdWJzY3JpcHRpb24udXJsKTtcblxuICAgICAgaWYgKGxpc3RlZCkge1xuICAgICAgICB0aGlzLl9maWx0ZXJTdG9yYWdlLmFkZFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRoZSBkb3dubG9hZCBhY3R1YWxseSBzdWNjZWVkZWRcbiAgICBzdWJzY3JpcHRpb24ubGFzdFN1Y2Nlc3MgPSBzdWJzY3JpcHRpb24ubGFzdERvd25sb2FkID0gTWF0aC5yb3VuZChcbiAgICAgIERhdGUubm93KCkgLyBNSUxMSVNfSU5fU0VDT05EXG4gICAgKTtcbiAgICBzdWJzY3JpcHRpb24uZG93bmxvYWRTdGF0dXMgPSBcInN5bmNocm9uaXplX29rXCI7XG4gICAgc3Vic2NyaXB0aW9uLmRvd25sb2FkQ291bnQgPSBkb3dubG9hZGFibGUuZG93bmxvYWRDb3VudDtcbiAgICBzdWJzY3JpcHRpb24uZXJyb3JzID0gMDtcblxuICAgIC8vIFByb2Nlc3MgcGFyYW1ldGVyc1xuICAgIGlmIChwYXJhbXMuaG9tZXBhZ2UpIHtcbiAgICAgIGxldCB1cmw7XG4gICAgICB0cnkge1xuICAgICAgICB1cmwgPSBuZXcgVVJMKHBhcmFtcy5ob21lcGFnZSk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICB1cmwgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodXJsICYmICh1cmwucHJvdG9jb2wgPT0gXCJodHRwOlwiIHx8IHVybC5wcm90b2NvbCA9PSBcImh0dHBzOlwiKSkge1xuICAgICAgICBzdWJzY3JpcHRpb24uaG9tZXBhZ2UgPSB1cmwuaHJlZjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnRpdGxlKSB7XG4gICAgICBzdWJzY3JpcHRpb24udGl0bGUgPSBwYXJhbXMudGl0bGU7XG4gICAgICBzdWJzY3JpcHRpb24uZml4ZWRUaXRsZSA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc3Vic2NyaXB0aW9uLmZpeGVkVGl0bGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnZlcnNpb24pIHtcbiAgICAgIHN1YnNjcmlwdGlvbi52ZXJzaW9uID0gcGFyc2VJbnQocGFyYW1zLnZlcnNpb24sIDEwKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzdWJzY3JpcHRpb24udmVyc2lvbiA9IGlzSEVBRCB8fCBpc0RpZmZVcGRhdGFibGUgP1xuICAgICAgICBkb3dubG9hZGFibGUubGFzdFZlcnNpb24gOiAwO1xuICAgIH1cblxuICAgIGlmICgocGFyYW1zLnZlcnNpb24gfHwgaXNEaWZmVXBkYXRhYmxlKSAmJlxuICAgICAgICBhbmFseXRpY3MuaXNUcnVzdGVkKGRvd25sb2FkYWJsZS5yZWRpcmVjdFVSTCB8fCBkb3dubG9hZGFibGUudXJsKSkge1xuICAgICAgYW5hbHl0aWNzLnJlY29yZFZlcnNpb24oc3Vic2NyaXB0aW9uLnZlcnNpb24udG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgaWYgKHN1YnNjcmlwdGlvbi50eXBlKSB7XG4gICAgICBzdWJzY3JpcHRpb24uYWJ0ZXN0ID0gcGFyYW1zLmFidGVzdDtcbiAgICB9XG5cbiAgICBsZXQgaGVhZEV4cEludGVydmFsID0gZ2V0UHJlZmVycmVkTWlsbGlzKFxuICAgICAgXCJzdWJzY3JpcHRpb25zX2hlYWRfZXhwaXJhdGlvbl9pbnRlcnZhbFwiLFxuICAgICAgTUlMTElTX0lOX0RBWVxuICAgICk7XG5cbiAgICBsZXQgZGVmYXVsdEV4cEludGVydmFsID0gZ2V0UHJlZmVycmVkTWlsbGlzKFxuICAgICAgXCJzdWJzY3JpcHRpb25zX2RlZmF1bHRfZXhwaXJhdGlvbl9pbnRlcnZhbFwiLFxuICAgICAgREVGQVVMVF9FWFBJUkFUSU9OX0lOVEVSVkFMXG4gICAgKTtcblxuICAgIGxldCBleHBpcmF0aW9uSW50ZXJ2YWwgPSBpc0hFQUQgPyBoZWFkRXhwSW50ZXJ2YWwgOiBkZWZhdWx0RXhwSW50ZXJ2YWw7XG5cbiAgICBpZiAoaXNEaWZmVXBkYXRhYmxlKSB7XG4gICAgICBwYXJhbXMuZXhwaXJlcyA9XG4gICAgICAgIFsuLi5yZWNvbW1lbmRhdGlvbnMoKV0uZmluZChcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbiA9PiByZWNvbW1lbmRhdGlvbi51cmwgPT09IGRvd25sb2FkYWJsZS5vcmlnaW5hbFVybFxuICAgICAgICApLmV4cGlyZXM7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuZXhwaXJlcykge1xuICAgICAgbGV0IG1hdGNoID0gL14oXFxkKylcXHMqKGgpPy8uZXhlYyhwYXJhbXMuZXhwaXJlcyk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgbGV0IGludGVydmFsID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgaWYgKG1hdGNoWzJdKSB7XG4gICAgICAgICAgZXhwaXJhdGlvbkludGVydmFsID0gaW50ZXJ2YWwgKiBNSUxMSVNfSU5fSE9VUjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBleHBpcmF0aW9uSW50ZXJ2YWwgPSBpbnRlcnZhbCAqIE1JTExJU19JTl9EQVk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgW1xuICAgICAgc29mdEV4cGlyYXRpb24sXG4gICAgICBoYXJkRXhwaXJhdGlvblxuICAgIF0gPSB0aGlzLl9kb3dubG9hZGVyLnByb2Nlc3NFeHBpcmF0aW9uSW50ZXJ2YWwoZXhwaXJhdGlvbkludGVydmFsKTtcbiAgICBzdWJzY3JpcHRpb24uc29mdEV4cGlyYXRpb24gPSBNYXRoLnJvdW5kKHNvZnRFeHBpcmF0aW9uIC8gTUlMTElTX0lOX1NFQ09ORCk7XG4gICAgc3Vic2NyaXB0aW9uLmV4cGlyZXMgPSBNYXRoLnJvdW5kKGhhcmRFeHBpcmF0aW9uIC8gTUlMTElTX0lOX1NFQ09ORCk7XG5cbiAgICBpZiAobWluVmVyc2lvbikge1xuICAgICAgc3Vic2NyaXB0aW9uLnJlcXVpcmVkVmVyc2lvbiA9IG1pblZlcnNpb247XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZGVsZXRlIHN1YnNjcmlwdGlvbi5yZXF1aXJlZFZlcnNpb247XG4gICAgfVxuXG4gICAgLy8gSW4gY2FzZSBvZiBIRUFEIHJlcXVlc3QgKGRpc2FibGVkIHN1YnNjcmlwdGlvbikgbm90aWZ5IGFuIHVwZGF0ZSBzbyB0aGF0XG4gICAgLy8gdGhlIGxhc3QgdmVyc2lvbiBvZiB0aGUgc3Vic2NyaXB0aW9uIHdpbGwgYmUgc3RvcmVkIGZvciB0aGUgbmV4dCB0aW1lLlxuICAgIGlmIChpc0hFQUQpIHtcbiAgICAgIGZpbHRlck5vdGlmaWVyLmVtaXQoXCJzdWJzY3JpcHRpb24udXBkYXRlZFwiLCBzdWJzY3JpcHRpb24pO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0RpZmZVcGRhdGFibGUpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlT2JqZWN0ID0gSlNPTi5wYXJzZShyZXNwb25zZVRleHQpO1xuICAgICAgY29uc3QgYWRkZWQgPSByZXNwb25zZU9iamVjdC5maWx0ZXJzLmFkZDtcbiAgICAgIGNvbnN0IHJlbW92ZWQgPSByZXNwb25zZU9iamVjdC5maWx0ZXJzLnJlbW92ZTtcblxuICAgICAgZmlsdGVyTm90aWZpZXIuZW1pdChcInN1YnNjcmlwdGlvbi5kaWZmUmVjZWl2ZWRcIiwgc3Vic2NyaXB0aW9uLCB7YWRkZWQsIHJlbW92ZWR9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoU3Vic2NyaXB0aW9uLmRucikge1xuICAgICAgZmlsdGVyTm90aWZpZXIuZW1pdChcInN1YnNjcmlwdGlvbi5mdWxsVXBkYXRlUmVjZWl2ZWRcIiwgc3Vic2NyaXB0aW9uLCBsaW5lcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fcHJvY2Vzc0ZpbHRlcnMoc3Vic2NyaXB0aW9uLCBsaW5lcyk7XG4gICAgfVxuICB9XG5cbiAgX29uRG93bmxvYWRFcnJvcihkb3dubG9hZGFibGUsIGRvd25sb2FkVVJMLCBlcnJvciwgcmVzcG9uc2VTdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgcmVkaXJlY3RDYWxsYmFjaykge1xuICAgIGxldCBzdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb24uZnJvbVVSTChcbiAgICAgIGRvd25sb2FkYWJsZS5vcmlnaW5hbFVybCB8fCBkb3dubG9hZGFibGUudXJsKTtcbiAgICBzdWJzY3JpcHRpb24ubGFzdERvd25sb2FkID0gTWF0aC5yb3VuZChEYXRlLm5vdygpIC8gTUlMTElTX0lOX1NFQ09ORCk7XG4gICAgc3Vic2NyaXB0aW9uLmRvd25sb2FkU3RhdHVzID0gZXJyb3I7XG4gICAgZmlsdGVyTm90aWZpZXIuZW1pdChcInN1YnNjcmlwdGlvbi5kb3dubG9hZGluZ1wiLCBzdWJzY3JpcHRpb24pO1xuXG4gICAgLy8gUmVxdWVzdCBmYWxsYmFjayBVUkwgaWYgbmVjZXNzYXJ5IC0gZm9yIGF1dG9tYXRpYyB1cGRhdGVzIG9ubHlcbiAgICBpZiAoIWRvd25sb2FkYWJsZS5tYW51YWwpIHtcbiAgICAgIHN1YnNjcmlwdGlvbi5lcnJvcnMrKztcblxuICAgICAgaWYgKHJlZGlyZWN0Q2FsbGJhY2sgJiZcbiAgICAgICAgICBzdWJzY3JpcHRpb24uZXJyb3JzID49IFByZWZzLnN1YnNjcmlwdGlvbnNfZmFsbGJhY2tlcnJvcnMgJiZcbiAgICAgICAgICAvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHN1YnNjcmlwdGlvbi51cmwpKSB7XG4gICAgICAgIHN1YnNjcmlwdGlvbi5lcnJvcnMgPSAwO1xuXG4gICAgICAgIGxldCBmYWxsYmFja1VSTCA9IFByZWZzLnN1YnNjcmlwdGlvbnNfZmFsbGJhY2t1cmw7XG4gICAgICAgIGNvbnN0IHthZGRvblZlcnNpb259ID0gcmVxdWlyZShcImluZm9cIik7XG4gICAgICAgIGZhbGxiYWNrVVJMID0gZmFsbGJhY2tVUkwucmVwbGFjZSgvJVZFUlNJT04lL2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoYWRkb25WZXJzaW9uKSk7XG4gICAgICAgIGZhbGxiYWNrVVJMID0gZmFsbGJhY2tVUkwucmVwbGFjZSgvJVNVQlNDUklQVElPTiUvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdWJzY3JpcHRpb24udXJsKSk7XG4gICAgICAgIGZhbGxiYWNrVVJMID0gZmFsbGJhY2tVUkwucmVwbGFjZSgvJVVSTCUvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChkb3dubG9hZFVSTCkpO1xuICAgICAgICBmYWxsYmFja1VSTCA9IGZhbGxiYWNrVVJMLnJlcGxhY2UoLyVFUlJPUiUvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChlcnJvcikpO1xuICAgICAgICBmYWxsYmFja1VSTCA9IGZhbGxiYWNrVVJMLnJlcGxhY2UoLyVSRVNQT05TRVNUQVRVUyUvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChyZXNwb25zZVN0YXR1cykpO1xuXG4gICAgICAgIGxldCBpbml0T2JqID0ge1xuICAgICAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXG4gICAgICAgICAgY3JlZGVudGlhbHM6IFwib21pdFwiLFxuICAgICAgICAgIHJlZmVycmVyOiBcIm5vLXJlZmVycmVyXCIsXG4gICAgICAgICAgbWV0aG9kOiBkb3dubG9hZGFibGUubWV0aG9kXG4gICAgICAgIH07XG5cbiAgICAgICAgZmV0Y2goZmFsbGJhY2tVUkwsIGluaXRPYmopLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKVxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlVGV4dCA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ZpbHRlclN0b3JhZ2UuaGFzU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgbWF0Y2ggPSAvXihcXGQrKSg/OlxccysoXFxTKykpPyQvLmV4ZWMocmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFsxXSA9PSBcIjMwMVwiICYmICAgIC8vIE1vdmVkIHBlcm1hbmVudGx5XG4gICAgICAgICAgICAgIG1hdGNoWzJdICYmIC9eaHR0cHM/OlxcL1xcLy9pLnRlc3QobWF0Y2hbMl0pKSB7XG4gICAgICAgICAgICAgIHJlZGlyZWN0Q2FsbGJhY2sobWF0Y2hbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR29uZVxuICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0gPT0gXCI0MTBcIikge1xuICAgICAgICAgICAgICBsZXQgZGF0YSA9IFwiW0FkYmxvY2tdXFxuXCIgK1xuICAgICAgICAgICAgICBbLi4uc3Vic2NyaXB0aW9uLmZpbHRlclRleHQoKV0uam9pbihcIlxcblwiKTtcbiAgICAgICAgICAgICAgcmVkaXJlY3RDYWxsYmFjayhcImRhdGE6dGV4dC9wbGFpbixcIiArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdpdmVuIGEgdmFsaWQgc3Vic2NyaXB0aW9uIGFuZCBzb21lIHRleHQsIGl0IHBhcnNlcyBhbGwgZmlsdGVycyBhbmQgYWRkXG4gICAqIHRoZXNlIGluIGJ1bGsgdG8gdGhlIHNwZWNpZmllZCBzdWJzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7bW9kdWxlOnN1YnNjcmlwdGlvbkNsYXNzZXMuU3Vic2NyaXB0aW9ufSBzdWJzY3JpcHRpb24gVGhlXG4gICAqICBTdWJzY3JpcHRpb24gdG8gdXNlIGFzIHJlZmVyZW5jZSBmb3IgbWFudWFsbHkgYWRkZWQgZmlsdGVycy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbHRlcnMgVGhlIGZpbHRlcnMgZmlsZS90ZXh0IHRvIGFkZC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZXJyb3JDYWxsYmFjayBBIGNhbGxiYWNrIGludm9rZWQgaWYgZXJyb3JzIG9jY3VyLlxuICAgKi9cbiAgYWRkU3Vic2NyaXB0aW9uRmlsdGVycyhcbiAgICBzdWJzY3JpcHRpb24sIGZpbHRlcnMsIGVycm9yQ2FsbGJhY2tcbiAgKSB7XG4gICAgbGV0IHtlcnJvciwgbGluZXN9ID0gcGFyc2VGaWx0ZXJMaXN0KGZpbHRlcnMpO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgZXJyb3JDYWxsYmFjayhlcnJvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fcHJvY2Vzc0ZpbHRlcnMoc3Vic2NyaXB0aW9uLCBsaW5lcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdpdmVuIGEgbGlzdCBvZiBwYXJzZWQgZmlsdGVycywgbm9ybWFsaXplIGVhY2ggbGluZSBhbmQgdXBkYXRlIHRoZVxuICAgKiBzdWJzY3JpcHRpb24uXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bW9kdWxlOnN1YnNjcmlwdGlvbkNsYXNzZXMuU3Vic2NyaXB0aW9ufSBzdWJzY3JpcHRpb24gVGhlXG4gICAqICBTdWJzY3JpcHRpb24gdG8gdXNlIGFzIHJlZmVyZW5jZSBmb3IgbWFudWFsbHkgYWRkZWQgZmlsdGVycy5cbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgVGhlIHBhcnNlZCBmaWx0ZXJzIGxpbmVzLiBUaGUgZmlyc3QgbGluZVxuICAgd2lsbCBiZSBza2lwcGVkIG92ZXIgYXMgaXQgaXMgc3VwcG9zZWQgdG8gY29udGFpbiB0aGUgaGVhZGVyLlxuICAqL1xuICBfcHJvY2Vzc0ZpbHRlcnMoc3Vic2NyaXB0aW9uLCBsaW5lcykge1xuICAgIGxpbmVzLnNoaWZ0KCk7XG4gICAgbGV0IGZpbHRlclRleHQgPSBbXTtcbiAgICBmb3IgKGxldCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICBsaW5lID0gRmlsdGVyLm5vcm1hbGl6ZShsaW5lKTtcbiAgICAgIGlmIChsaW5lKSB7XG4gICAgICAgIGZpbHRlclRleHQucHVzaChsaW5lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9maWx0ZXJTdG9yYWdlLnVwZGF0ZVN1YnNjcmlwdGlvbkZpbHRlcnMoc3Vic2NyaXB0aW9uLCBmaWx0ZXJUZXh0KTtcbiAgfVxufVxuXG5leHBvcnRzLlN5bmNocm9uaXplciA9IFN5bmNocm9uaXplcjtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi8qKiBAbW9kdWxlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIE51bWJlciBvZiBtaWxsaXNlY29uZHMgaW4gYSBzZWNvbmQuXG4gKiBAY29uc3Qge251bWJlcn1cbiAqIEBkZWZhdWx0IDEwMDBcbiAqIEBwYWNrYWdlXG4gKi9cbmV4cG9ydHMuTUlMTElTX0lOX1NFQ09ORCA9IDEwMDA7XG5cbi8qKlxuICogTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpbiBhIG1pbnV0ZS5cbiAqIEBjb25zdCB7bnVtYmVyfVxuICogQGRlZmF1bHQgNjAwMDBcbiAqIEBwYWNrYWdlXG4gKi9cbmV4cG9ydHMuTUlMTElTX0lOX01JTlVURSA9IDYwMDAwO1xuXG4vKipcbiAqIE51bWJlciBvZiBtaWxsaXNlY29uZHMgaW4gYW4gaG91ci5cbiAqIEBjb25zdCB7bnVtYmVyfVxuICogQGRlZmF1bHQgMzYwMDAwMFxuICogQHBhY2thZ2VcbiAqL1xuZXhwb3J0cy5NSUxMSVNfSU5fSE9VUiA9IDM2MDAwMDA7XG5cbi8qKlxuICogTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpbiBhIGRheS5cbiAqIEBjb25zdCB7bnVtYmVyfVxuICogQGRlZmF1bHQgODY0MDAwMDBcbiAqIEBwYWNrYWdlXG4gKi9cbmV4cG9ydHMuTUlMTElTX0lOX0RBWSA9IDg2NDAwMDAwO1xuXG4vKipcbiAqIE51bWJlciBvZiBtaW51dGVzIGluIGFuIGhvdXIuXG4gKiBAY29uc3Qge251bWJlcn1cbiAqIEBkZWZhdWx0IDYwXG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLk1JTlVURVNfSU5fSE9VUiA9IDYwO1xuXG4vKipcbiAqIE51bWJlciBvZiBtaW51dGVzIGluIGEgZGF5LlxuICogQGNvbnN0IHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAxNDQwXG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLk1JTlVURVNfSU5fREFZID0gMTQ0MDtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBBZGJsb2NrIFBsdXMgPGh0dHBzOi8vYWRibG9ja3BsdXMub3JnLz4sXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBBZGJsb2NrIFBsdXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggQWRibG9jayBQbHVzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbi8qKiBAbW9kdWxlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7Q2FjaGV9ID0gcmVxdWlyZShcIi4vY2FjaGluZ1wiKTtcblxuY29uc3Qge2ljYW5uUHVibGljU3VmZml4ZXN9ID0gcmVxdWlyZShcIi4uL2RhdGEvaWNhbm5QdWJsaWNTdWZmaXhMaXN0LmpzXCIpO1xuY29uc3Qge25vbkljYW5uUHVibGljU3VmZml4ZXN9ID0gcmVxdWlyZShcIi4uL2RhdGEvbm9uSWNhbm5QdWJsaWNTdWZmaXhMaXN0LmpzXCIpO1xuXG4vLyBlbnN1cmUgbm8gY29uZmxpY3QgZXZlciBoYXBwZW5zIHdpdGggaW5oZXJpdGVkIHByb3BlcnRpZXNcbk9iamVjdC5zZXRQcm90b3R5cGVPZihpY2FublB1YmxpY1N1ZmZpeGVzLCBudWxsKTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihub25JY2FublB1YmxpY1N1ZmZpeGVzLCBudWxsKTtcblxuLyoqXG4gKiBDYWNoZSBvZiBkb21haW4gbWFwcy5cbiAqXG4gKiBUaGUgZG9tYWlucyBwYXJ0IG9mIGZpbHRlciB0ZXh0IChlLmcuIGBleGFtcGxlLmNvbSx+bWFpbC5leGFtcGxlLmNvbWApIGlzXG4gKiBvZnRlbiByZXBlYXRlZCBhY3Jvc3MgZmlsdGVycy4gVGhpcyBjYWNoZSBlbmFibGVzIGRlZHVwbGljYXRpb24gb2YgdGhlXG4gKiBgTWFwYCBvYmplY3RzIHRoYXQgc3BlY2lmeSBvbiB3aGljaCBkb21haW5zIHRoZSBmaWx0ZXIgZG9lcyBhbmQgZG9lcyBub3RcbiAqIGFwcGx5LCB3aGljaCByZWR1Y2VzIG1lbW9yeSB1c2FnZSBhbmQgaW1wcm92ZXMgcGVyZm9ybWFuY2UuXG4gKlxuICogQHR5cGUge01hcC48c3RyaW5nLCBNYXAuPHN0cmluZywgYm9vbGVhbj4+fVxuICovXG5sZXQgZG9tYWluc0NhY2hlID0gbmV3IENhY2hlKDEwMDApO1xuXG4vKipcbiAqIEEgYFVSTEluZm9gIG9iamVjdCByZXByZXNlbnRzIGluZm9ybWF0aW9uIGFib3V0IGEgVVJMLlxuICpcbiAqIEl0IGlzIHJldHVybmVkIGJ5IGB7QGxpbmsgbW9kdWxlOnVybC5wYXJzZVVSTCBwYXJzZVVSTCgpfWAuXG4gKi9cbmNsYXNzIFVSTEluZm8ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIGBVUkxJbmZvYCBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBocmVmIFRoZSBlbnRpcmUgVVJMLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvdG9jb2wgVGhlIHByb3RvY29sIHNjaGVtZSBvZiB0aGUgVVJMLCBpbmNsdWRpbmcgdGhlXG4gICAqICAgZmluYWwgYDpgLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2hvc3RuYW1lXSBUaGUgaG9zdG5hbWUgb2YgdGhlIFVSTC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKGhyZWYsIHByb3RvY29sLCBob3N0bmFtZSA9IFwiXCIpIHtcbiAgICB0aGlzLl9ocmVmID0gaHJlZjtcbiAgICB0aGlzLl9wcm90b2NvbCA9IHByb3RvY29sO1xuICAgIHRoaXMuX2hvc3RuYW1lID0gaG9zdG5hbWU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGVudGlyZSBVUkwuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBnZXQgaHJlZigpIHtcbiAgICByZXR1cm4gdGhpcy5faHJlZjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcHJvdG9jb2wgc2NoZW1lIG9mIHRoZSBVUkwsIGluY2x1ZGluZyB0aGUgZmluYWwgYDpgLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0IHByb3RvY29sKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm90b2NvbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgaG9zdG5hbWUgb2YgdGhlIFVSTC5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIGdldCBob3N0bmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faG9zdG5hbWU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZW50aXJlIFVSTC5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGVudGlyZSBVUkwuXG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faHJlZjtcbiAgfVxufVxuXG5sZXQgcGFyc2VVUkwgPVxuLyoqXG4gKiBQYXJzZXMgYSBVUkwgdG8gZXh0cmFjdCB0aGUgcHJvdG9jb2wgYW5kIHRoZSBob3N0bmFtZS5cbiAqXG4gKiBfX1RoaXMgaXMgYSBsaWdodHdlaWdodCBhbHRlcm5hdGl2ZSB0byB0aGUgbmF0aXZlIGBVUkxgIG9iamVjdCBpbnRlbmRlZCBmb3JcbiAqIHVzZSBwcmltYXJpbHkgd2l0aGluIEFkYmxvY2sgUGx1cy4gVW5saWtlIHRoZSBgVVJMYCBvYmplY3QsIHRoZSBgcGFyc2VVUkwoKWBcbiAqIGZ1bmN0aW9uIGlzIG5vdCByb2J1c3QgYW5kIHdpbGwgZ2l2ZSBpbmNvcnJlY3QgcmVzdWx0cyBmb3IgaW52YWxpZCBVUkxzLiBVc2VcbiAqIHRoaXMgZnVuY3Rpb24gd2l0aCB2YWxpZCxcbiAqIFtub3JtYWxpemVkXShodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2NvbmNlcHQtYmFzaWMtdXJsLXBhcnNlciksXG4gKiBwcm9wZXJseSBlbmNvZGVkIChJRE5BLCBldGMuKSBVUkxzIG9ubHkuX19cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwuXG4gKlxuICogQHJldHVybnMge21vZHVsZTp1cmx+VVJMSW5mb30gSW5mb3JtYXRpb24gYWJvdXQgdGhlIFVSTC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydHMucGFyc2VVUkwgPSBmdW5jdGlvbiBwYXJzZVVSTCh1cmwpIHtcbiAgbGV0IG1hdGNoID0gL14oW146XSs6KSg/OlxcL1xcLyg/OlteL10qQCk/KFxcW1teXFxdXSpcXF18W146L10rKSk/Ly5leGVjKHVybCk7XG5cbiAgaWYgKCFtYXRjaCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIGludmFsaWQgVVJMIFwiJHt1cmx9XCJgKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgVVJMSW5mbyh1cmwsIG1hdGNoWzFdLCBtYXRjaFsyXSk7XG59O1xuXG5sZXQgZG9tYWluU3VmZml4ZXMgPVxuLyoqXG4gKiBZaWVsZHMgYWxsIHN1ZmZpeGVzIGZvciBhIGRvbWFpbi5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgZ2l2ZW4gdGhlIGRvbWFpbiBgd3d3LmV4YW1wbGUuY29tYCwgdGhpcyBmdW5jdGlvbiB5aWVsZHNcbiAqIGB3d3cuZXhhbXBsZS5jb21gLCBgZXhhbXBsZS5jb21gLCBhbmQgYGNvbWAsIGluIHRoYXQgb3JkZXIuXG4gKlxuICogSWYgdGhlIGRvbWFpbiBlbmRzIHdpdGggYSBkb3QsIHRoZSBkb3QgaXMgaWdub3JlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZG9tYWluIFRoZSBkb21haW4uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpbmNsdWRlQmxhbmtdIFdoZXRoZXIgdG8gaW5jbHVkZSB0aGUgYmxhbmsgc3VmZml4IGF0IHRoZVxuICogICBlbmQuXG4gKlxuICogQGdlbmVyYXRvclxuICogQHlpZWxkcyB7c3RyaW5nfSBUaGUgbmV4dCBzdWZmaXggZm9yIHRoZSBkb21haW4uXG4gKlxuICogQHBhY2thZ2VcbiAqL1xuZXhwb3J0cy5kb21haW5TdWZmaXhlcyA9IGZ1bmN0aW9uKiBkb21haW5TdWZmaXhlcyhcbiAgZG9tYWluLCBpbmNsdWRlQmxhbmsgPSBmYWxzZVxuKSB7XG4gIC8vIFNpbmNlIGFueSBJUCBhZGRyZXNzIGlzIGFscmVhZHkgZXhwZWN0ZWQgdG8gYmUgbm9ybWFsaXplZCwgdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIHZhbGlkYXRlIGl0LlxuICBpZiAoaXNJUEFkZHJlc3MoZG9tYWluKSkge1xuICAgIHlpZWxkIGRvbWFpbjtcbiAgfVxuICBlbHNlIHtcbiAgICBpZiAoZG9tYWluW2RvbWFpbi5sZW5ndGggLSAxXSA9PSBcIi5cIikge1xuICAgICAgZG9tYWluID0gZG9tYWluLnN1YnN0cmluZygwLCBkb21haW4ubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgd2hpbGUgKGRvbWFpbiAhPSBcIlwiKSB7XG4gICAgICB5aWVsZCBkb21haW47XG5cbiAgICAgIGxldCBkb3RJbmRleCA9IGRvbWFpbi5pbmRleE9mKFwiLlwiKTtcbiAgICAgIGRvbWFpbiA9IGRvdEluZGV4ID09IC0xID8gXCJcIiA6IGRvbWFpbi5zdWJzdHIoZG90SW5kZXggKyAxKTtcbiAgICB9XG4gIH1cblxuICBpZiAoaW5jbHVkZUJsYW5rKSB7XG4gICAgeWllbGQgXCJcIjtcbiAgfVxufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gaG9zdG5hbWUgcmVmZXJzIHRvXG4gKiB7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9jYWxob3N0IGxvY2FsaG9zdH0uXG4gKlxuICogSWYgdGhlIGhvc3RuYW1lIGlzIGBsb2NhbGhvc3RgLCBgMTI3LjAuMC4xYCwgb3IgYFs6OjFdYCwgdGhlIGZ1bmN0aW9uXG4gKiByZXR1cm5zIGB0cnVlYDsgb3RoZXJ3aXNlLCBpdCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhvc3RuYW1lIFRoZSBob3N0bmFtZS5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgaG9zdG5hbWUgcmVmZXJzIHRvIGxvY2FsaG9zdC5cbiAqXG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLmlzTG9jYWxob3N0ID0gZnVuY3Rpb24gaXNMb2NhbGhvc3QoaG9zdG5hbWUpIHtcbiAgcmV0dXJuIGhvc3RuYW1lID09IFwibG9jYWxob3N0XCIgfHwgaG9zdG5hbWUgPT0gXCIxMjcuMC4wLjFcIiB8fFxuICAgICAgICAgaG9zdG5hbWUgPT0gXCJbOjoxXVwiO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gaG9zdG5hbWUgaXMgYW4gSVAgYWRkcmVzcy5cbiAqXG4gKiBVbmxpa2UgYHtAbGluayBtb2R1bGU6dXJsfmlzVmFsaWRJUHY0QWRkcmVzcyBpc1ZhbGlkSVB2NEFkZHJlc3MoKX1gLCB0aGlzXG4gKiBmdW5jdGlvbiBvbmx5IGNoZWNrcyB3aGV0aGVyIHRoZSBob3N0bmFtZSBfbG9va3MgbGlrZV8gYW4gSVAgYWRkcmVzcy4gVXNlXG4gKiB0aGlzIGZ1bmN0aW9uIHdpdGggdmFsaWQsIG5vcm1hbGl6ZWQsIHByb3Blcmx5IGVuY29kZWQgKElETkEpIGhvc3RuYW1lc1xuICogb25seS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaG9zdG5hbWUgQW4gSUROQS1lbmNvZGVkIGhvc3RuYW1lLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBob3N0bmFtZSBpcyBhbiBJUCBhZGRyZXNzLlxuICovXG5mdW5jdGlvbiBpc0lQQWRkcmVzcyhob3N0bmFtZSkge1xuICAvLyBEb2VzIGl0IGxvb2sgbGlrZSBhbiBJUHY2IGFkZHJlc3M/XG4gIGlmIChob3N0bmFtZVswXSA9PSBcIltcIiAmJiBob3N0bmFtZVtob3N0bmFtZS5sZW5ndGggLSAxXSA9PSBcIl1cIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gTm90ZTogVGhlIGZpcnN0IGNvbmRpdGlvbiBoZWxwcyB1cyBhdm9pZCB0aGUgbW9yZSBleHBlbnNpdmUgcmVndWxhclxuICAvLyBleHByZXNzaW9uIG1hdGNoIGZvciBtb3N0IGhvc3RuYW1lcy5cbiAgcmV0dXJuIGhvc3RuYW1lW2hvc3RuYW1lLmxlbmd0aCAtIDFdID49IDAgJiZcbiAgICAgICAgIC9eXFxkK1xcLlxcZCtcXC5cXGQrXFwuXFxkKyQvLnRlc3QoaG9zdG5hbWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gYWRkcmVzcyBpcyBhIHZhbGlkIElQdjQgYWRkcmVzcy5cbiAqXG4gKiBPbmx5IGEgbm9ybWFsaXplZCBJUHY0IGFkZHJlc3MgaXMgY29uc2lkZXJlZCB2YWxpZC4gZS5nLiBgMHg3Zi4weDAuMHgwLjB4MWBcbiAqIGlzIGludmFsaWQsIHdoZXJlYXMgYDEyNy4wLjAuMWAgaXMgdmFsaWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGFkZHJlc3MgVGhlIGFkZHJlc3MgdG8gY2hlY2suXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGFkZHJlc3MgaXMgYSB2YWxpZCBJUHY0IGFkZHJlc3MuXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRJUHY0QWRkcmVzcyhhZGRyZXNzKSB7XG4gIHJldHVybiAvXigoKDJbMC00XXwxWzAtOV18WzEtOV0pP1swLTldfDI1WzAtNV0pXFwuKXs0fSQvLnRlc3QoYWRkcmVzcyArIFwiLlwiKTtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIGdpdmVuIGhvc3RuYW1lIGlzIHZhbGlkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBmb3IgZmlsdGVyIHZhbGlkYXRpb24uXG4gKlxuICogQSBob3N0bmFtZSBvY2N1cnJpbmcgaW4gYSBmaWx0ZXIgbXVzdCBiZSBub3JtYWxpemVkLiBGb3IgZXhhbXBsZSxcbiAqIDxjb2RlPiYjeDFmNjQyOzwvY29kZT4gKHNsaWdodGx5IHNtaWxpbmcgZmFjZSkgc2hvdWxkIGJlIG5vcm1hbGl6ZWQgdG9cbiAqIGB4bi0tOTM4aGA7IG90aGVyd2lzZSB0aGlzIGZ1bmN0aW9uIHJldHVybnMgYGZhbHNlYCBmb3Igc3VjaCBhIGhvc3RuYW1lLlxuICogU2ltaWxhcmx5LCBJUCBhZGRyZXNzZXMgc2hvdWxkIGJlIG5vcm1hbGl6ZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhvc3RuYW1lIFRoZSBob3N0bmFtZSB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgaG9zdG5hbWUgaXMgdmFsaWQuXG4gKi9cbmV4cG9ydHMuaXNWYWxpZEhvc3RuYW1lID0gZnVuY3Rpb24gaXNWYWxpZEhvc3RuYW1lKGhvc3RuYW1lKSB7XG4gIGlmIChpc1ZhbGlkSVB2NEFkZHJlc3MoaG9zdG5hbWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBUaGlzIGRvZXMgbm90IGluIGZhY3QgdmFsaWRhdGUgdGhlIElQdjYgYWRkcmVzcyBidXQgaXQncyBhbHJpZ2h0IGZvciBub3cuXG4gIGlmIChob3N0bmFtZVswXSA9PSBcIltcIiAmJiBob3N0bmFtZVtob3N0bmFtZS5sZW5ndGggLSAxXSA9PSBcIl1cIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQmFzZWQgb25cbiAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSG9zdG5hbWUjUmVzdHJpY3Rpb25zX29uX3ZhbGlkX2hvc3RuYW1lc1xuICBpZiAoaG9zdG5hbWVbaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT0gXCIuXCIpIHtcbiAgICBob3N0bmFtZSA9IGhvc3RuYW1lLnN1YnN0cmluZygwLCBob3N0bmFtZS5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIGlmIChob3N0bmFtZS5sZW5ndGggPiAyNTMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgbGFiZWxzID0gaG9zdG5hbWUuc3BsaXQoXCIuXCIpO1xuICBmb3IgKGxldCBbaW5kZXgsIGxhYmVsXSBvZiBsYWJlbHMuZW50cmllcygpKSB7XG4gICAgLy8gV2lsZGNhcmRzIHN1cHBvcnRcbiAgICBpZiAobGFiZWwgPT0gXCIqXCIgJiYgaW5kZXggPT0gKGxhYmVscy5sZW5ndGggLSAxKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghL15bYS16MC05XShbYS16MC05LV17MCw2MX1bYS16MC05XSk/JC9pLnRlc3QobGFiZWwpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gQmFzZWQgb24gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM2OTYjc2VjdGlvbi0yXG4gIGlmICghL1xcRC8udGVzdChsYWJlbHNbbGFiZWxzLmxlbmd0aCAtIDFdKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxubGV0IGdldEJhc2VEb21haW4gPVxuLyoqXG4gKiBHZXRzIHRoZSBiYXNlIGRvbWFpbiBmb3IgdGhlIGdpdmVuIGhvc3RuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBob3N0bmFtZVxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKlxuICogQHBhY2thZ2VcbiAqL1xuZXhwb3J0cy5nZXRCYXNlRG9tYWluID0gZnVuY3Rpb24gZ2V0QmFzZURvbWFpbihob3N0bmFtZSkge1xuICBsZXQgc2xpY2VzID0gW107XG4gIGxldCBjdXRvZmYgPSBOYU47XG5cbiAgZm9yIChsZXQgc3VmZml4IG9mIGRvbWFpblN1ZmZpeGVzKGhvc3RuYW1lKSkge1xuICAgIHNsaWNlcy5wdXNoKHN1ZmZpeCk7XG5cbiAgICBsZXQgb2Zmc2V0ID0gaWNhbm5QdWJsaWNTdWZmaXhlc1tzdWZmaXhdO1xuICAgIGlmICghKHR5cGVvZiBvZmZzZXQgPT0gXCJudW1iZXJcIikpIHtcbiAgICAgIG9mZnNldCA9IG5vbkljYW5uUHVibGljU3VmZml4ZXNbc3VmZml4XTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9mZnNldCA9PSBcIm51bWJlclwiKSB7XG4gICAgICBjdXRvZmYgPSBzbGljZXMubGVuZ3RoIC0gMSAtIG9mZnNldDtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc05hTihjdXRvZmYpKSB7XG4gICAgcmV0dXJuIHNsaWNlcy5sZW5ndGggPiAyID8gc2xpY2VzW3NsaWNlcy5sZW5ndGggLSAyXSA6IGhvc3RuYW1lO1xuICB9XG5cbiAgaWYgKGN1dG9mZiA8PSAwKSB7XG4gICAgcmV0dXJuIGhvc3RuYW1lO1xuICB9XG5cbiAgcmV0dXJuIHNsaWNlc1tjdXRvZmZdO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIHJlcXVlc3QncyBvcmlnaW4gaXMgZGlmZmVyZW50IGZyb20gaXRzIGRvY3VtZW50J3Mgb3JpZ2luLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0SG9zdG5hbWUgVGhlIElETkEtZW5jb2RlZCBob3N0bmFtZSBvZiB0aGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkb2N1bWVudEhvc3RuYW1lIFRoZSBJRE5BLWVuY29kZWQgaG9zdG5hbWUgb2YgdGhlIGRvY3VtZW50LlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1RoaXJkUGFydHkocmVxdWVzdEhvc3RuYW1lLCBkb2N1bWVudEhvc3RuYW1lKSB7XG4gIGlmIChyZXF1ZXN0SG9zdG5hbWVbcmVxdWVzdEhvc3RuYW1lLmxlbmd0aCAtIDFdID09IFwiLlwiKSB7XG4gICAgcmVxdWVzdEhvc3RuYW1lID0gcmVxdWVzdEhvc3RuYW1lLnN1YnN0cmluZygwLCByZXF1ZXN0SG9zdG5hbWUubGVuZ3RoIC0gMSk7XG4gIH1cblxuICBpZiAoZG9jdW1lbnRIb3N0bmFtZVtkb2N1bWVudEhvc3RuYW1lLmxlbmd0aCAtIDFdID09IFwiLlwiKSB7XG4gICAgZG9jdW1lbnRIb3N0bmFtZSA9XG4gICAgICBkb2N1bWVudEhvc3RuYW1lLnN1YnN0cmluZygwLCBkb2N1bWVudEhvc3RuYW1lLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgaWYgKHJlcXVlc3RIb3N0bmFtZSA9PSBkb2N1bWVudEhvc3RuYW1lKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFyZXF1ZXN0SG9zdG5hbWUgfHwgIWRvY3VtZW50SG9zdG5hbWUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChpc0lQQWRkcmVzcyhyZXF1ZXN0SG9zdG5hbWUpIHx8IGlzSVBBZGRyZXNzKGRvY3VtZW50SG9zdG5hbWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZ2V0QmFzZURvbWFpbihyZXF1ZXN0SG9zdG5hbWUpICE9IGdldEJhc2VEb21haW4oZG9jdW1lbnRIb3N0bmFtZSk7XG59XG5cbmxldCBVUkxSZXF1ZXN0ID1cbi8qKlxuICogVGhlIGBVUkxSZXF1ZXN0YCBjbGFzcyByZXByZXNlbnRzIGEgVVJMIHJlcXVlc3QuXG4gKi9cbmV4cG9ydHMuVVJMUmVxdWVzdCA9IGNsYXNzIFVSTFJlcXVlc3Qge1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge31cblxuICAvKipcbiAgICogVGhlIFVSTCBvZiB0aGUgcmVxdWVzdC5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIGdldCBocmVmKCkge1xuICAgIHJldHVybiB0aGlzLl9ocmVmO1xuICB9XG5cbiAgLyoqXG4gICAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBVUkwgb2YgdGhlIHJlcXVlc3QuXG4gICAqIEB0eXBlIHttb2R1bGU6dXJsflVSTEluZm99XG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBnZXQgdXJsSW5mbygpIHtcbiAgICBpZiAoIXRoaXMuX3VybEluZm8pIHtcbiAgICAgIHRoaXMuX3VybEluZm8gPSBwYXJzZVVSTCh0aGlzLl9ocmVmKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fdXJsSW5mbztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgaG9zdG5hbWUgb2YgdGhlIGRvY3VtZW50IG1ha2luZyB0aGUgcmVxdWVzdC5cbiAgICogQHR5cGUgez9zdHJpbmd9XG4gICAqL1xuICBnZXQgZG9jdW1lbnRIb3N0bmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZG9jdW1lbnRIb3N0bmFtZSA9PSBudWxsID8gbnVsbCA6IHRoaXMuX2RvY3VtZW50SG9zdG5hbWU7XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciB0aGlzIGlzIGEgdGhpcmQtcGFydHkgcmVxdWVzdC5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgdGhpcmRQYXJ0eSgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX3RoaXJkUGFydHkgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5fdGhpcmRQYXJ0eSA9IHRoaXMuX2RvY3VtZW50SG9zdG5hbWUgPT0gbnVsbCA/IGZhbHNlIDpcbiAgICAgICAgaXNUaGlyZFBhcnR5KHRoaXMudXJsSW5mby5ob3N0bmFtZSxcbiAgICAgICAgICB0aGlzLl9kb2N1bWVudEhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fdGhpcmRQYXJ0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBVUkwgb2YgdGhlIHJlcXVlc3QuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faHJlZjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbG93ZXItY2FzZSB2ZXJzaW9uIG9mIHRoZSBVUkwgb2YgdGhlIHJlcXVlc3QuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBnZXQgbG93ZXJDYXNlSHJlZigpIHtcbiAgICBpZiAodGhpcy5fbG93ZXJDYXNlSHJlZiA9PSBudWxsKSB7XG4gICAgICB0aGlzLl9sb3dlckNhc2VIcmVmID0gdGhpcy5faHJlZi50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9sb3dlckNhc2VIcmVmO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBge0BsaW5rIG1vZHVsZTp1cmwuVVJMUmVxdWVzdCBVUkxSZXF1ZXN0fWAgb2JqZWN0IGZvciB0aGUgZ2l2ZW5cbiAqIFVSTC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xtb2R1bGU6dXJsflVSTEluZm98VVJMfSB1cmwgVGhlIFVSTC4gSWYgdGhpcyBpcyBhIGBzdHJpbmdgLFxuICogICBpdCBtdXN0IGJlIGEgY2Fub25pY2FsaXplZCBVUkwgKHNlZVxuICogICBge0BsaW5rIG1vZHVsZTp1cmwucGFyc2VVUkwgcGFyc2VVUkwoKX1gKS5cbiAqIEBwYXJhbSB7P3N0cmluZ30gW2RvY3VtZW50SG9zdG5hbWVdIFRoZSBJRE5BLWVuY29kZWQgaG9zdG5hbWUgb2YgdGhlXG4gKiAgIGRvY3VtZW50IG1ha2luZyB0aGUgcmVxdWVzdC5cbiAqXG4gKiBAcmV0dXJucyB7bW9kdWxlOnVybC5VUkxSZXF1ZXN0fVxuICovXG5leHBvcnRzLlVSTFJlcXVlc3QuZnJvbSA9IGZ1bmN0aW9uKHVybCwgZG9jdW1lbnRIb3N0bmFtZSA9IG51bGwpIHtcbiAgbGV0IHJlcXVlc3QgPSBuZXcgVVJMUmVxdWVzdCgpO1xuXG4gIGlmICh0eXBlb2YgdXJsID09IFwic3RyaW5nXCIpIHtcbiAgICByZXF1ZXN0Ll9ocmVmID0gdXJsO1xuICB9XG4gIGVsc2Uge1xuICAgIHJlcXVlc3QuX3VybEluZm8gPSB1cmwgaW5zdGFuY2VvZiBVUkxJbmZvID8gdXJsIDpcbiAgICAgIG5ldyBVUkxJbmZvKHVybC5ocmVmLCB1cmwucHJvdG9jb2wsIHVybC5ob3N0bmFtZSk7XG4gICAgcmVxdWVzdC5faHJlZiA9IHVybC5ocmVmO1xuICB9XG5cbiAgaWYgKGRvY3VtZW50SG9zdG5hbWUgIT0gbnVsbCkge1xuICAgIHJlcXVlc3QuX2RvY3VtZW50SG9zdG5hbWUgPSBkb2N1bWVudEhvc3RuYW1lO1xuICB9XG5cbiAgcmV0dXJuIHJlcXVlc3Q7XG59O1xuXG4vKipcbiAqIFBhcnNlcyB0aGUgZG9tYWlucyBwYXJ0IG9mIGEgZmlsdGVyIHRleHRcbiAqIChlLmcuIGBleGFtcGxlLmNvbSx+bWFpbC5leGFtcGxlLmNvbWApIGludG8gYSBgTWFwYCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgZG9tYWlucyBwYXJ0IG9mIGEgZmlsdGVyIHRleHQuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VwYXJhdG9yIFRoZSBzdHJpbmcgdXNlZCB0byBzZXBhcmF0ZSB0d28gb3IgbW9yZSBkb21haW5zIGluXG4gKiAgIHRoZSBkb21haW5zIHBhcnQgb2YgYSBmaWx0ZXIgdGV4dC5cbiAqXG4gKiBAcmV0dXJucyB7P01hcC48c3RyaW5nLCBib29sZWFuPn1cbiAqXG4gKiBAcGFja2FnZVxuICovXG5leHBvcnRzLnBhcnNlRG9tYWlucyA9IGZ1bmN0aW9uIHBhcnNlRG9tYWlucyhzb3VyY2UsIHNlcGFyYXRvcikge1xuICBsZXQgZG9tYWlucyA9IGRvbWFpbnNDYWNoZS5nZXQoc291cmNlKTtcbiAgaWYgKHR5cGVvZiBkb21haW5zICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gZG9tYWlucztcbiAgfVxuXG4gIGlmIChzb3VyY2VbMF0gIT0gXCJ+XCIgJiYgIXNvdXJjZS5pbmNsdWRlcyhzZXBhcmF0b3IpKSB7XG4gICAgLy8gRmFzdCB0cmFjayBmb3IgdGhlIGNvbW1vbiBvbmUtZG9tYWluIHNjZW5hcmlvLlxuICAgIGRvbWFpbnMgPSBuZXcgTWFwKFtbXCJcIiwgZmFsc2VdLCBbc291cmNlLCB0cnVlXV0pO1xuICB9XG4gIGVsc2Uge1xuICAgIGRvbWFpbnMgPSBudWxsO1xuXG4gICAgbGV0IGhhc0luY2x1ZGVzID0gZmFsc2U7XG4gICAgZm9yIChsZXQgZG9tYWluIG9mIHNvdXJjZS5zcGxpdChzZXBhcmF0b3IpKSB7XG4gICAgICBpZiAoZG9tYWluID09IFwiXCIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCBpbmNsdWRlO1xuICAgICAgaWYgKGRvbWFpblswXSA9PSBcIn5cIikge1xuICAgICAgICBpbmNsdWRlID0gZmFsc2U7XG4gICAgICAgIGRvbWFpbiA9IGRvbWFpbi5zdWJzdHJpbmcoMSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaW5jbHVkZSA9IHRydWU7XG4gICAgICAgIGhhc0luY2x1ZGVzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFkb21haW5zKSB7XG4gICAgICAgIGRvbWFpbnMgPSBuZXcgTWFwKCk7XG4gICAgICB9XG5cbiAgICAgIGRvbWFpbnMuc2V0KGRvbWFpbiwgaW5jbHVkZSk7XG4gICAgfVxuXG4gICAgaWYgKGRvbWFpbnMpIHtcbiAgICAgIGRvbWFpbnMuc2V0KFwiXCIsICFoYXNJbmNsdWRlcyk7XG4gICAgfVxuICB9XG5cbiAgZG9tYWluc0NhY2hlLnNldChzb3VyY2UsIGRvbWFpbnMpO1xuXG4gIHJldHVybiBkb21haW5zO1xufTtcblxuZXhwb3J0cy5oYXNXaWxkY2FyZCA9IGZ1bmN0aW9uIGhhc1dpbGRjYXJkKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLmluY2x1ZGVzKFwiLipcIik7XG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGRvbWFpbiBVUkwgbWF0Y2hlcyB3aWxkY2FyZHMgbWFzay5cbiAqIE5vdGU6IFBTTCBpcyB0YWtlbiBpbnRvIGFjY291bnQgKGJhc2UgZG9tYWluIGlzIGNoZWNrZWQgYWN0dWFsbHkpLlxuICogQHBhcmFtIHtzdHJpbmd9IGRvbWFpbiBkb21haW4gdG8gY2hlY2sgKGFzc3VtaW5nIGl0J3MgbG93ZXItY2FzZWQpXG4gKiBAcGFyYW0ge3N0cmluZ30gZG9tYWluV2l0aFdpbGRjYXJkcyBkb21haW4gbWFzayAoYXNzdW1pbmcgaXQncyBsb3dlci1jYXNlZClcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgZG9tYWluIG1hdGNoZXMgdGhlIG1hc2tcbiAqL1xuZXhwb3J0cy5tYXRjaGVzV2lsZGNhcmRzID0gZnVuY3Rpb24gbWF0Y2hlc1dpbGRjYXJkcyhcbiAgZG9tYWluLCBkb21haW5XaXRoV2lsZGNhcmRzKSB7XG4gIC8vIGN1dCBvZmYgdGhlIHdpbGRjYXJkLiBMdWNraWx5IHdlIGtub3cgZXhhY3RseSB3aGVyZSBpdCBpcyBhbHJlYWR5LlxuICBsZXQgZXhwZWN0ZWRQcmVmaXggPSBkb21haW5XaXRoV2lsZGNhcmRzLnNsaWNlKDAsIC0xKTtcblxuICAvLyBjdXQgb2ZmIHRoZSBwb3J0IGlmIHNwZWNpZmllZFxuICBsZXQgcG9ydE1hdGNoID0gL14uKyg6XFxkKykkLy5leGVjKGRvbWFpbik7XG4gIGlmIChwb3J0TWF0Y2ggJiYgcG9ydE1hdGNoLmxlbmd0aCA+IDEpIHtcbiAgICBkb21haW4gPSBkb21haW4uc2xpY2UoMCwgLXBvcnRNYXRjaFsxXS5sZW5ndGgpO1xuICB9XG5cbiAgZm9yIChsZXQgc3VmZml4IG9mIGRvbWFpblN1ZmZpeGVzKGRvbWFpbikpIHtcbiAgICBpZiAoIXN1ZmZpeC5zdGFydHNXaXRoKGV4cGVjdGVkUHJlZml4KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBleHBlY3RlZFRsZCA9IHN1ZmZpeC5zbGljZShleHBlY3RlZFByZWZpeC5sZW5ndGgpO1xuICAgIGlmICh0eXBlb2YgaWNhbm5QdWJsaWNTdWZmaXhlc1tleHBlY3RlZFRsZF0gPT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0cy5pc1ZhbGlkRG9tYWluV2lsZGNhcmQgPSBmdW5jdGlvbiBpc1ZhbGlkRG9tYWluV2lsZGNhcmQoZG9tYWluKSB7XG4gIC8vID8gYXJlIG5vdCBzdXBwb3J0ZWRcbiAgaWYgKGRvbWFpbi5pbmNsdWRlcyhcIj9cIikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBtdWx0aXBsZSAqIGFyZSBub3Qgc3VwcG9ydGVkXG4gIGxldCBhc3Rlcmlza0NvdW50ID0gKGRvbWFpbi5tYXRjaCgvXFwqL2cpIHx8IFtdKS5sZW5ndGg7XG4gIGlmIChhc3Rlcmlza0NvdW50ID4gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChhc3Rlcmlza0NvdW50ID09IDEpIHtcbiAgICBsZXQgcG9zID0gZG9tYWluLmluZGV4T2YoXCIqXCIpO1xuXG4gICAgLy8gKiBtdXN0IGJlIHRoZSBsYXN0IGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nXG4gICAgaWYgKHBvcyA8IChkb21haW4ubGVuZ3RoIC0gMSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBidXQgbm90IHRoZSBvbmx5IGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nXG4gICAgaWYgKGRvbWFpbi5sZW5ndGggPT0gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vICogbXVzdCBiZSBwcmVjZWVkZWQgd2l0aCAuXG4gICAgaWYgKHBvcyA+IDAgJiYgZG9tYWluW3BvcyAtIDFdICE9IFwiLlwiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFkYmxvY2sgUGx1cyA8aHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvPixcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEFkYmxvY2sgUGx1cyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogQWRibG9jayBQbHVzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBBZGJsb2NrIFBsdXMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLyoqIEBtb2R1bGUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIHBhcnNlVmVyc2lvbkNvbXBvbmVudChjb21wKSB7XG4gIGlmIChjb21wID09IFwiKlwiKSB7XG4gICAgcmV0dXJuIEluZmluaXR5O1xuICB9XG4gIHJldHVybiBwYXJzZUludChjb21wLCAxMCkgfHwgMDtcbn1cblxuLyoqXG4gKiBDb21wYXJlcyB0d28gdmVyc2lvbnMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHYxIFRoZSBmaXJzdCB2ZXJzaW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IHYyIFRoZSBzZWNvbmQgdmVyc2lvbi5cbiAqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBgLTFgIGlmIGB2MWAgaXMgb2xkZXIgdGhhbiBgdjJgOyBgMWAgaWYgYHYxYCBpcyBuZXdlciB0aGFuXG4gKiAgIGB2MmA7IG90aGVyd2lzZSBgMGAuXG4gKlxuICogQHBhY2thZ2VcbiAqL1xuZXhwb3J0cy5jb21wYXJlVmVyc2lvbnMgPSBmdW5jdGlvbiBjb21wYXJlVmVyc2lvbnModjEsIHYyKSB7XG4gIGxldCByZWdleHAgPSAvXiguKj8pKFthLXpdLiopPyQvaTtcbiAgbGV0IFssIGhlYWQxLCB0YWlsMV0gPSByZWdleHAuZXhlYyh2MSk7XG4gIGxldCBbLCBoZWFkMiwgdGFpbDJdID0gcmVnZXhwLmV4ZWModjIpO1xuICBsZXQgY29tcG9uZW50czEgPSBoZWFkMS5zcGxpdChcIi5cIik7XG4gIGxldCBjb21wb25lbnRzMiA9IGhlYWQyLnNwbGl0KFwiLlwiKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudHMxLmxlbmd0aCB8fFxuICAgICAgICAgICAgICAgICAgaSA8IGNvbXBvbmVudHMyLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHJlc3VsdCA9IHBhcnNlVmVyc2lvbkNvbXBvbmVudChjb21wb25lbnRzMVtpXSkgLVxuICAgICAgICAgICAgICAgICBwYXJzZVZlcnNpb25Db21wb25lbnQoY29tcG9uZW50czJbaV0pIHx8IDA7XG5cbiAgICBpZiAocmVzdWx0IDwgMCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXN1bHQgPiAwKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH1cblxuICAvLyBDb21wYXJlIHZlcnNpb24gc3VmZml4IChlLmcuIDAuMWFscGhhIDwgMC4xYjEgPCAwMS5iMiA8IDAuMSkuXG4gIC8vIEhvd2V2ZXIsIG5vdGUgdGhhdCB0aGlzIGlzIGEgc2ltcGxlIHN0cmluZyBjb21wYXJpc2lvbiwgbWVhbmluZzogYjEwIDwgYjJcbiAgaWYgKHRhaWwxID09IHRhaWwyKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKCF0YWlsMSB8fCB0YWlsMiAmJiB0YWlsMSA+IHRhaWwyKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcbiIsImNvbnN0IHJhbmRvbVVVSUQgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8ucmFuZG9tVVVJRCAmJiBjcnlwdG8ucmFuZG9tVVVJRC5iaW5kKGNyeXB0byk7XG5leHBvcnQgZGVmYXVsdCB7XG4gIHJhbmRvbVVVSURcbn07IiwiZXhwb3J0IGRlZmF1bHQgL14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pOyIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxubGV0IGdldFJhbmRvbVZhbHVlcztcbmNvbnN0IHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5cbmNvbnN0IGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICByZXR1cm4gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIGNvbnN0IHV1aWQgPSB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImltcG9ydCBuYXRpdmUgZnJvbSAnLi9uYXRpdmUuanMnO1xuaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIGlmIChuYXRpdmUucmFuZG9tVVVJRCAmJiAhYnVmICYmICFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5hdGl2ZS5yYW5kb21VVUlEKCk7XG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3Qgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiB1bnNhZmVTdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyIsImltcG9ydCBSRUdFWCBmcm9tICcuL3JlZ2V4LmpzJztcblxuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyIsIi8qIHdlYmV4dGVuc2lvbi1wb2x5ZmlsbCAtIHYwLjguMCAtIFR1ZSBBcHIgMjAgMjAyMSAxMToyNzozOCAqL1xuLyogLSotIE1vZGU6IGluZGVudC10YWJzLW1vZGU6IG5pbDsganMtaW5kZW50LWxldmVsOiAyIC0qLSAqL1xuLyogdmltOiBzZXQgc3RzPTIgc3c9MiBldCB0dz04MDogKi9cbi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cInVzZSBzdHJpY3RcIjtcblxuaWYgKHR5cGVvZiBicm93c2VyID09PSBcInVuZGVmaW5lZFwiIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihicm93c2VyKSAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICBjb25zdCBDSFJPTUVfU0VORF9NRVNTQUdFX0NBTExCQUNLX05PX1JFU1BPTlNFX01FU1NBR0UgPSBcIlRoZSBtZXNzYWdlIHBvcnQgY2xvc2VkIGJlZm9yZSBhIHJlc3BvbnNlIHdhcyByZWNlaXZlZC5cIjtcbiAgY29uc3QgU0VORF9SRVNQT05TRV9ERVBSRUNBVElPTl9XQVJOSU5HID0gXCJSZXR1cm5pbmcgYSBQcm9taXNlIGlzIHRoZSBwcmVmZXJyZWQgd2F5IHRvIHNlbmQgYSByZXBseSBmcm9tIGFuIG9uTWVzc2FnZS9vbk1lc3NhZ2VFeHRlcm5hbCBsaXN0ZW5lciwgYXMgdGhlIHNlbmRSZXNwb25zZSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgc3BlY3MgKFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL01vemlsbGEvQWRkLW9ucy9XZWJFeHRlbnNpb25zL0FQSS9ydW50aW1lL29uTWVzc2FnZSlcIjtcblxuICAvLyBXcmFwcGluZyB0aGUgYnVsayBvZiB0aGlzIHBvbHlmaWxsIGluIGEgb25lLXRpbWUtdXNlIGZ1bmN0aW9uIGlzIGEgbWlub3JcbiAgLy8gb3B0aW1pemF0aW9uIGZvciBGaXJlZm94LiBTaW5jZSBTcGlkZXJtb25rZXkgZG9lcyBub3QgZnVsbHkgcGFyc2UgdGhlXG4gIC8vIGNvbnRlbnRzIG9mIGEgZnVuY3Rpb24gdW50aWwgdGhlIGZpcnN0IHRpbWUgaXQncyBjYWxsZWQsIGFuZCBzaW5jZSBpdCB3aWxsXG4gIC8vIG5ldmVyIGFjdHVhbGx5IG5lZWQgdG8gYmUgY2FsbGVkLCB0aGlzIGFsbG93cyB0aGUgcG9seWZpbGwgdG8gYmUgaW5jbHVkZWRcbiAgLy8gaW4gRmlyZWZveCBuZWFybHkgZm9yIGZyZWUuXG4gIGNvbnN0IHdyYXBBUElzID0gZXh0ZW5zaW9uQVBJcyA9PiB7XG4gICAgLy8gTk9URTogYXBpTWV0YWRhdGEgaXMgYXNzb2NpYXRlZCB0byB0aGUgY29udGVudCBvZiB0aGUgYXBpLW1ldGFkYXRhLmpzb24gZmlsZVxuICAgIC8vIGF0IGJ1aWxkIHRpbWUgYnkgcmVwbGFjaW5nIHRoZSBmb2xsb3dpbmcgXCJpbmNsdWRlXCIgd2l0aCB0aGUgY29udGVudCBvZiB0aGVcbiAgICAvLyBKU09OIGZpbGUuXG4gICAgY29uc3QgYXBpTWV0YWRhdGEgPSB7XG4gICAgICBcImFsYXJtc1wiOiB7XG4gICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiY2xlYXJBbGxcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiYm9va21hcmtzXCI6IHtcbiAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldENoaWxkcmVuXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldFJlY2VudFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRTdWJUcmVlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldFRyZWVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwibW92ZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlVHJlZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZWFyY2hcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwidXBkYXRlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJicm93c2VyQWN0aW9uXCI6IHtcbiAgICAgICAgXCJkaXNhYmxlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJlbmFibGVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBcImdldEJhZGdlQmFja2dyb3VuZENvbG9yXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldEJhZGdlVGV4dFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRQb3B1cFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRUaXRsZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJvcGVuUG9wdXBcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3JcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBcInNldEJhZGdlVGV4dFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0SWNvblwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRQb3B1cFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0VGl0bGVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJicm93c2luZ0RhdGFcIjoge1xuICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVDYWNoZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVDb29raWVzXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInJlbW92ZURvd25sb2Fkc1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVGb3JtRGF0YVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVIaXN0b3J5XCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInJlbW92ZUxvY2FsU3RvcmFnZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVQYXNzd29yZHNcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlUGx1Z2luRGF0YVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXR0aW5nc1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiY29tbWFuZHNcIjoge1xuICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiY29udGV4dE1lbnVzXCI6IHtcbiAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlQWxsXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9LFxuICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiY29va2llc1wiOiB7XG4gICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRBbGxDb29raWVTdG9yZXNcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInNldFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiZGV2dG9vbHNcIjoge1xuICAgICAgICBcImluc3BlY3RlZFdpbmRvd1wiOiB7XG4gICAgICAgICAgXCJldmFsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDIsXG4gICAgICAgICAgICBcInNpbmdsZUNhbGxiYWNrQXJnXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInBhbmVsc1wiOiB7XG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDMsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMyxcbiAgICAgICAgICAgIFwic2luZ2xlQ2FsbGJhY2tBcmdcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJlbGVtZW50c1wiOiB7XG4gICAgICAgICAgICBcImNyZWF0ZVNpZGViYXJQYW5lXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJkb3dubG9hZHNcIjoge1xuICAgICAgICBcImNhbmNlbFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJkb3dubG9hZFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJlcmFzZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRGaWxlSWNvblwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfSxcbiAgICAgICAgXCJvcGVuXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJwYXVzZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVGaWxlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInJlc3VtZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZWFyY2hcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwic2hvd1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImV4dGVuc2lvblwiOiB7XG4gICAgICAgIFwiaXNBbGxvd2VkRmlsZVNjaGVtZUFjY2Vzc1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAgXCJpc0FsbG93ZWRJbmNvZ25pdG9BY2Nlc3NcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImhpc3RvcnlcIjoge1xuICAgICAgICBcImFkZFVybFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJkZWxldGVBbGxcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVsZXRlUmFuZ2VcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVsZXRlVXJsXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldFZpc2l0c1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZWFyY2hcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImkxOG5cIjoge1xuICAgICAgICBcImRldGVjdExhbmd1YWdlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldEFjY2VwdExhbmd1YWdlc1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiaWRlbnRpdHlcIjoge1xuICAgICAgICBcImxhdW5jaFdlYkF1dGhGbG93XCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJpZGxlXCI6IHtcbiAgICAgICAgXCJxdWVyeVN0YXRlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJtYW5hZ2VtZW50XCI6IHtcbiAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9LFxuICAgICAgICBcImdldFNlbGZcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0RW5hYmxlZFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ1bmluc3RhbGxTZWxmXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJub3RpZmljYXRpb25zXCI6IHtcbiAgICAgICAgXCJjbGVhclwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9LFxuICAgICAgICBcImdldFBlcm1pc3Npb25MZXZlbFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInBhZ2VBY3Rpb25cIjoge1xuICAgICAgICBcImdldFBvcHVwXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldFRpdGxlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImhpZGVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBcInNldEljb25cIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0UG9wdXBcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBcInNldFRpdGxlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJzaG93XCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicGVybWlzc2lvbnNcIjoge1xuICAgICAgICBcImNvbnRhaW5zXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVxdWVzdFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicnVudGltZVwiOiB7XG4gICAgICAgIFwiZ2V0QmFja2dyb3VuZFBhZ2VcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0UGxhdGZvcm1JbmZvXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9LFxuICAgICAgICBcIm9wZW5PcHRpb25zUGFnZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZXF1ZXN0VXBkYXRlQ2hlY2tcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VuZE1lc3NhZ2VcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAzXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VuZE5hdGl2ZU1lc3NhZ2VcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0VW5pbnN0YWxsVVJMXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJzZXNzaW9uc1wiOiB7XG4gICAgICAgIFwiZ2V0RGV2aWNlc1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRSZWNlbnRseUNsb3NlZFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZXN0b3JlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJzdG9yYWdlXCI6IHtcbiAgICAgICAgXCJsb2NhbFwiOiB7XG4gICAgICAgICAgXCJjbGVhclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJtYW5hZ2VkXCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzeW5jXCI6IHtcbiAgICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJ0YWJzXCI6IHtcbiAgICAgICAgXCJjYXB0dXJlVmlzaWJsZVRhYlwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfSxcbiAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGV0ZWN0TGFuZ3VhZ2VcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGlzY2FyZFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJkdXBsaWNhdGVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZXhlY3V0ZVNjcmlwdFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0Q3VycmVudFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRab29tXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldFpvb21TZXR0aW5nc1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnb0JhY2tcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ29Gb3J3YXJkXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImhpZ2hsaWdodFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJpbnNlcnRDU1NcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwibW92ZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfSxcbiAgICAgICAgXCJxdWVyeVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZWxvYWRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInJlbW92ZUNTU1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZW5kTWVzc2FnZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDNcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRab29tXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICB9LFxuICAgICAgICBcInNldFpvb21TZXR0aW5nc1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInRvcFNpdGVzXCI6IHtcbiAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcIndlYk5hdmlnYXRpb25cIjoge1xuICAgICAgICBcImdldEFsbEZyYW1lc1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRGcmFtZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwid2ViUmVxdWVzdFwiOiB7XG4gICAgICAgIFwiaGFuZGxlckJlaGF2aW9yQ2hhbmdlZFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwid2luZG93c1wiOiB7XG4gICAgICAgIFwiY3JlYXRlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0Q3VycmVudFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRMYXN0Rm9jdXNlZFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwidXBkYXRlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChPYmplY3Qua2V5cyhhcGlNZXRhZGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhcGktbWV0YWRhdGEuanNvbiBoYXMgbm90IGJlZW4gaW5jbHVkZWQgaW4gYnJvd3Nlci1wb2x5ZmlsbFwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIFdlYWtNYXAgc3ViY2xhc3Mgd2hpY2ggY3JlYXRlcyBhbmQgc3RvcmVzIGEgdmFsdWUgZm9yIGFueSBrZXkgd2hpY2ggZG9lc1xuICAgICAqIG5vdCBleGlzdCB3aGVuIGFjY2Vzc2VkLCBidXQgYmVoYXZlcyBleGFjdGx5IGFzIGFuIG9yZGluYXJ5IFdlYWtNYXBcbiAgICAgKiBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjcmVhdGVJdGVtXG4gICAgICogICAgICAgIEEgZnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBjYWxsZWQgaW4gb3JkZXIgdG8gY3JlYXRlIHRoZSB2YWx1ZSBmb3IgYW55XG4gICAgICogICAgICAgIGtleSB3aGljaCBkb2VzIG5vdCBleGlzdCwgdGhlIGZpcnN0IHRpbWUgaXQgaXMgYWNjZXNzZWQuIFRoZVxuICAgICAqICAgICAgICBmdW5jdGlvbiByZWNlaXZlcywgYXMgaXRzIG9ubHkgYXJndW1lbnQsIHRoZSBrZXkgYmVpbmcgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBjbGFzcyBEZWZhdWx0V2Vha01hcCBleHRlbmRzIFdlYWtNYXAge1xuICAgICAgY29uc3RydWN0b3IoY3JlYXRlSXRlbSwgaXRlbXMgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3VwZXIoaXRlbXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZUl0ZW0gPSBjcmVhdGVJdGVtO1xuICAgICAgfVxuXG4gICAgICBnZXQoa2V5KSB7XG4gICAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkge1xuICAgICAgICAgIHRoaXMuc2V0KGtleSwgdGhpcy5jcmVhdGVJdGVtKGtleSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldChrZXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGFuIG9iamVjdCB3aXRoIGEgYHRoZW5gIG1ldGhvZCwgYW5kIGNhblxuICAgICAqIHRoZXJlZm9yZSBiZSBhc3N1bWVkIHRvIGJlaGF2ZSBhcyBhIFByb21pc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0ZXN0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB0aGVuYWJsZS5cbiAgICAgKi9cbiAgICBjb25zdCBpc1RoZW5hYmxlID0gdmFsdWUgPT4ge1xuICAgICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2gsIHdoZW4gY2FsbGVkLCB3aWxsIHJlc29sdmUgb3IgcmVqZWN0XG4gICAgICogdGhlIGdpdmVuIHByb21pc2UgYmFzZWQgb24gaG93IGl0IGlzIGNhbGxlZDpcbiAgICAgKlxuICAgICAqIC0gSWYsIHdoZW4gY2FsbGVkLCBgY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yYCBjb250YWlucyBhIG5vbi1udWxsIG9iamVjdCxcbiAgICAgKiAgIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkIHdpdGggdGhhdCB2YWx1ZS5cbiAgICAgKiAtIElmIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBleGFjdGx5IG9uZSBhcmd1bWVudCwgdGhlIHByb21pc2UgaXNcbiAgICAgKiAgIHJlc29sdmVkIHRvIHRoYXQgdmFsdWUuXG4gICAgICogLSBPdGhlcndpc2UsIHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIHRvIGFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG9mIHRoZVxuICAgICAqICAgZnVuY3Rpb24ncyBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvbWlzZVxuICAgICAqICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgcmVzb2x1dGlvbiBhbmQgcmVqZWN0aW9uIGZ1bmN0aW9ucyBvZiBhXG4gICAgICogICAgICAgIHByb21pc2UuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gcHJvbWlzZS5yZXNvbHZlXG4gICAgICogICAgICAgIFRoZSBwcm9taXNlJ3MgcmVzb2x1dGlvbiBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwcm9taXNlLnJlamVjdFxuICAgICAqICAgICAgICBUaGUgcHJvbWlzZSdzIHJlamVjdGlvbiBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbWV0YWRhdGFcbiAgICAgKiAgICAgICAgTWV0YWRhdGEgYWJvdXQgdGhlIHdyYXBwZWQgbWV0aG9kIHdoaWNoIGhhcyBjcmVhdGVkIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnXG4gICAgICogICAgICAgIFdoZXRoZXIgb3Igbm90IHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggb25seSB0aGUgZmlyc3RcbiAgICAgKiAgICAgICAgYXJndW1lbnQgb2YgdGhlIGNhbGxiYWNrLCBhbHRlcm5hdGl2ZWx5IGFuIGFycmF5IG9mIGFsbCB0aGVcbiAgICAgKiAgICAgICAgY2FsbGJhY2sgYXJndW1lbnRzIGlzIHJlc29sdmVkLiBCeSBkZWZhdWx0LCBpZiB0aGUgY2FsbGJhY2tcbiAgICAgKiAgICAgICAgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIG9ubHkgYSBzaW5nbGUgYXJndW1lbnQsIHRoYXQgd2lsbCBiZVxuICAgICAqICAgICAgICByZXNvbHZlZCB0byB0aGUgcHJvbWlzZSwgd2hpbGUgYWxsIGFyZ3VtZW50cyB3aWxsIGJlIHJlc29sdmVkIGFzXG4gICAgICogICAgICAgIGFuIGFycmF5IGlmIG11bHRpcGxlIGFyZSBnaXZlbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAgICAgKiAgICAgICAgVGhlIGdlbmVyYXRlZCBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBjb25zdCBtYWtlQ2FsbGJhY2sgPSAocHJvbWlzZSwgbWV0YWRhdGEpID0+IHtcbiAgICAgIHJldHVybiAoLi4uY2FsbGJhY2tBcmdzKSA9PiB7XG4gICAgICAgIGlmIChleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yKSB7XG4gICAgICAgICAgcHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IubWVzc2FnZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnIHx8XG4gICAgICAgICAgICAgICAgICAgKGNhbGxiYWNrQXJncy5sZW5ndGggPD0gMSAmJiBtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZyAhPT0gZmFsc2UpKSB7XG4gICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKGNhbGxiYWNrQXJnc1swXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKGNhbGxiYWNrQXJncyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHBsdXJhbGl6ZUFyZ3VtZW50cyA9IChudW1BcmdzKSA9PiBudW1BcmdzID09IDEgPyBcImFyZ3VtZW50XCIgOiBcImFyZ3VtZW50c1wiO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHdyYXBwZXIgZnVuY3Rpb24gZm9yIGEgbWV0aG9kIHdpdGggdGhlIGdpdmVuIG5hbWUgYW5kIG1ldGFkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiAgICAgICAgVGhlIG5hbWUgb2YgdGhlIG1ldGhvZCB3aGljaCBpcyBiZWluZyB3cmFwcGVkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBtZXRhZGF0YVxuICAgICAqICAgICAgICBNZXRhZGF0YSBhYm91dCB0aGUgbWV0aG9kIGJlaW5nIHdyYXBwZWQuXG4gICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5taW5BcmdzXG4gICAgICogICAgICAgIFRoZSBtaW5pbXVtIG51bWJlciBvZiBhcmd1bWVudHMgd2hpY2ggbXVzdCBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICogICAgICAgIGZ1bmN0aW9uLiBJZiBjYWxsZWQgd2l0aCBmZXdlciB0aGFuIHRoaXMgbnVtYmVyIG9mIGFyZ3VtZW50cywgdGhlXG4gICAgICogICAgICAgIHdyYXBwZXIgd2lsbCByYWlzZSBhbiBleGNlcHRpb24uXG4gICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5tYXhBcmdzXG4gICAgICogICAgICAgIFRoZSBtYXhpbXVtIG51bWJlciBvZiBhcmd1bWVudHMgd2hpY2ggbWF5IGJlIHBhc3NlZCB0byB0aGVcbiAgICAgKiAgICAgICAgZnVuY3Rpb24uIElmIGNhbGxlZCB3aXRoIG1vcmUgdGhhbiB0aGlzIG51bWJlciBvZiBhcmd1bWVudHMsIHRoZVxuICAgICAqICAgICAgICB3cmFwcGVyIHdpbGwgcmFpc2UgYW4gZXhjZXB0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbWV0YWRhdGEuc2luZ2xlQ2FsbGJhY2tBcmdcbiAgICAgKiAgICAgICAgV2hldGhlciBvciBub3QgdGhlIHByb21pc2UgaXMgcmVzb2x2ZWQgd2l0aCBvbmx5IHRoZSBmaXJzdFxuICAgICAqICAgICAgICBhcmd1bWVudCBvZiB0aGUgY2FsbGJhY2ssIGFsdGVybmF0aXZlbHkgYW4gYXJyYXkgb2YgYWxsIHRoZVxuICAgICAqICAgICAgICBjYWxsYmFjayBhcmd1bWVudHMgaXMgcmVzb2x2ZWQuIEJ5IGRlZmF1bHQsIGlmIHRoZSBjYWxsYmFja1xuICAgICAqICAgICAgICBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggb25seSBhIHNpbmdsZSBhcmd1bWVudCwgdGhhdCB3aWxsIGJlXG4gICAgICogICAgICAgIHJlc29sdmVkIHRvIHRoZSBwcm9taXNlLCB3aGlsZSBhbGwgYXJndW1lbnRzIHdpbGwgYmUgcmVzb2x2ZWQgYXNcbiAgICAgKiAgICAgICAgYW4gYXJyYXkgaWYgbXVsdGlwbGUgYXJlIGdpdmVuLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKG9iamVjdCwgLi4uKil9XG4gICAgICogICAgICAgVGhlIGdlbmVyYXRlZCB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGNvbnN0IHdyYXBBc3luY0Z1bmN0aW9uID0gKG5hbWUsIG1ldGFkYXRhKSA9PiB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gYXN5bmNGdW5jdGlvbldyYXBwZXIodGFyZ2V0LCAuLi5hcmdzKSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IG1ldGFkYXRhLm1pbkFyZ3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0ICR7bWV0YWRhdGEubWluQXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWluQXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gbWV0YWRhdGEubWF4QXJncykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbW9zdCAke21ldGFkYXRhLm1heEFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1heEFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgaWYgKG1ldGFkYXRhLmZhbGxiYWNrVG9Ob0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAvLyBUaGlzIEFQSSBtZXRob2QgaGFzIGN1cnJlbnRseSBubyBjYWxsYmFjayBvbiBDaHJvbWUsIGJ1dCBpdCByZXR1cm4gYSBwcm9taXNlIG9uIEZpcmVmb3gsXG4gICAgICAgICAgICAvLyBhbmQgc28gdGhlIHBvbHlmaWxsIHdpbGwgdHJ5IHRvIGNhbGwgaXQgd2l0aCBhIGNhbGxiYWNrIGZpcnN0LCBhbmQgaXQgd2lsbCBmYWxsYmFja1xuICAgICAgICAgICAgLy8gdG8gbm90IHBhc3NpbmcgdGhlIGNhbGxiYWNrIGlmIHRoZSBmaXJzdCBjYWxsIGZhaWxzLlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdKC4uLmFyZ3MsIG1ha2VDYWxsYmFjayh7cmVzb2x2ZSwgcmVqZWN0fSwgbWV0YWRhdGEpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGNiRXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGAke25hbWV9IEFQSSBtZXRob2QgZG9lc24ndCBzZWVtIHRvIHN1cHBvcnQgdGhlIGNhbGxiYWNrIHBhcmFtZXRlciwgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcImZhbGxpbmcgYmFjayB0byBjYWxsIGl0IHdpdGhvdXQgYSBjYWxsYmFjazogXCIsIGNiRXJyb3IpO1xuXG4gICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzKTtcblxuICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIEFQSSBtZXRob2QgbWV0YWRhdGEsIHNvIHRoYXQgdGhlIG5leHQgQVBJIGNhbGxzIHdpbGwgbm90IHRyeSB0b1xuICAgICAgICAgICAgICAvLyB1c2UgdGhlIHVuc3VwcG9ydGVkIGNhbGxiYWNrIGFueW1vcmUuXG4gICAgICAgICAgICAgIG1ldGFkYXRhLmZhbGxiYWNrVG9Ob0NhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgIG1ldGFkYXRhLm5vQ2FsbGJhY2sgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKG1ldGFkYXRhLm5vQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W25hbWVdKC4uLmFyZ3MsIG1ha2VDYWxsYmFjayh7cmVzb2x2ZSwgcmVqZWN0fSwgbWV0YWRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV3JhcHMgYW4gZXhpc3RpbmcgbWV0aG9kIG9mIHRoZSB0YXJnZXQgb2JqZWN0LCBzbyB0aGF0IGNhbGxzIHRvIGl0IGFyZVxuICAgICAqIGludGVyY2VwdGVkIGJ5IHRoZSBnaXZlbiB3cmFwcGVyIGZ1bmN0aW9uLiBUaGUgd3JhcHBlciBmdW5jdGlvbiByZWNlaXZlcyxcbiAgICAgKiBhcyBpdHMgZmlyc3QgYXJndW1lbnQsIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YCBvYmplY3QsIGZvbGxvd2VkIGJ5IGVhY2ggb2ZcbiAgICAgKiB0aGUgYXJndW1lbnRzIHBhc3NlZCB0byB0aGUgb3JpZ2luYWwgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICAgICAqICAgICAgICBUaGUgb3JpZ2luYWwgdGFyZ2V0IG9iamVjdCB0aGF0IHRoZSB3cmFwcGVkIG1ldGhvZCBiZWxvbmdzIHRvLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1ldGhvZFxuICAgICAqICAgICAgICBUaGUgbWV0aG9kIGJlaW5nIHdyYXBwZWQuIFRoaXMgaXMgdXNlZCBhcyB0aGUgdGFyZ2V0IG9mIHRoZSBQcm94eVxuICAgICAqICAgICAgICBvYmplY3Qgd2hpY2ggaXMgY3JlYXRlZCB0byB3cmFwIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gd3JhcHBlclxuICAgICAqICAgICAgICBUaGUgd3JhcHBlciBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgaW4gcGxhY2Ugb2YgYSBkaXJlY3QgaW52b2NhdGlvblxuICAgICAqICAgICAgICBvZiB0aGUgd3JhcHBlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJveHk8ZnVuY3Rpb24+fVxuICAgICAqICAgICAgICBBIFByb3h5IG9iamVjdCBmb3IgdGhlIGdpdmVuIG1ldGhvZCwgd2hpY2ggaW52b2tlcyB0aGUgZ2l2ZW4gd3JhcHBlclxuICAgICAqICAgICAgICBtZXRob2QgaW4gaXRzIHBsYWNlLlxuICAgICAqL1xuICAgIGNvbnN0IHdyYXBNZXRob2QgPSAodGFyZ2V0LCBtZXRob2QsIHdyYXBwZXIpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJveHkobWV0aG9kLCB7XG4gICAgICAgIGFwcGx5KHRhcmdldE1ldGhvZCwgdGhpc09iaiwgYXJncykge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyLmNhbGwodGhpc09iaiwgdGFyZ2V0LCAuLi5hcmdzKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBsZXQgaGFzT3duUHJvcGVydHkgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbiAgICAvKipcbiAgICAgKiBXcmFwcyBhbiBvYmplY3QgaW4gYSBQcm94eSB3aGljaCBpbnRlcmNlcHRzIGFuZCB3cmFwcyBjZXJ0YWluIG1ldGhvZHNcbiAgICAgKiBiYXNlZCBvbiB0aGUgZ2l2ZW4gYHdyYXBwZXJzYCBhbmQgYG1ldGFkYXRhYCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICAgICAqICAgICAgICBUaGUgdGFyZ2V0IG9iamVjdCB0byB3cmFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt3cmFwcGVycyA9IHt9XVxuICAgICAqICAgICAgICBBbiBvYmplY3QgdHJlZSBjb250YWluaW5nIHdyYXBwZXIgZnVuY3Rpb25zIGZvciBzcGVjaWFsIGNhc2VzLiBBbnlcbiAgICAgKiAgICAgICAgZnVuY3Rpb24gcHJlc2VudCBpbiB0aGlzIG9iamVjdCB0cmVlIGlzIGNhbGxlZCBpbiBwbGFjZSBvZiB0aGVcbiAgICAgKiAgICAgICAgbWV0aG9kIGluIHRoZSBzYW1lIGxvY2F0aW9uIGluIHRoZSBgdGFyZ2V0YCBvYmplY3QgdHJlZS4gVGhlc2VcbiAgICAgKiAgICAgICAgd3JhcHBlciBtZXRob2RzIGFyZSBpbnZva2VkIGFzIGRlc2NyaWJlZCBpbiB7QHNlZSB3cmFwTWV0aG9kfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbbWV0YWRhdGEgPSB7fV1cbiAgICAgKiAgICAgICAgQW4gb2JqZWN0IHRyZWUgY29udGFpbmluZyBtZXRhZGF0YSB1c2VkIHRvIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVcbiAgICAgKiAgICAgICAgUHJvbWlzZS1iYXNlZCB3cmFwcGVyIGZ1bmN0aW9ucyBmb3IgYXN5bmNocm9ub3VzLiBBbnkgZnVuY3Rpb24gaW5cbiAgICAgKiAgICAgICAgdGhlIGB0YXJnZXRgIG9iamVjdCB0cmVlIHdoaWNoIGhhcyBhIGNvcnJlc3BvbmRpbmcgbWV0YWRhdGEgb2JqZWN0XG4gICAgICogICAgICAgIGluIHRoZSBzYW1lIGxvY2F0aW9uIGluIHRoZSBgbWV0YWRhdGFgIHRyZWUgaXMgcmVwbGFjZWQgd2l0aCBhblxuICAgICAqICAgICAgICBhdXRvbWF0aWNhbGx5LWdlbmVyYXRlZCB3cmFwcGVyIGZ1bmN0aW9uLCBhcyBkZXNjcmliZWQgaW5cbiAgICAgKiAgICAgICAge0BzZWUgd3JhcEFzeW5jRnVuY3Rpb259XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJveHk8b2JqZWN0Pn1cbiAgICAgKi9cbiAgICBjb25zdCB3cmFwT2JqZWN0ID0gKHRhcmdldCwgd3JhcHBlcnMgPSB7fSwgbWV0YWRhdGEgPSB7fSkgPT4ge1xuICAgICAgbGV0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIGxldCBoYW5kbGVycyA9IHtcbiAgICAgICAgaGFzKHByb3h5VGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3AgaW4gdGFyZ2V0IHx8IHByb3AgaW4gY2FjaGU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0KHByb3h5VGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgIGlmIChwcm9wIGluIGNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVbcHJvcF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCEocHJvcCBpbiB0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCB2YWx1ZSA9IHRhcmdldFtwcm9wXTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG1ldGhvZCBvbiB0aGUgdW5kZXJseWluZyBvYmplY3QuIENoZWNrIGlmIHdlIG5lZWQgdG8gZG9cbiAgICAgICAgICAgIC8vIGFueSB3cmFwcGluZy5cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB3cmFwcGVyc1twcm9wXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBzcGVjaWFsLWNhc2Ugd3JhcHBlciBmb3IgdGhpcyBtZXRob2QuXG4gICAgICAgICAgICAgIHZhbHVlID0gd3JhcE1ldGhvZCh0YXJnZXQsIHRhcmdldFtwcm9wXSwgd3JhcHBlcnNbcHJvcF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNPd25Qcm9wZXJ0eShtZXRhZGF0YSwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhbiBhc3luYyBtZXRob2QgdGhhdCB3ZSBoYXZlIG1ldGFkYXRhIGZvci4gQ3JlYXRlIGFcbiAgICAgICAgICAgICAgLy8gUHJvbWlzZSB3cmFwcGVyIGZvciBpdC5cbiAgICAgICAgICAgICAgbGV0IHdyYXBwZXIgPSB3cmFwQXN5bmNGdW5jdGlvbihwcm9wLCBtZXRhZGF0YVtwcm9wXSk7XG4gICAgICAgICAgICAgIHZhbHVlID0gd3JhcE1ldGhvZCh0YXJnZXQsIHRhcmdldFtwcm9wXSwgd3JhcHBlcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgbWV0aG9kIHRoYXQgd2UgZG9uJ3Qga25vdyBvciBjYXJlIGFib3V0LiBSZXR1cm4gdGhlXG4gICAgICAgICAgICAgIC8vIG9yaWdpbmFsIG1ldGhvZCwgYm91bmQgdG8gdGhlIHVuZGVybHlpbmcgb2JqZWN0LlxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmJpbmQodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgKGhhc093blByb3BlcnR5KHdyYXBwZXJzLCBwcm9wKSB8fFxuICAgICAgICAgICAgICAgICAgICAgIGhhc093blByb3BlcnR5KG1ldGFkYXRhLCBwcm9wKSkpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gb2JqZWN0IHRoYXQgd2UgbmVlZCB0byBkbyBzb21lIHdyYXBwaW5nIGZvciB0aGUgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIG9mLiBDcmVhdGUgYSBzdWItb2JqZWN0IHdyYXBwZXIgZm9yIGl0IHdpdGggdGhlIGFwcHJvcHJpYXRlIGNoaWxkXG4gICAgICAgICAgICAvLyBtZXRhZGF0YS5cbiAgICAgICAgICAgIHZhbHVlID0gd3JhcE9iamVjdCh2YWx1ZSwgd3JhcHBlcnNbcHJvcF0sIG1ldGFkYXRhW3Byb3BdKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc093blByb3BlcnR5KG1ldGFkYXRhLCBcIipcIikpIHtcbiAgICAgICAgICAgIC8vIFdyYXAgYWxsIHByb3BlcnRpZXMgaW4gKiBuYW1lc3BhY2UuXG4gICAgICAgICAgICB2YWx1ZSA9IHdyYXBPYmplY3QodmFsdWUsIHdyYXBwZXJzW3Byb3BdLCBtZXRhZGF0YVtcIipcIl0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIGRvIGFueSB3cmFwcGluZyBmb3IgdGhpcyBwcm9wZXJ0eSxcbiAgICAgICAgICAgIC8vIHNvIGp1c3QgZm9yd2FyZCBhbGwgYWNjZXNzIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdC5cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjYWNoZSwgcHJvcCwge1xuICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FjaGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0KHByb3h5VGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICBpZiAocHJvcCBpbiBjYWNoZSkge1xuICAgICAgICAgICAgY2FjaGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRlZmluZVByb3BlcnR5KHByb3h5VGFyZ2V0LCBwcm9wLCBkZXNjKSB7XG4gICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkoY2FjaGUsIHByb3AsIGRlc2MpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRlbGV0ZVByb3BlcnR5KHByb3h5VGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoY2FjaGUsIHByb3ApO1xuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgLy8gUGVyIGNvbnRyYWN0IG9mIHRoZSBQcm94eSBBUEksIHRoZSBcImdldFwiIHByb3h5IGhhbmRsZXIgbXVzdCByZXR1cm4gdGhlXG4gICAgICAvLyBvcmlnaW5hbCB2YWx1ZSBvZiB0aGUgdGFyZ2V0IGlmIHRoYXQgdmFsdWUgaXMgZGVjbGFyZWQgcmVhZC1vbmx5IGFuZFxuICAgICAgLy8gbm9uLWNvbmZpZ3VyYWJsZS4gRm9yIHRoaXMgcmVhc29uLCB3ZSBjcmVhdGUgYW4gb2JqZWN0IHdpdGggdGhlXG4gICAgICAvLyBwcm90b3R5cGUgc2V0IHRvIGB0YXJnZXRgIGluc3RlYWQgb2YgdXNpbmcgYHRhcmdldGAgZGlyZWN0bHkuXG4gICAgICAvLyBPdGhlcndpc2Ugd2UgY2Fubm90IHJldHVybiBhIGN1c3RvbSBvYmplY3QgZm9yIEFQSXMgdGhhdFxuICAgICAgLy8gYXJlIGRlY2xhcmVkIHJlYWQtb25seSBhbmQgbm9uLWNvbmZpZ3VyYWJsZSwgc3VjaCBhcyBgY2hyb21lLmRldnRvb2xzYC5cbiAgICAgIC8vXG4gICAgICAvLyBUaGUgcHJveHkgaGFuZGxlcnMgdGhlbXNlbHZlcyB3aWxsIHN0aWxsIHVzZSB0aGUgb3JpZ2luYWwgYHRhcmdldGBcbiAgICAgIC8vIGluc3RlYWQgb2YgdGhlIGBwcm94eVRhcmdldGAsIHNvIHRoYXQgdGhlIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgYXJlXG4gICAgICAvLyBkZXJlZmVyZW5jZWQgdmlhIHRoZSBvcmlnaW5hbCB0YXJnZXRzLlxuICAgICAgbGV0IHByb3h5VGFyZ2V0ID0gT2JqZWN0LmNyZWF0ZSh0YXJnZXQpO1xuICAgICAgcmV0dXJuIG5ldyBQcm94eShwcm94eVRhcmdldCwgaGFuZGxlcnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9mIHdyYXBwZXIgZnVuY3Rpb25zIGZvciBhbiBldmVudCBvYmplY3QsIHdoaWNoIGhhbmRsZXNcbiAgICAgKiB3cmFwcGluZyBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdGhhdCB0aG9zZSBtZXNzYWdlcyBhcmUgcGFzc2VkLlxuICAgICAqXG4gICAgICogQSBzaW5nbGUgd3JhcHBlciBpcyBjcmVhdGVkIGZvciBlYWNoIGxpc3RlbmVyIGZ1bmN0aW9uLCBhbmQgc3RvcmVkIGluIGFcbiAgICAgKiBtYXAuIFN1YnNlcXVlbnQgY2FsbHMgdG8gYGFkZExpc3RlbmVyYCwgYGhhc0xpc3RlbmVyYCwgb3IgYHJlbW92ZUxpc3RlbmVyYFxuICAgICAqIHJldHJpZXZlIHRoZSBvcmlnaW5hbCB3cmFwcGVyLCBzbyB0aGF0ICBhdHRlbXB0cyB0byByZW1vdmUgYVxuICAgICAqIHByZXZpb3VzbHktYWRkZWQgbGlzdGVuZXIgd29yayBhcyBleHBlY3RlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RGVmYXVsdFdlYWtNYXA8ZnVuY3Rpb24sIGZ1bmN0aW9uPn0gd3JhcHBlck1hcFxuICAgICAqICAgICAgICBBIERlZmF1bHRXZWFrTWFwIG9iamVjdCB3aGljaCB3aWxsIGNyZWF0ZSB0aGUgYXBwcm9wcmlhdGUgd3JhcHBlclxuICAgICAqICAgICAgICBmb3IgYSBnaXZlbiBsaXN0ZW5lciBmdW5jdGlvbiB3aGVuIG9uZSBkb2VzIG5vdCBleGlzdCwgYW5kIHJldHJpZXZlXG4gICAgICogICAgICAgIGFuIGV4aXN0aW5nIG9uZSB3aGVuIGl0IGRvZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIGNvbnN0IHdyYXBFdmVudCA9IHdyYXBwZXJNYXAgPT4gKHtcbiAgICAgIGFkZExpc3RlbmVyKHRhcmdldCwgbGlzdGVuZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgdGFyZ2V0LmFkZExpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSwgLi4uYXJncyk7XG4gICAgICB9LFxuXG4gICAgICBoYXNMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQuaGFzTGlzdGVuZXIod3JhcHBlck1hcC5nZXQobGlzdGVuZXIpKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlbW92ZUxpc3RlbmVyKHRhcmdldCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc3Qgb25SZXF1ZXN0RmluaXNoZWRXcmFwcGVycyA9IG5ldyBEZWZhdWx0V2Vha01hcChsaXN0ZW5lciA9PiB7XG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFdyYXBzIGFuIG9uUmVxdWVzdEZpbmlzaGVkIGxpc3RlbmVyIGZ1bmN0aW9uIHNvIHRoYXQgaXQgd2lsbCByZXR1cm4gYVxuICAgICAgICogYGdldENvbnRlbnQoKWAgcHJvcGVydHkgd2hpY2ggcmV0dXJucyBhIGBQcm9taXNlYCByYXRoZXIgdGhhbiB1c2luZyBhXG4gICAgICAgKiBjYWxsYmFjayBBUEkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgICAgICogICAgICAgIFRoZSBIQVIgZW50cnkgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgbmV0d29yayByZXF1ZXN0LlxuICAgICAgICovXG4gICAgICByZXR1cm4gZnVuY3Rpb24gb25SZXF1ZXN0RmluaXNoZWQocmVxKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRSZXEgPSB3cmFwT2JqZWN0KHJlcSwge30gLyogd3JhcHBlcnMgKi8sIHtcbiAgICAgICAgICBnZXRDb250ZW50OiB7XG4gICAgICAgICAgICBtaW5BcmdzOiAwLFxuICAgICAgICAgICAgbWF4QXJnczogMCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgbGlzdGVuZXIod3JhcHBlZFJlcSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gS2VlcCB0cmFjayBpZiB0aGUgZGVwcmVjYXRpb24gd2FybmluZyBoYXMgYmVlbiBsb2dnZWQgYXQgbGVhc3Qgb25jZS5cbiAgICBsZXQgbG9nZ2VkU2VuZFJlc3BvbnNlRGVwcmVjYXRpb25XYXJuaW5nID0gZmFsc2U7XG5cbiAgICBjb25zdCBvbk1lc3NhZ2VXcmFwcGVycyA9IG5ldyBEZWZhdWx0V2Vha01hcChsaXN0ZW5lciA9PiB7XG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFdyYXBzIGEgbWVzc2FnZSBsaXN0ZW5lciBmdW5jdGlvbiBzbyB0aGF0IGl0IG1heSBzZW5kIHJlc3BvbnNlcyBiYXNlZCBvblxuICAgICAgICogaXRzIHJldHVybiB2YWx1ZSwgcmF0aGVyIHRoYW4gYnkgcmV0dXJuaW5nIGEgc2VudGluZWwgdmFsdWUgYW5kIGNhbGxpbmcgYVxuICAgICAgICogY2FsbGJhY2suIElmIHRoZSBsaXN0ZW5lciBmdW5jdGlvbiByZXR1cm5zIGEgUHJvbWlzZSwgdGhlIHJlc3BvbnNlIGlzXG4gICAgICAgKiBzZW50IHdoZW4gdGhlIHByb21pc2UgZWl0aGVyIHJlc29sdmVzIG9yIHJlamVjdHMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsqfSBtZXNzYWdlXG4gICAgICAgKiAgICAgICAgVGhlIG1lc3NhZ2Ugc2VudCBieSB0aGUgb3RoZXIgZW5kIG9mIHRoZSBjaGFubmVsLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHNlbmRlclxuICAgICAgICogICAgICAgIERldGFpbHMgYWJvdXQgdGhlIHNlbmRlciBvZiB0aGUgbWVzc2FnZS5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKil9IHNlbmRSZXNwb25zZVxuICAgICAgICogICAgICAgIEEgY2FsbGJhY2sgd2hpY2gsIHdoZW4gY2FsbGVkIHdpdGggYW4gYXJiaXRyYXJ5IGFyZ3VtZW50LCBzZW5kc1xuICAgICAgICogICAgICAgIHRoYXQgdmFsdWUgYXMgYSByZXNwb25zZS5cbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICogICAgICAgIFRydWUgaWYgdGhlIHdyYXBwZWQgbGlzdGVuZXIgcmV0dXJuZWQgYSBQcm9taXNlLCB3aGljaCB3aWxsIGxhdGVyXG4gICAgICAgKiAgICAgICAgeWllbGQgYSByZXNwb25zZS4gRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAgICovXG4gICAgICByZXR1cm4gZnVuY3Rpb24gb25NZXNzYWdlKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XG4gICAgICAgIGxldCBkaWRDYWxsU2VuZFJlc3BvbnNlID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IHdyYXBwZWRTZW5kUmVzcG9uc2U7XG4gICAgICAgIGxldCBzZW5kUmVzcG9uc2VQcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgd3JhcHBlZFNlbmRSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAoIWxvZ2dlZFNlbmRSZXNwb25zZURlcHJlY2F0aW9uV2FybmluZykge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oU0VORF9SRVNQT05TRV9ERVBSRUNBVElPTl9XQVJOSU5HLCBuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgICAgICAgICAgIGxvZ2dlZFNlbmRSZXNwb25zZURlcHJlY2F0aW9uV2FybmluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaWRDYWxsU2VuZFJlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzdWx0ID0gbGlzdGVuZXIobWVzc2FnZSwgc2VuZGVyLCB3cmFwcGVkU2VuZFJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmVzdWx0ID0gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzUmVzdWx0VGhlbmFibGUgPSByZXN1bHQgIT09IHRydWUgJiYgaXNUaGVuYWJsZShyZXN1bHQpO1xuXG4gICAgICAgIC8vIElmIHRoZSBsaXN0ZW5lciBkaWRuJ3QgcmV0dXJuZWQgdHJ1ZSBvciBhIFByb21pc2UsIG9yIGNhbGxlZFxuICAgICAgICAvLyB3cmFwcGVkU2VuZFJlc3BvbnNlIHN5bmNocm9ub3VzbHksIHdlIGNhbiBleGl0IGVhcmxpZXJcbiAgICAgICAgLy8gYmVjYXVzZSB0aGVyZSB3aWxsIGJlIG5vIHJlc3BvbnNlIHNlbnQgZnJvbSB0aGlzIGxpc3RlbmVyLlxuICAgICAgICBpZiAocmVzdWx0ICE9PSB0cnVlICYmICFpc1Jlc3VsdFRoZW5hYmxlICYmICFkaWRDYWxsU2VuZFJlc3BvbnNlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQSBzbWFsbCBoZWxwZXIgdG8gc2VuZCB0aGUgbWVzc2FnZSBpZiB0aGUgcHJvbWlzZSByZXNvbHZlc1xuICAgICAgICAvLyBhbmQgYW4gZXJyb3IgaWYgdGhlIHByb21pc2UgcmVqZWN0cyAoYSB3cmFwcGVkIHNlbmRNZXNzYWdlIGhhc1xuICAgICAgICAvLyB0byB0cmFuc2xhdGUgdGhlIG1lc3NhZ2UgaW50byBhIHJlc29sdmVkIHByb21pc2Ugb3IgYSByZWplY3RlZFxuICAgICAgICAvLyBwcm9taXNlKS5cbiAgICAgICAgY29uc3Qgc2VuZFByb21pc2VkUmVzdWx0ID0gKHByb21pc2UpID0+IHtcbiAgICAgICAgICBwcm9taXNlLnRoZW4obXNnID0+IHtcbiAgICAgICAgICAgIC8vIHNlbmQgdGhlIG1lc3NhZ2UgdmFsdWUuXG4gICAgICAgICAgICBzZW5kUmVzcG9uc2UobXNnKTtcbiAgICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICAvLyBTZW5kIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgZXJyb3IgaWYgdGhlIHJlamVjdGVkIHZhbHVlXG4gICAgICAgICAgICAvLyBpcyBhbiBpbnN0YW5jZSBvZiBlcnJvciwgb3IgdGhlIG9iamVjdCBpdHNlbGYgb3RoZXJ3aXNlLlxuICAgICAgICAgICAgbGV0IG1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoZXJyb3IgJiYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtZXNzYWdlID0gXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7XG4gICAgICAgICAgICAgIF9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXzogdHJ1ZSxcbiAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAvLyBQcmludCBhbiBlcnJvciBvbiB0aGUgY29uc29sZSBpZiB1bmFibGUgdG8gc2VuZCB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNlbmQgb25NZXNzYWdlIHJlamVjdGVkIHJlcGx5XCIsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgdGhlIGxpc3RlbmVyIHJldHVybmVkIGEgUHJvbWlzZSwgc2VuZCB0aGUgcmVzb2x2ZWQgdmFsdWUgYXMgYVxuICAgICAgICAvLyByZXN1bHQsIG90aGVyd2lzZSB3YWl0IHRoZSBwcm9taXNlIHJlbGF0ZWQgdG8gdGhlIHdyYXBwZWRTZW5kUmVzcG9uc2VcbiAgICAgICAgLy8gY2FsbGJhY2sgdG8gcmVzb2x2ZSBhbmQgc2VuZCBpdCBhcyBhIHJlc3BvbnNlLlxuICAgICAgICBpZiAoaXNSZXN1bHRUaGVuYWJsZSkge1xuICAgICAgICAgIHNlbmRQcm9taXNlZFJlc3VsdChyZXN1bHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbmRQcm9taXNlZFJlc3VsdChzZW5kUmVzcG9uc2VQcm9taXNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExldCBDaHJvbWUga25vdyB0aGF0IHRoZSBsaXN0ZW5lciBpcyByZXBseWluZy5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgY29uc3Qgd3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2sgPSAoe3JlamVjdCwgcmVzb2x2ZX0sIHJlcGx5KSA9PiB7XG4gICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAvLyBEZXRlY3Qgd2hlbiBub25lIG9mIHRoZSBsaXN0ZW5lcnMgcmVwbGllZCB0byB0aGUgc2VuZE1lc3NhZ2UgY2FsbCBhbmQgcmVzb2x2ZVxuICAgICAgICAvLyB0aGUgcHJvbWlzZSB0byB1bmRlZmluZWQgYXMgaW4gRmlyZWZveC5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3dlYmV4dGVuc2lvbi1wb2x5ZmlsbC9pc3N1ZXMvMTMwXG4gICAgICAgIGlmIChleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yLm1lc3NhZ2UgPT09IENIUk9NRV9TRU5EX01FU1NBR0VfQ0FMTEJBQ0tfTk9fUkVTUE9OU0VfTUVTU0FHRSkge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IubWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlcGx5ICYmIHJlcGx5Ll9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXykge1xuICAgICAgICAvLyBDb252ZXJ0IGJhY2sgdGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIGVycm9yIGludG9cbiAgICAgICAgLy8gYW4gRXJyb3IgaW5zdGFuY2UuXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IocmVwbHkubWVzc2FnZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZShyZXBseSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHdyYXBwZWRTZW5kTWVzc2FnZSA9IChuYW1lLCBtZXRhZGF0YSwgYXBpTmFtZXNwYWNlT2JqLCAuLi5hcmdzKSA9PiB7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgJHttZXRhZGF0YS5taW5BcmdzfSAke3BsdXJhbGl6ZUFyZ3VtZW50cyhtZXRhZGF0YS5taW5BcmdzKX0gZm9yICR7bmFtZX0oKSwgZ290ICR7YXJncy5sZW5ndGh9YCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhdCBtb3N0ICR7bWV0YWRhdGEubWF4QXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWF4QXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCB3cmFwcGVkQ2IgPSB3cmFwcGVkU2VuZE1lc3NhZ2VDYWxsYmFjay5iaW5kKG51bGwsIHtyZXNvbHZlLCByZWplY3R9KTtcbiAgICAgICAgYXJncy5wdXNoKHdyYXBwZWRDYik7XG4gICAgICAgIGFwaU5hbWVzcGFjZU9iai5zZW5kTWVzc2FnZSguLi5hcmdzKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzdGF0aWNXcmFwcGVycyA9IHtcbiAgICAgIGRldnRvb2xzOiB7XG4gICAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgICBvblJlcXVlc3RGaW5pc2hlZDogd3JhcEV2ZW50KG9uUmVxdWVzdEZpbmlzaGVkV3JhcHBlcnMpLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJ1bnRpbWU6IHtcbiAgICAgICAgb25NZXNzYWdlOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICBvbk1lc3NhZ2VFeHRlcm5hbDogd3JhcEV2ZW50KG9uTWVzc2FnZVdyYXBwZXJzKSxcbiAgICAgICAgc2VuZE1lc3NhZ2U6IHdyYXBwZWRTZW5kTWVzc2FnZS5iaW5kKG51bGwsIFwic2VuZE1lc3NhZ2VcIiwge21pbkFyZ3M6IDEsIG1heEFyZ3M6IDN9KSxcbiAgICAgIH0sXG4gICAgICB0YWJzOiB7XG4gICAgICAgIHNlbmRNZXNzYWdlOiB3cmFwcGVkU2VuZE1lc3NhZ2UuYmluZChudWxsLCBcInNlbmRNZXNzYWdlXCIsIHttaW5BcmdzOiAyLCBtYXhBcmdzOiAzfSksXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3Qgc2V0dGluZ01ldGFkYXRhID0ge1xuICAgICAgY2xlYXI6IHttaW5BcmdzOiAxLCBtYXhBcmdzOiAxfSxcbiAgICAgIGdldDoge21pbkFyZ3M6IDEsIG1heEFyZ3M6IDF9LFxuICAgICAgc2V0OiB7bWluQXJnczogMSwgbWF4QXJnczogMX0sXG4gICAgfTtcbiAgICBhcGlNZXRhZGF0YS5wcml2YWN5ID0ge1xuICAgICAgbmV0d29yazoge1wiKlwiOiBzZXR0aW5nTWV0YWRhdGF9LFxuICAgICAgc2VydmljZXM6IHtcIipcIjogc2V0dGluZ01ldGFkYXRhfSxcbiAgICAgIHdlYnNpdGVzOiB7XCIqXCI6IHNldHRpbmdNZXRhZGF0YX0sXG4gICAgfTtcblxuICAgIHJldHVybiB3cmFwT2JqZWN0KGV4dGVuc2lvbkFQSXMsIHN0YXRpY1dyYXBwZXJzLCBhcGlNZXRhZGF0YSk7XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBjaHJvbWUgIT0gXCJvYmplY3RcIiB8fCAhY2hyb21lIHx8ICFjaHJvbWUucnVudGltZSB8fCAhY2hyb21lLnJ1bnRpbWUuaWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHNjcmlwdCBzaG91bGQgb25seSBiZSBsb2FkZWQgaW4gYSBicm93c2VyIGV4dGVuc2lvbi5cIik7XG4gIH1cblxuICAvLyBUaGUgYnVpbGQgcHJvY2VzcyBhZGRzIGEgVU1EIHdyYXBwZXIgYXJvdW5kIHRoaXMgZmlsZSwgd2hpY2ggbWFrZXMgdGhlXG4gIC8vIGBtb2R1bGVgIHZhcmlhYmxlIGF2YWlsYWJsZS5cbiAgbW9kdWxlLmV4cG9ydHMgPSB3cmFwQVBJcyhjaHJvbWUpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBicm93c2VyO1xufVxuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXIuanNcIjtcbmltcG9ydCB7Y29udGVudFR5cGVzfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9jb250ZW50VHlwZXMuanNcIjtcbmltcG9ydCB7cGFyc2VVUkx9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL3VybC5qc1wiO1xuaW1wb3J0IHtNSUxMSVNfSU5fSE9VUiwgTUlMTElTX0lOX01JTlVURSxcbiAgICAgICAgTUlMTElTX0lOX0RBWX0gZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvdGltZS5qc1wiO1xuaW1wb3J0IHtiYXNlNjRUb0FycmF5QnVmZmVyfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9yc2EuanNcIjtcblxuaW1wb3J0IHtmaWx0ZXJFbmdpbmV9IGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCB7Z2V0RnJhbWVJbmZvfSBmcm9tIFwiLi9mcmFtZS1zdGF0ZS5qc1wiO1xuaW1wb3J0IHtkZWZhdWx0IGFzIGZpbHRlcnN9IGZyb20gXCIuL2ZpbHRlcnMuanNcIjtcbmltcG9ydCB7RXZlbnREaXNwYXRjaGVyfSBmcm9tIFwiLi90eXBlcy5qc1wiO1xuaW1wb3J0IHtpc0VkZ2V9IGZyb20gXCIuL2luZm8uanNcIjtcbmltcG9ydCB7UHJlZnN9IGZyb20gXCIuL3ByZWZzLmpzXCI7XG5cbi8vIEFsbG93bGlzdGluZyBkZXBlbmRzIG9uIGNvbXBhcmluZyB0aW1lc3RhbXBzIHdoaWNoIG1heSBiZSBnZW5lcmF0ZWQgb25cbi8vIGRpZmZlcmVudCBjbG9ja3Mgb24gZGlmZmVyZW50IHNlcnZlcnMgYWNyb3NzIHRoZSBpbnRlcm5ldC4gT25lIGRheSBldmVyeW9uZVxuLy8gd2lsbCBoYXZlIHBlcmZlY3RseSBzeW5jaHJvbml6ZWQgY2xvY2tzLiBUb2RheSBob3dldmVyLCB3ZSBuZWVkIHNvbWVcbi8vIHRvbGVyYW5jZSBmb3IgaWYgdGhlIHR3byBjbG9ja3MgYXJlIG91dCBvZiBzeW5jLiBCYXNlZCBvblxuLy8gaHR0cHM6Ly9sZWFybi5taWNyb3NvZnQuY29tL2VuLXVzL3dpbmRvd3Mvc2VjdXJpdHkvdGhyZWF0LXByb3RlY3Rpb24vc2VjdXJpdHktcG9saWN5LXNldHRpbmdzL21heGltdW0tdG9sZXJhbmNlLWZvci1jb21wdXRlci1jbG9jay1zeW5jaHJvbml6YXRpb24sXG4vLyBNaWNyb3NvZnQgc2VlbXMgdG8gZXhwZWN0IDUgbWluIHRvIGJlIGEgcmVhc29uYWJsZSB0b2xlcmFuY2UgZm9yIGNsb2NrXG4vLyBza2V3aW5nIGluIFdpbmRvd3Mgc3lzdGVtcy4gVGhpcyBpcyBhbHNvIGluIHRoZSBzYW1lIG9yZGVyIG9mIG1hZ25pdHVkZSB0aGVcbi8vIGhvdXIgd2luZG93IHdlIGhhdmUgZm9yIHRoZSB0aW1zdGFtcCB0byBiZSB2YWxpZC5cbmNvbnN0IENMT0NLX1NLRVdfVE9MRVJBTkNFID0gNSAqIE1JTExJU19JTl9NSU5VVEU7XG5cbi8vIE5vdGUgdGhhdCB0aGlzIGlzIGEgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiwgYnV0IGl0IG1pZ2h0IGJlXG4vLyByZXBsYWNlZCB1c2luZyBgc2V0QWxsb3dsaXN0aW5nQ2FsbGJhY2tgLiBEb24ndCByZWx5IG9uIHRoaXNcbi8vIGJlaGF2aW91ci5cbmxldCBhbGxvd2xpc3RpbmdDYWxsYmFjayA9IGZ1bmN0aW9uKGRvbWFpbiwgb3B0aW9ucykge1xuICBsZXQgbWV0YWRhdGEgPSBudWxsO1xuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmV4cGlyZXNBdCkge1xuICAgIG1ldGFkYXRhID0ge2V4cGlyZXNBdDogb3B0aW9ucy5leHBpcmVzQXR9O1xuICB9XG4gIHJldHVybiBmaWx0ZXJzLmFkZChbYEBAfHwke2RvbWFpbn1eJGRvY3VtZW50YF0sIG1ldGFkYXRhKTtcbn07XG5sZXQgZGlzcGF0Y2hVbmF1dGhvcml6ZWQgPSAoKSA9PiB7fTtcblxubGV0IGF1dGhvcml6ZWRQdWJsaWNLZXlzID0gW107XG5sZXQgcHVibGljS2V5c1VwZGF0ZWQgPSBQcm9taXNlLnJlc29sdmUoKTtcblxubGV0IGFsZ29yaXRobSA9IHtcbiAgbmFtZTogXCJSU0FTU0EtUEtDUzEtdjFfNVwiLFxuICBtb2R1bHVzTGVuZ3RoOiA0MDk2LFxuICBwdWJsaWNFeHBvbmVudDogbmV3IFVpbnQ4QXJyYXkoWzB4MDEsIDB4MDAsIDB4MDFdKSxcbiAgaGFzaDoge25hbWU6IFwiU0hBLTUxMlwifVxufTtcblxuZnVuY3Rpb24gZ2V0QWxsb3dEYXRhKGRvbWFpbiwgdGltZXN0YW1wKSB7XG4gIGxldCBzdHIgPSBgJHtkb21haW59LCR7dGltZXN0YW1wfWA7XG4gIHJldHVybiAobmV3IFRleHRFbmNvZGVyKCkpLmVuY29kZShzdHIpO1xufVxuXG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlTaWduYXR1cmUoZGF0YSwgc2lnbmF0dXJlLCBwdWJLZXkpIHtcbiAgcmV0dXJuIGNyeXB0by5zdWJ0bGUudmVyaWZ5KFxuICAgIGFsZ29yaXRobSxcbiAgICBwdWJLZXksXG4gICAgc2lnbmF0dXJlLFxuICAgIGRhdGFcbiAgKTtcbn1cblxuZnVuY3Rpb24gdmVyaWZ5VGltZXN0YW1wKHRpbWVzdGFtcCkge1xuICBpZiAodHlwZW9mIHRpbWVzdGFtcCAhPSBcIm51bWJlclwiIHx8IGlzTmFOKHRpbWVzdGFtcCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcblxuICBsZXQgaW5UaGVGdXR1cmUgPSB0aW1lc3RhbXAgPiBub3cgKyBDTE9DS19TS0VXX1RPTEVSQU5DRTtcbiAgbGV0IHRvb09sZCA9IHRpbWVzdGFtcCA8IG5vdyAtIE1JTExJU19JTl9IT1VSIC0gQ0xPQ0tfU0tFV19UT0xFUkFOQ0U7XG4gIHJldHVybiAhaW5UaGVGdXR1cmUgJiYgIXRvb09sZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdmVyaWZ5QW55U2lnbmF0dXJlcyhkb21haW4sIHRpbWVzdGFtcCwgc2lnbmF0dXJlKSB7XG4gIGlmICh0eXBlb2Ygc2lnbmF0dXJlICE9IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBhd2FpdCBwdWJsaWNLZXlzVXBkYXRlZDtcblxuICBsZXQgZGF0YSA9IGdldEFsbG93RGF0YShkb21haW4sIHRpbWVzdGFtcCk7XG4gIGxldCBhYlNpZ25hdHVyZSA9IGJhc2U2NFRvQXJyYXlCdWZmZXIoc2lnbmF0dXJlKTtcbiAgZm9yIChsZXQga2V5IG9mIGF1dGhvcml6ZWRQdWJsaWNLZXlzKSB7XG4gICAgaWYgKGF3YWl0IHZlcmlmeVNpZ25hdHVyZShkYXRhLCBhYlNpZ25hdHVyZSwga2V5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gdmVyaWZ5T3B0aW9ucyhvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuICBpZiAoa2V5cy5sZW5ndGggIT09IDEgfHwga2V5c1swXSAhPT0gXCJleHBpcmVzQXRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihvcHRpb25zLmV4cGlyZXNBdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBjb25zdCBtaW5FeHBpcmVzQXQgPSBub3cgKyBNSUxMSVNfSU5fREFZIC0gQ0xPQ0tfU0tFV19UT0xFUkFOQ0U7XG4gIGNvbnN0IG1heEV4cGlyZXNBdCA9IG5vdyArIDM2NSAqIE1JTExJU19JTl9EQVkgKyBDTE9DS19TS0VXX1RPTEVSQU5DRTtcbiAgaWYgKG9wdGlvbnMuZXhwaXJlc0F0IDwgbWluRXhwaXJlc0F0IHx8IG9wdGlvbnMuZXhwaXJlc0F0ID4gbWF4RXhwaXJlc0F0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHN1Y2NlZWRBbGxvd2xpc3RpbmcoZG9tYWluLCBvcHRpb25zKSB7XG4gIGF3YWl0IGFsbG93bGlzdGluZ0NhbGxiYWNrKGRvbWFpbiwgb3B0aW9ucyk7XG4gIC8vIEVFLTI1ODogRWRnZSBhZGRpbmcgZHluYW1pYyBETlIgcnVsZXMgcmV0dXJuIHByb21pc2UgZWFybGllcixcbiAgLy8gdGhhbiBpdCBhY3R1YWxseSBwcm9jZXNzZXMgdGhlIHJ1bGVzLiBTbyB3ZSB3b3JrYXJvdW5kIGl0IGJ5XG4gIC8vIHdhaXRpbmcgZm9yIHNvbWUgdGltZSBsb25nZXIgdG8gbGV0IGl0IGFjdHVhbGx5IGZpbmlzaCB0aGUgYWRkaW5nLlxuICBpZiAoYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QgJiYgaXNFZGdlKCkpIHtcbiAgICBjb25zdCBzbGVlcEludGVydmFsTWlsbGlzID0gUHJlZnMuZWRnZV9vbmVfY2xpY2tfYWxsb3dsaXN0aW5nX2RlbGF5O1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCBzbGVlcEludGVydmFsTWlsbGlzKSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGZhaWxBbGxvd2xpc3RpbmcoZXJyb3IpIHtcbiAgZGlzcGF0Y2hVbmF1dGhvcml6ZWQoZXJyb3IpO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhbGxvd2xpc3RQYWdlKFxuICB0YWJJZCwgZnJhbWVJZCwgdGltZXN0YW1wLCBzaWduYXR1cmUsIG9wdGlvbnNcbikge1xuICBsZXQgZnJhbWUgPSBnZXRGcmFtZUluZm8odGFiSWQsIGZyYW1lSWQpO1xuICBpZiAoIWZyYW1lKSB7XG4gICAgcmV0dXJuIGZhaWxBbGxvd2xpc3Rpbmcoe1xuICAgICAgcmVhc29uOiBcImludmFsaWRfZnJhbWVcIixcbiAgICAgIHJlcXVlc3Q6IHtkb21haW46IG51bGwsIHRpbWVzdGFtcCwgc2lnbmF0dXJlfVxuICAgIH0pO1xuICB9XG5cbiAgbGV0IGRvbWFpbiA9IGZyYW1lLmhvc3RuYW1lO1xuICBsZXQgcmVxdWVzdCA9IHtkb21haW4sIHRpbWVzdGFtcCwgc2lnbmF0dXJlfTtcblxuICBpZiAoZnJhbWVJZCAhPSAwKSB7XG4gICAgcmV0dXJuIGZhaWxBbGxvd2xpc3Rpbmcoe1xuICAgICAgcmVhc29uOiBcImludmFsaWRfZnJhbWVcIixcbiAgICAgIHJlcXVlc3RcbiAgICB9KTtcbiAgfVxuXG4gIGxldCB1cmxJbmZvID0gcGFyc2VVUkwoZnJhbWUudXJsKTtcbiAgbGV0IGFscmVhZHlBbGxvd2xpc3RlZERvbWFpbiA9IGZpbHRlckVuZ2luZS5kZWZhdWx0TWF0Y2hlci5pc0FsbG93bGlzdGVkKFxuICAgIGAke3VybEluZm8ucHJvdG9jb2x9Ly8ke2RvbWFpbn1gLFxuICAgIGNvbnRlbnRUeXBlcy5ET0NVTUVOVCxcbiAgICBkb21haW4sXG4gICAgZnJhbWUuc2l0ZWtleVxuICApO1xuICBpZiAoYWxyZWFkeUFsbG93bGlzdGVkRG9tYWluKSB7XG4gICAgcmV0dXJuIGZhaWxBbGxvd2xpc3Rpbmcoe1xuICAgICAgcmVhc29uOiBcImFscmVhZHlfYWxsb3dsaXN0ZWRcIixcbiAgICAgIHJlcXVlc3RcbiAgICB9KTtcbiAgfVxuXG4gIGxldCB2YWxpZE9wdGlvbnMgPSB2ZXJpZnlPcHRpb25zKG9wdGlvbnMpO1xuICBpZiAoIXZhbGlkT3B0aW9ucykge1xuICAgIHJldHVybiBmYWlsQWxsb3dsaXN0aW5nKHtcbiAgICAgIHJlYXNvbjogXCJpbnZhbGlkX29wdGlvbnNcIixcbiAgICAgIHJlcXVlc3RcbiAgICB9KTtcbiAgfVxuXG4gIGxldCB2YWxpZFRpbWVzdGFtcCA9IHZlcmlmeVRpbWVzdGFtcCh0aW1lc3RhbXApO1xuICBpZiAoIXZhbGlkVGltZXN0YW1wKSB7XG4gICAgcmV0dXJuIGZhaWxBbGxvd2xpc3Rpbmcoe1xuICAgICAgcmVhc29uOiBcImludmFsaWRfdGltZXN0YW1wXCIsXG4gICAgICByZXF1ZXN0XG4gICAgfSk7XG4gIH1cblxuICBsZXQgdmFsaWRTaWduYXR1cmUgPSBhd2FpdCB2ZXJpZnlBbnlTaWduYXR1cmVzKGRvbWFpbiwgdGltZXN0YW1wLCBzaWduYXR1cmUpO1xuICBpZiAoIXZhbGlkU2lnbmF0dXJlKSB7XG4gICAgcmV0dXJuIGZhaWxBbGxvd2xpc3Rpbmcoe1xuICAgICAgcmVhc29uOiBcImludmFsaWRfc2lnbmF0dXJlXCIsXG4gICAgICByZXF1ZXN0XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYXdhaXQgc3VjY2VlZEFsbG93bGlzdGluZyhkb21haW4sIG9wdGlvbnMpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZXRBdXRob3JpemVkS2V5cyhrZXlzKSB7XG4gIGxldCBuZXdBdXRob3JpemVkUHVibGljS2V5cyA9IFtdO1xuICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xuICAgIGxldCBhYktleSA9IGJhc2U2NFRvQXJyYXlCdWZmZXIoa2V5KTtcbiAgICBsZXQgaW1wb3J0ZWRLZXkgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleShcbiAgICAgIFwic3BraVwiLFxuICAgICAgYWJLZXksXG4gICAgICBhbGdvcml0aG0sXG4gICAgICBmYWxzZSxcbiAgICAgIFtcInZlcmlmeVwiXVxuICAgICk7XG4gICAgbmV3QXV0aG9yaXplZFB1YmxpY0tleXMucHVzaChpbXBvcnRlZEtleSk7XG4gIH1cbiAgYXV0aG9yaXplZFB1YmxpY0tleXMgPSBuZXdBdXRob3JpemVkUHVibGljS2V5cztcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogVXBkYXRlcyB0aGUgbGlzdCBvZiBwdWJsaWMga2V5cyB1c2VkIHRvIHZlcmlmeSBhbGxvd2xpc3RpbmdcbiAgICogcmVxdWVzdHMuIElmIHRoZXJlIGFyZSBhbnkgaW52YWxpZCBrZXlzLCB0aGUgbGlzdCBvZiBhdXRob3JpemVkXG4gICAqIGtleXMga2VlcHMgaXRzIHByZXZpb3VzIHZhbHVlLlxuICAgKlxuICAgKiBBbnkgYWxsb3dsaXN0aW5nIHJlcXVlc3RzIHRoYXQgY29tZSBpbiB3aGlsZSB0aGlzIGZ1bmN0aW9uIGlzIGluXG4gICAqIHByb2dyZXNzIHdpbGwgd2FpdCBmb3IgaXQgdG8gZmluaXNoIGJlZm9yZSB2ZXJpZnlpbmcgYW55XG4gICAqIHNpZ25hdHVyZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7W3N0cmluZ119IGtleXMgVGhlIG5ldyBzZXQgb2YgcHVibGljIGtleXMuIFRoZSBrZXlzXG4gICAqICAgc2hvdWxkIGJlIGJhc2U2NCBlbmNvZGVkIHN0cmluZ3MsIGluIFNQS0kgZm9ybWF0LiBUaGUga2V5cyBtdXN0XG4gICAqICAgYWRkaXRpb25hbGx5IHVzZSB0aGUgUlNBU1NBLVBLQ1MxLXYxXzUgYWxnb3JpdGhtLCBTSEE1MTIgaGFzaFxuICAgKiAgIGFuZCA0MDk2IGJpdCBsb25nIG1vZHVsdXMuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBrZXlzIGhhdmUgYmVlblxuICAgKiAgIHVwZGF0ZWQsIG9yIHJlamVjdHMgaWYgYW55IG9mIHRoZSBrZXlzIGFyZSBpbnZhbGlkLlxuICAgKi9cbiAgYXN5bmMgc2V0QXV0aG9yaXplZEtleXMoa2V5cykge1xuICAgIGxldCByZXN1bHRQcm9taXNlID0gc2V0QXV0aG9yaXplZEtleXMoa2V5cyk7XG4gICAgcHVibGljS2V5c1VwZGF0ZWQgPSByZXN1bHRQcm9taXNlLmNhdGNoKCgpID0+IHt9KTtcbiAgICByZXR1cm4gYXdhaXQgcmVzdWx0UHJvbWlzZTtcbiAgfSxcblxuICAvKipcbiAgICogQGNhbGxiYWNrIGFsbG93bGlzdGluZ0NhbGxiYWNrXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiB0byBhbGxvd2xpc3QuXG4gICAqIEBwYXJhbSB7P09iamVjdH0gb3B0aW9ucyBBZGRpdGlvbmFsIG9wdGlvbnMgZm9yIHRoZSBhbGxvd2xpc3RpbmcuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5leHBpcmVzQXRdIFRoZSB0aW1lc3RhbXAgd2hlbiB0aGUgZmlsdGVyIHNob3VsZFxuICAgKiAgZXhwaXJlIChhbGxvd2VkIDEgZGF5IC0gMzY1IGRheXMgaW4gdGhlIGZ1dHVyZSkuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGZ1bmN0aW9uIGNhbGxlZCB3aGVuIGFsbG93bGlzdGluZyBzdWNjZWVkcy5cbiAgICpcbiAgICogSWYgdGhlIGNhbGxiYWNrIGlzIG5vdCBzZXQsIGl0IGhhcyBhIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gdGhhdFxuICAgKiBhZGRzIGFuIGFsbG93bGlzdGluZyBmaWx0ZXIgZm9yIHRoZSBhbGxvd2xpc3RlZCBkb21haW4uXG4gICAqXG4gICAqIEBwYXJhbSB7YWxsb3dsaXN0aW5nQ2FsbGJhY2t9IGNhbGxiYWNrIFRoZSB1c2VyIGRlZmluZWQgZnVuY3Rpb25cbiAgICogICB0aGF0IHdpbGwgYmUgY2FsbGVkLiBUaGlzIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBwcm9taXNlIHRoYXRcbiAgICogICByZXNvbHZlcyBhZnRlciBhZGRpbmcgdGhlIGFwcHJvcHJpYXRlIGFsbG93bGlzdGluZyBmaWx0ZXJzLlxuICAgKi9cbiAgc2V0QWxsb3dsaXN0aW5nQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICBhbGxvd2xpc3RpbmdDYWxsYmFjayA9IGNhbGxiYWNrO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBBbGxvd2xpc3RpbmdBdXRob3JpemF0aW9uRXJyb3JcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHJlYXNvbiBUaGUgcmVhc29uIGEgcmVxdWVzdCB0byBhbGxvd2xpc3Qgd2FzXG4gICAqICAgcmVqZWN0ZWQuIENhbiBiZSBcImludmFsaWRfZnJhbWVcIiwgXCJhbHJlYWR5X2FsbG93bGlzdGVkXCIsXG4gICAqICAgXCJpbnZhbGlkX3RpbWVzdGFtcFwiLCBcImludmFsaWRfc2lnbmF0dXJlXCIgb3IgXCJpbnZhbGlkX29wdGlvbnNcIi5cbiAgICogQHByb3BlcnR5IHtPYmplY3R9IHJlcXVlc3QgVGhlIHJlamVjdGVkIHJlcXVlc3QuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcmVxdWVzdC5kb21haW5dIFRoZSBkb21haW4gb2YgdGhlIHBhZ2UgdGhhdFxuICAgKiAgIHRoZSByZXF1ZXN0IGNhbWUgZnJvbS4gVGhpcyBpcyBhbHNvIHRoZSBkb21haW4gdGhhdCB0aGUgcmVxdWVzdFxuICAgKiAgIHdvdWxkIGhhdmUgYWxsb3dsaXN0ZWQgaWYgaXQgd2FzIHZhbGlkLiBJZiB0aGlzIGlzIG51bGwsIGl0XG4gICAqICAgbWVhbnMgdGhhdCB0aGUgZnJhbWUncyBkb21haW4gY291bGQgbm90IGJlIGRldGVybWluZWQuXG4gICAqIEBwcm9wZXJ0eSB7Kn0gcmVxdWVzdC50aW1lc3RhbXAgVGhlIHRpbWVzdGFtcCBpbiB0aGVcbiAgICogICByZXF1ZXN0LiBGb3IgYSB2YWxpZCByZXF1ZXN0IHRoaXMgaXMgYSBudW1iZXIsIGJ1dCB0aGUgcmVxdWVzdFxuICAgKiAgIG1heSBoYXZlIGJlZW4gaW52YWxpZCBzbyBpdCBtaWdodCBub3QgYmUgYSBudW1iZXIuXG4gICAqIEBwcm9wZXJ0eSB7Kn0gcmVxdWVzdC5zaWduYXR1cmUgVGhlIHNpZ25hdHVyZSBpbiB0aGVcbiAgICogICByZXF1ZXN0LiBGb3IgYSB2YWxpZCByZXF1ZXN0LCB0aGlzIGlzIHN0cmluZywgYnV0IHRoZSByZXF1ZXN0XG4gICAqICAgbWF5IGhhdmUgYmVlbiBpbnZhbGlkIHNvIGl0IG1pZ2h0IG5vdCBiZSBhIHN0cmluZy5cbiAgICovXG5cbiAgLyoqXG4gICAqIEVtaXR0ZWQgd2hlbiBhbiBhbGxvd2xpc3RpbmcgcmVxdWVzdCBpcyByZWplY3RlZC5cbiAgICogQGV2ZW50XG4gICAqIEB0eXBlIHtFdmVudERpc3BhdGNoZXI8QWxsb3dsaXN0aW5nQXV0aG9yaXphdGlvbkVycm9yPn1cbiAgICovXG4gIG9uVW5hdXRob3JpemVkOiBuZXcgRXZlbnREaXNwYXRjaGVyKFxuICAgIGRpc3BhdGNoID0+IHtcbiAgICAgIGRpc3BhdGNoVW5hdXRob3JpemVkID0gZGlzcGF0Y2g7XG4gICAgfSxcbiAgICAoKSA9PiB7XG4gICAgICBkaXNwYXRjaFVuYXV0aG9yaXplZCA9ICgpID0+IHt9O1xuICAgIH1cbiAgKVxufTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwiLi9icm93c2VyLmpzXCI7XG5cbmxldCBtYW5pZmVzdCA9IGJyb3dzZXIucnVudGltZS5nZXRNYW5pZmVzdCgpO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNSdW5uaW5nSW5TZXJ2aWNlV29ya2VyKCkge1xuICByZXR1cm4gISEobWFuaWZlc3QuYmFja2dyb3VuZCAmJiBtYW5pZmVzdC5iYWNrZ3JvdW5kLnNlcnZpY2Vfd29ya2VyKTtcbn1cbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5pbXBvcnQge3Y0IGFzIHV1aWR2NH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7TUlMTElTX0lOX01JTlVURSwgTUlMTElTX0lOX0hPVVIsIE1JTExJU19JTl9EQVksIE1JTlVURVNfSU5fREFZfVxuICBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi90aW1lLmpzXCI7XG5pbXBvcnQge3RvTG9jYWxJU09EYXRlU3RyaW5nV2l0aEN1dG9mZlRpbWV9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2RhdGUuanNcIjtcbmltcG9ydCB7cmFuZG9tSW50ZWdlcn0gZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvcmFuZG9tLmpzXCI7XG5cbmltcG9ydCAqIGFzIGluZm8gZnJvbSBcIi4vaW5mby5qc1wiO1xuaW1wb3J0IHtTY2hlZHVsZXJ9IGZyb20gXCIuL3NjaGVkdWxlci5qc1wiO1xuaW1wb3J0IHt0cmFjZSwgZXJyb3J9IGZyb20gXCIuL2RlYnVnZ2luZy5qc1wiO1xuaW1wb3J0IHtwb3N0V2l0aEJlYXJlclRva2VufSBmcm9tIFwiLi90ZWxlbWV0cnkuanNcIjtcbmltcG9ydCB7ZGVmYXVsdCBhcyBjZHBNb2QsIEVWRU5UX1NFU1NJT05fU1RBUlQsIGdldERhdGEsIGNsZWFyRGF0YX0gZnJvbSBcIi4vY2RwLmpzXCI7XG5pbXBvcnQge1BlcnNpc3RlbnRTdGF0ZX0gZnJvbSBcIi4vcGVyc2lzdGVuY2UuanNcIjtcblxuY29uc3QgQ0RQX1NUT1JBR0VfS0VZID0gXCJld2U6Y2RwLW1ldHJpY3MtdXBsb2FkZXJcIjtcbmxldCBzdG9yYWdlID0gbmV3IFBlcnNpc3RlbnRTdGF0ZShDRFBfU1RPUkFHRV9LRVksIGJyb3dzZXIuc3RvcmFnZS5sb2NhbCk7XG5cbmxldCBzY2hlZHVsZXIgPSBudWxsO1xuXG4vKipcbiAqIFN0YXJ0cyBDRFAsIHdoaWNoIHdpbGwgdHJpZ2dlciBzZW5kaW5nIGFnZ3JlZ2F0ZWQgbWV0cmljcyB0byB0aGUgQ0RQXG4gKiBzZXJ2ZXIgb24gYSBzY2hlZHVsZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY2RwIENEUCBjb25maWd1cmF0aW9uIChVUkxzLCBiZWFyZXIpXG4gKiBAcGFyYW0ge251bWJlcn0gZXJyb3JSZXRyeURlbGF5XG4gKiAgICAgICAgRXJyb3IgcmV0cnkgaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFydChjZHAsIGVycm9yUmV0cnlEZWxheSA9IDEgKiBNSUxMSVNfSU5fSE9VUikge1xuICBpZiAoIWNkcC5waW5nVXJsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gQ0RQIGBwaW5nVXJsYCBwcm92aWRlZFwiKTtcbiAgfVxuXG4gIGlmICghY2RwLmFnZ3JlZ2F0ZVVybCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIENEUCBgYWdncmVnYXRlVXJsYCBwcm92aWRlZFwiKTtcbiAgfVxuXG4gIGlmICghY2RwLmJlYXJlcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIENEUCBgYmVhcmVyYCBwcm92aWRlZFwiKTtcbiAgfVxuXG4gIGF3YWl0IHN0b3JhZ2UubG9hZCgpO1xuICBhd2FpdCBpbml0aWFsaXplVGltZU9mZnNldCgpO1xuICBpbml0aWFsaXplTmV3U2Vzc2lvbkxpc3RlbmVyKCk7XG4gIGluaXRpYWxpemVTY2hlZHVsZXIoY2RwLCBlcnJvclJldHJ5RGVsYXkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplVGltZU9mZnNldCgpIHtcbiAgaWYgKHR5cGVvZiBzdG9yYWdlLmdldFN0YXRlKCkuZGF5Q3V0b2ZmTWludXRlcyA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbGV0IGRheUN1dG9mZk1pbnV0ZXMgPSByYW5kb21JbnRlZ2VyKDAsIE1JTlVURVNfSU5fREFZKTtcbiAgICBzdG9yYWdlLmdldFN0YXRlKCkuZGF5Q3V0b2ZmTWludXRlcyA9IGRheUN1dG9mZk1pbnV0ZXM7XG4gICAgYXdhaXQgc3RvcmFnZS5zYXZlKCk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gb25DZHBTZXNzaW9uU3RhcnQoZXZlbnQpIHtcbiAgbGV0IHN0YXRlID0gc3RvcmFnZS5nZXRTdGF0ZSgpO1xuICBsZXQgbm93ID0gbmV3IERhdGUoKTtcblxuICBsZXQgcmVmZXJlbmNlRGF0ZUxvY2FsID0gdG9Mb2NhbElTT0RhdGVTdHJpbmdXaXRoQ3V0b2ZmVGltZShcbiAgICBub3csIHN0YXRlLmRheUN1dG9mZk1pbnV0ZXNcbiAgKTtcblxuICBpZiAoIXN0YXRlLmJ1bmRsZXMpIHtcbiAgICBzdGF0ZS5idW5kbGVzID0gW107XG4gIH1cblxuICBpZiAoIXN0YXRlLnBpbmdCdW5kbGVzKSB7XG4gICAgc3RhdGUucGluZ0J1bmRsZXMgPSBbXTtcbiAgfVxuXG4gIGxldCBidW5kbGVFeGlzdHMgPSBzdGF0ZS5idW5kbGVzLnNvbWUoXG4gICAgYnVuZGxlID0+IGJ1bmRsZS5zaXRlSWQgPT0gZXZlbnQuc2l0ZUlkICYmXG4gICAgICBidW5kbGUucmVmZXJlbmNlRGF0ZUxvY2FsID09IHJlZmVyZW5jZURhdGVMb2NhbFxuICApO1xuXG4gIGlmIChidW5kbGVFeGlzdHMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgc2NoZWR1bGVkU2VuZFRpbWVzdGFtcCA9IG5ldyBEYXRlKHJlZmVyZW5jZURhdGVMb2NhbCkuZ2V0VGltZSgpICtcbiAgICAgIHN0YXRlLmRheUN1dG9mZk1pbnV0ZXMgKiBNSUxMSVNfSU5fTUlOVVRFICsgLy8gdG8gc3RhcnQgb2YgZGF5XG4gICAgICBNSUxMSVNfSU5fREFZICsgLy8gYWRkIGEgZGF5IHRvIGdldCB0byB0aGUgZW5kIG9mIHRoZSBkYXlcbiAgICAgIHJhbmRvbUludGVnZXIoMCwgMTIgKiBNSUxMSVNfSU5fSE9VUik7IC8vIHJhbmRvbSBkZWxheSBvZiB1cCB0byAxMiBob3Vyc1xuXG4gIHN0YXRlLmJ1bmRsZXMucHVzaCh7XG4gICAgc2l0ZUlkOiBldmVudC5zaXRlSWQsXG4gICAgcmVmZXJlbmNlRGF0ZUxvY2FsLFxuICAgIHV0aWQ6IHV1aWR2NCgpLFxuICAgIHNjaGVkdWxlZFNlbmRUaW1lc3RhbXBcbiAgfSk7XG5cbiAgbGV0IGV4aXN0aW5nUGluZ0J1bmRsZSA9IHN0YXRlLnBpbmdCdW5kbGVzLmZpbmQoXG4gICAgYnVuZGxlID0+IGJ1bmRsZS5zaXRlSWQgPT0gZXZlbnQuc2l0ZUlkXG4gICk7XG5cbiAgLy8gV2UgdXNlIHRoZSBhZ2dyZWdhdGUgYnVuZGxlcyB0byBzZWUgaWYgdGhpcyBpcyB0aGUgZmlyc3Qgc2Vzc2lvbiBvZiBhIGRheSxcbiAgLy8gd2hpY2ggd291bGQgbWVhbiBzY2hlZHVsaW5nIGEgcGluZy4gSG93ZXZlciwgaWYgdGhlcmUgaXMgYSBwaW5nIHdoaWNoXG4gIC8vIGhhc24ndCBtYW5hZ2VkIHRvIHNlbmQgeWV0IChlZyBiZWNhdXNlIHRoZXJlIGFyZSBlcnJvcnMpIHRoZW4gZG9uJ3QgcXVldWVcbiAgLy8gYW5vdGhlciBvbmUuXG4gIGlmIChleGlzdGluZ1BpbmdCdW5kbGUpIHtcbiAgICBleGlzdGluZ1BpbmdCdW5kbGUuc2NoZWR1bGVkU2VuZFRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaWYgKCFzdGF0ZS5jbGllbnRJZHMpIHtcbiAgICAgIHN0YXRlLmNsaWVudElkcyA9IHt9O1xuICAgIH1cblxuICAgIGlmICghc3RhdGUuY2xpZW50SWRzW2V2ZW50LnNpdGVJZF0pIHtcbiAgICAgIHN0YXRlLmNsaWVudElkc1tldmVudC5zaXRlSWRdID0gdXVpZHY0KCk7XG4gICAgfVxuXG4gICAgc3RhdGUucGluZ0J1bmRsZXMucHVzaCh7XG4gICAgICBzaXRlSWQ6IGV2ZW50LnNpdGVJZCxcbiAgICAgIGNsaWVudElkOiBzdGF0ZS5jbGllbnRJZHNbZXZlbnQuc2l0ZUlkXSxcbiAgICAgIHNjaGVkdWxlZFNlbmRUaW1lc3RhbXA6IERhdGUubm93KClcbiAgICB9KTtcbiAgfVxuXG4gIGF3YWl0IHN0b3JhZ2Uuc2F2ZSgpO1xuXG4gIHNjaGVkdWxlci5jaGVja05vdygpO1xufVxuXG5cbmZ1bmN0aW9uIGluaXRpYWxpemVOZXdTZXNzaW9uTGlzdGVuZXIoKSB7XG4gIGNkcE1vZC5vbkNkcEl0ZW0uYWRkTGlzdGVuZXIob25DZHBTZXNzaW9uU3RhcnQsIHtcbiAgICBldmVudFR5cGU6IEVWRU5UX1NFU1NJT05fU1RBUlRcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVTY2hlZHVsZXIoY2RwLCBlcnJvclJldHJ5RGVsYXkpIHtcbiAgaWYgKHNjaGVkdWxlcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHNjaGVkdWxlciA9IG5ldyBTY2hlZHVsZXIoe1xuICAgIGludGVydmFsOiAwLCAvLyB0aGlzIGNhdXNlcyB0aGUgc2NoZWR1bGVyIHRvIGFsd2F5cyBjYWxsIGdldE5leHRUaW1lc3RhbXBcbiAgICBlcnJvclJldHJ5RGVsYXksXG4gICAgbGlzdGVuZXI6ICgpID0+IHVwbG9hZFBlbmRpbmdTZXNzaW9uQnVuZGxlcyhjZHApLFxuICAgIGFzeW5jIGdldE5leHRUaW1lc3RhbXAoKSB7XG4gICAgICBsZXQgc3RhdGUgPSBzdG9yYWdlLmdldFN0YXRlKCk7XG4gICAgICBsZXQgbGFzdEVycm9yID0gc3RhdGUubGFzdEVycm9yO1xuICAgICAgbGV0IGhhc0FueUFnZ3JlZ2F0ZUJ1bmRsZXMgPSBzdGF0ZS5idW5kbGVzICYmXG4gICAgICAgICAgc3RhdGUuYnVuZGxlcy5sZW5ndGggPiAwO1xuXG4gICAgICBsZXQgaGFzQW55UGluZ0J1bmRsZXMgPSBzdGF0ZS5waW5nQnVuZGxlcyAmJlxuICAgICAgICAgIHN0YXRlLnBpbmdCdW5kbGVzLmxlbmd0aCA+IDA7XG5cbiAgICAgIGxldCBuZXh0UmV0cnlBZnRlckVycm9yID0gbnVsbDtcbiAgICAgIGxldCBuZXh0U2NoZWR1bGVkQWdncmVnYXRlQnVuZGxlU2VuZCA9IGhhc0FueUFnZ3JlZ2F0ZUJ1bmRsZXMgJiZcbiAgICAgICAgICBzdGF0ZS5idW5kbGVzXG4gICAgICAgICAgLm1hcChidW5kbGUgPT4gYnVuZGxlLnNjaGVkdWxlZFNlbmRUaW1lc3RhbXApXG4gICAgICAgICAgLnJlZHVjZSgoYSwgYikgPT4gTWF0aC5taW4oYSwgYikpO1xuXG4gICAgICBsZXQgbmV4dFNjaGVkdWxlZFBpbmdCdW5kbGVTZW5kID0gaGFzQW55UGluZ0J1bmRsZXMgJiZcbiAgICAgICAgICBzdGF0ZS5waW5nQnVuZGxlc1xuICAgICAgICAgIC5tYXAoYnVuZGxlID0+IGJ1bmRsZS5zY2hlZHVsZWRTZW5kVGltZXN0YW1wKVxuICAgICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IE1hdGgubWluKGEsIGIpKTtcblxuICAgICAgbGV0IG5leHRTY2hlZHVsZWRCdW5kbGVTZW5kID0gbnVsbDtcblxuICAgICAgaWYgKG5leHRTY2hlZHVsZWRBZ2dyZWdhdGVCdW5kbGVTZW5kICYmIG5leHRTY2hlZHVsZWRQaW5nQnVuZGxlU2VuZCkge1xuICAgICAgICBuZXh0U2NoZWR1bGVkQnVuZGxlU2VuZCA9IE1hdGgubWluKFxuICAgICAgICAgIG5leHRTY2hlZHVsZWRBZ2dyZWdhdGVCdW5kbGVTZW5kLFxuICAgICAgICAgIG5leHRTY2hlZHVsZWRQaW5nQnVuZGxlU2VuZFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobmV4dFNjaGVkdWxlZEFnZ3JlZ2F0ZUJ1bmRsZVNlbmQpIHtcbiAgICAgICAgbmV4dFNjaGVkdWxlZEJ1bmRsZVNlbmQgPSBuZXh0U2NoZWR1bGVkQWdncmVnYXRlQnVuZGxlU2VuZDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG5leHRTY2hlZHVsZWRQaW5nQnVuZGxlU2VuZCkge1xuICAgICAgICBuZXh0U2NoZWR1bGVkQnVuZGxlU2VuZCA9IG5leHRTY2hlZHVsZWRQaW5nQnVuZGxlU2VuZDtcbiAgICAgIH1cblxuICAgICAgbGV0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICBpZiAoIW5leHRTY2hlZHVsZWRCdW5kbGVTZW5kKSB7XG4gICAgICAgIC8vIE5vdGhpbmcgdG8gc2VuZCByaWdodCBub3csIHRyeSBhZ2FpbiBpbiBhbiBob3VyLlxuICAgICAgICByZXR1cm4gbm93ICsgTUlMTElTX0lOX0hPVVI7XG4gICAgICB9XG5cbiAgICAgIGlmIChsYXN0RXJyb3IpIHtcbiAgICAgICAgbmV4dFJldHJ5QWZ0ZXJFcnJvciA9IGxhc3RFcnJvciArIGVycm9yUmV0cnlEZWxheTtcbiAgICAgICAgbGV0IG5vd1RpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCBtYXhOZXh0UmV0cnkgPSBub3dUaW1lc3RhbXAgKyBlcnJvclJldHJ5RGVsYXk7XG4gICAgICAgIGlmIChuZXh0UmV0cnlBZnRlckVycm9yID4gbWF4TmV4dFJldHJ5KSB7XG4gICAgICAgICAgLy8gVGhpcyBzaG91bGRuJ3QgaGFwcGVuIGlmIHRoZSBjbG9ja3MgYXJlIHdvcmtpbmcgcmlnaHQuIEl0IGltcGxpZXNcbiAgICAgICAgICAvLyB0aGF0IHRoZSBzeXN0ZW0gY2xvY2sgaGFzIGJlZW4gc2V0IGJhY2t3YXJkcyBzaW5jZSB3ZSBzdG9yZWQgdGhhdFxuICAgICAgICAgIC8vIHRpbWVzdGFtcC4gTGV0J3MgY29ycmVjdCB0aGUgc3RvcmFnZSB1c2luZyBvdXIgY3VycmVudCBjbG9ja1xuICAgICAgICAgIC8vIHZhbHVlLlxuICAgICAgICAgIHN0YXRlLmxhc3RFcnJvciA9IG5vd1RpbWVzdGFtcDtcbiAgICAgICAgICBhd2FpdCBzdG9yYWdlLnNhdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobmV4dFNjaGVkdWxlZEJ1bmRsZVNlbmQpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgICAgIG5leHRSZXRyeUFmdGVyRXJyb3IsXG4gICAgICAgICAgbmV4dFNjaGVkdWxlZEJ1bmRsZVNlbmRcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5leHRTY2hlZHVsZWRCdW5kbGVTZW5kO1xuICAgIH1cbiAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwbG9hZFBlbmRpbmdTZXNzaW9uQnVuZGxlcyhjZHApIHtcbiAgbGV0IG9wdE91dCA9IGF3YWl0IGNkcE1vZC5pc09wdE91dCgpO1xuICB0cmFjZSh7Y2RwLCBvcHRPdXR9KTtcblxuICBsZXQgc3RhdGUgPSBzdG9yYWdlLmdldFN0YXRlKCk7XG5cbiAgLy8gc2xpY2UgaGVyZSBkb2VzIGEgc2hhbGxvdyBjbG9uZSwgc28gd2UgY2FuIHJlbW92ZSBlbGVtZW50cyBmcm9tIHRoZVxuICAvLyBvcmlnaW5hbCBpbiB0aGUgbG9vcFxuICBsZXQgcGluZ0J1bmRsZXNTbmFwc2hvdCA9IChzdGF0ZS5waW5nQnVuZGxlcyB8fCBbXSkuc2xpY2UoMCk7XG4gIGxldCBhZ2dyZWdhdGVCdW5kbGVzU25hcHNob3QgPSAoc3RhdGUuYnVuZGxlcyB8fCBbXSkuc2xpY2UoMCk7XG5cbiAgbGV0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKGxldCBidW5kbGUgb2YgcGluZ0J1bmRsZXNTbmFwc2hvdCkge1xuICAgICAgaWYgKGJ1bmRsZS5zY2hlZHVsZWRTZW5kVGltZXN0YW1wID4gbm93KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW9wdE91dCkge1xuICAgICAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgICAgICBzaXRlX2lkOiBidW5kbGUuc2l0ZUlkLFxuICAgICAgICAgIHNpdGVfY2xpZW50X2lkOiBidW5kbGUuY2xpZW50SWQsXG4gICAgICAgICAgYWRkb25fbmFtZTogaW5mby5zZGtOYW1lLFxuICAgICAgICAgIGFkZG9uX3ZlcnNpb246IGluZm8uc2RrVmVyc2lvbixcbiAgICAgICAgICBhcHBsaWNhdGlvbjogaW5mby5hcHBsaWNhdGlvbixcbiAgICAgICAgICBhcHBsaWNhdGlvbl92ZXJzaW9uOiBpbmZvLmFwcGxpY2F0aW9uVmVyc2lvblxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCBwb3N0V2l0aEJlYXJlclRva2VuKGNkcC5waW5nVXJsLCBjZHAuYmVhcmVyLCB7cGF5bG9hZH0pO1xuICAgICAgfVxuXG4gICAgICBzdGF0ZS5waW5nQnVuZGxlcyA9IHN0YXRlLnBpbmdCdW5kbGVzLmZpbHRlcihiID0+IGIgIT0gYnVuZGxlKTtcbiAgICAgIGF3YWl0IHN0b3JhZ2Uuc2F2ZSgpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGJ1bmRsZSBvZiBhZ2dyZWdhdGVCdW5kbGVzU25hcHNob3QpIHtcbiAgICAgIGlmIChidW5kbGUuc2NoZWR1bGVkU2VuZFRpbWVzdGFtcCA+IG5vdykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHN0YXJ0VGltZXN0YW1wID0gbmV3IERhdGUoYnVuZGxlLnJlZmVyZW5jZURhdGVMb2NhbCkuZ2V0VGltZSgpO1xuICAgICAgbGV0IGVuZFRpbWVzdGFtcCA9IHN0YXJ0VGltZXN0YW1wICsgTUlMTElTX0lOX0RBWTtcblxuICAgICAgaWYgKCFvcHRPdXQpIHtcbiAgICAgICAgbGV0IHNlc3Npb25zQ291bnQgPSBnZXREYXRhKEVWRU5UX1NFU1NJT05fU1RBUlQsIGJ1bmRsZS5zaXRlSWQpXG4gICAgICAgICAgLmZpbHRlcih0ID0+IHQgPj0gc3RhcnRUaW1lc3RhbXAgJiYgdCA8IGVuZFRpbWVzdGFtcClcbiAgICAgICAgICAubGVuZ3RoO1xuXG4gICAgICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgICAgIHNpdGVfaWQ6IGJ1bmRsZS5zaXRlSWQsXG4gICAgICAgICAgc2Vzc2lvbnNfY291bnQ6IHNlc3Npb25zQ291bnQsXG4gICAgICAgICAgcmVmZXJlbmNlX2RhdGVfbG9jYWw6IGJ1bmRsZS5yZWZlcmVuY2VEYXRlTG9jYWwsXG4gICAgICAgICAgdXRpZDogYnVuZGxlLnV0aWQsXG4gICAgICAgICAgYWRkb25fbmFtZTogaW5mby5zZGtOYW1lLFxuICAgICAgICAgIGFkZG9uX3ZlcnNpb246IGluZm8uc2RrVmVyc2lvbixcbiAgICAgICAgICBhcHBsaWNhdGlvbjogaW5mby5hcHBsaWNhdGlvbixcbiAgICAgICAgICBhcHBsaWNhdGlvbl92ZXJzaW9uOiBpbmZvLmFwcGxpY2F0aW9uVmVyc2lvblxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCBwb3N0V2l0aEJlYXJlclRva2VuKGNkcC5hZ2dyZWdhdGVVcmwsIGNkcC5iZWFyZXIsIHtwYXlsb2FkfSk7XG4gICAgICB9XG5cbiAgICAgIHN0YXRlLmJ1bmRsZXMgPSBzdGF0ZS5idW5kbGVzLmZpbHRlcihiID0+IGIgIT0gYnVuZGxlKTtcbiAgICAgIGF3YWl0IHN0b3JhZ2Uuc2F2ZSgpO1xuXG4gICAgICBhd2FpdCBjbGVhckRhdGEoRVZFTlRfU0VTU0lPTl9TVEFSVCwgYnVuZGxlLnNpdGVJZCwgZW5kVGltZXN0YW1wKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUubGFzdEVycm9yKSB7XG4gICAgICBkZWxldGUgc3RhdGUubGFzdEVycm9yO1xuICAgICAgYXdhaXQgc3RvcmFnZS5zYXZlKCk7XG4gICAgfVxuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgZXJyb3IoYENEUCBlcnJvcjogJHtlLm1lc3NhZ2V9YCk7XG5cbiAgICBzdGF0ZS5sYXN0RXJyb3IgPSBEYXRlLm5vdygpO1xuICAgIGF3YWl0IHN0b3JhZ2Uuc2F2ZSgpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzZXQoKSB7XG4gIHN0b3AoKTtcbiAgc3RvcmFnZS5jbGVhclN0YXRlKCk7XG4gIGF3YWl0IHN0b3JhZ2Uuc2F2ZSgpO1xufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3AoKSB7XG4gIGlmICghc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc2NoZWR1bGVyLnN0b3AoKTtcbiAgc2NoZWR1bGVyID0gbnVsbDtcbiAgY2RwTW9kLm9uQ2RwSXRlbS5yZW1vdmVMaXN0ZW5lcihvbkNkcFNlc3Npb25TdGFydCk7XG59XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3Nlci5qc1wiO1xuXG5pbXBvcnQge1ByZWZzLCBDRFBfT1BURURfSU4sIENEUF9PUFRFRF9PVVQsXG4gICAgICAgIENEUF9PUFRFRF9JTl9CWV9VU0VSLCBDRFBfT1BURURfT1VUX0JZX1VTRVJ9XG4gIGZyb20gXCIuL3ByZWZzLmpzXCI7XG5pbXBvcnQge2RvbWFpblN1ZmZpeGVzfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi91cmwuanNcIjtcbmltcG9ydCB7bWF0Y2hlc1dpbGRjYXJkcywgaGFzV2lsZGNhcmR9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL3VybC5qc1wiO1xuaW1wb3J0IHtnZXRGcmFtZUluZm8sIFRPUF9MRVZFTF9GUkFNRV9JRH0gZnJvbSBcIi4vZnJhbWUtc3RhdGUuanNcIjtcbmltcG9ydCB7QmxvY2thYmxlRXZlbnREaXNwYXRjaGVyfSBmcm9tIFwiLi9kaWFnbm9zdGljcy5qc1wiO1xuaW1wb3J0IHtQZXJzaXN0ZW50U3RhdGV9IGZyb20gXCIuL3BlcnNpc3RlbmNlLmpzXCI7XG5pbXBvcnQge3RyYWNlLCBkZWJ1Z30gZnJvbSBcIi4vZGVidWdnaW5nLmpzXCI7XG5pbXBvcnQge2lzRmlyZWZveH0gZnJvbSBcIi4vaW5mby5qc1wiO1xuXG4vKipcbiAqIFwiUGFnZSB2aWV3XCIgZXZlbnQgdHlwZVxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgRVZFTlRfUEFHRV9WSUVXID0gXCJwYWdlX3ZpZXdcIjtcblxuLyoqXG4gKiBcIlNlc3Npb24gc3RhcnRlZFwiIGV2ZW50IHR5cGVcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IEVWRU5UX1NFU1NJT05fU1RBUlQgPSBcInNlc3Npb25fc3RhcnRcIjtcblxuLyoqXG4gKiBcIlJlc291cmNlIGJsb2NrZWRcIiBldmVudCB0eXBlXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBFVkVOVF9CTE9DS0lORyA9IFwiYmxvY2tpbmdcIjtcblxuLy8gQXJyYXk8QXJyYXk8U3RyaW5nKGRvbWFpbldpdGhXaWxkY2FyZCk+PiwgU3RyaW5nKHNpdGVJZCk+XG5jb25zdCBkZWZhdWx0Q29uZmlnID0gW1xuICBbW1wiYW1hem9uLipcIl0sIFwiYW1hem9uLipcIl0sXG4gIFtbXCJzZWFyY2gueWFob28uY29tXCJdLCBcInNlYXJjaC55YWhvby5jb21cIl0sIC8vIHRoZSBvcmRlciBtYXR0ZXJzOiBlYXJsaWVyIHRoYW4gXCJ5YWhvby5jb21cIiBiZWxvd1xuICBbW1wieWFob28uY29tXCJdLCBcInlhaG9vLmNvbVwiXVxuXTtcbi8vIE1hcDxTdHJpbmcoZG9tYWluV2l0aFdpbGRjYXJkKSwgU3RyaW5nKHNpdGVJZClcbmxldCBjZHBEb21haW5zO1xuXG4vKipcbiAqIENvbmZpZ3VyZSBDRFBcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7QXJyYXl9IG5ld0NvbmZpZyBBbiBhcnJheSBvZiBhcnJheShkb21haW4sIHNpdGVJZCkuXG4gKiAgICAgICAgICAgICAgICBXQVJOSU5HOiB0aGUgb3JkZXIgbWFrZXMgYSBkaWZmZXJlbmNlOlxuICAgICAgICAgICAgICAgICAgbW9yZSBzcGVjaWZpYyBzaXRlIGJ1Y2tldHMgc2hvdWxkIGNvbWUgZWFybGllclxuICAgICAgICAgICAgICAgICAgKGVnLiBzdWJkb21haW4gZWFybGllciB0aGFuIGl0J3MgbW9yZSBoaWdoZXIgbGV2ZWwgZG9tYWluKVxuICovXG5leHBvcnQgZnVuY3Rpb24gX3NldENvbmZpZyhuZXdDb25maWcpIHtcbiAgY2RwRG9tYWlucyA9IG5ldyBNYXAoKTtcblxuICBmb3IgKGNvbnN0IG1hcHBpbmcgb2YgbmV3Q29uZmlnKSB7XG4gICAgY29uc3QgZG9tYWluc0xpc3QgPSBtYXBwaW5nWzBdO1xuICAgIGNvbnN0IHNpdGVJZCA9IG1hcHBpbmdbMV07XG4gICAgZm9yIChjb25zdCBlYWNoRG9tYWluIG9mIGRvbWFpbnNMaXN0KSB7XG4gICAgICAvKlxuICAgICAgV0FSTklORzogaW4gb3JkZXIgdG8gaGFuZGxlIG1vcmUgc3BlY2lmaWMgc2l0ZSBidWNrZXRzIGZpcnN0LFxuICAgICAgd2UgbmVlZCB0byBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgZW50cmllcyBvcmRlciwgc28gd2UgcmVseSBvbiBgTWFwYFxuICAgICAgcHJvbWlzZSAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWFwI29iamVjdHNfdnMuX21hcHMpOlxuICAgICAgPiBJdGVyYXRpb24gaGFwcGVucyBpbiBpbnNlcnRpb24gb3JkZXIsIHdoaWNoIGNvcnJlc3BvbmRzIHRvIHRoZSBvcmRlclxuICAgICAgPiBpbiB3aGljaCBlYWNoIGtleS12YWx1ZSBwYWlyIHdhcyBmaXJzdCBpbnNlcnRlZCBpbnRvIHRoZSBtYXBcbiAgICAgID4gYnkgdGhlIHNldCgpIG1ldGhvZC5cbiAgICAgICovXG4gICAgICBjZHBEb21haW5zLnNldChlYWNoRG9tYWluLCBzaXRlSWQpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlc3RvcmUgdGhlIGRlZmF1bHQgQ0RQIGNvbmZpZ3VyYXRpb25cbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9yZXN0b3JlQ29uZmlnKCkge1xuICBfc2V0Q29uZmlnKGRlZmF1bHRDb25maWcpO1xufVxuXG5fcmVzdG9yZUNvbmZpZygpO1xuXG4vLyBNYXA8U3RyaW5nKGV2ZW50IHR5cGUpLCBNYXA8U3RyaW5nKHNpdGVJZCksIEFycmF5PE51bWJlcj4oZXZlbnQgdGltZXN0YW1wKT4+XG5sZXQgZXZlbnRzID0gbmV3IE1hcChbXG4gIFtFVkVOVF9QQUdFX1ZJRVcsIG5ldyBQZXJzaXN0ZW50U3RhdGUoXCJld2U6Y2RwLXBhZ2Utdmlld1wiLCBicm93c2VyLnN0b3JhZ2UubG9jYWwpXSxcbiAgW0VWRU5UX1NFU1NJT05fU1RBUlQsIG5ldyBQZXJzaXN0ZW50U3RhdGUoXCJld2U6Y2RwLXNlc3Npb25cIiwgYnJvd3Nlci5zdG9yYWdlLmxvY2FsKV0sXG4gIFtFVkVOVF9CTE9DS0lORywgbmV3IFBlcnNpc3RlbnRTdGF0ZShcImV3ZTpjZHAtYmxvY2tpbmdcIiwgYnJvd3Nlci5zdG9yYWdlLmxvY2FsKV1cbl0pO1xuZm9yIChjb25zdCBzdGF0ZSBvZiBldmVudHMudmFsdWVzKCkpIHtcbiAgc3RhdGUuZG9EZWJvdW5jZSgpO1xufVxuXG4vLyBNYXA8U3RyaW5nKGRvbWFpbiksIE51bWJlcihsYXN0IHVzZXIgYWN0aXZpdHkgdGltZXN0YW1wKT5cbmxldCBhY3Rpdml0eSA9IG5ldyBQZXJzaXN0ZW50U3RhdGUoXCJld2U6Y2RwLWFjdGl2aXR5XCIsIGJyb3dzZXIuc3RvcmFnZS5sb2NhbCk7XG5hY3Rpdml0eS5kb0RlYm91bmNlKCk7XG5cbi8vIE1hcDxMaXN0ZW5lciwgT2JqZWN0IChmaWx0ZXIgb3B0aW9ucyk+XG5sZXQgbGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuXG4vKipcbiAqIFRoZSBDZHBFdmVudERpc3BhdGNoZXIgY2xhc3MgYWxsb3dzIHVzZXJzIHRvIGxpc3RlbiB0byBDRFAgZXZlbnRzLlxuICogQGhpZGVjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY2xhc3MgQ2RwRXZlbnREaXNwYXRjaGVyIHtcbiAgLyoqXG4gICogQHR5cGVkZWYge09iamVjdH0gQ2RwRXZlbnRPcHRpb25zXG4gICogQHBhcmFtIHtzdHJpbmd9IFtldmVudFR5cGVdXG4gICogICBUaGUgb3B0aW9uYWwgZmlsdGVyIGZvciBldmVudCB0eXBlcy4gU2tpcCBmb3IgYWxsIHRoZSBldmVudCB0eXBlcy5cbiAgKiAgIFRoZSBzdXBwb3J0ZWQgZXZlbnQgdHlwZXMgYXJlIFwicGFnZV92aWV3XCIsIFwic2Vzc2lvbl9zdGFydFwiIGFuZCBcImJsb2NraW5nXCIuXG4gICogQHBhcmFtIHtzdHJpbmc/fSBbc2l0ZUlkXVxuICAqICAgVGhlIG9wdGlvbmFsIGZpbHRlciBmb3Igc2l0ZUlkcy5cbiAgKiAgIFNraXAgZm9yIGFsbCB0aGUgc2l0ZUlkcy5cbiAgKi9cblxuICAvKipcbiAgICogQXR0YWNoZXMgYSBsaXN0ZW5lciBmdW5jdGlvbiB0byBhIGV2ZW50LiBUaGlzIGxpc3RlbmVyIHdpbGwgYmUgY2FsbGVkXG4gICAqIHdoZW4gdGhlIENEUCBldmVudCBpcyBlbWl0dGVkIGlmIHRoZSBmZWF0dXJlIGlzIE9OIGFuZCB1c2VyIGRpZCBub3RcbiAgICogb3B0IG91dCAoYFByZWZzLmNkcF9vcHRfaW5fb3V0YCkuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyIFRoZSB1c2VyIGRlZmluZWQgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNlIHRoZSBzcGVjaWZpZWQgZXZlbnQgaXMgZW1pdHRlZC5cbiAgICogQHBhcmFtIHtDZHBFdmVudE9wdGlvbnN9IGZpbHRlck9wdGlvbnMgVGhlIGZpbHRlcmluZyBjb25kaXRpb25zIHRvIGFwcGx5XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAqIEBleGFtcGxlXG4gICAqIC8vIExvZ3MgYWxsIGV2ZW50IHR5cGVzIG9uIGFsbCB0aGUgdHJhY2tlZCBkb21haW5zXG4gICAqIEVXRS5yZXBvcnRpbmcub25DZHBJdGVtLmFkZExpc3RlbmVyKGNvbnNvbGUubG9nKTtcbiAgICogQGV4YW1wbGVcbiAgICogLy8gTG9nIGFsbCBcInNlc3Npb25fc3RhcnRcIiBpdGVtcyBvbiBcIndlYmV4dC5jb21cIlxuICAgKiBFV0UucmVwb3J0aW5nLm9uQ2RwSXRlbS5hZGRMaXN0ZW5lcihcbiAgICogICBjb25zb2xlLmxvZyxcbiAgICogICB7ZXZlbnRUeXBlOiBcInNlc3Npb25fc3RhcnRcIiwgc2l0ZUlkOiBcIndlYmV4dC5jb21cIn1cbiAgICogKTtcbiAgICovXG4gIGFkZExpc3RlbmVyKGxpc3RlbmVyLCBmaWx0ZXJPcHRpb25zID0ge30pIHtcbiAgICBsaXN0ZW5lcnMuc2V0KGxpc3RlbmVyLCBmaWx0ZXJPcHRpb25zKTtcbiAgfVxuXG4gIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZFNpdGVJZChkb21haW4pIHtcbiAgLy8gcHJlZmVyIGV4YWN0IG1hdGNoIG92ZXIgd2lsZGNhcmQgbWF0Y2hcbiAgY29uc3Qgc3VmZml4ZXMgPSBbLi4uZG9tYWluU3VmZml4ZXMoZG9tYWluKV07XG4gIGZvciAoY29uc3QgW2VhY2hEb21haW4sIHNpdGVJZF0gb2YgY2RwRG9tYWlucykge1xuICAgIGlmIChzdWZmaXhlcy5pbmNsdWRlcyhlYWNoRG9tYWluKSkge1xuICAgICAgcmV0dXJuIHNpdGVJZDtcbiAgICB9XG4gIH1cblxuICAvLyB3aWxkY2FyZCBtYXRjaFxuICBmb3IgKGNvbnN0IFtkb21haW5XaWxkY2FyZCwgc2l0ZUlkXSBvZiBjZHBEb21haW5zKSB7XG4gICAgLy8gdGhlIG9yZGVyIG9mIGl0ZXJhdGlvbiBjb3JyZXNwb25kcyB0aGUgb3JkZXIgb2YgaW5zZXJ0aW5nLFxuICAgIC8vIHdlIHNvIGFzc3VtZSB0aGUgbW9yZSBzcGVjaWZpYyBlbnRyaWVzIGNvbWUgZmlyc3QgaW4gQ0RQIGNvbmZpZ1xuICAgIGlmIChoYXNXaWxkY2FyZChkb21haW5XaWxkY2FyZCkgJiZcbiAgICAgICAgbWF0Y2hlc1dpbGRjYXJkcyhkb21haW4sIGRvbWFpbldpbGRjYXJkKSkge1xuICAgICAgcmV0dXJuIHNpdGVJZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZW1pdEV2ZW50KGV2ZW50VHlwZSwgc2l0ZUlkLCB0aW1lU3RhbXApIHtcbiAgZm9yIChjb25zdCBbbGlzdGVuZXIsIGZpbHRlck9wdGlvbnNdIG9mIGxpc3RlbmVycykge1xuICAgIGlmIChmaWx0ZXJPcHRpb25zLmV2ZW50VHlwZSAmJiBmaWx0ZXJPcHRpb25zLmV2ZW50VHlwZSAhPSBldmVudFR5cGUpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChmaWx0ZXJPcHRpb25zLnNpdGVJZCAmJiBmaWx0ZXJPcHRpb25zLnNpdGVJZCAhPSBzaXRlSWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGF3YWl0IGxpc3RlbmVyKHtldmVudFR5cGUsIHNpdGVJZCwgdGltZVN0YW1wfSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gY291bnQoZXZlbnRUeXBlLCBzaXRlSWQsIHRpbWVTdGFtcCkge1xuICB0cmFjZSh7ZXZlbnRUeXBlLCBzaXRlSWQsIHRpbWVTdGFtcH0pO1xuXG4gIGNvbnN0IHN0YXRlID0gZXZlbnRzLmdldChldmVudFR5cGUpO1xuICBsZXQgdGltZXN0YW1wcyA9IHN0YXRlLmdldFN0YXRlKClbc2l0ZUlkXTtcbiAgaWYgKCF0aW1lc3RhbXBzKSB7XG4gICAgdGltZXN0YW1wcyA9IFtdO1xuICAgIHN0YXRlLmdldFN0YXRlKClbc2l0ZUlkXSA9IHRpbWVzdGFtcHM7XG4gIH1cbiAgdGltZXN0YW1wcy5wdXNoKHRpbWVTdGFtcCk7XG4gIGF3YWl0IHN0YXRlLnNhdmUoKTtcblxuICBhd2FpdCBlbWl0RXZlbnQoZXZlbnRUeXBlLCBzaXRlSWQsIHRpbWVTdGFtcCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG9uQmxvY2thYmxlSXRlbSh7cmVxdWVzdH0pIHtcbiAgaWYgKGlzT3B0ZWRPdXQoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHNpdGVJZCA9IGZpbmRTaXRlSWQobmV3IFVSTChyZXF1ZXN0LnVybCkuaG9zdG5hbWUpO1xuICBpZiAoIXNpdGVJZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGF3YWl0IGNvdW50KEVWRU5UX0JMT0NLSU5HLCBzaXRlSWQsIHJlcXVlc3QudGltZVN0YW1wKTtcbn1cblxuLyoqXG4gKiBXYWl0IGZvciBhbGwgdGhlIHNhdmluZ3MgdG8gYmUgZmluaXNoZWRcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9hd2FpdFNhdmluZ0NvbXBsZXRlKCkge1xuICBmb3IgKGNvbnN0IHN0YXRlIG9mIGV2ZW50cy52YWx1ZXMoKSkge1xuICAgIGF3YWl0IHN0YXRlLmF3YWl0U2F2aW5nQ29tcGxldGUoKTtcbiAgfVxuICBhd2FpdCBhY3Rpdml0eS5hd2FpdFNhdmluZ0NvbXBsZXRlKCk7XG59XG5cbi8qKlxuICogU2V0IHRoZSBldmVudHMuIFRoaXMgaXMgZm9yIHVzZSBpbiB0ZXN0aW5nLCBpbiByZWFsIHVzZSB0aGUgZGF0YSBpcyBzZXQgYnlcbiAqIGxpc3RlbmluZyB0byBldmVudHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIFRoZSB0eXBlIG9mIGV2ZW50IChzZWUgRVZFTlRfLi4uKVxuICogQHBhcmFtIHtzdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIHRvIGdldCBldmVudHMgZm9yXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IHRpbWVzdGFtcHMgRXZlbnQgdGltZXN0YW1wcyBmb3IgdGhlIGV2ZW50IHR5cGUgYW5kXG4gKiAgIGRvbWFpblxuICogQGlnbm9yZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0RGF0YShldmVudFR5cGUsIGRvbWFpbiwgdGltZXN0YW1wcykge1xuICB0cmFjZSh7ZXZlbnRUeXBlLCBkb21haW59KTtcblxuICBjb25zdCBzdGF0ZSA9IGV2ZW50cy5nZXQoZXZlbnRUeXBlKTtcbiAgc3RhdGUuZ2V0U3RhdGUoKVtkb21haW5dID0gdGltZXN0YW1wcztcbiAgYXdhaXQgc3RhdGUuc2F2ZSgpO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgZXZlbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIFRoZSB0eXBlIG9mIGV2ZW50IChzZWUgRVZFTlRfLi4uKVxuICogQHBhcmFtIHtzdHJpbmd9IHNpdGVJZCBUaGUgZG9tYWluIHRvIGdldCBldmVudHMgZm9yXG4gKiBAcmV0dXJucyB7QXJyYXk8TnVtYmVyPn0gRXZlbnQgdGltZXN0YW1wcyBmb3IgdGhlIGV2ZW50IHR5cGUgYW5kIGRvbWFpblxuICogQGlnbm9yZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YShldmVudFR5cGUsIHNpdGVJZCkge1xuICB0cmFjZSh7ZXZlbnRUeXBlLCBzaXRlSWR9KTtcblxuICBjb25zdCB0aW1lc3RhbXBzID0gZXZlbnRzLmdldChldmVudFR5cGUpLmdldFN0YXRlKClbc2l0ZUlkXSB8fCBbXTtcbiAgZGVidWcoYEdvdCAke3RpbWVzdGFtcHMubGVuZ3RofSBldmVudHNgKTtcbiAgcmV0dXJuIHRpbWVzdGFtcHM7XG59XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYXJBY3Rpdml0eSgpIHtcbiAgdHJhY2Uoe30pO1xuXG4gIGFjdGl2aXR5LmNsZWFyU3RhdGUoKTtcbiAgYXdhaXQgYWN0aXZpdHkuc2F2ZSgpO1xufVxuXG4vKipcbiAqIERlbGV0ZSBhbGwgdGhlIGV2ZW50cyAob2YgdHlwZSlcbiAqIEBwYXJhbSB7c3RyaW5nP30gZXZlbnRUeXBlIFRoZSBvcHRpb25hbCB0eXBlIG9mIGV2ZW50IChzZWUgRVZFTlRfLi4uKVxuICogQHBhcmFtIHtzdHJpbmc/fSBzaXRlSWQgVGhlIG9wdGlvbmFsIHNpdGVJZCB0byBjbGVhciB0aGUgZXZlbnRzXG4gKiBAcGFyYW0ge051bWJlcj99IHRpbWVTdGFtcCBUaGUgb3B0aW9uYWwgdGltZXN0YW1wIHRvIHJlbW92ZSB0aGUgZXZlbnQsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0IGhhcHBlbmVkIGVhcmxpZXIgdGhhbiB0aW1lc3RhbXAuXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFyRGF0YShldmVudFR5cGUsIHNpdGVJZCwgdGltZVN0YW1wKSB7XG4gIHRyYWNlKHtldmVudFR5cGUsIHNpdGVJZCwgdGltZVN0YW1wfSk7XG5cbiAgY29uc3QgZXZlbnRUeXBlcyA9IGV2ZW50VHlwZSA/IFtldmVudFR5cGVdIDogWy4uLmV2ZW50cy5rZXlzKCldO1xuICBmb3IgKGNvbnN0IGVhY2hFdmVudFR5cGUgb2YgZXZlbnRUeXBlcykge1xuICAgIGNvbnN0IHN0YXRlID0gZXZlbnRzLmdldChlYWNoRXZlbnRUeXBlKTtcbiAgICBpZiAoIXNpdGVJZCAmJiAhdGltZVN0YW1wKSB7XG4gICAgICBzdGF0ZS5jbGVhclN0YXRlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3Qgc2l0ZUlkcyA9IHNpdGVJZCA/IFtzaXRlSWRdIDogWy4uLnN0YXRlLmtleXMoKV07XG4gICAgICBmb3IgKGNvbnN0IGVhY2hTaXRlSWQgb2Ygc2l0ZUlkcykge1xuICAgICAgICBpZiAodGltZVN0YW1wKSB7XG4gICAgICAgICAgbGV0IHRpbWVTdGFtcHMgPSBzdGF0ZS5nZXRTdGF0ZSgpW2VhY2hTaXRlSWRdO1xuICAgICAgICAgIGlmICh0aW1lU3RhbXBzKSB7XG4gICAgICAgICAgICB0aW1lU3RhbXBzID0gdGltZVN0YW1wcy5maWx0ZXIoXG4gICAgICAgICAgICAgIGVhY3RUaW1lc3RhbXAgPT4gZWFjdFRpbWVzdGFtcCA+PSB0aW1lU3RhbXApO1xuICAgICAgICAgICAgc3RhdGUuZ2V0U3RhdGUoKVtzaXRlSWRdID0gdGltZVN0YW1wcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHN0YXRlLmdldFN0YXRlKClbc2l0ZUlkXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCBzdGF0ZS5zYXZlKCk7XG4gIH1cbn1cblxubGV0IHN0YXJ0dXBQcm9taXNlO1xuXG5mdW5jdGlvbiBoYW5kbGVCcm93c2VyRXZlbnQoZGV0YWlscywgZG9NYXJrQWN0aXZlKSB7XG4gIHRyYWNlKGRldGFpbHMpO1xuXG4gIGlmIChpc09wdGVkT3V0KCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZGV0YWlscy5mcmFtZUlkICE9IFRPUF9MRVZFTF9GUkFNRV9JRCkge1xuICAgIC8vIENvdW50aW5nIG9ubHkgb3V0ZXItbW9zdCBmcmFtZXNcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBzaXRlSWQgPSBmaW5kU2l0ZUlkKG5ldyBVUkwoZGV0YWlscy51cmwpLmhvc3RuYW1lKTtcbiAgaWYgKCFzaXRlSWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBuZXdTZXNzaW9uID0gaXNOZXdTZXNzaW9uKHNpdGVJZCk7XG4gIGNvbnN0IHt0aW1lU3RhbXB9ID0gZGV0YWlscztcbiAgY291bnQoRVZFTlRfUEFHRV9WSUVXLCBzaXRlSWQsIHRpbWVTdGFtcCk7XG4gIGlmIChkb01hcmtBY3RpdmUpIHtcbiAgICBtYXJrQWN0aXZlRm9yU2l0ZUlkKHNpdGVJZCk7XG4gIH1cbiAgaWYgKG5ld1Nlc3Npb24pIHtcbiAgICBjb3VudChFVkVOVF9TRVNTSU9OX1NUQVJULCBzaXRlSWQsIHRpbWVTdGFtcCk7XG4gIH1cblxuICByZXR1cm4gc2l0ZUlkO1xufVxuXG5mdW5jdGlvbiBvbkJlZm9yZU5hdmlnYXRlKGRldGFpbHMpIHtcbiAgaGFuZGxlQnJvd3NlckV2ZW50KGRldGFpbHMsIHRydWUpO1xufVxuXG5mdW5jdGlvbiBpc05ld1Nlc3Npb24oc2l0ZUlkKSB7XG4gIHRyYWNlKHtzaXRlSWR9KTtcblxuICBjb25zdCBsYXN0QWN0aXZpdHkgPSBhY3Rpdml0eS5nZXRTdGF0ZSgpW3NpdGVJZF07XG4gIGlmICghbGFzdEFjdGl2aXR5KSB7XG4gICAgLy8gbmV3IG5hdmlnYXRpb24gdG8gc2l0ZSwgbmV3IHNlc3Npb25cbiAgICBkZWJ1ZyhgTmV3IHNlc3Npb24gZm9yICR7c2l0ZUlkfWApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3QgYWN0dWFsbHlQYXNzZWQgPSBEYXRlLm5vdygpIC0gbGFzdEFjdGl2aXR5O1xuICBpZiAoYWN0dWFsbHlQYXNzZWQgPiBQcmVmcy5jZHBfc2Vzc2lvbl9leHBpcmF0aW9uX2ludGVydmFsKSB7XG4gICAgLy8gc2Vzc2lvbiBleHBpcmVkXG4gICAgZGVidWcoYFNlc3Npb24gZXhwaXJlZCBmb3IgJHtzaXRlSWR9YCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBwZW5kaW5nIHNlc3Npb25cbiAgZGVidWcoYFBlbmRpbmcgc2Vzc2lvbiBmb3IgJHtzaXRlSWR9YCk7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNPcHRlZE91dCgpIHtcbiAgcmV0dXJuIFByZWZzLmNkcF9vcHRfaW5fb3V0ID09IENEUF9PUFRFRF9PVVQgfHxcbiAgICAgICAgIFByZWZzLmNkcF9vcHRfaW5fb3V0ID09IENEUF9PUFRFRF9PVVRfQllfVVNFUjtcbn1cblxuZnVuY3Rpb24gb25IaXN0b3J5U3RhdGVVcGRhdGVkKGRldGFpbHMpIHtcbiAgaGFuZGxlQnJvd3NlckV2ZW50KGRldGFpbHMsIGZhbHNlKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbWFya0FjdGl2ZUZvclNpdGVJZChzaXRlSWQpIHtcbiAgYWN0aXZpdHkuZ2V0U3RhdGUoKVtzaXRlSWRdID0gRGF0ZS5ub3coKTtcbiAgYXdhaXQgYWN0aXZpdHkuc2F2ZSgpO1xufVxuXG4vKipcbiAqIFJlbWVtYmVyIHRoZSBsYXN0IHVzZXIgYWN0aXZpdHkgdGltZSBzdGFtcFxuICogQHBhcmFtIHtOdW1iZXJ9IHRhYklkIFRhYiBpZFxuICogQHBhcmFtIHtOdW1iZXJ9IGZyYW1lSWQgRnJhbWUgaWRcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1hcmtBY3RpdmUodGFiSWQsIGZyYW1lSWQpIHtcbiAgdHJhY2Uoe3RhYklkLCBmcmFtZUlkfSk7XG5cbiAgY29uc3QgZnJhbWVJbmZvID0gZ2V0RnJhbWVJbmZvKHRhYklkLCBmcmFtZUlkKTtcbiAgaWYgKCFmcmFtZUluZm8pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBzaXRlSWQgPSBmaW5kU2l0ZUlkKGZyYW1lSW5mby5ob3N0bmFtZSk7XG4gIGlmICghc2l0ZUlkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXdhaXQgbWFya0FjdGl2ZUZvclNpdGVJZChzaXRlSWQpO1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRhYiBkb21haW4gaXMgdHJhY2tlZCBmb3IgQ0RQIGV2ZW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IHRhYklkIFRhYiBpZFxuICogQHBhcmFtIHtOdW1iZXJ9IGZyYW1lSWQgRnJhbWUgaWRcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSB0YWIgZG9tYWluIGlzIHRyYWNrZWQgZm9yIENEUCBldmVudHNcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZE5vdGlmeUFjdGl2ZSh0YWJJZCwgZnJhbWVJZCkge1xuICB0cmFjZSh7dGFiSWQsIGZyYW1lSWR9KTtcblxuICBpZiAoaXNPcHRlZE91dCgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbGV0IGZyYW1lSW5mbyA9IGdldEZyYW1lSW5mbyh0YWJJZCwgZnJhbWVJZCk7XG4gIGlmICghZnJhbWVJbmZvKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qgc2l0ZUlkID0gZmluZFNpdGVJZChuZXcgVVJMKGZyYW1lSW5mby51cmwpLmhvc3RuYW1lKTtcbiAgcmV0dXJuIHNpdGVJZCAhPSBudWxsO1xufVxuXG5hc3luYyBmdW5jdGlvbiBsb2FkRXZlbnRzKCkge1xuICBmb3IgKGNvbnN0IHN0YXRlIG9mIGV2ZW50cy52YWx1ZXMoKSkge1xuICAgIGF3YWl0IHN0YXRlLmxvYWQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICBpZiAoIXN0YXJ0dXBQcm9taXNlKSB7XG4gICAgc3RhcnR1cFByb21pc2UgPSAoYXN5bmMoKSA9PiB7XG4gICAgICAvLyBhc3N1bWluZyBgUHJlZnNgIGFyZSBpbml0aWFsaXplZCBhbmQgbG9hZGVkIGFzXG4gICAgICAvLyB3ZSB1c2UgXCJ1c2VyIG9wdGVkIG91dFwiIGFuZCBcImRvbWFpbnNcIiBzZXR0aW5nc1xuXG4gICAgICAvLyBDRFAgbXVzdCBiZSBkaXNhYmxlZCBmb3IgRmlyZWZveCBieSBkZWZhdWx0XG4gICAgICAvLyBhbmQgZW5hYmxlZCBvbiBvdGhlciBicm93c2Vycy4gQWxzbyB3ZSBjYW4ndCBvdmVycmlkZVxuICAgICAgLy8gdGhlIHZhbHVlIGlmIGl0IHdhcyBzZXQgYnkgdXNlciBpbnRlbnRpb25hbGx5LlxuICAgICAgaWYgKGlzRmlyZWZveCgpICYmIFByZWZzLmNkcF9vcHRfaW5fb3V0ID09IENEUF9PUFRFRF9JTikge1xuICAgICAgICBQcmVmcy5jZHBfb3B0X2luX291dCA9IENEUF9PUFRFRF9PVVQ7XG4gICAgICB9XG5cbiAgICAgIG5ldyBCbG9ja2FibGVFdmVudERpc3BhdGNoZXIoKS5hZGRMaXN0ZW5lcihvbkJsb2NrYWJsZUl0ZW0sIHtcbiAgICAgICAgZmlsdGVyVHlwZTogXCJibG9ja2luZ1wiXG4gICAgICB9KTtcblxuICAgICAgYnJvd3Nlci53ZWJOYXZpZ2F0aW9uLm9uQmVmb3JlTmF2aWdhdGUuYWRkTGlzdGVuZXIob25CZWZvcmVOYXZpZ2F0ZSk7XG4gICAgICBicm93c2VyLndlYk5hdmlnYXRpb24ub25IaXN0b3J5U3RhdGVVcGRhdGVkLmFkZExpc3RlbmVyKFxuICAgICAgICBvbkhpc3RvcnlTdGF0ZVVwZGF0ZWQpO1xuXG4gICAgICBhd2FpdCBsb2FkRXZlbnRzKCk7XG4gICAgICBhd2FpdCBhY3Rpdml0eS5sb2FkKCk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIHJldHVybiBzdGFydHVwUHJvbWlzZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogRW1pdHRlZCB3aGVuIGFueSBDRFAgZXZlbnQgaGFwcGVuZWQuXG4gICAqIEBldmVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIEV2ZW50IHR5cGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJwYWdlX3ZpZXdcIiwgXCJzZXNzaW9uX3N0YXJ0XCIsIFwiYmxvY2tpbmdcIilcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNpdGVJZCBTaXRlSWRcbiAgICogQHBhcmFtIHtGaWx0ZXJNYXRjaEluZm99IHRpbWVzdGFtcCBFdmVudCB0aW1lc3RhbXBcbiAgICogQHR5cGUge0NkcEV2ZW50RGlzcGF0Y2hlcjx7ZXZlbnRUeXBlOiBzdHJpbmcsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZUlkOiBzdHJpbmcsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZVN0YW1wOiBOdW1iZXJ9Pn1cbiAgICovXG4gIG9uQ2RwSXRlbTogbmV3IENkcEV2ZW50RGlzcGF0Y2hlcigpLFxuXG4gIC8qKlxuICAgKiBPcHQtb3V0IGZyb20gQ0RQLiBEZWZhdWx0IGlzIGB0cnVlYCAodXNlZCBvcHRlZCBvdXQpXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgUGFzcyBgdHJ1ZWAgdG8gb3B0LW91dFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHNldHRpbmcgaXMgc2V0LlxuICAgKi9cbiAgYXN5bmMgc2V0T3B0T3V0KHZhbHVlKSB7XG4gICAgUHJlZnMuY2RwX29wdF9pbl9vdXQgPSAodmFsdWUgP1xuICAgICAgQ0RQX09QVEVEX09VVF9CWV9VU0VSIDogQ0RQX09QVEVEX0lOX0JZX1VTRVIpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIHVzZXIgaXMgb3B0ZWQgb3V0IGZyb20gQ0RQXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBSZXR1cm5zIGB0cnVlYCBpcyB1c2VyIG9wdGVkIG91dCBmcm9tIENEUFxuICAgKi9cbiAgYXN5bmMgaXNPcHRPdXQoKSB7XG4gICAgcmV0dXJuIFByZWZzLmNkcF9vcHRfaW5fb3V0ID09IENEUF9PUFRFRF9PVVQgfHxcbiAgICAgICAgICAgUHJlZnMuY2RwX29wdF9pbl9vdXQgPT0gQ0RQX09QVEVEX09VVF9CWV9VU0VSO1xuICB9XG59O1xuXG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3Nlci5qc1wiO1xuXG5pbXBvcnQge2NyZWF0ZVN0eWxlU2hlZXR9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2VsZW1IaWRlLmpzXCI7XG5pbXBvcnQge2NvbnRlbnRUeXBlc30gZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvY29udGVudFR5cGVzLmpzXCI7XG5pbXBvcnQge3BhcnNlU2NyaXB0fSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9zbmlwcGV0cy5qc1wiO1xuXG5pbXBvcnQge2ZpbHRlckVuZ2luZX0gZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0IHtnZXRGcmFtZUluZm99IGZyb20gXCIuL2ZyYW1lLXN0YXRlLmpzXCI7XG5pbXBvcnQge2xvZ0l0ZW0sIHRyYWNpbmdFbmFibGVkfSBmcm9tIFwiLi9kaWFnbm9zdGljcy5qc1wiO1xuaW1wb3J0IHtkZWJ1Z09wdGlvbnMsIHRyYWNlLCBkZWJ1Zywgd2Fybn0gZnJvbSBcIi4vZGVidWdnaW5nLmpzXCI7XG5pbXBvcnQge2FycmF5c0RpZmZ9IGZyb20gXCIuL3NldC1vcGVyYXRpb25zLmpzXCI7XG5pbXBvcnQge3Nob3VsZE5vdGlmeUFjdGl2ZX0gZnJvbSBcIi4vY2RwLmpzXCI7XG5cbmxldCBpc29sYXRlZExpYjtcbmxldCBpbmplY3RlZExpYjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNuaXBwZXRMaWJyYXJ5KHtpc29sYXRlZENvZGUsIGluamVjdGVkQ29kZX0pIHtcbiAgaXNvbGF0ZWRMaWIgPSBpc29sYXRlZENvZGU7XG4gIGluamVjdGVkTGliID0gaW5qZWN0ZWRDb2RlO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVTZWxlY3RvcnNEaWZmKHByZXZpb3VzU3R5bGVzaGVldCwgc3R5bGVTaGVldCkge1xuICBsZXQgZGlmZiA9IGFycmF5c0RpZmYocHJldmlvdXNTdHlsZXNoZWV0LnNlbGVjdG9ycywgc3R5bGVTaGVldC5zZWxlY3RvcnMpO1xuICBzdHlsZVNoZWV0LnJlbW92ZWRTZWxlY3RvcnMgPSBkaWZmLnJlbW92ZWQ7XG4gIHN0eWxlU2hlZXQuYWRkZWRTZWxlY3RvcnMgPSBkaWZmLmFkZGVkO1xuXG4gIHN0eWxlU2hlZXQucmVtb3ZlZENvZGUgPSBjcmVhdGVTdHlsZVNoZWV0KHN0eWxlU2hlZXQucmVtb3ZlZFNlbGVjdG9ycyk7XG4gIHN0eWxlU2hlZXQuYWRkZWRDb2RlID0gY3JlYXRlU3R5bGVTaGVldChzdHlsZVNoZWV0LmFkZGVkU2VsZWN0b3JzKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTdHlsZXNoZWV0KHRhYklkLCBwcmV2aW91c0ZyYW1lLCBmcmFtZSkge1xuICBsZXQgc3BlY2lmaWNPbmx5ID0gKGZyYW1lLmFsbG93bGlzdGVkICYgY29udGVudFR5cGVzLkdFTkVSSUNISURFKSAhPSAwO1xuICBsZXQgdHJhY2luZyA9IHRyYWNpbmdFbmFibGVkKHRhYklkKTtcblxuICBsZXQgcHJldmlvdXNTdHlsZXNoZWV0O1xuICBpZiAocHJldmlvdXNGcmFtZSAmJlxuICAgICAgIShwcmV2aW91c0ZyYW1lLmFsbG93bGlzdGVkICYgY29udGVudFR5cGVzLkRPQ1VNRU5UKSAmJlxuICAgICAgIShwcmV2aW91c0ZyYW1lLmFsbG93bGlzdGVkICYgY29udGVudFR5cGVzLkVMRU1ISURFKSkge1xuICAgIHByZXZpb3VzU3R5bGVzaGVldCA9IGZpbHRlckVuZ2luZS5lbGVtSGlkZS5nZXRTdHlsZVNoZWV0KFxuICAgICAgcHJldmlvdXNGcmFtZS5ob3N0bmFtZSxcbiAgICAgIHNwZWNpZmljT25seSxcbiAgICAgIHRyYWNpbmcpO1xuICB9XG4gIGVsc2Uge1xuICAgIHByZXZpb3VzU3R5bGVzaGVldCA9IHtcbiAgICAgIHNlbGVjdG9yczogW11cbiAgICB9O1xuICB9XG5cbiAgbGV0IHN0eWxlU2hlZXQ7XG4gIGlmICghKGZyYW1lLmFsbG93bGlzdGVkICYgY29udGVudFR5cGVzLkRPQ1VNRU5UKSAmJlxuICAgICAgIShmcmFtZS5hbGxvd2xpc3RlZCAmIGNvbnRlbnRUeXBlcy5FTEVNSElERSkpIHtcbiAgICBzdHlsZVNoZWV0ID0gZmlsdGVyRW5naW5lLmVsZW1IaWRlLmdldFN0eWxlU2hlZXQoXG4gICAgICBmcmFtZS5ob3N0bmFtZSxcbiAgICAgIHNwZWNpZmljT25seSxcbiAgICAgIHRyYWNlKTtcbiAgfVxuICBlbHNlIHtcbiAgICBzdHlsZVNoZWV0ID0ge1xuICAgICAgc2VsZWN0b3JzOiBbXVxuICAgIH07XG4gIH1cblxuICBjYWxjdWxhdGVTZWxlY3RvcnNEaWZmKHByZXZpb3VzU3R5bGVzaGVldCwgc3R5bGVTaGVldCk7XG5cbiAgaWYgKGRlYnVnT3B0aW9ucy5lbGVtSGlkZSkge1xuICAgIGxldCBkZWNsYXJhdGlvbkJsb2NrID0gXCJ7XCI7XG4gICAgZm9yIChsZXQgW3Byb3BlcnR5LCB2YWx1ZV0gb2YgZGVidWdPcHRpb25zLmNzc1Byb3BlcnRpZXMpIHtcbiAgICAgIGRlY2xhcmF0aW9uQmxvY2sgKz0gYCR7cHJvcGVydHl9OiAke3ZhbHVlfSAhaW1wb3J0YW50O2A7XG4gICAgfVxuICAgIGRlY2xhcmF0aW9uQmxvY2sgKz0gXCJ9XCI7XG5cbiAgICBzdHlsZVNoZWV0LmNvZGUgPSBjcmVhdGVTdHlsZVNoZWV0KFxuICAgICAgc3R5bGVTaGVldC5zZWxlY3RvcnMsIGRlY2xhcmF0aW9uQmxvY2spO1xuICAgIHN0eWxlU2hlZXQucmVtb3ZlZENvZGUgPSBjcmVhdGVTdHlsZVNoZWV0KFxuICAgICAgc3R5bGVTaGVldC5yZW1vdmVkU2VsZWN0b3JzLCBkZWNsYXJhdGlvbkJsb2NrKTtcbiAgICBzdHlsZVNoZWV0LmFkZGVkQ29kZSA9IGNyZWF0ZVN0eWxlU2hlZXQoXG4gICAgICBzdHlsZVNoZWV0LmFkZGVkU2VsZWN0b3JzLCBkZWNsYXJhdGlvbkJsb2NrKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZVNoZWV0O1xufVxuXG5hc3luYyBmdW5jdGlvbiBleGVjdXRlU25pcHBldHModGFiSWQsIGZyYW1lSWQsIHByZXZpb3VzRnJhbWUsIGZyYW1lKSB7XG4gIGlmICghaXNvbGF0ZWRMaWIgfHwgIWluamVjdGVkTGliKSB7XG4gICAgY29uc29sZS53YXJuKFwiU25pcHBldHMgYXJlIG5vdCBpbml0aWFsaXplZC4gVXNlIGBzZXRTbmlwcGV0TGlicmFyeSgpYCB0byBpbml0aWFsaXplIHNuaXBwZXRzLlwiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgZGV0YWlscyA9IHt0YWJJZCwgZnJhbWVJZHM6IFtmcmFtZUlkXX07XG4gIGxldCBmaWx0ZXJzID0gZmlsdGVyRW5naW5lLnNuaXBwZXRzLmdldEZpbHRlcnMoZnJhbWUuaG9zdG5hbWUpO1xuICBsZXQgc2NyaXB0cyA9IGZpbHRlcnMubWFwKCh7c2NyaXB0fSkgPT4gc2NyaXB0KTtcbiAgbGV0IGVudmlyb25tZW50ID0ge307XG4gIGlmIChkZWJ1Z09wdGlvbnMuZWxlbUhpZGUpIHtcbiAgICBlbnZpcm9ubWVudC5kZWJ1Z0NTU1Byb3BlcnRpZXMgPSBkZWJ1Z09wdGlvbnMuc25pcHBldHNDc3NQcm9wZXJ0aWVzO1xuICB9XG5cbiAgbGV0IGlzb2xhdGVkRGVwZW5kZW5jaWVzID0gW107XG4gIGxldCBpc29sYXRlZCA9IFtdO1xuICBsZXQgbWFpbiA9IFtdO1xuXG4gIGZvciAobGV0IHNjcmlwdCBvZiBzY3JpcHRzKSB7XG4gICAgZm9yIChsZXQgW3NuaXBwZXQsIC4uLmFyZ3NdIG9mIHBhcnNlU2NyaXB0KHNjcmlwdCkpIHtcbiAgICAgIGlmIChpc29sYXRlZExpYi5oYXMoc25pcHBldCkpIHtcbiAgICAgICAgbGV0IGRlcGVuZGVuY3kgPSBpc29sYXRlZExpYi5nZXQoc25pcHBldCk7XG4gICAgICAgIGlmIChkZXBlbmRlbmN5KSB7XG4gICAgICAgICAgaXNvbGF0ZWREZXBlbmRlbmNpZXMucHVzaChkZXBlbmRlbmN5KTtcbiAgICAgICAgfVxuICAgICAgICBpc29sYXRlZC5wdXNoKFtzbmlwcGV0LCAuLi5hcmdzXSk7XG4gICAgICB9XG4gICAgICBpZiAoaW5qZWN0ZWRMaWIuaGFzKHNuaXBwZXQpKSB7XG4gICAgICAgIG1haW4ucHVzaChbc25pcHBldCwgLi4uYXJnc10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxldCBleGVjdXRlID0gW107XG4gIGlmIChicm93c2VyLnNjcmlwdGluZyAmJiBicm93c2VyLnNjcmlwdGluZy5leGVjdXRlU2NyaXB0KSB7XG4gICAgaWYgKGlzb2xhdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChpc29sYXRlZERlcGVuZGVuY2llcy5sZW5ndGgpIHtcbiAgICAgICAgbGV0IGlzb2xhdGVkRGVwc1Byb21pc2VzID0gW107XG4gICAgICAgIGZvciAobGV0IGRlcGVuZGVuY3kgb2YgaXNvbGF0ZWREZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICBkZWJ1ZygoKSA9PiBgRXhlY3V0ZSBkZXBlbmRlbmN5IHNjcmlwdCAke2RlcGVuZGVuY3l9YCk7XG4gICAgICAgICAgaXNvbGF0ZWREZXBzUHJvbWlzZXMucHVzaChicm93c2VyLnNjcmlwdGluZy5leGVjdXRlU2NyaXB0KHtcbiAgICAgICAgICAgIHRhcmdldDogZGV0YWlscyxcbiAgICAgICAgICAgIHdvcmxkOiBcIklTT0xBVEVEXCIsXG4gICAgICAgICAgICBmdW5jOiBkZXBlbmRlbmN5XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGlzb2xhdGVkRGVwc1Byb21pc2VzKTtcbiAgICAgIH1cblxuICAgICAgZGVidWcoKCkgPT4gYEV4ZWN1dGUgaXNvbGF0ZWQgc2NyaXB0ICR7aXNvbGF0ZWRMaWJ9YCk7XG4gICAgICBleGVjdXRlLnB1c2goXG4gICAgICAgIGJyb3dzZXIuc2NyaXB0aW5nLmV4ZWN1dGVTY3JpcHQoe1xuICAgICAgICAgIHRhcmdldDogZGV0YWlscyxcbiAgICAgICAgICB3b3JsZDogXCJJU09MQVRFRFwiLFxuICAgICAgICAgIGZ1bmM6IGlzb2xhdGVkTGliLFxuICAgICAgICAgIGFyZ3M6IFtlbnZpcm9ubWVudCwgLi4uaXNvbGF0ZWRdXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChtYWluLmxlbmd0aCA+IDApIHtcbiAgICAgIGRlYnVnKCgpID0+IGBFeGVjdXRlIG1haW4gc2NyaXB0ICR7aW5qZWN0ZWRMaWJ9YCk7XG4gICAgICBleGVjdXRlLnB1c2goXG4gICAgICAgIGJyb3dzZXIuc2NyaXB0aW5nLmV4ZWN1dGVTY3JpcHQoe1xuICAgICAgICAgIHRhcmdldDogZGV0YWlscyxcbiAgICAgICAgICB3b3JsZDogXCJNQUlOXCIsXG4gICAgICAgICAgaW5qZWN0SW1tZWRpYXRlbHk6IHRydWUsXG4gICAgICAgICAgZnVuYzogaW5qZWN0ZWRMaWIsXG4gICAgICAgICAgYXJnczogW2Vudmlyb25tZW50LCAuLi5tYWluXVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgaWYgKGlzb2xhdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGFyZ3MgPSBKU09OLnN0cmluZ2lmeShbZW52aXJvbm1lbnQsIC4uLmlzb2xhdGVkXSk7XG4gICAgICBsZXQgY29kZSA9IFwiXCI7XG4gICAgICAvLyBwcmVwZW5kIGFsbCBkZXBlbmRlbmNpZXMgYmVmb3JlIHRoZSBzbmlwcGV0c1xuICAgICAgaWYgKGlzb2xhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNiIG9mIGlzb2xhdGVkRGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgY29kZSArPSBgKCR7Y2J9KSgpO2A7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvZGUgKz0gYCgke2lzb2xhdGVkTGlifSkuYXBwbHkobnVsbCwke2FyZ3N9KWA7XG4gICAgICBkZWJ1ZygoKSA9PiBgRXhlY3V0ZSBpc29sYXRlZCBzY3JpcHQgJHtjb2RlfWApO1xuICAgICAgZXhlY3V0ZS5wdXNoKFxuICAgICAgICBicm93c2VyLnRhYnMuZXhlY3V0ZVNjcmlwdChcbiAgICAgICAgICB0YWJJZCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmcmFtZUlkLFxuICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgIG1hdGNoQWJvdXRCbGFuazogdHJ1ZSxcbiAgICAgICAgICAgIHJ1bkF0OiBcImRvY3VtZW50X3N0YXJ0XCJcbiAgICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgaWYgKG1haW4ubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgYXJncyA9IEpTT04uc3RyaW5naWZ5KFtlbnZpcm9ubWVudCwgLi4ubWFpbl0pO1xuICAgICAgLy8gc3RyaW5naWZ5IGluamVjdGVkTGliIHRvIGVzY2FwZSBiYWNrdGlja3NcbiAgICAgIGxldCBjb2RlID0gSlNPTi5zdHJpbmdpZnkoaW5qZWN0ZWRMaWIudG9TdHJpbmcoKSk7XG4gICAgICBjb2RlID0gYFwiKCR7Y29kZS5zbGljZSgxLCAtMSl9KS5hcHBseShudWxsLCR7SlNPTi5zdHJpbmdpZnkoYXJncykuc2xpY2UoMSwgLTEpfSk7XCJgO1xuICAgICAgbGV0IGV4ZWN1dGFibGUgPVxuICAgICAgICBgZnVuY3Rpb24gaW5qZWN0U25pcHBldHNJbk1haW5Db250ZXh0KGV4ZWN1dGFibGUpXG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8gaW5qZWN0aW5nIHBoYXNlc1xuICAgICAgICAgICAgbGV0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQudHlwZSA9IFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiO1xuICAgICAgICAgICAgc2NyaXB0LmFzeW5jID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIEZpcmVmb3ggNTggb25seSBieXBhc3NlcyBzaXRlIENTUHMgd2hlbiBhc3NpZ25pbmcgdG8gJ3NyYycsXG4gICAgICAgICAgICAvLyB3aGlsZSBDaHJvbWUgNjcgYW5kIE1pY3Jvc29mdCBFZGdlICh0ZXN0ZWQgb24gNDQuMTc3NjMuMS4wKVxuICAgICAgICAgICAgLy8gb25seSBieXBhc3Mgc2l0ZSBDU1BzIHdoZW4gdXNpbmcgJ3RleHRDb250ZW50Jy5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmV0c2NhcGUgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgYnJvd3NlciAhPSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsZXQgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbZXhlY3V0YWJsZV0pKTtcbiAgICAgICAgICAgICAgc2NyaXB0LnNyYyA9IHVybDtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2NyaXB0LnRleHRDb250ZW50ID0gZXhlY3V0YWJsZTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgIH07XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZXhlY3V0YWJsZSA9ICR7Y29kZX07XG4gICAgICAgICAgICBpbmplY3RTbmlwcGV0c0luTWFpbkNvbnRleHQoZXhlY3V0YWJsZSk7XG4gICAgICAgICAgfWA7XG4gICAgICBkZWJ1ZygoKSA9PiBgRXhlY3V0ZSBtYWluIHNjcmlwdCAke2V4ZWN1dGFibGV9YCk7XG4gICAgICBleGVjdXRlLnB1c2goXG4gICAgICAgIGJyb3dzZXIudGFicy5leGVjdXRlU2NyaXB0KFxuICAgICAgICAgIHRhYklkLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZyYW1lSWQsXG4gICAgICAgICAgICBjb2RlOiBleGVjdXRhYmxlLFxuICAgICAgICAgICAgbWF0Y2hBYm91dEJsYW5rOiB0cnVlLFxuICAgICAgICAgICAgcnVuQXQ6IFwiZG9jdW1lbnRfc3RhcnRcIlxuICAgICAgICAgIH0pKTtcbiAgICB9XG4gIH1cblxuICBsZXQgcmVxdWVzdCA9IHt0YWJJZCwgZnJhbWVJZCwgdXJsOiBmcmFtZS51cmx9O1xuICBQcm9taXNlLmFsbChleGVjdXRlKS50aGVuKCgpID0+IGZpbHRlcnMuZm9yRWFjaChmaWx0ZXIgPT4ge1xuICAgIGxvZ0l0ZW0ocmVxdWVzdCwgZmlsdGVyLCB7XG4gICAgICBkb2NEb21haW46IGZyYW1lLmhvc3RuYW1lLFxuICAgICAgbWV0aG9kOiBcInNuaXBwZXRcIlxuICAgIH0pO1xuICB9KSwgKCkgPT4ge30pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBwbHlDb250ZW50RmlsdGVycyhcbiAgdGFiSWQsIGZyYW1lSWQsIHByZXZpb3VzRnJhbWUsIHNraXBTbmlwcGV0cykge1xuICBjb25zdCBmcmFtZSA9IGdldEZyYW1lSW5mbyh0YWJJZCwgZnJhbWVJZCk7XG4gIHRyYWNlKHt0YWJJZCwgZnJhbWVJZCwgcHJldmlvdXNGcmFtZSwgZnJhbWV9KTtcbiAgY29uc3QgZW11bGF0ZWRQYXR0ZXJucyA9IFtdO1xuICBsZXQgdHJhY2VkU2VsZWN0b3JzO1xuXG4gIGlmIChmcmFtZSkge1xuICAgIGxldCBzdHlsZVNoZWV0ID0gZ2VuZXJhdGVTdHlsZXNoZWV0KHRhYklkLCBwcmV2aW91c0ZyYW1lLCBmcmFtZSk7XG4gICAgZGVidWcoKCkgPT4gSlNPTi5zdHJpbmdpZnkoc3R5bGVTaGVldCkpO1xuXG4gICAgaWYgKHByZXZpb3VzRnJhbWUgJiYgIShwcmV2aW91c0ZyYW1lLmFsbG93bGlzdGVkICYgY29udGVudFR5cGVzLkRPQ1VNRU5UKSkge1xuICAgICAgYXdhaXQgcmVtb3ZlQ1NTKHRhYklkLCBmcmFtZUlkLCBzdHlsZVNoZWV0LnJlbW92ZWRDb2RlKTtcbiAgICB9XG5cbiAgICBpZiAoIXNraXBTbmlwcGV0cyAmJiAhKGZyYW1lLmFsbG93bGlzdGVkICYgY29udGVudFR5cGVzLkRPQ1VNRU5UKSkge1xuICAgICAgZXhlY3V0ZVNuaXBwZXRzKHRhYklkLCBmcmFtZUlkLCBwcmV2aW91c0ZyYW1lLCBmcmFtZSk7XG4gICAgfVxuXG4gICAgaWYgKCEoZnJhbWUuYWxsb3dsaXN0ZWQgJiBjb250ZW50VHlwZXMuRE9DVU1FTlQpICYmXG4gICAgICAhKGZyYW1lLmFsbG93bGlzdGVkICYgY29udGVudFR5cGVzLkVMRU1ISURFKSkge1xuICAgICAgaW5qZWN0Q1NTKHRhYklkLCBmcmFtZUlkLCBzdHlsZVNoZWV0LmFkZGVkQ29kZSk7XG5cbiAgICAgIGxldCBmaWx0ZXJzID0gZmlsdGVyRW5naW5lLmVsZW1IaWRlRW11bGF0aW9uLmdldEZpbHRlcnMoZnJhbWUuaG9zdG5hbWUpO1xuICAgICAgZm9yIChjb25zdCB7c2VsZWN0b3IsIHRleHQsIHJlbW92ZSwgY3NzfSBvZiBmaWx0ZXJzKSB7XG4gICAgICAgIGVtdWxhdGVkUGF0dGVybnMucHVzaCh7c2VsZWN0b3IsIHRleHQsIHJlbW92ZSwgY3NzfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0cmFjaW5nRW5hYmxlZCh0YWJJZCkpIHtcbiAgICAgICAgdHJhY2VkU2VsZWN0b3JzID0gW107XG4gICAgICAgIGZvciAobGV0IHNlbGVjdG9yIG9mIHN0eWxlU2hlZXQuYWRkZWRTZWxlY3RvcnMpIHtcbiAgICAgICAgICB0cmFjZWRTZWxlY3RvcnMucHVzaChbc2VsZWN0b3IsIG51bGxdKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBleGNlcHRpb24gb2Ygc3R5bGVTaGVldC5leGNlcHRpb25zKSB7XG4gICAgICAgICAgdHJhY2VkU2VsZWN0b3JzLnB1c2goW2V4Y2VwdGlvbi5zZWxlY3RvciwgZXhjZXB0aW9uLnRleHRdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICB3YXJuKFwiTm8gZnJhbWUgaW5mb1wiKTtcbiAgfVxuXG4gIGxldCBjc3NQcm9wZXJ0aWVzO1xuICBpZiAoZGVidWdPcHRpb25zLmVsZW1IaWRlKSB7XG4gICAgY3NzUHJvcGVydGllcyA9IGRlYnVnT3B0aW9ucy5jc3NQcm9wZXJ0aWVzO1xuICB9XG5cbiAgY29uc3Qgbm90aWZ5QWN0aXZlID0gc2hvdWxkTm90aWZ5QWN0aXZlKHRhYklkLCBmcmFtZUlkKTtcblxuICByZXR1cm4ge2VtdWxhdGVkUGF0dGVybnMsIGNzc1Byb3BlcnRpZXMsIHRyYWNlZFNlbGVjdG9ycywgbm90aWZ5QWN0aXZlfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluamVjdENTUyh0YWJJZCwgZnJhbWVJZCwgY29kZSkge1xuICBsZXQgcmVzdWx0O1xuXG4gIGlmIChicm93c2VyLnNjcmlwdGluZyAmJiBicm93c2VyLnNjcmlwdGluZy5pbnNlcnRDU1MpIHtcbiAgICByZXN1bHQgPSBicm93c2VyLnNjcmlwdGluZy5pbnNlcnRDU1Moe1xuICAgICAgdGFyZ2V0OiB7dGFiSWQsIGZyYW1lSWRzOiBbZnJhbWVJZF19LFxuICAgICAgY3NzOiBjb2RlLFxuICAgICAgb3JpZ2luOiBcIlVTRVJcIlxuICAgIH0pO1xuICB9XG4gIGVsc2Uge1xuICAgIHJlc3VsdCA9IGJyb3dzZXIudGFicy5pbnNlcnRDU1MoXG4gICAgICB0YWJJZCxcbiAgICAgIHtcbiAgICAgICAgY29kZSxcbiAgICAgICAgY3NzT3JpZ2luOiBcInVzZXJcIixcbiAgICAgICAgZnJhbWVJZCxcbiAgICAgICAgbWF0Y2hBYm91dEJsYW5rOiB0cnVlLFxuICAgICAgICBydW5BdDogXCJkb2N1bWVudF9zdGFydFwiXG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIHJlc3VsdC5jYXRjaCgoKSA9PiB7fSk7IC8vIEZhaWxzIGlmIHRhYiBvciBmcmFtZSBubyBsb25nZXIgZXhpc3RzXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVDU1ModGFiSWQsIGZyYW1lSWQsIGNvZGUpIHtcbiAgbGV0IHJlc3VsdDtcblxuICBpZiAoYnJvd3Nlci5zY3JpcHRpbmcgJiYgYnJvd3Nlci5zY3JpcHRpbmcucmVtb3ZlQ1NTKSB7XG4gICAgcmVzdWx0ID0gYnJvd3Nlci5zY3JpcHRpbmcucmVtb3ZlQ1NTKHtcbiAgICAgIHRhcmdldDoge3RhYklkLCBmcmFtZUlkczogW2ZyYW1lSWRdfSxcbiAgICAgIGNzczogY29kZSxcbiAgICAgIG9yaWdpbjogXCJVU0VSXCJcbiAgICB9KTtcbiAgfVxuICBlbHNlIGlmIChicm93c2VyLnRhYnMucmVtb3ZlQ1NTKSB7XG4gICAgcmVzdWx0ID0gYnJvd3Nlci50YWJzLnJlbW92ZUNTUyhcbiAgICAgIHRhYklkLFxuICAgICAge1xuICAgICAgICBjb2RlLFxuICAgICAgICBjc3NPcmlnaW46IFwidXNlclwiLFxuICAgICAgICBmcmFtZUlkLFxuICAgICAgICBtYXRjaEFib3V0Qmxhbms6IHRydWVcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIGVsc2Uge1xuICAgIHJlc3VsdCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCByZXN1bHQ7XG4gIH1cbiAgY2F0Y2ggKGUpIHtcbiAgICAvLyBGYWlscyBpZiB0YWIgb3IgZnJhbWUgbm8gbG9uZ2VyIGV4aXN0c1xuICB9XG59XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3Nlci5qc1wiO1xuaW1wb3J0IHtpc1J1bm5pbmdJblNlcnZpY2VXb3JrZXJ9IGZyb20gXCIuL2Jyb3dzZXItZmVhdHVyZXMuanNcIjtcbmltcG9ydCB7aWdub3JlTm9Db25uZWN0aW9uRXJyb3J9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7dHJhY2UsIGRlYnVnLCB3YXJufSBmcm9tIFwiLi9kZWJ1Z2dpbmcuanNcIjtcbmltcG9ydCB7UGVyc2lzdGVudFN0YXRlfSBmcm9tIFwiLi9wZXJzaXN0ZW5jZS5qc1wiO1xuXG4vLyBJdCBrZWVwcyBsaXN0cyBvZiBkZWZlcnJlZCBtZXNzYWdlcyBhZnRlciBmcmFtZSBsb2FkaW5nIGlzIHN0YXJ0ZWRcbi8vIHVudGlsIFwiZXdlOmNvbnRlbnQtaGVsbG9cIiBtZXNzYWdlIGZyb20gdGhlIGluamVjdGVkIGNvbnRlbnQgc2NyaXB0IGlzXG4vLyByZWNlaXZlZC4gVGhlbiB0aGUgbWVzc2FnZXMgYXJlIHNlbnQgYW5kIHRoZSBhY2NvcmRpbmcgbWFwcyBhcmUgcmVtb3ZlZC5cbi8vIE9iamVjdDx0YWJJZCwgT2JqZWN0PGZyYW1lSWQsW21lc3NhZ2VdPj5cbmxldCBkZWZlcnJlZE1lc3NhZ2VzID0gbmV3IFBlcnNpc3RlbnRTdGF0ZShcImV3ZTpkZWZlcnJlZC1jb250ZW50LW1lc3NhZ2VzXCIpO1xubGV0IHN0YXJ0dXBQcm9taXNlO1xuXG4vLyBmb3IgdGVzdGluZyBwdXJwb3Nlc1xuZXhwb3J0IGZ1bmN0aW9uIF9nZXREZWZlcnJlZE1lc3NhZ2VzKCkge1xuICByZXR1cm4gZGVmZXJyZWRNZXNzYWdlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmVycmVkTWVzc2FnZXModGFiSWQsIGZyYW1lSWQpIHtcbiAgY29uc3QgZnJhbWVJZFRvTWVzc2FnZXMgPSBkZWZlcnJlZE1lc3NhZ2VzLmdldFN0YXRlKClbdGFiSWRdO1xuICBpZiAoIWZyYW1lSWRUb01lc3NhZ2VzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gZnJhbWVJZFRvTWVzc2FnZXNbZnJhbWVJZF07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKHRhYklkLCBmcmFtZUlkLCBtZXNzYWdlKSB7XG4gIGNvbnN0IGRvU2VuZE1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgdHJhY2Uoe3RhYklkLCBmcmFtZUlkLCBtZXNzYWdlfSk7XG4gICAgcmV0dXJuIGJyb3dzZXIudGFicy5zZW5kTWVzc2FnZSh0YWJJZCwgbWVzc2FnZSwge2ZyYW1lSWR9KTtcbiAgfTtcblxuICAvLyBSZXRyeWluZyB0byBmaXggYSBjb25uZWN0aW9uIGVycm9yIG9uIENocm9taXVtIDkwIGFuZCBvbiBGaXJlZm94XG4gIGF3YWl0IGRvU2VuZE1lc3NhZ2UoKS5jYXRjaChhc3luYyBlID0+IHtcbiAgICB3YXJuKGBGYWlsZWQgdG8gc2VuZCB0aGUgbWVzc2FnZTogJHtlLm1lc3NhZ2V9LCByZXRyeWluZ2ApO1xuICAgIGF3YWl0IGlnbm9yZU5vQ29ubmVjdGlvbkVycm9yKGRvU2VuZE1lc3NhZ2UoKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZENvbnRlbnRNZXNzYWdlKHRhYklkLCBmcmFtZUlkLCBtZXNzYWdlKSB7XG4gIHRyYWNlKHt0YWJJZCwgZnJhbWVJZCwgbWVzc2FnZX0pO1xuXG4gIGxldCBtZXNzYWdlcyA9IGdldERlZmVycmVkTWVzc2FnZXModGFiSWQsIGZyYW1lSWQpO1xuICBpZiAobWVzc2FnZXMpIHtcbiAgICAvLyBjb250ZW50IHNjcmlwdCBpcyBub3QgcmVhZHkgeWV0LCBkZWZlcnJpbmdcbiAgICBtZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgIGRlYnVnKCgpID0+IFwiRGVmZXJyZWQgdGhlIG1lc3NhZ2U6IFwiICsgSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xuICAgIF9zYXZlRGVmZXJyZWRNZXNzYWdlcygpO1xuICB9XG4gIGVsc2Uge1xuICAgIGF3YWl0IHNlbmRNZXNzYWdlKHRhYklkLCBmcmFtZUlkLCBtZXNzYWdlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjbGVhbkRlZmVycmVkTWVzc2FnZXModGFiSWQsIGZyYW1lSWQpIHtcbiAgdHJhY2Uoe3RhYklkLCBmcmFtZUlkfSk7XG5cbiAgbGV0IGZyYW1lSWRUb01lc3NhZ2VzID0gZGVmZXJyZWRNZXNzYWdlcy5nZXRTdGF0ZSgpW3RhYklkXTtcbiAgaWYgKCFmcmFtZUlkVG9NZXNzYWdlcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGRlbGV0ZSBmcmFtZUlkVG9NZXNzYWdlc1tmcmFtZUlkXTtcbiAgaWYgKE9iamVjdC5rZXlzKGZyYW1lSWRUb01lc3NhZ2VzKS5sZW5ndGggPT0gMCkge1xuICAgIGRlbGV0ZSBkZWZlcnJlZE1lc3NhZ2VzLmdldFN0YXRlKClbdGFiSWRdO1xuICB9XG5cbiAgX3NhdmVEZWZlcnJlZE1lc3NhZ2VzKCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBvbkNvbnRlbnRIZWxsb1JlY2VpdmVkKHRhYklkLCBmcmFtZUlkKSB7XG4gIHRyYWNlKHt0YWJJZCwgZnJhbWVJZH0pO1xuXG4gIGNvbnN0IG1lc3NhZ2VzID0gZ2V0RGVmZXJyZWRNZXNzYWdlcyh0YWJJZCwgZnJhbWVJZCk7XG4gIGlmICghbWVzc2FnZXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjbGVhbkRlZmVycmVkTWVzc2FnZXModGFiSWQsIGZyYW1lSWQpO1xuICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICBhd2FpdCBzZW5kTWVzc2FnZSh0YWJJZCwgZnJhbWVJZCwgbWVzc2FnZSk7XG4gIH1cblxuICBfc2F2ZURlZmVycmVkTWVzc2FnZXMoKTtcbn1cblxuZnVuY3Rpb24gaW5pdGlhbGl6ZSh0YWJJZCwgZnJhbWVJZCkge1xuICBsZXQgZnJhbWVJZFRvTWVzc2FnZXMgPSBkZWZlcnJlZE1lc3NhZ2VzLmdldFN0YXRlKClbdGFiSWRdO1xuICBpZiAoIWZyYW1lSWRUb01lc3NhZ2VzKSB7XG4gICAgZnJhbWVJZFRvTWVzc2FnZXMgPSB7fTtcbiAgICBkZWZlcnJlZE1lc3NhZ2VzLmdldFN0YXRlKClbdGFiSWRdID0gZnJhbWVJZFRvTWVzc2FnZXM7XG4gIH1cblxuICBsZXQgbWVzc2FnZXMgPSBmcmFtZUlkVG9NZXNzYWdlc1tmcmFtZUlkXTtcbiAgaWYgKCFtZXNzYWdlcykge1xuICAgIG1lc3NhZ2VzID0gW107XG4gICAgZnJhbWVJZFRvTWVzc2FnZXNbZnJhbWVJZF0gPSBtZXNzYWdlcztcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkJlZm9yZU5hdmlnYXRlKGRldGFpbHMpIHtcbiAgdHJhY2Uoe2RldGFpbHN9KTtcbiAgaW5pdGlhbGl6ZShkZXRhaWxzLnRhYklkLCBkZXRhaWxzLmZyYW1lSWQpO1xufVxuXG5mdW5jdGlvbiBvblJlbW92ZWQodGFiSWQpIHtcbiAgdHJhY2Uoe3RhYklkfSk7XG5cbiAgZGVsZXRlIGRlZmVycmVkTWVzc2FnZXMuZ2V0U3RhdGUoKVt0YWJJZF07XG4gIF9zYXZlRGVmZXJyZWRNZXNzYWdlcygpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2xvYWREZWZlcnJlZE1lc3NhZ2VzKCkge1xuICBhd2FpdCBkZWZlcnJlZE1lc3NhZ2VzLmxvYWQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9kb1NhdmVEZWZlcnJlZE1lc3NhZ2VzKCkge1xuICBkZWZlcnJlZE1lc3NhZ2VzLnNhdmUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9zYXZlRGVmZXJyZWRNZXNzYWdlcygpIHtcbiAgaWYgKCFpc1J1bm5pbmdJblNlcnZpY2VXb3JrZXIoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIF9kb1NhdmVEZWZlcnJlZE1lc3NhZ2VzKCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfYXdhaXRTYXZpbmdDb21wbGV0ZSgpIHtcbiAgYXdhaXQgZGVmZXJyZWRNZXNzYWdlcy5hd2FpdFNhdmluZ0NvbXBsZXRlKCk7XG59XG5cbi8qKlxuICogU3RhcnQgdGhlIG1lc3NhZ2UgZGVmZXJyZXIgbW9kdWxlLiBJbiBNVjMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgaW5cbiAqIHRoZSBmaXJzdCB0dXJuIG9mIHRoZSBldmVudCBsb29wLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhcnQoKSB7XG4gIGlmICghc3RhcnR1cFByb21pc2UpIHtcbiAgICBicm93c2VyLndlYk5hdmlnYXRpb24ub25CZWZvcmVOYXZpZ2F0ZS5hZGRMaXN0ZW5lcihvbkJlZm9yZU5hdmlnYXRlKTtcbiAgICBicm93c2VyLnRhYnMub25SZW1vdmVkLmFkZExpc3RlbmVyKG9uUmVtb3ZlZCk7XG5cbiAgICBzdGFydHVwUHJvbWlzZSA9IChpc1J1bm5pbmdJblNlcnZpY2VXb3JrZXIoKSA/XG4gICAgICBfbG9hZERlZmVycmVkTWVzc2FnZXMoKSA6IFByb21pc2UucmVzb2x2ZShudWxsKSk7XG4gIH1cblxuICBhd2FpdCBzdGFydHVwUHJvbWlzZTtcbn1cbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5cbmltcG9ydCB7RmVhdHVyZXMsIEZpbHRlckVuZ2luZX0gZnJvbSBcImFkYmxvY2twbHVzY29yZVwiO1xuXG5leHBvcnQgbGV0IGZpbHRlckVuZ2luZSA9IG5ldyBGaWx0ZXJFbmdpbmUoKGZ1bmN0aW9uKCkge1xuICBsZXQgZmVhdHVyZXM7XG5cbiAgaWYgKGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0KSB7XG4gICAgZmVhdHVyZXMgPSBGZWF0dXJlcy5ETlI7XG4gIH1cblxuICByZXR1cm4ge2ZlYXR1cmVzfTtcbn0pKCkpO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXIuanNcIjtcblxuaW1wb3J0IHtGaWx0ZXJTdG9yYWdlfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9maWx0ZXJTdG9yYWdlLmpzXCI7XG5cbmltcG9ydCB7SU99IGZyb20gXCIuL2lvLmpzXCI7XG5pbXBvcnQge2FkZG9uQnVuZGxlZFN1YnNjcmlwdGlvbnMsIGFkZG9uQnVuZGxlZFN1YnNjcmlwdGlvbnNQYXRoLFxuICAgICAgICBhZGRvbk5hbWUsIGFkZG9uVmVyc2lvbiwgbWFuaWZlc3RWZXJzaW9ufSBmcm9tIFwiLi9pbmZvLmpzXCI7XG5pbXBvcnQge2ZpbHRlckVuZ2luZX0gZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0ICogYXMgcHJlZnMgZnJvbSBcIi4vcHJlZnMuanNcIjtcbmltcG9ydCAqIGFzIHNpdGVrZXkgZnJvbSBcIi4vc2l0ZWtleS5qc1wiO1xuaW1wb3J0ICogYXMgY29udGVudE1lc3NhZ2VEZWZlcnJlciBmcm9tIFwiLi9jb250ZW50LW1lc3NhZ2UtZGVmZXJyZXIuanNcIjtcbmltcG9ydCAqIGFzIGNkcCBmcm9tIFwiLi9jZHAuanNcIjtcbmltcG9ydCB7dmFsaWRhdGV9IGZyb20gXCIuL3N1YnNjcmlwdGlvbnMuanNcIjtcblxubGV0IGRlZmF1bHREZWJ1Z09wdGlvbnMgPSB7XG4gIGVsZW1IaWRlOiBmYWxzZSxcbiAgY3NzUHJvcGVydGllczogW1tcImJhY2tncm91bmRcIiwgXCIjZTY3MzcwXCJdLCBbXCJvdXRsaW5lXCIsIFwic29saWQgcmVkXCJdXSxcbiAgc25pcHBldHNDc3NQcm9wZXJ0aWVzOiBbXG4gICAgW1wiYmFja2dyb3VuZFwiLCBcInJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZTY3MzcwIDAsXCIgK1xuICAgICBcIiNlNjczNzAgOXB4LCB3aGl0ZSA5cHgsIHdoaXRlIDEwcHgpXCJdLFxuICAgIFtcIm91dGxpbmVcIiwgXCJzb2xpZCByZWRcIl1dXG59O1xuXG5sZXQgbGlzdGVuZXJzID0gW107XG5cbmNsYXNzIERlYnVnRXZlbnREaXNwYXRjaGVyIHtcbiAgYWRkTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gIH1cblxuICByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgIGxldCBpbmRleCA9IGxpc3RlbmVycy5maW5kSW5kZXgoZXhpc3RpbmdMaXN0ZW5lciA9PlxuICAgICAgZXhpc3RpbmdMaXN0ZW5lciA9PSBsaXN0ZW5lclxuICAgICk7XG5cbiAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IExPR19MRVZFTF9JTkZPID0gMDtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBMT0dfTEVWRUxfREVCVUcgPSAxO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IExPR19MRVZFTF9XQVJOSU5HID0gMjtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBMT0dfTEVWRUxfRVJST1IgPSAzO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IExPR19MRVZFTF9UUkFDRSA9IDQ7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgTE9HX0NPTE9SX1JFRCA9IFwiXFx4MWJbMzFtXCI7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgTE9HX0NPTE9SX0dSRUVOID0gXCJcXHgxYlszMm1cIjtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBMT0dfQ09MT1JfWUVMTE9XID0gXCJcXHgxYlszM21cIjtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBMT0dfQ09MT1JfQkxVRSA9IFwiXFx4MWJbMzRtXCI7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgTE9HX0NPTE9SX01BR0VOVEEgPSBcIlxceDFiWzM1bVwiO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IExPR19DT0xPUl9DWUFOID0gXCJcXHgxYlszNm1cIjtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBMT0dfQ09MT1JfQkxVRV9CUklHSFQgPSBcIlxceDFiWzk0bVwiO1xuXG5jb25zdCBMRVZFTF9UT19DT0xPUiA9IG5ldyBNYXAoW1xuICAvLyBubyBjb2xvciBmb3IgXCJMT0dfTEVWRUxfSU5GT1wiIGxldmVsICh1c2luZyBkZWZhdWx0KVxuICBbTE9HX0xFVkVMX0RFQlVHLCBMT0dfQ09MT1JfQkxVRV0sXG4gIFtMT0dfTEVWRUxfV0FSTklORywgTE9HX0NPTE9SX1lFTExPV10sXG4gIFtMT0dfTEVWRUxfRVJST1IsIExPR19DT0xPUl9SRURdLFxuICBbTE9HX0xFVkVMX1RSQUNFLCBMT0dfQ09MT1JfQkxVRV1cbl0pO1xuXG4vKipcbiAqIENvbGxlY3RzIHRoZSBkZWJ1Z2dpbmcgZXZlbnRzIHVudGlsIHByaW50KCkgaXMgY2FsbGVkLlxuICovXG5jbGFzcyBPblJlcXVlc3RMb2dnZXIge1xuICBjb25zdHJ1Y3RvcihsaXN0ZW5lcikge1xuICAgIHRoaXMuX3dyYXBwZWRMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIHRoaXMuX2V2ZW50cyA9IFtdO1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICB0aGlzLl9saXN0ZW5lciA9IGV2ZW50ID0+IHtcbiAgICAgIHNlbGYuX2V2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICB9O1xuICB9XG5cbiAgcHJpbnQoKSB7XG4gICAgZm9yIChsZXQgZXZlbnQgb2YgdGhpcy5fZXZlbnRzKSB7XG4gICAgICB0aGlzLl93cmFwcGVkTGlzdGVuZXIoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX2V2ZW50cyA9IFtdO1xuICB9XG5cbiAgZ2V0TGlzdGVuZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpc3RlbmVyO1xuICB9XG59XG5cbmNsYXNzIENvbnNvbGVMb2dnZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcmludFRpbWVTdGFtcCA9IHRydWUsXG4gICAgY29sb3JpemUgPSB0cnVlLFxuICAgIGxldmVsVG9Db2xvciA9IExFVkVMX1RPX0NPTE9SXG4gICkge1xuICAgIHRoaXMuX3ByaW50VGltZVN0YW1wID0gcHJpbnRUaW1lU3RhbXA7XG4gICAgdGhpcy5fY29sb3JpemUgPSBjb2xvcml6ZTtcbiAgICB0aGlzLl9sZXZlbFRvQ29sb3IgPSBsZXZlbFRvQ29sb3I7XG4gICAgdGhpcy5fbGlzdGVuZXIgPSAoe21lc3NhZ2UsIGxldmVsLCB0aW1lU3RhbXAsIGNvbG9yfSkgPT4ge1xuICAgICAgLy8gVXNpbmcgZGVmYXVsdCBsZXZlbCBjb2xvciBpZiBubyBzcGVjaWZpYyBjb2xvciBpcyBwYXNzZWRcbiAgICAgIGxldCBfY29sb3IgPSBjb2xvciB8fCB0aGlzLl9sZXZlbFRvQ29sb3IuZ2V0KGxldmVsKTtcbiAgICAgIGxldCBjb2xvcml6ZWRNZXNzYWdlID0gdGhpcy5fY29sb3JpemUgP1xuICAgICAgICB0aGlzLmNvbG9yaXplTWVzc2FnZShtZXNzYWdlLCBfY29sb3IpIDpcbiAgICAgICAgbWVzc2FnZTtcbiAgICAgIGxldCBvdXRwdXQgPSB0aGlzLl9wcmludFRpbWVTdGFtcCA/XG4gICAgICAgIGAke3RoaXMuZm9ybWF0VGltZSh0aW1lU3RhbXApfTogJHtjb2xvcml6ZWRNZXNzYWdlfWAgOlxuICAgICAgICBjb2xvcml6ZWRNZXNzYWdlO1xuXG4gICAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICAgIGNhc2UgTE9HX0xFVkVMX0lORk86XG4gICAgICAgICAgY29uc29sZS5pbmZvKG91dHB1dCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBMT0dfTEVWRUxfV0FSTklORzpcbiAgICAgICAgICBjb25zb2xlLndhcm4ob3V0cHV0KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIExPR19MRVZFTF9FUlJPUjpcbiAgICAgICAgICBjb25zb2xlLmVycm9yKG91dHB1dCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBMT0dfTEVWRUxfREVCVUc6XG4gICAgICAgIGNhc2UgTE9HX0xFVkVMX1RSQUNFOlxuICAgICAgICAgIGNvbnNvbGUuZGVidWcob3V0cHV0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgY29sb3JpemVNZXNzYWdlKG1lc3NhZ2UsIGNvbG9yKSB7XG4gICAgcmV0dXJuIGNvbG9yID8gYCR7Y29sb3J9JHttZXNzYWdlfVxceDFiWzBtYCA6IG1lc3NhZ2U7XG4gIH1cblxuICBwYWRTdGFydFplcm8odmFsdWUsIGxlbmd0aCA9IDIpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKS5wYWRTdGFydChsZW5ndGgsIFwiMFwiKTtcbiAgfVxuXG4gIGZvcm1hdFRpbWUodHMpIHtcbiAgICByZXR1cm4gdGhpcy5wYWRTdGFydFplcm8odHMuZ2V0SG91cnMoKSkgKyBcIjpcIiArXG4gICAgICB0aGlzLnBhZFN0YXJ0WmVybyh0cy5nZXRNaW51dGVzKCkpICsgXCI6XCIgK1xuICAgICAgdGhpcy5wYWRTdGFydFplcm8odHMuZ2V0U2Vjb25kcygpKSArIFwiLlwiICtcbiAgICAgIHRoaXMucGFkU3RhcnRaZXJvKHRzLmdldE1pbGxpc2Vjb25kcygpLCAzKTtcbiAgfVxuXG4gIGdldExpc3RlbmVyKCkge1xuICAgIHJldHVybiB0aGlzLl9saXN0ZW5lcjtcbiAgfVxufVxuXG5jb25zdCBDT05TT0xFX0xPR0dFUiA9IG5ldyBDb25zb2xlTG9nZ2VyKCk7XG5jb25zdCBPTl9SRVFVRVNUX0NPTlNPTEVfTE9HR0VSID1cbiAgbmV3IE9uUmVxdWVzdExvZ2dlcihDT05TT0xFX0xPR0dFUi5nZXRMaXN0ZW5lcigpKTtcblxuZnVuY3Rpb24gZ2V0U3RhY2tUcmFjZSgpIHtcbiAgY29uc3Qgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjay5zcGxpdChcIlxcblwiKVxuICAgIC5zbGljZSgzKSAvLyBza2lwIFwiRXJyb3JcIiBsaW5lLCBnZXRTdGFja1RyYWNlKCkgYW5kIHRyYWNlKClcbiAgICAubWFwKGl0ID0+IGl0XG4gICAgICAudHJpbSgpXG4gICAgICAucmVwbGFjZShcImF0IFwiLCBcIlwiKSk7XG4gIHJldHVybiBzdGFjaztcbn1cblxuZnVuY3Rpb24gZ2V0TWVzc2FnZShtZXNzYWdlT3JDYWxsYmFjaykge1xuICByZXR1cm4gdHlwZW9mIG1lc3NhZ2VPckNhbGxiYWNrID09PSBcInN0cmluZ1wiID9cbiAgICBtZXNzYWdlT3JDYWxsYmFjayA6XG4gICAgbWVzc2FnZU9yQ2FsbGJhY2soKTtcbn1cblxuZnVuY3Rpb24gX3RyYWNlKG1lc3NhZ2VPckNhbGxiYWNrLCBsZXZlbCwgY29sb3IpIHtcbiAgaWYgKGxpc3RlbmVycy5sZW5ndGgpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZ2V0TWVzc2FnZShtZXNzYWdlT3JDYWxsYmFjayk7XG4gICAgZW1pdExvZ0V2ZW50KHttZXNzYWdlLCBsZXZlbCwgY29sb3J9KTtcbiAgfVxufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtaXRMb2dFdmVudCh7bWVzc2FnZSwgbGV2ZWwsIGNvbG9yLCB0aW1lU3RhbXAgPSBuZXcgRGF0ZSgpfSkge1xuICBmb3IgKGxldCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICBsaXN0ZW5lcih7bWVzc2FnZSwgbGV2ZWwsIHRpbWVTdGFtcCwgY29sb3J9KTtcbiAgfVxufVxuXG4vKipcbiAqIE91dHB1dHMgJ2luZm9ybWF0aW9uJyBtZXNzYWdlXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbn0gbWVzc2FnZU9yQ2FsbGJhY2sgTG9nIG1lc3NhZ2Ugb3IgYSBjYWxsYmFja1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQgcmV0dXJucyBsb2cgbWVzc2FnZVxuICogQHBhcmFtIHsqfSBjb2xvciBMb2cgb3V0cHV0IGNvbG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZvKG1lc3NhZ2VPckNhbGxiYWNrLCBjb2xvcikge1xuICBfdHJhY2UobWVzc2FnZU9yQ2FsbGJhY2ssIExPR19MRVZFTF9JTkZPLCBjb2xvcik7XG59XG5cbi8qKlxuICogT3V0cHV0cyAnZGVidWcnIG1lc3NhZ2VcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9ufSBtZXNzYWdlT3JDYWxsYmFjayBMb2cgbWVzc2FnZSBvciBhIGNhbGxiYWNrXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdCByZXR1cm5zIGxvZyBtZXNzYWdlXG4gKiBAcGFyYW0geyp9IGNvbG9yIExvZyBvdXRwdXQgY29sb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnKG1lc3NhZ2VPckNhbGxiYWNrLCBjb2xvcikge1xuICBfdHJhY2UobWVzc2FnZU9yQ2FsbGJhY2ssIExPR19MRVZFTF9ERUJVRywgY29sb3IpO1xufVxuXG4vKipcbiAqIE91dHB1dHMgJ2xvZycgbWVzc2FnZVxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb259IG1lc3NhZ2VPckNhbGxiYWNrIExvZyBtZXNzYWdlIG9yIGEgY2FsbGJhY2tcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0IHJldHVybnMgbG9nIG1lc3NhZ2VcbiAqIEBwYXJhbSB7Kn0gY29sb3IgTG9nIG91dHB1dCBjb2xvclxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9nKG1lc3NhZ2VPckNhbGxiYWNrLCBjb2xvcikge1xuICBfdHJhY2UobWVzc2FnZU9yQ2FsbGJhY2ssIExPR19MRVZFTF9JTkZPLCBjb2xvcik7XG59XG5cbi8qKlxuICogT3V0cHV0cyAnd2FybmluZycgbWVzc2FnZVxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb259IG1lc3NhZ2VPckNhbGxiYWNrIExvZyBtZXNzYWdlIG9yIGEgY2FsbGJhY2tcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0IHJldHVybnMgbG9nIG1lc3NhZ2VcbiAqIEBwYXJhbSB7Kn0gY29sb3IgTG9nIG91dHB1dCBjb2xvclxuICovXG5leHBvcnQgZnVuY3Rpb24gd2FybihtZXNzYWdlT3JDYWxsYmFjaywgY29sb3IpIHtcbiAgX3RyYWNlKG1lc3NhZ2VPckNhbGxiYWNrLCBMT0dfTEVWRUxfV0FSTklORywgY29sb3IpO1xufVxuXG4vKipcbiAqIE91dHB1dHMgJ2Vycm9yJyBtZXNzYWdlXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbn0gbWVzc2FnZU9yQ2FsbGJhY2sgTG9nIG1lc3NhZ2Ugb3IgYSBjYWxsYmFja1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQgcmV0dXJucyBsb2cgbWVzc2FnZVxuICogQHBhcmFtIHsqfSBjb2xvciBMb2cgb3V0cHV0IGNvbG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcnJvcihtZXNzYWdlT3JDYWxsYmFjaywgY29sb3IpIHtcbiAgX3RyYWNlKG1lc3NhZ2VPckNhbGxiYWNrLCBMT0dfTEVWRUxfRVJST1IsIGNvbG9yKTtcbn1cblxuLyoqXG4gKiBPdXRwdXRzIGNhbGwgdHJhY2sgYW5kIHRoZSBhcmd1bWVudHNcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzIENhbGwgYXJndW1lbnRzXG4gKiBAcGFyYW0geyo/fSBjb2xvciBMb2cgb3V0cHV0IGNvbG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFjZShhcmdzLCBjb2xvcikge1xuICBpZiAobGlzdGVuZXJzLmxlbmd0aCkge1xuICAgIGxldCBzdGFja1RyYWNlID0gZ2V0U3RhY2tUcmFjZSgpO1xuICAgIHN0YWNrVHJhY2UucHVzaChKU09OLnN0cmluZ2lmeShhcmdzKSk7XG4gICAgY29uc3QgbWVzc2FnZSA9IHN0YWNrVHJhY2Uuam9pbihcIlxcblxcdFwiKTtcbiAgICBfdHJhY2UobWVzc2FnZSwgTE9HX0xFVkVMX1RSQUNFLCBjb2xvcik7XG4gIH1cbn1cblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBsZXQgZGVidWdPcHRpb25zO1xuXG5jb25zdCBTVE9SQUdFX0tFWSA9IFwiZXdlOmRlYnVnT3B0aW9uc1wiO1xubGV0IHNhdmluZ1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUobnVsbCk7XG5sZXQgc3RvcmFnZSA9IGJyb3dzZXIuc3RvcmFnZS5sb2NhbDtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlRGVidWdPcHRpb25zKCkge1xuICBhd2FpdCBzYXZpbmdQcm9taXNlO1xuXG4gIGxldCBvYmogPSB7fTtcbiAgb2JqW1NUT1JBR0VfS0VZXSA9IEpTT04uc3RyaW5naWZ5KGRlYnVnT3B0aW9ucyk7XG4gIHNhdmluZ1Byb21pc2UgPSBzdG9yYWdlLnNldChvYmopO1xuICBhd2FpdCBzYXZpbmdQcm9taXNlO1xufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWREZWJ1Z09wdGlvbnMoKSB7XG4gIGxldCBvYmogPSBhd2FpdCBzdG9yYWdlLmdldChTVE9SQUdFX0tFWSk7XG4gIGlmICghb2JqIHx8ICFvYmpbU1RPUkFHRV9LRVldKSB7XG4gICAgZGVidWdPcHRpb25zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkZWZhdWx0RGVidWdPcHRpb25zKSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZGVidWdPcHRpb25zID0gSlNPTi5wYXJzZShvYmpbU1RPUkFHRV9LRVldKTtcbn1cblxubGV0IGluaXRpYWxpemF0aW9uUHJvbWlzZTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBSZXByZXNlbnRzIGEgZGVidWcgbG9nIG91dHB1dCBlbnRyeS5cbiAgICogQHR5cGVkZWYge09iamVjdH0gTG9nRW50cnlcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgT3V0cHV0IG1lc3NhZ2UuXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsZXZlbCBMb2cgbGV2ZWwuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBDYW4gYmUgb25lIG9mIGBMT0dfTEVWRUxfLi4uYCB2YWx1ZXMuXG4gICAqIEBwcm9wZXJ0eSB7RGF0ZX0gdGltZVN0YW1wIFRpbWVzdGFtcC5cbiAgICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gY29sb3IgU3BlY2lmaWMgY29sb3IgKEFOU0kgdGVybWluYWwgY29sb3IpLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBDYW4gYmUgb25lIG9mIGBMT0dfQ09MT1JfLi4uYCB2YWx1ZXMgb3IgYG51bGxgLlxuICAgKi9cblxuICAvKipcbiAgICogQWRkb25JbmZvIGFzc2lnbmVkIGR1cmluZyBzdGFydC5cbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWVcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHZlcnNpb25cbiAgICovXG4gIGdldCBhZGRvbkluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGFkZG9uTmFtZSxcbiAgICAgIHZlcnNpb246IGFkZG9uVmVyc2lvbixcbiAgICAgIGJ1bmRsZWRTdWJzY3JpcHRpb25zOiBhZGRvbkJ1bmRsZWRTdWJzY3JpcHRpb25zLFxuICAgICAgYnVuZGxlZFN1YnNjcmlwdGlvbnNQYXRoOiBhZGRvbkJ1bmRsZWRTdWJzY3JpcHRpb25zUGF0aCxcbiAgICAgIG1hbmlmZXN0VmVyc2lvblxuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIENhdXNlcyBlbGVtZW50cyB0YXJnZXRlZCBieSBlbGVtZW50IGhpZGluZywgZWxlbWVudCBoaWRpbmcgZW11bGF0aW9uLFxuICAgKiBvciBzbmlwcGV0cyB0byBiZSBoaWdobGlnaHRlZCBpbnN0ZWFkIG9mIGhpZGRlbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIEVuYWJsZXMgb3IgZGlzYWJsZXMgZGVidWcgbW9kZS5cbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSBvbmNlIHRoZSBzZXR0aW5nc1xuICAgKiAgICBhcmUgc2F2ZWQuXG4gICAqL1xuICBhc3luYyBzZXRFbGVtZW50SGlkaW5nRGVidWdNb2RlKGVuYWJsZWQpIHtcbiAgICBhd2FpdCB0aGlzLnN0YXJ0KCk7XG4gICAgZGVidWdPcHRpb25zLmVsZW1IaWRlID0gZW5hYmxlZDtcbiAgICBhd2FpdCBzYXZlRGVidWdPcHRpb25zKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGVsZW1lbnQgaGlkaW5nIGRlYnVnIHN0eWxlLlxuICAgKiBAcGFyYW0ge0FycmF5fSBjc3NQcm9wZXJ0aWVzIFRoZSBjc3MgcHJvcGVydGllcyBmb3JcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgZGVidWcgZWxlbWVudC5cbiAgICogQHBhcmFtIHtBcnJheX0gc25pcHBldHNDc3NQcm9wZXJ0aWVzIFRoZSBjc3MgcHJvcGVydGllcyBmb3JcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBkZWJ1ZyBzbmlwcGV0IGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgb25jZSB0aGUgc2V0dGluZ3NcbiAgICogICAgYXJlIHNhdmVkLlxuICAgKi9cbiAgYXN5bmMgc2V0RWxlbWVudEhpZGluZ0RlYnVnU3R5bGUoY3NzUHJvcGVydGllcywgc25pcHBldHNDc3NQcm9wZXJ0aWVzKSB7XG4gICAgYXdhaXQgdGhpcy5zdGFydCgpO1xuXG4gICAgaWYgKGNzc1Byb3BlcnRpZXMpIHtcbiAgICAgIGRlYnVnT3B0aW9ucy5jc3NQcm9wZXJ0aWVzID0gY3NzUHJvcGVydGllcztcbiAgICB9XG5cbiAgICBpZiAoc25pcHBldHNDc3NQcm9wZXJ0aWVzKSB7XG4gICAgICBkZWJ1Z09wdGlvbnMuc25pcHBldHNDc3NQcm9wZXJ0aWVzID0gc25pcHBldHNDc3NQcm9wZXJ0aWVzO1xuICAgIH1cblxuICAgIGF3YWl0IHNhdmVEZWJ1Z09wdGlvbnMoKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVzZXRzIGFsbCBvZiB0aGUgZGVidWcgb3B0aW9ucyB0byB0aGVpciBkZWZhdWx0IHN0YXRlLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIGNsZWFyRGVidWdPcHRpb25zKCkge1xuICAgIGF3YWl0IHRoaXMuc3RhcnQoKTtcbiAgICBkZWJ1Z09wdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRlZmF1bHREZWJ1Z09wdGlvbnMpKTtcbiAgICBhd2FpdCBzYXZlRGVidWdPcHRpb25zKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAgICovXG4gIGFzeW5jIGlzSW5GaWx0ZXJTdG9yYWdlKHRleHQpIHtcbiAgICBsZXQgY29udGVudHMgPSBbXTtcbiAgICBhd2FpdCBJTy5yZWFkRnJvbUZpbGUoRmlsdGVyU3RvcmFnZS5zb3VyY2VGaWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0+IGNvbnRlbnRzLnB1c2gobGluZSkpO1xuICAgIHJldHVybiBjb250ZW50cy5zb21lKGxpbmUgPT4gbGluZS5pbmNsdWRlcyh0ZXh0KSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogVXNlZCBpbnRlcm5hbGx5LiBSZXR1cm5zIGEgbGlzdCBvZiB3YXJuaW5ncyBpbiB0aGUgY29udGV4dCBvZiB2YWxpZGF0aW5nXG4gICAqIHRoYXQgYSB1c2VyIGhhcyBwcm92aWRlZCB0aGUgYXBwcm9wcmlhdGUgZmlsZXMgdG8gdGhlIGV4dGVuc2lvbi5cbiAgICogQHBhcmFtIHtBcnJheTxSZWNvbW1lbmRhdGlvbj59IFthZGRvbkluZm8uYnVuZGxlZFN1YnNjcmlwdGlvbnNdXG4gICAqICAgQSBsaXN0IG9mIHN1YnNjcmlwdGlvbnMgcHJvdmlkZWQgYnkgdGhlIGludGVncmF0b3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbYWRkb25JbmZvLmJ1bmRsZWRTdWJzY3JpcHRpb25zUGF0aF1cbiAgICogICBBIHBhdGggdG8gc3Vic2NyaXB0aW9uIGZpbGVzIHByb3ZpZGVkIGJ5IHRoZSBpbnRlZ3JhdG9yLlxuICAgKiBAcmV0dXJuIHtBcnJheTxTdHJpbmc+fVxuICAgKi9cbiAgdmFsaWRhdGVTdWJzY3JpcHRpb25zOiB2YWxpZGF0ZSxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBVc2VkIGludGVybmFsbHkuIFdhaXRzIGZvciBhbnkgcGVuZGluZyBzYXZlIGFjdGlvbnMgdG8gY29tcGxldGUuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IFRoZSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgb25jZSB0aGUgZmlsdGVyIHN0b3JhZ2VcbiAgICogICBtb2R1bGUgaGFzIHNhdmVkIGFsbCBpdGVtcy5cbiAgICovXG4gIGFzeW5jIGVuc3VyZUV2ZXJ5dGhpbmdIYXNTYXZlZCgpIHtcbiAgICBhd2FpdCBwcmVmcy5hd2FpdFNhdmluZ0NvbXBsZXRlKCk7XG4gICAgYXdhaXQgZmlsdGVyRW5naW5lLmZpbHRlclN0b3JhZ2UuYXdhaXRTYXZpbmdDb21wbGV0ZSgpO1xuICAgIGF3YWl0IHNpdGVrZXkuX2F3YWl0U2F2aW5nQ29tcGxldGUoKTtcbiAgICBhd2FpdCBjb250ZW50TWVzc2FnZURlZmVycmVyLl9hd2FpdFNhdmluZ0NvbXBsZXRlKCk7XG4gICAgYXdhaXQgY2RwLl9hd2FpdFNhdmluZ0NvbXBsZXRlKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogSW5pdGlhbGl6ZSBkZWJ1Z2dpbmcuXG4gICAqL1xuICBhc3luYyBzdGFydCgpIHtcbiAgICBpZiAoIWluaXRpYWxpemF0aW9uUHJvbWlzZSkge1xuICAgICAgaW5pdGlhbGl6YXRpb25Qcm9taXNlID0gbG9hZERlYnVnT3B0aW9ucygpO1xuICAgIH1cbiAgICByZXR1cm4gaW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqIFJldHVybiB0aGUgcHJvbWlzZSBmb3Igc2F2aW5nIHRoZSBkZWJ1Z2dpbmcgb3B0aW9ucy5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIGVuc3VyZVNhdmVkKCkge1xuICAgIGF3YWl0IHNhdmluZ1Byb21pc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEVtaXR0ZWQgd2hlbiBoYXZpbmcgZGVidWcgb3V0cHV0LlxuICAgKiBAZXZlbnRcbiAgICogQHR5cGUge0V2ZW50RGlzcGF0Y2hlcjxMb2dFbnRyeT59XG4gICAqL1xuICBvbkxvZ0V2ZW50OiBuZXcgRGVidWdFdmVudERpc3BhdGNoZXIoKSxcblxuICAvKipcbiAgICogQ29uZmlndXJhYmxlIGxvZ2dlciAoY2xhc3MpIHRoYXQgb3V0cHV0cyB0byBjb25zb2xlXG4gICAqL1xuICBDb25zb2xlTG9nZ2VyLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGxvZ2dlciBpbnN0YW5jZSB0aGF0IG91dHB1dHMgdG8gY29uc29sZVxuICAgKi9cbiAgQ09OU09MRV9MT0dHRVIsXG5cbiAgLyoqXG4gICAqIE9uIHJlcXVlc3QgbG9nZ2VyLCB0aGF0IG91dHB1dHMgdG8gd3JhcHBlZCBsb2dnZXIgb24gYHByaW50KClgXG4gICAqL1xuICBPblJlcXVlc3RMb2dnZXIsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgbG9nZ2VyIGluc3RhbmNlLCB0aGF0IG91dHB1dHMgdG8gY29uc29sZSBvbiBgcHJpbnQoKWBcbiAgICovXG4gIE9OX1JFUVVFU1RfQ09OU09MRV9MT0dHRVJcbn07XG5cbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQge0ZpbHRlciwgRWxlbUhpZGVGaWx0ZXJ9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2ZpbHRlckNsYXNzZXMuanNcIjtcbmltcG9ydCB7cGFyc2VVUkx9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL3VybC5qc1wiO1xuaW1wb3J0IHtmaWx0ZXJFbmdpbmV9IGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCB7Y29udmVydEZpbHRlcn0gZnJvbSBcIi4vZmlsdGVycy5qc1wiO1xuaW1wb3J0IHtCTEFOS19QQUdFX1VSTH0gZnJvbSBcIi4vZnJhbWUtc3RhdGUuanNcIjtcblxubGV0IGxpc3RlbmVycyA9IFtdO1xubGV0IGRlZmF1bHRPcHRpb25zID0ge2luY2x1ZGVFbGVtZW50SGlkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlVW5tYXRjaGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJUeXBlOiBcImJsb2NraW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGFiSWQ6IG51bGx9O1xuXG4vKipcbiAqIFRoZSBCbG9ja2FibGVFdmVudERpc3BhdGNoZXIgY2xhc3MgYWxsb3dzIHVzZXJzIHRvIGxpc3RlbiB0b1xuICogZmlsdGVycyBhbmQgcmVxdWVzdHMuXG4gKiBAaGlkZWNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBCbG9ja2FibGVFdmVudERpc3BhdGNoZXIge1xuICAvKipcbiAgKiBAdHlwZWRlZiB7T2JqZWN0fSBCbG9ja2FibGVFdmVudE9wdGlvbnNcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbmNsdWRlRWxlbWVudEhpZGluZz1mYWxzZV1cbiAgKiAgIFdoZXRoZXIgb3Igbm90IGVsZW1lbnQgaGlkaW5nIGZpbHRlcnMgYWNjb3VudGluZyBmb3IgZHluYW1pYyBET00gY2hhbmdlc1xuICAqICAgc2hvdWxkIGFsc28gYmUgZW1pdHRlZC4gVGhpcyBldmVudCBpcyBlbWl0dGVkIGFmdGVyIHRoZSBwYWdlIGhhcyBiZWVuXG4gICogICBmdWxseSBsb2FkZWQsIGFuZCB0aGUgZWxlbWVudCBoaWRpbmcgZmlsdGVycyBoYXZlIGJlZW4gYXBwbGllZC4gVGhlXG4gICogICBleHBlY3RlZCBkZWxheSBiZXR3ZWVuIHRoZSBmaWx0ZXIgYmVpbmcgYXBwbGllZCBhbmQgdGhlIGV2ZW50IGJlaW5nXG4gICogICBlbWl0dGVkIGlzIGFyb3VuZCB0d28gc2Vjb25kcy5cbiAgKiAgIE5vdGUgdGhhdCB0aGlzIHdpbGwgZW5hYmxlIGVsZW1lbnQgaGlkaW5nIHRyYWNpbmcsIHdoaWNoIGRlZ3JhZGVzXG4gICogICBwZXJmb3JtYW5jZSBhbmQgc2hvdWxkIG9ubHkgYmUgdXNlZCB0byBlbmFibGUgYWQtaG9jIGRpYWdub3N0aWNzLlxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luY2x1ZGVVbm1hdGNoZWQ9ZmFsc2VdIFdoZXRoZXIgb3Igbm90IHVubWF0Y2hlZCByZXF1ZXN0c1xuICAqICAgc2hvdWxkIGFsc28gYmUgZW1pdHRlZC4gVGhpcyBldmVudCBpcyBnZW5lcmFsbHkgZW1pdHRlZCBhZnRlciBhIHJlcXVlc3QgaXNcbiAgKiAgIGZ1bGx5IGNvbXBsZXRlZC4gTm90ZSB0aGF0IGJsb2NrYWJsZSBpdGVtIGV2ZW50cyBtYXkgcmVmZXIgdG8gZWl0aGVyXG4gICogICByZXF1ZXN0cyBvciBkb2N1bWVudHMuIFVubWF0Y2hlZCBldmVudHMgb25seSByZWZlciB0byByZXF1ZXN0cy4gVGhpcyBoYXNcbiAgKiAgIHRoZSBwb3RlbnRpYWxseSBjb25mdXNpbmcgaW1wbGljYXRpb24gdGhhdCB0aGVyZSBtYXkgYmUgYWxsb3dpbmcgZG9jdW1lbnRcbiAgKiAgIGV2ZW50cyAoZWcgYSAkZ2VuZXJpY2Jsb2NrIGFsbG93aW5nIGZpbHRlciBiZWluZyBhY3RpdmF0ZWQgZm9yIGEgZG9jdW1lbnQpXG4gICogICBhcyB3ZWxsIGFzIGFuIHVubWF0Y2hlZCBldmVudCBmb3IgdGhlIHJlcXVlc3QgdGhhdCBhY3R1YWxseSBsb2FkZWQgdGhlXG4gICogICBIVE1MIG9mIHRoZSBkb2N1bWVudC5cbiAgKiBAcGFyYW0ge3N0cmluZ30gW2ZpbHRlclR5cGU9XCJibG9ja2luZ1wiXVxuICAqICAgVGhlIHR5cGUgb2YgZmlsdGVycyB0byBlbWl0LiBDYW4gYmUgXCJibG9ja2luZ1wiLCBcImFsbG93aW5nXCIsIG9yIFwiYWxsXCIuXG4gICogQHBhcmFtIHtOdW1iZXJ9IFt0YWJJZD1udWxsXVxuICAqICAgVGhlIHRhYiB0byBmaWx0ZXIgZXZlbnRzIGZvci4gRWxlbWVudCBoaWRpbmcgdHJhY2luZyB3aWxsIGJlIGxpbWl0ZWQgdG9cbiAgKiAgIHRoaXMgdGFiIChpZiBgaW5jbHVkZUVsZW1lbnRIaWRpbmdgIGlzIHNldCkuIElmIHNldCB0byBgbnVsbGAgZXZlbnRzIGZvclxuICAqICAgYWxsIHRhYnMgd2lsbCBiZSBjb25zaWRlcmVkLCBhbmQgYXJlIHN1YmplY3QgdG8gZWxlbWVudCBoaWRpbmcgdHJhY2luZ1xuICAqICAgKGlmIGBpbmNsdWRlRWxlbWVudEhpZGluZ2AgaXMgc2V0KSB3aGljaCB3aWxsIGRlZ3JhZGUgcGVyZm9ybWFuY2UuIE5vdGVcbiAgKiAgIHRoYXQgaW4gTWFuaWZlc3QgVjMgZXh0ZW5zaW9ucyB3ZSBleHBlY3QgZXZlbnQgbGlzdGVuZXJzIHRvIGJlIGF0dGFjaGVkIGluXG4gICogICB0aGUgZmlyc3QgdHVybiBvZiB0aGUgZXZlbnQgbG9vcC4gSG93ZXZlciwgaXQncyBkaWZmaWN1bHQgdG8gaGF2ZSBhIHRhYklkXG4gICogICBpbiB0aGUgZmlyc3QgdHVybiBvZiB0aGUgZXZlbnQgbG9vcCBzaW5jZSB0aGUgdGFicyBBUElzIGFyZSBhc3luYy4gVGhpc1xuICAqICAgbWF5IG1ha2UgdGhpcyBvcHRpb24gdW5zdWl0YWJsZSBmb3IgTVYzLlxuICAqL1xuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyBhIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGFuIGV2ZW50LiBUaGlzIGxpc3RlbmVyIHdpbGwgYmUgY2FsbGVkXG4gICAqIHdoZW4gdGhlIEJsb2NrYWJsZSBldmVudCBpcyBlbWl0dGVkLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgdXNlciBkZWZpbmVkIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jZSB0aGUgc3BlY2lmaWVkIGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAqIEBwYXJhbSB7QmxvY2thYmxlRXZlbnRPcHRpb25zfSBvcHRpb25zIFRoZSBmaWx0ZXJpbmcgY29uZGl0aW9ucyB0byBhcHBseVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBMb2dzIGFsbCBibG9ja2VkIHJlcXVlc3RzXG4gICAqIEVXRS5yZXBvcnRpbmcub25CbG9ja2FibGVJdGVtLmFkZExpc3RlbmVyKGNvbnNvbGUubG9nKTtcbiAgICogQGV4YW1wbGVcbiAgICogLy8gTG9nIGFsbCBibG9ja2FibGUgaXRlbXMgb2YgYSBzcGVjaWZpYyB0YWIgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlc1xuICAgKiBFV0UucmVwb3J0aW5nLm9uQmxvY2thYmxlSXRlbS5hZGRMaXN0ZW5lcihcbiAgICogICBjb25zb2xlLmxvZyxcbiAgICogICB7aW5jbHVkZUVsZW1lbnRIaWRpbmc6IHRydWUsXG4gICAqICAgIGluY2x1ZGVVbm1hdGNoZWQ6IHRydWUsXG4gICAqICAgIGZpbHRlclR5cGU6IFwiYWxsXCIsIHRhYklkfVxuICAgKiApO1xuICAgKi9cbiAgYWRkTGlzdGVuZXIobGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBsaXN0ZW5lcnMucHVzaCh7bGlzdGVuZXIsIG9wdGlvbnM6IHsuLi5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9uc319KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBhZGRlZCBmdW5jdGlvbi4gVGhpcyBtZWFucyB0aGUgbGlzdGVuZXIgd2lsbCBub1xuICAgKiBsb25nZXIgYmUgY2FsbGVkIGJ5IHRoZSBlbWl0dGVkIGV2ZW50LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgdXNlciBkZWZpbmVkIGZ1bmN0aW9uIHRvIGJlIHJlbW92ZWQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFRoZSBmaWx0ZXJpbmcgY29uZGl0aW9ucyB0byBhcHBseSB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBldmVudCBpcyBlbWl0dGVkLlxuICAgKi9cbiAgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBsZXQge2luY2x1ZGVFbGVtZW50SGlkaW5nLCBpbmNsdWRlVW5tYXRjaGVkLFxuICAgICAgICAgZmlsdGVyVHlwZSwgdGFiSWR9ID0gey4uLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zfTtcblxuICAgIGxldCBpbmRleCA9IGxpc3RlbmVycy5maW5kSW5kZXgob2JqID0+XG4gICAgICBvYmoubGlzdGVuZXIgPT0gbGlzdGVuZXIgJiZcbiAgICAgIG9iai5vcHRpb25zLmluY2x1ZGVFbGVtZW50SGlkaW5nID09IGluY2x1ZGVFbGVtZW50SGlkaW5nICYmXG4gICAgICBvYmoub3B0aW9ucy5pbmNsdWRlVW5tYXRjaGVkID09IGluY2x1ZGVVbm1hdGNoZWQgJiZcbiAgICAgIG9iai5vcHRpb25zLmZpbHRlclR5cGUgPT0gZmlsdGVyVHlwZSAmJlxuICAgICAgb2JqLm9wdGlvbnMudGFiSWQgPT0gdGFiSWRcbiAgICApO1xuXG4gICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ0l0ZW0ocmVxdWVzdCwgZmlsdGVyLCBtYXRjaEluZm8gPSB7fSkge1xuICBmb3IgKGxldCB7bGlzdGVuZXIsIG9wdGlvbnN9IG9mIGxpc3RlbmVycykge1xuICAgIGxldCB7aW5jbHVkZUVsZW1lbnRIaWRpbmcsIGluY2x1ZGVVbm1hdGNoZWQsIGZpbHRlclR5cGUsIHRhYklkfSA9IG9wdGlvbnM7XG5cbiAgICBpZiAodGFiSWQgIT0gbnVsbCAmJiB0YWJJZCAhPSByZXF1ZXN0LnRhYklkKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoZmlsdGVyKSB7XG4gICAgICBpZiAoIWluY2x1ZGVFbGVtZW50SGlkaW5nICYmIChmaWx0ZXIudHlwZSA9PSBcImVsZW1oaWRlXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci50eXBlID09IFwiZWxlbWhpZGVleGNlcHRpb25cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLnR5cGUgPT0gXCJlbGVtaGlkZWVtdWxhdGlvblwiKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbHRlclR5cGUgIT0gXCJhbGxcIiAmJlxuICAgICAgICAgIGZpbHRlclR5cGUgPT0gXCJhbGxvd2luZ1wiICE9IChmaWx0ZXIudHlwZSA9PSBcImFsbG93aW5nXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci50eXBlID09IFwiZWxlbWhpZGVleGNlcHRpb25cIikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFpbmNsdWRlVW5tYXRjaGVkICYmICFmaWx0ZXIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGxpc3RlbmVyKHtyZXF1ZXN0LCBmaWx0ZXI6IGZpbHRlciAmJiBjb252ZXJ0RmlsdGVyKGZpbHRlciksIG1hdGNoSW5mb30pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dIaWRkZW5FbGVtZW50cyhzZWxlY3RvcnMsIGZpbHRlcnMsIHNlbmRlcikge1xuICBsZXQgcmVxdWVzdCA9IHtcbiAgICB0YWJJZDogc2VuZGVyLnRhYi5pZCxcbiAgICBmcmFtZUlkOiBzZW5kZXIuZnJhbWVJZCxcbiAgICB1cmw6IHNlbmRlci51cmwgfHwgQkxBTktfUEFHRV9VUkxcbiAgfTtcbiAgbGV0IHtob3N0bmFtZX0gPSBwYXJzZVVSTChyZXF1ZXN0LnVybCk7XG4gIGxldCBtYXRjaEluZm8gPSB7XG4gICAgZG9jRG9tYWluOiBob3N0bmFtZSxcbiAgICBtZXRob2Q6IFwiZWxlbWhpZGVcIlxuICB9O1xuXG4gIGlmIChzZWxlY3RvcnMubGVuZ3RoID4gMCkge1xuICAgIC8vIFRoZSBzYW1lIGZpbHRlciBjYW4gYmUgbGlzdGVkIGluIG11bHRpcGxlIHN1YnNjcmlwdGlvbnNcbiAgICAvLyBvciBjYW4gYmUgYWRkZWQgYnkgdXNlciwgc28gd2UgbmVlZCB0byBleGNsdWRlIHRoZSBkdXBsaWNhdGVzLlxuICAgIGxldCBsb2dnZWRFbGVtSGlkZUZpbHRlcnMgPSBbXTtcbiAgICBmb3IgKGxldCBzdWJzY3JpcHRpb24gb2YgZmlsdGVyRW5naW5lLmZpbHRlclN0b3JhZ2Uuc3Vic2NyaXB0aW9ucygpKSB7XG4gICAgICBpZiAoc3Vic2NyaXB0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCB0ZXh0IG9mIHN1YnNjcmlwdGlvbi5maWx0ZXJUZXh0KCkpIHtcbiAgICAgICAgbGV0IGZpbHRlciA9IEZpbHRlci5mcm9tVGV4dCh0ZXh0KTtcblxuICAgICAgICBpZiAoZmlsdGVyIGluc3RhbmNlb2YgRWxlbUhpZGVGaWx0ZXIgJiZcbiAgICAgICAgICAgIHNlbGVjdG9ycy5pbmNsdWRlcyhmaWx0ZXIuc2VsZWN0b3IpICYmXG4gICAgICAgICAgICBmaWx0ZXIuaXNBY3RpdmVPbkRvbWFpbihob3N0bmFtZSkgJiZcbiAgICAgICAgICAgICFsb2dnZWRFbGVtSGlkZUZpbHRlcnMuaW5jbHVkZXMoZmlsdGVyLnRleHQpKSB7XG4gICAgICAgICAgbG9nZ2VkRWxlbUhpZGVGaWx0ZXJzLnB1c2goZmlsdGVyLnRleHQpO1xuICAgICAgICAgIGxvZ0l0ZW0ocmVxdWVzdCwgZmlsdGVyLCBtYXRjaEluZm8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgdGV4dCBvZiBmaWx0ZXJzKSB7XG4gICAgbG9nSXRlbShyZXF1ZXN0LCBGaWx0ZXIuZnJvbVRleHQodGV4dCksIG1hdGNoSW5mbyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ2dpbmdFbmFibGVkKHRhYklkKSB7XG4gIHJldHVybiBsaXN0ZW5lcnMuc29tZSgoe29wdGlvbnN9KSA9PlxuICAgIChvcHRpb25zLnRhYklkID09IG51bGwgfHwgb3B0aW9ucy50YWJJZCA9PSB0YWJJZClcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNpbmdFbmFibGVkKHRhYklkKSB7XG4gIHJldHVybiBsaXN0ZW5lcnMuc29tZSgoe29wdGlvbnN9KSA9PlxuICAgIG9wdGlvbnMuaW5jbHVkZUVsZW1lbnRIaWRpbmcgJiZcbiAgICAob3B0aW9ucy50YWJJZCA9PSBudWxsIHx8IG9wdGlvbnMudGFiSWQgPT0gdGFiSWQpXG4gICk7XG59XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuXG5pbXBvcnQge0ZpbHRlciwgSW52YWxpZEZpbHRlciwgVVJMRmlsdGVyLCBpc0FjdGl2ZUZpbHRlcn1cbiAgZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvZmlsdGVyQ2xhc3Nlcy5qc1wiO1xuaW1wb3J0IHtTcGVjaWFsU3Vic2NyaXB0aW9uLCBEaWZmVXBkYXRhYmxlU3Vic2NyaXB0aW9ufVxuICBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9zdWJzY3JpcHRpb25DbGFzc2VzLmpzXCI7XG5pbXBvcnQge2lzVmFsaWRIb3N0bmFtZX0gZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvdXJsLmpzXCI7XG5pbXBvcnQge2ZpbHRlck5vdGlmaWVyfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9maWx0ZXJOb3RpZmllci5qc1wiO1xuaW1wb3J0IHtmaWx0ZXJFbmdpbmV9IGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCB7Y3JlYXRlQ29udmVydGVyfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9kbnIvaW5kZXguanNcIjtcbmltcG9ydCB7RG5yTWFwcGVyfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9kbnIvbWFwcGVyLmpzXCI7XG5pbXBvcnQge2dldFN1YnNjcmlwdGlvblJ1bGVzZXRNYXB9IGZyb20gXCIuL3N1YnNjcmlwdGlvbnMtdXRpbHMuanNcIjtcbmltcG9ydCBzdWJzY3JpcHRpb25zIGZyb20gXCIuL3N1YnNjcmlwdGlvbnMuanNcIjtcbmltcG9ydCB7RVJST1JfRklMVEVSX05PVF9GT1VORCwgRVJST1JfVE9PX01BTllfRklMVEVSUyxcbiAgICAgICAgRVJST1JfRElTQUJMRURfUlVMRV9MSU1JVF9SRUFDSEVEfVxuICBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQge29uQ2hhbmdlZEZpbHRlciwgZGlzYWJsZUZpbHRlcn0gZnJvbSBcIi4vZmlsdGVycy5qc1wiO1xuaW1wb3J0IHtkZWZhdWx0IGFzIGluaXRpYWxpemVyfSBmcm9tIFwiLi9pbml0aWFsaXplci5qc1wiO1xuaW1wb3J0IHtmaWx0ZXJzVXBkYXRlRGlmZn0gZnJvbSBcIi4vc2V0LW9wZXJhdGlvbnMuanNcIjtcbmltcG9ydCB7dHJhY2UsIGRlYnVnLCBlcnJvcn0gZnJvbSBcIi4vZGVidWdnaW5nLmpzXCI7XG5cbmltcG9ydCB7RmlsdGVyRXJyb3J9IGZyb20gXCIuL3R5cGVzLmpzXCI7XG5pbXBvcnQge1ByZWZzfSBmcm9tIFwiLi9wcmVmcy5qc1wiO1xuaW1wb3J0IHtpc0ZpcmVmb3gsIGdldEJyb3dzZXJWZXJzaW9ufSBmcm9tIFwiLi9pbmZvLmpzXCI7XG5cbmxldCBoaWdoZXN0UnVsZUlkID0gMTtcblxuLy8gRmlsdGVyIHRleHQgdG8gcmVsYXRlZCBkZXRhaWxzIChlbmFibGVkLCBydWxlIGlkcywgc3Vic2NyaXB0aW9uIGlkcywgZXRjKSBtYXBcbmxldCBkeW5hbWljRmlsdGVycyA9IG5ldyBNYXAoKTtcblxuLy8gU3Vic2NyaXB0aW9uIGlkIHRvIGxhc3QgZGlmZiB1cGRhdGUgbWFwXG5sZXQgbGFzdERpZmZVcGRhdGVzID0gbnVsbDtcblxubGV0IGluaXRpYWxpemF0aW9uUHJvbWlzZTtcblxubGV0IGdldFJ1bGVzRnJvbUZpbHRlciA9ICgpID0+IFByb21pc2UucmVzb2x2ZSh7fSk7XG5pZiAoYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QpIHtcbiAgZ2V0UnVsZXNGcm9tRmlsdGVyID0gY3JlYXRlQ29udmVydGVyKHtcbiAgICBhc3luYyBpc1JlZ2V4U3VwcG9ydGVkKHJlZ2V4KSB7XG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QuaXNSZWdleFN1cHBvcnRlZChyZWdleCk7XG4gICAgICByZXR1cm4gcmVzdWx0LmlzU3VwcG9ydGVkO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXN0b3JlRHluYW1pY1J1bGVzKHN1YnNjcmlwdGlvbklkKSB7XG4gIGZvciAobGV0IHN1YnNjcmlwdGlvbiBvZiBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5zdWJzY3JpcHRpb25zKCkpIHtcbiAgICBpZiAoc3Vic2NyaXB0aW9uLmlkID09IHN1YnNjcmlwdGlvbklkKSB7XG4gICAgICBlbnN1cmVSdWxlc2V0VXBkYXRlc0xvYWRlZCgpO1xuXG4gICAgICBsZXQgbGFzdFVwZGF0ZSA9IGxhc3REaWZmVXBkYXRlcy5nZXQoc3Vic2NyaXB0aW9uLmlkKTtcbiAgICAgIGlmIChsYXN0VXBkYXRlKSB7XG4gICAgICAgIGF3YWl0IF9kbnJEaWZmU3Vic2NyaXB0aW9uVXBkYXRlKHN1YnNjcmlwdGlvbiwgbGFzdFVwZGF0ZSwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGlzYWJsZUR5bmFtaWNSdWxlcyhzdWJzY3JpcHRpb25JZCkge1xuICBsZXQgc3Vic2NyaXB0aW9uRHluUnVsZXMgPSBmaW5kRHluYW1pY0ZpbHRlcnMoc3Vic2NyaXB0aW9uSWQpO1xuICBsZXQge3JlbW92ZWREeW5hbWljRmlsdGVycywgcmVtb3ZlUnVsZUlkc30gPSByZW1vdmVEeW5hbWljRmlsdGVycyhcbiAgICBzdWJzY3JpcHRpb25JZCwgWy4uLnN1YnNjcmlwdGlvbkR5blJ1bGVzLmtleXMoKV0pO1xuICByZW1vdmVkRHluYW1pY0ZpbHRlcnMuZm9yRWFjaCh0ZXh0ID0+IGR5bmFtaWNGaWx0ZXJzLmRlbGV0ZSh0ZXh0KSk7XG4gIGF3YWl0IGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0LnVwZGF0ZUR5bmFtaWNSdWxlcyh7cmVtb3ZlUnVsZUlkc30pO1xufVxuXG4vLyByZXR1cm5zIGEgc2V0IG9mIGZpbHRlcnMgKHRleHRzKSB0aGF0IHJlbGF0ZSB0byByZXF1ZXN0ZWQgc3Vic2NyaXB0aW9uXG5mdW5jdGlvbiBmaW5kRHluYW1pY0ZpbHRlcnMoc3Vic2NyaXB0aW9uSWQpIHtcbiAgbGV0IHJlc3VsdCA9IG5ldyBTZXQoKTtcblxuICBmb3IgKGxldCBbdGV4dCwgZGV0YWlsXSBvZiBkeW5hbWljRmlsdGVycy5lbnRyaWVzKCkpIHtcbiAgICBpZiAoZGV0YWlsICYmIGRldGFpbC5zdWJzY3JpcHRpb25JZHMpIHtcbiAgICAgIGxldCBpbmRleCA9IGRldGFpbC5zdWJzY3JpcHRpb25JZHMuaW5kZXhPZihzdWJzY3JpcHRpb25JZCk7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHJlc3VsdC5hZGQodGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gY291bnRSdWxlc1RvUmVtb3ZlKHN1YnNjcmlwdGlvbklkLCBmaWx0ZXJzVG9SZW1vdmUpIHtcbiAgbGV0IHJ1bGVzQ291bnQgPSAwO1xuICBmb3IgKGxldCB0ZXh0IG9mIGZpbHRlcnNUb1JlbW92ZSkge1xuICAgIGxldCBkZXRhaWwgPSBkeW5hbWljRmlsdGVycy5nZXQodGV4dCk7XG4gICAgaWYgKGRldGFpbCAmJiBkZXRhaWwucnVsZUlkcyAmJiBkZXRhaWwuc3Vic2NyaXB0aW9uSWRzICYmXG4gICAgICAgIGRldGFpbC5zdWJzY3JpcHRpb25JZHMubGVuZ3RoID09IDEgJiZcbiAgICAgICAgZGV0YWlsLnN1YnNjcmlwdGlvbklkc1swXSA9PSBzdWJzY3JpcHRpb25JZCkge1xuICAgICAgcnVsZXNDb3VudCArPSBkZXRhaWwucnVsZUlkcy5sZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiBydWxlc0NvdW50O1xufVxuXG4vKipcbiAqIFJlbW92ZSB0aGUgZHluYW1pYyBmaWx0ZXJzIGZvciBhIHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3Vic2NyaXB0aW9uSWQgVGhlIHN1YnNjcmlwdGlvbiBpZC5cbiAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nPn0gZmlsdGVycyBUaGUgZmlsdGVyIHRleHQgYXJyYXkgdG8gcmVtb3ZlLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJ1bGVzIHRoYXQgd2VyZSByZW1vdmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUR5bmFtaWNGaWx0ZXJzKHN1YnNjcmlwdGlvbklkLCBmaWx0ZXJzKSB7XG4gIGxldCByZW1vdmVkRHluYW1pY0ZpbHRlcnMgPSBmaWx0ZXJzLmZpbHRlcih0ZXh0ID0+IHtcbiAgICBsZXQgZGV0YWlsID0gZHluYW1pY0ZpbHRlcnMuZ2V0KHRleHQpO1xuICAgIGlmIChkZXRhaWwgJiYgZGV0YWlsLnN1YnNjcmlwdGlvbklkcykge1xuICAgICAgbGV0IGluZGV4ID0gZGV0YWlsLnN1YnNjcmlwdGlvbklkcy5pbmRleE9mKHN1YnNjcmlwdGlvbklkKTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgZGV0YWlsLnN1YnNjcmlwdGlvbklkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRldGFpbC5zdWJzY3JpcHRpb25JZHMubGVuZ3RoID09IDA7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgbGV0IHJlbW92ZVJ1bGVJZHMgPSByZW1vdmVkRHluYW1pY0ZpbHRlcnMuZmxhdE1hcCh0ZXh0ID0+IHtcbiAgICBsZXQgZGV0YWlsID0gZHluYW1pY0ZpbHRlcnMuZ2V0KHRleHQpO1xuICAgIHJldHVybiBkZXRhaWwgPyBkZXRhaWwucnVsZUlkcyA6IFtdO1xuICB9KTtcblxuICByZXR1cm4ge3JlbW92ZWREeW5hbWljRmlsdGVycywgcmVtb3ZlUnVsZUlkc307XG59XG5cbi8vIFVSTHMgb2YgdGhlIHN1YnNjcmlwdGlvbnMgdGhhdCBhcmUgY3VycmVudGx5IHVwZGF0aW5nXG5sZXQgZG5yU3Vic2NyaXB0aW9uVXBkYXRpbmcgPSBuZXcgU2V0KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RuclN1YnNjcmlwdGlvblVwZGF0aW5nKHVybCkge1xuICByZXR1cm4gZG5yU3Vic2NyaXB0aW9uVXBkYXRpbmcuaGFzKHVybCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcklzRG5yU3Vic2NyaXB0aW9uVXBkYXRpbmcoKSB7XG4gIGRuclN1YnNjcmlwdGlvblVwZGF0aW5nLmNsZWFyKCk7XG59XG5cbi8qKlxuICogVXBkYXRlIGEgRE5SIHN1YnNjcmlwdGlvbiB1c2luZyBmdWxsIHVwZGF0ZSBtZWNoYW5pc20gKHNpbWlsYXIgdG8gTVYyKS5cbiAqXG4gKiBAcGFyYW0ge1N1YnNjcmlwdGlvbn0gc3Vic2NyaXB0aW9uIFRoZSBzdWJzY3JpcHRpb24gdXBkYXRlZC5cbiAqIEBwYXJhbSB7P29iamVjdH0gbGluZXMgVGhlIG1vc3QgcmVjZW50IGZpbHRlciB0ZXh0LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGRuckZ1bGxTdWJzY3JpcHRpb25VcGRhdGUoc3Vic2NyaXB0aW9uLCBsaW5lcykge1xuICBkZWJ1ZyhcIkZ1bGwgdXBkYXRlIHN0YXJ0ZWRcIik7XG5cbiAgbGluZXMuc2hpZnQoKTtcblxuICBsZXQgZmlsdGVyVGV4dCA9IFtdO1xuICBmb3IgKGxldCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgbGluZSA9IEZpbHRlci5ub3JtYWxpemUobGluZSk7XG4gICAgaWYgKGxpbmUpIHtcbiAgICAgIGZpbHRlclRleHQucHVzaChsaW5lKTtcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIGF3YWl0IF9kbnJGdWxsU3Vic2NyaXB0aW9uVXBkYXRlKHN1YnNjcmlwdGlvbiwgZmlsdGVyVGV4dCk7XG4gIH1cbiAgY2F0Y2ggKGUpIHtcbiAgICBlcnJvcihgRmFpbGVkIHRvIGZ1bGwgdXBkYXRlOiAke2UubWVzc2FnZX1gKTtcbiAgICBpZiAoZS50eXBlID09PSBFUlJPUl9UT09fTUFOWV9GSUxURVJTKSB7XG4gICAgICBzdWJzY3JpcHRpb24uZG93bmxvYWRTdGF0dXMgPSBcInN5bmNocm9uaXplX3Rvb19tYW55X2ZpbHRlcnNcIjtcbiAgICAgIGUucnVsZXNBdmFpbGFibGUgPSBhd2FpdCBkeW5hbWljUnVsZXNBdmFpbGFibGUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzdWJzY3JpcHRpb24uZG93bmxvYWRTdGF0dXMgPSBcInN5bmNocm9uaXplX2Rucl9lcnJvclwiO1xuICAgIH1cbiAgfVxuICBmaW5hbGx5IHtcbiAgICBkZWJ1ZyhcIkZ1bGwgdXBkYXRlIGZpbmlzaGVkXCIpO1xuICB9XG59XG5cbi8qKlxuICogVXBkYXRlIGEgRE5SIHN1YnNjcmlwdGlvbiB1c2luZyBkaWZmIG1lY2hhbmlzbS5cbiAqXG4gKiBAcGFyYW0ge1N1YnNjcmlwdGlvbn0gc3Vic2NyaXB0aW9uIFRoZSBzdWJzY3JpcHRpb24gdXBkYXRlZC5cbiAqIEBwYXJhbSB7P29iamVjdH0gdXBkYXRlcyBUaGUgbGlzdCBvZiBhZGRlZCBhbmQgcmVtb3ZlZCBmaWx0ZXIgdGV4dC4gSWZcbiAqICAgZmFsc2V5IHRoZW4gbm90aGluZyBoYXBwZW5zLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkbnJEaWZmU3Vic2NyaXB0aW9uVXBkYXRlKHN1YnNjcmlwdGlvbiwgdXBkYXRlcykge1xuICBkZWJ1ZyhcIkRpZmYgdXBkYXRlIHN0YXJ0ZWRcIik7XG4gIGlmIChpc0RuclN1YnNjcmlwdGlvblVwZGF0aW5nKHN1YnNjcmlwdGlvbi51cmwpKSB7XG4gICAgZGVidWcoYEFscmVhZHkgdXBkYXRpbmcgJHtzdWJzY3JpcHRpb24udXJsfSwgc2tpcHBpbmdgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgZG5yU3Vic2NyaXB0aW9uVXBkYXRpbmcuYWRkKHN1YnNjcmlwdGlvbi51cmwpO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgX2RuckRpZmZTdWJzY3JpcHRpb25VcGRhdGUoc3Vic2NyaXB0aW9uLCB1cGRhdGVzKTtcbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIGVycm9yKGBGYWlsZWQgdG8gZGlmZiB1cGRhdGU6ICR7ZS5tZXNzYWdlfWApO1xuICAgIGlmIChlLnR5cGUgPT09IEVSUk9SX1RPT19NQU5ZX0ZJTFRFUlMpe1xuICAgICAgc3Vic2NyaXB0aW9uLmRvd25sb2FkU3RhdHVzID0gXCJzeW5jaHJvbml6ZV9kaWZmX3Rvb19tYW55X2ZpbHRlcnNcIjtcbiAgICAgIGUucnVsZXNBdmFpbGFibGUgPSBhd2FpdCBkeW5hbWljUnVsZXNBdmFpbGFibGUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzdWJzY3JpcHRpb24uZG93bmxvYWRTdGF0dXMgPSBcInN5bmNocm9uaXplX2RpZmZfZXJyb3JcIjtcbiAgICB9XG4gICAgLy8gSGVyZSB3ZSBoYXZlIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhpcyBlcnJvclxuICAgIC8vIFNvbWUgb3B0aW9uczpcbiAgICAvLyAgKiBhZGQgdGhlIGVudGlyZSBlcnJvciBvYmplY3QgYXMgYSBuZXcgcHJvcGVydHkgb2YgdGhlIHN1YnNjcmlwdGlvblxuICAgIC8vICAqIGNyZWF0ZSBhIG5ldyBldmVudCB1bmRlciBFV0Uuc3Vic2NyaXB0aW9uIHRvIG5vdGlmeSB0aGUgZXJyb3JcbiAgICAvLyAgKiBsZWF2ZSBpdCBhcyBpdCBpcywgdGhlIFwidG9vX21hbnlfZmlsdGVyc1wiIHN0YXR1cyB3aWxsIGJlIGVub3VnaFxuICB9XG4gIGZpbmFsbHkge1xuICAgIGRuclN1YnNjcmlwdGlvblVwZGF0aW5nLmRlbGV0ZShzdWJzY3JpcHRpb24udXJsKTtcbiAgICBkZWJ1ZyhcIkRpZmYgdXBkYXRlIGZpbmlzaGVkXCIpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVTdWJzY3JpcHRpb25zRHluYW1pY0ZpbHRlcnMoKSB7XG4gIGZvciAobGV0IHN1YnNjcmlwdGlvbiBvZiBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5zdWJzY3JpcHRpb25zKCkpIHtcbiAgICBpZiAoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgRGlmZlVwZGF0YWJsZVN1YnNjcmlwdGlvbikge1xuICAgICAgYXdhaXQgZGlzYWJsZUR5bmFtaWNSdWxlcyhzdWJzY3JpcHRpb24uaWQpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5hYmxlQWxsRGlzYWJsZWRTdGF0aWNSdWxlcygpIHtcbiAgbGV0IGRpc2FibGVSdWxlSWRzID0gW107XG4gIGZvciAobGV0IHN1YnNjcmlwdGlvbiBvZiBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5zdWJzY3JpcHRpb25zKCkpIHtcbiAgICBpZiAoIXN1YnNjcmlwdGlvbi5oYXNCdW5kbGVkRmlsdGVycyB8fCAhc3Vic2NyaXB0aW9uLmlkKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBsZXQgZW5hYmxlUnVsZUlkcyA9XG4gICAgICBhd2FpdCBicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdC5nZXREaXNhYmxlZFJ1bGVJZHMoe1xuICAgICAgICBydWxlc2V0SWQ6IHN1YnNjcmlwdGlvbi5pZFxuICAgICAgfSk7XG5cbiAgICBhd2FpdCBicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdC51cGRhdGVTdGF0aWNSdWxlcyh7XG4gICAgICBydWxlc2V0SWQ6IHN1YnNjcmlwdGlvbi5pZCxcbiAgICAgIGRpc2FibGVSdWxlSWRzLFxuICAgICAgZW5hYmxlUnVsZUlkc1xuICAgIH0pO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9kbnJGdWxsU3Vic2NyaXB0aW9uVXBkYXRlKHN1YnNjcmlwdGlvbiwgZmlsdGVyVGV4dCkge1xuICB0cmFjZSh7c3Vic2NyaXB0aW9uLCBmaWx0ZXJUZXh0fSk7XG5cbiAgLy8gV2l0aCBzb21lIHBhdGggb2YgY29kZSB0aGUgZmlsdGVyIGVuZ2luZSBtaWdodCBub3QgYmUgaW5pdGlhbGl6ZWRcbiAgLy8gaWYgdGhlIHNlcnZpY2Ugd29ya2VyIGdvdCBhd2FrZW4uXG4gIGF3YWl0IGluaXRpYWxpemVyLnN0YXJ0KCk7XG5cbiAgbGV0IHBsYW5uZWRDaGFuZ2VzID0gYXdhaXQgcHJvY2Vzc0ZpbHRlclRleHRzKGZpbHRlclRleHQsIHN1YnNjcmlwdGlvbi51cmwpO1xuXG4gIC8vIEFsbCB0aGUgZHluYW1pYyBmaWx0ZXJzIGZvciB0aGlzIHN1YnNjcmlwdGlvbiBtdXN0IGJlIHJlbW92ZWQuXG4gIC8vIFVzZXIgc3Vic2NyaXB0aW9ucyBkb24ndCBoYXZlIGFuIElELCB1c2luZyBVUkwgaW5zdGVhZFxuICBsZXQga25vd25EeW5hbWljRmlsdGVycyA9IGZpbmREeW5hbWljRmlsdGVycyhzdWJzY3JpcHRpb24udXJsKTtcblxuICBpZiAoa25vd25EeW5hbWljRmlsdGVycy5zaXplICE9IDApIHtcbiAgICBwbGFubmVkQ2hhbmdlcy5yZWxhdGVUb1RoaXNTdWJzY3JpcHRpb24uZm9yRWFjaChcbiAgICAgIHRleHQgPT4ga25vd25EeW5hbWljRmlsdGVycy5kZWxldGUodGV4dCkpO1xuXG4gICAgcGxhbm5lZENoYW5nZXMucmVsYXRlVG9PdGhlclN1YnNjcmlwdGlvbnMuZm9yRWFjaChcbiAgICAgIHRleHQgPT4ga25vd25EeW5hbWljRmlsdGVycy5kZWxldGUodGV4dCkpO1xuICB9XG5cbiAgbGV0IGR5bmFtaWNGaWx0ZXJzVG9SZW1vdmUgPSBbLi4ua25vd25EeW5hbWljRmlsdGVycy5rZXlzKCldO1xuXG4gIGxldCByZW1vdmVSdWxlc0NvdW50ID0gY291bnRSdWxlc1RvUmVtb3ZlKHN1YnNjcmlwdGlvbi51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNGaWx0ZXJzVG9SZW1vdmUpO1xuICBpZiAocGxhbm5lZENoYW5nZXMuYWRkLmxlbmd0aCAtIHJlbW92ZVJ1bGVzQ291bnQgPlxuICAgICAgYXdhaXQgZHluYW1pY1J1bGVzQXZhaWxhYmxlKCkpIHtcbiAgICB0aHJvdyBuZXcgRmlsdGVyRXJyb3IoRVJST1JfVE9PX01BTllfRklMVEVSUyk7XG4gIH1cblxuICAvLyBBZGRpbmcgc3Vic2NyaXB0aW9uLmlkIGludG8gZXhpc3RpbmcgZmlsdGVyXG4gIGZvciAobGV0IHRleHQgb2YgcGxhbm5lZENoYW5nZXMucmVsYXRlVG9PdGhlclN1YnNjcmlwdGlvbnMpIHtcbiAgICBsZXQgZmlsdGVyID0gZHluYW1pY0ZpbHRlcnMuZ2V0KHRleHQpO1xuICAgIGZpbHRlci5zdWJzY3JpcHRpb25JZHMucHVzaChzdWJzY3JpcHRpb24udXJsKTtcbiAgfVxuXG4gIC8vIFJlbW92aW5nIHN1YnNjcmlwdGlvbi5pZCBmcm9tIGV4aXN0aW5nIGZpbHRlcnMgdGhhdCBhcmUgcmVtb3ZlZC5cbiAgbGV0IHtyZW1vdmVSdWxlSWRzfSA9IHJlbW92ZUR5bmFtaWNGaWx0ZXJzKFxuICAgIHN1YnNjcmlwdGlvbi51cmwsIGR5bmFtaWNGaWx0ZXJzVG9SZW1vdmUpO1xuXG4gIGxldCBzdWJzY3JpcHRpb25BY3RpdmUgPSAoYXdhaXQgc3Vic2NyaXB0aW9ucy5oYXMoc3Vic2NyaXB0aW9uLnVybCkpICYmXG4gICAgICAhc3Vic2NyaXB0aW9uLmRpc2FibGVkO1xuICBsZXQgYWRkUnVsZXMgPSBzdWJzY3JpcHRpb25BY3RpdmUgPyBwbGFubmVkQ2hhbmdlcy5hZGQgOiB2b2lkIDA7XG4gIGF3YWl0IGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0LnVwZGF0ZUR5bmFtaWNSdWxlcyhcbiAgICB7YWRkUnVsZXMsIHJlbW92ZVJ1bGVJZHN9XG4gICk7XG5cbiAgaWYgKHN1YnNjcmlwdGlvbkFjdGl2ZSkge1xuICAgIHBsYW5uZWRDaGFuZ2VzLmRldGFpbHMuZm9yRWFjaChkZXRhaWxzID0+IHtcbiAgICAgIGxldCB7dXNlRmlsdGVyRW5naW5lLCBmaWx0ZXIsIHJ1bGVJZHMsIGVuYWJsZWR9ID0gZGV0YWlscztcblxuICAgICAgc2V0SGlnaGVzdFJ1bGVJZChydWxlSWRzKTtcbiAgICAgIGR5bmFtaWNGaWx0ZXJzLnNldChmaWx0ZXIudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICB7cnVsZUlkcywgdXNlRmlsdGVyRW5naW5lLCBlbmFibGVkLCBtZXRhZGF0YToge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbklkczogW3N1YnNjcmlwdGlvbi51cmxdfSk7XG4gICAgfSk7XG4gIH1cblxuICBzdG9yZUR5bmFtaWNGaWx0ZXJzKCk7XG4gIGxldCB1cGRhdGUgPSBzdWJzY3JpcHRpb24udXBkYXRlRmlsdGVyVGV4dChmaWx0ZXJUZXh0KTtcbiAgZmlsdGVyTm90aWZpZXIuZW1pdChcbiAgICBcInN1YnNjcmlwdGlvbi51cGRhdGVkXCIsXG4gICAgc3Vic2NyaXB0aW9uLFxuICAgIHVwZGF0ZVxuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2RuckRpZmZTdWJzY3JpcHRpb25VcGRhdGUoXG4gIHN1YnNjcmlwdGlvbiwgdXBkYXRlcywgc2tpcEVtaXR0aW5nKSB7XG4gIGlmICghYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QgfHwgIXVwZGF0ZXMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdHJhY2Uoe3N1YnNjcmlwdGlvbiwgdXBkYXRlc30pO1xuXG4gIC8vIEZvciBub3cgd2Ugb25seSB3YW50IHRvIGhhbmRsZSBzdWJzY3JpcHRpb25zIHRoYXQgYXJlIGluIHRoZVxuICAvLyByZWNvbW1lbmRhdGlvbnMuXG4gIGlmICghc3Vic2NyaXB0aW9uLnR5cGUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBEZXRlcm1pbmUgaWYgd2UgbmVlZCB0byB1cGRhdGUgc3RhdGljIHJ1bGVzLlxuICBsZXQgbmVlZFVwZGF0ZVN0YXRpY1J1bGVzID0gIXN1YnNjcmlwdGlvbi5kb3dubG9hZGFibGU7XG5cbiAgbGV0IHthZGRlZCwgcmVtb3ZlZH0gPSB1cGRhdGVzO1xuXG4gIC8vIFdpdGggc29tZSBwYXRoIG9mIGNvZGUgdGhlIGZpbHRlciBlbmdpbmUgbWlnaHQgbm90IGJlIGluaXRpYWxpemVkXG4gIC8vIGlmIHRoZSBzZXJ2aWNlIHdvcmtlciBnb3QgYXdha2VuLlxuICBhd2FpdCBpbml0aWFsaXplci5zdGFydCgpO1xuXG4gIGxldCByb2xsYmFja0NhbGxiYWNrID0gbnVsbDtcbiAgbGV0IGZpbHRlclRleHRUb1J1bGVJZHNNYXBwZXIgPSBudWxsOyAvLyB0byBzdGF0aWMgcnVsZXMgaWRzXG5cbiAgLy8gVGhlIGFscmVhZHkgZGlzYWJsZWQgc3RhdGljIHJ1bGVzIGlkcy5cbiAgbGV0IGRpc2FibGVkU3RhdGljUnVsZXNJZHMgPSBudWxsO1xuXG4gIC8vIFRoaXMgd2lsbCBjb250YWluIHRoZSB0ZXh0IG9mIGFsbCB0aGUgZHluYW1pYyBmaWx0ZXJzIGZvciB0aGUgc3Vic2NyaXB0aW9uXG4gIC8vIGFuZCBpdCB3aWxsIGJlIHVwZGF0ZWQgdG8gcmVtb3ZlIHRob3NlIHRoYXQgYXJlIHN0aWxsIGhlcmUuXG4gIGxldCBrbm93bkR5bmFtaWNGaWx0ZXJzID0gbmV3IFNldCgpO1xuXG4gIGlmIChuZWVkVXBkYXRlU3RhdGljUnVsZXMpIHtcbiAgICBmaWx0ZXJUZXh0VG9SdWxlSWRzTWFwcGVyID0gbmV3IERuck1hcHBlcihcbiAgICAgIGFzeW5jKCkgPT4gYXdhaXQgZ2V0U3Vic2NyaXB0aW9uUnVsZXNldE1hcChzdWJzY3JpcHRpb24uaWQpXG4gICAgKTtcbiAgICBkaXNhYmxlZFN0YXRpY1J1bGVzSWRzID1cbiAgICAgIGF3YWl0IGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0LmdldERpc2FibGVkUnVsZUlkcyh7XG4gICAgICAgIHJ1bGVzZXRJZDogc3Vic2NyaXB0aW9uLmlkXG4gICAgICB9KTtcblxuICAgIGVuc3VyZVJ1bGVzZXRVcGRhdGVzTG9hZGVkKCk7XG5cbiAgICBsZXQgbGFzdFVwZGF0ZSA9IGxhc3REaWZmVXBkYXRlcy5nZXQoc3Vic2NyaXB0aW9uLmlkKTtcblxuICAgIC8vIEFsbCB0aGUgZHluYW1pYyBmaWx0ZXJzIGZvciB0aGlzIHN1YnNjcmlwdGlvbiBtdXN0IGJlIHJlbW92ZWQuXG4gICAga25vd25EeW5hbWljRmlsdGVycyA9IGZpbmREeW5hbWljRmlsdGVycyhzdWJzY3JpcHRpb24uaWQpO1xuXG4gICAgcm9sbGJhY2tDYWxsYmFjayA9IGFzeW5jKCkgPT4ge1xuICAgICAgaWYgKCFsYXN0VXBkYXRlKSB7XG4gICAgICAgIGxhc3RVcGRhdGUgPSB7YWRkZWQ6IFtdLCByZW1vdmVkOiBbXX07XG4gICAgICB9XG4gICAgICBhd2FpdCBfZG5yRGlmZlN1YnNjcmlwdGlvblVwZGF0ZShzdWJzY3JpcHRpb24sIGxhc3RVcGRhdGUpO1xuICAgIH07XG4gIH1cblxuICBsZXQgZmlsdGVycyA9IGF3YWl0IHByb2Nlc3NGaWx0ZXJUZXh0cyhcbiAgICBhZGRlZCwgc3Vic2NyaXB0aW9uLmlkLCBmaWx0ZXJUZXh0VG9SdWxlSWRzTWFwcGVyKTtcbiAgaWYgKGtub3duRHluYW1pY0ZpbHRlcnMuc2l6ZSAhPSAwKSB7XG4gICAgZmlsdGVycy5yZWxhdGVUb1RoaXNTdWJzY3JpcHRpb24uZm9yRWFjaChcbiAgICAgIHRleHQgPT4ga25vd25EeW5hbWljRmlsdGVycy5kZWxldGUodGV4dCkpO1xuICB9XG5cbiAgLy8gQWRkaW5nIHN1YnNjcmlwdGlvbi5pZCBpbnRvIGV4aXN0aW5nIGZpbHRlclxuICBmb3IgKGxldCB0ZXh0IG9mIGZpbHRlcnMucmVsYXRlVG9PdGhlclN1YnNjcmlwdGlvbnMpIHtcbiAgICBsZXQgZmlsdGVyID0gZHluYW1pY0ZpbHRlcnMuZ2V0KHRleHQpO1xuICAgIGtub3duRHluYW1pY0ZpbHRlcnMuZGVsZXRlKHRleHQpO1xuICAgIGZpbHRlci5zdWJzY3JpcHRpb25JZHMucHVzaChzdWJzY3JpcHRpb24uaWQpO1xuICB9XG5cbiAgLy8gQSB1bmlvbiBvZiB3aGF0IGlzIGV4cGxpY2l0bHkgbGlzdGVkIGluIGByZW1vdmVkYFxuICAvLyBhbmQgZHluYW1pYyBmaWx0ZXJzIHRoYXQgd2UgaGFkIGZvciB0aGlzIHN1YnNjcmlwdGlvbiBwcmV2aW91c2x5XG4gIC8vIGFuZCBub3QgbGlzdGVkIGluIGBhZGRlZGAgYW55bW9yZVxuICBsZXQgZHluYW1pY0ZpbHRlcnNUb1JlbW92ZSA9IHJlbW92ZWQuY29uY2F0KC4uLmtub3duRHluYW1pY0ZpbHRlcnMua2V5cygpKTtcblxuICAvLyBSZW1vdmluZyBzdWJzY3JpcHRpb24uaWQgZnJvbSBleGlzdGluZyBmaWx0ZXJzIHRoYXQgYXJlIHJlbW92ZWQuXG4gIGxldCB7cmVtb3ZlZER5bmFtaWNGaWx0ZXJzLCByZW1vdmVSdWxlSWRzfSA9XG4gICAgICByZW1vdmVEeW5hbWljRmlsdGVycyhzdWJzY3JpcHRpb24uaWQsIGR5bmFtaWNGaWx0ZXJzVG9SZW1vdmUpO1xuXG4gIGlmIChmaWx0ZXJzLmFkZC5sZW5ndGggLSByZW1vdmVSdWxlSWRzLmxlbmd0aCA+XG4gICAgICBhd2FpdCBkeW5hbWljUnVsZXNBdmFpbGFibGUoKSkge1xuICAgIGlmIChyb2xsYmFja0NhbGxiYWNrKSB7XG4gICAgICBhd2FpdCByb2xsYmFja0NhbGxiYWNrKCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBGaWx0ZXJFcnJvcihFUlJPUl9UT09fTUFOWV9GSUxURVJTKTtcbiAgfVxuXG4gIC8vIEVtcHR5IGFycmF5IGNhdXNlIGV4Y2VwdGlvbnMuIE1ha2UgaXQgYHVuZGVmaW5lZGAuXG4gIGlmIChyZW1vdmVSdWxlSWRzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmVtb3ZlUnVsZUlkcyA9IHZvaWQgMDtcbiAgfVxuXG4gIC8vIGBza2lwRW1pdHRpbmdgIHNpZ25hbHMgdGhhdCdzIHRoZSByZXN0b3Jpbmcgb2YgZHluYW1pYyBmaWx0ZXJzLFxuICAvLyBzbyB0aGUgc3Vic2NyaXB0aW9uIGlzIGFib3V0IHRvIGJlIGVuYWJsZWQuXG4gIGxldCBzdWJzY3JpcHRpb25BY3RpdmUgPSBza2lwRW1pdHRpbmcgfHxcbiAgICAoKGF3YWl0IHN1YnNjcmlwdGlvbnMuaGFzKHN1YnNjcmlwdGlvbi51cmwpKSAmJiAhc3Vic2NyaXB0aW9uLmRpc2FibGVkKTtcbiAgYXdhaXQgYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QudXBkYXRlRHluYW1pY1J1bGVzKFxuICAgIHthZGRSdWxlczogc3Vic2NyaXB0aW9uQWN0aXZlID8gZmlsdGVycy5hZGQgOiB2b2lkIDAsIHJlbW92ZVJ1bGVJZHN9XG4gICk7XG5cbiAgcmVtb3ZlZER5bmFtaWNGaWx0ZXJzLmZvckVhY2godGV4dCA9PiBkeW5hbWljRmlsdGVycy5kZWxldGUodGV4dCkpO1xuXG4gIGlmIChzdWJzY3JpcHRpb25BY3RpdmUpIHtcbiAgICBmaWx0ZXJzLmRldGFpbHMuZm9yRWFjaChkZXRhaWxzID0+IHtcbiAgICAgIGxldCB7dXNlRmlsdGVyRW5naW5lLCBmaWx0ZXIsIHJ1bGVJZHMsIGVuYWJsZWR9ID0gZGV0YWlscztcblxuICAgICAgc2V0SGlnaGVzdFJ1bGVJZChydWxlSWRzKTtcbiAgICAgIGR5bmFtaWNGaWx0ZXJzLnNldChmaWx0ZXIudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICB7cnVsZUlkcywgdXNlRmlsdGVyRW5naW5lLCBlbmFibGVkLCBtZXRhZGF0YToge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbklkczogW3N1YnNjcmlwdGlvbi5pZF19KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChuZWVkVXBkYXRlU3RhdGljUnVsZXMpIHtcbiAgICBpZiAocmVtb3ZlZC5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCBmaWx0ZXJUZXh0VG9SdWxlSWRzTWFwcGVyLmxvYWQoKTtcbiAgICB9XG5cbiAgICBsZXQgZGlzYWJsZVJ1bGVJZHMgPSByZW1vdmVkLmZsYXRNYXAodGV4dCA9PiB7XG4gICAgICBsZXQgaWRzID0gZmlsdGVyVGV4dFRvUnVsZUlkc01hcHBlci5nZXQodGV4dCk7XG4gICAgICByZXR1cm4gaWRzID8gaWRzIDogW107XG4gICAgfSk7XG4gICAgLy8gRW1wdHkgYXJyYXkgY2F1c2UgZXhjZXB0aW9ucy4gTWFrZSBpdCBgdW5kZWZpbmVkYC5cbiAgICBpZiAoZGlzYWJsZVJ1bGVJZHMubGVuZ3RoID09IDApIHtcbiAgICAgIGRpc2FibGVSdWxlSWRzID0gdm9pZCAwO1xuICAgIH1cblxuICAgIGxldCBlbmFibGVSdWxlSWRzID0gWy4uLmZpbHRlcnMuc3RhdGljUnVsZXNUb0VuYWJsZV07XG4gICAgLy8gUmVlbmFibGUgdGhlIGRpc2FibGVkIHJ1bGVzIHRvIHJlc2V0IHRoZSBzdGF0ZTpcbiAgICAvLyBgYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QudXBkYXRlU3RhdGljUnVsZXNgIHdpbGwgaGFuZGxlIHRoaXNcbiAgICAvLyBwcm9wZXJseS5cbiAgICBlbmFibGVSdWxlSWRzLnB1c2goLi4uZGlzYWJsZWRTdGF0aWNSdWxlc0lkcyk7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QudXBkYXRlU3RhdGljUnVsZXMoe1xuICAgICAgICBydWxlc2V0SWQ6IHN1YnNjcmlwdGlvbi5pZCxcbiAgICAgICAgZGlzYWJsZVJ1bGVJZHMsXG4gICAgICAgIGVuYWJsZVJ1bGVJZHNcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgaWYgKGUubWVzc2FnZSA9PSBFUlJPUl9ESVNBQkxFRF9SVUxFX0xJTUlUX1JFQUNIRUQpIHtcbiAgICAgICAgLy8gVGhpcyBjaGVjayBpcyBiYXNlZCBvbiB0aGUgZXJyb3IgbWVzc2FnZSBiZWNhdXNlIHRoZXJlIGRvZXNuJ3RcbiAgICAgICAgLy8gY3VycmVudGx5IHNlZW0gdG8gYmUgYW5vdGhlciBhcHByb3ByaWF0ZSBmaWVsZCBpdCBpZGVudGlmeSB0aGlzIGNhc2UuXG4gICAgICAgIGlmIChyb2xsYmFja0NhbGxiYWNrKSB7XG4gICAgICAgICAgYXdhaXQgcm9sbGJhY2tDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBGaWx0ZXJFcnJvcihFUlJPUl9UT09fTUFOWV9GSUxURVJTKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgbGV0IHN0b3JhZ2VVcGRhdGUgPSBhd2FpdCBhcHBseUZpbHRlclRleHRVcGRhdGUoc3Vic2NyaXB0aW9uLCB1cGRhdGVzKTtcblxuICBsYXN0RGlmZlVwZGF0ZXMuc2V0KHN1YnNjcmlwdGlvbi5pZCwgdXBkYXRlcyk7XG4gIHN0b3JlUnVsZXNldFVwZGF0ZXMoKTtcbiAgc3RvcmVEeW5hbWljRmlsdGVycygpO1xuXG4gIGlmICghc2tpcEVtaXR0aW5nKSB7XG4gICAgLy8gYGRuckRpZmZTdWJzY3JpcHRpb25VcGRhdGUoKWAgaXMgY3VycmVudGx5IHVzZWQgZm9yIHNvbWUgaW50ZXJuYWxcbiAgICAvLyByb3V0aW5lcywgZWcuIHJlc3RvcmluZyB0aGUgZHluYW1pYyBydWxlcyBmb3IgdGhlIHN1YnNjcmlwdGlvbixcbiAgICAvLyB3aGljaCBkb2VzIG5vdCBtZWFuIHRoZXJlIHdhcyBhIHN1YnNjcmlwdGlvbiB1cGRhdGUgYWN0dWFsbHkgKEVFLTE2MyksXG4gICAgLy8gc28gd2UgbWlnaHQgc2tpcCBlbWl0dGluZyB0aGUgZXZlbnQuXG4gICAgZmlsdGVyTm90aWZpZXIuZW1pdChcInN1YnNjcmlwdGlvbi51cGRhdGVkXCIsIHN1YnNjcmlwdGlvbiwgc3RvcmFnZVVwZGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBcHBseSB0aGUgZmlsdGVyIHRleHQgdXBkYXRlIHRvIHRoZSBzdWJzY3JpcHRpb24uXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHN1YnNjcmlwdGlvbiBUaGUgc3Vic2NyaXB0aW9uIHRvIGFwcGx5IHRoZSB1cGRhdGUgdG9cbiAqIEBwYXJhbSB7RmlsdGVyRGlmZnN9IHVwZGF0ZXMgVGhlIHVwZGF0ZSB0byBhcHBseS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwcGx5RmlsdGVyVGV4dFVwZGF0ZShzdWJzY3JpcHRpb24sIHVwZGF0ZXMpIHtcbiAgZW5zdXJlUnVsZXNldFVwZGF0ZXNMb2FkZWQoKTtcblxuICAvLyBhcHBseSB0aGUgdXBkYXRlIHRvIHRoZSBzdG9yYWdlXG4gIGxldCBiYXNlID0gbGFzdERpZmZVcGRhdGVzLmdldChzdWJzY3JpcHRpb24uaWQpO1xuICBsZXQgc3RvcmFnZVVwZGF0ZTtcbiAgaWYgKGJhc2UpIHtcbiAgICBzdG9yYWdlVXBkYXRlID0gZmlsdGVyc1VwZGF0ZURpZmYoYmFzZSwgdXBkYXRlcyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgc3RvcmFnZVVwZGF0ZSA9IHtcbiAgICAgIGFkZGVkOiB1cGRhdGVzLmFkZGVkLFxuICAgICAgcmVtb3ZlZDogdXBkYXRlcy5yZW1vdmVkXG4gICAgfTtcbiAgfVxuXG4gIGZvciAobGV0IHRleHQgb2Ygc3RvcmFnZVVwZGF0ZS5yZW1vdmVkKSB7XG4gICAgbGV0IGluZGV4ID0gc3Vic2NyaXB0aW9uLmZpbmRGaWx0ZXJUZXh0SW5kZXgodGV4dCk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHN1YnNjcmlwdGlvbi5kZWxldGVGaWx0ZXJBdChpbmRleCk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgdGV4dCBvZiBzdG9yYWdlVXBkYXRlLmFkZGVkKSB7XG4gICAgc3Vic2NyaXB0aW9uLmFkZEZpbHRlclRleHQodGV4dCk7XG4gIH1cblxuICBhd2FpdCBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5zYXZlVG9EaXNrKCk7XG4gIHJldHVybiBzdG9yYWdlVXBkYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVGaWx0ZXIoZmlsdGVyKSB7XG4gIGlmIChmaWx0ZXIgaW5zdGFuY2VvZiBJbnZhbGlkRmlsdGVyKSB7XG4gICAgcmV0dXJuIG5ldyBGaWx0ZXJFcnJvcihcImludmFsaWRfZmlsdGVyXCIsIGZpbHRlci5yZWFzb24sIGZpbHRlci5vcHRpb24pO1xuICB9XG5cbiAgaWYgKGlzQWN0aXZlRmlsdGVyKGZpbHRlcikgJiYgZmlsdGVyLmRvbWFpbnMpIHtcbiAgICBmb3IgKGxldCBkb21haW4gb2YgZmlsdGVyLmRvbWFpbnMua2V5cygpKSB7XG4gICAgICBpZiAoZG9tYWluICYmICFpc1ZhbGlkSG9zdG5hbWUoZG9tYWluKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZpbHRlckVycm9yKFwiaW52YWxpZF9kb21haW5cIiwgZG9tYWluKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZUFsbER5bmFtaWNGaWx0ZXJzKCkge1xuICBpZiAoIWJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZHluYW1pY0ZpbHRlcnMgPSBuZXcgTWFwKCk7XG4gIFByZWZzLmR5bmFtaWNfZmlsdGVycyA9IFtdO1xuXG4gIGxldCBydWxlcyA9IGF3YWl0IGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0LmdldER5bmFtaWNSdWxlcygpO1xuICBpZiAocnVsZXMubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBhd2FpdCBicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdC51cGRhdGVEeW5hbWljUnVsZXMoe1xuICAgIHJlbW92ZVJ1bGVJZHM6IHJ1bGVzLm1hcChyID0+IHIuaWQpXG4gIH0pO1xuXG4gIHJldHVybiBydWxlcztcbn1cblxuZnVuY3Rpb24gc2V0SGlnaGVzdFJ1bGVJZChydWxlSWRzKSB7XG4gIGlmICghcnVsZUlkcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvciAobGV0IGlkIG9mIHJ1bGVJZHMpIHtcbiAgICBpZiAoaGlnaGVzdFJ1bGVJZCA8IGlkKSB7XG4gICAgICBoaWdoZXN0UnVsZUlkID0gaWQ7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3JlRHluYW1pY0ZpbHRlcnMoKSB7XG4gIGxldCBzdG9yYWdlQXJyYXkgPSBbXTtcbiAgc3RvcmFnZUFycmF5LnB1c2goLi4uZHluYW1pY0ZpbHRlcnMpO1xuICBQcmVmcy5keW5hbWljX2ZpbHRlcnMgPSBzdG9yYWdlQXJyYXk7XG59XG5cbmZ1bmN0aW9uIHN0b3JlUnVsZXNldFVwZGF0ZXMoKSB7XG4gIGxldCBzdG9yYWdlQXJyYXkgPSBbXTtcbiAgc3RvcmFnZUFycmF5LnB1c2goLi4ubGFzdERpZmZVcGRhdGVzKTtcbiAgUHJlZnMucnVsZXNldF91cGRhdGVzID0gc3RvcmFnZUFycmF5O1xufVxuXG5mdW5jdGlvbiBlbnN1cmVSdWxlc2V0VXBkYXRlc0xvYWRlZCgpIHtcbiAgaWYgKCFsYXN0RGlmZlVwZGF0ZXMpIHtcbiAgICBsb2FkUnVsZXNldFVwZGF0ZXMoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBsb2FkUnVsZXNldFVwZGF0ZXMoKSB7XG4gIGxldCBydWxlc2V0VXBkYXRlc0FycmF5ID0gUHJlZnMucnVsZXNldF91cGRhdGVzO1xuICBpZiAoIUFycmF5LmlzQXJyYXkocnVsZXNldFVwZGF0ZXNBcnJheSkpIHtcbiAgICBydWxlc2V0VXBkYXRlc0FycmF5ID0gW107XG4gIH1cblxuICBsYXN0RGlmZlVwZGF0ZXMgPSBuZXcgTWFwKHJ1bGVzZXRVcGRhdGVzQXJyYXkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJSdWxlc2V0VXBkYXRlcygpIHtcbiAgZW5zdXJlUnVsZXNldFVwZGF0ZXNMb2FkZWQoKTtcbiAgbGFzdERpZmZVcGRhdGVzLmNsZWFyKCk7XG4gIFByZWZzLnJ1bGVzZXRfdXBkYXRlcyA9IFtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcbiAgaWYgKCFpbml0aWFsaXphdGlvblByb21pc2UpIHtcbiAgICBpbml0aWFsaXphdGlvblByb21pc2UgPSAoYXN5bmMoKSA9PiB7XG4gICAgICBpZiAoIWJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IGR5bmFtaWNGaWx0ZXJBcnJheSA9IFByZWZzLmR5bmFtaWNfZmlsdGVycztcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGR5bmFtaWNGaWx0ZXJBcnJheSkgJiZcbiAgICAgICAgICBkeW5hbWljRmlsdGVyQXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICBkeW5hbWljRmlsdGVycyA9IG5ldyBNYXAoZHluYW1pY0ZpbHRlckFycmF5KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBETlIgcnVsZXMgcGVyc2lzdCBhZnRlciB0aGUgZXh0ZW5zaW9uIGlzIHVuaW5zdGFsbGVkLiBUaGUgc2FtZSBjYW5ub3RcbiAgICAgICAgLy8gYmUgc2FpZCBmb3Igc3RvcmFnZS4gVG8gYmUgc2FmZSwgaWYgd2UgaGF2ZSBubyByZWNvcmQgb2YgZHluYW1pY1xuICAgICAgICAvLyBmaWx0ZXJzIGxldCdzIGNsZWFyIGFueSBETlIgcnVsZXMgdG9vLlxuICAgICAgICBhd2FpdCByZW1vdmVBbGxEeW5hbWljRmlsdGVycygpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCB7cnVsZUlkc30gb2YgZHluYW1pY0ZpbHRlcnMudmFsdWVzKCkpIHtcbiAgICAgICAgc2V0SGlnaGVzdFJ1bGVJZChydWxlSWRzKTtcbiAgICAgIH1cblxuICAgICAgZmlsdGVyTm90aWZpZXIub24oXCJzdWJzY3JpcHRpb24uZGlmZlJlY2VpdmVkXCIsIGRuckRpZmZTdWJzY3JpcHRpb25VcGRhdGUpO1xuICAgICAgZmlsdGVyTm90aWZpZXIub24oXCJzdWJzY3JpcHRpb24uZnVsbFVwZGF0ZVJlY2VpdmVkXCIsIGRuckZ1bGxTdWJzY3JpcHRpb25VcGRhdGUpO1xuICAgIH0pKCk7XG4gIH1cblxuICByZXR1cm4gaW5pdGlhbGl6YXRpb25Qcm9taXNlO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRSdWxlcyhmaWx0ZXIpIHtcbiAgbGV0IHJ1bGVJZHMgPSBbXTtcbiAgbGV0IGZpbHRlclJ1bGVzID0gW107XG5cbiAgLy8gXCJzaXRla2V5XCIgb3B0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gRE5SXG4gIGlmIChmaWx0ZXIgaW5zdGFuY2VvZiBVUkxGaWx0ZXIgJiYgIWZpbHRlci5zaXRla2V5cykge1xuICAgIGxldCByZXN1bHQgPSBhd2FpdCBnZXRSdWxlc0Zyb21GaWx0ZXIoZmlsdGVyLnRleHQpO1xuICAgIGlmIChyZXN1bHQubmFtZSA9PSBcIkVycm9yXCIpIHtcbiAgICAgIGxldCB7b3B0aW9ufSA9IHJlc3VsdC5kZXRhaWw7XG4gICAgICB0aHJvdyBuZXcgRmlsdGVyRXJyb3IocmVzdWx0Lm1lc3NhZ2UsIHJlc3VsdC5kZXRhaWwudGV4dCwgb3B0aW9uKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBydWxlIG9mIHJlc3VsdCkge1xuICAgICAgbGV0IGlkID0gKytoaWdoZXN0UnVsZUlkO1xuICAgICAgcnVsZS5pZCA9IGlkO1xuICAgICAgcnVsZUlkcy5wdXNoKGlkKTtcbiAgICAgIGZpbHRlclJ1bGVzLnB1c2gocnVsZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtmaWx0ZXJSdWxlcywgcnVsZUlkc307XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRmlsdGVyRGV0YWlsc1xuICogQHByb3BlcnR5IHtGaWx0ZXJ9IGZpbHRlciBUaGUgZmlsdGVyIG9iamVjdFxuICogQHByb3BlcnR5IHtBcnJheS48bnVtYmVyPn0gcnVsZUlkcyBUaGUgcnVsZSBpZHMgZm9yIHRoZSBmaWx0ZXIgaW5cbiAqICAgdGhlIGR5bmFtaWMgcnVsZXNldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZW5hYmxlZCBXaGV0aGVyIHRoZSBmaWx0ZXIgaXMgZW5hYmxlZCBvclxuICogICBkaXNhYmxlZC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9jZXNzZWRGaWx0ZXJzXG4gKiBAcHJvcGVydHkge0FycmF5LjxPYmplY3Q+fSBhZGQgUnVsZXMgdG8gYWRkIHRvIHRoZSBkeW5hbWljIHJ1bGVzZXRcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEVycm9yPn0gaW52YWxpZCBJbnZhbGlkIGZpbHRlcnNcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPHN0cmluZz59IHJlbGF0ZVRvVGhpc1N1YnNjcmlwdGlvbiBGaWx0ZXJzIHRoYXQgZXhpc3RzLlxuICogQHByb3BlcnR5IHtBcnJheS48c3RyaW5nPn0gcmVsYXRlVG9PdGhlclN1YnNjcmlwdGlvbnMgRmlsdGVycyB0aGF0XG4gKiAgIGV4aXN0IG9uIG90aGVyIHN1YnNjcmlwdGlvbnMuXG4gKiBAcHJvcGVydHkge0FycmF5LjxudW1iZXI+fSBzdGF0aWNSdWxlc1RvRW5hYmxlIFN0YXRpYyBydWxlcyB0byBlbmFibGUuXG4gKiBAcHJvcGVydHkge0FycmF5LjxGaWx0ZXJEZXRhaWxzPn0gZGV0YWlscyBEZXRhaWxzIG9mIHRoZSBmaWx0ZXJzLlxuICovXG4vKipcbiAqIFByb2Nlc3MgdGhlIGZpbHRlciB0ZXh0cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSB0ZXh0cyBUaGUgYXJyYXkgb2YgZmlsdGVyIHRleHRzLlxuICogQHBhcmFtIHs/c3RyaW5nfSBzdWJzY3JpcHRpb25JZCBUaGUgb3B0aW9uYWwgc3Vic2NyaXB0aW9uIElELlxuICogQHBhcmFtIHs/bWFwcGVyfSBtYXBwZXIgVGhlIEROUiBtYXBwZXIgZm9yIHRoZSBzdWJzY3JpcHRpb24uIElmIG51bGwgdGhlblxuICogICB0aGlzIGRvZXNuJ3QgY2hlY2sgZm9yIHN0YXRpYyBydWxlcyB0byBlbmFibGUgb3IgZGlzYWJsZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxQcm9jZXNzZWRGaWx0ZXJzPn0gVGhlIHByb2Nlc3NlZCBmaWx0ZXJzLlxuICovXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzRmlsdGVyVGV4dHModGV4dHMsIHN1YnNjcmlwdGlvbklkID0gbnVsbCwgbWFwcGVyID0gbnVsbCkge1xuICBsZXQgZGV0YWlscyA9IFtdO1xuICBsZXQgYWRkID0gW107XG4gIGxldCBpbnZhbGlkID0gW107XG5cbiAgLy8ga25vd24gZmlsdGVyIHRleHRzIHRoYXQgcmVsYXRlIHRvIHRoaXMgc3Vic2NyaXB0aW9uXG4gIGxldCByZWxhdGVUb1RoaXNTdWJzY3JpcHRpb24gPSBbXTtcblxuICAvLyBrbm93biBmaWx0ZXIgdGV4dHMgdGhhdCByZWxhdGUgdG8gb3RoZXIgc3Vic2NyaXB0aW9uc1xuICBsZXQgcmVsYXRlVG9PdGhlclN1YnNjcmlwdGlvbnMgPSBbXTtcblxuICBsZXQgc3RhdGljUnVsZXNUb0VuYWJsZSA9IFtdO1xuICBsZXQgcHJvY2Vzc2VkRmlsdGVyVGV4dHMgPSBuZXcgU2V0KCk7XG5cbiAgdGV4dHMgPSB0ZXh0cy5tYXAodGV4dCA9PiBGaWx0ZXIubm9ybWFsaXplKHRleHQpKTtcbiAgZm9yIChsZXQgdGV4dCBvZiB0ZXh0cykge1xuICAgIC8vIHNraXAgcHJvY2Vzc2luZyBwb3NzaWJsZSBmaWx0ZXIgdGV4dCBkdXBsaWNhdGVzXG4gICAgaWYgKHByb2Nlc3NlZEZpbHRlclRleHRzLmhhcyh0ZXh0KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgbGV0IGZpbHRlckRldGFpbHMgPSBkeW5hbWljRmlsdGVycy5nZXQodGV4dCk7XG4gICAgbGV0IGZpbHRlcklzS25vd24gPSAoZmlsdGVyRGV0YWlscyAhPSBudWxsKTtcbiAgICBpZiAoZmlsdGVyRGV0YWlscykge1xuICAgICAgbGV0IHN1YnNjcmlwdGlvbklkcyA9IGZpbHRlckRldGFpbHMuc3Vic2NyaXB0aW9uSWRzIHx8IFtudWxsXTtcbiAgICAgIGlmIChzdWJzY3JpcHRpb25JZHMuaW5jbHVkZXMoc3Vic2NyaXB0aW9uSWQpKSB7XG4gICAgICAgIHJlbGF0ZVRvVGhpc1N1YnNjcmlwdGlvbi5wdXNoKHRleHQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlbGF0ZVRvT3RoZXJTdWJzY3JpcHRpb25zLnB1c2godGV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1hcHBlcikge1xuICAgICAgYXdhaXQgbWFwcGVyLmxvYWQoKTtcbiAgICAgIGxldCBzdGF0aWNSdWxlSWRzID0gbWFwcGVyLmdldCh0ZXh0KTtcbiAgICAgIGlmIChzdGF0aWNSdWxlSWRzKSB7XG4gICAgICAgIHN0YXRpY1J1bGVzVG9FbmFibGUucHVzaCguLi5zdGF0aWNSdWxlSWRzKTtcbiAgICAgICAgZmlsdGVySXNLbm93biA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZpbHRlcklzS25vd24pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGxldCBmaWx0ZXIgPSBGaWx0ZXIuZnJvbVRleHQodGV4dCk7XG4gICAgbGV0IGZpbHRlckVycm9yID0gdmFsaWRhdGVGaWx0ZXIoZmlsdGVyKTtcbiAgICBpZiAoZmlsdGVyRXJyb3IpIHtcbiAgICAgIGludmFsaWQucHVzaChmaWx0ZXJFcnJvcik7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoIWZpbHRlckVuZ2luZS5maWx0ZXJTdG9yYWdlLmZpbHRlclN0YXRlLmlzRW5hYmxlZCh0ZXh0KSkge1xuICAgICAgZGV0YWlscy5wdXNoKHtmaWx0ZXIsIHJ1bGVJZHM6IFtdLCBlbmFibGVkOiBmYWxzZX0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCB7ZmlsdGVyUnVsZXMsIHJ1bGVJZHN9ID0gYXdhaXQgZ2V0UnVsZXMoZmlsdGVyKTtcbiAgICAgICAgaWYgKGZpbHRlclJ1bGVzKSB7XG4gICAgICAgICAgYWRkLnB1c2goLi4uZmlsdGVyUnVsZXMpO1xuICAgICAgICB9XG4gICAgICAgIGRldGFpbHMucHVzaCh7ZmlsdGVyLCBydWxlSWRzLCBlbmFibGVkOiB0cnVlfSk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBpbnZhbGlkLnB1c2goZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvY2Vzc2VkRmlsdGVyVGV4dHMuYWRkKHRleHQpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhZGQsXG4gICAgaW52YWxpZCxcbiAgICByZWxhdGVUb1RoaXNTdWJzY3JpcHRpb24sXG4gICAgcmVsYXRlVG9PdGhlclN1YnNjcmlwdGlvbnMsXG4gICAgc3RhdGljUnVsZXNUb0VuYWJsZSxcbiAgICBkZXRhaWxzXG4gIH07XG59XG5cbmNvbnN0IFJVTEVTX0xJTUlUX0tFWSA9IFwiRVdFOkR5bmFtaWNfUnVsZXNfTGltaXRcIjtcblxuLyoqXG4gKiBGb3IgdGVzdGluZyBwdXJwb3NlLCBzZXQgdGhlIGEgbWF4aW11bSBudW1iZXIgb2YgZHluYW1pY1xuICogcnVsZXMuIFRoaXMgdmFsdWUgaXMgdXNlZCBieSBgZHluYW1pY1J1bGVzQXZhaWxhYmxlKClgLlxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBUaGUgbWF4aW11bSBudW1iZXIgb2YgZHluYW1pYyBydWxlcy4gQSB2YWx1ZSBvZlxuICogICBgMGAganVzdCB1bnNldCBpdCBhbmQgdXNlcyB0aGUgXCJzeXN0ZW1cIiBkZWZhdWx0IHdoaWNoIGlzXG4gKiAgIGBicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdC5NQVhfTlVNQkVSX09GX0RZTkFNSUNfQU5EX1NFU1NJT05fUlVMRVNgXG4gKiAgIG9uIENocm9taXVtIDwgMTIxL0ZpcmVmb3ggb3JcbiAqICAgYGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0Lk1BWF9OVU1CRVJfT0ZfRFlOQU1JQ19SVUxFU2BcbiAqICAgb24gbW9yZSByZWNlbnQgdmVyc2lvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRlc3RTZXREeW5hbWljUnVsZXNBdmFpbGFibGUobnVtKSB7XG4gIGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5zZXNzaW9uLnNldCh7W1JVTEVTX0xJTUlUX0tFWV06IG51bX0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZHluYW1pY1J1bGVzQXZhaWxhYmxlKCkge1xuICBsZXQge2RlY2xhcmF0aXZlTmV0UmVxdWVzdH0gPSBicm93c2VyO1xuICBpZiAoIWRlY2xhcmF0aXZlTmV0UmVxdWVzdCkge1xuICAgIHJldHVybiBJbmZpbml0eTtcbiAgfVxuXG4gIGxldCBvdmVycmlkZGVuTWF4UnVsZXMgPSBhd2FpdCBicm93c2VyLnN0b3JhZ2Uuc2Vzc2lvbi5nZXQoUlVMRVNfTElNSVRfS0VZKTtcbiAgbGV0IG1heFJ1bGVzID0gb3ZlcnJpZGRlbk1heFJ1bGVzW1JVTEVTX0xJTUlUX0tFWV0gPiAwID9cbiAgICAgIG92ZXJyaWRkZW5NYXhSdWxlc1tSVUxFU19MSU1JVF9LRVldIDpcbiAgICAgIGlzRmlyZWZveCgpID9cbiAgICAgICAgZGVjbGFyYXRpdmVOZXRSZXF1ZXN0Lk1BWF9OVU1CRVJfT0ZfRFlOQU1JQ19BTkRfU0VTU0lPTl9SVUxFUyA6XG4gICAgICAgIGdldEJyb3dzZXJWZXJzaW9uKClbMF0gPCAxMjEgPyAvLyBDaHJvbWl1bSBvciBlZGdlOiBFRS0zMTVcbiAgICAgICAgICBkZWNsYXJhdGl2ZU5ldFJlcXVlc3QuTUFYX05VTUJFUl9PRl9EWU5BTUlDX0FORF9TRVNTSU9OX1JVTEVTIDpcbiAgICAgICAgICBkZWNsYXJhdGl2ZU5ldFJlcXVlc3QuTUFYX05VTUJFUl9PRl9EWU5BTUlDX1JVTEVTO1xuXG4gIGxldCB1c2VkID0gKGF3YWl0IGRlY2xhcmF0aXZlTmV0UmVxdWVzdC5nZXREeW5hbWljUnVsZXMoKSkubGVuZ3RoICtcbiAgICAgIChhd2FpdCBkZWNsYXJhdGl2ZU5ldFJlcXVlc3QuZ2V0U2Vzc2lvblJ1bGVzKCkpLmxlbmd0aDtcbiAgcmV0dXJuIG1heFJ1bGVzIC0gdXNlZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZEZpbHRlcnModGV4dHMsIG1ldGFkYXRhKSB7XG4gIGF3YWl0IGluaXQoKTtcbiAgbGV0IGZpbHRlcnMgPSBhd2FpdCBwcm9jZXNzRmlsdGVyVGV4dHModGV4dHMpO1xuICBpZiAoZmlsdGVycy5pbnZhbGlkLmxlbmd0aCA+IDApIHtcbiAgICB0aHJvdyBmaWx0ZXJzLmludmFsaWRbMF07XG4gIH1cblxuICBsZXQge2xlbmd0aH0gPSBmaWx0ZXJzLmFkZDtcbiAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAvLyBhbHdheXMgZmFsc2Ugd2hlbiAhYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3RcbiAgICBpZiAobGVuZ3RoID4gYXdhaXQgZHluYW1pY1J1bGVzQXZhaWxhYmxlKCkpIHtcbiAgICAgIHRocm93IG5ldyBGaWx0ZXJFcnJvcihFUlJPUl9UT09fTUFOWV9GSUxURVJTKTtcbiAgICB9XG5cbiAgICAvLyBzbyB0aGF0IHRoaXMgd291bGQgdGhyb3cgdGhlIHJpZ2h0IGVycm9yIGluIGNhc2VcbiAgICAvLyBicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdCBkb2Vzbid0IGV4aXN0IG9yIGlmXG4gICAgLy8gdGhlIEFQSSByZXR1cm5lZCBhIGRpZmZlcmVudCBlcnJvciBpbnN0ZWFkXG4gICAgYXdhaXQgYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QudXBkYXRlRHluYW1pY1J1bGVzKHtcbiAgICAgIGFkZFJ1bGVzOiBmaWx0ZXJzLmFkZFxuICAgIH0pO1xuICB9XG5cbiAgZm9yIChsZXQgdGV4dCBvZiBmaWx0ZXJzLnJlbGF0ZVRvT3RoZXJTdWJzY3JpcHRpb25zKSB7XG4gICAgbGV0IGZpbHRlciA9IGR5bmFtaWNGaWx0ZXJzLmdldCh0ZXh0KTtcbiAgICBpZiAoIWZpbHRlci5zdWJzY3JpcHRpb25JZHMpIHtcbiAgICAgIGZpbHRlci5zdWJzY3JpcHRpb25JZHMgPSBbXTtcbiAgICB9XG4gICAgZmlsdGVyLnN1YnNjcmlwdGlvbklkcy5wdXNoKG51bGwpO1xuICB9XG5cbiAgbGV0IHN1YnNjcmlwdGlvbjtcbiAgZm9yIChsZXQgZmlsdGVyRGV0YWlscyBvZiBmaWx0ZXJzLmRldGFpbHMpIHtcbiAgICBsZXQge2ZpbHRlciwgcnVsZUlkcywgZW5hYmxlZH0gPSBmaWx0ZXJEZXRhaWxzO1xuICAgIHN1YnNjcmlwdGlvbiA9IGF3YWl0IGZpbHRlckVuZ2luZS5maWx0ZXJTdG9yYWdlXG4gICAgICAuYWRkRmlsdGVyKGZpbHRlciwgc3Vic2NyaXB0aW9uKTtcblxuICAgIHNldEhpZ2hlc3RSdWxlSWQocnVsZUlkcyk7XG4gICAgZHluYW1pY0ZpbHRlcnMuc2V0KGZpbHRlci50ZXh0LCB7cnVsZUlkcywgZW5hYmxlZCwgbWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uSWRzOiBbbnVsbF19KTtcbiAgfVxuXG4gIHN0b3JlRHluYW1pY0ZpbHRlcnMoKTtcblxuICByZXR1cm4ge1xuICAgIGFkZGVkOiBmaWx0ZXJzLmRldGFpbHMubWFwKGRldGFpbCA9PiBkZXRhaWwuZmlsdGVyLnRleHQpXG4gICAgICAuY29uY2F0KGZpbHRlcnMucmVsYXRlVG9PdGhlclN1YnNjcmlwdGlvbnMpLFxuICAgIGV4aXN0czogZmlsdGVycy5yZWxhdGVUb1RoaXNTdWJzY3JpcHRpb25cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1ldGFkYXRhRm9yRmlsdGVyKHRleHQsIG1ldGFkYXRhKSB7XG4gIGxldCBkZXRhaWxzID0gZHluYW1pY0ZpbHRlcnMuZ2V0KHRleHQpO1xuICBpZiAoIWRldGFpbHMpIHtcbiAgICB0aHJvdyBuZXcgRmlsdGVyRXJyb3IoRVJST1JfRklMVEVSX05PVF9GT1VORCk7XG4gIH1cblxuICBsZXQgb2xkTWV0YWRhdGEgPSBkZXRhaWxzLm1ldGFkYXRhO1xuICBkZXRhaWxzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gIG9uQ2hhbmdlZEZpbHRlci5lbWl0KHsuLi5GaWx0ZXIuZnJvbVRleHQodGV4dCksIG1ldGFkYXRhLCBvbGRNZXRhZGF0YX0sXG4gICAgICAgICAgICAgICAgICAgICAgIFwibWV0YWRhdGFcIik7XG5cbiAgc3RvcmVEeW5hbWljRmlsdGVycygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWV0YWRhdGFGb3JGaWx0ZXIodGV4dCkge1xuICBsZXQgZGV0YWlscyA9IGR5bmFtaWNGaWx0ZXJzLmdldCh0ZXh0KTtcbiAgaWYgKCFkZXRhaWxzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZXQgbWV0YWRhdGEgPSBkZXRhaWxzLm1ldGFkYXRhO1xuICByZXR1cm4gKHR5cGVvZiBtZXRhZGF0YSAhPSBcInVuZGVmaW5lZFwiKSA/IG1ldGFkYXRhIDogbnVsbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZU9yRGlzYWJsZUZpbHRlcnMoZmlsdGVyVGV4dHMsIHJlbW92ZSA9IHRydWUpIHtcbiAgYXdhaXQgaW5pdCgpO1xuXG4gIGxldCB7ZHluYW1pY0ZpbHRlclRleHRzfSA9IHNwbGl0RmlsdGVyVGV4dHMoZmlsdGVyVGV4dHMpO1xuXG4gIGF3YWl0IHJlbW92ZU9yRGlzYWJsZUR5bmFtaWNGaWx0ZXJzKGR5bmFtaWNGaWx0ZXJUZXh0cywgcmVtb3ZlKTtcbiAgLy8gSXQgY2FuIGhhcHBlbiB0aGF0IHVzZXIgZmlsdGVyIGR1cGxpY2F0ZXMgZXhpc3RpbmcgZmlsdGVyIGZyb21cbiAgLy8gc3RhdGljIHJ1bGVzZXQuXG4gIC8vIElmIHdlIG5lZWQgdG8gZGlzYWJsZSB0aGUgZmlsdGVyLCB0aGVuIHdlIHNob3VsZFxuICAvLyBhbHNvIGRpc2FibGUgdGhlIHN0YXRpYyBydWxlLlxuICAvLyBJZiB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgZHluYW1pYyBmaWx0ZXIsIHRoZW4gd2Ugc2hvdWxkXG4gIC8vIGVuYWJsZSB0aGUgYWNjb3JkaW5nIHN0YXRpYyBydWxlIGp1c3QgbGlrZSB1c2VyIGZpbHRlciBuZXZlclxuICAvLyBleGlzdGVkLlxuICBhd2FpdCBlbmFibGVTdGF0aWNSdWxlcyhmaWx0ZXJUZXh0cywgcmVtb3ZlKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZW5hYmxlU3RhdGljUnVsZXMoZmlsdGVyVGV4dHMsIGVuYWJsZSkge1xuICBsZXQgZG5yTWFwcGVycyA9IG5ldyBNYXAoKTtcbiAgbGV0IHJ1bGVzZXRJZFRvUnVsZUlkcyA9IG5ldyBNYXAoKTtcblxuICAvLyBtYXAgZmlsdGVyIHRleHQgdG8gKHJ1bGVzZXRJZCA9PiBsaXN0KHJ1bGVJZHMpKSBtYXBcbiAgZm9yIChsZXQgZmlsdGVyVGV4dCBvZiBmaWx0ZXJUZXh0cykge1xuICAgIGZvciAobGV0IHN1YnNjcmlwdGlvbiBvZlxuICAgICAgZmlsdGVyRW5naW5lLmZpbHRlclN0b3JhZ2Uuc3Vic2NyaXB0aW9ucyhmaWx0ZXJUZXh0KSkge1xuICAgICAgaWYgKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFNwZWNpYWxTdWJzY3JpcHRpb24gfHxcbiAgICAgICAgIXN1YnNjcmlwdGlvbi5pZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IGRuck1hcHBlckZvclRoaXNTdWJzY3JpcHRpb24gPSBkbnJNYXBwZXJzLmdldChzdWJzY3JpcHRpb24uaWQpO1xuICAgICAgaWYgKCFkbnJNYXBwZXJGb3JUaGlzU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGRuck1hcHBlckZvclRoaXNTdWJzY3JpcHRpb24gPSBuZXcgRG5yTWFwcGVyKFxuICAgICAgICAgIGFzeW5jKCkgPT4gYXdhaXQgZ2V0U3Vic2NyaXB0aW9uUnVsZXNldE1hcChzdWJzY3JpcHRpb24uaWQpKTtcbiAgICAgICAgYXdhaXQgZG5yTWFwcGVyRm9yVGhpc1N1YnNjcmlwdGlvbi5sb2FkKCk7XG4gICAgICAgIGRuck1hcHBlcnMuc2V0KHN1YnNjcmlwdGlvbi5pZCwgZG5yTWFwcGVyRm9yVGhpc1N1YnNjcmlwdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBydWxlSWRzID0gZG5yTWFwcGVyRm9yVGhpc1N1YnNjcmlwdGlvbi5nZXQoZmlsdGVyVGV4dCk7XG4gICAgICAgIGlmIChydWxlSWRzICYmIHJ1bGVJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgcnVsZXNldElkVG9SdWxlSWRzLnNldChzdWJzY3JpcHRpb24uaWQsIHJ1bGVJZHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBtYXBwaW5nIGZpbGUgbWlnaHQgYmUgbWlzc2luZ1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGRpc2FibGUgdGhlIHJ1bGVzIGluIHN0YXRpYyBydWxlc2V0c1xuICBmb3IgKGNvbnN0IFtydWxlc2V0SWQsIHJ1bGVJZHNdIG9mIHJ1bGVzZXRJZFRvUnVsZUlkcy5lbnRyaWVzKCkpIHtcbiAgICBsZXQgZGlzYWJsZVJ1bGVJZHMgPSAoZW5hYmxlID8gdm9pZCAwIDogcnVsZUlkcyk7XG4gICAgbGV0IGVuYWJsZVJ1bGVJZHMgPSAoZW5hYmxlID8gcnVsZUlkcyA6IHZvaWQgMCk7XG5cbiAgICBhd2FpdCBicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdC51cGRhdGVTdGF0aWNSdWxlcyh7XG4gICAgICBydWxlc2V0SWQsIGRpc2FibGVSdWxlSWRzLCBlbmFibGVSdWxlSWRzXG4gICAgfSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlT3JEaXNhYmxlRHluYW1pY0ZpbHRlcnMoZmlsdGVyVGV4dHMsIHJlbW92ZSA9IHRydWUpIHtcbiAgbGV0IHJ1bGVJZHNUb1JlbW92ZSA9IFtdO1xuXG4gIGZvciAobGV0IHRleHQgb2YgZmlsdGVyVGV4dHMpIHtcbiAgICBsZXQgZGV0YWlscyA9IGR5bmFtaWNGaWx0ZXJzLmdldCh0ZXh0KTtcblxuICAgIGlmIChyZW1vdmUpIHtcbiAgICAgIC8vIFJlbW92aW5nIGV4aXN0aW5nIGZpbHRlclxuICAgICAgaWYgKGRldGFpbHMpIHtcbiAgICAgICAgaWYgKCFkZXRhaWxzLnN1YnNjcmlwdGlvbklkcykge1xuICAgICAgICAgIGRldGFpbHMuc3Vic2NyaXB0aW9uSWRzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW5kZXggPSBkZXRhaWxzLnN1YnNjcmlwdGlvbklkcy5pbmRleE9mKG51bGwpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgZGV0YWlscy5zdWJzY3JpcHRpb25JZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gUmVtb3ZpbmcgZmlsdGVyIG9ubHkgaWYgc3Vic2NyaXB0aW9uSWRzIGFycmF5IGlzIGVtcHR5XG4gICAgICBpZiAoZGV0YWlscy5zdWJzY3JpcHRpb25JZHMgJiYgZGV0YWlscy5zdWJzY3JpcHRpb25JZHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgZm9yIChsZXQgcnVsZUlkIG9mIGRldGFpbHMucnVsZUlkcykge1xuICAgICAgICAgIHJ1bGVJZHNUb1JlbW92ZS5wdXNoKHJ1bGVJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5yZW1vdmVGaWx0ZXIoRmlsdGVyLmZyb21UZXh0KHRleHQpKTtcbiAgICAgICAgZHluYW1pY0ZpbHRlcnMuZGVsZXRlKHRleHQpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIWRldGFpbHMuZW5hYmxlZCkge1xuICAgICAgICBhd2FpdCBlbmFibGVGaWx0ZXJzKFt0ZXh0XSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9yIChsZXQgcnVsZUlkIG9mIGRldGFpbHMucnVsZUlkcykge1xuICAgICAgICBydWxlSWRzVG9SZW1vdmUucHVzaChydWxlSWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBEaXNhYmxpbmcgZmlsdGVyXG4gICAgICBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5maWx0ZXJTdGF0ZS5zZXRFbmFibGVkKHRleHQsIGZhbHNlKTtcblxuICAgICAgZGV0YWlscy5lbmFibGVkID0gZmFsc2U7XG4gICAgICBkZXRhaWxzLnJ1bGVJZHMgPSBbXTtcbiAgICAgIGR5bmFtaWNGaWx0ZXJzLnNldCh0ZXh0LCBkZXRhaWxzKTtcbiAgICB9XG4gIH1cblxuICBpZiAocnVsZUlkc1RvUmVtb3ZlLmxlbmd0aCA+IDApIHtcbiAgICBhd2FpdCBicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdC51cGRhdGVEeW5hbWljUnVsZXMoe1xuICAgICAgcmVtb3ZlUnVsZUlkczogcnVsZUlkc1RvUmVtb3ZlXG4gICAgfSk7XG4gIH1cblxuICBzdG9yZUR5bmFtaWNGaWx0ZXJzKCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGVuYWJsZUR5bmFtaWNGaWx0ZXJzKGZpbHRlclRleHRzKSB7XG4gIGxldCBydWxlcyA9IFtdO1xuXG4gIGZvciAobGV0IHRleHQgb2YgZmlsdGVyVGV4dHMpIHtcbiAgICBsZXQgbm9ybWFsaXplZCA9IEZpbHRlci5ub3JtYWxpemUodGV4dCk7XG4gICAgbGV0IGRldGFpbHMgPSBkeW5hbWljRmlsdGVycy5nZXQobm9ybWFsaXplZCk7XG5cbiAgICBpZiAoIWRldGFpbHMgfHwgZGV0YWlscy5lbmFibGVkKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBsZXQgZmlsdGVyID0gRmlsdGVyLmZyb21UZXh0KG5vcm1hbGl6ZWQpO1xuICAgIGZpbHRlckVuZ2luZS5maWx0ZXJTdG9yYWdlLmZpbHRlclN0YXRlLnNldEVuYWJsZWQoZmlsdGVyLnRleHQsIHRydWUpO1xuXG4gICAgbGV0IHtmaWx0ZXJSdWxlcywgcnVsZUlkc30gPSBhd2FpdCBnZXRSdWxlcyhmaWx0ZXIpO1xuICAgIHJ1bGVzLnB1c2goLi4uZmlsdGVyUnVsZXMpO1xuXG4gICAgc2V0SGlnaGVzdFJ1bGVJZChydWxlSWRzKTtcbiAgICBkeW5hbWljRmlsdGVycy5zZXQoZmlsdGVyLnRleHQsIHtydWxlSWRzLCBlbmFibGVkOiB0cnVlfSk7XG4gIH1cblxuICBpZiAocnVsZXMubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBhd2FpdCBicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdC51cGRhdGVEeW5hbWljUnVsZXMoe1xuICAgIGFkZFJ1bGVzOiBydWxlc1xuICB9KTtcblxuICBzdG9yZUR5bmFtaWNGaWx0ZXJzKCk7XG59XG5cbmZ1bmN0aW9uIHNwbGl0RmlsdGVyVGV4dHMoZmlsdGVyVGV4dHMpIHtcbiAgbGV0IGR5bmFtaWNGaWx0ZXJUZXh0cyA9IFtdO1xuICBsZXQgc3RhdGljRmlsdGVyVGV4dHMgPSBbXTtcblxuICBsZXQgbm9ybWFsaXplZEZpbHRlclRleHRzID0gZmlsdGVyVGV4dHMubWFwKHRleHQgPT4gRmlsdGVyLm5vcm1hbGl6ZSh0ZXh0KSk7XG4gIGZvciAobGV0IGZpbHRlclRleHQgb2Ygbm9ybWFsaXplZEZpbHRlclRleHRzKSB7XG4gICAgaWYgKGR5bmFtaWNGaWx0ZXJzLmhhcyhmaWx0ZXJUZXh0KSkge1xuICAgICAgZHluYW1pY0ZpbHRlclRleHRzLnB1c2goZmlsdGVyVGV4dCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc3RhdGljRmlsdGVyVGV4dHMucHVzaChmaWx0ZXJUZXh0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge2R5bmFtaWNGaWx0ZXJUZXh0cywgc3RhdGljRmlsdGVyVGV4dHN9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5hYmxlRmlsdGVycyhmaWx0ZXJUZXh0cykge1xuICBhd2FpdCBpbml0KCk7XG5cbiAgbGV0IHtkeW5hbWljRmlsdGVyVGV4dHMsIHN0YXRpY0ZpbHRlclRleHRzfSA9IHNwbGl0RmlsdGVyVGV4dHMoZmlsdGVyVGV4dHMpO1xuXG4gIGF3YWl0IGVuYWJsZUR5bmFtaWNGaWx0ZXJzKGR5bmFtaWNGaWx0ZXJUZXh0cyk7XG4gIGF3YWl0IGVuYWJsZVN0YXRpY1J1bGVzKHN0YXRpY0ZpbHRlclRleHRzLCB0cnVlKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldER5bmFtaWNGaWx0ZXJzKCkge1xuICBhd2FpdCBpbml0KCk7XG4gIHJldHVybiBkeW5hbWljRmlsdGVycztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldER5bmFtaWNVc2VyRmlsdGVycygpIHtcbiAgYXdhaXQgaW5pdCgpO1xuICBsZXQgZHluYW1pY1VzZXJGaWx0ZXJzID0gbmV3IE1hcCgpO1xuXG4gIGZvciAobGV0IFtmaWx0ZXJUZXh0LCBkZXRhaWxzXSBvZiBkeW5hbWljRmlsdGVycy5lbnRyaWVzKCkpIHtcbiAgICBpZiAoIWRldGFpbHMuc3Vic2NyaXB0aW9uSWRzIHx8IGRldGFpbHMuc3Vic2NyaXB0aW9uSWRzLmluY2x1ZGVzKG51bGwpKSB7XG4gICAgICBkeW5hbWljVXNlckZpbHRlcnMuc2V0KGZpbHRlclRleHQsIGRldGFpbHMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZHluYW1pY1VzZXJGaWx0ZXJzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlncmF0ZUN1c3RvbUZpbHRlcnMoKSB7XG4gIGxldCBmaWx0ZXJzID0gW107XG5cbiAgZm9yIChsZXQgc3Vic2NyaXB0aW9uIG9mIGZpbHRlckVuZ2luZS5maWx0ZXJTdG9yYWdlLnN1YnNjcmlwdGlvbnMoKSkge1xuICAgIGlmICghKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFNwZWNpYWxTdWJzY3JpcHRpb24pKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCB0ZXh0IG9mIHN1YnNjcmlwdGlvbi5maWx0ZXJUZXh0KCkpIHtcbiAgICAgIGZpbHRlcnMucHVzaCh7XG4gICAgICAgIHRleHQsXG4gICAgICAgIG1ldGFkYXRhOiBzdWJzY3JpcHRpb24ubWV0YWRhdGEsXG4gICAgICAgIGRpc2FibGVkOiBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5maWx0ZXJTdGF0ZVxuICAgICAgICAgIC5pc0Rpc2FibGVkRm9yU3Vic2NyaXB0aW9uKHRleHQsIHN1YnNjcmlwdGlvbi51cmwpXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBmaWx0ZXIgb2YgZmlsdGVycykge1xuICAgIHRyeSB7XG4gICAgICBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5yZW1vdmVGaWx0ZXIoRmlsdGVyLmZyb21UZXh0KGZpbHRlci50ZXh0KSk7XG4gICAgICBhd2FpdCBhZGRGaWx0ZXJzKFtmaWx0ZXIudGV4dF0sIGZpbHRlci5tZXRhZGF0YSk7XG4gICAgICBpZiAoZmlsdGVyLmRpc2FibGVkKSB7XG4gICAgICAgIGF3YWl0IGRpc2FibGVGaWx0ZXIoZmlsdGVyLnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgbGV0IGVycm9ycyA9IFByZWZzLm1pZ3JhdGlvbl9maWx0ZXJfZXJyb3JzO1xuICAgICAgZXJyb3JzLnB1c2goe2Vycm9yOiBlLm1lc3NhZ2UsIGZpbHRlcn0pO1xuICAgICAgUHJlZnMubWlncmF0aW9uX2ZpbHRlcl9lcnJvcnMgPSBlcnJvcnM7XG4gICAgfVxuICB9XG59XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuXG5pbXBvcnQge2xvZ0l0ZW0sIGxvZ2dpbmdFbmFibGVkfSBmcm9tIFwiLi9kaWFnbm9zdGljcy5qc1wiO1xuaW1wb3J0IHtmaWx0ZXJFbmdpbmV9IGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCB7ZGVmYXVsdCBhcyBpbml0aWFsaXplcn0gZnJvbSBcIi4vaW5pdGlhbGl6ZXIuanNcIjtcbmltcG9ydCB7Z2V0UmVxdWVzdENvbnRlbnRUeXBlLCBnZXRGcmFtZUluZm9Gcm9tV2VicmVxdWVzdERldGFpbHMsXG4gICAgICAgIGdldFBhcmVudEZyYW1lSW5mb0Zyb21XZWJyZXF1ZXN0RGV0YWlscywgc2FuaXRpemVJbml0aWF0b3J9XG4gIGZyb20gXCIuL3JlcXVlc3QtZmlsdGVyLmpzXCI7XG5cbmltcG9ydCB7Y29udGVudFR5cGVzfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9jb250ZW50VHlwZXMuanNcIjtcbmltcG9ydCB7QmxvY2tpbmdGaWx0ZXIsIEFsbG93aW5nRmlsdGVyfVxuICBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9maWx0ZXJDbGFzc2VzLmpzXCI7XG5pbXBvcnQge3BhcnNlVVJMfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi91cmwuanNcIjtcbmltcG9ydCB7dHJhY2V9IGZyb20gXCIuL2RlYnVnZ2luZy5qc1wiO1xuXG5mdW5jdGlvbiBnZXRDb250ZXh0KGRldGFpbHMpIHtcbiAgbGV0IGNvbnRlbnRUeXBlID0gZ2V0UmVxdWVzdENvbnRlbnRUeXBlKGRldGFpbHMpO1xuXG4gIGlmIChkZXRhaWxzLnR5cGUgPT0gXCJtYWluX2ZyYW1lXCIgfHwgZGV0YWlscy50eXBlID09IFwic3ViX2ZyYW1lXCIpIHtcbiAgICBsZXQgcGFyZW50RnJhbWUgPSBnZXRQYXJlbnRGcmFtZUluZm9Gcm9tV2VicmVxdWVzdERldGFpbHMoZGV0YWlscyk7XG4gICAgbGV0IHtob3N0bmFtZTogcGFyZW50SG9zdG5hbWV9ID0gcGFyZW50RnJhbWUgfHwge307XG4gICAgbGV0IGluaXRpYXRvciA9IGRldGFpbHMuZG9jdW1lbnRVcmwgfHwgc2FuaXRpemVJbml0aWF0b3IoZGV0YWlscy5pbml0aWF0b3IpO1xuICAgIC8vIEluIGNyb3NzLW9yaWdpbiByZXF1ZXN0cywgQ2hyb21lJ3MgaW5pdGlhdG9yIGhhcyB0aGUgY29ycmVjdCB1cmwgZG9tYWluXG4gICAgbGV0IHVybEluZm8gPSBwYXJzZVVSTChpbml0aWF0b3IgfHwgZGV0YWlscy51cmwpO1xuICAgIGxldCBob3N0bmFtZSA9IHBhcmVudEhvc3RuYW1lIHx8IHVybEluZm8uaG9zdG5hbWU7XG5cbiAgICBsZXQgZG9jRG9tYWluID0gZGV0YWlscy50eXBlID09IFwibWFpbl9mcmFtZVwiID8gbnVsbCA6IGhvc3RuYW1lO1xuXG4gICAgbGV0IHNwZWNpZmljT25seUZpbHRlciA9IGZpbHRlckVuZ2luZS5kZWZhdWx0TWF0Y2hlci5tYXRjaChcbiAgICAgIGRldGFpbHMudXJsLCBjb250ZW50VHlwZXMuR0VORVJJQ0JMT0NLLCBob3N0bmFtZSwgbnVsbFxuICAgICk7XG4gICAgbGV0IGFsbG93aW5nRG9jdW1lbnRGaWx0ZXIgPSBmaWx0ZXJFbmdpbmUuZGVmYXVsdE1hdGNoZXIubWF0Y2goXG4gICAgICBkZXRhaWxzLnVybCwgY29udGVudFR5cGVzLkRPQ1VNRU5ULCBob3N0bmFtZSwgbnVsbFxuICAgICk7XG4gICAgaWYgKCFhbGxvd2luZ0RvY3VtZW50RmlsdGVyICYmIHBhcmVudEZyYW1lICYmXG4gICAgICAgIHBhcmVudEZyYW1lLmFsbG93aW5nRG9jdW1lbnRGaWx0ZXIpIHtcbiAgICAgIGFsbG93aW5nRG9jdW1lbnRGaWx0ZXIgPSBwYXJlbnRGcmFtZS5hbGxvd2luZ0RvY3VtZW50RmlsdGVyO1xuICAgIH1cblxuICAgIGxldCBzcGVjaWZpY09ubHkgPSAhIXNwZWNpZmljT25seUZpbHRlcjtcblxuICAgIHJldHVybiB7XG4gICAgICBhbGxvd2luZ0RvY3VtZW50RmlsdGVyLFxuICAgICAgc3BlY2lmaWNPbmx5LFxuICAgICAgZG9jRG9tYWluLFxuICAgICAgY29udGVudFR5cGVcbiAgICB9O1xuICB9XG5cbiAgbGV0IGZyYW1lID0gZ2V0RnJhbWVJbmZvRnJvbVdlYnJlcXVlc3REZXRhaWxzKGRldGFpbHMpO1xuICBpZiAoIWZyYW1lKSB7XG4gICAgbGV0IGFsbG93aW5nRG9jdW1lbnRGaWx0ZXIgPSBudWxsO1xuICAgIGxldCBzcGVjaWZpY09ubHkgPSBmYWxzZTtcbiAgICBsZXQgZG9jRG9tYWluID0gbnVsbDtcblxuICAgIGxldCBkb2N1bWVudFVybCA9IGRldGFpbHMuZG9jdW1lbnRVcmwgfHxcbiAgICAgICAgc2FuaXRpemVJbml0aWF0b3IoZGV0YWlscy5pbml0aWF0b3IpO1xuICAgIGlmIChkb2N1bWVudFVybCkge1xuICAgICAgbGV0IHVybEluZm8gPSBwYXJzZVVSTChkb2N1bWVudFVybCk7XG4gICAgICBkb2NEb21haW4gPSB1cmxJbmZvLmhvc3RuYW1lO1xuXG4gICAgICBhbGxvd2luZ0RvY3VtZW50RmlsdGVyID0gZmlsdGVyRW5naW5lLmRlZmF1bHRNYXRjaGVyLm1hdGNoKFxuICAgICAgICBkb2N1bWVudFVybCwgY29udGVudFR5cGVzLkRPQ1VNRU5ULCBkb2NEb21haW4sIG51bGxcbiAgICAgICk7XG5cbiAgICAgIHNwZWNpZmljT25seSA9IEJvb2xlYW4oZmlsdGVyRW5naW5lLmRlZmF1bHRNYXRjaGVyLm1hdGNoKFxuICAgICAgICBkb2N1bWVudFVybCwgY29udGVudFR5cGVzLkdFTkVSSUNCTE9DSywgZG9jRG9tYWluLCBudWxsXG4gICAgICApKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgYWxsb3dpbmdEb2N1bWVudEZpbHRlcixcbiAgICAgIHNwZWNpZmljT25seSxcbiAgICAgIGRvY0RvbWFpbixcbiAgICAgIGNvbnRlbnRUeXBlXG4gICAgfTtcbiAgfVxuXG4gIGxldCBhbGxvd2luZ0RvY3VtZW50RmlsdGVyID0gZnJhbWUuYWxsb3dpbmdEb2N1bWVudEZpbHRlcjtcbiAgbGV0IHNwZWNpZmljT25seSA9IChmcmFtZS5hbGxvd2xpc3RlZCAmIGNvbnRlbnRUeXBlcy5HRU5FUklDQkxPQ0spICE9IDA7XG4gIGxldCBkb2NEb21haW4gPSBmcmFtZS5ob3N0bmFtZTtcblxuICByZXR1cm4ge1xuICAgIGFsbG93aW5nRG9jdW1lbnRGaWx0ZXIsXG4gICAgc3BlY2lmaWNPbmx5LFxuICAgIGRvY0RvbWFpbixcbiAgICBjb250ZW50VHlwZVxuICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBvbkJlZm9yZVJlZGlyZWN0KGRldGFpbHMpIHtcbiAgdHJhY2Uoe2RldGFpbHN9KTtcblxuICBpZiAoIWxvZ2dpbmdFbmFibGVkKGRldGFpbHMudGFiSWQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXdhaXQgaW5pdGlhbGl6ZXIuc3RhcnQoKTtcblxuICBpZiAoIWRldGFpbHMucmVkaXJlY3RVcmwuc3RhcnRzV2l0aChcImRhdGE6XCIpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHtcbiAgICBhbGxvd2luZ0RvY3VtZW50RmlsdGVyLFxuICAgIHNwZWNpZmljT25seSxcbiAgICBkb2NEb21haW4sXG4gICAgY29udGVudFR5cGVcbiAgfSA9IGdldENvbnRleHQoZGV0YWlscyk7XG5cbiAgaWYgKGFsbG93aW5nRG9jdW1lbnRGaWx0ZXIpIHtcbiAgICAvLyBPdXIgZmlsdGVycyB3b3VsZCBoYXZlIGFsbG93bGlzdGVkIHRoaXMsIHNvIHRoZSByZWRpcmVjdCBpc24ndFxuICAgIC8vIG91ciBmaWx0ZXJzLiBOb3RoaW5nIHRvIGxvZyBoZXJlLlxuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBwb3RlbnRpYWxGaWx0ZXJzID0gZmlsdGVyRW5naW5lLmRlZmF1bHRNYXRjaGVyLnNlYXJjaChcbiAgICBkZXRhaWxzLnVybCwgY29udGVudFR5cGUsIGRvY0RvbWFpbiwgbnVsbCwgc3BlY2lmaWNPbmx5LCBcImJsb2NraW5nXCJcbiAgKTtcbiAgZm9yIChsZXQgZmlsdGVyIG9mIHBvdGVudGlhbEZpbHRlcnMuYmxvY2tpbmcpIHtcbiAgICBpZiAoZmlsdGVyIGluc3RhbmNlb2YgQmxvY2tpbmdGaWx0ZXIgJiYgdHlwZW9mIGZpbHRlci5yZXdyaXRlID09IFwic3RyaW5nXCIpIHtcbiAgICAgIGxldCByZXdyaXR0ZW5VcmwgPSBmaWx0ZXIucmV3cml0ZVVybChkZXRhaWxzLnVybCk7XG4gICAgICBpZiAocmV3cml0dGVuVXJsID09IGRldGFpbHMucmVkaXJlY3RVcmwpIHtcbiAgICAgICAgbGV0IG1hdGNoSW5mbyA9IHtcbiAgICAgICAgICBkb2NEb21haW4sIHNwZWNpZmljT25seSwgbWV0aG9kOiBcInJlcXVlc3RcIiwgcmV3cml0dGVuVXJsXG4gICAgICAgIH07XG4gICAgICAgIGxvZ0l0ZW0oZGV0YWlscywgZmlsdGVyLCBtYXRjaEluZm8pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG9uRXJyb3JPY2N1cnJlZChkZXRhaWxzKSB7XG4gIHRyYWNlKHtkZXRhaWxzfSk7XG5cbiAgaWYgKCFsb2dnaW5nRW5hYmxlZChkZXRhaWxzLnRhYklkKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGF3YWl0IGluaXRpYWxpemVyLnN0YXJ0KCk7XG5cbiAgbGV0IHtcbiAgICBhbGxvd2luZ0RvY3VtZW50RmlsdGVyLFxuICAgIHNwZWNpZmljT25seSxcbiAgICBkb2NEb21haW4sXG4gICAgY29udGVudFR5cGVcbiAgfSA9IGdldENvbnRleHQoZGV0YWlscyk7XG5cbiAgaWYgKGFsbG93aW5nRG9jdW1lbnRGaWx0ZXIpIHtcbiAgICAvLyBPdXIgZmlsdGVycyB3b3VsZCBoYXZlIGFsbG93bGlzdGVkIHRoaXMsIHNvIHRoZSBlcnJvciBldmVudFxuICAgIC8vIGlzbid0IGZyb20gb3VyIGZpbHRlcnMgYmxvY2tpbmcgc29tZXRoaW5nLiBOb3RoaW5nIHRvIGxvZyBoZXJlLlxuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBwb3RlbnRpYWxGaWx0ZXJzID0gZmlsdGVyRW5naW5lLmRlZmF1bHRNYXRjaGVyLnNlYXJjaChcbiAgICBkZXRhaWxzLnVybCwgY29udGVudFR5cGUsIGRvY0RvbWFpbiwgbnVsbCwgc3BlY2lmaWNPbmx5LCBcImJsb2NraW5nXCJcbiAgKTtcbiAgZm9yIChsZXQgZmlsdGVyIG9mIHBvdGVudGlhbEZpbHRlcnMuYmxvY2tpbmcpIHtcbiAgICBsZXQgbWF0Y2hJbmZvID0ge2RvY0RvbWFpbiwgc3BlY2lmaWNPbmx5LCBtZXRob2Q6IFwicmVxdWVzdFwifTtcbiAgICBpZiAoZmlsdGVyIGluc3RhbmNlb2YgQmxvY2tpbmdGaWx0ZXIgJiYgdHlwZW9mIGZpbHRlci5yZXdyaXRlICE9IFwic3RyaW5nXCIpIHtcbiAgICAgIGxvZ0l0ZW0oZGV0YWlscywgZmlsdGVyLCBtYXRjaEluZm8pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBvbkNvbXBsZXRlZChkZXRhaWxzKSB7XG4gIHRyYWNlKHtkZXRhaWxzfSk7XG5cbiAgaWYgKCFsb2dnaW5nRW5hYmxlZChkZXRhaWxzLnRhYklkKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGF3YWl0IGluaXRpYWxpemVyLnN0YXJ0KCk7XG5cbiAgbGV0IHtcbiAgICBhbGxvd2luZ0RvY3VtZW50RmlsdGVyLFxuICAgIHNwZWNpZmljT25seSxcbiAgICBkb2NEb21haW4sXG4gICAgY29udGVudFR5cGVcbiAgfSA9IGdldENvbnRleHQoZGV0YWlscyk7XG5cbiAgaWYgKGFsbG93aW5nRG9jdW1lbnRGaWx0ZXIpIHtcbiAgICBsb2dJdGVtKGRldGFpbHMsIGFsbG93aW5nRG9jdW1lbnRGaWx0ZXIsIHtcbiAgICAgIGRvY0RvbWFpbixcbiAgICAgIG1ldGhvZDogXCJhbGxvd2luZ1wiLFxuICAgICAgc3BlY2lmaWNPbmx5XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGZpbHRlciA9IGZpbHRlckVuZ2luZS5kZWZhdWx0TWF0Y2hlci5tYXRjaChcbiAgICBkZXRhaWxzLnVybCwgY29udGVudFR5cGUsIGRvY0RvbWFpbiwgbnVsbCwgc3BlY2lmaWNPbmx5LCB0cnVlXG4gICk7XG4gIGlmIChmaWx0ZXIpIHtcbiAgICBsZXQgbWF0Y2hJbmZvID0ge2RvY0RvbWFpbiwgc3BlY2lmaWNPbmx5LCBtZXRob2Q6IFwicmVxdWVzdFwifTtcbiAgICBpZiAoZmlsdGVyIGluc3RhbmNlb2YgQWxsb3dpbmdGaWx0ZXIpIHtcbiAgICAgIGxvZ0l0ZW0oZGV0YWlscywgZmlsdGVyLCBtYXRjaEluZm8pO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZGV0YWlscy50eXBlID09IFwibWFpbl9mcmFtZVwiIHx8IGRldGFpbHMudHlwZSA9PSBcInN1Yl9mcmFtZVwiKSB7XG4gICAgLy8gQ1NQIGZpbHRlcnMgY291bGQgYXBwbHkgaW4gdGhpcyBjYXNlXG5cbiAgICBsZXQgY3NwVHlwZU1hc2sgPSBjb250ZW50VHlwZXMuQ1NQIHwgZ2V0UmVxdWVzdENvbnRlbnRUeXBlKGRldGFpbHMpO1xuICAgIGxldCBob3N0bmFtZSA9IHBhcnNlVVJMKGRldGFpbHMudXJsKS5ob3N0bmFtZTtcbiAgICBsZXQgY3NwTWF0Y2hJbmZvID0ge2RvY0RvbWFpbjogZG9jRG9tYWluIHx8IGhvc3RuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWNPbmx5LCBtZXRob2Q6IFwiY3NwXCJ9O1xuXG4gICAgbGV0IGFsbG93aW5nQ3NwRmlsdGVyID0gZmlsdGVyRW5naW5lLmRlZmF1bHRNYXRjaGVyLm1hdGNoKFxuICAgICAgZGV0YWlscy51cmwsIGNzcFR5cGVNYXNrLCBkb2NEb21haW4sIG51bGwsIHNwZWNpZmljT25seSwgdHJ1ZVxuICAgICk7XG4gICAgaWYgKGFsbG93aW5nQ3NwRmlsdGVyICYmIGFsbG93aW5nQ3NwRmlsdGVyIGluc3RhbmNlb2YgQWxsb3dpbmdGaWx0ZXIpIHtcbiAgICAgIGxvZ0l0ZW0oZGV0YWlscywgYWxsb3dpbmdDc3BGaWx0ZXIsIGNzcE1hdGNoSW5mbyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGNzcEZpbHRlcnMgPSBmaWx0ZXJFbmdpbmUuZGVmYXVsdE1hdGNoZXIuc2VhcmNoKFxuICAgICAgZGV0YWlscy51cmwsIGNzcFR5cGVNYXNrLCBob3N0bmFtZSwgbnVsbCwgc3BlY2lmaWNPbmx5LCBcImJsb2NraW5nXCJcbiAgICApO1xuXG4gICAgbGV0IGFwcGxpZWRDc3BGaWx0ZXJzID0gZmFsc2U7XG4gICAgZm9yIChsZXQgY3NwRmlsdGVyIG9mIGNzcEZpbHRlcnMuYmxvY2tpbmcpIHtcbiAgICAgIGxldCBjc3BGaWx0ZXJXYXNBcHBsaWVkID0gZGV0YWlscy5yZXNwb25zZUhlYWRlcnMuc29tZShoZWFkZXIgPT4ge1xuICAgICAgICByZXR1cm4gaGVhZGVyLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBcImNvbnRlbnQtc2VjdXJpdHktcG9saWN5XCIgJiZcbiAgICAgICAgICBoZWFkZXIudmFsdWUgPT0gY3NwRmlsdGVyLmNzcDtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNzcEZpbHRlcldhc0FwcGxpZWQpIHtcbiAgICAgICAgbG9nSXRlbShkZXRhaWxzLCBjc3BGaWx0ZXIsIGNzcE1hdGNoSW5mbyk7XG4gICAgICAgIGFwcGxpZWRDc3BGaWx0ZXJzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYXBwbGllZENzcEZpbHRlcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsZXQgbWF0Y2hJbmZvID0ge1xuICAgIGRvY0RvbWFpbixcbiAgICBtZXRob2Q6IFwidW5tYXRjaGVkXCIsXG4gICAgc3BlY2lmaWNPbmx5XG4gIH07XG4gIGxvZ0l0ZW0oZGV0YWlscywgbnVsbCwgbWF0Y2hJbmZvKTtcbn1cblxubGV0IHN0YXJ0ZWQgPSBmYWxzZTtcblxuLyoqXG4gKiBTdGFydHMgbGlzdGVuaW5nIGZvciBmaWx0ZXJzIHRvIGxvZyBvbkJsb2NrYWJsZUl0ZW0gZXZlbnRzLiBBY3R1YWxcbiAqIGJsb2NraW5nIHNob3VsZCBiZSBkb25lIHVzaW5nIHRoZSBkZWNsYXJhdGl2ZU5ldFJlcXVlc3QgQVBJLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnQoKSB7XG4gIGlmICghYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QgfHwgc3RhcnRlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBldmVudEFyZ3MgPSB7XG4gICAgdHlwZXM6IE9iamVjdC52YWx1ZXMoYnJvd3Nlci53ZWJSZXF1ZXN0LlJlc291cmNlVHlwZSksXG4gICAgdXJsczogW1wiaHR0cDovLyovKlwiLCBcImh0dHBzOi8vKi8qXCIsIFwid3M6Ly8qLypcIiwgXCJ3c3M6Ly8qLypcIl1cbiAgfTtcblxuICBicm93c2VyLndlYlJlcXVlc3Qub25CZWZvcmVSZWRpcmVjdC5hZGRMaXN0ZW5lcihvbkJlZm9yZVJlZGlyZWN0LCBldmVudEFyZ3MpO1xuICBicm93c2VyLndlYlJlcXVlc3Qub25FcnJvck9jY3VycmVkLmFkZExpc3RlbmVyKG9uRXJyb3JPY2N1cnJlZCwgZXZlbnRBcmdzKTtcbiAgYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uQ29tcGxldGVkLmFkZExpc3RlbmVyKG9uQ29tcGxldGVkLCBldmVudEFyZ3MsIFtcInJlc3BvbnNlSGVhZGVyc1wiXSk7XG5cbiAgc3RhcnRlZCA9IHRydWU7XG59XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuXG5pbXBvcnQge3BhcnNlVVJMfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi91cmwuanNcIjtcbmltcG9ydCB7RmlsdGVyLCBVUkxGaWx0ZXJ9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2ZpbHRlckNsYXNzZXMuanNcIjtcbmltcG9ydCB7U3BlY2lhbFN1YnNjcmlwdGlvbn0gZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvc3Vic2NyaXB0aW9uQ2xhc3Nlcy5qc1wiO1xuaW1wb3J0IHtpc1Nsb3dGaWx0ZXJ9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL21hdGNoZXIuanNcIjtcbmltcG9ydCB7ZmlsdGVyTm90aWZpZXJ9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2ZpbHRlck5vdGlmaWVyLmpzXCI7XG5pbXBvcnQge2NvbnRlbnRUeXBlc30gZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvY29udGVudFR5cGVzLmpzXCI7XG5pbXBvcnQge01JTExJU19JTl9IT1VSfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi90aW1lLmpzXCI7XG5cbmltcG9ydCB7ZGVmYXVsdCBhcyBpbml0aWFsaXplcn0gZnJvbSBcIi4vaW5pdGlhbGl6ZXIuanNcIjtcbmltcG9ydCB7ZmlsdGVyRW5naW5lfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQge0V2ZW50RGlzcGF0Y2hlciwgRmlsdGVyRXJyb3J9IGZyb20gXCIuL3R5cGVzLmpzXCI7XG5pbXBvcnQge2dldEZyYW1lSW5mbywgaXNUb3BMZXZlbEZyYW1lSWR9IGZyb20gXCIuL2ZyYW1lLXN0YXRlLmpzXCI7XG5pbXBvcnQge2FkZEZpbHRlcnMsIGdldE1ldGFkYXRhRm9yRmlsdGVyLCBzZXRNZXRhZGF0YUZvckZpbHRlcixcbiAgICAgICAgdmFsaWRhdGVGaWx0ZXIsIGdldER5bmFtaWNVc2VyRmlsdGVycyxcbiAgICAgICAgcmVtb3ZlT3JEaXNhYmxlRmlsdGVycywgZW5hYmxlRmlsdGVyc31cbiAgZnJvbSBcIi4vZG5yLWZpbHRlcnMuanNcIjtcbmltcG9ydCB7RVJST1JfRklMVEVSX05PVF9GT1VORH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHtQcmVmc30gZnJvbSBcIi4vcHJlZnMuanNcIjtcbmltcG9ydCB7U2NoZWR1bGVyfSBmcm9tIFwiLi9zY2hlZHVsZXIuanNcIjtcblxuLyoqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0geyp9IGZpbHRlciBGaWx0ZXIgb2JqZWN0XG4gKiBAcmV0dXJucyB7Kn0gUGxhaW4gZmlsdGVyIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEZpbHRlcihmaWx0ZXIpIHtcbiAgcmV0dXJuIHtcbiAgICB0ZXh0OiBmaWx0ZXIudGV4dCxcbiAgICBlbmFibGVkOiB0eXBlb2YgZmlsdGVyLmRpc2FibGVkID09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogIWZpbHRlci5kaXNhYmxlZCxcbiAgICBzbG93OiBmaWx0ZXIgaW5zdGFuY2VvZiBVUkxGaWx0ZXIgJiYgaXNTbG93RmlsdGVyKGZpbHRlciksXG4gICAgdHlwZTogZmlsdGVyLnR5cGUsXG4gICAgdGhpcmRQYXJ0eTogZmlsdGVyLnRoaXJkUGFydHkgIT0gbnVsbCA/IGZpbHRlci50aGlyZFBhcnR5IDogbnVsbCxcbiAgICBzZWxlY3RvcjogZmlsdGVyLnNlbGVjdG9yIHx8IG51bGwsXG4gICAgY3NwOiBmaWx0ZXIuY3NwIHx8IG51bGwsXG4gICAgcmVtb3ZlOiBmaWx0ZXIucmVtb3ZlIHx8IHZvaWQgMCxcbiAgICBjc3M6IGZpbHRlci5jc3MgfHwgdm9pZCAwXG4gIH07XG59XG5cbmZ1bmN0aW9uIG1ha2VGaWx0ZXJMaXN0ZW5lcihkaXNwYXRjaCkge1xuICByZXR1cm4gZmlsdGVyID0+IGRpc3BhdGNoKGNvbnZlcnRGaWx0ZXIoZmlsdGVyKSk7XG59XG5cbmZ1bmN0aW9uIG1ha2VTdWJMaXN0ZW5lcihkaXNwYXRjaCkge1xuICByZXR1cm4gc3Vic2NyaXB0aW9uID0+IHtcbiAgICBpZiAoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgU3BlY2lhbFN1YnNjcmlwdGlvbikge1xuICAgICAgZm9yIChsZXQgdGV4dCBvZiBzdWJzY3JpcHRpb24uZmlsdGVyVGV4dCgpKSB7XG4gICAgICAgIGRpc3BhdGNoKGNvbnZlcnRGaWx0ZXIoRmlsdGVyLmZyb21UZXh0KHRleHQpKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBkaXNhYmxlKHRleHRzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheSh0ZXh0cykpIHtcbiAgICB0ZXh0cyA9IFt0ZXh0c107XG4gIH1cblxuICBpZiAoYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QpIHtcbiAgICBhd2FpdCByZW1vdmVPckRpc2FibGVGaWx0ZXJzKHRleHRzLCBmYWxzZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChsZXQgdGV4dCBvZiB0ZXh0cykge1xuICAgIGxldCBub3JtYWxpemVkID0gRmlsdGVyLm5vcm1hbGl6ZSh0ZXh0KTtcbiAgICBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5maWx0ZXJTdGF0ZS5zZXRFbmFibGVkKG5vcm1hbGl6ZWQsIGZhbHNlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IGRpc2FibGVGaWx0ZXIgPSBkaXNhYmxlO1xuXG5sZXQgb25DaGFuZ2VkID0gbmV3IEV2ZW50RGlzcGF0Y2hlcihkaXNwYXRjaCA9PiB7XG4gIGZpbHRlck5vdGlmaWVyLm9uKFwiZmlsdGVyU3RhdGUuZW5hYmxlZFwiLCAodGV4dCwgZW5hYmxlZCkgPT4ge1xuICAgIGRpc3BhdGNoKHsuLi5jb252ZXJ0RmlsdGVyKEZpbHRlci5mcm9tVGV4dCh0ZXh0KSksIGVuYWJsZWR9LCBcImVuYWJsZWRcIik7XG4gIH0pO1xuXG4gIGZpbHRlck5vdGlmaWVyLm9uKFwic3Vic2NyaXB0aW9uLm1ldGFkYXRhXCIsIChzdWJzY3JpcHRpb24sIHZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xuICAgIGZvciAobGV0IGZpbHRlciBvZiBzdWJzY3JpcHRpb24uZmlsdGVyVGV4dCgpKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIC4uLmNvbnZlcnRGaWx0ZXIoRmlsdGVyLmZyb21UZXh0KGZpbHRlcikpLFxuICAgICAgICBtZXRhZGF0YTogdmFsdWUsIG9sZE1ldGFkYXRhOiBvbGRWYWx1ZVxuICAgICAgfSwgXCJtZXRhZGF0YVwiKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgbGV0IG9uQ2hhbmdlZEZpbHRlciA9IG9uQ2hhbmdlZDtcblxuLyoqXG4gKiBAbmFtZXNwYWNlIGZpbHRlcnNcbiAqL1xuY29uc3QgbmFtZXNwYWNlID0ge1xuICAvKipcbiAgICogUmVwcmVzZW50cyBhIHNpbmdsZSBmaWx0ZXIgcnVsZSBhbmQgaXRzIHN0YXRlLlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBGaWx0ZXJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHRleHQgQSB7QGxpbmsgaHR0cHM6Ly9oZWxwLmV5ZW8uY29tL2FkYmxvY2twbHVzL2hvdy10by13cml0ZS1maWx0ZXJzfGZpbHRlcn1cbiAgICogICBydWxlIHRoYXQgc3BlY2lmaWVzIHdoYXQgY29udGVudCB0byBibG9jayBvciB0byBhbGxvdy4gVXNlZCB0byBpZGVudGlmeVxuICAgKiAgIGEgZmlsdGVyLlxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW58bnVsbH0gZW5hYmxlZCBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIGZpbHRlciB3b3VsZCBiZVxuICAgKiAgIGFwcGxpZWQuIEZpbHRlcnMgYXJlIGVuYWJsZWQgYnkgZGVmYXVsdC4gRm9yIGNvbW1lbnQgZmlsdGVycyByZXR1cm5lZFxuICAgKiAgIHZhbHVlIGlzIG51bGwuXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gc2xvdyBJbmRpY2F0ZXMgdGhhdCB0aGlzIGZpbHRlciBpcyBub3Qgc3ViamVjdCB0byBhblxuICAgKiAgIGludGVybmFsIG9wdGltaXphdGlvbi4gRmlsdGVycyB0aGF0IGFyZSBjb25zaWRlcmVkIHNsb3cgc2hvdWxkIGJlXG4gICAqICAgYXZvaWRlZC4gT25seSBVUkxGaWx0ZXJzIGNhbiBiZSBzbG93LlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgZmlsdGVyIHtAbGluayBodHRwczovL2dpdGxhYi5jb20vZXllby9hZGJsb2NrcGx1cy9hYmMvYWRibG9ja3BsdXNjb3JlLy0vam9icy9hcnRpZmFjdHMvMC42LjAvZmlsZS9idWlsZC9kb2NzL21vZHVsZS1maWx0ZXJDbGFzc2VzLkZpbHRlci5odG1sP2pvYj1kb2NzI3R5cGV8dHlwZX1cbiAgICogQHByb3BlcnR5IHtib29sZWFufG51bGx9IHRoaXJkUGFydHkgVHJ1ZSB3aGVuIHRoZSBmaWx0ZXIgYXBwbGllcyB0b1xuICAgKiAgIHRoaXJkLXBhcnR5LCBmYWxzZSB0byBmaXJzdC1wYXJ0eSwgbnVsbCBvdGhlcndpc2UuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfG51bGx9IHNlbGVjdG9yIENTUyBzZWxlY3RvciBmb3IgdGhlIEhUTUwgZWxlbWVudHMgdGhhdFxuICAgKiAgIHdpbGwgYmUgaGlkZGVuLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBjc3AgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgdG8gYmUgaW5qZWN0ZWQuXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbj99IHJlbW92ZSBGb3IgZWxlbWVudCBoaWRpbmcgZW11bGF0aW9uIGZpbHRlcnMsIHRydWUgaWZcbiAgICogICB0aGUgZmlsdGVyIHdpbGwgcmVtb3ZlIGVsZW1lbnRzIGZyb20gdGhlIERPTSByYXRoZXIgaGlkaW5nIHRoZW0uXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0P30gY3NzIEZvciBlbGVtZW50IGhpZGluZyBlbXVsYXRpb24gZmlsdGVycy4gVGhlc2UgYXJlXG4gICAqICAgdGhlIGtleS12YWx1ZSBwYWlycyBmb3IgdGhlIGNzcyBwcm9wZXJ0aWVzIHRvIGFwcGx5IHRvIHRoZSBtYXRjaGVkXG4gICAqICAgZWxlbWVudC5cbiAgICovXG5cbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgdGhlIHJlc3VsdHMgb2YgY2FsbGluZyB0aGUgYGFkZGAgZnVuY3Rpb24uXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IEZpbHRlckFkZFJlc3VsdFxuICAgKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IGFkZGVkIFRoZSBmaWx0ZXIgdGV4dHMgdGhhdCB3ZXJlIGFkZGVkLlxuICAgKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IGV4aXN0cyBUaGUgZmlsdGVyIHRleHRzIHRoYXQgYWxyZWFkeSBleGlzdC4gVGhleVxuICAgKiAgIGhhdmUgbm90IGJlZW4gYWRkZWQsIGFuZCB0aGVpciBtZXRhZGF0YSBoYXMgbm90IGJlZW4gdXBkYXRlZC5cbiAgICovXG5cbiAgLyoqXG4gICAqIEFkZHMgb25lIG9yIG11bHRpcGxlIGZpbHRlcnMgZnJvbSB0ZXh0cy4gRmlsdGVycyB3aGljaCBoYXZlIGJlZW4gcHJldmlvdXNseVxuICAgKiBhZGRlZCBhcmUgc2tpcHBlZCB3aXRob3V0IHVwZGF0aW5nIHRoZWlyIG1ldGFkYXRhLlxuICAgKlxuICAgKiBJZiB0aGUgbWV0YWRhdGEgc2hvdWxkIGJlIHVwZGF0ZWQgZm9yIGEgZmlsdGVyIHdoaWNoIGFscmVhZHkgZXhpc3RzLCB0aGlzXG4gICAqIGNhbiBiZSBhY2hpZXZlZCBieSBjYWxsaW5nIGBzZXRNZXRhZGF0YWAuIFRvIHNlZSB3aGljaCBmaWx0ZXJzIGhhdmUgbm90IGhhZFxuICAgKiB0aGVpciBtZXRhZGF0YSB1cGRhdGVkLCBzZWUgdGhlIGBleGlzdHNgIHByb3BlcnR5IG9uIHRoZSByZXN1bHQgb2YgdGhpc1xuICAgKiBmdW5jdGlvbiBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xbc3RyaW5nXX0gdGV4dHMgVGhlIGZpbHRlciBydWxlcyB0byBiZSBhZGRlZC5cbiAgICogQHBhcmFtIHs/T2JqZWN0fSBtZXRhZGF0YSBFeHRyYSBkYXRhIHRvIGFzc29jaWF0ZSB3aXRoIGEgZmlsdGVyLlxuICAgKiBAcGFyYW0ge051bWJlcn0gW21ldGFkYXRhLmV4cGlyZXNBdF0gVGhlIHRpbWVzdGFtcCB3aGVuIHRoZSBmaWx0ZXIgc2hvdWxkXG4gICAqICAgZXhwaXJlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gW21ldGFkYXRhLmF1dG9FeHRlbmRNc10gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG9cbiAgICogICBleHRlbmQgdGhlIGZpbHRlcidzIGV4cGlyeSB3aGVuIHRoZSB1c2VyIG5hdmlnYXRlZCB0byBhIFVSTCB0aGF0IG1hdGNoZXNcbiAgICogICB0aGUgZmlsdGVyLiBUaGlzIHBhcmFtZXRlciBpcyB1c2VkIHRvZ2V0aGVyIHdpdGggYGV4cGlyZXNBdGAgYW5kIHdoZW4gdGhlXG4gICAqICAgdXNlciBuYXZpZ2F0ZXMgdG8gYSBVUkwgdGhhdCBtYXRjaGVzIHRoaXMgZmlsdGVyIGFuZCBpcyBub3QgZXhwaXJlZCxcbiAgICogICB0aGUgYGV4cGlyZXNBdGAgdmFsdWUgd2lsbCBiZSB1cGRhdGVkIHRvIGBEYXRlLm5vdygpICsgYXV0b0V4dGVuZE1zYC5cbiAgICpcbiAgICogICBfKipOb3RlOioqIFRoaXMgb25seSBhcHBsaWVzIHRvIGRvY3VtZW50IGFsbG93bGlzdGluZyBmaWx0ZXJzLl9cbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZTxGaWx0ZXJBZGRSZXN1bHQ+fSBBIHJlcG9ydCBvZiB3aGljaCBmaWx0ZXJzIHdlcmUgYWRkZWQsXG4gICAqICAgYW5kIHdoaWNoIHdlcmUgbm90IGFkZGVkIGJlY2F1c2UgdGhleSBhbHJlYWR5IGV4aXN0LlxuICAgKiBAdGhyb3dzIHtGaWx0ZXJFcnJvcnxFcnJvcn0gVGhlIGZpcnN0IGZpbHRlciB0byBhZGQgdGhhdCBlaXRoZXIgZmFpbGVkXG4gICAqICAgdmFsaWRhdGlvbiAoRmlsdGVyRXJyb3IpIG9yIHRoYXQgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgRE5SIChFcnJvcikuXG4gICAqICAgSWYgdGhlIHJlYXNvbiBpcyBcImZpbHRlcl9pbnZhbGlkX3dpbGRjYXJkXCIgdGhhdCBtZWFucyBmaWx0ZXIgZWl0aGVyIGhhc1xuICAgKiAgIG1vcmUgdGhhbiAxIGAqYCBvciBgKmAgaXMgcGxhY2VkIGluIGFuIHVuc3VwcG9ydGVkIHBsYWNlLlxuICAgKiBAbWVtYmVyb2YgZmlsdGVyc1xuICAgKi9cbiAgYXN5bmMgYWRkKHRleHRzLCBtZXRhZGF0YSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh0ZXh0cykpIHtcbiAgICAgIHRleHRzID0gW3RleHRzXTtcbiAgICB9XG5cbiAgICBpZiAoYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFkZEZpbHRlcnModGV4dHMsIG1ldGFkYXRhKTtcbiAgICAgIHVwZGF0ZVNjaGVkdWxlcklmTmVlZGVkKG1ldGFkYXRhKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgbGV0IHtmaWx0ZXJTdG9yYWdlfSA9IGZpbHRlckVuZ2luZTtcblxuICAgIGxldCBhZGRlZCA9IFtdO1xuICAgIGxldCBleGlzdHMgPSBbXTtcblxuICAgIGxldCBmaWx0ZXJzID0gW107XG4gICAgZm9yIChsZXQgdGV4dCBvZiB0ZXh0cykge1xuICAgICAgaWYgKGFkZGVkLmluY2x1ZGVzKHRleHQpIHx8IGV4aXN0cy5pbmNsdWRlcyh0ZXh0KSkge1xuICAgICAgICAvLyBEdXBsaWNhdGVzIHdpdGhpbiB0aGUgdGV4dHMgcGFzc2VkIGludG8gdGhpcyBmdW5jdGlvbiBkb24ndCBnZXRcbiAgICAgICAgLy8gZHVwbGljYXRlZCBpbiB0aGUgcmV0dXJuZWQgdmFsdWUuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgbm9ybWFsaXplZCA9IEZpbHRlci5ub3JtYWxpemUodGV4dCk7XG4gICAgICBsZXQgZmlsdGVyID0gRmlsdGVyLmZyb21UZXh0KG5vcm1hbGl6ZWQpO1xuICAgICAgbGV0IGVycm9yID0gdmFsaWRhdGVGaWx0ZXIoZmlsdGVyKTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlsdGVyU3RvcmFnZS5maWx0ZXJFeGlzdHMoZmlsdGVyKSkge1xuICAgICAgICBleGlzdHMucHVzaCh0ZXh0KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBmaWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICAgICAgYWRkZWQucHVzaCh0ZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIW1ldGFkYXRhKSB7XG4gICAgICBmb3IgKGxldCBmaWx0ZXIgb2YgZmlsdGVycykge1xuICAgICAgICBhd2FpdCBmaWx0ZXJTdG9yYWdlLmFkZEZpbHRlcihmaWx0ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGZpbHRlclN0b3JhZ2UuYWRkRmlsdGVyc1dpdGhNZXRhZGF0YShmaWx0ZXJzLCBtZXRhZGF0YSk7XG4gICAgICAgIHVwZGF0ZVNjaGVkdWxlcklmTmVlZGVkKG1ldGFkYXRhKTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IG5ldyBGaWx0ZXJFcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBhZGRlZCxcbiAgICAgIGV4aXN0c1xuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldCBhbiBleHRyYSBkYXRhIGFzc29jaWF0ZWQgd2l0aCBhbiBhZGRlZCBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IGZpbHRlciB0ZXh0IHRvIHNldCBtZXRhZGF0YSBmb3IuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtZXRhZGF0YSBFeHRyYSBkYXRhIHRvIGFzc29jaWF0ZSB3aXRoIGEgZmlsdGVyLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gTm90aGluZyBpcyBkb25lIGZvciBub3QgYWRkZWQgZmlsdGVyLlxuICAgKiBAdGhyb3dzIHtGaWx0ZXJFcnJvcn0gQW4gZXJyb3Igd2lsbCBiZSB0aHJvd24gZm9yIG5vdCBhZGRlZCBmaWx0ZXIuXG4gICAqIEBtZW1iZXJvZiBmaWx0ZXJzXG4gICAqL1xuICBhc3luYyBzZXRNZXRhZGF0YSh0ZXh0LCBtZXRhZGF0YSkge1xuICAgIGlmIChicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdCkge1xuICAgICAgc2V0TWV0YWRhdGFGb3JGaWx0ZXIodGV4dCwgbWV0YWRhdGEpO1xuICAgICAgdXBkYXRlU2NoZWR1bGVySWZOZWVkZWQobWV0YWRhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB7ZmlsdGVyU3RvcmFnZX0gPSBmaWx0ZXJFbmdpbmU7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmlsdGVyU3RvcmFnZS5zZXRNZXRhZGF0YUZvckZpbHRlcih0ZXh0LCBtZXRhZGF0YSk7XG4gICAgICB1cGRhdGVTY2hlZHVsZXJJZk5lZWRlZChtZXRhZGF0YSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5tZXNzYWdlID09IEVSUk9SX0ZJTFRFUl9OT1RfRk9VTkQpIHtcbiAgICAgICAgLy8gZmlsdGVyIG1pZ2h0IGJlIGFkZGVkIHdpdGhvdXQgYSBtZXRhZGF0YSBmaXJzdCxcbiAgICAgICAgLy8gc28gd2UncmUgdHJ5aW5nIHRvIG1ha2UgaXQgd29ya2luZyBpbiBhIG5vbi1zdXJwcmlzaW5nIHdheTpcbiAgICAgICAgLy8gYnkgcmVtb3ZpbmcgdGhlIGV4aXN0aW5nIGZpbHRlciBhbmQgcmVhZGRpbmcgaXQgd2l0aCBhIG1ldGFkYXRhLlxuICAgICAgICBsZXQgZmlsdGVyID0gRmlsdGVyLmZyb21UZXh0KEZpbHRlci5ub3JtYWxpemUodGV4dCkpO1xuICAgICAgICBpZiAoZmlsdGVyU3RvcmFnZS5maWx0ZXJFeGlzdHMoZmlsdGVyKSkge1xuICAgICAgICAgIGF3YWl0IGZpbHRlclN0b3JhZ2UucmVtb3ZlRmlsdGVyKGZpbHRlcik7XG4gICAgICAgICAgYXdhaXQgdGhpcy5hZGQoW3RleHRdLCBtZXRhZGF0YSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRmlsdGVyRXJyb3IoZS5tZXNzYWdlKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gZXh0cmEgZGF0YSBhc3NvY2lhdGVkIHdpdGggYSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSBmaWx0ZXIgdGV4dCB0byBnZXQgbWV0YWRhdGEgZm9yLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPD9PYmplY3Q+fVxuICAgKiBAbWVtYmVyb2YgZmlsdGVyc1xuICAgKi9cbiAgYXN5bmMgZ2V0TWV0YWRhdGEodGV4dCkge1xuICAgIGlmIChicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdCkge1xuICAgICAgcmV0dXJuIGdldE1ldGFkYXRhRm9yRmlsdGVyKHRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5nZXRNZXRhZGF0YUZvckZpbHRlcih0ZXh0KTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiB1c2VyIGZpbHRlciBvYmplY3RzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PEZpbHRlcj4+fVxuICAgKiBAbWVtYmVyb2YgZmlsdGVyc1xuICAgKi9cbiAgYXN5bmMgZ2V0VXNlckZpbHRlcnMoKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuXG4gICAgZm9yIChsZXQgc3Vic2NyaXB0aW9uIG9mIGZpbHRlckVuZ2luZS5maWx0ZXJTdG9yYWdlLnN1YnNjcmlwdGlvbnMoKSkge1xuICAgICAgaWYgKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFNwZWNpYWxTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgZm9yIChsZXQgdGV4dCBvZiBzdWJzY3JpcHRpb24uZmlsdGVyVGV4dCgpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goY29udmVydEZpbHRlcihGaWx0ZXIuZnJvbVRleHQodGV4dCkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdCkge1xuICAgICAgZm9yIChsZXQgW3RleHQsIGRldGFpbHNdIG9mIChhd2FpdCBnZXREeW5hbWljVXNlckZpbHRlcnMoKSkuZW50cmllcygpKSB7XG4gICAgICAgIGlmICghcmVzdWx0LmZpbmQoZmlsdGVyID0+IGZpbHRlci50ZXh0ID09IHRleHQpKSB7XG4gICAgICAgICAgbGV0IGZpbHRlciA9IGNvbnZlcnRGaWx0ZXIoRmlsdGVyLmZyb21UZXh0KHRleHQpKTtcbiAgICAgICAgICBmaWx0ZXIuZW5hYmxlZCA9IGZpbHRlci50eXBlID09IFwiY29tbWVudFwiID8gbnVsbCA6IGRldGFpbHMuZW5hYmxlZDtcblxuICAgICAgICAgIHJlc3VsdC5wdXNoKGZpbHRlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBhbGxvd2luZyBmaWx0ZXJzIHRoYXQgd2lsbCBiZSBlZmZlY3RpdmVcbiAgICogd2hlbiB0aGUgZ2l2ZW4gZG9jdW1lbnQgd2lsbCBiZSByZWxvYWRlZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHRhYklkIFRoZSBpZCBvZiB0aGUgdGFiIHRvIGxvb2t1cC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZnJhbWVJZD0wXSBUaGUgaWQgb2YgdGhlIGZyYW1lIHRvIGxvb2t1cC5cbiAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbb3B0aW9ucy50eXBlcz1bXCJkb2N1bWVudFwiXV0gVGhlIHR5cGVzIG9mIGZpbHRlcnNcbiAgICogICB0byBjb25zaWRlci4gVGhlc2UgY2FuIGJlIGFueSBvZiBcImRvY3VtZW50XCIsIFwiZWxlbWhpZGVcIiwgXCJnZW5lcmljYmxvY2tcIixcbiAgICogICBhbmQgXCJnZW5lcmljaGlkZVwiLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PHN0cmluZz4+fVxuICAgKiBAbWVtYmVyb2YgZmlsdGVyc1xuICAgKi9cbiAgYXN5bmMgZ2V0QWxsb3dpbmdGaWx0ZXJzKHRhYklkLCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQge2ZyYW1lSWQsIHR5cGVzfSA9IHtmcmFtZUlkOiAwLCB0eXBlczogW1wiZG9jdW1lbnRcIl0sIC4uLm9wdGlvbnN9O1xuICAgIGxldCBmaWx0ZXJzID0gbmV3IFNldCgpO1xuICAgIGxldCBtYXNrID0gdHlwZXMucmVkdWNlKChhLCBiKSA9PiBhIHwgY29udGVudFR5cGVzW2IudG9VcHBlckNhc2UoKV0sIDApO1xuXG4gICAgZm9yIChsZXQgZnJhbWUgPSBnZXRGcmFtZUluZm8odGFiSWQsIGZyYW1lSWQpOyBmcmFtZTtcbiAgICAgICAgIGZyYW1lID0gZnJhbWUucGFyZW50KSB7XG4gICAgICBsZXQgcGFyZW50SG9zdG5hbWUgPSBmcmFtZS5wYXJlbnQgJiYgZnJhbWUucGFyZW50Lmhvc3RuYW1lO1xuICAgICAgbGV0IGRvY0RvbWFpbiA9IHBhcmVudEhvc3RuYW1lIHx8IGZyYW1lLmhvc3RuYW1lO1xuICAgICAgbGV0IG1hdGNoZXMgPSBmaWx0ZXJFbmdpbmUuZGVmYXVsdE1hdGNoZXIuc2VhcmNoKFxuICAgICAgICBmcmFtZS51cmwsIG1hc2ssIGRvY0RvbWFpbiwgZnJhbWUuc2l0ZWtleSwgZmFsc2UsIFwiYWxsb3dpbmdcIik7XG5cbiAgICAgIGZvciAobGV0IGZpbHRlciBvZiBtYXRjaGVzLmFsbG93aW5nKSB7XG4gICAgICAgIGZpbHRlcnMuYWRkKGZpbHRlci50ZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShmaWx0ZXJzKTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIGEgcGFydGljdWxhciByZXNvdXJjZSBpcyBhbGxvd2xpc3RlZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgcmVzb3VyY2UncyB1cmwuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSByZXNvdXJjZSdzIGNvbnRlbnQgdHlwZS4gQ2FuIGJlIG9uZSBvZlxuICAgKiAgIFwiYmFja2dyb3VuZFwiLCBcImNzcFwiLCBcImRvY3VtZW50XCIsIFwiZHRkXCIsIFwiZWxlbWhpZGVcIiwgXCJmb250XCIsXG4gICAqICAgXCJnZW5lcmljYmxvY2tcIiwgXCJnZW5lcmljaGlkZVwiLCBcImhlYWRlclwiLCBcImltYWdlXCIsIFwibWVkaWFcIiwgXCJvYmplY3RcIixcbiAgICogICBcIm90aGVyXCIsIFwicGluZ1wiLCBcInBvcHVwXCIsIFwic2NyaXB0XCIsIFwic3R5bGVzaGVldFwiLCBcInN1YmRvY3VtZW50XCIsXG4gICAqICAgXCJ3ZWJidW5kbGVcIiwgXCJ3ZWJydGNcIiwgXCJ3ZWJzb2NrZXRcIiwgXCJ4YmxcIiwgXCJ4bWxodHRwcmVxdWVzdFwiLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdGFiSWQgVGhlIGlkIG9mIHJlc291cmNlJ3MgdGFiLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVJZD0wIFRoZSBpZCBvZiB0aGUgcmVzb3VyY2UncyBmcmFtZS5cbiAgICogQHJldHVybiB7UHJvbWlzZTxib29sPn1cbiAgICogQG1lbWJlcm9mIGZpbHRlcnNcbiAgICovXG4gIGFzeW5jIGlzUmVzb3VyY2VBbGxvd2xpc3RlZCh1cmwsIHR5cGUsIHRhYklkLCBmcmFtZUlkID0gMCkge1xuICAgIGxldCBtYXNrID0gY29udGVudFR5cGVzW3R5cGUudG9VcHBlckNhc2UoKV07XG4gICAgbGV0IGZyYW1lID0gZ2V0RnJhbWVJbmZvKHRhYklkLCBmcmFtZUlkKSB8fCB7fTtcbiAgICBsZXQgbWF0Y2hlciA9IGZpbHRlckVuZ2luZS5kZWZhdWx0TWF0Y2hlcjtcblxuICAgIC8vIFRoZSBkb2NEb21haW4gZm9yIGEgZnJhbWUgaXMgdGhlIGhvc3RuYW1lIG9mIHRoZSBwYXJlbnQgZnJhbWVcbiAgICAvLyAodGhlIGxvYWRlcikuIEZvciB0b3AtbGV2ZWwgZnJhbWVzIHdlIHVzZSB0aGUgY3VycmVudCBVUkwncyBob3N0bmFtZS5cbiAgICBsZXQgZG9jRG9tYWluID0gZnJhbWUuaG9zdG5hbWUgfHwgcGFyc2VVUkwodXJsKS5ob3N0bmFtZTtcbiAgICBpZiAobWF0Y2hlci5pc0FsbG93bGlzdGVkKHVybCwgbWFzaywgZG9jRG9tYWluLCBmcmFtZS5zaXRla2V5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yICg7IGZyYW1lOyBmcmFtZSA9IGZyYW1lLnBhcmVudCkge1xuICAgICAgaWYgKCFmcmFtZS51cmwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGxldCBwYXJlbnRIb3N0bmFtZSA9IGZyYW1lLnBhcmVudCAmJiBmcmFtZS5wYXJlbnQuaG9zdG5hbWU7XG4gICAgICBkb2NEb21haW4gPSBwYXJlbnRIb3N0bmFtZSB8fCBmcmFtZS5ob3N0bmFtZTtcbiAgICAgIGlmIChtYXRjaGVyLmlzQWxsb3dsaXN0ZWQoZnJhbWUudXJsLCBjb250ZW50VHlwZXMuRE9DVU1FTlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY0RvbWFpbiwgZnJhbWUuc2l0ZWtleSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFbmFibGVzIG9uZSBvciBtdWx0aXBsZSBmaWx0ZXJzLiBUaGUgZmlsdGVycyBlZmZlY3RzXG4gICAqIHdpbGwgYWdhaW4gYmUgYXBwbGllZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8W3N0cmluZ119IHRleHRzIFRoZSBmaWx0ZXIgcnVsZXMgdG8gYmUgZW5hYmxlZC5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICogQG1lbWJlcm9mIGZpbHRlcnNcbiAgICovXG4gIGFzeW5jIGVuYWJsZSh0ZXh0cykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh0ZXh0cykpIHtcbiAgICAgIHRleHRzID0gW3RleHRzXTtcbiAgICB9XG5cbiAgICBpZiAoYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QpIHtcbiAgICAgIGF3YWl0IGVuYWJsZUZpbHRlcnModGV4dHMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IHRleHQgb2YgdGV4dHMpIHtcbiAgICAgIGxldCBub3JtYWxpemVkID0gRmlsdGVyLm5vcm1hbGl6ZSh0ZXh0KTtcbiAgICAgIGZpbHRlckVuZ2luZS5maWx0ZXJTdG9yYWdlLmZpbHRlclN0YXRlLnNldEVuYWJsZWQobm9ybWFsaXplZCwgdHJ1ZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyBvbmUgb3IgbXVsdGlwbGUgZmlsdGVycy4gVGhlIGZpbHRlcnMgd2lsbCBubyBsb25nZXIgaGF2ZVxuICAgKiBhbnkgZWZmZWN0IGJ1dCB3aWxsIGJlIHJldHVybmVkIGJ5IGBmaWx0ZXJzLmdldFVzZXJGaWx0ZXJzKClgLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xbc3RyaW5nXX0gdGV4dHMgVGhlIGZpbHRlciBydWxlcyB0byBiZSBkaXNhYmxlZC5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICogQG1lbWJlcm9mIGZpbHRlcnNcbiAgICovXG4gIGRpc2FibGUsXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgb25lIG9yIG11bHRpcGxlIGZpbHRlcnMuIFRoZSBmaWx0ZXJzIHdpbGwgbm8gbG9uZ2VyIGhhdmVcbiAgICogYW55IGVmZmVjdCBhbmQgd29uJ3QgYmUgcmV0dXJuZWQgYnkgYGZpbHRlcnMuZ2V0VXNlckZpbHRlcnMoKWAuXG4gICAqIEBwYXJhbSB7c3RyaW5nfFtzdHJpbmddfSB0ZXh0cyBUaGUgZmlsdGVyIHJ1bGVzIHRvIGJlIHJlbW92ZWQuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqIEBtZW1iZXJvZiBmaWx0ZXJzXG4gICAqL1xuICBhc3luYyByZW1vdmUodGV4dHMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGV4dHMpKSB7XG4gICAgICB0ZXh0cyA9IFt0ZXh0c107XG4gICAgfVxuXG4gICAgaWYgKGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0KSB7XG4gICAgICBhd2FpdCByZW1vdmVPckRpc2FibGVGaWx0ZXJzKHRleHRzLCB0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGxldCB0ZXh0IG9mIHRleHRzKSB7XG4gICAgICBsZXQgbm9ybWFsaXplZCA9IEZpbHRlci5ub3JtYWxpemUodGV4dCk7XG4gICAgICBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5yZW1vdmVGaWx0ZXIoRmlsdGVyLmZyb21UZXh0KG5vcm1hbGl6ZWQpKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyBhIGZpbHRlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgRmlsdGVyIHRvIGJlIHZhbGlkYXRlZFxuICAgKiBAcmV0dXJuIHtudWxsfEZpbHRlckVycm9yfVxuICAgKiBAbWVtYmVyb2YgZmlsdGVyc1xuICAgKi9cbiAgdmFsaWRhdGUodGV4dCkge1xuICAgIGxldCBub3JtYWxpemVkID0gRmlsdGVyLm5vcm1hbGl6ZSh0ZXh0KTtcbiAgICBsZXQgZmlsdGVyID0gRmlsdGVyLmZyb21UZXh0KG5vcm1hbGl6ZWQpO1xuICAgIHJldHVybiB2YWxpZGF0ZUZpbHRlcihmaWx0ZXIpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHVubmVjZXNzYXJ5IHdoaXRlc3BhY2VzIGZyb20gZmlsdGVyIHRleHQsIHdpbGwgb25seSByZXR1cm4gbnVsbCBpZlxuICAgKiB0aGUgaW5wdXQgcGFyYW1ldGVyIGlzIG51bGwuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IEZpbHRlciB0ZXh0IHRvIGJlIG5vcm1hbGl6ZWRcbiAgICogQHJldHVybiB7c3RyaW5nfSBOb3JtYWxpemVkIGZpbHRlciB0ZXh0XG4gICAqIEBtZW1iZXJvZiBmaWx0ZXJzXG4gICAqL1xuICBub3JtYWxpemUodGV4dCkge1xuICAgIHJldHVybiBGaWx0ZXIubm9ybWFsaXplKHRleHQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFbWl0dGVkIHdoZW4gYSBuZXcgZmlsdGVyIGlzIGFkZGVkLlxuICAgKiBAZXZlbnRcbiAgICogQHR5cGUge0V2ZW50RGlzcGF0Y2hlcjxGaWx0ZXI+fVxuICAgKiBAbWVtYmVyb2YgZmlsdGVyc1xuICAgKi9cbiAgb25BZGRlZDogbmV3IEV2ZW50RGlzcGF0Y2hlcihkaXNwYXRjaCA9PiB7XG4gICAgZmlsdGVyTm90aWZpZXIub24oXCJmaWx0ZXIuYWRkZWRcIiwgbWFrZUZpbHRlckxpc3RlbmVyKGRpc3BhdGNoKSk7XG4gICAgZmlsdGVyTm90aWZpZXIub24oXCJzdWJzY3JpcHRpb24uYWRkZWRcIiwgbWFrZVN1Ykxpc3RlbmVyKGRpc3BhdGNoKSk7XG4gIH0pLFxuXG4gIC8qKlxuICAgKiBFbWl0dGVkIHdoZW4gYSBmaWx0ZXIgaXMgZWl0aGVyIGVuYWJsZWQgb3IgZGlzYWJsZWQuXG4gICAqIFRoZSBwcm9wZXJ0eSBuYW1lIFwiZW5hYmxlZFwiIG9yXG4gICAqIFwibWV0YWRhdGFcIiBhbmQgb3B0aW9uYWxseSBcIm9sZE1ldGFkYXRhXCIgaXMgcHJvdmlkZWQuXG4gICAqIEBldmVudFxuICAgKiBAdHlwZSB7RXZlbnREaXNwYXRjaGVyPEZpbHRlciwgc3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIGZpbHRlcnNcbiAgICovXG4gIG9uQ2hhbmdlZCxcblxuICAvKipcbiAgICogRW1pdHRlZCB3aGVuIGEgZmlsdGVyIGlzIHJlbW92ZWQuXG4gICAqIEBldmVudFxuICAgKiBAdHlwZSB7RXZlbnREaXNwYXRjaGVyPEZpbHRlcj59XG4gICAqIEBtZW1iZXJvZiBmaWx0ZXJzXG4gICAqL1xuICBvblJlbW92ZWQ6IG5ldyBFdmVudERpc3BhdGNoZXIoZGlzcGF0Y2ggPT4ge1xuICAgIGZpbHRlck5vdGlmaWVyLm9uKFwiZmlsdGVyLnJlbW92ZWRcIiwgbWFrZUZpbHRlckxpc3RlbmVyKGRpc3BhdGNoKSk7XG4gICAgZmlsdGVyTm90aWZpZXIub24oXCJzdWJzY3JpcHRpb24ucmVtb3ZlZFwiLCBtYWtlU3ViTGlzdGVuZXIoZGlzcGF0Y2gpKTtcbiAgfSksXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgTVYyIHRvIE1WMyBtaWdyYXRpb24gZXJyb3JzIGFuZCB0aGUgcmVsYXRlZCBmaWx0ZXJzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGFycmF5PEZpbHRlciwgc3RyaW5nPj59IFRoZSBtaWdyYXRpb24gZXJyb3JzLlxuICAgKiBAbWVtYmVyb2YgZmlsdGVyc1xuICAgKi9cbiAgYXN5bmMgZ2V0TWlncmF0aW9uRXJyb3JzKCkge1xuICAgIHJldHVybiBQcmVmcy5taWdyYXRpb25fZmlsdGVyX2Vycm9ycztcbiAgfSxcblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSBtaWdyYXRpb24gZXJyb3JzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKiBAbWVtYmVyb2YgZmlsdGVyc1xuICAgKi9cbiAgYXN5bmMgY2xlYXJNaWdyYXRpb25FcnJvcnMoKSB7XG4gICAgUHJlZnMubWlncmF0aW9uX2ZpbHRlcl9lcnJvcnMgPSBbXTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgbmFtZXNwYWNlO1xuXG5cbmFzeW5jIGZ1bmN0aW9uIHJlbW92ZUV4cGlyZWRGaWx0ZXJzKCkge1xuICB0cnkge1xuICAgIC8vIFJldHJpZXZlIHRoZSBsaXN0IG9mIHVzZXIgZmlsdGVyc1xuICAgIGNvbnN0IGZpbHRlcnMgPSBhd2FpdCBuYW1lc3BhY2UuZ2V0VXNlckZpbHRlcnMoKTtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgY29uc3QgZmlsdGVyc1RvUmVtb3ZlID0gW107XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGVhY2ggZmlsdGVyIHRvIGNoZWNrIGZvciBleHBpcmF0aW9uXG4gICAgZm9yIChjb25zdCBmaWx0ZXIgb2YgZmlsdGVycykge1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSBhd2FpdCBuYW1lc3BhY2UuZ2V0TWV0YWRhdGEoZmlsdGVyLnRleHQpIHx8IHt9O1xuICAgICAgY29uc3Qge2V4cGlyZXNBdH0gPSBtZXRhZGF0YTtcblxuICAgICAgLy8gSWYgdGhlIGZpbHRlciBpcyBleHBpcmVkLCBhZGQgaXQgdG8gdGhlIGxpc3Qgb2YgZmlsdGVycyB0byByZW1vdmVcbiAgICAgIGlmIChleHBpcmVzQXQgJiYgbm93ID4gZXhwaXJlc0F0KSB7XG4gICAgICAgIGZpbHRlcnNUb1JlbW92ZS5wdXNoKGZpbHRlci50ZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYWxsIGV4cGlyZWQgZmlsdGVyc1xuICAgIGF3YWl0IG5hbWVzcGFjZS5yZW1vdmUoZmlsdGVyc1RvUmVtb3ZlKTtcbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGlsZSByZW1vdmluZyBleHBpcmVkIGZpbHRlcnM6XCIsIGUpO1xuICB9XG59XG5cblxuYXN5bmMgZnVuY3Rpb24gb25Db21wbGV0ZWQoZGV0YWlscykge1xuICBhd2FpdCBpbml0aWFsaXplci5zdGFydCgpO1xuXG4gIGNvbnN0IHtmcmFtZUlkLCB0YWJJZH0gPSBkZXRhaWxzO1xuXG4gIC8vIE9ubHkgcHJvY2VlZCBpZiB0aGUgbmF2aWdhdGlvbiBpcyBpbiB0aGUgbWFpbiBmcmFtZVxuICBpZiAoIWlzVG9wTGV2ZWxGcmFtZUlkKGZyYW1lSWQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBSZXRyaWV2ZSB0aGUgbGlzdCBvZiB1c2VyIGZpbHRlcnNcbiAgICBjb25zdCBmaWx0ZXJzID0gYXdhaXQgbmFtZXNwYWNlLmdldEFsbG93aW5nRmlsdGVycyh0YWJJZCk7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciBlYWNoIGZpbHRlciB0byBjaGVjayBpZiBpdHMgZXhwaXJ5IHNob3VsZCBiZSBleHRlbmRlZFxuICAgIGZvciAoY29uc3QgZmlsdGVyVGV4dCBvZiBmaWx0ZXJzKSB7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IG5hbWVzcGFjZS5nZXRNZXRhZGF0YShmaWx0ZXJUZXh0KSB8fCB7fTtcbiAgICAgIGNvbnN0IHtleHBpcmVzQXQsIGF1dG9FeHRlbmRNc30gPSBtZXRhZGF0YTtcblxuICAgICAgLy8gSWYgdGhlIGZpbHRlciBpcyBzZXQgdG8gYXV0by1leHRlbmQsIGFuZCBpdCBpcyBub3QgZXhwaXJlZCxcbiAgICAgIC8vIGV4dGVuZCBpdHMgZXhwaXJhdGlvbiBkYXRlXG4gICAgICBjb25zdCBpc0V4dGVuZGFibGVGaWx0ZXIgPSBhdXRvRXh0ZW5kTXMgJiYgZXhwaXJlc0F0O1xuICAgICAgaWYgKGlzRXh0ZW5kYWJsZUZpbHRlciAmJiBub3cgPCBleHBpcmVzQXQpIHtcbiAgICAgICAgYXdhaXQgbmFtZXNwYWNlLnNldE1ldGFkYXRhKGZpbHRlclRleHQsIHtcbiAgICAgICAgICAuLi5tZXRhZGF0YSxcbiAgICAgICAgICBleHBpcmVzQXQ6IG5vdyArIGF1dG9FeHRlbmRNc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igd2hpbGUgZXh0ZW5kaW5nIGV4cGlyeSBmb3IgZmlsdGVyczpcIiwgZSk7XG4gIH1cbn1cblxubGV0IHNjaGVkdWxlcjtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHNjaGVkdWxlciBpcyBydW5uaW5nIGFuZCB1cGRhdGVzIHRoZSBuZXh0IHRpbWVzdGFtcCBpZiBuZWVkZWQuXG4gKlxuICogQHBhcmFtIHs/T2JqZWN0fSBtZXRhZGF0YSBFeHRyYSBkYXRhIHRvIGFzc29jaWF0ZSB3aXRoIGEgZmlsdGVyLlxuICogQHBhcmFtIHtOdW1iZXJ9IFttZXRhZGF0YS5leHBpcmVzQXRdIFRoZSB0aW1lc3RhbXAgd2hlbiB0aGUgZmlsdGVyIHNob3VsZFxuICogICBleHBpcmUuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVNjaGVkdWxlcklmTmVlZGVkKG1ldGFkYXRhKSB7XG4gIGlmIChzY2hlZHVsZXIgJiYgbWV0YWRhdGEgJiYgbWV0YWRhdGEuZXhwaXJlc0F0KSB7XG4gICAgc2NoZWR1bGVyLmNoZWNrTm93KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTdGFydHMgbGlzdGVuaW5nIGZvciBuYXZpZ2F0aW9uIGV2ZW50cyB0byByZW1vdmUgZXhwaXJlZCBmaWx0ZXJzXG4gKiBvciByZW5ldyB0aGUgZXhwaXJ5IG9mIGZpbHRlcnMgdGhhdCBhcmUgc2V0IHRvIGF1dG8tZXh0ZW5kLlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnQoKSB7XG4gIGlmIChzY2hlZHVsZXIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gTGlzdGVuIGZvciBuYXZpZ2F0aW9uIGV2ZW50cyB0byBleHRlbmQgdGhlIGV4cGlyeSBvZiBmaWx0ZXJzXG4gIGJyb3dzZXIud2ViTmF2aWdhdGlvbi5vbkNvbXBsZXRlZC5hZGRMaXN0ZW5lcihvbkNvbXBsZXRlZCk7XG5cbiAgLy8gaW5pdGlhbGl6ZSB0aGUgc2NoZWR1bGVyIHRvIHJlbW92ZSBleHBpcmVkIGZpbHRlcnNcbiAgc2NoZWR1bGVyID0gbmV3IFNjaGVkdWxlcih7XG4gICAgaW50ZXJ2YWw6IDAsXG4gICAgbGlzdGVuZXI6ICgpID0+IHJlbW92ZUV4cGlyZWRGaWx0ZXJzKCksXG4gICAgYXN5bmMgZ2V0TmV4dFRpbWVzdGFtcCgpIHtcbiAgICAgIGF3YWl0IGluaXRpYWxpemVyLnN0YXJ0KCk7XG5cbiAgICAgIGNvbnN0IGZpbHRlcnMgPSBhd2FpdCBuYW1lc3BhY2UuZ2V0VXNlckZpbHRlcnMoKTtcbiAgICAgIGxldCBuZXh0VGltZXN0YW1wID0gRGF0ZS5ub3coKSArIE1JTExJU19JTl9IT1VSOyAvLyAxaCBmcm9tIG5vd1xuXG4gICAgICBmb3IgKGNvbnN0IGZpbHRlciBvZiBmaWx0ZXJzKSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gYXdhaXQgbmFtZXNwYWNlLmdldE1ldGFkYXRhKGZpbHRlci50ZXh0KSB8fCB7fTtcbiAgICAgICAgY29uc3Qge2V4cGlyZXNBdH0gPSBtZXRhZGF0YTtcblxuICAgICAgICBpZiAoZXhwaXJlc0F0ICYmIGV4cGlyZXNBdCA8IG5leHRUaW1lc3RhbXApIHtcbiAgICAgICAgICBuZXh0VGltZXN0YW1wID0gZXhwaXJlc0F0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXh0VGltZXN0YW1wO1xuICAgIH1cbiAgfSk7XG59XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3Nlci5qc1wiO1xuXG5pbXBvcnQge3BhcnNlVVJMfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi91cmwuanNcIjtcbmltcG9ydCB7QUxMT1dJTkdfVFlQRVMsIGNvbnRlbnRUeXBlc31cbiAgZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvY29udGVudFR5cGVzLmpzXCI7XG5cbmltcG9ydCB7ZmlsdGVyRW5naW5lfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQge2xvZ0l0ZW19IGZyb20gXCIuL2RpYWdub3N0aWNzLmpzXCI7XG5pbXBvcnQge2dldFNpdGVrZXksIGNsZWFyVGFiU2l0ZWtleXMsXG4gICAgICAgIGFkZExpc3RlbmVyIGFzIGFkZE9uU2l0ZWtleVJlY2VpdmVkTGlzdGVuZXJ9IGZyb20gXCIuL3NpdGVrZXkuanNcIjtcbmltcG9ydCB7YXBwbHlDb250ZW50RmlsdGVyc30gZnJvbSBcIi4vY29udGVudC1maWx0ZXIuanNcIjtcbmltcG9ydCB7dHJhY2UsIGRlYnVnfSBmcm9tIFwiLi9kZWJ1Z2dpbmcuanNcIjtcbmltcG9ydCB7aWdub3JlTm9Db25uZWN0aW9uRXJyb3J9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcblxuLyoqXG4gKiBUaGUgVVJMIHRoYXQgYnJvd3NlcnMgdXNlIHRvIHJlcHJlc2VudCBhbiBlbXB0eSBwYWdlLCBhYm91dDpibGFuay5cbiAqL1xuZXhwb3J0IGNvbnN0IEJMQU5LX1BBR0VfVVJMID0gXCJhYm91dDpibGFua1wiO1xuXG4vKipcbiAqIFRoZSBmcmFtZUlkIG9mIHRoZSB0b3AgbGV2ZWwgZnJhbWUgb24gZWFjaCB0YWIuXG4gKi9cbmV4cG9ydCBjb25zdCBUT1BfTEVWRUxfRlJBTUVfSUQgPSAwO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGZyYW1lSWQgY29ycmVzcG9uZHMgdG8gdGhlIHRvcCBsZXZlbCBmcmFtZSBvbiBhIHRhYi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZUlkXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNUb3BMZXZlbEZyYW1lSWQoZnJhbWVJZCkge1xuICByZXR1cm4gZnJhbWVJZCA9PSBUT1BfTEVWRUxfRlJBTUVfSUQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgZnJhbWVJZCBjb3JyZXNwb25kcyB0byBhIGZyYW1lIG9uIGEgdGFiLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lSWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRnJhbWVJZChmcmFtZUlkKSB7XG4gIHJldHVybiBmcmFtZUlkID49IFRPUF9MRVZFTF9GUkFNRV9JRDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBmcmFtZUlkIGNvcnJlc3BvbmRzIHRvIGFuIGlmcmFtZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZUlkXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZENoaWxkRnJhbWVJZChmcmFtZUlkKSB7XG4gIHJldHVybiBmcmFtZUlkID4gVE9QX0xFVkVMX0ZSQU1FX0lEO1xufVxuXG4vKipcbiAqIEFsbCBrbm93biBjdXJyZW50bHkgYWN0aXZlIGZyYW1lcywgdGhhdCBjYW4gYmUgbG9va2VkIHVwIGJ5XG4gKiBgdGFiSWRgLCBhbmQgdGhlbiBieSBgZnJhbWVJZGAgKGBbdGFiSWQsIFtmcmFtZUlkLCBGcmFtZUluZm9dXWApLlxuICpcbiAqIE1haW50YWluaW5nIHRoaXMgc3RhdGUgaXMgdGhlIGNlbnRyYWwgcmVhc29uIGZvciB0aGUgY29kZSBpbiB0aGlzXG4gKiBmaWxlLiBXaGVuIHdlIHN0YXJ0IHVwIEVXRSwgd2Ugc2NhbiBhbGwgZXhpc3RpbmcgdGFicyBmb3IgdGhlaXJcbiAqIGZyYW1lcy4gQWZ0ZXIgdGhhdCwgd2UgaG9vayBpbnRvIHZhcmlvdXMgYnJvd3NlciBldmVudHMgdG8gdHJ5IHRvXG4gKiBrZWVwIGl0IHVwIHRvIGRhdGUgYXMgdGhpbmdzIGNoYW5nZS5cbiAqXG4gKiBAdHlwZSB7TWFwPG51bWJlciwgTWFwPG51bWJlciwgRnJhbWVJbmZvPj59XG4gKi9cbmxldCBzdGF0ZSA9IG5ldyBNYXAoKTtcbmxldCBzdGFydHVwUHJvbWlzZTtcblxuLyoqXG4gKiBNYW5hZ2VzIHRyYWNraW5nIHN0YXRlIHRoYXQgaXMgdGllZCB0byBhIHNpbmdsZSBzcGVjaWZpYyBmcmFtZS5cbiAqXG4gKiBBIHNpbXBsZSB3ZWJwYWdlIHdpbGwgaGF2ZSBhIHNpbmdsZSBmcmFtZSBpbiBhIHRhYi4gSG93ZXZlciwgd2hlblxuICogd2UgbG9vayBhdCBzaXRlcyB3aXRoIGFkdmVydGlzaW5nIGFuZCBlbWJlZGRlZCB0cmFja2VycywgdGhleSBvZnRlblxuICogaGF2ZSBtYW55IDxpZnJhbWU+IGVsZW1lbnRzLiBFYWNoIGlmcmFtZSBtYXkgaGF2ZSBzbGlnaHRseVxuICogZGlmZmVyZW50IHN0YXRlLCBidXQgZ2VuZXJhbGx5IGEgZnJhbWUgd2lsbCBpbmhlcml0IHNldHRpbmdzIGZyb21cbiAqIHRoZSBmcmFtZSB0aGF0IGl0J3Mgb24gKGl0cyBwYXJlbnQgZnJhbWUpLlxuICpcbiAqIFRoaXMgc3RhdGUgaXMgbW9zdGx5IHVzZWQgaW4gYXBwbHlpbmcgZnJhbWUtbGV2ZWwgYWxsb3dpbmcgZmlsdGVyc1xuICogKGVnIGAkZG9jdW1lbnRgIGZpbHRlcnMpLCBidXQgaXMgYWxzbyB1c2VkIHRvIGhvbGQgcGFyYW1ldGVycyBsaWtlXG4gKiB3aGF0IGhvc3RuYW1lIHRvIHVzZSB3aGVuIGNoZWNraW5nIGlmIGZpbHRlcnMgbWF0Y2ggYSByZXF1ZXN0LCBhbmRcbiAqIHdoZXRoZXIgb3Igbm90IGEgc2l0ZWtleSBpcyBpbnZvbHZlZC4gVGhpcyBuZWVkcyB0byBiZSBkb25lXG4gKiBzdGF0ZWZ1bGx5IGJlY2F1c2Ugd2UgaW5oZXJpdCBzb21lIHN0YXRlIGZyb20gcGFyZW50IGZyYW1lcy5cbiAqXG4gKiBXZSBzb21ldGltZXMgbmVlZCBhY2Nlc3MgdG8gdGhpcyBkYXRhIHN5bmNocm9ub3VzbHkgKGZvciBleGFtcGxlIHRvXG4gKiBkbyByZXF1ZXN0IGZpbHRlcmluZyksIGJ1dCB0aGUgZnVuY3Rpb25zIHRvIGZldGNoIHRoaXMgZGF0YSBmcm9tXG4gKiB0aGUgYnJvd3NlciBvbiBkZW1hbmQgYXJlIGFzeW5jaHJvbm91cy4gVGhlIGV2ZW50cyB3aGVyZSB3ZSBuZWVkIHRvXG4gKiBtYWtlIGRlY2lzaW9ucyBiYXNlZCBvbiB0aGUgZnJhbWUgdXN1YWxseSBoYXZlIHNvbWUgb2YgdGhlIGZyYW1lJ3NcbiAqIHN0YXRlLCBsaWtlIHRoZSBVUkwgb2YgdGhlIGZyYW1lLCBidXQgZG9uJ3QgaGF2ZSB0aGUgc2l0ZWtleSBhbmRcbiAqIGRvbid0IGhhdmUgYWxsIG9mIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcGFyZW50cyBvZiB0aGUgZnJhbWUuXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRhYklkIFRoZSBpZCBvZiB0aGUgdGFiLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHVybCBUaGUgdXJsIG9mIHRoZSBmcmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBob3N0bmFtZSBUaGUgaG9zdG5hbWUgcGFydCBvZiB0aGUgZnJhbWUnc1xuICogICBVUkwuIElmIHRoZSBVUkwgaXNuJ3QgYSBub3JtYWwgSFRUUCBVUkwgKGZvciBleGFtcGxlIGlmIGl0J3NcbiAqICAgYWJvdXQ6YmxhbmspIHRoZW4gdGhpcyB3aWxsIGJlIHRoZSBwYXJlbnQgZnJhbWUncyBob3N0bmFtZS4gSWZcbiAqICAgdGhhdCBhbHNvIGRvZXNuJ3QgaGF2ZSBhIG5vcm1hbCBIVFRQIGhvc3RuYW1lLCB0aGVuIHRoaXMgd2lsbFxuICogICBkZWZhdWx0IHRvIGFuIGVtcHR5IHN0cmluZy5cbiAqIEBwcm9wZXJ0eSB7P3N0cmluZ30gc2l0ZWtleSBUaGUgc2l0ZWtleSBhc3NvY2lhdGVkIHdpdGggYSBmcmFtZSwgaWZcbiAqICAgdGhlcmUgaXMgb25lLiBUaGVzZSBzaXRla2V5cyBhcmUgcmVhZCBmcm9tIHRoZVxuICogICBgb25IZWFkZXJzUmVjZWl2ZWRgIGV2ZW50LiBUaGlzIGlzIGluaGVyaXRlZCBmcm9tIHRoZSBwYXJlbnRcbiAqICAgZnJhbWUgaWYgdGhpcyBmcmFtZSBkb2Vzbid0IGhhdmUgYSBzaXRla2V5IG9mIGl0cyBvd24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGhlYWRlcnNSZWNlaXZlZCBUcnVlIGlmIHdlJ3ZlIHJlY2VpdmVkIGFuXG4gKiAgIGBvbkhlYWRlcnNSZWNlaXZlZGAgZXZlbnQgZm9yIHRoaXMgZnJhbWUgYW5kIGhhdmUgY2hlY2tlZCBpdCBmb3JcbiAqICAgc2l0ZWtleXMuIElmIHRoaXMgaXMgZmFsc2UsIGl0IGNvdWxkIG1lYW4gdGhhdCB3ZSBkb24ndCBoYXZlXG4gKiAgIGVub3VnaCBpbmZvcm1hdGlvbiB5ZXQgdG8gbWFrZSBibG9ja2luZyBkZWNpc2lvbnMsIGJlY2F1c2UgYVxuICogICBzaXRla2V5IG1pZ2h0IHN0aWxsIGFycml2ZSB3aXRoIHRoZSBoZWFkZXJzLlxuICogQHByb3BlcnR5IHs/RnJhbWVJbmZvfSBwYXJlbnQgVGhlIGZyYW1lIHRoYXQgdGhpcyBmcm9tIGlzIG9uLiBOdWxsXG4gKiAgIGlmIHRoaXMgaXMgdGhlIHRvcC1sZXZlbCBmcmFtZSBvbiBhIHRhYi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhbGxvd2xpc3RlZCBCaXRmaWVsZCB3aGVyZSBlYWNoIHNldCBiaXQgaXMgdGhlXG4gKiAgIGNvbnRlbnQgdHlwZSBvZiBhbiBhbGxvd2xpc3RpbmcgZmlsdGVyIGFwcGxpZWQgdG8gdGhlIGZyYW1lLiBUaGlzXG4gKiAgIGluY2x1ZGVzIGZpbHRlcnMgdGhhdCB0dXJuIG9mIGFkIGZpbHRlcmluZyBlbnRpcmVseSwgbGlrZVxuICogICBgJGRvY3VtZW50YCBmaWx0ZXJzLCBidXQgYWxzbyBpbmNsdWRlcyBmaWx0ZXJzIHRoYXQgbW9kaWZ5IGhvdyB3ZVxuICogICBsb29rIHVwIHJlcXVlc3QgZmlsdGVycyBsaWtlIGAkZ2VuZXJpY2Jsb2NrYC5cbiAqIEBwcm9wZXJ0eSB7P0ZpbHRlcn0gYWxsb3dpbmdEb2N1bWVudEZpbHRlciBUaGUgYCRkb2N1bWVudGAgZmlsdGVyXG4gKiAgIHRoYXQgaXMgYmVpbmcgYXBwbGllZCB0byB0aGlzIGZyYW1lLCBpZiBhbnkuIFRoaXMgaXMgdXNlZnVsIGZvclxuICogICBsb2dnaW5nLCBmb3IgZXhhbXBsZSBpZiBhIHJlcXVlc3QgaXMgYWxsb3dlZCBiZWNhdXNlIG9mIHRoaXNcbiAqICAgZmlsdGVyLiBJZiB5b3UganVzdCBuZWVkIHRvIGNoZWNrIGlmIHRoZXJlIGlzIGEgYCRkb2N1bWVudGAgZmlsdGVyXG4gKiAgIGFwcGxpZWQgdG8gdGhlIGZyYW1lIG9yIG5vdCwgeW91IGNhbiBhbHNvIGNoZWNrXG4gKiAgIGBmcmFtZS5hbGxvd2xpc3RlZGAuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHRhYklkIFRoZSB0YWJJZCBvZiB0aGUgdGFiIHRoYXQgdGhlIHRoaXMgZnJhbWUgaXMgb24uXG4gKiBAcGFyYW0ge251bWJlcn0gZnJhbWVJZCBUaGUgZnJhbWVJZCBvZiB0aGlzIGZyYW1lLlxuICogQHBhcmFtIHs/RnJhbWVJbmZvfSBwYXJlbnQgVGhlIGZyYW1lIHRoYXQgdGhpcyBmcm9tIGlzIG9uLiBOdWxsXG4gKiAgIGlmIHRoaXMgaXMgdGhlIHRvcC1sZXZlbCBmcmFtZSBvbiBhIHRhYi5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHVybCBvZiB0aGUgZnJhbWUuXG4gKiBAaGlkZWNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIEZyYW1lSW5mbyB7XG4gIGNvbnN0cnVjdG9yKHRhYklkLCBmcmFtZUlkLCBwYXJlbnQsIHVybCkge1xuICAgIHRoaXMudGFiSWQgPSB0YWJJZDtcbiAgICB0aGlzLmZyYW1lSWQgPSBmcmFtZUlkO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuXG4gICAgaW5pdGlhbGl6ZUZyYW1lV2l0aFVybCh0aGlzLCB1cmwpO1xuICAgIGZpbmRBbGxvd2xpc3RpbmdGaWx0ZXJzKHRoaXMpO1xuICB9XG59XG5cbi8qKlxuICogR2V0IGEgdGV4dCBkZXNjcmlwdGlvbiBvZiB0aGUgYWxsb3dpbmcgZmlsdGVyIGFkZGVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHR5cGVNYXNrIEJpdHNldCB0byBmaWx0ZXIgdHlwZXMgeW91IHdhbnQgdG8gbmFtZS5cbiAqIEBwYXJhbSB7RmlsdGVyfSBmaWx0ZXIgVGhlIGZpbHRlciB3aXRoIHRoZSBhbGxvd2luZyByZWFzb24geW91IHdhbnRcbiAqICAgdG8gbmFtZS5cbiAqIEByZXR1cm4ge3N0cmluZ30gQ29udGVudCB0eXBlIG5hbWUgb2YgdGhlIGFsbG93aW5nIGZpbHRlciBqdXN0XG4gKiAgIGFkZGVkLlxuICovXG5mdW5jdGlvbiBnZXRBbGxvd2luZ1JlYXNvbih0eXBlTWFzaywgZmlsdGVyKSB7XG4gIGZvciAobGV0IHR5cGUgaW4gY29udGVudFR5cGVzKSB7XG4gICAgaWYgKHR5cGVNYXNrICYgZmlsdGVyLmNvbnRlbnRUeXBlICYgY29udGVudFR5cGVzW3R5cGVdKSB7XG4gICAgICByZXR1cm4gdHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0aWFsaXplRnJhbWVXaXRoVXJsKGZyYW1lLCB1cmwpIHtcbiAgbGV0IHtcbiAgICBhbGxvd2xpc3RlZDogcGFyZW50QWxsb3dsaXN0ZWQsXG4gICAgc2l0ZWtleTogcGFyZW50U2l0ZWtleSxcbiAgICBhbGxvd2luZ0RvY3VtZW50RmlsdGVyOiBwYXJlbnRBbGxvd2luZ0RvY3VtZW50RmlsdGVyLFxuICAgIGhvc3RuYW1lOiBwYXJlbnRIb3N0bmFtZVxuICB9ID0gZnJhbWUucGFyZW50IHx8IHt9O1xuXG4gIGxldCB1cmxJbmZvID0gcGFyc2VVUkwodXJsKTtcbiAgZnJhbWUudXJsID0gdXJsO1xuICBmcmFtZS5ob3N0bmFtZSA9IHVybEluZm8uaG9zdG5hbWUgfHwgcGFyZW50SG9zdG5hbWUgfHwgXCJcIjtcblxuICBsZXQgc2l0ZWtleSA9IGdldFNpdGVrZXkoZnJhbWUudGFiSWQsIGZyYW1lLmZyYW1lSWQsIHVybCk7XG4gIGZyYW1lLnNpdGVrZXkgPSBzaXRla2V5IHx8IHBhcmVudFNpdGVrZXk7XG4gIGZyYW1lLmhlYWRlcnNSZWNlaXZlZCA9ICghIXNpdGVrZXkpIHx8IHNpdGVrZXkgPT09IG51bGw7XG5cbiAgLy8gYWxsb3dsaXN0ZWQgYW5kIGFsbG93aW5nRG9jdW1lbnRGaWx0ZXIgc3RhcnQgd2l0aCB0aGVpciBwYXJlbnRcbiAgLy8gdmFsdWUsIGJ1dCBtYXkgaGF2ZSBleHRyYSBhbGxvd2luZyBmaWx0ZXJzIGFkZGVkIHdoZW4gd2UgY2FsbFxuICAvLyBmaW5kQWxsb3dsaXN0aW5nRmlsdGVyc1xuICBmcmFtZS5hbGxvd2xpc3RlZCA9IHBhcmVudEFsbG93bGlzdGVkIHx8IDA7XG4gIGZyYW1lLmFsbG93aW5nRG9jdW1lbnRGaWx0ZXIgPSBwYXJlbnRBbGxvd2luZ0RvY3VtZW50RmlsdGVyO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgbWF0Y2hlciBoYXMgYW55IGFsbG93aW5nIGZpbHRlcnMgdGhhdCBzaG91bGQgYmVcbiAqIGFwcGxpZWQgdG8gdGhpcyBmcmFtZSwgYW5kIHVwZGF0ZXMgYGZyYW1lLmFsbG93bGlzdGVkYCBhbmRcbiAqIGBmcmFtZS5hbGxvd2luZ0RvY3VtZW50RmlsdGVyYCBhY2NvcmRpbmdseS5cbiAqXG4gKiBUaGlzIGNhbiBvbmx5IGV2ZXIgYWRkIGV4dHJhIGFsbG93aW5nIGZpbHRlcnMuIEl0J3MgYWxzbyBzYWZlIHRvXG4gKiBjYWxsIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lIGZyYW1lLiBUaGlzIHdvdWxkIG5vcm1hbGx5IGJlXG4gKiBjYWxsZWQgb24gYSBuZXcgZnJhbWUgdG8gZmluZCBpdHMgYWxsb3dpbmcgZmlsdGVycywgYnV0IHNob3VsZCBhbHNvXG4gKiBiZSBjYWxsZWQgd2hlbmV2ZXIgYSBmcmFtZSBpcyB1cGRhdGVkIGluIHN1Y2ggYSB3YXkgdGhhdCB0aGVyZVxuICogY291bGQgYmUgbmV3IGFsbG93aW5nIGZpbHRlcnMsIGZvciBleGFtcGxlIHdoZW4gYSBzaXRla2V5IGlzIGFkZGVkXG4gKiB0byBhbiBleGlzdGluZyBmcmFtZS5cbiAqXG4gKiBAcGFyYW0ge0ZyYW1lSW5mb30gZnJhbWUgVGhlIGZyYW1lIHRoYXQgd2lsbCBiZSBjaGVja2VkIGZvciBuZXdcbiAqICAgZmlsdGVycywgYW5kIHdpbGwgYmUgdXBkYXRlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0YWJJZCBUaGUgdGFiSWQgb2YgdGhlIHRhYiB0aGUgZnJhbWUgaXMgb24uIFVzZWQgZm9yXG4gKiAgIGxvZ2dpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0gZnJhbWVJZCBUaGUgZnJhbWVJZCBvZiB0aGUgZnJhbWUuIFVzZWQgZm9yIGxvZ2dpbmcuXG4gKi9cbmZ1bmN0aW9uIGZpbmRBbGxvd2xpc3RpbmdGaWx0ZXJzKGZyYW1lKSB7XG4gIGxldCB7dGFiSWQsIGZyYW1lSWQsIHVybH0gPSBmcmFtZTtcbiAgbGV0IGRldGFpbHMgPSB7dGFiSWQsIGZyYW1lSWQsIHVybH07XG4gIC8vIFRoZSBkb2NEb21haW4gZm9yIGEgZnJhbWUgaXMgdGhlIGhvc3RuYW1lIG9mIHRoZSBwYXJlbnQgZnJhbWVcbiAgLy8gKHRoZSBsb2FkZXIpLiBGb3IgdG9wLWxldmVsIGZyYW1lcyB3ZSB1c2UgdGhlIGN1cnJlbnQgVVJMJ3MgaG9zdG5hbWUuXG4gIGxldCBwYXJlbnRIb3N0bmFtZSA9IGZyYW1lLnBhcmVudCAmJiBmcmFtZS5wYXJlbnQuaG9zdG5hbWU7XG4gIGxldCBtYXRjaEluZm8gPSB7ZG9jRG9tYWluOiBwYXJlbnRIb3N0bmFtZSB8fCBmcmFtZS5ob3N0bmFtZSxcbiAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiYWxsb3dpbmdcIn07XG5cbiAgLy8gVGhpcyBsb29wIHdpbGwga2VlcCB0cnlpbmcgdG8gZmluZCBuZXcgdHlwZXMgb2YgYWxsb3dpbmcgZmlsdGVyc1xuICAvLyBmb3IgdGhlIGZyYW1lIHVudGlsIHRoZSBtYXRjaGVyIGRvZXNuJ3QgcmV0dXJuIGFueSBtb3JlLlxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGxldCB0eXBlTWFzayA9IH5mcmFtZS5hbGxvd2xpc3RlZCAmIEFMTE9XSU5HX1RZUEVTO1xuICAgIGRlYnVnKGBDaGVjayBtYXRjaCB0YWJJZD0ke3RhYklkfSwgdXJsPSR7ZnJhbWUudXJsfSwgdHlwZU1hc2s9JHt0eXBlTWFza30sIGAgK1xuICAgICAgYGRvY0RvbWFpbj0ke21hdGNoSW5mby5kb2NEb21haW59LCBzaXRla2V5PSR7ZnJhbWUuc2l0ZWtleX1gKTtcbiAgICBsZXQgZmlsdGVyID0gZmlsdGVyRW5naW5lLmRlZmF1bHRNYXRjaGVyLm1hdGNoKFxuICAgICAgZnJhbWUudXJsLCB0eXBlTWFzaywgbWF0Y2hJbmZvLmRvY0RvbWFpbiwgZnJhbWUuc2l0ZWtleVxuICAgICk7XG5cbiAgICBpZiAoIWZpbHRlcikge1xuICAgICAgZGVidWcoYE5vIGZpbHRlciBmb3IgdGFiSWQ9JHt0YWJJZH0sZnJhbWVJZD0ke2ZyYW1lSWR9YCk7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBmcmFtZS5hbGxvd2xpc3RlZCB8PSBmaWx0ZXIuY29udGVudFR5cGUgJiBBTExPV0lOR19UWVBFUztcbiAgICAvLyBXZSBuZWVkIHRvIGhvbGQgb250byBkb2N1bWVudCBhbGxvd2luZyBmaWx0ZXJzIGJlY2F1c2Ugd2UgbWlnaHRcbiAgICAvLyBuZWVkIGl0IGZvciBsb2dnaW5nIGJsb2NrYWJsZSByZXF1ZXN0cyBsYXRlci5cbiAgICBpZiAoZmlsdGVyLmNvbnRlbnRUeXBlICYgY29udGVudFR5cGVzLkRPQ1VNRU5UKSB7XG4gICAgICBmcmFtZS5hbGxvd2luZ0RvY3VtZW50RmlsdGVyID0gZmlsdGVyO1xuICAgIH1cblxuICAgIGxldCBhbGxvd2luZ1JlYXNvbiA9IGdldEFsbG93aW5nUmVhc29uKHR5cGVNYXNrLCBmaWx0ZXIpO1xuICAgIGRlYnVnKGBBbGxvd2luZyB0YWJJZD0ke3RhYklkfSwgZnJhbWVJZD0ke2ZyYW1lSWR9IGR1ZSB0byAke2ZpbHRlci50ZXh0fWApO1xuICAgIGxvZ0l0ZW0oZGV0YWlscywgZmlsdGVyLCB7Li4ubWF0Y2hJbmZvLCBhbGxvd2luZ1JlYXNvbn0pO1xuICB9XG59XG5cbi8qKlxuICogQnVpbGRzIHRoZSBmcmFtZSBzdGF0ZSBmcm9tIHNjcmF0Y2ggdXNpbmcgdGhlIHRhYnMgQVBJLlxuICpcbiAqIFRoaXMgaXMgY2FsbGVkIG9uIHN0YXJ0dXAsIGFuZCBpbiBNVjMgd2hlbmV2ZXIgdGhlIHNlcnZpY2Ugd29ya2VyXG4gKiBzdGFydHMgdXAuIFRoZSBvbmx5IHNob3J0Y29taW5nIGlzIHRoYXQgdGhpcyBjYW4ndCBmaW5kIHNpdGVrZXlzXG4gKiBmb3IgZXhpc3RpbmcgZnJhbWVzLCBzaW5jZSB0aG9zZSBhcmUgcmVhZCBmcm9tIGhlYWRlcnMuXG4gKiBAYXN5bmNcbiAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIHdoZW4gYWxsIGZyYW1lcyBoYXZlIGJlZW4gc2Nhbm5lZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGlzY292ZXJFeGlzdGluZ0ZyYW1lcygpIHtcbiAgbGV0IHRhYnMgPSBhd2FpdCBicm93c2VyLnRhYnMucXVlcnkoe30pO1xuICBhd2FpdCBQcm9taXNlLmFsbCh0YWJzLm1hcCgoe2lkOiB0YWJJZH0pID0+XG4gICAgYnJvd3Nlci53ZWJOYXZpZ2F0aW9uLmdldEFsbEZyYW1lcyh7dGFiSWR9KS50aGVuKHJhd0ZyYW1lcyA9PiB7XG4gICAgICBpZiAoIXJhd0ZyYW1lcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFNvcnQgdGhlIGZyYW1lcyBzbyB0aGF0IHdlJ2xsIGFkZCBwYXJlbnQgZnJhbWVzIGJlZm9yZSB0aGVcbiAgICAgIC8vIGNoaWxkIGZyYW1lcy5cbiAgICAgIHJhd0ZyYW1lcy5zb3J0KChhLCBiKSA9PiBhLmZyYW1lSWQgLSBiLmZyYW1lSWQpO1xuXG4gICAgICBsZXQgZnJhbWVzID0gbmV3IE1hcCgpO1xuICAgICAgc3RhdGUuc2V0KHRhYklkLCBmcmFtZXMpO1xuXG4gICAgICBmb3IgKGxldCB7ZnJhbWVJZCwgcGFyZW50RnJhbWVJZCwgdXJsfSBvZiByYXdGcmFtZXMpIHtcbiAgICAgICAgbGV0IHBhcmVudCA9IGlzVmFsaWRGcmFtZUlkKHBhcmVudEZyYW1lSWQpID9cbiAgICAgICAgICAgIGZyYW1lcy5nZXQocGFyZW50RnJhbWVJZCkgOlxuICAgICAgICAgICAgbnVsbDtcblxuICAgICAgICAvLyBDaHJvbWUgdW5mb3J0dW5hdGVseSBoYXMgYSBidWcgd2hlcmUgZ2V0QWxsRnJhbWVzIGRvZXNuJ3RcbiAgICAgICAgLy8gYWx3YXlzIHJldHVybiBhbGwgcGFyZW50IGZyYW1lc1xuICAgICAgICAvLyAoaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NzI1OTE3KS5cbiAgICAgICAgLy8gTm90IG11Y2ggd2UgY2FuIGRvIGFib3V0IGl0LCBidXQgaWYgd2UgY2FuJ3Qgc2VlIHRoZVxuICAgICAgICAvLyByZXF1aXJlZCBwYXJlbnQgZnJhbWUgd2UgY2FuIGZhbGwgYmFjayB0byB0aGUgcm9vdCBmcmFtZS5cbiAgICAgICAgaWYgKGlzVmFsaWRDaGlsZEZyYW1lSWQocGFyZW50RnJhbWVJZCkgJiYgIXBhcmVudCkge1xuICAgICAgICAgIHBhcmVudCA9IGZyYW1lcy5nZXQoVE9QX0xFVkVMX0ZSQU1FX0lEKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFlhbmRleCBnaXZlcyB1bmRlZmluZWQgb3IgYW4gZW1wdHkgc3RyaW5nIGhlcmUgc29tZXRpbWVzLFxuICAgICAgICAvLyBmb3IgZXhhbXBsZSB3aGVuIGJyb3dzaW5nIHRvIHBhZ2VzIHRoYXQgWWFuZGV4IHRyZWF0c1xuICAgICAgICAvLyBzcGVjaWFsbHkgbGlrZSB0aGVpciBvd24gd2Vic2l0ZS5cbiAgICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgICB1cmwgPSBCTEFOS19QQUdFX1VSTDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZyYW1lcy5zZXQoZnJhbWVJZCwgbmV3IEZyYW1lSW5mbyh0YWJJZCwgZnJhbWVJZCwgcGFyZW50LCB1cmwpKTtcbiAgICAgIH1cbiAgICB9KVxuICApKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uU2l0ZWtleVJlY2VpdmVkKHRhYklkLCBmcmFtZUlkLCB1cmwsIHNpdGVrZXkpIHtcbiAgdHJhY2Uoe3RhYklkLCBmcmFtZUlkLCB1cmwsIHNpdGVrZXl9KTtcblxuICBsZXQgZnJhbWUgPSBnZXRGcmFtZUluZm8odGFiSWQsIGZyYW1lSWQpO1xuXG4gIC8vIEl0IGNhbiBoYXBwZW4gdGhhdCBzdWItZnJhbWUgXCJvbkNvbW1pdHRlZFwiIGV2ZW50IGlzIHRyaWdnZXJlZCBhZnRlciBpdCdzXG4gIC8vIHJlc291cmNlIGxvYWRpbmcgZXZlbnQsIG1lYW5pbmcgd2UgZG9uJ3QgaGF2ZSBhIGZyYW1lIGluZm9ybWF0aW9uXG4gIC8vIGluIGZyYW1lIHN0YXRlLCB0aHVzIHNraXAgZmluZGluZyBhbGxvd2xpc3RpbmcgZmlsdGVycywgcmVzdWx0aW5nIGluXG4gIC8vIGZyYW1lIHJlc291cmNlcyBhcmUgbm90IGFsbG93bGlzdGVkIGFzIGV4cGVjdGVkLlxuICBpZiAoIWZyYW1lKSB7XG4gICAgZnJhbWUgPSByZWNvcmRGcmFtZUZyb21OYXZpZ2F0aW9uRXZlbnQoe3RhYklkLCBmcmFtZUlkLCB1cmx9KTtcbiAgfVxuICBsZXQgaXNTYW1lRnJhbWUgPSBmcmFtZS51cmwgPT0gdXJsO1xuICBpZiAoaXNTYW1lRnJhbWUpIHtcbiAgICBmcmFtZS5oZWFkZXJzUmVjZWl2ZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHNpdGVrZXkpIHtcbiAgICAvLyBTb21ldGltZXMgdGhlIG9uSGVhZGVyc1JlY2VpdmVkIGV2ZW50IGNvbWVzIGFmdGVyIHRoZVxuICAgIC8vIG9uQ29tbWl0dGVkIGV2ZW50LiBUaGlzIHNlZW1zIHRvIGJlIGNvbW1vbiB3aGVuIGxvYWRpbmdcbiAgICAvLyBpZnJhbWVzOiB0aGUgYnJvd3NlciB3aWxsIHNob3cgdGhlIGlmcmFtZSBhbmQgdGhlbiBzdGFydFxuICAgIC8vIGxvYWRpbmcgaXRzIGNvbnRlbnRzLiBXaGVuIHRoaXMgaGFwcGVucywgd2UgbWF5IGdldCBhIHNpdGVrZXlcbiAgICAvLyBmb3IgYSBmcmFtZSB0aGF0J3MgYWxyZWFkeSBiZWluZyBzaG93biwgYW5kIHRoYXQgbWF5IG1lYW4gd2VcbiAgICAvLyBuZWVkIHRvIGFkZCBzb21lIG5ldyBhbGxvd2xpc3RpbmcgZmlsdGVycyBiYXNlZCBvbiB0aGF0XG4gICAgLy8gc2l0ZWtleS5cbiAgICBpZiAoaXNTYW1lRnJhbWUgJiYgZnJhbWUuc2l0ZWtleSAhPSBzaXRla2V5KSB7XG4gICAgICBmcmFtZS5zaXRla2V5ID0gc2l0ZWtleTtcbiAgICAgIGZpbmRBbGxvd2xpc3RpbmdGaWx0ZXJzKGZyYW1lKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIGZyYW1lIHN0YXRlIHRvIHJlZmxlY3QgdGhhdCBhIG5ldyBmcmFtZSBpcyBiZWluZyBzaG93bi5cbiAqXG4gKiBUaGlzIGNhbiBicm9hZGx5IGJlIHRob3VnaHQgb2YgaW4gdHdvIGNhdGVnb3JpZXM6XG4gKlxuICogMS4gVGhlIGJyb3dzZXIgaGFzIG5hdmlnYXRlZCB0byB0aGUgbmV3IHBhZ2UuIFNwZWNpZmljYWxseSwgdGhpcyBpc1xuICogICAgb24gdGhlIGB3ZWJOYXZpZ2F0aW9uLm9uQ29tbWl0dGVkYCBldmVudCwgd2hpY2ggZmlyZXMgd2hlbiB0aGVcbiAqICAgIGJyb3dzZXIgaGFzIGRlY2lkZWQgdG8gc3dpdGNoIHRvIHRoZSBuZXcgZG9jdW1lbnQuIFdlIHdpbGxcbiAqICAgIHVzdWFsbHkgaGF2ZSByZWNlaXZlZCBoZWFkZXJzIGZvciB0aGUgZG9jdW1lbnQgYWxyZWFkeSBieSB0aGlzXG4gKiAgICBwb2ludCwgYnV0IG5vdCBhbHdheXMuXG4gKiAyLiBUaGUgc2l0ZSBpcyBhIHNpbmdsZSBwYWdlIGFwcGxpY2F0aW9uLCBhbmQgaGFzIHVwZGF0ZWQgaXRzXG4gKiAgICBjb250ZW50cyB1c2luZyBKYXZhc2NyaXB0IGFuZCB1cGRhdGVkIGl0cyBVUkwgd2l0aCB0aGUgaGlzdG9yeVxuICogICAgQVBJLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXRhaWxzIERldGFpbHMgb2JqZWN0IGFzIHByb3ZpZGVkIGJ5IHRoZVxuICogICB3ZWJOYXZpZ2F0aW9uIEFQSSBldmVudHMuXG4gKiBAcGFyYW0ge251bWJlcn0gZGV0YWlscy50YWJJZCBUaGUgdGFiSWQgb2YgdGhlIHRhYiB0aGF0IHRoZSB1cGRhdGVkXG4gKiAgIGZyYW1lIGlzIG9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGRldGFpbHMuZnJhbWVJZCBUaGUgZnJhbWVJZCBvZiB0aGUgdXBkYXRlZCBmcmFtZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGV0YWlscy5wYXJlbnRGcmFtZUlkPS0xXSBUaGUgZnJhbWVJZCBvZiB0aGUgZnJhbWVcbiAqICAgdGhhdCB0aGUgdXBkYXRlZCBmcmFtZSBpcyBvbi4gLTEgaWYgdGhlIHVwZGF0ZWQgZnJhbWUgaXMgdGhlXG4gKiAgIHRvcC1sZXZlbCBmcmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkZXRhaWxzLnVybCBUaGUgbmV3IHVybCBvZiB0aGUgZnJhbWUuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmhpc3RvcnlTdGF0ZVVwZGF0ZWQ9ZmFsc2VdIFRydWUgaWYgdGhpc1xuICogICB3YXMgdHJpZ2dlcmVkIGJ5IGEgaGlzdG9yeSBzdGF0ZSB1cGRhdGUsIHJhdGhlciB0aGFuIGJ5IGEgZnVsbFxuICogICBwYWdlIG5hdmlnYXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmVycm9yT2NjdXJyZWQ9ZmFsc2VdIFRydWUgaWYgdGhpcyB3YXNcbiAqICAgdHJpZ2dlcmVkIGJ5IGEgYHdlYk5hdmlnYXRpb24ub25FcnJvck9jY3VycmVkYCBldmVudCByYXRoZXIgdGhhblxuICogICBhIGB3ZWJOYXZpZ2F0aW9uLm9uQ29tbWl0dGVkYCBldmVudC5cbiAqIEByZXR1cm4ge0ZyYW1lSW5mb30gVGhlIG5ld2x5IGNyZWF0ZWQgZnJhbWUgc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIHJlY29yZEZyYW1lRnJvbU5hdmlnYXRpb25FdmVudChcbiAge3RhYklkLCBmcmFtZUlkLCBwYXJlbnRGcmFtZUlkID0gLTEsIHVybH0sXG4gIHtoaXN0b3J5U3RhdGVVcGRhdGVkID0gZmFsc2UsIGVycm9yT2NjdXJyZWQgPSBmYWxzZX0gPSB7fSkge1xuICAvLyBZYW5kZXggZ2l2ZXMgdW5kZWZpbmVkIG9yIGFuIGVtcHR5IHN0cmluZyBoZXJlIHNvbWV0aW1lcyxcbiAgLy8gZm9yIGV4YW1wbGUgd2hlbiBicm93c2luZyB0byBwYWdlcyB0aGF0IFlhbmRleCB0cmVhdHNcbiAgLy8gc3BlY2lhbGx5IGxpa2UgdGhlaXIgb3duIHdlYnNpdGUuXG4gIGlmICghdXJsKSB7XG4gICAgdXJsID0gQkxBTktfUEFHRV9VUkw7XG4gIH1cblxuICBsZXQgZnJhbWVzID0gc3RhdGUuZ2V0KHRhYklkKTtcblxuICAvLyBXZSBnZW5lcmFsbHkgbmVlZCB0byB0aHJvdyBhd2F5IGFueSBleGlzdGluZyBmcmFtZSBzdGF0ZSBmb3IgdGhlXG4gIC8vIHdob2xlIHRhYiB3aGVuIGEgbmV3IHRvcC1sZXZlbCBmcmFtZSBpcyBjb21taXR0ZWQgdG8gdGhlXG4gIC8vIHRhYi4gVGhpcyBpcyBiZWNhdXNlIGFsbCBwcmV2aW91cyBmcmFtZSBzdGF0ZSB3YXMgb24gdGhlIG9sZFxuICAvLyB0b3AtbGV2ZWwgZnJhbWUuIEhvd2V2ZXIsIGlmIHRoaXMgd2FzIGEgaGlzdG9yeSBBUEkgdXBkYXRlLCB0aG9zZVxuICAvLyBmcmFtZXMgY291bGQgc3RpbGwgYmUgdGhlcmUgb24gdGhlIHBhZ2Ugc28gd2UgY2FuJ3QgY2xlYXIgdGhlbSBvdXQuXG4gIGlmICghZnJhbWVzIHx8IChpc1RvcExldmVsRnJhbWVJZChmcmFtZUlkKSAmJiAhaGlzdG9yeVN0YXRlVXBkYXRlZCkpIHtcbiAgICBmcmFtZXMgPSBuZXcgTWFwKCk7XG4gICAgc3RhdGUuc2V0KHRhYklkLCBmcmFtZXMpO1xuICB9XG4gIGxldCBmcmFtZSA9IGZyYW1lcy5nZXQoZnJhbWVJZCk7XG4gIGxldCBwYXJlbnQgPSBpc1ZhbGlkRnJhbWVJZChwYXJlbnRGcmFtZUlkKSA/IGZyYW1lcy5nZXQocGFyZW50RnJhbWVJZCkgOiBudWxsO1xuXG4gIC8vIFNhbWUgYXMgZGlzY292ZXJFeGlzdGluZ0ZyYW1lcywgaWYgd2UgZXhwZWN0IGEgcGFyZW50IGJ1dCBvdXJcbiAgLy8gZnJhbWUgc3RhdGUgZG9lc24ndCBzZWVtIHRvIGhhdmUgdGhhdCBwYXJlbnQsIGZhbGxpbmcgYmFjayB0byB0aGVcbiAgLy8gcm9vdCBmcmFtZSBpcyBiZXR0ZXIgdGhhbiBub3RoaW5nLiBUaGlzIG1pZ2h0IGhhcHBlbiBkdWUgdG8gdGhpc1xuICAvLyBidWc6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTcyNTkxNy5cbiAgaWYgKGlzVmFsaWRDaGlsZEZyYW1lSWQocGFyZW50RnJhbWVJZCkgJiYgIXBhcmVudCkge1xuICAgIHBhcmVudCA9IGZyYW1lcy5nZXQoVE9QX0xFVkVMX0ZSQU1FX0lEKTtcbiAgfVxuXG4gIC8vIElmIHRoZSBmcmFtZSBoYWQgYW4gZXJyb3IgaW5zdGVhZCBvZiBsb2FkaW5nLCB3ZSBkb24ndCB3YW50IHRvXG4gIC8vIHVzZSB0aGUgVVJMIGZyb20gdGhlIGVycm9yLiBPdGhlcndpc2UgdW5zY3J1cHVsb3VzIHdlYnNpdGVzIGNvdWxkXG4gIC8vIGVtYmVkIHRoZWlyIGFkdmVydCBpbiBhbiBpZnJhbWUgdGhhdCBoYXMgYW4gYWxsb3dsaXN0ZWQgVVJMLCBidXRcbiAgLy8gZG9lc24ndCBhY3R1YWxseSBjb250YWluIHRoZSBjb250ZW50cyBvZiB0aGF0IFVSTC5cbiAgaWYgKGVycm9yT2NjdXJyZWQpIHtcbiAgICBpZiAoZnJhbWUpIHtcbiAgICAgIHVybCA9IGZyYW1lLnVybDtcbiAgICB9XG4gICAgZWxzZSBpZiAocGFyZW50KSB7XG4gICAgICB1cmwgPSBwYXJlbnQudXJsO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdlIG1pZ2h0IGdldCBtdWx0aXBsZSBjYWxscyB0byBgcmVjb3JkRnJhbWVGcm9tTmF2aWdhdGlvbkV2ZW50YFxuICAvLyBmb3IgaWZyYW1lcy4gVGhpcyBpcyBiZWNhdXNlIHdlIG5lZWQgdG8gbGlzdGVuIHRvIHNldmVyYWxcbiAgLy8gZGlmZmVyZW50IGV2ZW50cyB0byBoZWFyIGFib3V0IGFsbCBmcmFtZXMsIGluY2x1ZGluZyBvbkNvbW1pdHRlZFxuICAvLyBhbmQgb25CZWZvcmVOYXZpZ2F0ZSBhbmQgb25FcnJvck9jY3VycmVkLiBUbyBhdm9pZCBkdXBsaWNhdGVcbiAgLy8gb25CbG9ja2FibGVJdGVtIGV2ZW50cywgd2UgY2hlY2sgaWYgdGhlIGZyYW1lIHdlIGFscmVhZHkgaGF2ZSBpc1xuICAvLyB0aGUgc2FtZS5cbiAgaWYgKCFmcmFtZSB8fCBpc1RvcExldmVsRnJhbWVJZChmcmFtZUlkKSB8fFxuICAgICAgZnJhbWUudXJsICE9IHVybCB8fCBmcmFtZS5wYXJlbnQgIT0gcGFyZW50KSB7XG4gICAgZnJhbWUgPSBuZXcgRnJhbWVJbmZvKHRhYklkLCBmcmFtZUlkLCBwYXJlbnQsIHVybCk7XG4gICAgZnJhbWVzLnNldChmcmFtZUlkLCBmcmFtZSk7XG4gIH1cbiAgcmV0dXJuIGZyYW1lO1xufVxuXG5mdW5jdGlvbiBvbkJlZm9yZU5hdmlnYXRlKGRldGFpbHMpIHtcbiAgdHJhY2Uoe2RldGFpbHN9KTtcblxuICAvLyBXZSBrbm93IHRoZSBjdXJyZW50IGZyYW1lIGluZm9ybWF0aW9uIGlzIGFib3V0IHRvIGJlY29tZVxuICAvLyBvdXRkYXRlZCwgc28gd2UganVzdCBkZWxldGUgdGhlIGV4aXN0aW5nIGRhdGEuXG4gIGxldCBmcmFtZXMgPSBzdGF0ZS5nZXQoZGV0YWlscy50YWJJZCk7XG4gIGlmIChmcmFtZXMpIHtcbiAgICAvLyBGaXJlZm94IGNhbiB0cmlnZ2VyIFwib25CZWZvcmVOYXZpZ2F0ZVwiIG11bHRpcGxlIHRpbWVzLFxuICAgIC8vIHNvIHdlIG5lZWQgdG8gZmlsdGVyIG91dCBvbmx5IHRoZSBhY3R1YWxseSBjaGFuZ2VkIG5hdmlnYXRpb25zLlxuICAgIGxldCBmcmFtZSA9IGZyYW1lcy5nZXQoZGV0YWlscy5mcmFtZUlkKTtcbiAgICBpZiAoZnJhbWUgJiYgZnJhbWUudXJsICE9IGRldGFpbHMudXJsKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIHNraXAgcHJvY2Vzc2luZyB0aGUgZnJhbWUgc3RhdGUgZXZlbnRzIGZvciBub3dcbiAgICAgIC8vIChzdWNoIGFzIGFsbG93bGlzdGVkIGZvciBkb2N1bWVudCkgYXMgaXQgd2lsbCBiZSBkb25lIGxhdGVyIGR1cmluZ1xuICAgICAgLy8gdGhlIGBvbkNvbW1pdHRlZGAsIGJ1dCB3ZSBhbHNvIHdhbnQgdG8gYXZvaWQgYWxsb3dsaXN0aW5nIGZvciBzb21lXG4gICAgICAvLyByZXNvdXJjZXMgdGhhdCByZWZlciB0byB0aGlzIHRhYklkL2ZyYW1lSWQgYXMgdGhlIFVSTCBpcyBjaGFuZ2VkLFxuICAgICAgLy8gYW5kIHRoZSBhbGxvd2xpc3Rpbmcgc3RhdGUgaXMgY3VycmVudGx5IHVuZGV0ZXJtaW5lZC5cbiAgICAgIGZyYW1lLmlzQ2hhbmdpbmdVUkwgPSB0cnVlO1xuICAgICAgaW5pdGlhbGl6ZUZyYW1lV2l0aFVybChmcmFtZSwgZGV0YWlscy51cmwpO1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIGFuIGlmcmFtZSdzIFVSTCBpcyBcImFib3V0OnNyY2RvY1wiLCB0aGF0IG1lYW5zIGl0cyBjb250ZW50cyBpc1xuICAvLyBhY3R1YWxseSBzcGVjaWZpZWQgdXNpbmcgdGhlIHNyY2RvYyBhdHRyaWJ1dGUuIFNvbWUgYnJvd3NlcnNcbiAgLy8gZG9uJ3QgYWN0dWFsbHkgZW1pdCB0aGUgd2ViTmF2aWdhdGlvbi5vbkNvbW1pdHRlZCBldmVudCBmb3IgdGhlc2VcbiAgLy8gZnJhbWVzLCBzbyB3ZSBuZWVkIHRvIHVzZSBhIGRpZmZlcmVudCBldmVudCB0byBnZXQgdGhlbSBpbnRvIG91clxuICAvLyBmcmFtZSBzdGF0ZS5cbiAgaWYgKGRldGFpbHMudXJsID09IFwiYWJvdXQ6c3JjZG9jXCIpIHtcbiAgICByZWNvcmRGcmFtZUZyb21OYXZpZ2F0aW9uRXZlbnQoZGV0YWlscyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25Db21taXR0ZWQoZGV0YWlscykge1xuICB0cmFjZSh7ZGV0YWlsc30pO1xuXG4gIGxldCBmcmFtZSA9IHJlY29yZEZyYW1lRnJvbU5hdmlnYXRpb25FdmVudChkZXRhaWxzKTtcbiAgZmluZEFsbG93bGlzdGluZ0ZpbHRlcnMoZnJhbWUpO1xuICBmcmFtZS5pc0NoYW5naW5nVVJMID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9uRXJyb3JPY2N1cnJlZChkZXRhaWxzKSB7XG4gIHRyYWNlKHtkZXRhaWxzfSk7XG5cbiAgLy8gT24gQ2hyb21lLCBlcnJvcmVkIGlmcmFtZXMgYXJlIG5ldmVyIGNvbW1pdHRlZCwgYnV0IHRoZXkgYXJlXG4gIC8vIHN0aWxsIG9uIHRoZSBwYWdlIGFuZCB0aGVpciBjb250ZW50cyBjYW4gc3RpbGwgYmUgbWFuaXB1bGF0ZWRcbiAgLy8gd2l0aCBKYXZhc2NyaXB0IHNvIHdlIG5lZWQgdGhlbSBpbiBvdXIgZnJhbWUgc3RhdGUuXG4gIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD03MjU5MTdcbiAgLy9cbiAgLy8gRmlyZWZveCdzIGRvY3MgZG9uJ3QgbWVudGlvbiBwYXJlbnRGcmFtZUlkIG9uIHRoaXMgZXZlbnQsIGJ1dFxuICAvLyBDaHJvbWUncyBkbywgYW5kIGl0IGRvZXMgYXBwZWFyIHRvIGJlIHRoZXJlIGluIHByYWN0aWNlLiBDaGVja1xuICAvLyBmb3IgaXQgYmVmb3JlIHByb2NlZWRpbmcgaW4gY2FzZSBzb21lIGJyb3dzZXJzIGRvbid0LCBzaW5jZSBpdCdzXG4gIC8vIHZlcnkgaW1wb3J0YW50IHRvIGhhdmUgdGhlIHBhcmVudCBmcmFtZSB0byByZWNvcmQgZnJhbWUgc3RhdGVcbiAgLy8gY2hhbmdlcy5cbiAgaWYgKGlzVmFsaWRDaGlsZEZyYW1lSWQoZGV0YWlscy5mcmFtZUlkKSAmJlxuICAgICAgdHlwZW9mIGRldGFpbHMucGFyZW50RnJhbWVJZCA9PSBcIm51bWJlclwiKSB7XG4gICAgcmVjb3JkRnJhbWVGcm9tTmF2aWdhdGlvbkV2ZW50KGRldGFpbHMsIHtlcnJvck9jY3VycmVkOiB0cnVlfSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gb25IaXN0b3J5U3RhdGVVcGRhdGVkKGRldGFpbHMpIHtcbiAgdHJhY2Uoe2RldGFpbHN9KTtcblxuICBsZXQgcHJldmlvdXNGcmFtZSA9IGdldEZyYW1lSW5mbyhkZXRhaWxzLnRhYklkLCBkZXRhaWxzLmZyYW1lSWQpO1xuICByZWNvcmRGcmFtZUZyb21OYXZpZ2F0aW9uRXZlbnQoZGV0YWlscywge2hpc3RvcnlTdGF0ZVVwZGF0ZWQ6IHRydWV9KTtcblxuICAvLyBEb24ndCByZXJ1biB0aGUgc25pcHBldHMgZHVlIHRvIHBvc3NpYmxlIHBlcmZvcm1hbmNlIHBlbmFsdHkgKEVFLTUwNylcbiAgbGV0IGZpbHRlckRhdGEgPSBhd2FpdCBhcHBseUNvbnRlbnRGaWx0ZXJzKFxuICAgIGRldGFpbHMudGFiSWQsIGRldGFpbHMuZnJhbWVJZCwgcHJldmlvdXNGcmFtZSwgdHJ1ZSk7XG4gIHRyeSB7XG4gICAgYXdhaXQgaWdub3JlTm9Db25uZWN0aW9uRXJyb3IoXG4gICAgICBicm93c2VyLnRhYnMuc2VuZE1lc3NhZ2UoXG4gICAgICAgIGRldGFpbHMudGFiSWQsXG4gICAgICAgIHt0eXBlOiBcImV3ZTphcHBseS1jb250ZW50LWZlYXR1cmVzXCIsIC4uLmZpbHRlckRhdGF9LFxuICAgICAgICB7ZnJhbWVJZDogZGV0YWlscy5mcmFtZUlkfSlcbiAgICApO1xuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9jbGVhcigpIHtcbiAgc3RhdGUuY2xlYXIoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT25SZW1vdmVkKHRhYklkKSB7XG4gIHN0YXRlLmRlbGV0ZSh0YWJJZCk7XG4gIGNsZWFyVGFiU2l0ZWtleXModGFiSWQpO1xufVxuXG5mdW5jdGlvbiBvblJlbW92ZWQodGFiSWQpIHtcbiAgdHJhY2Uoe3RhYklkfSk7XG4gIGhhbmRsZU9uUmVtb3ZlZCh0YWJJZCk7XG59XG5cbmZ1bmN0aW9uIG9uUmVwbGFjZWQoYWRkZWRUYWJJZCwgcmVtb3ZlZFRhYklkKSB7XG4gIHRyYWNlKHthZGRlZFRhYklkLCByZW1vdmVkVGFiSWR9KTtcbiAgaGFuZGxlT25SZW1vdmVkKHJlbW92ZWRUYWJJZCk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhdGUgZm9yIGEgZnJhbWUgaWYgd2UgaGF2ZSBpdC4gSWYgcGFyZW50RnJhbWVJZCBhbmRcbiAqIGluaXRpYXRvciBhcmUgYWxzbyBwcm92aWRlZCwgdGhpcyBmdW5jdGlvbiBtYXkgYWxzbyBjb25zdHJ1Y3QgdGhlXG4gKiBmcmFtZSBhbmQgYWRkIGl0IHRvIHRoZSBmcmFtZSBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdGFiSWQgVGhlIHRhYklkIG9mIHRoZSB0YWIgdGhlIGZyYW1lIGlzIG9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lSWQgVGhlIGZyYW1lSWQgb2YgdGhlIGZyYW1lLlxuICogQHBhcmFtIHs/T2JqZWN0fSBbbWV0YWRhdGFdIEFkZGl0aW9uYWwgbWV0YWRhdGEgYWJvdXQgdGhlIHdlYlxuICogICByZXF1ZXN0IGNvbnRleHQgdGhhdCBsZWFkIHRvIGFza2luZyBmb3IgZnJhbWUgaW5mbywgd2hpY2ggbWlnaHRcbiAqICAgYmUgdXNlZCB0byBjcmVhdGUgYSBGcmFtZUluZm8gaWYgb25lIGRvZXNuJ3QgZXhpc3QgYWxyZWFkeS5cbiAqIEBwYXJhbSB7P251bWJlcn0gbWV0YWRhdGEucGFyZW50RnJhbWVJZCBUaGUgZnJhbWVJZCBvZiB0aGUgcGFyZW50IG9mIHRoZVxuICogICBmcmFtZSBiZWluZyByZXF1ZXN0ZWQuIElmIHRoaXMgaXMgc2V0LCBpdCBjb3VsZCBiZSB1c2VkIHRvXG4gKiAgIGNyZWF0ZSB0aGUgZnJhbWUgaWYgaXQgaXNuJ3QgYWxyZWFkeSBpbiB0aGUgZnJhbWUgc3RhdGUuXG4gKiBAcGFyYW0gez9zdHJpbmd9IG1ldGFkYXRhLmluaXRpYXRvciBJZiBnZXR0aW5nIHRoZSBmcmFtZSBpbmZvIGlzXG4gKiAgIHRyaWdnZXJlZCBieSBhIHdlYiByZXF1ZXN0LCB0aGlzIHNob3VsZCBiZSB0aGUgVVJMIHRoYXQgaW5pdGlhdGVkXG4gKiAgIHRoZSByZXF1ZXN0LiBJZiB0aGlzIGlzIHNldCwgaXQgY2FuIGJlIHVzZWQgdG8gcHJvdmlkZSBhXG4gKiAgIHRlbXBvcmFyeSBmcmFtZSBzdGF0ZSBmb3IgdXNlIHdpdGggc2VydmljZSB3b3JrZXJzLiBJbiBGaXJlZm94XG4gKiAgIEFQSXMsIHRoZXJlIGlzIG5vdCBhbiBpbml0aWF0b3IgYnV0IHRoZXJlIGlzIGEgZG9jdW1lbnRVcmwgd2hpY2hcbiAqICAgY2FuIGZ1bGZpbCB0aGUgc2FtZSBwdXJwb3NlLlxuICogQHBhcmFtIHs/c3RyaW5nfSBtZXRhZGF0YS5kb2N1bWVudFVybCBJZiBnZXR0aW5nIHRoZSBmcmFtZSBpbmZvIGlzXG4gKiAgIHRyaWdnZXJlZCBieSBhIHdlYiByZXF1ZXN0LCB0aGlzIHNob3VsZCBiZSB0aGUgVVJMIG9mIHRoZSBmcmFtZVxuICogICB0aGF0IGluaXRpYXRlZCB0aGUgcmVxdWVzdC4gSWYgdGhpcyBpcyBzZXQsIGl0IGNvdWxkIGJlIHVzZWQgdG9cbiAqICAgY3JlYXRlIHRoZSBmcmFtZSBpZiBpdCBpc24ndCBhbHJlYWR5IGluIHRoZSBmcmFtZSBzdGF0ZS4gVGhpcyBtYXlcbiAqICAgbm90IGJlIGF2YWlsYWJsZSBpbiBDaHJvbWUuIEluIENocm9tZSwgaWYgaW5pdGlhdG9yIGlzIHByb3ZpZGVkLFxuICogICBpdCBjYW4gYWxzbyBiZSB1c2VkIHRvIGNvbnN0cnVjdCBhIEZyYW1lSW5mbywgYnV0IHRoaXMgaXMgbm90XG4gKiAgIGlkZWFsIHNpbmNlIHRoZSBpbml0aWF0b3Igb25seSBjb250YWlucyB0aGUgZG9tYWluIHBhcnQgb2YgdGhlXG4gKiAgIFVSTC5cbiAqIEByZXR1cm5zIHs/RnJhbWVJbmZvfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnJhbWVJbmZvKHRhYklkLCBmcmFtZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFyZW50RnJhbWVJZCwgaW5pdGlhdG9yLCBkb2N1bWVudFVybH0gPSB7fSkge1xuICAvLyB0YWJJZCBpcyAtMSBpZiB0aGUgcmVxdWVzdCBjYW1lIGZyb20gYSBzZXJ2aWNlIHdvcmtlciwgc28gd2VcbiAgLy8gY29uc3RydWN0IGEgdGVtcG9yYXJ5IGZyYW1lIHN0YXRlIGZvciBpdCB0byB1c2UuIFdlIGRvbid0IHN0b3JlXG4gIC8vIGEgdGFiSWQgb2YgLTEgaW4gb3VyIGZyYW1lIHN0YXRlLCBzbyB3ZSBkb24ndCBldmVuIG5lZWQgdG8gY2hlY2tcbiAgLy8gaXQgYmVmb3JlIHJldHVybmluZy5cbiAgaWYgKGluaXRpYXRvciAmJiB0YWJJZCA9PSAtMSkge1xuICAgIHJldHVybiBuZXcgRnJhbWVJbmZvKHRhYklkLCBmcmFtZUlkLCBudWxsLCBpbml0aWF0b3IpO1xuICB9XG5cbiAgbGV0IGZyYW1lcyA9IHN0YXRlLmdldCh0YWJJZCk7XG4gIGlmIChmcmFtZXMpIHtcbiAgICBsZXQgZnJhbWUgPSBmcmFtZXMuZ2V0KGZyYW1lSWQpO1xuICAgIGlmIChmcmFtZSkge1xuICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNvbWV0aW1lcyB0aGUgd2ViUmVxdWVzdCBBUEkgY2FuIHRyaWdnZXIgZm9yIHJlc291cmNlcyBpbiBhIGZyYW1lXG4gIC8vIGJlZm9yZSB0aGUgb25Db21taXR0ZWQgZXZlbnQgZm9yIHRoZSBmcmFtZS4gSW4gdGhpcyBjYXNlLCBpdFxuICAvLyBzaG91bGQgYmUgc2FmZSB0byBjb25zdHJ1Y3QgdGhlIGZyYW1lIHN0YXRlIGVhcmx5LlxuICBpZiAoZG9jdW1lbnRVcmwgJiYgdHlwZW9mIHBhcmVudEZyYW1lSWQgPT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiByZWNvcmRGcmFtZUZyb21OYXZpZ2F0aW9uRXZlbnQoe1xuICAgICAgdGFiSWQsXG4gICAgICBmcmFtZUlkLFxuICAgICAgcGFyZW50RnJhbWVJZCxcbiAgICAgIHVybDogZG9jdW1lbnRVcmxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhcnQoKSB7XG4gIGlmICghc3RhcnR1cFByb21pc2UpIHtcbiAgICBhZGRPblNpdGVrZXlSZWNlaXZlZExpc3RlbmVyKG9uU2l0ZWtleVJlY2VpdmVkKTtcblxuICAgIGJyb3dzZXIud2ViTmF2aWdhdGlvbi5vbkJlZm9yZU5hdmlnYXRlLmFkZExpc3RlbmVyKG9uQmVmb3JlTmF2aWdhdGUpO1xuICAgIGJyb3dzZXIud2ViTmF2aWdhdGlvbi5vbkNvbW1pdHRlZC5hZGRMaXN0ZW5lcihvbkNvbW1pdHRlZCk7XG4gICAgYnJvd3Nlci53ZWJOYXZpZ2F0aW9uLm9uRXJyb3JPY2N1cnJlZC5hZGRMaXN0ZW5lcihvbkVycm9yT2NjdXJyZWQpO1xuICAgIGJyb3dzZXIud2ViTmF2aWdhdGlvbi5vbkhpc3RvcnlTdGF0ZVVwZGF0ZWQuYWRkTGlzdGVuZXIoXG4gICAgICBvbkhpc3RvcnlTdGF0ZVVwZGF0ZWQpO1xuICAgIGJyb3dzZXIudGFicy5vblJlbW92ZWQuYWRkTGlzdGVuZXIob25SZW1vdmVkKTtcbiAgICBicm93c2VyLnRhYnMub25SZXBsYWNlZC5hZGRMaXN0ZW5lcihvblJlcGxhY2VkKTtcblxuICAgIHN0YXJ0dXBQcm9taXNlID0gZGlzY292ZXJFeGlzdGluZ0ZyYW1lcygpO1xuICB9XG5cbiAgYXdhaXQgc3RhcnR1cFByb21pc2U7XG59XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuY29uc3QgREJfTkFNRSA9IFwiRVdFXCI7XG5jb25zdCBEQl9WRVJTSU9OID0gMTtcblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5EYXRhYmFzZSgpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKERCX05BTUUsIERCX1ZFUlNJT04pO1xuXG4gICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSBldmVudCA9PiB7XG4gICAgICBsZXQgZGIgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoXCJmaWxlLWVudHJpZXNcIik7XG4gICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShcImZpbGUtY29udGVudHNcIiwge2F1dG9JbmNyZW1lbnQ6IHRydWV9KTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBldmVudCA9PiByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGV2ZW50ID0+IHJlamVjdChldmVudC50YXJnZXQuZXJyb3IpO1xuICB9KTtcbn1cbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5cbmltcG9ydCB7ZGVmYXVsdCBhcyBpbml0aWFsaXplcn0gZnJvbSBcIi4vaW5pdGlhbGl6ZXIuanNcIjtcbmltcG9ydCAqIGFzIG1lc3NhZ2VSZXNwb25kZXIgZnJvbSBcIi4vbWVzc2FnZS1yZXNwb25kZXIuanNcIjtcbmltcG9ydCAqIGFzIG1lc3NhZ2VEZWZlcnJlciBmcm9tIFwiLi9jb250ZW50LW1lc3NhZ2UtZGVmZXJyZXIuanNcIjtcbmltcG9ydCAqIGFzIHBvcHVwQmxvY2tlckJhY2tncm91bmRQYWdlIGZyb20gXCIuL3BvcHVwLWJsb2NrZXItYmFja2dyb3VuZC1wYWdlLmpzXCI7XG5pbXBvcnQgKiBhcyBwb3B1cEJsb2NrZXJTZXJ2aWNlV29ya2VyIGZyb20gXCIuL3BvcHVwLWJsb2NrZXItc2VydmljZS13b3JrZXIuanNcIjtcbmltcG9ydCAqIGFzIHJlcXVlc3RGaWx0ZXIgZnJvbSBcIi4vcmVxdWVzdC1maWx0ZXIuanNcIjtcbmltcG9ydCAqIGFzIGRuclJlcXVlc3RSZXBvcnRlciBmcm9tIFwiLi9kbnItcmVxdWVzdC1yZXBvcnRlci5qc1wiO1xuaW1wb3J0ICogYXMgc2l0ZWtleSBmcm9tIFwiLi9zaXRla2V5LmpzXCI7XG5pbXBvcnQgKiBhcyBjb250ZW50TWVzc2FnZURlZmVycmVyIGZyb20gXCIuL2NvbnRlbnQtbWVzc2FnZS1kZWZlcnJlci5qc1wiO1xuaW1wb3J0ICogYXMgdGVsZW1ldHJ5IGZyb20gXCIuL3RlbGVtZXRyeS5qc1wiO1xuaW1wb3J0ICogYXMgc3Vic2NyaXB0aW9ucyBmcm9tIFwiLi9zdWJzY3JpcHRpb25zLmpzXCI7XG5pbXBvcnQgKiBhcyBkZWJ1Z2dpbmcgZnJvbSBcIi4vZGVidWdnaW5nLmpzXCI7XG5pbXBvcnQgKiBhcyBmaWx0ZXJzIGZyb20gXCIuL2ZpbHRlcnMuanNcIjtcbmltcG9ydCAqIGFzIHJlcG9ydGluZyBmcm9tIFwiLi9yZXBvcnRpbmcuanNcIjtcbmltcG9ydCAqIGFzIHRlc3RpbmcgZnJvbSBcIi4vdGVzdGluZy5qc1wiO1xuaW1wb3J0ICogYXMgcHJlZnMgZnJvbSBcIi4vcHJlZnMuanNcIjtcbmltcG9ydCAqIGFzIGNkcCBmcm9tIFwiLi9jZHAuanNcIjtcbmltcG9ydCAqIGFzIGNkcE1ldHJpY3NVcGxvYWRlciBmcm9tIFwiLi9jZHAtbWV0cmljcy11cGxvYWRlci5qc1wiO1xuaW1wb3J0IHtzZXRTbmlwcGV0TGlicmFyeX0gZnJvbSBcIi4vY29udGVudC1maWx0ZXIuanNcIjtcbmltcG9ydCB7c2V0QWRkb25JbmZvfSBmcm9tIFwiLi9pbmZvLmpzXCI7XG5pbXBvcnQge2ZpbHRlckVuZ2luZX0gZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0IHt2YWxpZGF0ZSBhcyB2YWxpZGF0ZVN1YnNjcmlwdGlvbnMsXG4gICAgICAgIG1pZ3JhdGUgYXMgbWlncmF0ZVN1YnNjcmlwdGlvbnMsIGVuc3VyZUROUlJ1bGVzZXRzRW5hYmxlZCxcbiAgICAgICAgdXBkYXRlU3Vic2NyaXB0aW9uSW5mb3JtYXRpb24sIHJlY292ZXJNaWdyYXRpb25FcnJvclN1YnNjcmlwdGlvbnN9XG4gIGZyb20gXCIuL3N1YnNjcmlwdGlvbnMuanNcIjtcbmltcG9ydCB7bWlncmF0ZUN1c3RvbUZpbHRlcnMsIGNsZWFyUnVsZXNldFVwZGF0ZXMsXG4gICAgICAgIHJlbW92ZVN1YnNjcmlwdGlvbnNEeW5hbWljRmlsdGVycywgZW5hYmxlQWxsRGlzYWJsZWRTdGF0aWNSdWxlc31cbiAgZnJvbSBcIi4vZG5yLWZpbHRlcnMuanNcIjtcbmltcG9ydCB7TUlHUkFURURfVE9fTVYyLCBNSUdSQVRFRF9UT19NVjMsIFByZWZzfSBmcm9tIFwiLi9wcmVmcy5qc1wiO1xuaW1wb3J0IHtpc1J1bm5pbmdJblNlcnZpY2VXb3JrZXJ9IGZyb20gXCIuL2Jyb3dzZXItZmVhdHVyZXMuanNcIjtcblxuYXN5bmMgZnVuY3Rpb24gcHJlQXBpQ2FsbCgpIHtcbiAgLy8gU2VydmljZSB3b3JrZXIgY2FuIGJlIHNodXQgZG93biBhbmQgd2UgbWlnaHQgbmVlZFxuICAvLyB0byBpbml0aWFsaXplIGl0IGJlZm9yZSB0aGUgdXNhZ2UuXG4gIGF3YWl0IGluaXRpYWxpemVyLnN0YXJ0KCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHBvc3RBcGlDYWxsKCkge1xuICBpZiAoIWJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXdhaXQgcHJlZnMuYXdhaXRTYXZpbmdDb21wbGV0ZSgpO1xuICBhd2FpdCBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5hd2FpdFNhdmluZ0NvbXBsZXRlKCk7XG4gIGF3YWl0IHNpdGVrZXkuX2F3YWl0U2F2aW5nQ29tcGxldGUoKTtcbiAgYXdhaXQgY29udGVudE1lc3NhZ2VEZWZlcnJlci5fYXdhaXRTYXZpbmdDb21wbGV0ZSgpO1xuICBhd2FpdCBjZHAuX2F3YWl0U2F2aW5nQ29tcGxldGUoKTtcbn1cblxuZnVuY3Rpb24gaXNBc3luYyhmdW5jKSB7XG4gIHJldHVybiBmdW5jLmNvbnN0cnVjdG9yICYmIGZ1bmMuY29uc3RydWN0b3IubmFtZSA9PT0gXCJBc3luY0Z1bmN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIHdyYXBBcGlOYW1lc3BhY2UodGFyZ2V0KSB7XG4gIHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCB7XG4gICAgZ2V0KF90YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAvLyB3cmFwcGluZyBvbmx5IGFzeW5jaHJvbm91cyBmdW5jdGlvbnNcbiAgICAgIGlmICh0eXBlb2YgX3RhcmdldFtwcm9wXSA9PT0gXCJmdW5jdGlvblwiICYmIGlzQXN5bmMoX3RhcmdldFtwcm9wXSkpIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICBkZWJ1Z2dpbmcuZGVidWcoKCkgPT4gXCJBUEkgY2FsbDogXCIgKyBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBtZXRob2Q6IHByb3AsXG4gICAgICAgICAgICBhcmdzOiBbLi4uYXJnc119KVxuICAgICAgICAgICwgZGVidWdnaW5nLkxPR19DT0xPUl9DWUFOKTtcbiAgICAgICAgICBhd2FpdCBwcmVBcGlDYWxsKCk7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IF90YXJnZXRbcHJvcF0oLi4uYXJncyk7XG4gICAgICAgICAgYXdhaXQgcG9zdEFwaUNhbGwoKTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIF90YXJnZXRbcHJvcF07XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmNvbnN0IHdyYXBwZWRTdWJzY3JpcHRpb25zID0gd3JhcEFwaU5hbWVzcGFjZShzdWJzY3JpcHRpb25zLmRlZmF1bHQpO1xuZXhwb3J0IHt3cmFwcGVkU3Vic2NyaXB0aW9ucyBhcyBzdWJzY3JpcHRpb25zfTtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmNvbnN0IHdyYXBwZWRGaWx0ZXJzID0gd3JhcEFwaU5hbWVzcGFjZShmaWx0ZXJzLmRlZmF1bHQpO1xuZXhwb3J0IHt3cmFwcGVkRmlsdGVycyBhcyBmaWx0ZXJzfTtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmNvbnN0IHdyYXBwZWRSZXBvcnRpbmcgPSB3cmFwQXBpTmFtZXNwYWNlKHJlcG9ydGluZy5kZWZhdWx0KTtcbmV4cG9ydCB7d3JhcHBlZFJlcG9ydGluZyBhcyByZXBvcnRpbmd9O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuY29uc3Qgd3JhcHBlZERlYnVnZ2luZyA9IHdyYXBBcGlOYW1lc3BhY2UoZGVidWdnaW5nLmRlZmF1bHQpO1xuZXhwb3J0IHt3cmFwcGVkRGVidWdnaW5nIGFzIGRlYnVnZ2luZ307XG5cbi8vIFwiQWxsb3dsaXN0aW5nXCIgbWlnaHQgYmUgdXNlZCBiZWZvcmUgRVdFIGlzIGFjdHVhbGx5IHN0YXJ0ZWRcbi8vIGFuZCBpdCBkb2VzIG5vdCByZXF1aXJlIHByZS0gYW5kIHBvc3QtIGFjdGlvbnMuXG5leHBvcnQge2RlZmF1bHQgYXMgYWxsb3dsaXN0aW5nfSBmcm9tIFwiLi9hbGxvd2xpc3RpbmcuanNcIjtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmNvbnN0IHdyYXBwZWRUZWxlbWV0cnkgPSB3cmFwQXBpTmFtZXNwYWNlKHRlbGVtZXRyeS5kZWZhdWx0KTtcbmV4cG9ydCB7d3JhcHBlZFRlbGVtZXRyeSBhcyB0ZWxlbWV0cnl9O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuY29uc3Qgd3JhcHBlZFRlc3RpbmcgPSB3cmFwQXBpTmFtZXNwYWNlKHRlc3RpbmcuZGVmYXVsdCk7XG5leHBvcnQge3dyYXBwZWRUZXN0aW5nIGFzIHRlc3Rpbmd9O1xuXG4vLyBcIk5vdGlmaWNhdGlvbnNcIiBuYW1lc3BhY2UgaXMgYWxyZWFkeSBhIFByb3h5XG5leHBvcnQge25vdGlmaWNhdGlvbnN9IGZyb20gXCIuL25vdGlmaWNhdGlvbnMuanNcIjtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmNvbnN0IHdyYXBwZWRDZHAgPSB3cmFwQXBpTmFtZXNwYWNlKGNkcC5kZWZhdWx0KTtcbmV4cG9ydCB7d3JhcHBlZENkcCBhcyBjZHB9O1xuXG5cbmV4cG9ydCBsZXQgc25pcHBldHMgPSB7XG4gIC8qKlxuICAgKiBTbmlwcGV0IGNhbGxiYWNrLlxuICAgKiBAY2FsbGJhY2sgU25pcHBldENhbGxiYWNrXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbnZpcm9ubWVudFxuICAgKiAgIFRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgICogQHBhcmFtIHsuLi5BcnJheS48QXJyYXkuPHN0cmluZz4+fSBfXG4gICAqICAgVGhlIHNuaXBwZXRzIG5hbWVzIGFuZCBhcmd1bWVudHMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIHN1cHBvcnQgZm9yIHNuaXBwZXQgZmlsdGVycy5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtzbmlwcGV0SW5mb11cbiAgICogQHBhcmFtIHtTbmlwcGV0Q2FsbGJhY2t9IFtzbmlwcGV0SW5mby5pc29sYXRlZENvZGVdXG4gICAqICAgVGhlIGNvZGUgZGVmaW5pbmcgdGhlIGF2YWlsYWJsZSBzbmlwcGV0cyB0byBiZSBleGVjdXRlZCBpbiB0aGUgaXNvbGF0ZWRcbiAgICogICBjb250ZW50IHNjcmlwdCBjb250ZXh0LlxuICAgKiBAcGFyYW0ge1NuaXBwZXRDYWxsYmFja30gW3NuaXBwZXRJbmZvLmluamVjdGVkQ29kZV1cbiAgICogICBUaGUgY29kZSBkZWZpbmluZyB0aGUgYXZhaWxhYmxlIHNuaXBwZXRzIHRvIGJlIGluamVjdGVkIGFuZCBleGVjdXRlZCBpblxuICAgKiAgIHRoZSBtYWluIGNvbnRleHQuXG4gICAqL1xuICBzZXRMaWJyYXJ5OiBzZXRTbmlwcGV0TGlicmFyeVxufTtcblxuY29uc3QgU0tJUF9JTklUX1JVTEVTRVRTX1NUT1JBR0VfS0VZID0gXCJld2U6c2tpcF9pbml0X3J1bGVzZXRzXCI7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYXJTa2lwSW5pdFJ1bGVzZXRzKCkge1xuICBhd2FpdCBicm93c2VyLnN0b3JhZ2UubG9jYWwucmVtb3ZlKFNLSVBfSU5JVF9SVUxFU0VUU19TVE9SQUdFX0tFWSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG9uSW5zdGFsbGVkKGRldGFpbHMpIHtcbiAgLy8gV2ViIGV4dGVuc2lvbiB1cGRhdGUgKHdpdGggcG90ZW50aWFsIHN1YnNjcmlwdGlvbnMgZmlsdGVyXG4gIC8vIHRleHQgY2hhbmdlZCBhbmQgcmVwYWNrZWQpIGNhbiBoYXBwZW4gaW4gdGhlIHNhbWUgYnJvd3NlciBzZXNzaW9uLlxuICAvLyBTbyBpbiBvcmRlciB0byBub3Qgc2tpcCB0aGUgbmV4dCBzdWJzY3JpcHRpb25zIGZpbHRlciB0ZXh0IHVwZGF0ZVxuICAvLyB0aGUgZmxhZyBpcyByZW1vdmVkLlxuICBsZXQgbWFuaWZlc3QgPSBicm93c2VyLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKTtcbiAgaWYgKGRldGFpbHMucmVhc29uICE9IGJyb3dzZXIucnVudGltZS5Pbkluc3RhbGxlZFJlYXNvbi5VUERBVEUgfHxcbiAgICAhZGV0YWlscy5wcmV2aW91c1ZlcnNpb24gfHwgZGV0YWlscy5wcmV2aW91c1ZlcnNpb24gPT0gbWFuaWZlc3QudmVyc2lvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGF3YWl0IGNsZWFyU2tpcEluaXRSdWxlc2V0cygpO1xufVxuXG4vKipcbiogQHR5cGVkZWYge09iamVjdH0gRmlyc3RSdW5JbmZvXG4qIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZm91bmRTdG9yYWdlIFdoZXRoZXIgdGhlIHN1YnNjcmlwdGlvbnMgc3RvcmFnZSB3YXNcbiogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZWQgb3Igbm90LlxuKiBAcHJvcGVydHkge2Jvb2xlYW59IGZvdW5kU3Vic2NyaXB0aW9ucyBUcnVlIHdoZW4gcHJlLWV4aXN0aW5nIHN1YnNjcmlwdGlvbnNcbiogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VyZSBmb3VuZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25zaWRlcnMgYWxzbyB3aGV0aGVyIGN1c3RvbSBmaWx0ZXJzXG4qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0LlxuKiBAcHJvcGVydHkge0FycmF5LjxzdHJpbmc+P30gW3dhcm5pbmdzXSBBbiBhcnJheSBvZiB3YXJuaW5ncy5cbiovXG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgdGhlIGZpbHRlciBlbmdpbmUgYW5kIHN0YXJ0cyBibG9ja2luZyBjb250ZW50LlxuICpcbiAqIENhbGxpbmcgdGhpcyBmdW5jdGlvbiBpcyByZXF1aXJlZCBmb3IgdGhlIG90aGVyIEFQSSBjYWxscyB0byB3b3JrLCBleGNlcHQgZm9yXG4gKiBBUEkgZXZlbnQgbGlzdGVuZXIgY2FsbHMsIHdoaWNoIGNvdWxkIGFsc28gYmUgZG9uZSBiZWZvcmUgYHN0YXJ0KClgLlxuICpcbiAqIEluIE1WMyBleHRlbnNpb25zLCB0aGlzIG11c3QgYmUgY2FsbGVkIGluIHRoZSBmaXJzdCB0dXJuIG9mIHRoZVxuICogZXZlbnQgbG9vcC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdD99IFthZGRvbkluZm9dIEFuIG9iamVjdCBjb250YWluaW5nIGFkZG9uXG4gKiAgIGluZm9ybWF0aW9uIGJlbG9uZ2luZyB0byBzZGsgY29uc3VtZXIsIHRoYXQgY2FuIGJlIGFjY2Vzc2VkIHZpYVxuICogICBgZGVidWdnaW5nYCBtb2R1bGUuIChJdCBpcyB1c3VhbGx5IHVzZWQgYXMgYW4gaWRlbnRpZmllciBpblxuICogICBuZXR3b3JrIHJlcXVlc3RzLCBldGMuKS4gVGhpcyBvYmplY3QgY2FuIGJlIHVuZGVmaW5lZCBmb3IgTVYyLiBJZiBpdCBpcyxcbiAqICAgbmFtZSBhbmQgdmVyc2lvbiB3aWxsIGRlZmF1bHQgdG8gdGhlIGV4dGVuc2lvbidzIG5hbWUgYW5kIHZlcnNpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gW2FkZG9uSW5mby5uYW1lXSBOYW1lIG9mIHRoZSBhZGRvbi9leHRlbnNpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gW2FkZG9uSW5mby52ZXJzaW9uXSBWZXJzaW9uIG9mIHRoZSBhZGRvbi9leHRlbnNpb24uXG4gKiBAcGFyYW0ge0FycmF5PFJlY29tbWVuZGF0aW9uPj99IFthZGRvbkluZm8uYnVuZGxlZFN1YnNjcmlwdGlvbnNdXG4gKiAgIEEgbGlzdCBvZiBzdWJzY3JpcHRpb25zIHByb3ZpZGVkIGJ5IHRoZSBpbnRlZ3JhdG9yLiBDYW5ub3QgYmUgdW5kZWZpbmVkXG4gKiAgIGZvciBNVjMuXG4gKiBAcGFyYW0ge3N0cmluZz99IFthZGRvbkluZm8uYnVuZGxlZFN1YnNjcmlwdGlvbnNQYXRoXVxuICogICBBIHBhdGggdG8gc3Vic2NyaXB0aW9uIGZpbGVzIHByb3ZpZGVkIGJ5IHRoZSBpbnRlZ3JhdG9yLiBDYW5ub3QgYmVcbiAqICAgdW5kZWZpbmVkIGZvciBNVjMuXG4gKiBAcGFyYW0ge09iamVjdD99IFthZGRvbkluZm8udGVsZW1ldHJ5XSBTZXR0aW5ncyBmb3IgdGVsZW1ldHJ5LiBUaGUgdGVsZW1ldHJ5XG4gKiAgIG1vZHVsZSB3aWxsIG9ubHkgYmUgc3RhcnRlZCBpZiB0aGlzIGlzIHByb3ZpZGVkLiBUaGlzIG1vZHVsZSB3aWxsIHNlbmQgYVxuICogICBQT1NUIHJlcXVlc3QgdG8gdGhlIHNwZWNpZmllZCB0ZWxlbWV0cnkgVVJMIGV2ZXJ5IDI0IGhvdXJzIHdpdGggbWV0YWRhdGFcbiAqICAgYWJvdXQgdGhlIGV4dGVuc2lvbi4gUGluZ3Mgd2lsbCBvbmx5IGhhcHBlbiBpZiBgRVdFLnRlbGVtZXRyeS5zZXRPcHRPdXRgXG4gKiAgIGhhcyBiZWVuIGNhbGxlZCB0byBvcHQgdGhlIHVzZXIgaW4uXG4gKiBAcGFyYW0ge3N0cmluZ30gW2FkZG9uSW5mby50ZWxlbWV0cnkudXJsXSBUaGUgVVJMIG9mIHRoZSBsb2NhdGlvbiB3aGVyZSB1c2VyXG4gKiBhY3RpdmUgcGluZ3Mgd2lsbCBiZSBzZW50IHRvLlxuICogQHBhcmFtIHtzdHJpbmd9IFthZGRvbkluZm8udGVsZW1ldHJ5LmJlYXJlcl0gVGhlIEJlYXJlciB0b2tlbiBhY2NvbXBhbnlpbmdcbiAqICAgdGVsZW1ldHJ5IEFQSSBjYWxscy5cbiAqIEBwYXJhbSB7T2JqZWN0P30gW2FkZG9uSW5mby5jZHBdIFNldHRpbmdzIGZvciBDRFAuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2FkZG9uSW5mby5jZHAuYWdncmVnYXRlVXJsXSBUaGUgVVJMIHRvIHNlbmQgYWdncmVnYXRlXG4gKiAgIG1ldHJpY3MgdG8gQ0RQLlxuICogQHBhcmFtIHtzdHJpbmd9IFthZGRvbkluZm8uY2RwLnBpbmdVcmxdIFRoZSBVUkwgdG8gZG8gdGhlIHVzZXIgY291bnRpbmcgcGluZ1xuICogICB0byBDRFAuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2FkZG9uSW5mby5jZHAuYmVhcmVyXSBUaGUgQmVhcmVyIHRva2VuIGFjY29tcGFueWluZyBDRFAgQVBJXG4gKiAgIGNhbGxzLlxuICogQHBhcmFtIHtPYmplY3Q/fSBbYWRkb25JbmZvLmZlYXR1cmVGbGFnc10gQm9vbGVhbiBmbGFncyBmb3IgZW5hYmxpbmcgYW5kXG4gKiAgIGRpc2FibGluZyBmZWF0dXJlcy4gSWYgYSBmbGFnIGlzIG5vdCBzZXQgaGVyZSwgdGhlIGRlZmF1bHQgdmFsdWUgd2lsbCBiZVxuICogICB1c2VkLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0aGUgY29ycmVjdCBzdGF0ZSBmb3IgdGhlIGZsYWcgYWNjb3JkaW5nIHRvIHRoZVxuICogICBTREsgYXQgdGltZSBvZiByZWxlYXNlLCBzbyB1bmRlciBub3JtYWwgY2lyY3Vtc3RhbmNlcyB0aGVzZSBmbGFncyBkbyBub3RcbiAqICAgbmVlZCB0byBiZSBzZXQuIE9wdGlvbnMgbWF5IGJlIHJlbW92ZWQgZnJvbSB0aGlzIG9iamVjdCB3aXRob3V0IGl0IGJlaW5nXG4gKiAgIGNvbnNpZGVyZWQgYSBicmVha2luZyBjaGFuZ2UgYXMgZmVhdHVyZXMgc3RhYmlsaXR6ZSBhbmQgY2FuIG5vIGxvbmdlciBieVxuICogICBkeW5hbWljYWxseSBlbmFibGVkIG9yIGRpc2FibGVkLiBJZiBhbnkgZmVhdHVyZXMgYXJlIHNldCBoZXJlIHdoaWNoIGFyZVxuICogICBub3Qga25vd24gZmVhdHVyZXMsIGEgd2FybmluZyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBgd2FybmluZ3NgIHByb3BlcnR5XG4gKiAgIG9mIHRoZSByZXR1cm5lZCBgRmlyc3RSdW5JbmZvYC5cbiAqIEBwYXJhbSB7Ym9vbD99IFthZGRvbkluZm8uZmVhdHVyZUZsYWdzLmlubGluZUNzc10gRW5hYmxlIGlubGluZSBDU1MgaW5cbiAqICAgZWxlbWVudCBoaWRpbmcgYW5kIGVsZW1lbnQgaGlkaW5nIGVtdWxhdGlvbiBmaWx0ZXJzLlxuICogQHJldHVybiB7UHJvbWlzZTxGaXJzdFJ1bkluZm8+fSBQcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgYWZ0ZXIgc3RhcnRpbmcgdXBcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgY29tcGxldGVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhcnQoYWRkb25JbmZvKSB7XG4gIGxldCB3YXJuaW5ncyA9IFtdO1xuXG4gIGxldCBhZGRvbkluZm9SZXN1bHQgPSBzZXRBZGRvbkluZm8oYWRkb25JbmZvKTtcbiAgaWYgKGFkZG9uSW5mb1Jlc3VsdC53YXJuaW5ncykge1xuICAgIHdhcm5pbmdzLnB1c2goLi4uYWRkb25JbmZvUmVzdWx0Lndhcm5pbmdzKTtcbiAgfVxuXG4gIHN0YXJ0U3VibW9kdWxlc1dpdGhMaXN0ZW5lcnMoKTtcblxuICBpZiAoYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QpIHtcbiAgICBicm93c2VyLnJ1bnRpbWUub25JbnN0YWxsZWQuYWRkTGlzdGVuZXIob25JbnN0YWxsZWQpO1xuICAgIGxldCB2YWxpZGF0ZVN1YnNjcmlwdGlvbldhcm5pbmdzID0gYXdhaXQgdmFsaWRhdGVTdWJzY3JpcHRpb25zKFxuICAgICAgYWRkb25JbmZvLmJ1bmRsZWRTdWJzY3JpcHRpb25zLCBhZGRvbkluZm8uYnVuZGxlZFN1YnNjcmlwdGlvbnNQYXRoKTtcblxuICAgIGlmICh2YWxpZGF0ZVN1YnNjcmlwdGlvbldhcm5pbmdzKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKC4uLnZhbGlkYXRlU3Vic2NyaXB0aW9uV2FybmluZ3MpO1xuICAgIH1cbiAgfVxuXG4gIGF3YWl0IHN0YXJ0U3VibW9kdWxlcygpO1xuXG4gIGxldCB7ZmlsdGVyU3RvcmFnZX0gPSBmaWx0ZXJFbmdpbmU7XG4gIGxldCBmaXJzdFJ1biA9IHtcbiAgICBmb3VuZFN1YnNjcmlwdGlvbnM6IGZpbHRlclN0b3JhZ2UuZ2V0U3Vic2NyaXB0aW9uQ291bnQoKSAhPSAwLFxuICAgIGZvdW5kU3RvcmFnZTogIWZpbHRlclN0b3JhZ2UuZmlyc3RSdW4sXG4gICAgd2FybmluZ3NcbiAgfTtcblxuICBpZiAoYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QpIHtcbiAgICBsZXQgbWlncmF0ZWRUb012MyA9IGF3YWl0IGNoZWNrQW5kTWlncmF0ZVN1YnNjcmlwdGlvbnMoKTtcbiAgICAvLyBJZiBpdCBoYXMganVzdCBtaWdyYXRlZCB0byBNVjMgdGhlcmUgaXMgbm8gZGlmZiB1cGRhdGVzIGRhdGEsXG4gICAgLy8gc28gd2UgY2FuIHNraXAgd2lwaW5nIGl0LlxuICAgIGF3YWl0IGNoZWNrQW5kSW5pdFN1YnNjcmlwdGlvbnMobWlncmF0ZWRUb012Myk7XG4gIH1cblxuICBpZiAoYWRkb25JbmZvICYmIGFkZG9uSW5mby50ZWxlbWV0cnkpIHtcbiAgICBhd2FpdCB0ZWxlbWV0cnkuc3RhcnQoYWRkb25JbmZvLnRlbGVtZXRyeSk7XG4gIH1cblxuICBpZiAoYWRkb25JbmZvICYmIGFkZG9uSW5mby5jZHApIHtcbiAgICBhd2FpdCBjZHBNZXRyaWNzVXBsb2FkZXIuc3RhcnQoYWRkb25JbmZvLmNkcCk7XG4gIH1cblxuICByZXR1cm4gZmlyc3RSdW47XG59XG5cbmZ1bmN0aW9uIHN0YXJ0U3VibW9kdWxlc1dpdGhMaXN0ZW5lcnMoKSB7XG4gIC8vIGZvciBNVjMsIHN1Ym1vZHVsZXMgdGhhdCByZWdpc3RlciBldmVudCBsaXN0ZW5lcnMgZ2VuZXJhbGx5IG5lZWRcbiAgLy8gdG8gcmVnaXN0ZXIgdGhlaXIgZXZlbnRzIGluIHRoZSBmaXJzdCB0dXJuIG9mIHRoZSBldmVudCBsb29wIHRvXG4gIC8vIHJlZ2lzdGVyIHRoZWlyIGV2ZW50IGxpc3RlbmVycy5cbiAgbWVzc2FnZVJlc3BvbmRlci5zdGFydCgpO1xuICBtZXNzYWdlRGVmZXJyZXIuc3RhcnQoKTtcbiAgaWYgKGlzUnVubmluZ0luU2VydmljZVdvcmtlcigpKSB7XG4gICAgcG9wdXBCbG9ja2VyU2VydmljZVdvcmtlci5zdGFydCgpO1xuICB9XG5cbiAgaWYgKGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0KSB7XG4gICAgZG5yUmVxdWVzdFJlcG9ydGVyLnN0YXJ0KCk7XG4gIH1cblxuICBzaXRla2V5LnN0YXJ0KCk7XG4gIGZpbHRlcnMuc3RhcnQoKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc3RhcnRTdWJtb2R1bGVzKCkge1xuICBhd2FpdCBpbml0aWFsaXplci5zdGFydCgpO1xuXG4gIC8vIE1WMi1zdHlsZSBwb3B1cCBhbmQgcmVxdWVzdCBibG9ja2luZyBhc3N1bWUgdGhhdCBpbml0aWFsaXplciBpc1xuICAvLyBzdGFydGVkIGZpcnN0LlxuICBpZiAoIWlzUnVubmluZ0luU2VydmljZVdvcmtlcigpKSB7XG4gICAgcG9wdXBCbG9ja2VyQmFja2dyb3VuZFBhZ2Uuc3RhcnQoKTtcbiAgfVxuXG4gIGlmICghYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QpIHtcbiAgICByZXF1ZXN0RmlsdGVyLnN0YXJ0KCk7XG4gIH1cblxuICBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5zeW5jaHJvbml6ZXIuc3RhcnQoKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gY2hlY2tBbmRNaWdyYXRlU3Vic2NyaXB0aW9ucygpIHtcbiAgaWYgKFByZWZzLm1pZ3JhdGlvbl9zdGF0ZSAhPT0gTUlHUkFURURfVE9fTVYzKSB7XG4gICAgYXdhaXQgbWlncmF0ZVN1YnNjcmlwdGlvbnMoKTtcblxuICAgIGlmIChQcmVmcy5taWdyYXRpb25fc3RhdGUgPT09IE1JR1JBVEVEX1RPX01WMikge1xuICAgICAgYXdhaXQgbWlncmF0ZUN1c3RvbUZpbHRlcnMoKTtcbiAgICB9XG5cbiAgICBQcmVmcy5taWdyYXRpb25fc3RhdGUgPSBNSUdSQVRFRF9UT19NVjM7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2tpcFdpcGVPdXREaWZmcyBTa2lwIHdpcGluZyBkaWZmIHVwZGF0ZXMgZGF0YVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tBbmRJbml0U3Vic2NyaXB0aW9ucyhza2lwV2lwZU91dERpZmZzKSB7XG4gIC8vIExvYWRpbmcgdGhlIHN1YmNyaXB0aW9ucyBmaWx0ZXIgdGV4dCB3aXBlcyBvdXQgZGlmZiB1cGRhdGVzLFxuICAvLyBzbyB3ZSBkbyBpdCBpbiBjYXNlIG9mIHdlYiBleHRlbnNpb24gdXBkYXRlIG9ubHkuXG4gIGxldCBza2lwSW5pdCA9IGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQoXG4gICAgW1NLSVBfSU5JVF9SVUxFU0VUU19TVE9SQUdFX0tFWV1cbiAgKTtcbiAgaWYgKHNraXBJbml0W1NLSVBfSU5JVF9SVUxFU0VUU19TVE9SQUdFX0tFWV0pIHtcbiAgICAvLyBSdWxlc2V0cyBzdGF0ZSBpcyBub3QgcGVyc2lzdGVkIGJldHdlZW4gd2ViZXh0IHVwZGF0ZXNcbiAgICBhd2FpdCBlbnN1cmVETlJSdWxlc2V0c0VuYWJsZWQoKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXNraXBXaXBlT3V0RGlmZnMpIHtcbiAgICAvLyBJdCdzIGEgd2ViZXh0IHVwZGF0ZSwgc28gd2UgbmVlZCB0byB3aXBlIG91dCBhbGwgZGlmZnNcbiAgICAvLyBhbmQgc3RhcnQgZnJvbSBzY3JhdGNoOiBmdWxsIHN0YXRlIHByb3ZpZGVkIGluIGJ1bmRsZWQgZGF0YS5cbiAgICBhd2FpdCBjbGVhclJ1bGVzZXRVcGRhdGVzKCk7XG4gICAgYXdhaXQgcmVtb3ZlU3Vic2NyaXB0aW9uc0R5bmFtaWNGaWx0ZXJzKCk7XG4gICAgYXdhaXQgZW5hYmxlQWxsRGlzYWJsZWRTdGF0aWNSdWxlcygpO1xuICB9XG5cbiAgYXdhaXQgcmVjb3Zlck1pZ3JhdGlvbkVycm9yU3Vic2NyaXB0aW9ucygpO1xuICBhd2FpdCB1cGRhdGVTdWJzY3JpcHRpb25JbmZvcm1hdGlvbigpO1xuICBhd2FpdCBlbnN1cmVETlJSdWxlc2V0c0VuYWJsZWQoKTtcblxuICBhd2FpdCBzdWJzY3JpcHRpb25zLmRlZmF1bHQuc3luYygpO1xuXG4gIGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQoXG4gICAge1tTS0lQX0lOSVRfUlVMRVNFVFNfU1RPUkFHRV9LRVldOiB0cnVlfVxuICApO1xufVxuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXIuanNcIjtcblxuaW1wb3J0IHtzZXRSZWNvbW1lbmRhdGlvbnN9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL3JlY29tbWVuZGF0aW9ucy5qc1wiO1xuaW1wb3J0ICogYXMgZmVhdHVyZXMgZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvZmVhdHVyZXMuanNcIjtcblxuZXhwb3J0IGxldCBhZGRvbk5hbWU7XG5leHBvcnQgbGV0IGFkZG9uVmVyc2lvbjtcbmV4cG9ydCBsZXQgYWRkb25CdW5kbGVkU3Vic2NyaXB0aW9ucztcbmV4cG9ydCBsZXQgYWRkb25CdW5kbGVkU3Vic2NyaXB0aW9uc1BhdGg7XG5leHBvcnQgbGV0IGFwcGxpY2F0aW9uO1xuZXhwb3J0IGxldCBhcHBsaWNhdGlvblZlcnNpb247XG5leHBvcnQgbGV0IHBsYXRmb3JtO1xuZXhwb3J0IGxldCBwbGF0Zm9ybVZlcnNpb247XG5leHBvcnQgbGV0IG1hbmlmZXN0VmVyc2lvbjtcblxuZXhwb3J0IGxldCBzZGtOYW1lID0gXCJleWVvLXdlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb25cIjtcbmV4cG9ydCBsZXQgc2RrVmVyc2lvbiA9IHdlYnBhY2tEb3RlbnZQbHVnaW4uVkVSU0lPTjtcblxuaW5pdGlhbGl6ZURlZmF1bHRBZGRvbkluZm8oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJyb3dzZXJWZXJzaW9uKCkge1xuICByZXR1cm4gYXBwbGljYXRpb25WZXJzaW9uLnNwbGl0KFwiLlwiKS5tYXAoc3RyID0+IHBhcnNlSW50KHN0ciwgMTApKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRmlyZWZveCgpIHtcbiAgcmV0dXJuIGFwcGxpY2F0aW9uLmluY2x1ZGVzKFwiZmlyZWZveFwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRWRnZSgpIHtcbiAgcmV0dXJuIGFwcGxpY2F0aW9uLmluY2x1ZGVzKFwiZWRnXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZURlZmF1bHRBZGRvbkluZm8oKSB7XG4gIGxldCBtYW5pZmVzdCA9IGJyb3dzZXIucnVudGltZS5nZXRNYW5pZmVzdCgpO1xuXG4gIGFkZG9uTmFtZSA9IG1hbmlmZXN0LnNob3J0X25hbWUgfHwgbWFuaWZlc3QubmFtZTtcbiAgYWRkb25WZXJzaW9uID0gbWFuaWZlc3QudmVyc2lvbjtcbiAgYXBwbGljYXRpb24gPSBcInVua25vd25cIjtcbiAgYXBwbGljYXRpb25WZXJzaW9uID0gXCIwXCI7XG4gIHBsYXRmb3JtVmVyc2lvbiA9IFwiMFwiO1xuICBtYW5pZmVzdFZlcnNpb24gPSBTdHJpbmcobWFuaWZlc3QubWFuaWZlc3RfdmVyc2lvbik7XG5cbiAgaWYgKHR5cGVvZiBuZXRzY2FwZSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcGxhdGZvcm0gPSBcImdlY2tvXCI7XG5cbiAgICBsZXQgbWF0Y2ggPSAvXFxicnY6KFteOyldKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBwbGF0Zm9ybVZlcnNpb24gPSBtYXRjaFsxXTtcbiAgICB9XG5cbiAgICBicm93c2VyLnJ1bnRpbWUuZ2V0QnJvd3NlckluZm8oKS50aGVuKGJyb3dzZXJJbmZvID0+IHtcbiAgICAgIGFwcGxpY2F0aW9uID0gYnJvd3NlckluZm8ubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgYXBwbGljYXRpb25WZXJzaW9uID0gYnJvd3NlckluZm8udmVyc2lvbjtcbiAgICB9KTtcbiAgfVxuICBlbHNlIHtcbiAgICBwbGF0Zm9ybSA9IFwiY2hyb21pdW1cIjtcbiAgICBwYXJzZUNocm9taXVtVXNlckFnZW50KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VDaHJvbWl1bVVzZXJBZ2VudCgpIHtcbiAgbGV0IHJlZ2V4cCA9IC8oXFxTKylcXC8oXFxTKykoPzpcXHMqXFwoLio/XFwpKT8vZztcbiAgbGV0IG1hdGNoO1xuXG4gIHdoaWxlIChtYXRjaCA9IHJlZ2V4cC5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgbGV0IFssIGFwcCwgdmVyc2lvbl0gPSBtYXRjaDtcblxuICAgIC8vIEZvciBjb21wYXRpYmlsaXR5IHdpdGggbGVnYWN5IHdlYnNpdGVzLCBDaHJvbWUncyBVQVxuICAgIC8vIGFsc28gaW5jbHVkZXMgYSBNb3ppbGxhLCBBcHBsZVdlYktpdCBhbmQgU2FmYXJpIHRva2Vucy5cbiAgICAvLyBBbnkgZnVydGhlciBuYW1lL3ZlcnNpb24gcGFpciBpbmRpY2F0ZXMgYSBmb3JrLlxuICAgIGlmIChhcHAgPT0gXCJNb3ppbGxhXCIgfHwgYXBwID09IFwiQXBwbGVXZWJLaXRcIiB8fCBhcHAgPT0gXCJTYWZhcmlcIikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGFwcCA9PSBcIkNocm9tZVwiKSB7XG4gICAgICBwbGF0Zm9ybVZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgaWYgKGFwcGxpY2F0aW9uICE9IFwidW5rbm93blwiKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFwcGxpY2F0aW9uID0gYXBwID09IFwiT1BSXCIgPyBcIm9wZXJhXCIgOiBhcHAudG9Mb3dlckNhc2UoKTtcbiAgICBhcHBsaWNhdGlvblZlcnNpb24gPSB2ZXJzaW9uO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBZGRvbkluZm8oYWRkb25JbmZvKSB7XG4gIGxldCB3YXJuaW5ncyA9IFtdO1xuXG4gIGlmIChicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdCkge1xuICAgIGlmICghYWRkb25JbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhZGRvbkluZm8gcHJvdmlkZWQgdG8gRVdFLnN0YXJ0XCIpO1xuICAgIH1cblxuICAgIGlmICghYWRkb25JbmZvLmJ1bmRsZWRTdWJzY3JpcHRpb25zKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBgYnVuZGxlZFN1YnNjcmlwdGlvbnNgIHByb3ZpZGVkXCIpO1xuICAgIH1cblxuICAgIGlmICghYWRkb25JbmZvLmJ1bmRsZWRTdWJzY3JpcHRpb25zUGF0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYGJ1bmRsZWRTdWJzY3JpcHRpb25zUGF0aGAgcHJvdmlkZWRcIik7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFhZGRvbkluZm8pIHtcbiAgICByZXR1cm4ge3dhcm5pbmdzfTtcbiAgfVxuXG4gIGlmIChhZGRvbkluZm8ubmFtZSkge1xuICAgIGFkZG9uTmFtZSA9IGFkZG9uSW5mby5uYW1lO1xuICB9XG4gIGlmIChhZGRvbkluZm8udmVyc2lvbikge1xuICAgIGFkZG9uVmVyc2lvbiA9IGFkZG9uSW5mby52ZXJzaW9uO1xuICB9XG4gIGlmIChhZGRvbkluZm8ubWFuaWZlc3RWZXJzaW9uKSB7XG4gICAgbWFuaWZlc3RWZXJzaW9uID0gYWRkb25JbmZvLm1hbmlmZXN0VmVyc2lvbjtcbiAgfVxuXG4gIGFkZG9uQnVuZGxlZFN1YnNjcmlwdGlvbnMgPSBhZGRvbkluZm8uYnVuZGxlZFN1YnNjcmlwdGlvbnM7XG4gIGFkZG9uQnVuZGxlZFN1YnNjcmlwdGlvbnNQYXRoID0gYWRkb25JbmZvLmJ1bmRsZWRTdWJzY3JpcHRpb25zUGF0aDtcblxuICBpZiAoYWRkb25CdW5kbGVkU3Vic2NyaXB0aW9ucyAmJlxuICAgICAgYWRkb25CdW5kbGVkU3Vic2NyaXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgc2V0UmVjb21tZW5kYXRpb25zKGFkZG9uQnVuZGxlZFN1YnNjcmlwdGlvbnMpO1xuICB9XG5cbiAgaWYgKGFkZG9uSW5mby5mZWF0dXJlRmxhZ3MpIHtcbiAgICB0cnkge1xuICAgICAgZmVhdHVyZXMuc2V0RmVhdHVyZUZsYWdzKGFkZG9uSW5mby5mZWF0dXJlRmxhZ3MpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgd2FybmluZ3MucHVzaChlLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7d2FybmluZ3N9O1xufVxuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB7ZmlsdGVyRW5naW5lfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQgKiBhcyBmcmFtZVN0YXRlIGZyb20gXCIuL2ZyYW1lLXN0YXRlLmpzXCI7XG5pbXBvcnQge0lPIGFzIGlvfSBmcm9tIFwiLi9pby5qc1wiO1xuaW1wb3J0IHtpbml0IGFzIGluaXRETlJGaWx0ZXJzfSBmcm9tIFwiLi9kbnItZmlsdGVycy5qc1wiO1xuaW1wb3J0IHtpbml0IGFzIGluaXRQcmVmc30gZnJvbSBcIi4vcHJlZnMuanNcIjtcbmltcG9ydCB7ZGVmYXVsdCBhcyBkZWJ1Z2dpbmd9IGZyb20gXCIuL2RlYnVnZ2luZy5qc1wiO1xuaW1wb3J0ICogYXMgY2RwIGZyb20gXCIuL2NkcC5qc1wiO1xuXG5sZXQgc3RhcnR1cFByb21pc2U7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHN0YXRlZnVsIG1vZHVsZXMgdGhhdCBtYXkgYmUgdXNlZCBpbiBmaWx0ZXJpbmcgcmVxdWVzdHMuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgaWRlbXBvdGVudC4gSWYgeW91IGNhbGwgaXQgYWZ0ZXIgaW5pdGlhbGl6YXRpb25cbiAgICogaGFzIGFscmVhZHkgYmVlbiBsYXVuY2hlZCBlbHNld2hlcmUsIHRoZW4gaXQgd2lsbCByZXR1cm4gdGhlIHNhbWVcbiAgICogcHJvbWlzZSBhcyB0aGUgb3JpZ2luYWwgaW5pdGlhbGl6YXRpb24uIFRoaXMgYWxsb3dzIHRoaXMgZnVuY3Rpb25cbiAgICogdG8gYmUgY2FsbGVkIGFueXdoZXJlIHRoYXQgeW91IG5lZWQgdG8gZW5zdXJlIHRoYXQgaW5pdGlhbGl6YXRpb25cbiAgICogaGFzIGNvbXBsZXRlZCBiZWZvcmUgY29udGludWluZy5cbiAgICpcbiAgICogQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIGlzIHJlcXVpcmVkIGZvciB0aGUgb3RoZXIgQVBJIGNhbGxzIHRvXG4gICAqIHdvcmssIGV4Y2VwdCBmb3IgQVBJIGV2ZW50IGxpc3RlbmVyIGNhbGxzLCB3aGljaCBjb3VsZCBhbHNvIGJlXG4gICAqIGRvbmUgYmVmb3JlIGBzdGFydCgpYC5cbiAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgd2hlbiBpbml0aWFsaXphdGlvbiBpcyBjb21wbGV0ZVxuICAgKi9cbiAgc3RhcnQoKSB7XG4gICAgaWYgKCFzdGFydHVwUHJvbWlzZSkge1xuICAgICAgc3RhcnR1cFByb21pc2UgPSAoYXN5bmMoKSA9PiB7XG4gICAgICAgIGF3YWl0IGlvLmluaXRpYWxpemUoKTtcbiAgICAgICAgYXdhaXQgZGVidWdnaW5nLnN0YXJ0KCk7XG4gICAgICAgIGF3YWl0IGluaXRQcmVmcygpO1xuICAgICAgICBhd2FpdCBmaWx0ZXJFbmdpbmUuaW5pdGlhbGl6ZSgpO1xuICAgICAgICBhd2FpdCBmcmFtZVN0YXRlLnN0YXJ0KCk7XG4gICAgICAgIGF3YWl0IGluaXRETlJGaWx0ZXJzKCk7XG4gICAgICAgIGF3YWl0IGNkcC5zdGFydCgpO1xuICAgICAgfSkoKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0dXBQcm9taXNlO1xuICB9XG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXIuanNcIjtcblxuY29uc3QgS0VZX1BSRUZJWCA9IFwiZXdlOmZpbGU6XCI7XG5cbmZ1bmN0aW9uIGZpbGVUb0tleShmaWxlTmFtZSkge1xuICByZXR1cm4gS0VZX1BSRUZJWCArIGZpbGVOYW1lO1xufVxuXG5hc3luYyBmdW5jdGlvbiBsb2FkRmlsZShmaWxlTmFtZSkge1xuICBsZXQga2V5ID0gZmlsZVRvS2V5KGZpbGVOYW1lKTtcbiAgbGV0IGl0ZW1zID0gYXdhaXQgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldChrZXkpO1xuICBsZXQgZW50cnkgPSBpdGVtc1trZXldO1xuICBpZiAoZW50cnkpIHtcbiAgICByZXR1cm4gZW50cnk7XG4gIH1cbiAgdGhyb3cge3R5cGU6IFwiTm9TdWNoRmlsZVwifTtcbn1cblxuZnVuY3Rpb24gc2F2ZUZpbGUoZmlsZU5hbWUsIGRhdGEpIHtcbiAgcmV0dXJuIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQoe1xuICAgIFtmaWxlVG9LZXkoZmlsZU5hbWUpXToge1xuICAgICAgY29udGVudDogQXJyYXkuZnJvbShkYXRhKSxcbiAgICAgIGxhc3RNb2RpZmllZDogRGF0ZS5ub3coKVxuICAgIH1cbiAgfSk7XG59XG5cbi8vIElPIGltcGxlbWVudGF0aW9uIHRoYXQgaXMgdXNpbmcgYGJyb3dzZXIuc3RvcmFnZS5sb2NhbGAgQVBJXG5leHBvcnQgbGV0IElPID0ge1xuICAvKipcbiAgICogUmVhZHMgdGV4dCBsaW5lcyBmcm9tIGEgZmlsZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVuYW1lXG4gICAqICAgIE5hbWUgb2YgdGhlIGZpbGUgdG8gYmUgcmVhZFxuICAgKiBAcGFyYW0ge1RleHRTaW5rfSBsaXN0ZW5lclxuICAgKiAgICBGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoIGxpbmUgaW4gdGhlIGZpbGVcbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICogICAgUHJvbWlzZSB0byBiZSByZXNvbHZlZCBvciByZWplY3RlZCBvbmNlIHRoZSBvcGVyYXRpb24gaXMgY29tcGxldGVkXG4gICAqL1xuICBhc3luYyByZWFkRnJvbUZpbGUoZmlsZW5hbWUsIGxpc3RlbmVyKSB7XG4gICAgbGV0IGVudHJ5ID0gYXdhaXQgbG9hZEZpbGUoZmlsZW5hbWUpO1xuICAgIGZvciAobGV0IGxpbmUgb2YgZW50cnkuY29udGVudCkge1xuICAgICAgbGlzdGVuZXIobGluZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBXcml0ZXMgdGV4dCBsaW5lcyB0byBhIGZpbGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlbmFtZVxuICAgKiAgICBOYW1lIG9mIHRoZSBmaWxlIHRvIGJlIHdyaXR0ZW5cbiAgICogQHBhcmFtIHtJdGVyYWJsZS48c3RyaW5nPn0gZGF0YVxuICAgKiAgICBBbiBhcnJheS1saWtlIG9yIGl0ZXJhYmxlIG9iamVjdCBjb250YWluaW5nIHRoZSBsaW5lcyAod2l0aG91dCBsaW5lXG4gICAqICAgIGVuZGluZ3MpXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqICAgIFByb21pc2UgdG8gYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgb25jZSB0aGUgb3BlcmF0aW9uIGlzIGNvbXBsZXRlZFxuICAgKi9cbiAgd3JpdGVUb0ZpbGUoZmlsZW5hbWUsIGRhdGEpIHtcbiAgICByZXR1cm4gc2F2ZUZpbGUoZmlsZW5hbWUsIGRhdGEpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW5hbWVzIGEgZmlsZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZyb21GaWxlXG4gICAqICAgIE5hbWUgb2YgdGhlIGZpbGUgdG8gYmUgcmVuYW1lZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3TmFtZVxuICAgKiAgICBOZXcgZmlsZSBuYW1lLCB3aWxsIGJlIG92ZXJ3cml0dGVuIGlmIGV4aXN0c1xuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKiAgICBQcm9taXNlIHRvIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkIG9uY2UgdGhlIG9wZXJhdGlvbiBpcyBjb21wbGV0ZWRcbiAgICovXG4gIGFzeW5jIHJlbmFtZUZpbGUoZnJvbUZpbGUsIG5ld05hbWUpIHtcbiAgICBsZXQgZW50cnkgPSBhd2FpdCBsb2FkRmlsZShmcm9tRmlsZSk7XG4gICAgYXdhaXQgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7W2ZpbGVUb0tleShuZXdOYW1lKV06IGVudHJ5fSk7XG4gICAgYXdhaXQgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnJlbW92ZShmaWxlVG9LZXkoZnJvbUZpbGUpKTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0cmlldmVzIGZpbGUgbWV0YWRhdGEuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlbmFtZVxuICAgKiAgICBOYW1lIG9mIHRoZSBmaWxlIHRvIGJlIGxvb2tlZCB1cFxuICAgKiBAcmV0dXJuIHtQcm9taXNlLjxTdGF0RGF0YT59XG4gICAqICAgIFByb21pc2UgdG8gYmUgcmVzb2x2ZWQgd2l0aCBmaWxlIG1ldGFkYXRhIG9uY2UgdGhlIG9wZXJhdGlvbiBpc1xuICAgKiAgICBjb21wbGV0ZWRcbiAgICovXG4gIGFzeW5jIHN0YXRGaWxlKGZpbGVuYW1lKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBlbnRyeSA9IGF3YWl0IGxvYWRGaWxlKGZpbGVuYW1lKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGV4aXN0czogdHJ1ZSxcbiAgICAgICAgbGFzdE1vZGlmaWVkOiBlbnRyeS5sYXN0TW9kaWZpZWRcbiAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yLnR5cGUgPT0gXCJOb1N1Y2hGaWxlXCIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7ZXhpc3RzOiBmYWxzZX0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxuXG4gIGFzeW5jIGZpeFByZWZpeGVzKCkge1xuICAgIGxldCBkYXRhID0gYXdhaXQgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldCgpO1xuICAgIGZvciAobGV0IGtleSBpbiBkYXRhKSB7XG4gICAgICBsZXQgdmFsdWUgPSBkYXRhW2tleV07XG5cbiAgICAgIC8vIFRoZSBvcmRlciBvZiBwcmVmaXhlcyBtYXR0ZXJzOlxuICAgICAgLy8gdGhlIG1vc3QgaW1wb3J0YW50IHNob3VsZCBiZSB0aGUgbGFzdFxuICAgICAgLy8gdG8gb3ZlcnJpZGUgdGhlIGV4aXN0aW5nIHZhbHVlcyBqaWMuXG4gICAgICBmb3IgKGxldCBlYWNoUHJlZml4IG9mIFtcImFicDpmaWxlOlwiLCBcImZpbGU6XCJdKSB7XG4gICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aChlYWNoUHJlZml4KSkge1xuICAgICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgICBvYmpbS0VZX1BSRUZJWCArIGtleS5zdWJzdHJpbmcoZWFjaFByZWZpeC5sZW5ndGgpXSA9IHZhbHVlO1xuICAgICAgICAgIGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQob2JqKTtcbiAgICAgICAgICBhd2FpdCBicm93c2VyLnN0b3JhZ2UubG9jYWwucmVtb3ZlKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIHN0b3JhZ2VcbiAgICogQHJldHVybiB7UHJvbWlzZX0gaW5pdGlhbGl6YXRpb24gcHJvbWlzZVxuICAgKi9cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICAvLyBNaWdyYXRpbmcgdGhlIGZpbGVzIHdpdGggJ2ZpbGU6JyBhbmQgYGFicDpmaWxlOmAgcHJlZml4ZXNcbiAgICAvLyB0byAnZXdlOmZpbGU6JyBzdG9yZWQgaW4gYGJyb3dzZXIuc3RvcmFnZS5sb2NhbGAgaW4gRmlyZWZveCBwcml2YXRlIG1vZGUuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0bGFiLmNvbS9leWVvL2FkYmxvY2twbHVzL2FiYy93ZWJleHQtYWQtZmlsdGVyaW5nLXNvbHV0aW9uLy0vaXNzdWVzLzM2OVxuICAgIGF3YWl0IHRoaXMuZml4UHJlZml4ZXMoKTtcbiAgfVxufTtcblxuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB7b3BlbkRhdGFiYXNlfSBmcm9tIFwiLi9pZGIuanNcIjtcblxubGV0IGRhdGFiYXNlO1xuXG5mdW5jdGlvbiBjbGVhckNvbnRlbnQoZmlsZW5hbWUsIGVudHJ5U3RvcmUsIGNvbnRlbnRTdG9yZSkge1xuICBlbnRyeVN0b3JlLmdldChmaWxlbmFtZSkub25zdWNjZXNzID0gZXZlbnQgPT4ge1xuICAgIGxldCBlbnRyeSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICBjb250ZW50U3RvcmUuZGVsZXRlKGVudHJ5LmNvbnRlbnQpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gc2F2ZUZpbGUoZGIsIGZpbGVuYW1lLCBsaW5lcywgbGFzdE1vZGlmaWVkKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IGRhdGEgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoQXJyYXkuZnJvbShsaW5lcykuam9pbihcIlxcblwiKSk7XG4gICAgbGV0IHR4ID0gZGIudHJhbnNhY3Rpb24oW1wiZmlsZS1lbnRyaWVzXCIsIFwiZmlsZS1jb250ZW50c1wiXSwgXCJyZWFkd3JpdGVcIik7XG4gICAgbGV0IGVudHJ5U3RvcmUgPSB0eC5vYmplY3RTdG9yZShcImZpbGUtZW50cmllc1wiKTtcbiAgICBsZXQgY29udGVudFN0b3JlID0gdHgub2JqZWN0U3RvcmUoXCJmaWxlLWNvbnRlbnRzXCIpO1xuXG4gICAgY2xlYXJDb250ZW50KGZpbGVuYW1lLCBlbnRyeVN0b3JlLCBjb250ZW50U3RvcmUpO1xuICAgIGNvbnRlbnRTdG9yZS5hZGQoZGF0YSkub25zdWNjZXNzID0gZXZlbnQgPT4ge1xuICAgICAgbGV0IGNvbnRlbnQgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgZW50cnlTdG9yZS5wdXQoe2xhc3RNb2RpZmllZCwgY29udGVudH0sIGZpbGVuYW1lKTtcbiAgICB9O1xuXG4gICAgdHgub25jb21wbGV0ZSA9ICgpID0+IHJlc29sdmUoKTtcbiAgICB0eC5vbmVycm9yID0gdHgub25hYm9ydCA9IGV2ZW50ID0+IHJlamVjdChldmVudC50YXJnZXQuZXJyb3IpO1xuICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5pdElPKGRiKSB7XG4gIGRhdGFiYXNlID0gZGI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhYmFzZSgpIHtcbiAgaWYgKCFkYXRhYmFzZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGFiYXNlIGhhc24ndCBiZWVuIG9wZW5lZC4gRGlkIHlvdSBjYWxsIHN0YXJ0KCk/XCIpO1xuICB9XG4gIHJldHVybiBkYXRhYmFzZTtcbn1cblxuLy8gSU8gaW1wbGVtZW50YXRpb24gdGhhdCBpcyB1c2luZyBgSW5kZXhlZERCYFxuZXhwb3J0IGxldCBJTyA9IHtcbiAgLyoqXG4gICAqIFJlYWRzIHRleHQgbGluZXMgZnJvbSBhIGZpbGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlbmFtZVxuICAgKiAgICBOYW1lIG9mIHRoZSBmaWxlIHRvIGJlIHJlYWRcbiAgICogQHBhcmFtIHtUZXh0U2lua30gbGlzdGVuZXJcbiAgICogICAgRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBsaW5lIGluIHRoZSBmaWxlXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqICAgIFByb21pc2UgdG8gYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgb25jZSB0aGUgb3BlcmF0aW9uIGlzIGNvbXBsZXRlZFxuICAgKi9cbiAgYXN5bmMgcmVhZEZyb21GaWxlKGZpbGVuYW1lLCBsaXN0ZW5lcikge1xuICAgIGxldCBkYXRhID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGRiID0gZ2V0RGF0YWJhc2UoKTtcbiAgICAgIGxldCB0eCA9IGRiLnRyYW5zYWN0aW9uKFtcImZpbGUtZW50cmllc1wiLCBcImZpbGUtY29udGVudHNcIl0sIFwicmVhZG9ubHlcIik7XG4gICAgICBsZXQgZW50cnlTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKFwiZmlsZS1lbnRyaWVzXCIpO1xuICAgICAgbGV0IGNvbnRlbnRTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKFwiZmlsZS1jb250ZW50c1wiKTtcblxuICAgICAgZW50cnlTdG9yZS5nZXQoZmlsZW5hbWUpLm9uc3VjY2VzcyA9IGVudHJ5RXZlbnQgPT4ge1xuICAgICAgICBsZXQgZW50cnkgPSBlbnRyeUV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiRmlsZSBkb2VzIG5vdCBleGlzdFwiKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGVudFN0b3JlLmdldChlbnRyeS5jb250ZW50KS5vbnN1Y2Nlc3MgPSBjb250ZW50RXZlbnQgPT4ge1xuICAgICAgICAgIHJlc29sdmUoY29udGVudEV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgdHgub25lcnJvciA9IHR4Lm9uYWJvcnQgPSBldmVudCA9PiByZWplY3QoZXZlbnQudGFyZ2V0LmVycm9yKTtcbiAgICB9KTtcblxuICAgIGxldCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgbGV0IHN0YXJ0ID0gMDtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgaW5kZXggPSBkYXRhLmluZGV4T2YoMTAgLyogbmV3bGluZSBjaGFyYWN0ZXIgKi8sIHN0YXJ0ICsgMTAwMCk7XG4gICAgICBsZXQgZW5kID0gaW5kZXggIT0gLTEgPyBpbmRleCA6IGRhdGEubGVuZ3RoO1xuICAgICAgbGV0IHRleHQgPSBkZWNvZGVyLmRlY29kZShkYXRhLnN1YmFycmF5KHN0YXJ0LCBlbmQpKTtcblxuICAgICAgZm9yIChsZXQgbGluZSBvZiB0ZXh0LnNwbGl0KFwiXFxuXCIpKSB7XG4gICAgICAgIGxpc3RlbmVyKGxpbmUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHN0YXJ0ID0gaW5kZXggKyAxO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogV3JpdGVzIHRleHQgbGluZXMgdG8gYSBmaWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZW5hbWVcbiAgICogICAgTmFtZSBvZiB0aGUgZmlsZSB0byBiZSB3cml0dGVuXG4gICAqIEBwYXJhbSB7SXRlcmFibGU8c3RyaW5nPn0gbGluZXNcbiAgICogICAgQW4gYXJyYXktbGlrZSBvciBpdGVyYWJsZSBvYmplY3QgY29udGFpbmluZyB0aGUgbGluZXMgKHdpdGhvdXQgbGluZVxuICAgKiAgICBlbmRpbmdzKVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKiAgICBQcm9taXNlIHRvIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkIG9uY2UgdGhlIG9wZXJhdGlvbiBpcyBjb21wbGV0ZWRcbiAgICovXG4gIGFzeW5jIHdyaXRlVG9GaWxlKGZpbGVuYW1lLCBsaW5lcykge1xuICAgIGF3YWl0IHNhdmVGaWxlKGdldERhdGFiYXNlKCksIGZpbGVuYW1lLCBsaW5lcywgRGF0ZS5ub3coKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbmFtZXMgYSBmaWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gb2xkTmFtZVxuICAgKiAgICBOYW1lIG9mIHRoZSBmaWxlIHRvIGJlIHJlbmFtZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld05hbWVcbiAgICogICAgTmV3IGZpbGUgbmFtZSwgd2lsbCBiZSBvdmVyd3JpdHRlbiBpZiBleGlzdHNcbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICogICAgUHJvbWlzZSB0byBiZSByZXNvbHZlZCBvciByZWplY3RlZCBvbmNlIHRoZSBvcGVyYXRpb24gaXMgY29tcGxldGVkXG4gICAqL1xuICByZW5hbWVGaWxlKG9sZE5hbWUsIG5ld05hbWUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGRiID0gZ2V0RGF0YWJhc2UoKTtcbiAgICAgIGxldCB0eCA9IGRiLnRyYW5zYWN0aW9uKFtcImZpbGUtZW50cmllc1wiLCBcImZpbGUtY29udGVudHNcIl0sIFwicmVhZHdyaXRlXCIpO1xuICAgICAgbGV0IGVudHJ5U3RvcmUgPSB0eC5vYmplY3RTdG9yZShcImZpbGUtZW50cmllc1wiKTtcbiAgICAgIGxldCBjb250ZW50U3RvcmUgPSB0eC5vYmplY3RTdG9yZShcImZpbGUtY29udGVudHNcIik7XG5cbiAgICAgIGVudHJ5U3RvcmUuZ2V0KG9sZE5hbWUpLm9uc3VjY2VzcyA9IGV2ZW50ID0+IHtcbiAgICAgICAgbGV0IGVudHJ5ID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJGaWxlIGRvZXMgbm90IGV4aXN0XCIpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjbGVhckNvbnRlbnQobmV3TmFtZSwgZW50cnlTdG9yZSwgY29udGVudFN0b3JlKTtcbiAgICAgICAgZW50cnlTdG9yZS5wdXQoZW50cnksIG5ld05hbWUpO1xuICAgICAgICBlbnRyeVN0b3JlLmRlbGV0ZShvbGROYW1lKTtcbiAgICAgIH07XG5cbiAgICAgIHR4Lm9uY29tcGxldGUgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgICB0eC5vbmVycm9yID0gdHgub25hYm9ydCA9IGV2ZW50ID0+IHJlamVjdChldmVudC50YXJnZXQuZXJyb3IpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgZmlsZSBtZXRhZGF0YS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVuYW1lXG4gICAqICAgIE5hbWUgb2YgdGhlIGZpbGUgdG8gYmUgbG9va2VkIHVwXG4gICAqIEByZXR1cm4ge1Byb21pc2U8U3RhdERhdGE+fVxuICAgKiAgICBQcm9taXNlIHRvIGJlIHJlc29sdmVkIHdpdGggZmlsZSBtZXRhZGF0YSBvbmNlIHRoZSBvcGVyYXRpb24gaXNcbiAgICogICAgY29tcGxldGVkXG4gICAqL1xuICBzdGF0RmlsZShmaWxlbmFtZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgZGIgPSBnZXREYXRhYmFzZSgpO1xuICAgICAgbGV0IHR4ID0gZGIudHJhbnNhY3Rpb24oW1wiZmlsZS1lbnRyaWVzXCJdLCBcInJlYWRvbmx5XCIpO1xuICAgICAgbGV0IHN0b3JlID0gdHgub2JqZWN0U3RvcmUoXCJmaWxlLWVudHJpZXNcIik7XG5cbiAgICAgIHN0b3JlLmdldChmaWxlbmFtZSkub25zdWNjZXNzID0gZXZlbnQgPT4ge1xuICAgICAgICBsZXQgZW50cnkgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICBsZXQgZXhpc3RzID0gZmFsc2U7XG4gICAgICAgIGxldCBsYXN0TW9kaWZpZWQ7XG5cbiAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICBsYXN0TW9kaWZpZWQgPSBlbnRyeS5sYXN0TW9kaWZpZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvbHZlKHtleGlzdHMsIGxhc3RNb2RpZmllZH0pO1xuICAgICAgfTtcblxuICAgICAgdHgub25lcnJvciA9IHR4Lm9uYWJvcnQgPSBldmVudCA9PiByZWplY3QoZXZlbnQudGFyZ2V0LmVycm9yKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgc3RvcmFnZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBpbml0aWFsaXphdGlvbiBwcm9taXNlXG4gICAqL1xuICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgIGxldCBkYiA9IGF3YWl0IG9wZW5EYXRhYmFzZSgpO1xuICAgIGF3YWl0IGluaXRJTyhkYik7XG4gIH1cbn07XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3Nlci5qc1wiO1xuXG5pbXBvcnQge0lPIGFzIGlvSWRifSBmcm9tIFwiLi9pby1pZGIuanNcIjtcbmltcG9ydCB7SU8gYXMgaW9Cc2x9IGZyb20gXCIuL2lvLWJzbC5qc1wiO1xuXG5sZXQgaW87XG5sZXQgaW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVhZEZpbGVDb250ZW50KHBhdGgpIHtcbiAgY29uc3QgdXJsID0gYnJvd3Nlci5ydW50aW1lLmdldFVSTChwYXRoKTtcbiAgcmV0dXJuIGZldGNoKHVybCkudGhlbihjb250ZW50ID0+IGNvbnRlbnQudGV4dCgpKTtcbn1cblxuLy8gVGhpcyBpcyBhIGZhY2FkZSBpbXBsZW1lbnRhdGlvbiB0aGF0IGZvcndhcmRzIHRvIHRoZSBjdXJyZW50IGNvbmNyZXRlXG4vLyBpbXBsZW1lbnRhdGlvbiBvZiBJTy4gQnkgZGVmYXVsdCBJbmRleGVkREIgaXMgdXNlZCBidXQgaWYgaXQncyB1bmF2YWlsYWJsZVxuLy8gYSBmYWxsYmFjayB0byBgYnJvd3Nlci5zdG9yYWdlLmxvY2FsYCBpcyB1c2VkLlxuZXhwb3J0IGxldCBJTyA9IHtcbiAgLyoqXG4gICAqIFJlYWRzIHRleHQgbGluZXMgZnJvbSBhIGZpbGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlbmFtZVxuICAgKiAgICBOYW1lIG9mIHRoZSBmaWxlIHRvIGJlIHJlYWRcbiAgICogQHBhcmFtIHtUZXh0U2lua30gbGlzdGVuZXJcbiAgICogICAgRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBsaW5lIGluIHRoZSBmaWxlXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqICAgIFByb21pc2UgdG8gYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgb25jZSB0aGUgb3BlcmF0aW9uIGlzIGNvbXBsZXRlZFxuICAgKi9cbiAgYXN5bmMgcmVhZEZyb21GaWxlKGZpbGVuYW1lLCBsaXN0ZW5lcikge1xuICAgIHJldHVybiBpby5yZWFkRnJvbUZpbGUoZmlsZW5hbWUsIGxpc3RlbmVyKTtcbiAgfSxcblxuICAvKipcbiAgICogV3JpdGVzIHRleHQgbGluZXMgdG8gYSBmaWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZW5hbWVcbiAgICogICAgTmFtZSBvZiB0aGUgZmlsZSB0byBiZSB3cml0dGVuXG4gICAqIEBwYXJhbSB7SXRlcmFibGU8c3RyaW5nPn0gbGluZXNcbiAgICogICAgQW4gYXJyYXktbGlrZSBvciBpdGVyYWJsZSBvYmplY3QgY29udGFpbmluZyB0aGUgbGluZXMgKHdpdGhvdXQgbGluZVxuICAgKiAgICBlbmRpbmdzKVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKiAgICBQcm9taXNlIHRvIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkIG9uY2UgdGhlIG9wZXJhdGlvbiBpcyBjb21wbGV0ZWRcbiAgICovXG4gIGFzeW5jIHdyaXRlVG9GaWxlKGZpbGVuYW1lLCBsaW5lcykge1xuICAgIHJldHVybiBpby53cml0ZVRvRmlsZShmaWxlbmFtZSwgbGluZXMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW5hbWVzIGEgZmlsZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9sZE5hbWVcbiAgICogICAgTmFtZSBvZiB0aGUgZmlsZSB0byBiZSByZW5hbWVkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdOYW1lXG4gICAqICAgIE5ldyBmaWxlIG5hbWUsIHdpbGwgYmUgb3ZlcndyaXR0ZW4gaWYgZXhpc3RzXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqICAgIFByb21pc2UgdG8gYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgb25jZSB0aGUgb3BlcmF0aW9uIGlzIGNvbXBsZXRlZFxuICAgKi9cbiAgcmVuYW1lRmlsZShvbGROYW1lLCBuZXdOYW1lKSB7XG4gICAgcmV0dXJuIGlvLnJlbmFtZUZpbGUob2xkTmFtZSwgbmV3TmFtZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBmaWxlIG1ldGFkYXRhLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZW5hbWVcbiAgICogICAgTmFtZSBvZiB0aGUgZmlsZSB0byBiZSBsb29rZWQgdXBcbiAgICogQHJldHVybiB7UHJvbWlzZTxTdGF0RGF0YT59XG4gICAqICAgIFByb21pc2UgdG8gYmUgcmVzb2x2ZWQgd2l0aCBmaWxlIG1ldGFkYXRhIG9uY2UgdGhlIG9wZXJhdGlvbiBpc1xuICAgKiAgICBjb21wbGV0ZWRcbiAgICovXG4gIHN0YXRGaWxlKGZpbGVuYW1lKSB7XG4gICAgcmV0dXJuIGlvLnN0YXRGaWxlKGZpbGVuYW1lKTtcbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgc3RvcmFnZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBpbml0aWFsaXphdGlvbiBwcm9taXNlXG4gICAqL1xuICBpbml0aWFsaXplKCkge1xuICAgIGlmICghaW5pdGlhbGl6YXRpb25Qcm9taXNlKSB7XG4gICAgICBpbml0aWFsaXphdGlvblByb21pc2UgPSAoYXN5bmMoKSA9PiB7XG4gICAgICAgIGlvID0gaW9JZGI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgaW8uaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiZcbiAgICAgICAgICAgICAgZS5uYW1lID09IFwiSW52YWxpZFN0YXRlRXJyb3JcIikge1xuICAgICAgICAgICAgLy8gZmFsbCBiYWNrIHRvIGBicm93c2VyLnN0b3JhZ2UubG9jYWxgIEFQSSBpZiBJbmRleGVkRGJcbiAgICAgICAgICAgIC8vIGlzIHVuYXZhaWxhYmxlLCBlZy4gaW4gRmlyZWZveCBpbiBwcml2YXRlIG1vZGUuIFNlZVxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRsYWIuY29tL2V5ZW8vYWRibG9ja3BsdXMvYWJjL3dlYmV4dC1hZC1maWx0ZXJpbmctc29sdXRpb24vLS9pc3N1ZXMvMjMxXG4gICAgICAgICAgICBpbyA9IGlvQnNsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYXdhaXQgaW8uaW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICBpbml0aWFsaXphdGlvblByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uUHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuICB9XG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBicm93c2VyIGZyb20gXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIjtcblxuaW1wb3J0IHtkZWZhdWx0IGFzIGluaXRpYWxpemVyfSBmcm9tIFwiLi9pbml0aWFsaXplci5qc1wiO1xuaW1wb3J0IHthcHBseUNvbnRlbnRGaWx0ZXJzLCBpbmplY3RDU1N9IGZyb20gXCIuL2NvbnRlbnQtZmlsdGVyLmpzXCI7XG5pbXBvcnQge2NyZWF0ZVN0eWxlU2hlZXR9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2VsZW1IaWRlLmpzXCI7XG5pbXBvcnQge3N1YnNjcmliZUxpbmtDbGlja2VkfSBmcm9tIFwiLi9zdWJzY3JpYmUtbGlua3MuanNcIjtcbmltcG9ydCB7bG9nSGlkZGVuRWxlbWVudHN9IGZyb20gXCIuL2RpYWdub3N0aWNzLmpzXCI7XG5pbXBvcnQge2FsbG93bGlzdFBhZ2V9IGZyb20gXCIuL2FsbG93bGlzdGluZy5qc1wiO1xuaW1wb3J0IHt0cmFjZX0gZnJvbSBcIi4vZGVidWdnaW5nLmpzXCI7XG5pbXBvcnQge29uQ29udGVudEhlbGxvUmVjZWl2ZWR9IGZyb20gXCIuL2NvbnRlbnQtbWVzc2FnZS1kZWZlcnJlci5qc1wiO1xuaW1wb3J0IHttYXJrQWN0aXZlfSBmcm9tIFwiLi9jZHAuanNcIjtcblxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlTWVzc2FnZShtZXNzYWdlLCBzZW5kZXIpIHtcbiAgdHJhY2Uoe1xuICAgIG1lc3NhZ2UsIHNlbmRlcjoge1xuICAgICAgdGFiSWQ6IHNlbmRlci50YWIgPyBzZW5kZXIudGFiLmlkIDogbnVsbCxcbiAgICAgIGZyYW1lSWQ6IHNlbmRlci5mcmFtZUlkLFxuICAgICAgdXJsOiBzZW5kZXIudXJsXG4gICAgfVxuICB9KTtcbiAgYXdhaXQgaW5pdGlhbGl6ZXIuc3RhcnQoKTtcbiAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICBjYXNlIFwiZXdlOmNvbnRlbnQtaGVsbG9cIjpcbiAgICAgIC8vIEZpcmVmb3ggbWlzdGFrZW5seSBydW5zIGNvbnRlbnQgc2NyaXB0cyBpbiBub24td2ViIHBhZ2UgY29udGV4dCxcbiAgICAgIC8vIGl0IGRvZXMgbm90IGhhcHBlbiBpbiBDaHJvbWUuXG4gICAgICAvLyBodHRwczovL2dpdGxhYi5jb20vZXllby9hZGJsb2NrcGx1cy9hYmMvd2ViZXh0LWFkLWZpbHRlcmluZy1zb2x1dGlvbi8tL2lzc3Vlcy8xNzQuXG4gICAgICAvLyBNZXNzYWdlcyBzZW50IGZyb20gYSBub24td2ViIHBhZ2UgY29udGV4dCBkbyBub3QgaGF2ZSBhblxuICAgICAgLy8gYXNzb2NpYXRlZCB0YWIgYW5kIGNhbiBiZSBpZ25vcmVkLlxuICAgICAgaWYgKCFzZW5kZXIudGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgb25Db250ZW50SGVsbG9SZWNlaXZlZChzZW5kZXIudGFiLmlkLCBzZW5kZXIuZnJhbWVJZCk7XG4gICAgICBsZXQgZmlsdGVyRGF0YSA9IGF3YWl0IGFwcGx5Q29udGVudEZpbHRlcnMoc2VuZGVyLnRhYi5pZCwgc2VuZGVyLmZyYW1lSWQpO1xuICAgICAgcmV0dXJuIHsuLi5maWx0ZXJEYXRhfTtcbiAgICBjYXNlIFwiZXdlOnN1YnNjcmliZS1saW5rLWNsaWNrZWRcIjpcbiAgICAgIHN1YnNjcmliZUxpbmtDbGlja2VkKG1lc3NhZ2UudXJsLCBtZXNzYWdlLnRpdGxlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJld2U6dHJhY2UtZWxlbS1oaWRlXCI6XG4gICAgICBsb2dIaWRkZW5FbGVtZW50cyhtZXNzYWdlLnNlbGVjdG9ycywgbWVzc2FnZS5maWx0ZXJzLCBzZW5kZXIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImV3ZTppbmplY3QtY3NzXCI6XG4gICAgICBsZXQgc3R5bGVTaGVldCA9IGNyZWF0ZVN0eWxlU2hlZXQoW21lc3NhZ2Uuc2VsZWN0b3JdKTtcbiAgICAgIGluamVjdENTUyhzZW5kZXIudGFiLmlkLCBzZW5kZXIuZnJhbWVJZCwgc3R5bGVTaGVldCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZXdlOmFsbG93bGlzdC1wYWdlXCI6XG4gICAgICBjb25zdCB7dGltZXN0YW1wLCBzaWduYXR1cmUsIG9wdGlvbnN9ID0gbWVzc2FnZTtcbiAgICAgIHJldHVybiBhbGxvd2xpc3RQYWdlKFxuICAgICAgICBzZW5kZXIudGFiLmlkLCBzZW5kZXIuZnJhbWVJZCwgdGltZXN0YW1wLCBzaWduYXR1cmUsIG9wdGlvbnNcbiAgICAgICk7XG4gICAgY2FzZSBcImV3ZTpjZHAtc2Vzc2lvbi1hY3RpdmVcIjpcbiAgICAgIGF3YWl0IG1hcmtBY3RpdmUoc2VuZGVyLnRhYi5pZCwgc2VuZGVyLmZyYW1lSWQpO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25NZXNzYWdlKG1lc3NhZ2UsIHNlbmRlcikge1xuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT0gXCJvYmplY3RcIiAmJiBtZXNzYWdlICE9IG51bGwgJiZcbiAgICAgIG1lc3NhZ2UudHlwZSAmJiBtZXNzYWdlLnR5cGUuc3RhcnRzV2l0aChcImV3ZTpcIikpIHtcbiAgICByZXR1cm4gaGFuZGxlTWVzc2FnZShtZXNzYWdlLCBzZW5kZXIpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBTdGFydCB0aGUgbWVzc2FnZSByZXNwb25kZXIgbW9kdWxlLiBJbiBNVjMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgaW5cbiAqIHRoZSBmaXJzdCB0dXJuIG9mIHRoZSBldmVudCBsb29wLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnQoKSB7XG4gIGJyb3dzZXIucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIob25NZXNzYWdlKTtcbn1cbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5cbmltcG9ydCB7aW5pdCBhcyBpbml0UHJlZnN9IGZyb20gXCIuL3ByZWZzLmpzXCI7XG5cbmltcG9ydCB7bm90aWZpY2F0aW9ucyBhcyBfbm90aWZpY2F0aW9uc30gZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvbm90aWZpY2F0aW9ucy5qc1wiO1xuXG5jb25zdCBOT1RJRklDQVRJT05fS0VZID0gXCJld2U6bm90aWZpY2F0aW9uc1wiO1xuY2xhc3MgTm90aWZpY2F0aW9uU2Vzc2lvblN0b3JhZ2VCYWNrZW5kIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5sb2NhbCA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLmxvYWRlZCA9IHRoaXMubG9hZCgpO1xuICB9XG5cbiAgYWRkKG5vdGlmaWNhdGlvbikge1xuICAgIHRoaXMubG9jYWwuYWRkKG5vdGlmaWNhdGlvbik7XG4gICAgdGhpcy5zYXZlKCk7XG4gIH1cblxuICBkZWxldGUobm90aWZpY2F0aW9uKSB7XG4gICAgbGV0IHJlbW92ZWQgPSB0aGlzLmxvY2FsLmRlbGV0ZShub3RpZmljYXRpb24pO1xuICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICB0aGlzLnNhdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVtb3ZlZDtcbiAgfVxuXG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWQoKSB7XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5zZXNzaW9uLmdldChbTk9USUZJQ0FUSU9OX0tFWV0pO1xuICAgIGxldCBsb2FkZWROb3RpZmljYXRpb25zID0gcmVzdWx0W05PVElGSUNBVElPTl9LRVldIHx8IFtdO1xuICAgIGZvciAobGV0IG5vdGlmaWNhdGlvbiBvZiBsb2FkZWROb3RpZmljYXRpb25zKSB7XG4gICAgICB0aGlzLmxvY2FsLmFkZChub3RpZmljYXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNhdmUoKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkZWQ7XG4gICAgaWYgKCF0aGlzLmRlYm91bmNlVGltZXIpIHtcbiAgICAgIHRoaXMuZGVib3VuY2VUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmRlYm91bmNlVGltZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnNhdmVJbW1lZGlhdGUoKTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNhdmVJbW1lZGlhdGUoKSB7XG4gICAgYXdhaXQgYnJvd3Nlci5zdG9yYWdlLnNlc3Npb24uc2V0KHtcbiAgICAgIFtOT1RJRklDQVRJT05fS0VZXTogWy4uLnRoaXMubG9jYWxdXG4gICAgfSk7XG4gIH1cbn1cblxuaWYgKGJyb3dzZXIuc3RvcmFnZS5zZXNzaW9uKSB7XG4gIF9ub3RpZmljYXRpb25zLnNldExvY2FsTm90aWZpY2F0aW9uU3RvcmFnZShcbiAgICBuZXcgTm90aWZpY2F0aW9uU2Vzc2lvblN0b3JhZ2VCYWNrZW5kKClcbiAgKTtcbn1cblxubGV0IGZ1bmNzVGhhdFJlcXVpcmVQcmVmcyA9IFtcbiAgXCJzdGFydFwiLFxuICBcInNob3VsZElnbm9yZU5vdGlmaWNhdGlvbnNcIixcbiAgXCJzaG93Tm90aWZpY2F0aW9uXCIsXG4gIFwic2hvd05leHRcIixcbiAgXCJtYXJrQXNTaG93blwiLFxuICBcInRvZ2dsZUlnbm9yZUNhdGVnb3J5XCIsXG4gIFwiZ2V0RG93bmxvYWRDb3VudFwiLFxuICBcImdldElnbm9yZWRDYXRlZ29yaWVzXCJcbl07XG5cbi8qKlxuICogVGhlIG5vdGlmaWNhdGlvbnMgQVBJIChvcHRpb25hbCB1c2FnZSkuXG4gKlxuICogQ2FsbCBgbm90aWZpY2F0aW9ucy5zdGFydCgpYCB0byBzdGFydCBkb3dubG9hZGluZyByZW1vdGVcbiAqIG5vdGlmaWNhdGlvbnMuIExvY2FsIG5vdGlmaWNhdGlvbnMgZnVuY3Rpb25zIHN1Y2ggYXNcbiAqIGBub3RpZmljYXRpb25zLmFkZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pYCBhbmRcbiAqIGBub3RpZmljYXRpb25zLnNob3dOb3RpZmljYXRpb24obm90aWZpY2F0aW9uKWAgY2FuIGJlIHVzZWQgZXZlbiBpZlxuICogYG5vdGlmaWNhdGlvbnMuc3RhcnQoKWAgaGFzIG5vdCBiZWVuIGNhbGxlZC5cbiAqXG4gKiAgUGxlYXNlIGFsc28gbm90aWNlIHRoYXQgbm90aWZpY2F0aW9uIGV2ZW50cyBhcmUgKipub3QqKiB1c2luZyB0aGVcbiAqIHtAbGluayAjZXZlbnRkaXNwYXRjaGVyfEV2ZW50RGlzcGF0Y2hlcn0gaW50ZXJmYWNlLlxuICpcbiAqIE5vdGUgdGhhdCwgd2hlbiB1c2VkIHRocm91Z2ggRVdFLCB0aGUgZm9sbG93aW5nIG5vdGlmaWNhdGlvbnNcbiAqIGZ1bmN0aW9ucyBhcmUgYXN5bmNocm9ub3VzIGFuZCByZXR1cm4gdGhlIHZhbHVlcyBzcGVjaWZpZWQgaW4gdGhlXG4gKiBDb3JlIGRvY3VtZW50YXRpb24gd3JhcHBlZCBpbiBwcm9taXNlczpcbiAqIC0gc3RhcnRcbiAqIC0gc2hvdWxkSWdub3JlTm90aWZpY2F0aW9uc1xuICogLSBzaG93Tm90aWZpY2F0aW9uXG4gKiAtIHNob3dOZXh0XG4gKiAtIG1hcmtBc1Nob3duXG4gKiAtIHRvZ2dsZUlnbm9yZUNhdGVnb3J5XG4gKiAtIGdldERvd25sb2FkQ291bnRcbiAqIC0gZ2V0SWdub3JlZENhdGVnb3JpZXNcbiAqXG4gKiBAc2VlIHtAbGluayBodHRwczovL2V5ZW8uZ2l0bGFiLmlvL2FkYmxvY2twbHVzL2FiYy9hZGJsb2NrcGx1c2NvcmUvbWFzdGVyL2RvY3MvbW9kdWxlLW5vdGlmaWNhdGlvbnMuaHRtbD9qb2I9ZG9jc3xBZGJsb2NrIFBsdXMgY29yZSBub3RpZmljYXRpb25zIGRvY3VtZW50YXRpb259XG4gKi9cbmV4cG9ydCBsZXQgbm90aWZpY2F0aW9ucyA9IG5ldyBQcm94eShfbm90aWZpY2F0aW9ucywge1xuICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgIGlmIChmdW5jc1RoYXRSZXF1aXJlUHJlZnMuaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgIGF3YWl0IGluaXRQcmVmcygpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdKC4uLmFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgfVxufSk7XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3Nlci5qc1wiO1xuaW1wb3J0IHttZXJnZU9iamVjdHN9IGZyb20gXCIuL3NldC1vcGVyYXRpb25zLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQZXJzaXN0ZW50U3RhdGUge1xuICBjb25zdHJ1Y3RvcihzdG9yYWdlS2V5LCBzdG9yYWdlID0gYnJvd3Nlci5zdG9yYWdlLnNlc3Npb24pIHtcbiAgICB0aGlzLnN0b3JhZ2VLZXkgPSBzdG9yYWdlS2V5O1xuICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XG4gICAgdGhpcy5hY3RpdmVTYXZlQWN0aW9ucyA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGVib3VuY2UgPSBmYWxzZTtcblxuICAgIHRoaXMuY2xlYXJTdGF0ZSgpO1xuICB9XG5cbiAgZG9EZWJvdW5jZSgpIHtcbiAgICB0aGlzLmRlYm91bmNlID0gdHJ1ZTtcbiAgfVxuXG4gIGNsZWFyU3RhdGUoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHt9O1xuICB9XG5cbiAgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICBhc3luYyBsb2FkKHNhdmVkU3RhdGVDYWxsYmFjayA9IG51bGwpIHtcbiAgICBsZXQgcGVyc2lzdE9iaiA9IGF3YWl0IHRoaXMuc3RvcmFnZS5nZXQodGhpcy5zdG9yYWdlS2V5KTtcbiAgICBpZiAoIXBlcnNpc3RPYmogfHwgIXBlcnNpc3RPYmpbdGhpcy5zdG9yYWdlS2V5XSkge1xuICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBzYXZlZFN0YXRlID0gcGVyc2lzdE9ialt0aGlzLnN0b3JhZ2VLZXldO1xuXG4gICAgaWYgKHNhdmVkU3RhdGVDYWxsYmFjaykge1xuICAgICAgc2F2ZWRTdGF0ZUNhbGxiYWNrKHNhdmVkU3RhdGUpO1xuICAgIH1cblxuICAgIC8vIFdlIG1pZ2h0IGhhdmUgcG9wdWxhdGVkIHN0YXRlIHVudGlsIGxvYWRpbmcgaXMgZmluaXNoZWQuXG4gICAgLy8gVGh1cyB3ZSBtaWdodCBuZWVkIHRvIG1lcmdlIHRoZSBzYXZlZCBhbmQgbmV3IHJ1bnRpbWUgc3RhdGUuXG4gICAgdGhpcy5zdGF0ZSA9IG1lcmdlT2JqZWN0cyhzYXZlZFN0YXRlLCB0aGlzLnN0YXRlKTtcbiAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gIH1cblxuICBhc3luYyBzYXZlKCkge1xuICAgIGlmICh0aGlzLmRlYm91bmNlKSB7XG4gICAgICBpZiAoIXRoaXMuZGVib3VuY2VUaW1lcikge1xuICAgICAgICB0aGlzLmRlYm91bmNlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRlYm91bmNlVGltZXIgPSBudWxsO1xuICAgICAgICAgIHRoaXMuc2F2ZUltbWVkaWF0ZSgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLnNhdmVJbW1lZGlhdGUoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBzYXZlSW1tZWRpYXRlKCkge1xuICAgIGxldCBvYmogPSB7fTtcbiAgICBvYmpbdGhpcy5zdG9yYWdlS2V5XSA9IHRoaXMuc3RhdGU7XG4gICAgcmV0dXJuIHRoaXMuX3RyYWNrU2F2aW5nKHRoaXMuc3RvcmFnZS5zZXQob2JqKVxuICAgICAgLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzYXZlIHRoZSBzdGF0ZSBmb3JcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlS2V5LCBcIjogXCIgKyBlLm1lc3NhZ2UpKSk7XG4gIH1cblxuICBhc3luYyBhd2FpdFNhdmluZ0NvbXBsZXRlKCkge1xuICAgIGlmIChQcm9taXNlLmFsbFNldHRsZWQpIHtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZCh0aGlzLmFjdGl2ZVNhdmVBY3Rpb25zKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQcm9taXNlLmFsbFNldHRsZWQgaXNuJ3Qgc3VwcG9ydGVkIGluIG9sZGVzdCBGaXJlZm94LlxuICAgIC8vIEl0IHdhcyBhZGRlZCBpbiBGaXJlZm94IDcxLlxuICAgIGZvciAobGV0IHNhdmVBY3Rpb24gb2YgdGhpcy5hY3RpdmVTYXZlQWN0aW9ucykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgc2F2ZUFjdGlvbjtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3RyYWNrU2F2aW5nKHNhdmVQcm9taXNlKSB7XG4gICAgdGhpcy5hY3RpdmVTYXZlQWN0aW9ucy5hZGQoc2F2ZVByb21pc2UpO1xuICAgIHNhdmVQcm9taXNlLmZpbmFsbHkoKCkgPT4gdGhpcy5hY3RpdmVTYXZlQWN0aW9ucy5kZWxldGUoc2F2ZVByb21pc2UpKTtcbiAgICByZXR1cm4gc2F2ZVByb21pc2U7XG4gIH1cbn1cbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5cbmltcG9ydCB7QmxvY2tpbmdGaWx0ZXJ9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2ZpbHRlckNsYXNzZXMuanNcIjtcbmltcG9ydCB7Y29udGVudFR5cGVzfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9jb250ZW50VHlwZXMuanNcIjtcblxuaW1wb3J0IHtmaWx0ZXJFbmdpbmV9IGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCB7bG9nSXRlbX0gZnJvbSBcIi4vZGlhZ25vc3RpY3MuanNcIjtcbmltcG9ydCB7Z2V0RnJhbWVJbmZvLCBpc1RvcExldmVsRnJhbWVJZCwgQkxBTktfUEFHRV9VUkx9IGZyb20gXCIuL2ZyYW1lLXN0YXRlLmpzXCI7XG5pbXBvcnQge3RyYWNlfSBmcm9tIFwiLi9kZWJ1Z2dpbmcuanNcIjtcblxubGV0IGxvYWRpbmdQb3B1cHMgPSBuZXcgTWFwKCk7XG5cbmZ1bmN0aW9uIGZvcmdldFBvcHVwKHRhYklkKSB7XG4gIGxvYWRpbmdQb3B1cHMuZGVsZXRlKHRhYklkKTtcblxuICBpZiAobG9hZGluZ1BvcHVwcy5zaXplID09IDApIHtcbiAgICBicm93c2VyLndlYlJlcXVlc3Qub25CZWZvcmVSZXF1ZXN0LnJlbW92ZUxpc3RlbmVyKG9uUG9wdXBVUkxDaGFuZ2VkKTtcbiAgICBicm93c2VyLndlYk5hdmlnYXRpb24ub25CZWZvcmVOYXZpZ2F0ZS5yZW1vdmVMaXN0ZW5lcihvblBvcHVwVVJMQ2hhbmdlZCk7XG4gICAgYnJvd3Nlci53ZWJOYXZpZ2F0aW9uLm9uQ29tcGxldGVkLnJlbW92ZUxpc3RlbmVyKG9uQ29tcGxldGVkKTtcbiAgICBicm93c2VyLnRhYnMub25SZW1vdmVkLnJlbW92ZUxpc3RlbmVyKG9uVGFiUmVtb3ZlZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tQb3RlbnRpYWxQb3B1cChwb3B1cFRhYklkLCB1cmwsIG9wZW5lcikge1xuICBsZXQge2RvY0RvbWFpbiwgc2l0ZWtleSwgc3BlY2lmaWNPbmx5fSA9IG9wZW5lcjtcblxuICBsZXQgZmlsdGVyID0gZmlsdGVyRW5naW5lLmRlZmF1bHRNYXRjaGVyLm1hdGNoKFxuICAgIHVybCB8fCBCTEFOS19QQUdFX1VSTCwgY29udGVudFR5cGVzLlBPUFVQLFxuICAgIGRvY0RvbWFpbiwgc2l0ZWtleSwgc3BlY2lmaWNPbmx5XG4gICk7XG5cbiAgaWYgKGZpbHRlcikge1xuICAgIGxvZ0l0ZW0oe3RhYklkOiBvcGVuZXIudGFiSWQsIGZyYW1lSWQ6IDAsIHVybH0sIGZpbHRlcixcbiAgICAgICAgICAgIHtkb2NEb21haW4sIHNwZWNpZmljT25seSwgbWV0aG9kOiBcInBvcHVwXCJ9KTtcblxuICAgIGlmIChmaWx0ZXIgaW5zdGFuY2VvZiBCbG9ja2luZ0ZpbHRlcikge1xuICAgICAgYnJvd3Nlci50YWJzLnJlbW92ZShwb3B1cFRhYklkKS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgZm9yZ2V0UG9wdXAocG9wdXBUYWJJZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25Qb3B1cFVSTENoYW5nZWQoe2ZyYW1lSWQsIHRhYklkLCB1cmx9KSB7XG4gIHRyYWNlKHtmcmFtZUlkLCB0YWJJZCwgdXJsfSk7XG5cbiAgaWYgKCFpc1RvcExldmVsRnJhbWVJZChmcmFtZUlkKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBvcGVuZXIgPSBsb2FkaW5nUG9wdXBzLmdldCh0YWJJZCk7XG4gIGlmIChvcGVuZXIpIHtcbiAgICBjaGVja1BvdGVudGlhbFBvcHVwKHRhYklkLCB1cmwsIG9wZW5lcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25Db21wbGV0ZWQoe2ZyYW1lSWQsIHRhYklkLCB1cmx9KSB7XG4gIHRyYWNlKHtmcmFtZUlkLCB0YWJJZCwgdXJsfSk7XG5cbiAgaWYgKGlzVG9wTGV2ZWxGcmFtZUlkKGZyYW1lSWQpICYmIHVybCAhPSBCTEFOS19QQUdFX1VSTCkge1xuICAgIGZvcmdldFBvcHVwKHRhYklkKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvblRhYlJlbW92ZWQodGFiSWQpIHtcbiAgdHJhY2Uoe3RhYklkfSk7XG4gIGZvcmdldFBvcHVwKHRhYklkKTtcbn1cblxuZnVuY3Rpb24gb25Qb3B1cCh7dGFiSWQsIHVybCwgc291cmNlVGFiSWQsIHNvdXJjZUZyYW1lSWR9KSB7XG4gIHRyYWNlKHt0YWJJZCwgdXJsLCBzb3VyY2VUYWJJZCwgc291cmNlRnJhbWVJZH0pO1xuXG4gIGxldCBmcmFtZSA9IGdldEZyYW1lSW5mbyhzb3VyY2VUYWJJZCwgc291cmNlRnJhbWVJZCkgfHwge307XG5cbiAgaWYgKGZyYW1lLmFsbG93bGlzdGVkICYgY29udGVudFR5cGVzLkRPQ1VNRU5UKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGxvYWRpbmdQb3B1cHMuc2l6ZSA9PSAwKSB7XG4gICAgYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uQmVmb3JlUmVxdWVzdC5hZGRMaXN0ZW5lcihcbiAgICAgIG9uUG9wdXBVUkxDaGFuZ2VkLFxuICAgICAge1xuICAgICAgICB1cmxzOiBbXCJodHRwOi8vKi8qXCIsIFwiaHR0cHM6Ly8qLypcIl0sXG4gICAgICAgIHR5cGVzOiBbXCJtYWluX2ZyYW1lXCJdXG4gICAgICB9XG4gICAgKTtcbiAgICBicm93c2VyLndlYk5hdmlnYXRpb24ub25CZWZvcmVOYXZpZ2F0ZS5hZGRMaXN0ZW5lcihvblBvcHVwVVJMQ2hhbmdlZCk7XG4gICAgYnJvd3Nlci53ZWJOYXZpZ2F0aW9uLm9uQ29tcGxldGVkLmFkZExpc3RlbmVyKG9uQ29tcGxldGVkKTtcbiAgICBicm93c2VyLnRhYnMub25SZW1vdmVkLmFkZExpc3RlbmVyKG9uVGFiUmVtb3ZlZCk7XG4gIH1cblxuICBsZXQgb3BlbmVyID0ge1xuICAgIHRhYklkOiBzb3VyY2VUYWJJZCxcbiAgICBzcGVjaWZpY09ubHk6IEJvb2xlYW4oZnJhbWUuYWxsb3dsaXN0ZWQgJiBjb250ZW50VHlwZXMuR0VORVJJQ0JMT0NLKSxcbiAgICBkb2NEb21haW46IGZyYW1lLmhvc3RuYW1lLFxuICAgIHNpdGVrZXk6IGZyYW1lLnNpdGVrZXlcbiAgfTtcblxuICBsb2FkaW5nUG9wdXBzLnNldCh0YWJJZCwgb3BlbmVyKTtcbiAgY2hlY2tQb3RlbnRpYWxQb3B1cCh0YWJJZCwgdXJsLCBvcGVuZXIpO1xufVxuXG5mdW5jdGlvbiBvblRhYkNyZWF0ZWQoe2lkLCB1cmwsIG9wZW5lclRhYklkfSkge1xuICB0cmFjZSh7aWQsIHVybCwgb3BlbmVyVGFiSWR9KTtcblxuICBpZiAob3BlbmVyVGFiSWQpIHtcbiAgICBvblBvcHVwKHt0YWJJZDogaWQsIHVybCwgc291cmNlVGFiSWQ6IG9wZW5lclRhYklkLCBzb3VyY2VGcmFtZUlkOiAwfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBTdGFydHMgYmxvY2tpbmcgcG9wdXBzLiBNdXN0IG9ubHkgYmUgY2FsbGVkIGFmdGVyIGZpbHRlciBlbmdpbmUgYW5kXG4gKiBmcmFtZSBzdGF0ZSBhcmUgaW5pdGlhbGl6ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydCgpIHtcbiAgYnJvd3Nlci53ZWJOYXZpZ2F0aW9uLm9uQ3JlYXRlZE5hdmlnYXRpb25UYXJnZXQuYWRkTGlzdGVuZXIob25Qb3B1cCk7XG5cbiAgLy8gT24gRmlyZWZveCwgY2xpY2tpbmcgb24gYSA8YSB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lclwiPiBsaW5rIGRvZXNuJ3RcbiAgLy8gZW1pdCB0aGUgd2ViTmF2aWdhdGlvbi5vbkNyZWF0ZWROYXZpZ2F0aW9uVGFyZ2V0IGV2ZW50IChhbmQgRmlyZWZveCA+PTc5LFxuICAvLyBpbXBsaWVzIFwibm9vcGVuZXJcIiBieSBkZWZhdWx0KS4gQnV0IG9uIENocm9tZSwgb3BlbmluZyBhIG5ldyBlbXB0eSB0YWJcbiAgLy8gZW1pdHMgdGhlIHRhYnMub25DcmVhdGVkIGV2ZW50IHdpdGggb3BlbmVyVGFiSWQgc2V0LiBTbyB0aGlzIHdvdWxkXG4gIC8vIGNhdXNlIG5ldyB0YWJzIGNyZWF0ZWQgYnkgdGhlIHVzZXIgdG8gYmUgY29uc2lkZXJlZCBwb3B1cHMgdG9vLCBvbiBDaHJvbWUuXG4gIGlmICh0eXBlb2YgbmV0c2NhcGUgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGJyb3dzZXIudGFicy5vbkNyZWF0ZWQuYWRkTGlzdGVuZXIob25UYWJDcmVhdGVkKTtcbiAgfVxufVxuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBicm93c2VyIGZyb20gXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIjtcblxuaW1wb3J0IHtCbG9ja2luZ0ZpbHRlcn0gZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvZmlsdGVyQ2xhc3Nlcy5qc1wiO1xuaW1wb3J0IHtjb250ZW50VHlwZXN9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2NvbnRlbnRUeXBlcy5qc1wiO1xuXG5pbXBvcnQge2ZpbHRlckVuZ2luZX0gZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0IHtkZWZhdWx0IGFzIGluaXRpYWxpemVyfSBmcm9tIFwiLi9pbml0aWFsaXplci5qc1wiO1xuaW1wb3J0IHtsb2dJdGVtfSBmcm9tIFwiLi9kaWFnbm9zdGljcy5qc1wiO1xuaW1wb3J0IHtnZXRGcmFtZUluZm8sIGlzVG9wTGV2ZWxGcmFtZUlkLCBCTEFOS19QQUdFX1VSTH1cbiAgZnJvbSBcIi4vZnJhbWUtc3RhdGUuanNcIjtcbmltcG9ydCB7dHJhY2V9IGZyb20gXCIuL2RlYnVnZ2luZy5qc1wiO1xuXG5jb25zdCBTRVNTSU9OX1NUT1JBR0VfS0VZID0gXCJld2U6cG9wdXBCbG9ja2VyOmxvYWRpbmdQb3B1cHNcIjtcblxuY2xhc3MgUG90ZW50aWFsUG9wdXBNYXAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm9wZW5lclByb21pc2VNYXAgPSB7fTtcbiAgICB0aGlzLmxvYWRlZCA9IChhc3luYygpID0+IHtcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBicm93c2VyLnN0b3JhZ2Uuc2Vzc2lvbi5nZXQoW1NFU1NJT05fU1RPUkFHRV9LRVldKTtcbiAgICAgIHRoaXMub3BlbmVyTWFwID0gcmVzdWx0W1NFU1NJT05fU1RPUkFHRV9LRVldIHx8IHt9O1xuICAgIH0pKCk7XG4gIH1cblxuICBhc3luYyBzYXZlTWFwKCkge1xuICAgIGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5zZXNzaW9uLnNldCh7XG4gICAgICBbU0VTU0lPTl9TVE9SQUdFX0tFWV06IHRoaXMub3BlbmVyTWFwXG4gICAgfSk7XG4gIH1cblxuICBzZXQodGFiSWQsIG9wZW5lclByb21pc2UpIHtcbiAgICBpZiAodGhpcy5vcGVuZXJQcm9taXNlTWFwW3RhYklkXSB8fFxuICAgICAgICAodGhpcy5vcGVuZXJNYXAgJiYgdGhpcy5vcGVuZXJNYXBbdGFiSWRdKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMub3BlbmVyUHJvbWlzZU1hcFt0YWJJZF0gPSBvcGVuZXJQcm9taXNlO1xuICAgIG9wZW5lclByb21pc2UudGhlbihhc3luYyBvcGVuZXIgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5sb2FkZWQ7XG5cbiAgICAgIGRlbGV0ZSB0aGlzLm9wZW5lclByb21pc2VNYXBbdGFiSWRdO1xuICAgICAgaWYgKG9wZW5lcikge1xuICAgICAgICB0aGlzLm9wZW5lck1hcFt0YWJJZF0gPSBvcGVuZXI7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZU1hcCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2V0KHRhYklkKSB7XG4gICAgbGV0IG9wZW5lclByb21pc2UgPSB0aGlzLm9wZW5lclByb21pc2VNYXBbdGFiSWRdO1xuICAgIGlmIChvcGVuZXJQcm9taXNlKSB7XG4gICAgICByZXR1cm4gYXdhaXQgb3BlbmVyUHJvbWlzZTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLmxvYWRlZDtcbiAgICBsZXQgb3BlbmVyID0gdGhpcy5vcGVuZXJNYXBbdGFiSWRdO1xuICAgIHJldHVybiBvcGVuZXI7XG4gIH1cblxuICBoYXModGFiSWQpIHtcbiAgICByZXR1cm4gT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy5vcGVuZXJQcm9taXNlTWFwLCB0YWJJZCkgfHxcbiAgICAgICh0aGlzLm9wZW5lck1hcCAmJiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLm9wZW5lck1hcCwgdGFiSWQpKTtcbiAgfVxuXG4gIGFzeW5jIHJlbW92ZSh0YWJJZCkge1xuICAgIGlmICh0aGlzLm9wZW5lclByb21pc2VNYXBbdGFiSWRdKSB7XG4gICAgICBkZWxldGUgdGhpcy5vcGVuZXJQcm9taXNlTWFwW3RhYklkXTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLmxvYWRlZDtcbiAgICBpZiAodGhpcy5vcGVuZXJNYXBbdGFiSWRdKSB7XG4gICAgICBkZWxldGUgdGhpcy5vcGVuZXJNYXBbdGFiSWRdO1xuICAgICAgYXdhaXQgdGhpcy5zYXZlTWFwKCk7XG4gICAgfVxuICB9XG59XG5cbmxldCBwb3RlbnRpYWxQb3B1cHM7XG5cbmFzeW5jIGZ1bmN0aW9uIGNoZWNrUG90ZW50aWFsUG9wdXAocG9wdXBUYWJJZCwgdXJsLCBvcGVuZXIpIHtcbiAgYXdhaXQgaW5pdGlhbGl6ZXIuc3RhcnQoKTtcbiAgbGV0IHtkb2NEb21haW4sIHNpdGVrZXksIHNwZWNpZmljT25seX0gPSBvcGVuZXI7XG5cbiAgLy8gYmVjYXVzZSBvZiB0aGUgYXN5bmMgbmF0dXJlIG9mIGdldHRpbmcgdG8gdGhpcyBwb2ludCwgaXQgbWlnaHRcbiAgLy8gaGF2ZSBiZWVuIGhhbmRsZWQgYmVmb3JlIHdlIGdldCBoZXJlLlxuICBpZiAoIXBvdGVudGlhbFBvcHVwcy5oYXMocG9wdXBUYWJJZCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgZmlsdGVyID0gZmlsdGVyRW5naW5lLmRlZmF1bHRNYXRjaGVyLm1hdGNoKFxuICAgIHVybCB8fCBCTEFOS19QQUdFX1VSTCwgY29udGVudFR5cGVzLlBPUFVQLCBkb2NEb21haW4sIHNpdGVrZXksIHNwZWNpZmljT25seVxuICApO1xuXG4gIGlmIChmaWx0ZXIpIHtcbiAgICBsb2dJdGVtKHt0YWJJZDogb3BlbmVyLnRhYklkLCBmcmFtZUlkOiAwLCB1cmx9LCBmaWx0ZXIsXG4gICAgICAgICAgICB7ZG9jRG9tYWluLCBzcGVjaWZpY09ubHksIG1ldGhvZDogXCJwb3B1cFwifSk7XG5cbiAgICBpZiAoZmlsdGVyIGluc3RhbmNlb2YgQmxvY2tpbmdGaWx0ZXIpIHtcbiAgICAgIGJyb3dzZXIudGFicy5yZW1vdmUocG9wdXBUYWJJZCkuY2F0Y2goKCkgPT4ge30pO1xuICAgIH1cblxuICAgIGF3YWl0IHBvdGVudGlhbFBvcHVwcy5yZW1vdmUocG9wdXBUYWJJZCk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gb25Qb3B1cFVSTENoYW5nZWQoe2ZyYW1lSWQsIHRhYklkLCB1cmx9KSB7XG4gIHRyYWNlKHtmcmFtZUlkLCB0YWJJZCwgdXJsfSk7XG5cbiAgaWYgKCFpc1RvcExldmVsRnJhbWVJZChmcmFtZUlkKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBvcGVuZXIgPSBhd2FpdCBwb3RlbnRpYWxQb3B1cHMuZ2V0KHRhYklkKTtcbiAgaWYgKG9wZW5lcikge1xuICAgIGF3YWl0IGNoZWNrUG90ZW50aWFsUG9wdXAodGFiSWQsIHVybCwgb3BlbmVyKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBvbkNvbXBsZXRlZCh7ZnJhbWVJZCwgdGFiSWQsIHVybH0pIHtcbiAgdHJhY2Uoe2ZyYW1lSWQsIHRhYklkLCB1cmx9KTtcblxuICBpZiAoIWlzVG9wTGV2ZWxGcmFtZUlkKGZyYW1lSWQpIHx8IHVybCA9PSBCTEFOS19QQUdFX1VSTCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBvcGVuZXIgPSBhd2FpdCBwb3RlbnRpYWxQb3B1cHMuZ2V0KHRhYklkKTtcbiAgaWYgKG9wZW5lcikge1xuICAgIGF3YWl0IGNoZWNrUG90ZW50aWFsUG9wdXAodGFiSWQsIHVybCwgb3BlbmVyKTtcbiAgICBhd2FpdCBwb3RlbnRpYWxQb3B1cHMucmVtb3ZlKHRhYklkKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBvblRhYlJlbW92ZWQodGFiSWQpIHtcbiAgdHJhY2Uoe3RhYklkfSk7XG4gIGF3YWl0IHBvdGVudGlhbFBvcHVwcy5yZW1vdmUodGFiSWQpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBvblBvcHVwKHt0YWJJZCwgdXJsLCBzb3VyY2VUYWJJZCwgc291cmNlRnJhbWVJZH0pIHtcbiAgdHJhY2Uoe3RhYklkLCB1cmwsIHNvdXJjZVRhYklkLCBzb3VyY2VGcmFtZUlkfSk7XG5cbiAgbGV0IG9wZW5lclByb21pc2UgPSAoYXN5bmMoKSA9PiB7XG4gICAgYXdhaXQgaW5pdGlhbGl6ZXIuc3RhcnQoKTtcbiAgICBsZXQgZnJhbWUgPSBnZXRGcmFtZUluZm8oc291cmNlVGFiSWQsIHNvdXJjZUZyYW1lSWQpIHx8IHt9O1xuXG4gICAgaWYgKGZyYW1lLmFsbG93bGlzdGVkICYgY29udGVudFR5cGVzLkRPQ1VNRU5UKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IG9wZW5lciA9IHtcbiAgICAgIHRhYklkOiBzb3VyY2VUYWJJZCxcbiAgICAgIHNwZWNpZmljT25seTogQm9vbGVhbihmcmFtZS5hbGxvd2xpc3RlZCAmIGNvbnRlbnRUeXBlcy5HRU5FUklDQkxPQ0spLFxuICAgICAgZG9jRG9tYWluOiBmcmFtZS5ob3N0bmFtZSxcbiAgICAgIHNpdGVrZXk6IGZyYW1lLnNpdGVrZXlcbiAgICB9O1xuICAgIHJldHVybiBvcGVuZXI7XG4gIH0pKCk7XG5cbiAgcG90ZW50aWFsUG9wdXBzLnNldCh0YWJJZCwgb3BlbmVyUHJvbWlzZSk7XG5cbiAgbGV0IG9wZW5lciA9IGF3YWl0IG9wZW5lclByb21pc2U7XG4gIGlmIChvcGVuZXIpIHtcbiAgICBhd2FpdCBjaGVja1BvdGVudGlhbFBvcHVwKHRhYklkLCB1cmwsIG9wZW5lcik7XG4gIH1cbn1cblxuLyoqXG4gKiBTdGFydHMgYmxvY2tpbmcgcG9wdXBzLiBNdXN0IGJlIGNhbGxlZCBpbiB0aGUgZmlyc3QgdHVybiBvZiB0aGVcbiAqIGV2ZW50IGxvb3AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydCgpIHtcbiAgcG90ZW50aWFsUG9wdXBzID0gbmV3IFBvdGVudGlhbFBvcHVwTWFwKCk7XG5cbiAgYnJvd3Nlci53ZWJOYXZpZ2F0aW9uLm9uQ3JlYXRlZE5hdmlnYXRpb25UYXJnZXQuYWRkTGlzdGVuZXIob25Qb3B1cCk7XG4gIGJyb3dzZXIud2ViUmVxdWVzdC5vbkJlZm9yZVJlcXVlc3QuYWRkTGlzdGVuZXIoXG4gICAgb25Qb3B1cFVSTENoYW5nZWQsXG4gICAge1xuICAgICAgdXJsczogW1wiaHR0cDovLyovKlwiLCBcImh0dHBzOi8vKi8qXCJdLFxuICAgICAgdHlwZXM6IFtcIm1haW5fZnJhbWVcIl1cbiAgICB9XG4gICk7XG4gIGJyb3dzZXIud2ViTmF2aWdhdGlvbi5vbkJlZm9yZU5hdmlnYXRlLmFkZExpc3RlbmVyKG9uUG9wdXBVUkxDaGFuZ2VkKTtcbiAgYnJvd3Nlci53ZWJOYXZpZ2F0aW9uLm9uQ29tbWl0dGVkLmFkZExpc3RlbmVyKG9uUG9wdXBVUkxDaGFuZ2VkKTtcbiAgYnJvd3Nlci53ZWJOYXZpZ2F0aW9uLm9uQ29tcGxldGVkLmFkZExpc3RlbmVyKG9uQ29tcGxldGVkKTtcbiAgYnJvd3Nlci50YWJzLm9uUmVtb3ZlZC5hZGRMaXN0ZW5lcihvblRhYlJlbW92ZWQpO1xufVxuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBicm93c2VyIGZyb20gXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIjtcbmltcG9ydCB7RXZlbnRFbWl0dGVyfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9ldmVudHMuanNcIjtcbmltcG9ydCB7TUlMTElTX0lOX1NFQ09ORCwgTUlMTElTX0lOX01JTlVURSwgTUlMTElTX0lOX0hPVVJ9XG4gIGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL3RpbWUuanNcIjtcbmltcG9ydCB7Z2V0RGF0YWJhc2V9IGZyb20gXCIuL2lvLWlkYi5qc1wiO1xuXG4vLyBNVjJcbi8vIChhbGwgdGhlIHN1YnNjcmlwdGlvbnMgYXJlIGRvd25sb2FkYWJsZSlcbmV4cG9ydCBjb25zdCBNSUdSQVRFRF9UT19NVjIgPSAwO1xuXG4vLyBNVjMgd2l0aG91dCBkaWZmIHVwZGF0ZXNcbi8vIChhbnRpLWN2IHN1YnNjcmlwdGlvbiBpcyB0aGUgb25seSBgRnVsbFVwZGF0YWJsZVN1YnNjcmlwdGlvbmApXG5leHBvcnQgY29uc3QgTUlHUkFURURfVE9fTVYzX1dJVEhPVVRfRElGRiA9IDE7XG5cbi8vIE1WMyB3aXRoIGRpZmYgdXBkYXRlc1xuLy8gKGFsbCBzdWJzY3JpcHRpb25zIGFyZSBlaXRoZXJcbi8vIGBDb3VudGFibGVTdWJzY3JpcHRpb25gIG9yIGBEaWZmVXBkYXRhYmxlU3Vic2NyaXB0aW9uc2ApXG5leHBvcnQgY29uc3QgTUlHUkFURURfVE9fTVYzID0gMjtcblxuZXhwb3J0IGNvbnN0IENEUF9PUFRFRF9JTiA9IDA7XG5leHBvcnQgY29uc3QgQ0RQX09QVEVEX09VVCA9IDE7XG5leHBvcnQgY29uc3QgQ0RQX09QVEVEX0lOX0JZX1VTRVIgPSAyO1xuZXhwb3J0IGNvbnN0IENEUF9PUFRFRF9PVVRfQllfVVNFUiA9IDM7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0cyA9IE9iamVjdC5jcmVhdGUoe1xuICBhbmFseXRpY3M6IHt0cnVzdGVkSG9zdHM6IFtcImFkYmxvY2twbHVzLm9yZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5vdGlmaWNhdGlvbi5hZGJsb2NrcGx1cy5vcmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlYXN5bGlzdC1kb3dubG9hZHMuYWRibG9ja3BsdXMub3JnXCJdfSxcbiAgZHluYW1pY19maWx0ZXJzOiBbXSxcbiAgbm90aWZpY2F0aW9uZGF0YToge30sXG4gIG5vdGlmaWNhdGlvbnNfaWdub3JlZGNhdGVnb3JpZXM6IFtdLFxuICBub3RpZmljYXRpb251cmw6IFwiaHR0cHM6Ly9ub3RpZmljYXRpb24uYWRibG9ja3BsdXMub3JnL25vdGlmaWNhdGlvbi5qc29uXCIsXG4gIG5vdGlmaWNhdGlvbnNfaW5pdGlhbF9kZWxheTogMTAwMCwgLy8gMSBzXG4gIHBhdHRlcm5zYmFja3VwaW50ZXJ2YWw6IDI0LFxuICBwYXR0ZXJuc2JhY2t1cHM6IDAsXG4gIHJ1bGVzZXRfdXBkYXRlczogW10sXG4gIHNhdmVzdGF0czogZmFsc2UsXG4gIHNob3dfc3RhdHNpbnBvcHVwOiB0cnVlLFxuICBzdWJzY3JpcHRpb25zX2F1dG91cGRhdGU6IHRydWUsXG4gIHN1YnNjcmlwdGlvbnNfZmFsbGJhY2tlcnJvcnM6IDUsXG4gIHN1YnNjcmlwdGlvbnNfZmFsbGJhY2t1cmw6IFwiaHR0cHM6Ly9hZGJsb2NrcGx1cy5vcmcvZ2V0U3Vic2NyaXB0aW9uP3ZlcnNpb249JVZFUlNJT04lJnVybD0lU1VCU0NSSVBUSU9OJSZkb3dubG9hZFVSTD0lVVJMJSZlcnJvcj0lRVJST1IlJnJlc3BvbnNlU3RhdHVzPSVSRVNQT05TRVNUQVRVUyVcIixcbiAgc3Vic2NyaXB0aW9uc19pbml0aWFsX2RlbGF5OiAxMDAwLCAvLyAxIHNcbiAgc3Vic2NyaXB0aW9uc19jaGVja19pbnRlcnZhbDogMSAqIE1JTExJU19JTl9IT1VSLFxuICBtaWdyYXRpb25fZmlsdGVyX2Vycm9yczogW10sXG4gIG1pZ3JhdGlvbl9zdWJzY3JpcHRpb25fZXJyb3JzOiBbXSxcbiAgbWlncmF0aW9uX3N0YXRlOiBNSUdSQVRFRF9UT19NVjIsXG4gIGVkZ2Vfb25lX2NsaWNrX2FsbG93bGlzdGluZ19kZWxheTogMiAqIE1JTExJU19JTl9TRUNPTkQsXG4gIGNkcF9vcHRfaW5fb3V0OiBDRFBfT1BURURfSU4sXG4gIGNkcF9zZXNzaW9uX2V4cGlyYXRpb25faW50ZXJ2YWw6IDMwICogTUlMTElTX0lOX01JTlVURSxcbiAgdGVsZW1ldHJ5X29wdF9vdXQ6IHRydWVcbn0pO1xuXG5leHBvcnQgbGV0IFByZWZzID0ge1xuICBvbihwcmVmZXJlbmNlLCBjYWxsYmFjaykge1xuICAgIGV2ZW50RW1pdHRlci5vbihwcmVmZXJlbmNlLCBjYWxsYmFjayk7XG4gIH0sXG4gIG9mZihwcmVmZXJlbmNlLCBjYWxsYmFjaykge1xuICAgIGV2ZW50RW1pdHRlci5vZmYocHJlZmVyZW5jZSwgY2FsbGJhY2spO1xuICB9XG59O1xuXG5jb25zdCBLRVlfUFJFRklYID0gXCJhYnA6cHJlZjpcIjtcblxubGV0IGV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbmxldCBvdmVycmlkZXMgPSBuZXcgTWFwKCk7XG5sZXQgaW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuXG5mdW5jdGlvbiBrZXlUb1ByZWYoa2V5KSB7XG4gIHJldHVybiBrZXkuc3RhcnRzV2l0aChLRVlfUFJFRklYKSA/IGtleS5zdWJzdHIoS0VZX1BSRUZJWC5sZW5ndGgpIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gcHJlZlRvS2V5KHByZWYpIHtcbiAgcmV0dXJuIGAke0tFWV9QUkVGSVh9JHtwcmVmfWA7XG59XG5cbmxldCBhY3RpdmVTYXZlQWN0aW9ucyA9IG5ldyBTZXQoKTtcblxuZnVuY3Rpb24gdHJhY2tTYXZpbmcoc2F2ZVByb21pc2UpIHtcbiAgYWN0aXZlU2F2ZUFjdGlvbnMuYWRkKHNhdmVQcm9taXNlKTtcbiAgc2F2ZVByb21pc2UuZmluYWxseSgoKSA9PiBhY3RpdmVTYXZlQWN0aW9ucy5kZWxldGUoc2F2ZVByb21pc2UpKTtcbiAgcmV0dXJuIHNhdmVQcm9taXNlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXdhaXRTYXZpbmdDb21wbGV0ZSgpIHtcbiAgaWYgKFByb21pc2UuYWxsU2V0dGxlZCkge1xuICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChhY3RpdmVTYXZlQWN0aW9ucyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gUHJvbWlzZS5hbGxTZXR0bGVkIGlzbid0IHN1cHBvcnRlZCBpbiBvbGRlc3QgRmlyZWZveC5cbiAgLy8gSXQgd2FzIGFkZGVkIGluIEZpcmVmb3ggNzEuXG4gIGZvciAobGV0IHNhdmVBY3Rpb24gb2YgYWN0aXZlU2F2ZUFjdGlvbnMpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2F2ZUFjdGlvbjtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkUHJlZmVyZW5jZShwcmVmZXJlbmNlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmVmcywgcHJlZmVyZW5jZSwge1xuICAgIGdldCgpIHtcbiAgICAgIGlmIChvdmVycmlkZXMuaGFzKHByZWZlcmVuY2UpKSB7XG4gICAgICAgIHJldHVybiBvdmVycmlkZXMuZ2V0KHByZWZlcmVuY2UpO1xuICAgICAgfVxuXG4gICAgICBsZXQgZGVmYXVsdFZhbHVlID0gZGVmYXVsdHNbcHJlZmVyZW5jZV07XG4gICAgICAvLyBBcnJheXMgYW5kIE9iamVjdHMgYXJlIGRlZXBseSBjb3BpZWRcbiAgICAgIC8vIHRvIGF2b2lkIG1vZGlmaWNhdGlvbnMgb2YgYGRlZmF1bHRzYFxuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGVmYXVsdFZhbHVlKSB8fFxuICAgICAgICAodHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBkZWZhdWx0VmFsdWUgIT09IG51bGwpID9cbiAgICAgICAgICBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRlZmF1bHRWYWx1ZSkpIDpcbiAgICAgICAgICBkZWZhdWx0VmFsdWU7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIGxldCBrZXkgPSBwcmVmVG9LZXkocHJlZmVyZW5jZSk7XG4gICAgICBpZiAodmFsdWUgPT09IGRlZmF1bHRzW3ByZWZlcmVuY2VdKSB7XG4gICAgICAgIG92ZXJyaWRlcy5kZWxldGUocHJlZmVyZW5jZSk7XG4gICAgICAgIHRyYWNrU2F2aW5nKGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5yZW1vdmUoa2V5KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgb3ZlcnJpZGVzLnNldChwcmVmZXJlbmNlLCB2YWx1ZSk7XG4gICAgICB0cmFja1NhdmluZyhicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHtba2V5XTogdmFsdWV9KSk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlncmF0ZVByZWZzKGRiKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IHR4ID0gZGIudHJhbnNhY3Rpb24oW1wicHJlZnNcIl0sIFwicmVhZHdyaXRlXCIpO1xuICAgIHR4Lm9uY29tcGxldGUgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgdHgub25lcnJvciA9IHR4Lm9uYWJvcnQgPSBldmVudCA9PiByZWplY3QoZXZlbnQudGFyZ2V0LmVycm9yKTtcblxuICAgIGxldCBwcmVmc1N0b3JlO1xuICAgIHRyeSB7XG4gICAgICBwcmVmc1N0b3JlID0gdHgub2JqZWN0U3RvcmUoXCJwcmVmc1wiKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIC8vIG5vIFwicHJlZnNcIiBvYmplY3Qgc3RvcmVcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJlZnNTdG9yZS5nZXRBbGwoKS5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XG4gICAgICBmb3IgKGxldCB7bmFtZSwgdmFsdWV9IG9mIGV2ZW50LnRhcmdldC5yZXN1bHQpIHtcbiAgICAgICAgc2F2ZVByZWZlcmVuY2UobmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcHJlZnNTdG9yZS5jbGVhcigpO1xuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzYXZlUHJlZmVyZW5jZShuYW1lLCB2YWx1ZSkge1xuICBsZXQga2V5ID0gcHJlZlRvS2V5KG5hbWUpO1xuICBvdmVycmlkZXMuc2V0KG5hbWUsIHZhbHVlKTtcbiAgdHJhY2tTYXZpbmcoYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7W2tleV06IHZhbHVlfSkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBsb2FkUHJlZmVyZW5jZXMoKSB7XG4gIGxldCBwcmVmcyA9IE9iamVjdC5rZXlzKE9iamVjdC5nZXRQcm90b3R5cGVPZihkZWZhdWx0cykpO1xuICBwcmVmcy5mb3JFYWNoKGFkZFByZWZlcmVuY2UpO1xuXG4gIGxldCBpdGVtcyA9IGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQocHJlZnMubWFwKHByZWZUb0tleSkpO1xuICBmb3IgKGxldCBrZXkgaW4gaXRlbXMpIHtcbiAgICBvdmVycmlkZXMuc2V0KGtleVRvUHJlZihrZXkpLCBpdGVtc1trZXldKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdCgpIHtcbiAgaWYgKCFpbml0aWFsaXphdGlvblByb21pc2UpIHtcbiAgICBpbml0aWFsaXphdGlvblByb21pc2UgPSAoYXN5bmMoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgZGIgPSBnZXREYXRhYmFzZSgpO1xuICAgICAgICBhd2FpdCBtaWdyYXRlUHJlZnMoZGIpO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gZGIgbWlnaHQgYmUgdW5hdmFpbGFibGVcbiAgICAgIH1cblxuICAgICAgYXdhaXQgbG9hZFByZWZlcmVuY2VzKCk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIHJldHVybiBpbml0aWFsaXphdGlvblByb21pc2U7XG59XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IHthbmFseXRpY3N9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2FuYWx5dGljcy5qc1wiO1xuaW1wb3J0IHtjb250ZW50VHlwZXN9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2NvbnRlbnRUeXBlcy5qc1wiO1xuXG5pbXBvcnQge0Jsb2NrYWJsZUV2ZW50RGlzcGF0Y2hlcn0gZnJvbSBcIi4vZGlhZ25vc3RpY3MuanNcIjtcbmltcG9ydCB7cmVzb3VyY2VUeXBlc30gZnJvbSBcIi4vcmVxdWVzdC1maWx0ZXIuanNcIjtcbmltcG9ydCB7b25TdWJzY3JpYmVMaW5rQ2xpY2tlZH0gZnJvbSBcIi4vc3Vic2NyaWJlLWxpbmtzLmpzXCI7XG5cbmxldCBjb250ZW50VHlwZXNNYXAgPSBuZXcgTWFwKCk7XG5cbmZvciAobGV0IGl0ZW0gb2YgcmVzb3VyY2VUeXBlcykge1xuICBsZXQgY29udGVudFR5cGVPYmplY3QgPSBPYmplY3Qua2V5cyhjb250ZW50VHlwZXMpLmZpbmQoa2V5ID0+XG4gICAgY29udGVudFR5cGVzW2tleV0gPT09IGl0ZW1bMV1cbiAgKTtcblxuICBjb250ZW50VHlwZXNNYXAuc2V0KGl0ZW1bMF0udG9Mb3dlckNhc2UoKSwgY29udGVudFR5cGVPYmplY3QudG9Mb3dlckNhc2UoKSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHZlcnNpb24gb2YgdGhlIGZpcnN0IGV2ZXIgZG93bmxvYWRlZCByZXNvdXJjZS5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2dpdGxhYi5jb20vZXllby9hZGJsb2NrcGx1cy9hYmMvYWRibG9ja3BsdXNjb3JlLy0vam9icy9hcnRpZmFjdHMvMC42LjAvZmlsZS9idWlsZC9kb2NzL21vZHVsZS1hbmFseXRpY3MtQW5hbHl0aWNzLmh0bWw/am9iPWRvY3MjZ2V0Rmlyc3RWZXJzaW9ufEFkYmxvY2sgUGx1cyBjb3JlIGFuYWx5dGljcyBkb2N1bWVudGF0aW9ufVxuICAgKiBAZXh0ZXJuYWxcbiAgICovXG4gIGdldEZpcnN0VmVyc2lvbjogYW5hbHl0aWNzLmdldEZpcnN0VmVyc2lvbixcblxuICAvKipcbiAgKiBAdHlwZWRlZiB7T2JqZWN0fSBGaWx0ZXJNYXRjaEluZm9cbiAgKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBkb2NEb21haW4gVGhlIGhvc3RuYW1lIG9mIHRoZSBkb2N1bWVudCB0aGF0IGNhdXNlZFxuICAqICAgdGhlIHJlcXVlc3QuIFRoaXMgd2lsbCBiZSBudWxsIGZvciBcIm1haW5fZnJhbWVcIiByZXF1ZXN0cyBzaW5jZSB0aG9zZVxuICAqICAgY3JlYXRlIHRoZSB0b3AtbGV2ZWwgZG9jdW1lbnQgaW4gdGhlIGZpcnN0IHBsYWNlLlxuICAqIEBwcm9wZXJ0eSB7P3N0cmluZ30gcmV3cml0dGVuVXJsIFRoZSBuYW1lIG9mIHRoZSBpbnRlcm5hbCByZXNvdXJjZSB0byB3aGljaFxuICAqICAgdG8gcmV3cml0ZSB0aGUgVVJMLlxuICAqIEBwcm9wZXJ0eSB7P2Jvb2xlYW59IHNwZWNpZmljT25seSBXaGV0aGVyIHNlbGVjdG9ycyBmcm9tIGdlbmVyaWMgZmlsdGVyc1xuICAqICAgc2hvdWxkIGJlIGluY2x1ZGVkLlxuICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXRob2QgVGhlIG1ldGhvZCB1c2VkIHRvIG1hdGNoIHRoaXMgZmlsdGVyLiBUaGlzIGNhbiBiZVxuICAqICAgdGhlIHN0cmluZyBcInJlcXVlc3RcIiwgXCJoZWFkZXJcIiwgXCJjc3BcIiwgXCJwb3B1cFwiLCBcImVsZW1oaWRlXCIsIFwic25pcHBldFwiLFxuICAqICAgXCJhbGxvd2luZ1wiLCBvciBcInVubWF0Y2hlZFwiLlxuICAqIEBwcm9wZXJ0eSB7P3N0cmluZ30gYWxsb3dpbmdSZWFzb24gV2hlbiB0aGUgdHlwZSBpbiByZXF1ZXN0IGRldGFpbHMgaXNcbiAgKiAgIHVuZGVmaW5lZCwgdGhpcyBjb250YWlucyB0aGUgcmVhc29uIHdoeSB0aGUgcmVxdWVzdC9mcmFtZSBnb3RcbiAgKiAgIGFsbG93bGlzdGVkLiBUaGF0IGlzIGVpdGhlciBcImRvY3VtZW50XCIsIFwiZWxlbWhpZGVcIiwgXCJnZW5lcmljYmxvY2tcIixcbiAgKiAgIFwiZ2VuZXJpY2hpZGVcIiwgb3IgXCJleHRlbnNpb25Jbml0aWF0ZWRcIi4gXCJleHRlbnNpb25Jbml0aWF0ZWRcIiByZWZlcnMgdG8gYW55XG4gICogICB3ZWIgcmVxdWVzdHMgaW5pdGlhdGVkIGJ5IGEgYnJvd3NlciBleHRlbnNpb24gcmF0aGVyIHRoYW4gYSB3ZWIgcGFnZVxuICAqICAgKHRob3NlIHJlcXVlc3RzIGFyZSBub3QgYmxvY2thYmxlKS5cbiAgKi9cblxuICAvKipcbiAgICogRW1pdHRlZCB3aGVuIGFueSBibG9ja2FibGUgaXRlbSBpcyBtYXRjaGVkLlxuICAgKlxuICAgKiBUaGlzIGluY2x1ZGVzIGJvdGggZmlsdGVycyBiZWluZyBhcHBsaWVkIG9uIGEgZG9jdW1lbnQgbGV2ZWwgYW5kIHdlYlxuICAgKiByZXF1ZXN0cy4gTXVsdGlwbGUgZXZlbnRzIG1heSBiZSBlbWl0dGVkIGZvciBhIGRvY3VtZW50LCBvbmUgZm9yIGVhY2hcbiAgICogZmlsdGVyIGJlaW5nIGFwcGxpZWQgdG8gdGhlIGRvY3VtZW50LiBUaGVyZSB3aWxsIGdlbmVyYWxseSBvbmx5IGJlIG9uZVxuICAgKiBldmVudCBlbWl0dGVkIGZvciBlYWNoIHdlYiByZXF1ZXN0LiBUaGUgZXhjZXB0aW9uIHRvIHRoaXMgaXMgQ1NQIGZpbHRlcnMsXG4gICAqIHdoZXJlIG11bHRpcGxlIENTUCBmaWx0ZXJzIG1heSBiZSBhcHBsaWVkIHRvIGEgcmVxdWVzdCBhdCB0aGUgc2FtZSB0aW1lLFxuICAgKiBhbmQgYW4gZXZlbnQgd2lsbCBiZSBlbWl0dGVkIGZvciBlYWNoIGZpbHRlciBhcHBsaWVkLlxuICAgKiBAZXZlbnRcbiAgICogQHBhcmFtIHtvYmplY3R8e2ZyYW1lSWQ6IG51bWJlciwgdGFiSWQ6IG51bWJlciwgdXJsOiBzdHJpbmd9fSByZXF1ZXN0XG4gICAqICAgRWl0aGVyXG4gICAqICAgdGhlIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL01vemlsbGEvQWRkLW9ucy9XZWJFeHRlbnNpb25zL0FQSS93ZWJSZXF1ZXN0L29uQmVmb3JlUmVxdWVzdCNkZXRhaWxzfG9uQmVmb3JlUmVxdWVzdCBkZXRhaWxzfVxuICAgKiAgIG9iamVjdCBvciB0aGUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTW96aWxsYS9BZGQtb25zL1dlYkV4dGVuc2lvbnMvQVBJL3dlYlJlcXVlc3Qvb25IZWFkZXJzUmVjZWl2ZWQjZGV0YWlsc3xvbkhlYWRlcnNSZWNlaXZlZCBkZXRhaWxzfVxuICAgKiAgIG9iamVjdCBmcm9tIHRoZSB3ZWIgZXh0ZW5zaW9ucyBBUEksIG9yIGFuIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzXG4gICAqICAgYGZyYW1lSWRgLCBgdGFiSWRgIGFuZCBgdXJsYC5cbiAgICogQHBhcmFtIHs/RmlsdGVyfSBmaWx0ZXIgVGhlIGZpbHRlciB0aGF0IG1hdGNoZWQsIGlmIGFueS5cbiAgICogQHBhcmFtIHtGaWx0ZXJNYXRjaEluZm99IG1hdGNoSW5mbyBFeHRyYSBpbmZvcm1hdGlvbiB0aGF0IG1pZ2h0IGJlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZXZhbnQgZGVwZW5kaW5nIG9uIHRoZSBjb250ZXh0LlxuICAgKiBAdHlwZSB7QmxvY2thYmxlRXZlbnREaXNwYXRjaGVyPHtyZXF1ZXN0OiBvYmplY3QsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6IEZpbHRlcixcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSW5mbzogRmlsdGVyTWF0Y2hJbmZvfT59XG4gICAqL1xuICBvbkJsb2NrYWJsZUl0ZW06IG5ldyBCbG9ja2FibGVFdmVudERpc3BhdGNoZXIoKSxcblxuICAvKipcbiAgICogUmV0dXJucyBhIG1hcHBpbmcgYmV0d2VlbiByZXNvdXJjZVR5cGVzIGFuZCBjb250ZW50VHlwZXMuXG4gICAqIEByZXR1cm4ge01hcDxzdHJpbmcsIHN0cmluZz59XG4gICAqL1xuICBjb250ZW50VHlwZXNNYXAsXG5cbiAgLyoqXG4gICAqIEVtaXR0ZWQgd2hlbiBhIHN1YnNjcmliZSBsaW5rIGlzIGNsaWNrZWQgb24gYSB3ZWIgcGFnZS5cbiAgICpcbiAgICogQSBzdWJzY3JpYmUgbGluayBoYXMgYSBVUkwgcG9pbnRpbmcgdG8gYGh0dHBzOi8vc3Vic2NyaWJlLmFkYmxvY2twbHVzLm9yZy9gXG4gICAqIG9yIHN0YXJ0aW5nIHdpdGggYGFicDpzdWJzY3JpYmVgIChkZXByZWNhdGVkKSwgZm9sbG93ZWQgYnkgYSBxdWVyeSBzdHJpbmdcbiAgICogd2l0aCBhIGBsb2NhdGlvbmAgcGFyYW1ldGVyLCBhbmQgb3B0aW9uYWxseSBhIGB0aXRsZWAgcGFyYW1ldGVyLiBTdWJzY3JpYmVcbiAgICogbGlua3MgY2FuIG9ubHkgYmUgdXNlZCBvbiBjZXJ0YWluIHRydXN0ZWQgZG9tYWlucyAoaW5jbHVkaW5nIGBsb2NhbGhvc3RgKS5cbiAgICogQGV4YW1wbGVcbiAgICogPGEgaHJlZj1cImh0dHBzOi8vc3Vic2NyaWJlLmFkYmxvY2twbHVzLm9yZz9sb2NhdGlvbj1odHRwJTNBJTJGJTJGbG9jYWxob3N0JTJGbGlzdC50eHQmdGl0bGU9RXhhbXBsZVwiPkV4YW1wbGU8L2E+XG4gICAqIDxhIGhyZWY9XCJhYnA6c3Vic2NyaWJlP2xvY2F0aW9uPWxvY2F0aW9uPWh0dHAlM0ElMkYlMkZsb2NhbGhvc3QlMkZsaXN0LnR4dCZ0aXRsZT1FeGFtcGxlXCI+RXhhbXBsZSAoZGVwcmVjYXRlZCk8L2E+XG4gICAqIEBldmVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBzdWJzY3JpcHRpb24gVVJMIGZyb20gdGhlIHN1YnNjcmliZSBsaW5rXG4gICAqICAgICAgICAgICAgICAgICAgICAgYGxvY2F0aW9uYCdzIHBhcmFtZXRlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlIFRoZSBzdWJzY3JpcHRpb24gdGl0bGUgZnJvbSB0aGUgc3Vic2NyaWJlIGxpbmtcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB0aXRsZWAncyBwYXJhbWV0ZXIuXG4gICAqIEB0eXBlIHtFdmVudERpc3BhdGNoZXI8e3VybDogc3RyaW5nLCB0aXRsZTogc3RyaW5nfT59XG4gICAqL1xuICBvblN1YnNjcmliZUxpbmtDbGlja2VkXG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBicm93c2VyIGZyb20gXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIjtcblxuaW1wb3J0IHtCbG9ja2luZ0ZpbHRlciwgQWxsb3dpbmdGaWx0ZXJ9XG4gIGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2ZpbHRlckNsYXNzZXMuanNcIjtcbmltcG9ydCB7Y29udGVudFR5cGVzfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9jb250ZW50VHlwZXMuanNcIjtcbmltcG9ydCB7ZmlsdGVyTm90aWZpZXJ9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2ZpbHRlck5vdGlmaWVyLmpzXCI7XG5pbXBvcnQge3BhcnNlVVJMfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi91cmwuanNcIjtcblxuaW1wb3J0IHtmaWx0ZXJFbmdpbmV9IGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCB7Z2V0RnJhbWVJbmZvLCBpc1RvcExldmVsRnJhbWVJZCwgaXNWYWxpZENoaWxkRnJhbWVJZCwgaXNWYWxpZEZyYW1lSWR9XG4gIGZyb20gXCIuL2ZyYW1lLXN0YXRlLmpzXCI7XG5pbXBvcnQge2xvZ0l0ZW19IGZyb20gXCIuL2RpYWdub3N0aWNzLmpzXCI7XG5pbXBvcnQge2dldFNpdGVrZXksIHNldFNpdGVrZXlGcm9tSGVhZGVyc30gZnJvbSBcIi4vc2l0ZWtleS5qc1wiO1xuaW1wb3J0IHt3YXJufSBmcm9tIFwiLi9kZWJ1Z2dpbmcuanNcIjtcbmltcG9ydCB7c2VuZENvbnRlbnRNZXNzYWdlfSBmcm9tIFwiLi9jb250ZW50LW1lc3NhZ2UtZGVmZXJyZXIuanNcIjtcblxuY29uc3QgRVhURU5TSU9OX1BST1RPQ09MID0gbmV3IFVSTChicm93c2VyLnJ1bnRpbWUuZ2V0VVJMKFwiXCIpKS5wcm90b2NvbDtcblxuZXhwb3J0IGxldCByZXNvdXJjZVR5cGVzID0gbmV3IE1hcCgpO1xuZm9yIChsZXQgdHlwZSBpbiBjb250ZW50VHlwZXMpIHtcbiAgcmVzb3VyY2VUeXBlcy5zZXQodHlwZS50b0xvd2VyQ2FzZSgpLCBjb250ZW50VHlwZXNbdHlwZV0pO1xufVxucmVzb3VyY2VUeXBlcy5zZXQoXCJzdWJfZnJhbWVcIiwgY29udGVudFR5cGVzLlNVQkRPQ1VNRU5UKTtcbnJlc291cmNlVHlwZXMuc2V0KFwiYmVhY29uXCIsIGNvbnRlbnRUeXBlcy5QSU5HKTtcbnJlc291cmNlVHlwZXMuc2V0KFwiaW1hZ2VzZXRcIiwgY29udGVudFR5cGVzLklNQUdFKTtcbnJlc291cmNlVHlwZXMuc2V0KFwib2JqZWN0X3N1YnJlcXVlc3RcIiwgY29udGVudFR5cGVzLk9CSkVDVCk7XG5yZXNvdXJjZVR5cGVzLnNldChcIm1haW5fZnJhbWVcIiwgY29udGVudFR5cGVzLkRPQ1VNRU5UKTtcblxubGV0IHR5cGVTZWxlY3RvcnMgPSBuZXcgTWFwKFtcbiAgW2NvbnRlbnRUeXBlcy5JTUFHRSwgXCJpbWcsaW5wdXRcIl0sXG4gIFtjb250ZW50VHlwZXMuTUVESUEsIFwiYXVkaW8sdmlkZW9cIl0sXG4gIFtjb250ZW50VHlwZXMuU1VCRE9DVU1FTlQsIFwiZnJhbWUsaWZyYW1lLG9iamVjdCxlbWJlZFwiXSxcbiAgW2NvbnRlbnRUeXBlcy5PQkpFQ1QsIFwib2JqZWN0LGVtYmVkXCJdXG5dKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlcXVlc3RDb250ZW50VHlwZShkZXRhaWxzKSB7XG4gIGxldCBjb250ZW50VHlwZSA9IHJlc291cmNlVHlwZXMuZ2V0KGRldGFpbHMudHlwZSkgfHwgY29udGVudFR5cGVzLk9USEVSO1xuICBpZiAoY29udGVudFR5cGUgPT0gY29udGVudFR5cGVzLkRPQ1VNRU5UKSB7XG4gICAgcmV0dXJuIGNvbnRlbnRUeXBlcy5PVEhFUjtcbiAgfVxuICByZXR1cm4gY29udGVudFR5cGU7XG59XG5cbmZ1bmN0aW9uIGdldEZyYW1lSWQoZGV0YWlscykge1xuICAvLyBzdWJfZnJhbWUgcmVxdWVzdHMgYXJlIGxvYWRpbmcgdGhlIGlmcmFtZSBkb2N1bWVudCBpdHNlbGYsIHNvXG4gIC8vIGZyb20gb3VyIHBvaW50IG9mIHZpZXcgdGhlIGluaXRpYXRpbmcgZnJhbWUgaXMgYWN0dWFsbHkgdGhlXG4gIC8vIHBhcmVudCBvZiB0aGUgaWZyYW1lLlxuICByZXR1cm4gZGV0YWlscy50eXBlID09IFwic3ViX2ZyYW1lXCIgPyBkZXRhaWxzLnBhcmVudEZyYW1lSWQgOlxuICAgIGRldGFpbHMuZnJhbWVJZDtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50RnJhbWVJZChkZXRhaWxzKSB7XG4gIGlmIChkZXRhaWxzLnR5cGUgPT0gXCJzdWJfZnJhbWVcIikge1xuICAgIC8vIGZyYW1lQW5jZXN0b3JzIGlzIGV4YWN0bHkgd2hhdCB3ZSBuZWVkLCBidXQgaXQncyBvbmx5XG4gICAgLy8gYXZhaWxhYmxlIGluIEZpcmVmb3ggc28gc29tZXRpbWVzIHdlIGp1c3QgZG9uJ3QgaGF2ZSB3aGF0IHdlXG4gICAgLy8gbmVlZCA6KFxuICAgIGlmICghZGV0YWlscy5mcmFtZUFuY2VzdG9ycykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRldGFpbHMuZnJhbWVBbmNlc3RvcnMubGVuZ3RoID4gMSA/XG4gICAgICBkZXRhaWxzLmZyYW1lQW5jZXN0b3JzWzFdLmZyYW1lSWQgOiAtMTtcbiAgfVxuICByZXR1cm4gZGV0YWlscy5wYXJlbnRGcmFtZUlkO1xufVxuXG4vLyBJbml0aWF0b3JzIGhhdmUgdGhpcyB3ZWlyZCB0aGluZyB3aGVyZSB0aGV5IHNvbWV0aW1lcyB1c2UgdGhlIHN0cmluZyBcIm51bGxcIlxuLy8gaW5zdGVhZCBvZiBqdXN0IGdpdmluZyBhIHZhbHVlIG9mIG51bGwuXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVJbml0aWF0b3IoaW5pdGlhdG9yKSB7XG4gIHJldHVybiBpbml0aWF0b3IgPT0gXCJudWxsXCIgPyBudWxsIDogaW5pdGlhdG9yO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnJhbWVJbmZvRnJvbVdlYnJlcXVlc3REZXRhaWxzKGRldGFpbHMpIHtcbiAgbGV0IHRhYklkID0gZGV0YWlscy50YWJJZDtcbiAgbGV0IGZyYW1lSWQgPSBnZXRGcmFtZUlkKGRldGFpbHMpO1xuICBsZXQgcGFyZW50RnJhbWVJZCA9IGdldFBhcmVudEZyYW1lSWQoZGV0YWlscyk7XG4gIGxldCBpbml0aWF0b3IgPSBzYW5pdGl6ZUluaXRpYXRvcihkZXRhaWxzLmluaXRpYXRvcikgfHwgZGV0YWlscy5kb2N1bWVudFVybDtcbiAgbGV0IGRvY3VtZW50VXJsID0gZGV0YWlscy5kb2N1bWVudFVybCB8fCBzYW5pdGl6ZUluaXRpYXRvcihkZXRhaWxzLmluaXRpYXRvcik7XG5cbiAgbGV0IGZyYW1lID0gZ2V0RnJhbWVJbmZvKHRhYklkLCBmcmFtZUlkLCB7XG4gICAgaW5pdGlhdG9yLFxuICAgIHBhcmVudEZyYW1lSWQsXG4gICAgZG9jdW1lbnRVcmxcbiAgfSk7XG5cbiAgaWYgKCFmcmFtZSB8fCBmcmFtZS5pc0NoYW5naW5nVVJMKSB7XG4gICAgLy8gYGlzQ2hhbmdpbmdVUkxgIGluZGljYXRlcyB0aGF0IGBvbkJlZm9yZU5hdmlnYXRlYCB3YXMgYWxyZWFkeVxuICAgIC8vIHRyaWdnZXJlZCwgYnV0IGBvbkNvbW1pdGVkYCB3YXMgbm90IHlldCB0cmlnZ2VyZWQuIFRodXMgd2UgZG9uJ3QgcmVhbGx5XG4gICAgLy8ga25vdyB0aGUgYWN0dWFsIGFsbG93bGlzdGluZyBzdGF0ZS5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudEZyYW1lSW5mb0Zyb21XZWJyZXF1ZXN0RGV0YWlscyhkZXRhaWxzKSB7XG4gIGlmICghaXNWYWxpZEZyYW1lSWQoZGV0YWlscy5wYXJlbnRGcmFtZUlkKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGV0IHBhcmVudEZyYW1lID0gZ2V0RnJhbWVJbmZvKGRldGFpbHMudGFiSWQsIGRldGFpbHMucGFyZW50RnJhbWVJZCk7XG4gIC8vIER1ZSB0byBhIGNocm9tZSBidWcsIHRoZSBwYXJlbnQgZnJhbWUgbWlnaHQgbm90IGV4aXN0LiBJbiB0aGlzXG4gIC8vIGNhc2UsIHdlIHNob3VsZCBmYWxsIGJhY2sgdG8gdGhlIHJvb3QgZnJhbWUuIFNlZVxuICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD03MjU5MTdcbiAgaWYgKCFwYXJlbnRGcmFtZSAmJiBpc1ZhbGlkQ2hpbGRGcmFtZUlkKGRldGFpbHMucGFyZW50RnJhbWVJZCkpIHtcbiAgICBwYXJlbnRGcmFtZSA9IGdldEZyYW1lSW5mbyhkZXRhaWxzLnRhYklkLCAwKTtcbiAgfVxuXG4gIHJldHVybiBwYXJlbnRGcmFtZTtcbn1cblxubGV0IHBlbmRpbmdBbGxvd2xpc3RlZFJlcXVlc3RzID0gbmV3IFNldCgpO1xubGV0IHBlbmRpbmdDc3BSZXF1ZXN0cyA9IG5ldyBTZXQoKTtcblxuY2xhc3MgQmFzZUZpbHRlciB7XG4gIHJlZ2lzdGVyKCkge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcikge1xuICAgICAgdGhpcy5saXN0ZW5lciA9IHRoaXMuZmlsdGVyLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmV2ZW50LmFkZExpc3RlbmVyKHRoaXMubGlzdGVuZXIsIC4uLnRoaXMuZXZlbnRBcmdzKTtcbiAgICB9XG4gIH1cblxuICB1bnJlZ2lzdGVyKCkge1xuICAgIGlmICh0aGlzLmxpc3RlbmVyKSB7XG4gICAgICB0aGlzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHRoaXMubGlzdGVuZXIpO1xuICAgICAgdGhpcy5saXN0ZW5lciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0RG9jRG9tYWluKHR5cGUsIGhvc3RuYW1lKSB7XG4gICAgcmV0dXJuIHR5cGUgPT0gXCJtYWluX2ZyYW1lXCIgPyBudWxsIDogaG9zdG5hbWU7XG4gIH1cblxuICBnZXRJbml0aWF0b3IoZGV0YWlscykge1xuICAgIC8vIENocm9tZSBjYWxscyBpdCBpbml0aWF0b3IsIEZpcmVmb3ggY2FsbHMgaXQgZG9jdW1lbnRVcmxcbiAgICByZXR1cm4gc2FuaXRpemVJbml0aWF0b3IoZGV0YWlscy5pbml0aWF0b3IpIHx8IGRldGFpbHMuZG9jdW1lbnRVcmw7XG4gIH1cblxuICBnZXREb2N1bWVudFVybChkZXRhaWxzKSB7XG4gICAgcmV0dXJuIGRldGFpbHMuZG9jdW1lbnRVcmwgfHwgc2FuaXRpemVJbml0aWF0b3IoZGV0YWlscy5pbml0aWF0b3IpO1xuICB9XG5cbiAgY29sbGFwc2UoZGV0YWlscykge1xuICAgIGxldCBzZWxlY3RvciA9IHR5cGVTZWxlY3RvcnMuZ2V0KGdldFJlcXVlc3RDb250ZW50VHlwZShkZXRhaWxzKSk7XG4gICAgbGV0IGZyYW1lSWQgPSBnZXRGcmFtZUlkKGRldGFpbHMpO1xuXG4gICAgaWYgKHNlbGVjdG9yICYmIGZyYW1lSWQgIT0gLTEpIHtcbiAgICAgIHNlbmRDb250ZW50TWVzc2FnZShcbiAgICAgICAgZGV0YWlscy50YWJJZCwgZnJhbWVJZCxcbiAgICAgICAge3R5cGU6IFwiZXdlOmNvbGxhcHNlXCIsIHNlbGVjdG9yLCB1cmw6IGRldGFpbHMudXJsfVxuICAgICAgKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB3YXJuKFwiTm8gc2VsZWN0b3Igb3IgZnJhbWVJZFwiLCBKU09OLnN0cmluZ2lmeShkZXRhaWxzKSk7XG4gICAgfVxuICB9XG5cbiAgYmxvY2soZGV0YWlscywgZmlsdGVyLCBtYXRjaEluZm8pIHtcbiAgICBsZXQgdmFsdWUgPSAoKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBmaWx0ZXIucmV3cml0ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGxldCByZXdyaXR0ZW5VcmwgPSBmaWx0ZXIucmV3cml0ZVVybChkZXRhaWxzLnVybCk7XG4gICAgICAgIC8vIElmIG5vIHJld3JpdGUgaGFwcGVuZWQgKGVycm9yLCBkaWZmZXJlbnQgb3JpZ2luKSwgd2UnbGxcbiAgICAgICAgLy8gcmV0dXJuIHVuZGVmaW5lZCBpbiBvcmRlciB0byBhdm9pZCBhbiBcImluZmluaXRlXCIgbG9vcC5cbiAgICAgICAgaWYgKHJld3JpdHRlblVybCAhPSBkZXRhaWxzLnVybCkge1xuICAgICAgICAgIG1hdGNoSW5mby5yZXdyaXR0ZW5VcmwgPSByZXdyaXR0ZW5Vcmw7XG4gICAgICAgICAgcmV0dXJuIHtyZWRpcmVjdFVybDogcmV3cml0dGVuVXJsfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuY29sbGFwc2UoZGV0YWlscyk7XG4gICAgICAgIHJldHVybiB7Y2FuY2VsOiB0cnVlfTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIGxvZ0l0ZW0oZGV0YWlscywgZmlsdGVyLCBtYXRjaEluZm8pO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGFsbG93KGRldGFpbHMsIGZpbHRlciwgbWF0Y2hJbmZvKSB7XG4gICAgcGVuZGluZ0FsbG93bGlzdGVkUmVxdWVzdHMuYWRkKGRldGFpbHMucmVxdWVzdElkKTtcbiAgICBsb2dJdGVtKGRldGFpbHMsIGZpbHRlciwgbWF0Y2hJbmZvKTtcbiAgfVxuXG4gIG1hdGNoKGRldGFpbHMsIGZyYW1lLCBzcGVjaWZpY09ubHksIGNvbnRlbnRUeXBlLCBkb2NEb21haW4pIHtcbiAgICAvLyBUaGlzIGRvZXMgbm90aGluZyBpbiBCYXNlRmlsdGVyLCBidXQgc2hvdWxkIGJlIG92ZXJyaWRkZW4gaW5cbiAgICAvLyBhbnkgY2hpbGQgY2xhc3MgdGhhdCB1c2VzIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mXG4gICAgLy8gQmFzZUZpbHRlci5maWx0ZXIuXG4gIH1cblxuICBmaWx0ZXIoZGV0YWlscykge1xuICAgIGlmIChwZW5kaW5nQWxsb3dsaXN0ZWRSZXF1ZXN0cy5oYXMoZGV0YWlscy5yZXF1ZXN0SWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGluaXRpYXRvciA9IHRoaXMuZ2V0SW5pdGlhdG9yKGRldGFpbHMpO1xuICAgIGlmIChpbml0aWF0b3IgJiYgaW5pdGlhdG9yLnN0YXJ0c1dpdGgoRVhURU5TSU9OX1BST1RPQ09MKSkge1xuICAgICAgLy8gVGhlc2UgYXJlIHJlcXVlc3RzIHNlbnQgYnkgYW4gZXh0ZW5zaW9uLCBzbyBpZiB3ZSBibG9jayB0aGVzZVxuICAgICAgLy8gd2UgY291bGQgYmxvY2sgb3VyIG93biBhYmlsaXR5IHRvIHVwZGF0ZSBzdWJzY3JpcHRpb25zIGV0Yy5cbiAgICAgIHJldHVybiB0aGlzLmFsbG93KGRldGFpbHMsIG51bGwsIHtcbiAgICAgICAgbWV0aG9kOiBcImFsbG93aW5nXCIsIGFsbG93aW5nUmVhc29uOiBcImV4dGVuc2lvbkluaXRpYXRlZFwiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgZnJhbWUgPSBnZXRGcmFtZUluZm9Gcm9tV2VicmVxdWVzdERldGFpbHMoZGV0YWlscyk7XG5cbiAgICBpZiAoIWZyYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHNwZWNpZmljT25seSA9IChmcmFtZS5hbGxvd2xpc3RlZCAmIGNvbnRlbnRUeXBlcy5HRU5FUklDQkxPQ0spICE9IDA7XG4gICAgbGV0IGRvY0RvbWFpbiA9IHRoaXMuZ2V0RG9jRG9tYWluKGRldGFpbHMudHlwZSwgZnJhbWUuaG9zdG5hbWUpO1xuICAgIGlmIChmcmFtZS5hbGxvd2xpc3RlZCAmIGNvbnRlbnRUeXBlcy5ET0NVTUVOVCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsb3coZGV0YWlscywgZnJhbWUuYWxsb3dpbmdEb2N1bWVudEZpbHRlciwge1xuICAgICAgICBkb2NEb21haW4sXG4gICAgICAgIG1ldGhvZDogXCJhbGxvd2luZ1wiLFxuICAgICAgICBzcGVjaWZpY09ubHlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGxldCBjb250ZW50VHlwZSA9IGdldFJlcXVlc3RDb250ZW50VHlwZShkZXRhaWxzKTtcblxuICAgIHJldHVybiB0aGlzLm1hdGNoKGRldGFpbHMsIGZyYW1lLCBzcGVjaWZpY09ubHksIGNvbnRlbnRUeXBlLCBkb2NEb21haW4pO1xuICB9XG59XG5cbmNsYXNzIFJlcXVlc3RGaWx0ZXIgZXh0ZW5kcyBCYXNlRmlsdGVyIHtcbiAgZ2V0RG9jdW1lbnRVcmwoZGV0YWlscykge1xuICAgIC8vIFdlIGNhbiBiZSBtb3JlIGlkZWFsaXN0aWMgaGVyZSBzaW5jZSB3ZSBhcmUgZG9pbmcgdGhpcyBjaGVja1xuICAgIC8vIGFnYWluIGxhdGVyIGlmIHdlIGRvbid0IGhhdmUgZW5vdWdoIGluZm8uIGRvY3VtZW50VXJsIFNIT1VMRFxuICAgIC8vIG9ubHkgZXZlciBiZSBkb2N1bWVudFVybCAobm90IGluaXRpYXRvcikuXG4gICAgcmV0dXJuIGRldGFpbHMuZG9jdW1lbnRVcmw7XG4gIH1cblxuICBnZXRGcmFtZUluZm8oZGV0YWlscykge1xuICAgIGxldCBmcmFtZSA9IHN1cGVyLmdldEZyYW1lSW5mbyhkZXRhaWxzKTtcblxuICAgIC8vIENocm9taXVtLWJhc2VkIGJyb3dzZXJzIHNvbWV0aW1lcyBlbWl0IG9uQmVmb3JlUmVxdWVzdCBldmVudHNcbiAgICAvLyBmb3IgcmVzb3VyY2VzIG9uIGEgZnJhbWUgYmVmb3JlIHdlIGdldCB0aGUgb25Db21taXR0ZWQgZXZlbnRcbiAgICAvLyBmb3IgdGhlIGZyYW1lIGl0c2VsZi4gVGhpcyBjb3VsZCBtZWFuIHRoYXQgd2UncmUgbWlzc2luZyBzb21lXG4gICAgLy8gZnJhbWUtbGV2ZWwgYWxsb3dsaXN0aW5nIGZpbHRlcnMsIGFuZCBjYW4ndCBhY3R1YWxseSBtYWtlIGFcbiAgICAvLyBibG9ja2luZyBkZWNpc2lvbiB5ZXQuIFdlIG9ubHkgZG8gdGhpcyB3YWl0IGluIHRoZVxuICAgIC8vIG9uQmVmb3JlUmVxdWVzdCBmaWx0ZXIgYmVjYXVzZSB3ZSBjYW4gc3RpbGwgZG8gdGhlIGJsb2NraW5nIC9cbiAgICAvLyBhbGxvd2luZyB3aGVuIHdlIGhhdmUgYWxsIHRoZSBuZWNlc3NhcnkgaW5mbyBsYXRlciBpbiB0aGVcbiAgICAvLyBvbkhlYWRlcnNSZWNlaXZlZCBldmVudC5cbiAgICAvL1xuICAgIC8vIEFzIGFuIGFzaWRlLCBpZiBpbiB0aGUgZnV0dXJlIHdlIG9ubHkgbmVlZGVkIHRvIHN1cHBvcnQgRmlyZWZveFxuICAgIC8vIGhlcmUsIEZpcmVmb3ggc3VwcG9ydHMgYXN5bmNocm9ub3VzIGJsb2NraW5nIHJlc3BvbnNlcyBpbiB0aGVcbiAgICAvLyB3ZWJSZXF1ZXN0IEFQSS5cbiAgICBpZiAoZnJhbWUpIHtcbiAgICAgIC8vIFdlIG1pZ2h0IGJlIG1pc3Npbmcgc2l0ZWtleXMgaWYgd2UgaGF2ZW4ndCByZWNlaXZlZCBoZWFkZXJzIHlldC5cbiAgICAgIGlmICghZnJhbWUuaGVhZGVyc1JlY2VpdmVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBBIHdyb25nIFVSTCBsaWtlbHkgbWVhbnMgdGhhdCB3ZSd2ZSBuYXZpZ2F0ZWQgdG8gYSBuZXcgcGFnZVxuICAgICAgLy8gYW5kIGZyYW1lLXN0YXRlIGhhc24ndCBjYXVnaHQgdXAgeWV0LlxuICAgICAgbGV0IHtkb2N1bWVudFVybH0gPSBkZXRhaWxzO1xuICAgICAgbGV0IGluaXRpYXRvciA9IHNhbml0aXplSW5pdGlhdG9yKGRldGFpbHMuaW5pdGlhdG9yKTtcbiAgICAgIGlmICgoZG9jdW1lbnRVcmwgJiYgZnJhbWUudXJsICE9IGRvY3VtZW50VXJsKSB8fFxuICAgICAgICAgKGluaXRpYXRvciAmJiBmcmFtZS5ob3N0bmFtZSAhPSBwYXJzZVVSTChpbml0aWF0b3IpLmhvc3RuYW1lKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZnJhbWU7XG4gIH1cblxuICBtYXRjaChkZXRhaWxzLCBmcmFtZSwgc3BlY2lmaWNPbmx5LCBjb250ZW50VHlwZSwgZG9jRG9tYWluKSB7XG4gICAgbGV0IGZpbHRlciA9IGZpbHRlckVuZ2luZS5kZWZhdWx0TWF0Y2hlci5tYXRjaChcbiAgICAgIGRldGFpbHMudXJsLCBjb250ZW50VHlwZSwgZG9jRG9tYWluLCBmcmFtZS5zaXRla2V5LCBzcGVjaWZpY09ubHksIHRydWVcbiAgICApO1xuICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgIGxldCBtYXRjaEluZm8gPSB7ZG9jRG9tYWluLCBzcGVjaWZpY09ubHksIG1ldGhvZDogXCJyZXF1ZXN0XCJ9O1xuICAgICAgaWYgKGZpbHRlciBpbnN0YW5jZW9mIEJsb2NraW5nRmlsdGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsb2NrKGRldGFpbHMsIGZpbHRlciwgbWF0Y2hJbmZvKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmFsbG93KGRldGFpbHMsIGZpbHRlciwgbWF0Y2hJbmZvKTtcbiAgICB9XG4gIH1cbn1cblxuUmVxdWVzdEZpbHRlci5wcm90b3R5cGUuZXZlbnQgPSBicm93c2VyLndlYlJlcXVlc3Qub25CZWZvcmVSZXF1ZXN0O1xuUmVxdWVzdEZpbHRlci5wcm90b3R5cGUuZXZlbnRBcmdzID0gW1xuICB7XG4gICAgdHlwZXM6IE9iamVjdC52YWx1ZXMoYnJvd3Nlci53ZWJSZXF1ZXN0LlJlc291cmNlVHlwZSlcbiAgICAgICAgICAgICAgICAgLmZpbHRlcih0eXBlID0+IHR5cGUgIT0gXCJtYWluX2ZyYW1lXCIpLFxuICAgIHVybHM6IFtcImh0dHA6Ly8qLypcIiwgXCJodHRwczovLyovKlwiLCBcIndzOi8vKi8qXCIsIFwid3NzOi8vKi8qXCJdXG4gIH0sXG4gIFtcImJsb2NraW5nXCJdXG5dO1xuXG5jbGFzcyBIZWFkZXJGaWx0ZXIgZXh0ZW5kcyBCYXNlRmlsdGVyIHtcbiAgbWF0Y2goZGV0YWlscywgZnJhbWUsIHNwZWNpZmljT25seSwgY29udGVudFR5cGUsIGRvY0RvbWFpbikge1xuICAgIGxldCBtYXRjaGVyID0gZmlsdGVyRW5naW5lLmRlZmF1bHRNYXRjaGVyO1xuXG4gICAgLy8gVGhpcyBpcyBhIHJlcGVhdCBvZiB0aGUgUmVxdWVzdEZpbHRlciBjaGVjaywgaW4gY2FzZSBpdCB3YXNcbiAgICAvLyBza2lwcGVkIGR1ZSB0byBub3QgaGF2aW5nIGVub3VnaCBmcmFtZSBpbmZvcm1hdGlvbiBhdCB0aGUgdGltZS5cbiAgICBsZXQgcmVxdWVzdEZpbHRlciA9IG1hdGNoZXIubWF0Y2goXG4gICAgICBkZXRhaWxzLnVybCwgY29udGVudFR5cGUsIGRvY0RvbWFpbiwgZnJhbWUuc2l0ZWtleSwgc3BlY2lmaWNPbmx5LCB0cnVlXG4gICAgKTtcbiAgICBpZiAocmVxdWVzdEZpbHRlcikge1xuICAgICAgbGV0IHJlcXVlc3RNYXRjaEluZm8gPSB7ZG9jRG9tYWluLCBzcGVjaWZpY09ubHksIG1ldGhvZDogXCJyZXF1ZXN0XCJ9O1xuICAgICAgaWYgKHJlcXVlc3RGaWx0ZXIgaW5zdGFuY2VvZiBCbG9ja2luZ0ZpbHRlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5ibG9jayhkZXRhaWxzLCByZXF1ZXN0RmlsdGVyLCByZXF1ZXN0TWF0Y2hJbmZvKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmFsbG93KGRldGFpbHMsIHJlcXVlc3RGaWx0ZXIsIHJlcXVlc3RNYXRjaEluZm8pO1xuICAgIH1cblxuICAgIGxldCBtYXRjaEluZm8gPSB7ZG9jRG9tYWluLCBzcGVjaWZpY09ubHksIG1ldGhvZDogXCJoZWFkZXJcIn07XG4gICAgbGV0IHR5cGVNYXNrID0gY29udGVudFR5cGVzLkhFQURFUiB8IGNvbnRlbnRUeXBlO1xuICAgIGxldCBhbGxvd2luZ0ZpbHRlciA9IG1hdGNoZXIubWF0Y2goZGV0YWlscy51cmwsIHR5cGVNYXNrLCBkb2NEb21haW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS5zaXRla2V5LCBzcGVjaWZpY09ubHksIHRydWUpO1xuXG4gICAgaWYgKGFsbG93aW5nRmlsdGVyICYmIGFsbG93aW5nRmlsdGVyIGluc3RhbmNlb2YgQWxsb3dpbmdGaWx0ZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmFsbG93KGRldGFpbHMsIGFsbG93aW5nRmlsdGVyLCBtYXRjaEluZm8pO1xuICAgIH1cblxuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hlci5zZWFyY2goZGV0YWlscy51cmwsIHR5cGVNYXNrLCBkb2NEb21haW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS5zaXRla2V5LCBzcGVjaWZpY09ubHksIFwiYmxvY2tpbmdcIik7XG5cbiAgICBsZXQgZmlsdGVyID0gbWF0Y2hlcy5ibG9ja2luZy5maW5kKGJsb2NraW5nRmlsdGVyID0+IHtcbiAgICAgIHJldHVybiBibG9ja2luZ0ZpbHRlci5maWx0ZXJIZWFkZXJzKGRldGFpbHMucmVzcG9uc2VIZWFkZXJzKTtcbiAgICB9KTtcblxuICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmJsb2NrKGRldGFpbHMsIGZpbHRlciwgbWF0Y2hJbmZvKTtcbiAgICB9XG4gIH1cbn1cblxuSGVhZGVyRmlsdGVyLnByb3RvdHlwZS5ldmVudCA9IGJyb3dzZXIud2ViUmVxdWVzdC5vbkhlYWRlcnNSZWNlaXZlZDtcbkhlYWRlckZpbHRlci5wcm90b3R5cGUuZXZlbnRBcmdzID0gW1xuICB7XG4gICAgdHlwZXM6IE9iamVjdC52YWx1ZXMoYnJvd3Nlci53ZWJSZXF1ZXN0LlJlc291cmNlVHlwZSlcbiAgICAgICAgICAgICAgICAgLmZpbHRlcih0eXBlID0+IHR5cGUgIT0gXCJtYWluX2ZyYW1lXCIpLFxuICAgIHVybHM6IFtcImh0dHA6Ly8qLypcIiwgXCJodHRwczovLyovKlwiXVxuICB9LFxuICBicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdCA/IFtcInJlc3BvbnNlSGVhZGVyc1wiXSA6IFtcImJsb2NraW5nXCIsIFwicmVzcG9uc2VIZWFkZXJzXCJdXG5dO1xuXG5jbGFzcyBDU1BGaWx0ZXIgZXh0ZW5kcyBCYXNlRmlsdGVyIHtcbiAgZmlsdGVyKGRldGFpbHMpIHtcbiAgICBsZXQge3JlcXVlc3RJZCwgdGFiSWQsIGZyYW1lSWQsIHJlc3BvbnNlSGVhZGVycywgdXJsLCB0eXBlfSA9IGRldGFpbHM7XG5cbiAgICBpZiAocGVuZGluZ0FsbG93bGlzdGVkUmVxdWVzdHMuaGFzKHJlcXVlc3RJZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgaW5pdGlhdG9yID0gdGhpcy5nZXRJbml0aWF0b3IoZGV0YWlscyk7XG4gICAgaWYgKGluaXRpYXRvciAmJiBpbml0aWF0b3Iuc3RhcnRzV2l0aChFWFRFTlNJT05fUFJPVE9DT0wpKSB7XG4gICAgICAvLyBUaGVzZSBhcmUgcmVxdWVzdHMgc2VudCBieSBhbiBleHRlbnNpb24sIHNvIGlmIHdlIGJsb2NrIHRoZXNlXG4gICAgICAvLyB3ZSBjb3VsZCBibG9jayBvdXIgb3duIGFiaWxpdHkgdG8gdXBkYXRlIHN1YnNjcmlwdGlvbnMgZXRjLlxuICAgICAgcmV0dXJuIHRoaXMuYWxsb3coZGV0YWlscywgbnVsbCwge1xuICAgICAgICBtZXRob2Q6IFwiYWxsb3dpbmdcIiwgYWxsb3dpbmdSZWFzb246IFwiZXh0ZW5zaW9uSW5pdGlhdGVkXCJcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGxldCBwYXJlbnRGcmFtZSA9IGdldFBhcmVudEZyYW1lSW5mb0Zyb21XZWJyZXF1ZXN0RGV0YWlscyhkZXRhaWxzKTtcbiAgICBsZXQge2hvc3RuYW1lOiBwYXJlbnRIb3N0bmFtZSwgc2l0ZWtleTogcGFyZW50U2l0ZWtleX0gPSBwYXJlbnRGcmFtZSB8fCB7fTtcbiAgICBsZXQgbWF0Y2hlciA9IGZpbHRlckVuZ2luZS5kZWZhdWx0TWF0Y2hlcjtcblxuICAgIGxldCB1cmxJbmZvID0gcGFyc2VVUkwodXJsKTtcbiAgICBsZXQgaG9zdG5hbWUgPSBwYXJlbnRIb3N0bmFtZSB8fCB1cmxJbmZvLmhvc3RuYW1lO1xuICAgIGxldCBzaXRla2V5ID0gc2V0U2l0ZWtleUZyb21IZWFkZXJzKFxuICAgICAgdGFiSWQsIGZyYW1lSWQsIHVybCwgcmVzcG9uc2VIZWFkZXJzXG4gICAgKSB8fCBwYXJlbnRTaXRla2V5O1xuXG4gICAgbGV0IHNwZWNpZmljT25seUZpbHRlciA9IG1hdGNoZXIubWF0Y2goXG4gICAgICB1cmwsIGNvbnRlbnRUeXBlcy5HRU5FUklDQkxPQ0ssIGhvc3RuYW1lLCBzaXRla2V5XG4gICAgKTtcbiAgICBsZXQgZG9jdW1lbnRGaWx0ZXIgPSBtYXRjaGVyLm1hdGNoKFxuICAgICAgdXJsLCBjb250ZW50VHlwZXMuRE9DVU1FTlQsIGhvc3RuYW1lLCBzaXRla2V5XG4gICAgKTtcbiAgICBsZXQgc3BlY2lmaWNPbmx5ID0gISFzcGVjaWZpY09ubHlGaWx0ZXI7XG4gICAgbGV0IGRvY0RvbWFpbiA9IHRoaXMuZ2V0RG9jRG9tYWluKHR5cGUsIHBhcmVudEhvc3RuYW1lKTtcblxuICAgIGlmIChkb2N1bWVudEZpbHRlcikge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsb3coZGV0YWlscywgZG9jdW1lbnRGaWx0ZXIsIHtcbiAgICAgICAgZG9jRG9tYWluLFxuICAgICAgICBtZXRob2Q6IFwiYWxsb3dpbmdcIixcbiAgICAgICAgc3BlY2lmaWNPbmx5XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgdHlwZU1hc2sgPSBjb250ZW50VHlwZXMuQ1NQIHwgZ2V0UmVxdWVzdENvbnRlbnRUeXBlKGRldGFpbHMpO1xuICAgIGxldCBtYXRjaEluZm8gPSB7ZG9jRG9tYWluOiBkb2NEb21haW4gfHwgdXJsSW5mby5ob3N0bmFtZSxcbiAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmljT25seSwgbWV0aG9kOiBcImNzcFwifTtcblxuICAgIGxldCBhbGxvd2luZ0ZpbHRlciA9IG1hdGNoZXIubWF0Y2godXJsLCB0eXBlTWFzaywgZG9jRG9tYWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZWtleSwgc3BlY2lmaWNPbmx5LCB0cnVlKTtcbiAgICBpZiAoYWxsb3dpbmdGaWx0ZXIgJiYgYWxsb3dpbmdGaWx0ZXIgaW5zdGFuY2VvZiBBbGxvd2luZ0ZpbHRlcikge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsb3coZGV0YWlscywgYWxsb3dpbmdGaWx0ZXIsIG1hdGNoSW5mbyk7XG4gICAgfVxuXG4gICAgbGV0IG1hdGNoZXMgPSBtYXRjaGVyLnNlYXJjaCh1cmwsIHR5cGVNYXNrLCBob3N0bmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVrZXksIHNwZWNpZmljT25seSwgXCJibG9ja2luZ1wiKTtcblxuICAgIGlmIChtYXRjaGVzLmJsb2NraW5nLmxlbmd0aCA+IDApIHtcbiAgICAgIHBlbmRpbmdDc3BSZXF1ZXN0cy5hZGQocmVxdWVzdElkKTtcbiAgICAgIGZvciAobGV0IGZpbHRlciBvZiBtYXRjaGVzLmJsb2NraW5nKSB7XG4gICAgICAgIGxvZ0l0ZW0oZGV0YWlscywgZmlsdGVyLCBtYXRjaEluZm8pO1xuICAgICAgICByZXNwb25zZUhlYWRlcnMucHVzaChcbiAgICAgICAgICB7bmFtZTogXCJDb250ZW50LVNlY3VyaXR5LVBvbGljeVwiLCB2YWx1ZTogZmlsdGVyLmNzcH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge3Jlc3BvbnNlSGVhZGVyc307XG4gIH1cbn1cblxuQ1NQRmlsdGVyLnByb3RvdHlwZS5ldmVudCA9IGJyb3dzZXIud2ViUmVxdWVzdC5vbkhlYWRlcnNSZWNlaXZlZDtcbkNTUEZpbHRlci5wcm90b3R5cGUuZXZlbnRBcmdzID0gW1xuICB7XG4gICAgdHlwZXM6IFtcIm1haW5fZnJhbWVcIiwgXCJzdWJfZnJhbWVcIl0sXG4gICAgdXJsczogW1wiaHR0cDovLyovKlwiLCBcImh0dHBzOi8vKi8qXCJdXG4gIH0sXG4gIGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0ID8gW1wicmVzcG9uc2VIZWFkZXJzXCJdIDogW1wiYmxvY2tpbmdcIiwgXCJyZXNwb25zZUhlYWRlcnNcIl1cbl07XG5cbmNsYXNzIFJlcXVlc3RDb21wbGV0aW9uRmlsdGVyIGV4dGVuZHMgQmFzZUZpbHRlciB7XG4gIGZpbHRlcihkZXRhaWxzKSB7XG4gICAgbGV0IHtyZXF1ZXN0SWQsIHRhYklkLCBmcmFtZUlkLCB1cmwsIHR5cGV9ID0gZGV0YWlscztcbiAgICBsZXQgd2FzQWxsb3dsaXN0ZWQgPSBwZW5kaW5nQWxsb3dsaXN0ZWRSZXF1ZXN0cy5kZWxldGUocmVxdWVzdElkKTtcbiAgICBsZXQgd2FzQ3NwID0gcGVuZGluZ0NzcFJlcXVlc3RzLmRlbGV0ZShyZXF1ZXN0SWQpO1xuICAgIGlmICh3YXNBbGxvd2xpc3RlZCB8fCB3YXNDc3ApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PSBcIm1haW5fZnJhbWVcIiB8fCB0eXBlID09IFwic3ViX2ZyYW1lXCIpIHtcbiAgICAgIC8vIGZvciB0aGVzZSB0d28gdHlwZXMsIGl0J3MgdW5yZWxpYWJsZSBpZiBmcmFtZSBpcyB0aGVyZSBvciBub3RcbiAgICAgIC8vIHlldC4gVGhlIHJlcXVlc3QgY291bGQgYmUgY29tcGxldGVkIGJlZm9yZSBvciBhZnRlciB0aGUgbmV3XG4gICAgICAvLyBmcmFtZSBpcyBjb21taXR0ZWQuXG4gICAgICBsZXQgcGFyZW50RnJhbWUgPSBnZXRQYXJlbnRGcmFtZUluZm9Gcm9tV2VicmVxdWVzdERldGFpbHMoZGV0YWlscyk7XG4gICAgICBsZXQge2hvc3RuYW1lOiBwYXJlbnRIb3N0bmFtZSwgc2l0ZWtleTogcGFyZW50U2l0ZWtleX0gPVxuICAgICAgICAgIHBhcmVudEZyYW1lIHx8IHt9O1xuXG4gICAgICBsZXQgaG9zdG5hbWUgPSBwYXJlbnRIb3N0bmFtZSB8fCBwYXJzZVVSTCh1cmwpLmhvc3RuYW1lO1xuICAgICAgbGV0IHNpdGVrZXkgPSBnZXRTaXRla2V5KHRhYklkLCBmcmFtZUlkLCB1cmwpIHx8IHBhcmVudFNpdGVrZXk7XG4gICAgICBsZXQgbWF0Y2hlciA9IGZpbHRlckVuZ2luZS5kZWZhdWx0TWF0Y2hlcjtcbiAgICAgIGxldCBzcGVjaWZpY09ubHlGaWx0ZXIgPSBtYXRjaGVyLm1hdGNoKFxuICAgICAgICB1cmwsIGNvbnRlbnRUeXBlcy5HRU5FUklDQkxPQ0ssIGhvc3RuYW1lLCBzaXRla2V5XG4gICAgICApO1xuICAgICAgbGV0IHNwZWNpZmljT25seSA9ICEhc3BlY2lmaWNPbmx5RmlsdGVyO1xuXG4gICAgICBpZiAoaXNUb3BMZXZlbEZyYW1lSWQoZnJhbWVJZCkpIHtcbiAgICAgICAgbGV0IHBvcHVwRmlsdGVyID0gbWF0Y2hlci5tYXRjaChcbiAgICAgICAgICB1cmwsIGNvbnRlbnRUeXBlcy5QT1BVUCwgaG9zdG5hbWUsIHNpdGVrZXksIHNwZWNpZmljT25seVxuICAgICAgICApO1xuICAgICAgICBpZiAocG9wdXBGaWx0ZXIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBtYXRjaEluZm8gPSB7XG4gICAgICAgIGRvY0RvbWFpbjogdGhpcy5nZXREb2NEb21haW4odHlwZSwgaG9zdG5hbWUpLFxuICAgICAgICBtZXRob2Q6IFwidW5tYXRjaGVkXCIsXG4gICAgICAgIHNwZWNpZmljT25seVxuICAgICAgfTtcbiAgICAgIGxvZ0l0ZW0oZGV0YWlscywgbnVsbCwgbWF0Y2hJbmZvKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBsZXQgZnJhbWUgPSBnZXRGcmFtZUluZm9Gcm9tV2VicmVxdWVzdERldGFpbHMoZGV0YWlscyk7XG4gICAgICBpZiAoIWZyYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IHNwZWNpZmljT25seSA9IChmcmFtZS5hbGxvd2xpc3RlZCAmIGNvbnRlbnRUeXBlcy5HRU5FUklDQkxPQ0spICE9IDA7XG4gICAgICBsZXQgbWF0Y2hJbmZvID0ge1xuICAgICAgICBkb2NEb21haW46IHRoaXMuZ2V0RG9jRG9tYWluKHR5cGUsIGZyYW1lLmhvc3RuYW1lKSxcbiAgICAgICAgbWV0aG9kOiBcInVubWF0Y2hlZFwiLFxuICAgICAgICBzcGVjaWZpY09ubHlcbiAgICAgIH07XG4gICAgICBsb2dJdGVtKGRldGFpbHMsIG51bGwsIG1hdGNoSW5mbyk7XG4gICAgfVxuICB9XG59XG5cblJlcXVlc3RDb21wbGV0aW9uRmlsdGVyLnByb3RvdHlwZS5ldmVudCA9IGJyb3dzZXIud2ViUmVxdWVzdC5vbkNvbXBsZXRlZDtcblJlcXVlc3RDb21wbGV0aW9uRmlsdGVyLnByb3RvdHlwZS5ldmVudEFyZ3MgPSBbXG4gIHtcbiAgICB0eXBlczogT2JqZWN0LnZhbHVlcyhicm93c2VyLndlYlJlcXVlc3QuUmVzb3VyY2VUeXBlKSxcbiAgICB1cmxzOiBbXCJodHRwOi8vKi8qXCIsIFwiaHR0cHM6Ly8qLypcIiwgXCJ3czovLyovKlwiLCBcIndzczovLyovKlwiXVxuICB9XG5dO1xuXG5jbGFzcyBSZXF1ZXN0RXJyb3JGaWx0ZXIgZXh0ZW5kcyBCYXNlRmlsdGVyIHtcbiAgZmlsdGVyKGRldGFpbHMpIHtcbiAgICBwZW5kaW5nQWxsb3dsaXN0ZWRSZXF1ZXN0cy5kZWxldGUoZGV0YWlscy5yZXF1ZXN0SWQpO1xuICAgIHBlbmRpbmdDc3BSZXF1ZXN0cy5kZWxldGUoZGV0YWlscy5yZXF1ZXN0SWQpO1xuICB9XG59XG5cblJlcXVlc3RFcnJvckZpbHRlci5wcm90b3R5cGUuZXZlbnQgPSBicm93c2VyLndlYlJlcXVlc3Qub25FcnJvck9jY3VycmVkO1xuUmVxdWVzdEVycm9yRmlsdGVyLnByb3RvdHlwZS5ldmVudEFyZ3MgPSBbXG4gIHtcbiAgICB0eXBlczogT2JqZWN0LnZhbHVlcyhicm93c2VyLndlYlJlcXVlc3QuUmVzb3VyY2VUeXBlKSxcbiAgICB1cmxzOiBbXCJodHRwOi8vKi8qXCIsIFwiaHR0cHM6Ly8qLypcIiwgXCJ3czovLyovKlwiLCBcIndzczovLyovKlwiXVxuICB9XG5dO1xuXG5sZXQgZmlsdGVycyA9IFtcbiAgbmV3IFJlcXVlc3RGaWx0ZXIoKSxcbiAgbmV3IEhlYWRlckZpbHRlcigpLFxuICBuZXcgQ1NQRmlsdGVyKCksXG4gIG5ldyBSZXF1ZXN0Q29tcGxldGlvbkZpbHRlcigpLFxuICBuZXcgUmVxdWVzdEVycm9yRmlsdGVyKClcbl07XG5cbmZ1bmN0aW9uIG9uQmVmb3JlTmF2aWdhdGUoKSB7XG4gIGJyb3dzZXIud2ViTmF2aWdhdGlvbi5vbkJlZm9yZU5hdmlnYXRlLnJlbW92ZUxpc3RlbmVyKG9uQmVmb3JlTmF2aWdhdGUpO1xuICBicm93c2VyLndlYlJlcXVlc3QuaGFuZGxlckJlaGF2aW9yQ2hhbmdlZCgpO1xufVxuXG5mdW5jdGlvbiBvbkZpbHRlckNoYW5nZSgpIHtcbiAgYnJvd3Nlci53ZWJOYXZpZ2F0aW9uLm9uQmVmb3JlTmF2aWdhdGUuYWRkTGlzdGVuZXIob25CZWZvcmVOYXZpZ2F0ZSk7XG59XG5cbmNvbnN0IEZJTFRFUl9FVkVOVFMgPSBbXCJzdWJzY3JpcHRpb24uYWRkZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJzY3JpcHRpb24ucmVtb3ZlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICBcInN1YnNjcmlwdGlvbi51cGRhdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgIFwic3Vic2NyaXB0aW9uLmRpc2FibGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgIFwiZmlsdGVyLmFkZGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgIFwiZmlsdGVyLnJlbW92ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgXCJmaWx0ZXJTdGF0ZS5lbmFibGVkXCJdO1xuXG4vKipcbiAqIFN0YXJ0cyBmaWx0ZXJpbmcgcmVxdWVzdHMuIE11c3Qgb25seSBiZSBjYWxsZWQgYWZ0ZXIgZmlsdGVyIGVuZ2luZSBhbmRcbiAqIGZyYW1lIHN0YXRlIGFyZSBpbml0aWFsaXplZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICBpZiAoYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKGxldCBmaWx0ZXIgb2YgZmlsdGVycykge1xuICAgIGZpbHRlci5yZWdpc3RlcigpO1xuICB9XG5cbiAgZm9yIChsZXQgZXZlbnQgb2YgRklMVEVSX0VWRU5UUykge1xuICAgIGlmICghZmlsdGVyTm90aWZpZXIubGlzdGVuZXJzKGV2ZW50KS5pbmNsdWRlcyhvbkZpbHRlckNoYW5nZSkpIHtcbiAgICAgIGZpbHRlck5vdGlmaWVyLm9uKGV2ZW50LCBvbkZpbHRlckNoYW5nZSk7XG4gICAgfVxuICB9XG59XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IHtNSUxMSVNfSU5fSE9VUn0gZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvdGltZS5qc1wiO1xuXG5jb25zdCBNQVhfUE9MTF9USU1FT1VUID0gTUlMTElTX0lOX0hPVVI7XG5cbmV4cG9ydCBjbGFzcyBTY2hlZHVsZXIge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLmNoZWNrSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fY2hlY2sgPSBhc3luYygpID0+IHtcbiAgICAgIHRoaXMuY2hlY2tJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIGxldCBuZXh0UG9sbFRpbWVvdXQ7XG4gICAgICB0cnkge1xuICAgICAgICBuZXh0UG9sbFRpbWVvdXQgPSBhd2FpdCB0aGlzLmNhbGxMaXN0ZW5lcklmSXRzVGltZSgpO1xuICAgICAgfVxuICAgICAgZmluYWxseSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmV4dFBvbGxUaW1lb3V0ID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBuZXh0UG9sbFRpbWVvdXQgPSB0aGlzLmNvbmZpZy5lcnJvclJldHJ5RGVsYXk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV4dFBvbGxUaW1lb3V0ID4gTUFYX1BPTExfVElNRU9VVCkge1xuICAgICAgICAgIG5leHRQb2xsVGltZW91dCA9IE1BWF9QT0xMX1RJTUVPVVQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBzdG9wIHdhcyBjYWxsZWQgd2hpbGUgY3VycmVudGx5IHRyaWdnZXJpbmcgc29tZXRoaW5nLCBkb24ndFxuICAgICAgICAvLyBzY2hlZHVsZSB0aGUgbmV4dCB0aW1lb3V0LlxuICAgICAgICBpZiAoIXRoaXMuc3RvcHBlZCkge1xuICAgICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fY2hlY2ssIG5leHRQb2xsVGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja0luUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuX2NoZWNrKCk7XG4gIH1cblxuICBhc3luYyBjYWxsTGlzdGVuZXJJZkl0c1RpbWUoKSB7XG4gICAgbGV0IG5leHRUaW1lc3RhbXAgPSBhd2FpdCB0aGlzLmNvbmZpZy5nZXROZXh0VGltZXN0YW1wKCk7XG4gICAgbGV0IG5vd1RpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgaWYgKG5leHRUaW1lc3RhbXAgJiYgbm93VGltZXN0YW1wIDwgbmV4dFRpbWVzdGFtcCkge1xuICAgICAgcmV0dXJuIG5leHRUaW1lc3RhbXAgLSBub3dUaW1lc3RhbXA7XG4gICAgfVxuXG4gICAgbGV0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLmNvbmZpZy5saXN0ZW5lcigpO1xuICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmVycm9yUmV0cnlEZWxheTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb25maWcuaW50ZXJ2YWw7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLnN0b3BwZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBjaGVja05vdygpIHtcbiAgICBpZiAoIXRoaXMuc3RvcHBlZCAmJiAhdGhpcy5jaGVja0luUHJvZ3Jlc3MpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgdGhpcy5fY2hlY2soKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4vKipcbiAqIEEgZGlmZmVyZW5jZSBmcm9tIGFycmF5cyBvciBmaWx0ZXJzLlxuICogQHR5cGVkZWYge09iamVjdH0gRmlsdGVyRGlmZnNcbiAqIEBwcm9wZXJ0eSB7P3N0cmluZ30gdHlwZSBUaGUgdHlwZS4gT25seSB0aGUgdmFsdWUgXCJkaWZmXCIgaXNcbiAqICAgc3VwcG9ydGVkLCBhbmQgZGVub3RlIHRoaXMgaXMgYSBkaWZmZXJlbmNlIGZyb20gdGhlIHN0YXRpY1xuICogICBmaWx0ZXJpbmcgcnVsZXMuXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IGFkZGVkIEFkZGVkIGZpbHRlcnMuXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IHJlbW92ZWQgUmVtb3ZlZCBmaWx0ZXJzLlxuICovXG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBhcnJheXMgZGlmZmVyZW5jZVxuICpcbiAqIEBwYXJhbSB7W3N0cmluZ119IGZyb20gVGhlIG9yaWdpbmFsIGFycmF5XG4gKiBAcGFyYW0ge1tzdHJpbmddfSB0byBUaGUgZXZlbnR1YWwgYXJyYXlcbiAqIEByZXR1cm4ge0ZpbHRlckRpZmZzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlzRGlmZihmcm9tLCB0bykge1xuICBjb25zdCBmcm9tU2V0ID0gbmV3IFNldChmcm9tKTtcbiAgY29uc3QgdG9TZXQgPSBuZXcgU2V0KHRvKTtcblxuICAvLyBObyBsb25nZXIgbGlzdGVkIGluIGV2ZW50dWFsIGFycmF5XG4gIGNvbnN0IHJlbW92ZWQgPSBmcm9tLmZpbHRlcihpdGVtID0+ICF0b1NldC5oYXMoaXRlbSkpO1xuXG4gIC8vIE5vdCB5ZXQgbGlzdGVkIGluIG9yaWdpbmFsIGFycmF5XG4gIGNvbnN0IGFkZGVkID0gdG8uZmlsdGVyKGl0ZW0gPT4gIWZyb21TZXQuaGFzKGl0ZW0pKTtcblxuICByZXR1cm4ge2FkZGVkLCByZW1vdmVkfTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGZpbHRlcnMgdXBkYXRlIGRpZmZlcmVuY2UgYnkgcmVtb3ZpbmcgdGhlIGJhc2VcbiAqIGZyb20gdGhlIHVwZGF0ZS5cbiAqXG4gKiBAcGFyYW0ge0ZpbHRlckRpZmZzfSBiYXNlIFRoZSBiYXNlIGRpZmYsIGllIHRoZSBzdGF0ZSBvZiB0aGUgYWxyZWFkeVxuICogICBhcHBsaWVkIHVwZGF0ZS4gTXVzdCBiZSBvZiB0eXBlIGBkaWZmYC5cbiAqIEBwYXJhbSB7RmlsdGVyRGlmZnN9IHVwZGF0ZSBUaGUgdXBkYXRlLiBNdXN0IGJlIG9mIHR5cGUgYGRpZmZgLlxuICogQHJldHVybiB7RmlsdGVyRGlmZnN9XG4gKiBAdGhyb3dzIHtFcnJvcn0gV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgdXBkYXRlcyBhcmUgbm90IG9mIHR5cGVcbiAqICAgXCJkaWZmXCIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJzVXBkYXRlRGlmZihiYXNlLCB1cGRhdGUpIHtcbiAgbGV0IGFkZGVkRGlmZiA9IGFycmF5c0RpZmYoYmFzZS5hZGRlZCwgdXBkYXRlLmFkZGVkKTtcbiAgbGV0IHJlbW92ZWREaWZmID0gYXJyYXlzRGlmZihiYXNlLnJlbW92ZWQsIHVwZGF0ZS5yZW1vdmVkKTtcblxuICAvLyBXaGF0IGlzIG5vIGxvbmdlciByZW1vdmVkIG11c3QgYmUgYWRkZWQgYmFjay5cbiAgbGV0IGFkZGVkID0gYWRkZWREaWZmLmFkZGVkLmNvbmNhdChyZW1vdmVkRGlmZi5yZW1vdmVkKTtcblxuICAvLyBXaGF0IGlzIG5vIGxvbmdlciBhZGRlZCBtdXN0IGJlIHJlbW92ZWQuXG4gIGxldCByZW1vdmVkID0gcmVtb3ZlZERpZmYuYWRkZWQuY29uY2F0KGFkZGVkRGlmZi5yZW1vdmVkKTtcblxuICByZXR1cm4ge2FkZGVkLCByZW1vdmVkfTtcbn1cblxuLyoqXG4gKiBNZXJnZSBvYmplY3RzLiBUaGUgbWVyZ2VkIG9iamVjdCB3aWxsIGhhdmUgcHJvcGVydGllcyBvZiBib3RoIG9iamVjdHMuXG4gKiBUaGUgYXJyYXlzIHdpbGwgYWxzbyBiZSBtZXJnZWQuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgMSB0byBtZXJnZVxuICogQHBhcmFtIHtPYmplY3R9IG9iajIgT2JqZWN0IDIgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IG1lcmdlZCBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlT2JqZWN0cyhvYmoxLCBvYmoyKSB7XG4gIGlmIChvYmoxIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICByZXR1cm4gWy4uLm9iajEsIC4uLm9iajJdO1xuICB9XG5cbiAgaWYgKCEob2JqMSBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqMjtcbiAgfVxuXG4gIGxldCByZXN1bHRPYmogPSB7fTtcblxuICBmb3IgKGxldCBba2V5LCBvYmoxVmFsdWVzXSBvZiBPYmplY3QuZW50cmllcyhvYmoxKSkge1xuICAgIHJlc3VsdE9ialtrZXldID0gb2JqMVZhbHVlcztcbiAgfVxuXG4gIGZvciAobGV0IFtrZXksIG9iajJWYWx1ZXNdIG9mIE9iamVjdC5lbnRyaWVzKG9iajIpKSB7XG4gICAgbGV0IG1hcDFWYWx1ZXMgPSByZXN1bHRPYmpba2V5XTtcbiAgICByZXN1bHRPYmpba2V5XSA9IG1hcDFWYWx1ZXMgP1xuICAgICAgbWVyZ2VPYmplY3RzKG1hcDFWYWx1ZXMsIG9iajJWYWx1ZXMpIDpcbiAgICAgIG9iajJWYWx1ZXM7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0T2JqO1xufVxuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB7dmVyaWZ5U2lnbmF0dXJlU3luY30gZnJvbSBcImFkYmxvY2twbHVzY29yZS9saWIvcnNhLmpzXCI7XG5pbXBvcnQgYnJvd3NlciBmcm9tIFwiLi9icm93c2VyLmpzXCI7XG5pbXBvcnQge2lzUnVubmluZ0luU2VydmljZVdvcmtlcn0gZnJvbSBcIi4vYnJvd3Nlci1mZWF0dXJlcy5qc1wiO1xuaW1wb3J0IHt0cmFjZX0gZnJvbSBcIi4vZGVidWdnaW5nLmpzXCI7XG5pbXBvcnQge1BlcnNpc3RlbnRTdGF0ZX0gZnJvbSBcIi4vcGVyc2lzdGVuY2UuanNcIjtcblxuY29uc3QgVE9QX0xFVkVMX0ZSQU1FX0lEID0gMDtcblxuLyoqXG4gKiBBbGwga25vd24gc2l0ZWtleXMsIHRoYXQgY2FuIGJlIGxvb2tlZCB1cCBieVxuICogYHRhYklkYCwgYW5kIHRoZW4gYnkgYGZyYW1lSWRgLCBhbmQgdGhlbiBieSBgdXJsYFxuICogIChgW3RhYklkLCBbZnJhbWVJZCwgW3VybCwge3NpdGVrZXksIHNpZ25hdHVyZX1dXV1dYCkuXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqL1xubGV0IHNpdGVrZXlzID0gbmV3IFBlcnNpc3RlbnRTdGF0ZShcImV3ZTpzaXRla2V5c1wiLCBicm93c2VyLnN0b3JhZ2UubG9jYWwpO1xubGV0IHN0YXJ0dXBQcm9taXNlO1xubGV0IGxpc3RlbmVycyA9IFtdO1xuXG4vLyBmb3IgdGVzdGluZyBwdXJwb3Nlc1xuZXhwb3J0IGZ1bmN0aW9uIF9nZXRTaXRla2V5cygpIHtcbiAgcmV0dXJuIHNpdGVrZXlzO1xufVxuXG5mdW5jdGlvbiBub3RpZnlTaXRla2V5KHRhYklkLCBmcmFtZUlkLCB1cmwsIHNpdGVrZXkpIHtcbiAgZm9yIChsZXQgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG4gICAgbGlzdGVuZXIodGFiSWQsIGZyYW1lSWQsIHVybCwgc2l0ZWtleSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm90aWZ5QWxsU2l0ZWtleXMoKSB7XG4gIGZvciAobGV0IFt0YWJJZCwgZnJhbWVzTWFwXSBvZiBPYmplY3QuZW50cmllcyhzaXRla2V5cy5nZXRTdGF0ZSgpKSkge1xuICAgIGZvciAobGV0IFtmcmFtZUlkLCBzaXRla2V5c01hcF0gb2YgT2JqZWN0LmVudHJpZXMoZnJhbWVzTWFwKSkge1xuICAgICAgZm9yIChsZXQgW3VybCwgc2l0ZWtleUluZm9dIG9mIE9iamVjdC5lbnRyaWVzKHNpdGVrZXlzTWFwKSkge1xuICAgICAgICBub3RpZnlTaXRla2V5KHRhYklkLCBmcmFtZUlkLCB1cmwsIHNpdGVrZXlJbmZvLnNpdGVrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvbkhlYWRlcnNSZWNlaXZlZCh7dGFiSWQsIGZyYW1lSWQsIHVybCwgcmVzcG9uc2VIZWFkZXJzLCBmcmFtZVR5cGV9KSB7XG4gIHRyYWNlKHt0YWJJZCwgZnJhbWVJZCwgdXJsLCByZXNwb25zZUhlYWRlcnMsIGZyYW1lVHlwZX0pO1xuXG4gIGlmIChmcmFtZUlkID09IFRPUF9MRVZFTF9GUkFNRV9JRCAmJlxuICAgICAoZnJhbWVUeXBlID09IG51bGwgfHwgZnJhbWVUeXBlID09IFwib3V0ZXJtb3N0X2ZyYW1lXCIpKSB7XG4gICAgLy8gXCJmcmFtZVR5cGVcIiBpcyBzdXBwb3J0ZWQgc3RhcnRpbmcgQ2hyb21pdW0gMTA2Ky5cbiAgICAvLyBJZiBpdCdzIGEgbmV3IG5hdmlnYXRpb24gYW5kIHRvcCBsZXZlbCBmcmFtZSBoZWFkZXJzIHJlY2VpdmVkLFxuICAgIC8vIHdlIGRvbid0IG5lZWQgc2l0ZWtleXMgZm9yIGFsbCB0aGUgcHJldmlvdXMgZnJhbWVzIG9mIHRoZSB0YWIuXG4gICAgY2xlYXJUYWJTaXRla2V5cyh0YWJJZCk7XG4gIH1cblxuICBsZXQgc2l0ZWtleSA9IHNldFNpdGVrZXlGcm9tSGVhZGVycyh0YWJJZCwgZnJhbWVJZCwgdXJsLCByZXNwb25zZUhlYWRlcnMpO1xuICBpZiAoc2l0ZWtleSkge1xuICAgIG5vdGlmeVNpdGVrZXkodGFiSWQsIGZyYW1lSWQsIHVybCwgc2l0ZWtleSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzdG9yZWQgc2l0ZWtleSBmb3IgYSBnaXZlbiBmcmFtZS4gU2l0ZWtleXMgYXJlIHJldHJpZXZlZFxuICogZnJvbSB0aGUgaGVhZGVycyBvZiBtYWluX2ZyYW1lIGFuZCBzdWJfZnJhbWUgcmVxdWVzdHMgKHRoZSBodG1sXG4gKiBkb2N1bWVudHMgaW4gdGFicyBhbmQgaWZyYW1lcykuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFiSWQgSWQgb2YgdGhlIHRhYiB0aGUgZnJhbWUgaXMgb24uXG4gKiBAcGFyYW0ge251bWJlcn0gZnJhbWVJZCBJZCBvZiB0aGUgZnJhbWUgb24gdGhlIHRhYi5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVXJsIGZvciB0aGUgZnJhbWUuXG4gKiBAcmV0dXJuIHtzdHJpbmd8bnVsbHx1bmRlZmluZWR9IFRoZSBzaXRla2V5IGlmIHdlIGhhdmUgaXQsIG51bGwgaWZcbiAqICAgd2UndmUgcHJvY2Vzc2VkIGhlYWRlcnMgZm9yIHRoaXMgZnJhbWUgYnV0IGl0IGRpZG4ndCBoYXZlIGFcbiAqICAgc2l0ZWtleSwgdW5kZWZpbmVkIGlmIHdlIGhhdmVuJ3Qgc2VlbiBhbnkgaGVhZGVycyBmb3IgdGhpcyBmcmFtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNpdGVrZXkodGFiSWQsIGZyYW1lSWQsIHVybCkge1xuICBsZXQgc2l0ZWtleXNGb3JUYWIgPSBzaXRla2V5cy5nZXRTdGF0ZSgpW3RhYklkXTtcbiAgaWYgKCFzaXRla2V5c0ZvclRhYikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBzaXRla2V5c0ZvckZyYW1lID0gc2l0ZWtleXNGb3JUYWJbZnJhbWVJZF07XG4gIGlmICghc2l0ZWtleXNGb3JGcmFtZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBzaXRla2V5SW5mbyA9IHNpdGVrZXlzRm9yRnJhbWVbdXJsXTtcbiAgcmV0dXJuIHNpdGVrZXlJbmZvID8gc2l0ZWtleUluZm8uc2l0ZWtleSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0U2l0ZWtleVNpZ25hdHVyZSh0YWJJZCwgZnJhbWVJZCwgdXJsKSB7XG4gIHJldHVybiBzaXRla2V5cy5nZXRTdGF0ZSgpW3RhYklkXVtmcmFtZUlkXVt1cmxdLnNpZ25hdHVyZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9zZXRTaXRla2V5KHRhYklkLCBmcmFtZUlkLCB1cmwsIHNpdGVrZXksIHNpZ25hdHVyZSkge1xuICBsZXQgc2l0ZWtleXNGb3JUYWIgPSBzaXRla2V5cy5nZXRTdGF0ZSgpW3RhYklkXTtcbiAgaWYgKCFzaXRla2V5c0ZvclRhYikge1xuICAgIHNpdGVrZXlzRm9yVGFiID0ge307XG4gICAgc2l0ZWtleXMuZ2V0U3RhdGUoKVt0YWJJZF0gPSBzaXRla2V5c0ZvclRhYjtcbiAgfVxuXG4gIGxldCBzaXRla2V5c0ZvckZyYW1lID0gc2l0ZWtleXNGb3JUYWJbZnJhbWVJZF07XG4gIGlmICghc2l0ZWtleXNGb3JGcmFtZSkge1xuICAgIHNpdGVrZXlzRm9yRnJhbWUgPSB7fTtcbiAgICBzaXRla2V5c0ZvclRhYltmcmFtZUlkXSA9IHNpdGVrZXlzRm9yRnJhbWU7XG4gIH1cblxuICBzaXRla2V5c0ZvckZyYW1lW3VybF0gPSB7c2l0ZWtleSwgc2lnbmF0dXJlfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQWxsU2l0ZWtleXMoc2F2ZSA9IHRydWUpIHtcbiAgc2l0ZWtleXMuY2xlYXJTdGF0ZSgpO1xuICBpZiAoc2F2ZSkge1xuICAgIF9zYXZlU2l0ZWtleXMoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJUYWJTaXRla2V5cyh0YWJJZCkge1xuICBkZWxldGUgc2l0ZWtleXMuZ2V0U3RhdGUoKVt0YWJJZF07XG4gIF9zYXZlU2l0ZWtleXMoKTtcbn1cblxuLyoqXG4gKiBVc2UgdGhlIGhlYWRlcnMgZnJvbSBhbiBvbkhlYWRlcnNSZWNlaXZlZCBldmVudCBmb3IgYW4gbWFpbl9mcmFtZVxuICogYW5kIHN1Yl9mcmFtZSByZXF1ZXN0IHRvIHVwZGF0ZSBvdXIgc2l0ZWtleSBtYXAuIFRoaXMgYWxzb1xuICogdmFsaWRhdGVzIHRoZSBzaXRla2V5IGJlZm9yZSBzdG9yaW5nLlxuICpcbiAqIElmIHRoZXJlIGlzIG5vIHNpdGVrZXksIHRoaXMgaW5zZXJ0cyBhIG51bGwgZW50cnkgaW4gdGhlIHNpdGVrZXlcbiAqIG1hcCBzbyB5b3UgY2FuIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBub3QgaGF2aW5nIGEgc2l0ZWtleSBiZWNhdXNlXG4gKiB0aGVyZSB3YXNuJ3Qgb25lIGluIHRoZSBoZWFkZXJzIGFuZCBiZWNhdXNlIHRoZSBoZWFkZXJzIGhhdmVuJ3RcbiAqIGJlZW4gcmVjZWl2ZWQgeWV0LlxuICogQHBhcmFtIHtudW1iZXJ9IHRhYklkIElkIG9mIHRoZSB0YWIgdGhlIGZyYW1lIGlzIG9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lSWQgSWQgb2YgdGhlIGZyYW1lIG9uIHRoZSB0YWIuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVybCBmb3IgdGhlIGZyYW1lLlxuICogQHBhcmFtIHt3ZWJSZXF1ZXN0Lkh0dHBIZWFkZXJzfSBoZWFkZXJzIHRoZSBIVFRQIHJlc3BvbnNlIGhlYWRlcnNcbiAqICAgdG8gY2hlY2sgZm9yIGEgc2l0ZWtleS4gU2VlIHtAbGluayB3ZWJSZXF1ZXN0IEFQSVxuICogICBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL01vemlsbGEvQWRkLW9ucy9XZWJFeHRlbnNpb25zL0FQSS93ZWJSZXF1ZXN0L0h0dHBIZWFkZXJzfS5cbiAqIEByZXR1cm4ge3N0cmluZ3xudWxsfSBUaGUgc2l0ZWtleSBpZiBpdCB3YXMgZm91bmQgYW5kIGlzXG4gKiAgIHZhbGlkLiBOdWxsIGlmIHRoZXJlIHdhcyBubyB2YWxpZCBzaXRla2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2l0ZWtleUZyb21IZWFkZXJzKHRhYklkLCBmcmFtZUlkLCB1cmwsIGhlYWRlcnMpIHtcbiAgbGV0IHNpdGVrZXlIZWFkZXIgPSBnZXRTaXRla2V5SGVhZGVyKGhlYWRlcnMpO1xuICBsZXQgbmV3U2l0ZWtleSA9IHNpdGVrZXlIZWFkZXIgPyBzaXRla2V5SGVhZGVyLnNpdGVrZXkgOiBudWxsO1xuXG4gIC8vIElmIHRoaXMgc2l0ZWtleSBpcyB0aGUgc2FtZSBhcyB0aGUgb25lIHdlIGFscmVhZHkgaGF2ZSwgd2UgY2FuXG4gIC8vIGp1c3QgbGVhdmUgdGhlIGV4aXN0aW5nIG9uZS4gTm8gbmVlZCB0byBkbyBzaWduYXR1cmUgdmVyaWZpY2F0aW9uXG4gIC8vIHNpbmNlIHdlJ3ZlIGFscmVhZHkgY2hlY2tlZCB0aGlzIHNpdGVrZXkgb24gdGhpcyBzaXRlLlxuICBsZXQgZXhpc3RpbmdTaXRla2V5SW5mbyA9IGdldFNpdGVrZXkodGFiSWQsIGZyYW1lSWQsIHVybCk7XG4gIGlmIChleGlzdGluZ1NpdGVrZXlJbmZvICYmXG4gICAgICBleGlzdGluZ1NpdGVrZXlJbmZvLnNpdGVrZXkgJiZcbiAgICAgIG5ld1NpdGVrZXkgPT0gZXhpc3RpbmdTaXRla2V5SW5mby5zaXRla2V5KSB7XG4gICAgcmV0dXJuIGV4aXN0aW5nU2l0ZWtleUluZm8uc2l0ZWtleTtcbiAgfVxuXG4gIGlmIChuZXdTaXRla2V5ICYmIHZlcmlmeVNpdGVrZXkobmV3U2l0ZWtleSwgc2l0ZWtleUhlYWRlci5zaWduYXR1cmUsIHVybCkpIHtcbiAgICBfc2V0U2l0ZWtleSh0YWJJZCwgZnJhbWVJZCwgdXJsLCBuZXdTaXRla2V5LCBzaXRla2V5SGVhZGVyLnNpZ25hdHVyZSk7XG4gICAgX3NhdmVTaXRla2V5cygpO1xuICAgIHJldHVybiBuZXdTaXRla2V5O1xuICB9XG5cbiAgLy8gSW5zZXJ0aW5nIG51bGwgaGVyZSBpbmRpY2F0ZXMgdGhhdCB3ZSd2ZSByZWNlaXZlZCBoZWFkZXJzIGZvciBhXG4gIC8vIFVSTCBhbmQgaXQgZGlkbid0IGhhdmUgc2l0ZWtleXMgKGFzIG9wcG9zZWQgdG8gbm90IHJlY2VpdmluZ1xuICAvLyBmaWx0ZXJzIHlldCkuXG4gIF9zZXRTaXRla2V5KHRhYklkLCBmcmFtZUlkLCB1cmwsIG51bGwsIG51bGwpO1xuICBfc2F2ZVNpdGVrZXlzKCk7XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRTaXRla2V5SGVhZGVyKGhlYWRlcnMpIHtcbiAgZm9yIChsZXQgaGVhZGVyIG9mIGhlYWRlcnMpIHtcbiAgICBpZiAoaGVhZGVyLm5hbWUudG9Mb3dlckNhc2UoKSA9PSBcIngtYWRibG9jay1rZXlcIiAmJiBoZWFkZXIudmFsdWUpIHtcbiAgICAgIGxldCBwYXJ0cyA9IGhlYWRlci52YWx1ZS5zcGxpdChcIl9cIik7XG4gICAgICBpZiAocGFydHMubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2l0ZWtleTogcGFydHNbMF0ucmVwbGFjZSgvPS9nLCBcIlwiKSxcbiAgICAgICAgc2lnbmF0dXJlOiBwYXJ0c1sxXVxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHZlcmlmeVNpdGVrZXkoc2l0ZWtleSwgc2lnbmF0dXJlLCB1cmwpIHtcbiAgbGV0IHVybE9iaiA9IG5ldyBVUkwodXJsKTtcbiAgbGV0IGRhdGEgPSBbXG4gICAgdXJsT2JqLnBhdGhuYW1lICsgdXJsT2JqLnNlYXJjaCxcbiAgICB1cmxPYmouaG9zdCxcbiAgICBuYXZpZ2F0b3IudXNlckFnZW50XG4gIF0uam9pbihcIlxcMFwiKTtcbiAgcmV0dXJuIHZlcmlmeVNpZ25hdHVyZVN5bmMoc2l0ZWtleSwgc2lnbmF0dXJlLCBkYXRhKTtcbn1cblxuZnVuY3Rpb24gdmVyaWZ5U2l0ZWtleXMoX3NpdGVrZXlzKSB7XG4gIGZvciAobGV0IFt0YWJJZCwgZnJhbWVzTWFwXSBvZiBPYmplY3QuZW50cmllcyhfc2l0ZWtleXMpKSB7XG4gICAgZm9yIChsZXQgW2ZyYW1lSWQsIHNpdGVrZXlzTWFwXSBvZiBPYmplY3QuZW50cmllcyhmcmFtZXNNYXApKSB7XG4gICAgICBmb3IgKGxldCBbdXJsLCBzaXRla2V5SW5mb10gb2YgT2JqZWN0LmVudHJpZXMoc2l0ZWtleXNNYXApKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHZlcmlmaWVkID0gc2l0ZWtleUluZm8uc2l0ZWtleSA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgICB2ZXJpZnlTaXRla2V5KHNpdGVrZXlJbmZvLnNpdGVrZXksIHNpdGVrZXlJbmZvLnNpZ25hdHVyZSwgdXJsKTtcblxuICAgICAgICAgIGlmICghdmVyaWZpZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzaXRla2V5c01hcFt1cmxdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgIGRlbGV0ZSBzaXRla2V5c01hcFt1cmxdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoT2JqZWN0LmtleXMoc2l0ZWtleXNNYXApLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIGRlbGV0ZSBmcmFtZXNNYXBbZnJhbWVJZF07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChPYmplY3Qua2V5cyhmcmFtZXNNYXApLmxlbmd0aCA9PSAwKSB7XG4gICAgICBkZWxldGUgX3NpdGVrZXlzW3RhYklkXTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9sb2FkU2l0ZWtleXModmVyaWZ5ID0gdHJ1ZSkge1xuICBhd2FpdCBzaXRla2V5cy5sb2FkKHZlcmlmeSA/IHZlcmlmeVNpdGVrZXlzIDogbnVsbCk7XG4gIG5vdGlmeUFsbFNpdGVrZXlzKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZG9TYXZlU2l0ZWtleXMoKSB7XG4gIHNpdGVrZXlzLnNhdmUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9zYXZlU2l0ZWtleXMoKSB7XG4gIGlmICghaXNSdW5uaW5nSW5TZXJ2aWNlV29ya2VyKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBfZG9TYXZlU2l0ZWtleXMoKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9hd2FpdFNhdmluZ0NvbXBsZXRlKCkge1xuICBhd2FpdCBzaXRla2V5cy5hd2FpdFNhdmluZ0NvbXBsZXRlKCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFydCgpIHtcbiAgaWYgKCFzdGFydHVwUHJvbWlzZSkge1xuICAgIGJyb3dzZXIud2ViUmVxdWVzdC5vbkhlYWRlcnNSZWNlaXZlZC5hZGRMaXN0ZW5lcihcbiAgICAgIG9uSGVhZGVyc1JlY2VpdmVkLFxuICAgICAge1xuICAgICAgICB1cmxzOiBbXCJodHRwOi8vKi8qXCIsIFwiaHR0cHM6Ly8qLypcIl0sXG4gICAgICAgIHR5cGVzOiBbXCJtYWluX2ZyYW1lXCIsIFwic3ViX2ZyYW1lXCJdXG4gICAgICB9LFxuICAgICAgW1wicmVzcG9uc2VIZWFkZXJzXCJdXG4gICAgKTtcblxuICAgIHN0YXJ0dXBQcm9taXNlID0gKGlzUnVubmluZ0luU2VydmljZVdvcmtlcigpID9cbiAgICAgIF9sb2FkU2l0ZWtleXMoKSA6IFByb21pc2UucmVzb2x2ZShudWxsKSk7XG4gIH1cblxuICBhd2FpdCBzdGFydHVwUHJvbWlzZTtcbn1cbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQge0V2ZW50RGlzcGF0Y2hlcn0gZnJvbSBcIi4vdHlwZXMuanNcIjtcblxubGV0IGRpc3BhdGNoRnVuY3Rpb247XG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmVMaW5rQ2xpY2tlZCh1cmwsIHRpdGxlKSB7XG4gIGlmIChkaXNwYXRjaEZ1bmN0aW9uKSB7XG4gICAgZGlzcGF0Y2hGdW5jdGlvbih7dXJsLCB0aXRsZX0pO1xuICB9XG59XG5cbmV4cG9ydCBsZXQgb25TdWJzY3JpYmVMaW5rQ2xpY2tlZCA9IG5ldyBFdmVudERpc3BhdGNoZXIoXG4gIGRpc3BhdGNoID0+IHtcbiAgICBkaXNwYXRjaEZ1bmN0aW9uID0gZGlzcGF0Y2g7XG4gIH0sXG4gICgpID0+IHtcbiAgICBkaXNwYXRjaEZ1bmN0aW9uID0gbnVsbDtcbiAgfVxuKTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwiLi9icm93c2VyLmpzXCI7XG5pbXBvcnQge1BlcnNpc3RlbnRTdGF0ZX0gZnJvbSBcIi4vcGVyc2lzdGVuY2UuanNcIjtcblxuZnVuY3Rpb24gZ2V0UnVsZXNldChydWxlc2V0SWQpIHtcbiAgbGV0IG1hbmlmZXN0ID0gYnJvd3Nlci5ydW50aW1lLmdldE1hbmlmZXN0KCk7XG5cbiAgaWYgKG1hbmlmZXN0LmRlY2xhcmF0aXZlX25ldF9yZXF1ZXN0ICYmXG4gICAgbWFuaWZlc3QuZGVjbGFyYXRpdmVfbmV0X3JlcXVlc3QucnVsZV9yZXNvdXJjZXMpIHtcbiAgICByZXR1cm4gbWFuaWZlc3QuZGVjbGFyYXRpdmVfbmV0X3JlcXVlc3QucnVsZV9yZXNvdXJjZXMuZmluZChcbiAgICAgIHJ1bGVzZXQgPT4gcnVsZXNldC5pZCA9PSBydWxlc2V0SWRcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBydWxlc2V0RXhpc3RzSW5NYW5pZmVzdChydWxlc2V0SWQpIHtcbiAgcmV0dXJuICEhZ2V0UnVsZXNldChydWxlc2V0SWQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3Vic2NyaXB0aW9uRmlsZUV4aXN0cyhzdWJzY3JpcHRpb24sIHBhdGgpIHtcbiAgbGV0IHN1YnNjcmlwdGlvblBhdGggPSBgJHtwYXRofS8ke3N1YnNjcmlwdGlvbi5pZH1gO1xuICByZXR1cm4gbWVtb2l6ZWRGaWxlRXhpc3RzKHN1YnNjcmlwdGlvblBhdGgpO1xufVxuXG5sZXQgZmlsZUV4aXN0c0NhY2hlID0gbmV3IFBlcnNpc3RlbnRTdGF0ZShcImV3ZTpmaWxlRXhpc3RzQ2FjaGVcIik7XG5cbi8qKlxuICogQ2hlY2tzIGlzIGEgZmlsZSBpcyBidW5kbGVkIGluIHRoZSBleHRlbnNpb24uIFRoZSByZXN1bHRzIG9mIGNhbGxpbmcgdGhpc1xuICogZnVuY3Rpb24gYXJlIG1lbW9pemVkIGluIHNlc3Npb24gc3RvcmFnZSB0byBkZWNyZWFzZSB0aGUgbnVtYmVyIG9mIGBmZXRjaGBcbiAqIHJlcXVlc3RzIG1hZGUgdG8gdGhlIGV4dGVuc2lvbidzIHJlc291cmNlcy5cbiAqXG4gKiBJbiBvdXIgZnV6eiB0ZXN0cywgd2UgZm91bmQgdGhhdCBkb2luZyB0aGUgZnVsbCBjaGVjayBvZiBldmVyeSBzdWJzY3JpcHRpb24nc1xuICogZmlsZXMgb24gZXZlcnkgc2VydmljZSB3b3JrZXIgc3RhcnR1cCBsZWFkIHRvIGZsYWt5IHRlc3RzIHdoZXJlIG90aGVyIG5ldHdvcmtcbiAqIHJlcXVlc3RzIHN0YXJ0ZWQgZmFpbGluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZXBhdGggUGF0aCB0byB0aGUgZmlsZSwgcmVsYXRpdmUgdG8gdGhlIHJvb3Qgb2YgdGhlXG4gKiBleHRlbnNpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZmlsZXBhdGggaXMgYnVuZGxlZCBpbiB0aGUgZXh0ZW5zaW9uLlxuICovXG5hc3luYyBmdW5jdGlvbiBtZW1vaXplZEZpbGVFeGlzdHMoZmlsZXBhdGgpIHtcbiAgaWYgKCFmaWxlRXhpc3RzQ2FjaGUubG9hZGVkKSB7XG4gICAgYXdhaXQgZmlsZUV4aXN0c0NhY2hlLmxvYWQoKTtcbiAgfVxuXG4gIGxldCBjYWNoZSA9IGZpbGVFeGlzdHNDYWNoZS5nZXRTdGF0ZSgpO1xuICBpZiAodHlwZW9mIGNhY2hlW2ZpbGVwYXRoXSA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc3QgdXJsID0gYnJvd3Nlci5ydW50aW1lLmdldFVSTChmaWxlcGF0aCk7XG5cbiAgICBsZXQgZmlsZUV4aXN0cztcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmV0Y2hSZXN1bHQgPSBhd2FpdCBmZXRjaCh1cmwsIHttZXRob2Q6IFwiSEVBRFwifSk7XG4gICAgICBmaWxlRXhpc3RzID0gZmV0Y2hSZXN1bHQub2s7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgZmlsZUV4aXN0cyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNhY2hlW2ZpbGVwYXRoXSA9IGZpbGVFeGlzdHM7XG4gICAgYXdhaXQgZmlsZUV4aXN0c0NhY2hlLnNhdmUoKTtcbiAgfVxuXG4gIHJldHVybiBjYWNoZVtmaWxlcGF0aF07XG59XG5cbi8qKlxuICogR2V0IHRoZSBzdWJzY3JpcHRpb24gc3RhdGljIHJ1bGVzZXQgbWFwXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIHN1YnNjcmlwdGlvbiBpZCB0byBnZXQgdGhlIG1hcCBmb3IuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtvYmplY3R9IFRoZSBzdWJzY3JpcHRpb24gbWFwLiBJdCBjYW4gYmUgdXNlZCB0b1xuICogICAgIGluaXRpYWxpemUgYSBgTWFwYCB3aXRoIGtleSBiZWluZyB0aGUgZmlsdGVyIHRleHQgYW5kIHZhbHVlc1xuICogICAgIGJlaW5nIGFuIGFycmF5IG9mIGlkcy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN1YnNjcmlwdGlvblJ1bGVzZXRNYXAoaWQpIHtcbiAgbGV0IGRuclN1YiA9IGdldFJ1bGVzZXQoaWQpO1xuXG4gIGlmICghZG5yU3ViKSB7XG4gICAgdGhyb3cgRXJyb3IoYFN1YnNjcmlwdGlvbiAke2lkfSBub3QgZm91bmQuYCk7XG4gIH1cblxuICBjb25zdCB1cmwgPSBicm93c2VyLnJ1bnRpbWUuZ2V0VVJMKGRuclN1Yi5wYXRoICsgXCIubWFwXCIpO1xuICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xufVxuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB7c3Vic2NyaXB0aW9uRmlsZUV4aXN0cywgcnVsZXNldEV4aXN0c0luTWFuaWZlc3R9XG4gIGZyb20gXCIuL3N1YnNjcmlwdGlvbnMtdXRpbHMuanNcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlKGJ1bmRsZWRTdWJzY3JpcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1bmRsZWRTdWJzY3JpcHRpb25zUGF0aCkge1xuICBsZXQgd2FybmluZ3MgPSBbXTtcblxuICBmb3IgKGxldCBzdWJzY3JpcHRpb24gb2YgYnVuZGxlZFN1YnNjcmlwdGlvbnMpIHtcbiAgICBsZXQgZmlsZUV4aXN0cyA9IGF3YWl0IHN1YnNjcmlwdGlvbkZpbGVFeGlzdHMoXG4gICAgICBzdWJzY3JpcHRpb24sIGJ1bmRsZWRTdWJzY3JpcHRpb25zUGF0aCk7XG4gICAgaWYgKCFmaWxlRXhpc3RzKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKGBObyBzdWJzY3JpcHRpb24gY29udGVudCBmaWxlIGZvciBJRD0ke3N1YnNjcmlwdGlvbi5pZH1gKTtcbiAgICB9XG5cbiAgICBpZiAoIXJ1bGVzZXRFeGlzdHNJbk1hbmlmZXN0KHN1YnNjcmlwdGlvbi5pZCkpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goYE5vIHJ1bGVzZXQgd2l0aCBJRD0ke3N1YnNjcmlwdGlvbi5pZH0gZGVjbGFyZWQgaW4gdGhlIG1hbmlmZXN0YCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHdhcm5pbmdzO1xufVxuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIGV5ZW8ncyBXZWIgRXh0ZW5zaW9uIEFkIEJsb2NraW5nIFRvb2xraXQgKEVXRSksXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDYtcHJlc2VudCBleWVvIEdtYkhcbiAqXG4gKiBFV0UgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMgYXNcbiAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIEVXRSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggRVdFLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXIuanNcIjtcblxuaW1wb3J0IHt2YWxpZGF0ZSBhcyB2YWxpZGF0ZVN1YnNjcmlwdGlvbnN9IGZyb20gXCIuL3N1YnNjcmlwdGlvbnMtdmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQge3J1bGVzZXRFeGlzdHNJbk1hbmlmZXN0fSBmcm9tIFwiLi9zdWJzY3JpcHRpb25zLXV0aWxzLmpzXCI7XG5pbXBvcnQge1N1YnNjcmlwdGlvbiwgQ291bnRhYmxlU3Vic2NyaXB0aW9uLCBSZWd1bGFyU3Vic2NyaXB0aW9uLFxuICAgICAgICBGdWxsVXBkYXRhYmxlU3Vic2NyaXB0aW9uLCBTcGVjaWFsU3Vic2NyaXB0aW9uLFxuICAgICAgICBEaWZmVXBkYXRhYmxlU3Vic2NyaXB0aW9ufVxuICBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9zdWJzY3JpcHRpb25DbGFzc2VzLmpzXCI7XG5pbXBvcnQge2ZpbHRlck5vdGlmaWVyfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9maWx0ZXJOb3RpZmllci5qc1wiO1xuaW1wb3J0IHtyZWNvbW1lbmRhdGlvbnN9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL3JlY29tbWVuZGF0aW9ucy5qc1wiO1xuaW1wb3J0IHtGaWx0ZXJ9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2ZpbHRlckNsYXNzZXMuanNcIjtcbmltcG9ydCB7cGFyc2VGaWx0ZXJMaXN0fSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9maWx0ZXJzL2xpc3RzLmpzXCI7XG5cbmltcG9ydCB7YWRkb25CdW5kbGVkU3Vic2NyaXB0aW9ucywgYWRkb25CdW5kbGVkU3Vic2NyaXB0aW9uc1BhdGh9XG4gIGZyb20gXCIuL2luZm8uanNcIjtcbmltcG9ydCB7ZGVmYXVsdCBhcyBpbml0aWFsaXplcn0gZnJvbSBcIi4vaW5pdGlhbGl6ZXIuanNcIjtcbmltcG9ydCB7ZmlsdGVyRW5naW5lfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQge0V2ZW50RGlzcGF0Y2hlcn0gZnJvbSBcIi4vdHlwZXMuanNcIjtcbmltcG9ydCB7Y29udmVydEZpbHRlcn0gZnJvbSBcIi4vZmlsdGVycy5qc1wiO1xuaW1wb3J0IHtkaXNhYmxlRHluYW1pY1J1bGVzLCByZXN0b3JlRHluYW1pY1J1bGVzLFxuICAgICAgICBpc0RuclN1YnNjcmlwdGlvblVwZGF0aW5nfSBmcm9tIFwiLi9kbnItZmlsdGVycy5qc1wiO1xuXG5pbXBvcnQge3JlYWRGaWxlQ29udGVudH0gZnJvbSBcIi4vaW8uanNcIjtcbmltcG9ydCB7UHJlZnN9IGZyb20gXCIuL3ByZWZzLmpzXCI7XG5cbmNvbnN0IEFDQ0VQVEFCTEVfQURTX0lEID0gXCIwNzk4QjZBMi05NEE0LTRBREYtODlFRC1CRUMxMTJGQzRDN0ZcIjtcbmNvbnN0IEFDQ0VQVEFCTEVfQURTX01WMl9VUkwgPSBcImh0dHBzOi8vZWFzeWxpc3QtZG93bmxvYWRzLmFkYmxvY2twbHVzLm9yZy9leGNlcHRpb25ydWxlcy50eHRcIjtcbmNvbnN0IEFDQ0VQVEFCTEVfQURTX01WM19VUkwgPSBcImh0dHBzOi8vZWFzeWxpc3QtZG93bmxvYWRzLmFkYmxvY2twbHVzLm9yZy92My9mdWxsL2V4Y2VwdGlvbnJ1bGVzLnR4dFwiO1xuXG5jb25zdCBBQ0NFUFRBQkxFX0FEU19QUklWQUNZX0lEID0gXCJGMTJFMDgwMS1BMDBCLTQ5REUtQjFFMy01MkM5QzRGOTBDOENcIjtcbmNvbnN0IEFDQ0VQVEFCTEVfQURTX1BSSVZBQ1lfTVYyX1VSTCA9IFwiaHR0cHM6Ly9lYXN5bGlzdC1kb3dubG9hZHMuYWRibG9ja3BsdXMub3JnL2V4Y2VwdGlvbnJ1bGVzLXByaXZhY3ktZnJpZW5kbHkudHh0XCI7XG5jb25zdCBBQ0NFUFRBQkxFX0FEU19QUklWQUNZX01WM19VUkwgPSBcImh0dHBzOi8vZWFzeWxpc3QtZG93bmxvYWRzLmFkYmxvY2twbHVzLm9yZy92My9mdWxsL2V4Y2VwdGlvbnJ1bGVzLXByaXZhY3ktZnJpZW5kbHkudHh0XCI7XG5cbmZ1bmN0aW9uIGNvbnZlcnRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKSB7XG4gIGNvbnN0IHtcbiAgICBpZCwgZGlzYWJsZWQsIGRvd25sb2FkU3RhdHVzLCBob21lcGFnZSwgdmVyc2lvbiwgbGFzdERvd25sb2FkLCBsYXN0U3VjY2VzcyxcbiAgICBzb2Z0RXhwaXJhdGlvbiwgZXhwaXJlcywgdGl0bGUsIHVybCwgZG93bmxvYWRhYmxlLCBkb3dubG9hZENvdW50LCBkaWZmVVJMLFxuICAgIHByaXZpbGVnZWQsIGxhc3RNb2RpZmllZH0gPSBzdWJzY3JpcHRpb247XG5cbiAgbGV0IHVwZGF0YWJsZSA9IChzdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBGdWxsVXBkYXRhYmxlU3Vic2NyaXB0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgRGlmZlVwZGF0YWJsZVN1YnNjcmlwdGlvbik7XG5cbiAgcmV0dXJuIHtcbiAgICBpZCxcbiAgICBlbmFibGVkOiAhZGlzYWJsZWQsXG4gICAgcHJpdmlsZWdlZCxcbiAgICBob21lcGFnZSxcbiAgICBkb3dubG9hZGFibGUsXG4gICAgdXBkYXRhYmxlLFxuICAgIGRpZmZVUkwsXG4gICAgdGl0bGUsXG4gICAgdXJsLFxuICAgIGRvd25sb2FkQ291bnQsXG4gICAgdmVyc2lvbixcbiAgICBkb3dubG9hZGluZzogaXNTeW5jaHJvbml6aW5nKHVybCksXG4gICAgZG93bmxvYWRTdGF0dXMsXG4gICAgbGFzdFN1Y2Nlc3MsXG4gICAgbGFzdERvd25sb2FkLFxuICAgIHNvZnRFeHBpcmF0aW9uLFxuICAgIGV4cGlyZXMsXG4gICAgbGFzdE1vZGlmaWVkXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRSZWNvbW1lbmRhdGlvbih7aWQsIGxhbmd1YWdlcywgdGl0bGUsIHJlcXVpcmVzLCB0eXBlLCB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG12MlVSTH0pIHtcbiAgaWYgKCFicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdCkge1xuICAgIC8vIEluIE1WMiB3ZSBoYXZlIHRvIHN3aXRjaCB0aGUgVVJMIHRvIGJlIHRoZSBtdjJVUkxcbiAgICByZXR1cm4ge2lkLCBsYW5ndWFnZXMsIHRpdGxlLCByZXF1aXJlcywgdHlwZSwgdXJsOiBtdjJVUkx9O1xuICB9XG5cbiAgcmV0dXJuIHtpZCwgbGFuZ3VhZ2VzLCB0aXRsZSwgcmVxdWlyZXMsIHR5cGUsIHVybCwgbXYyVVJMfTtcbn1cblxuZnVuY3Rpb24gZ2V0U3Vic2NyaXB0aW9uKHVybCkge1xuICBsZXQgc3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uLmZyb21VUkwodXJsKTtcblxuICBpZiAoZmlsdGVyRW5naW5lLmZpbHRlclN0b3JhZ2UuaGFzU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbikgJiZcbiAgICAgIHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFJlZ3VsYXJTdWJzY3JpcHRpb24pIHtcbiAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIG1ha2VMaXN0ZW5lcihkaXNwYXRjaCkge1xuICByZXR1cm4gc3Vic2NyaXB0aW9uID0+IHtcbiAgICBpZiAoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgUmVndWxhclN1YnNjcmlwdGlvbikge1xuICAgICAgZGlzcGF0Y2goY29udmVydFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFzQWNjZXB0YWJsZUFkc0VuYWJsZWQoKSB7XG4gIGNvbnN0IG1hdGNoZXMgPSBbQUNDRVBUQUJMRV9BRFNfTVYyX1VSTCxcbiAgICAgICAgICAgICAgICAgICBBQ0NFUFRBQkxFX0FEU19NVjNfVVJMLFxuICAgICAgICAgICAgICAgICAgIEFDQ0VQVEFCTEVfQURTX1BSSVZBQ1lfTVYyX1VSTCxcbiAgICAgICAgICAgICAgICAgICBBQ0NFUFRBQkxFX0FEU19QUklWQUNZX01WM19VUkxdO1xuXG4gIGZvciAobGV0IHN1YnNjcmlwdGlvbiBvZiBhd2FpdCBnZXRTdWJzY3JpcHRpb25zKCkpIHtcbiAgICBpZiAoc3Vic2NyaXB0aW9uLmVuYWJsZWQgJiYgbWF0Y2hlcy5pbmNsdWRlcyhzdWJzY3JpcHRpb24udXJsKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSB1aUxhbmd1YWdlIFVJIGxhbmd1YWdlXG4gKiBAcmV0dXJucyB7e1xuKiAgIGNob3NlblN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdLFxuKiAgIGhhc0FBOiBib29sZWFuLFxuKiAgIGhhc0FudGlDVjogYm9vbGVhbixcbiogICBoYXNDdXJyZW50TGFuZzogYm9vbGVhbixcbiogICBoYXNEZWZhdWx0TGFuZzogYm9vbGVhblxuKiB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdFN1YnNjcmlwdGlvbnModWlMYW5ndWFnZSkge1xuICBsZXQgaGFzQ3VycmVudExhbmcgPSBmYWxzZTtcbiAgbGV0IGhhc0RlZmF1bHRMYW5nID0gZmFsc2U7XG4gIGxldCBoYXNBQSA9IGZhbHNlO1xuICBsZXQgaGFzQW50aUNWID0gZmFsc2U7XG5cbiAgaWYgKCF1aUxhbmd1YWdlKSB7XG4gICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTE1OTQzOFxuICAgIGlmIChicm93c2VyLmkxOG4uZ2V0VUlMYW5ndWFnZSkge1xuICAgICAgdWlMYW5ndWFnZSA9IGJyb3dzZXIuaTE4bi5nZXRVSUxhbmd1YWdlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdWlMYW5ndWFnZSA9IG5hdmlnYXRvci5sYW5ndWFnZTtcbiAgICB9XG4gIH1cblxuICBsZXQgY3VycmVudExhbmcgPSB1aUxhbmd1YWdlLnNwbGl0KFwiLVwiKVswXTtcbiAgbGV0IGRlZmF1bHRMYW5nID0gKGJyb3dzZXIucnVudGltZS5nZXRNYW5pZmVzdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGVmYXVsdF9sb2NhbGUgfHwgXCJlblwiKS5zcGxpdChcIl9cIilbMF07XG5cbiAgbGV0IGFkU3Vic2NyaXB0aW9ucyA9IFtdO1xuICBsZXQgYWRTdWJzY3JpcHRpb25zRGVmYXVsdExhbmcgPSBbXTtcbiAgbGV0IGFhU3Vic2NyaXB0aW9ucyA9IFtdO1xuICBsZXQgY2hvc2VuU3Vic2NyaXB0aW9ucyA9IFtdO1xuXG4gIGZvciAobGV0IHN1YnNjcmlwdGlvbiBvZiByZWNvbW1lbmRhdGlvbnMoKSkge1xuICAgIHN3aXRjaCAoc3Vic2NyaXB0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgXCJhZHNcIjpcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5sYW5ndWFnZXMuaW5jbHVkZXMoY3VycmVudExhbmcpKXtcbiAgICAgICAgICBoYXNDdXJyZW50TGFuZyA9IHRydWU7XG4gICAgICAgICAgYWRTdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24ubGFuZ3VhZ2VzLmluY2x1ZGVzKGRlZmF1bHRMYW5nKSkge1xuICAgICAgICAgIGhhc0RlZmF1bHRMYW5nID0gdHJ1ZTtcbiAgICAgICAgICBhZFN1YnNjcmlwdGlvbnNEZWZhdWx0TGFuZy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJjaXJjdW12ZW50aW9uXCI6XG4gICAgICAgIGNob3NlblN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICBoYXNBbnRpQ1YgPSB0cnVlO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcImFsbG93aW5nXCI6XG4gICAgICAgIGFhU3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIGhhc0FBID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGFkU3Vic2NyaXB0aW9ucy5sZW5ndGggPT0gMCkge1xuICAgIGFkU3Vic2NyaXB0aW9ucyA9IGFkU3Vic2NyaXB0aW9uc0RlZmF1bHRMYW5nO1xuICB9XG5cbiAgLy8gaWYgd2UgaGF2ZSB0aGUgcHJlZmVycmVkIEFBIGluIHRoZSBsaXN0IC0gdXNlIGl0IG9ubHksXG4gIC8vIG90aGVyd2lzZSB1c2UgYWxsIGxpc3RlZCBBQSBzdWJzY3JpcHRpb25zXG4gIGxldCBwcmVmZXJyZWRBQVN1YnNjcmlwdGlvbiA9IGFhU3Vic2NyaXB0aW9ucy5maW5kKFxuICAgIGl0ID0+IGl0LmlkID09IEFDQ0VQVEFCTEVfQURTX0lEKTtcbiAgaWYgKHByZWZlcnJlZEFBU3Vic2NyaXB0aW9uKSB7XG4gICAgYWFTdWJzY3JpcHRpb25zID0gW3ByZWZlcnJlZEFBU3Vic2NyaXB0aW9uXTtcbiAgfVxuICBjaG9zZW5TdWJzY3JpcHRpb25zLnVuc2hpZnQoLi4uYWFTdWJzY3JpcHRpb25zKTtcblxuICBjaG9zZW5TdWJzY3JpcHRpb25zLnVuc2hpZnQoLi4uYWRTdWJzY3JpcHRpb25zKTtcblxuICByZXR1cm4ge2Nob3NlblN1YnNjcmlwdGlvbnMsIGhhc0FBLCBoYXNBbnRpQ1YsXG4gICAgICAgICAgaGFzQ3VycmVudExhbmcsIGhhc0RlZmF1bHRMYW5nfTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkQWRkRGVmYXVsdFN1YnNjcmlwdGlvbnMoKSB7XG4gIGxldCB7ZmlsdGVyU3RvcmFnZX0gPSBmaWx0ZXJFbmdpbmU7XG4gIGZvciAobGV0IHN1YnNjcmlwdGlvbiBvZiBmaWx0ZXJTdG9yYWdlLnN1YnNjcmlwdGlvbnMoKSkge1xuICAgIGlmIChicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdCkge1xuICAgICAgLy8gYERpZmZVcGRhdGFibGVTdWJzY3JpcHRpb25gIGlzIGEgc3ViY2xhc3Mgb2YgYENvdW50YWJsZVN1YnNjcmlwdGlvbmBcbiAgICAgIGlmIChzdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBDb3VudGFibGVTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBGdWxsVXBkYXRhYmxlU3Vic2NyaXB0aW9uICYmXG4gICAgICBzdWJzY3JpcHRpb24udXJsICE9IEFDQ0VQVEFCTEVfQURTX01WMl9VUkwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgU3BlY2lhbFN1YnNjcmlwdGlvbiAmJlxuICAgICAgICBzdWJzY3JpcHRpb24uZmlsdGVyQ291bnQgPiAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGVuYWJsZVJ1bGVzZXQocnVsZXNldElkKSB7XG4gIGlmIChicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdCkge1xuICAgIGlmIChydWxlc2V0RXhpc3RzSW5NYW5pZmVzdChydWxlc2V0SWQpKSB7XG4gICAgICBhd2FpdCBicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdC51cGRhdGVFbmFibGVkUnVsZXNldHMoe1xuICAgICAgICBlbmFibGVSdWxlc2V0SWRzOiBbcnVsZXNldElkXVxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHJlc3RvcmVEeW5hbWljUnVsZXMocnVsZXNldElkKTtcbiAgICB9XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZGlzYWJsZVJ1bGVzZXQocnVsZXNldElkKSB7XG4gIGlmIChicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdCAmJiBydWxlc2V0RXhpc3RzSW5NYW5pZmVzdChydWxlc2V0SWQpKSB7XG4gICAgYXdhaXQgYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QudXBkYXRlRW5hYmxlZFJ1bGVzZXRzKHtcbiAgICAgIGRpc2FibGVSdWxlc2V0SWRzOiBbcnVsZXNldElkXVxuICAgIH0pO1xuXG4gICAgYXdhaXQgZGlzYWJsZUR5bmFtaWNSdWxlcyhydWxlc2V0SWQpO1xuXG4gICAgbGV0IGVuYWJsZVJ1bGVJZHMgPVxuICAgICAgYXdhaXQgYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QuZ2V0RGlzYWJsZWRSdWxlSWRzKHtcbiAgICAgICAgcnVsZXNldElkXG4gICAgICB9KTtcbiAgICBhd2FpdCBicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdC51cGRhdGVTdGF0aWNSdWxlcyh7XG4gICAgICBydWxlc2V0SWQsXG4gICAgICBlbmFibGVSdWxlSWRzXG4gICAgfSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0RmlsdGVyVGV4dChzdWJzY3JpcHRpb24sIHBhdGgpIHtcbiAgbGV0IHN1YnNjcmlwdGlvblBhdGggPSBgJHtwYXRofS8ke3N1YnNjcmlwdGlvbi5pZH1gO1xuICBsZXQgcmF3TGluZXMgPSBhd2FpdCByZWFkRmlsZUNvbnRlbnQoc3Vic2NyaXB0aW9uUGF0aCk7XG4gIGxldCB7bGluZXMsIHBhcmFtcywgZXJyb3J9ID0gcGFyc2VGaWx0ZXJMaXN0KHJhd0xpbmVzKTtcbiAgaWYgKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgfVxuICBpZiAoIWxpbmVzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWx0ZXIgbGlzdFwiKTtcbiAgfVxuICBsaW5lcy5zaGlmdCgpO1xuICByZXR1cm4ge2ZpbHRlclRleHQ6IGxpbmVzLCBwYXJhbXN9O1xufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGJ1bmRsZWRTdWJzY3JpcHRpb25zIEJ1bmRsZWQgc3Vic2NyaXB0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd9IGJ1bmRsZWRTdWJzY3JpcHRpb25zUGF0aCBCdW5kbGVkIHN1YnNjcmlwdGlvbnMgcGF0aFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGUoYnVuZGxlZFN1YnNjcmlwdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVuZGxlZFN1YnNjcmlwdGlvbnNQYXRoKSB7XG4gIHJldHVybiB2YWxpZGF0ZVN1YnNjcmlwdGlvbnMoXG4gICAgYnVuZGxlZFN1YnNjcmlwdGlvbnMsIGJ1bmRsZWRTdWJzY3JpcHRpb25zUGF0aCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlbW92ZSh1cmwpIHtcbiAgbGV0IHN1YnNjcmlwdGlvbiA9IGdldFN1YnNjcmlwdGlvbih1cmwpO1xuXG4gIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBTdWJzY3JpcHRpb24gZG9lcyBub3QgZXhpc3Q6ICR7dXJsfWApO1xuICB9XG5cbiAgaWYgKGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0KSB7XG4gICAgaWYgKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIEZ1bGxVcGRhdGFibGVTdWJzY3JpcHRpb24pIHtcbiAgICAgIGF3YWl0IGRpc2FibGVEeW5hbWljUnVsZXMoc3Vic2NyaXB0aW9uLnVybCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYXdhaXQgZGlzYWJsZVJ1bGVzZXQoc3Vic2NyaXB0aW9uLmlkKTtcbiAgICB9XG4gIH1cblxuICBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5yZW1vdmVTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbWlncmF0ZVN1YnNjcmlwdGlvblRvTXYzKHN1YnNjcmlwdGlvbikge1xuICBsZXQgc3Vic2NyaXB0aW9uSW5mbyA9IGFkZG9uQnVuZGxlZFN1YnNjcmlwdGlvbnMuZmluZChcbiAgICBpdCA9PiBpdC5tdjJfdXJsID09IHN1YnNjcmlwdGlvbi51cmwpO1xuICBsZXQgdXJsID0gc3Vic2NyaXB0aW9uSW5mbyA/IHN1YnNjcmlwdGlvbkluZm8udXJsIDogc3Vic2NyaXB0aW9uLnVybDtcbiAgYXdhaXQgYWRkKHVybCwge1xuICAgIGRvd25sb2FkQ291bnQ6IHN1YnNjcmlwdGlvbi5kb3dubG9hZENvdW50LFxuICAgIHZlcnNpb246IHN1YnNjcmlwdGlvbi52ZXJzaW9uXG4gIH0pO1xuICBpZiAoIXN1YnNjcmlwdGlvbi5lbmFibGVkKSB7XG4gICAgYXdhaXQgZGlzYWJsZSh1cmwpO1xuICB9XG59XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVjb3Zlck1pZ3JhdGlvbkVycm9yU3Vic2NyaXB0aW9ucygpIHtcbiAgbGV0IHN1Y2Vzc2Z1bGx5UmVjb3ZlcmVkSW5kaWNlcyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgUHJlZnMubWlncmF0aW9uX3N1YnNjcmlwdGlvbl9lcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbWlncmF0aW9uRXJyb3IgPSBQcmVmcy5taWdyYXRpb25fc3Vic2NyaXB0aW9uX2Vycm9yc1tpXTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBtaWdyYXRlU3Vic2NyaXB0aW9uVG9NdjMobWlncmF0aW9uRXJyb3Iuc3Vic2NyaXB0aW9uKTtcbiAgICAgIHN1Y2Vzc2Z1bGx5UmVjb3ZlcmVkSW5kaWNlcy5wdXNoKGkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgLy8gTm90aGluZyBleHRyYSB0byBkbyBoZXJlLiBXZSBqdXN0IHdlcmVuJ3QgYWJsZSB0byByZWNvdmVyIHRoaXMgb25lLlxuICAgIH1cbiAgfVxuXG4gIGlmIChzdWNlc3NmdWxseVJlY292ZXJlZEluZGljZXMubGVuZ3RoID4gMCkge1xuICAgIFByZWZzLm1pZ3JhdGlvbl9zdWJzY3JpcHRpb25fZXJyb3JzID1cbiAgICAgIFByZWZzLm1pZ3JhdGlvbl9zdWJzY3JpcHRpb25fZXJyb3JzLmZpbHRlcigoX2UsIGluZGV4KSA9PlxuICAgICAgICAhc3VjZXNzZnVsbHlSZWNvdmVyZWRJbmRpY2VzLmluY2x1ZGVzKGluZGV4KSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVTdWJzY3JpcHRpb25JbmZvcm1hdGlvbigpIHtcbiAgbGV0IHJlbW92ZVVybHMgPSBbXTtcblxuICBmb3IgKGxldCBzdWJzY3JpcHRpb24gb2YgZmlsdGVyRW5naW5lLmZpbHRlclN0b3JhZ2Uuc3Vic2NyaXB0aW9ucygpKSB7XG4gICAgaWYgKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFJlZ3VsYXJTdWJzY3JpcHRpb24pIHtcbiAgICAgIGxldCBzdWJzY3JpcHRpb25JbmZvID0gYWRkb25CdW5kbGVkU3Vic2NyaXB0aW9ucy5maW5kKFxuICAgICAgICB4ID0+IHgudXJsID09IHN1YnNjcmlwdGlvbi51cmwpO1xuXG4gICAgICBpZiAoc3Vic2NyaXB0aW9uLmhhc0J1bmRsZWRGaWx0ZXJzKSB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25JbmZvKSB7XG4gICAgICAgICAgLy8gRXhpc3RpbmcgYnVuZGxlZCBzdWJzY3JpcHRpb24sIGFmdGVyIHRoZSB1cGRhdGUgaXQncyBzdGlsbCBhXG4gICAgICAgICAgLy8gYnVuZGxlZCBzdWJzY3JpcHRpb24uXG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHtmaWx0ZXJUZXh0fSA9IGF3YWl0IGdldEZpbHRlclRleHQoXG4gICAgICAgICAgICAgIHN1YnNjcmlwdGlvbkluZm8sIGFkZG9uQnVuZGxlZFN1YnNjcmlwdGlvbnNQYXRoKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5zZXRGaWx0ZXJUZXh0KGZpbHRlclRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gV2UgYWxyZWFkeSB3YXJuIGlmIHRoZSBmaWxlIGRvZXNuJ3QgZXhpc3Qgb24gc3RhcnR1cCwgc29cbiAgICAgICAgICAgIC8vIHdlIGNhbiBpZ25vcmUgYW4gZXJyb3IgbG9hZGluZyB0aGUgYnVuZGxlZCBmaWxlIGhlcmUuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3Vic2NyaXB0aW9uLmRpZmZVUkwgPSBzdWJzY3JpcHRpb25JbmZvLmRpZmZfdXJsO1xuICAgICAgICAgIHN1YnNjcmlwdGlvbi50aXRsZSA9IHN1YnNjcmlwdGlvbkluZm8udGl0bGU7XG4gICAgICAgICAgc3Vic2NyaXB0aW9uLmhvbWVwYWdlID0gc3Vic2NyaXB0aW9uSW5mby5ob21lcGFnZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBFeGlzdGluZyBidW5kbGVkIHN1YnNjcmlwdGlvbiwgYnV0IGFmdGVyIHRoZSB1cGRhdGUgaXQncyBiZWVuXG4gICAgICAgICAgLy8gcmVtb3ZlZCBmcm9tIHRoZSBleHRlbnNpb24ncyBidW5kbGVkIHN1YnNjcmlwdGlvbnMuXG5cbiAgICAgICAgICByZW1vdmVVcmxzLnB1c2goc3Vic2NyaXB0aW9uLnVybCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHN1YnNjcmlwdGlvbkluZm8pIHtcbiAgICAgICAgLy8gRXhpc3RpbmcgY3VzdG9tIHVzZXIgc3Vic2NyaXB0aW9uLCBhZnRlciB0aGUgdXBkYXRlIGl0J3Mgbm93IGJ1bmRsZWRcbiAgICAgICAgLy8gc28gd2Ugc2hvdWxkIG1pZ3JhdGUgdG8gdGhlIGJ1bmRsZWQgb25lLlxuXG4gICAgICAgIGF3YWl0IHJlbW92ZShzdWJzY3JpcHRpb24udXJsKTtcbiAgICAgICAgYXdhaXQgYWRkKHN1YnNjcmlwdGlvbkluZm8udXJsLCB7XG4gICAgICAgICAgZG93bmxvYWRDb3VudDogc3Vic2NyaXB0aW9uLmRvd25sb2FkQ291bnQsXG4gICAgICAgICAgdmVyc2lvbjogc3Vic2NyaXB0aW9uLnZlcnNpb25cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghc3Vic2NyaXB0aW9uLmVuYWJsZWQpIHtcbiAgICAgICAgICBhd2FpdCBkaXNhYmxlKHN1YnNjcmlwdGlvbkluZm8udXJsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IHVybCBvZiByZW1vdmVVcmxzKSB7XG4gICAgYXdhaXQgcmVtb3ZlKHVybCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U3Vic2NyaXB0aW9ucygpIHtcbiAgbGV0IHJlc3VsdCA9IFtdO1xuXG4gIGZvciAobGV0IHN1YnNjcmlwdGlvbiBvZiBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5zdWJzY3JpcHRpb25zKCkpIHtcbiAgICBpZiAoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgUmVndWxhclN1YnNjcmlwdGlvbikge1xuICAgICAgcmVzdWx0LnB1c2goY29udmVydFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdXJsIElzIHN5bmNocm9uaXppbmcgZm9yIHBhc3NlZCBVUkw/XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3luY2hyb25pemluZyh1cmwpIHtcbiAgcmV0dXJuIGZpbHRlckVuZ2luZS5maWx0ZXJTdG9yYWdlLnN5bmNocm9uaXplclxuICAgIC5pc0V4ZWN1dGluZyh1cmwpIHx8IGlzRG5yU3Vic2NyaXB0aW9uVXBkYXRpbmcodXJsKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYWRkKHVybCwgcHJvcGVydGllcyA9IHt9KSB7XG4gIGlmICghU3Vic2NyaXB0aW9uLmlzVmFsaWRVUkwodXJsKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzdWJzY3JpcHRpb24gVVJMIHByb3ZpZGVkOiAke3VybH1gKTtcbiAgfVxuXG4gIGxldCB7ZmlsdGVyU3RvcmFnZX0gPSBmaWx0ZXJFbmdpbmU7XG5cbiAgbGV0IHN1YnNjcmlwdGlvbiA9IFN1YnNjcmlwdGlvbi5mcm9tVVJMKHVybCk7XG5cbiAgaWYgKGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0ICYmICFzdWJzY3JpcHRpb24uZG93bmxvYWRhYmxlKSB7XG4gICAgbGV0IHN1YnNjcmlwdGlvbkluZm8gPSBhZGRvbkJ1bmRsZWRTdWJzY3JpcHRpb25zLmZpbmQoeCA9PiB4LnVybCA9PSB1cmwpO1xuICAgIGxldCBmaWx0ZXJUZXh0O1xuICAgIGxldCBwYXJhbXM7XG4gICAgdHJ5IHtcbiAgICAgICh7ZmlsdGVyVGV4dCwgcGFyYW1zfSA9IGF3YWl0IGdldEZpbHRlclRleHQoXG4gICAgICAgIHN1YnNjcmlwdGlvbkluZm8sIGFkZG9uQnVuZGxlZFN1YnNjcmlwdGlvbnNQYXRoKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAvLyBXZSBhbHJlYWR5IHdhcm4gaWYgdGhlIGZpbGUgZG9lc24ndCBleGlzdCBvbiBzdGFydHVwLCBzb1xuICAgICAgLy8gd2UgY2FuIGlnbm9yZSBhbiBlcnJvciBsb2FkaW5nIHRoZSBidW5kbGVkIGZpbGUgaGVyZS5cbiAgICB9XG5cbiAgICBpZiAoZmlsdGVyVGV4dCkge1xuICAgICAgc3Vic2NyaXB0aW9uLnNldEZpbHRlclRleHQoZmlsdGVyVGV4dCk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcykge1xuICAgICAgc3Vic2NyaXB0aW9uLnNldFBhcmFtcyhwYXJhbXMpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChcInRpdGxlXCIgaW4gcHJvcGVydGllcykge1xuICAgIHN1YnNjcmlwdGlvbi50aXRsZSA9IHByb3BlcnRpZXMudGl0bGU7XG4gIH1cbiAgaWYgKFwiaG9tZXBhZ2VcIiBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgc3Vic2NyaXB0aW9uLmhvbWVwYWdlID0gcHJvcGVydGllcy5ob21lcGFnZTtcbiAgfVxuICBpZiAoXCJkb3dubG9hZENvdW50XCIgaW4gcHJvcGVydGllcykge1xuICAgIHN1YnNjcmlwdGlvbi5kb3dubG9hZENvdW50ID0gcHJvcGVydGllcy5kb3dubG9hZENvdW50O1xuICB9XG4gIGlmIChcInZlcnNpb25cIiBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgc3Vic2NyaXB0aW9uLnZlcnNpb24gPSBwcm9wZXJ0aWVzLnZlcnNpb247XG4gIH1cbiAgaWYgKFwibGFzdERvd25sb2FkXCIgaW4gcHJvcGVydGllcykge1xuICAgIHN1YnNjcmlwdGlvbi5sYXN0RG93bmxvYWQgPSBwcm9wZXJ0aWVzLmxhc3REb3dubG9hZDtcbiAgfVxuICBpZiAoXCJwcml2aWxlZ2VkXCIgaW4gcHJvcGVydGllcykge1xuICAgIHN1YnNjcmlwdGlvbi5wcml2aWxlZ2VkID0gcHJvcGVydGllcy5wcml2aWxlZ2VkO1xuICB9XG4gIGlmIChcImRpZmZVUkxcIiBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgc3Vic2NyaXB0aW9uLmRpZmZVUkwgPSBwcm9wZXJ0aWVzLmRpZmZVUkw7XG4gIH1cbiAgaWYgKFwibGFzdE1vZGlmaWVkXCIgaW4gcHJvcGVydGllcykge1xuICAgIHN1YnNjcmlwdGlvbi5sYXN0TW9kaWZpZWQgPSBwcm9wZXJ0aWVzLmxhc3RNb2RpZmllZDtcbiAgfVxuXG4gIGZpbHRlclN0b3JhZ2UuYWRkU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG5cbiAgaWYgKGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0ICYmICFzdWJzY3JpcHRpb24uZG93bmxvYWRhYmxlKSB7XG4gICAgYXdhaXQgZW5hYmxlUnVsZXNldChzdWJzY3JpcHRpb24uaWQpO1xuICB9XG5cbiAgaWYgKCFzdWJzY3JpcHRpb24ubGFzdERvd25sb2FkICYmXG4gICAgICAhaXNTeW5jaHJvbml6aW5nKHN1YnNjcmlwdGlvbi51cmwpKSB7XG4gICAgZmlsdGVyU3RvcmFnZS5zeW5jaHJvbml6ZXIuZXhlY3V0ZShzdWJzY3JpcHRpb24pO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRpc2FibGUodXJsKSB7XG4gIGxldCBzdWJzY3JpcHRpb24gPSBnZXRTdWJzY3JpcHRpb24odXJsKTtcblxuICBpZiAoIXN1YnNjcmlwdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihgU3Vic2NyaXB0aW9uIGRvZXMgbm90IGV4aXN0OiAke3VybH1gKTtcbiAgfVxuXG4gIHN1YnNjcmlwdGlvbi5kaXNhYmxlZCA9IHRydWU7XG5cbiAgaWYgKGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0KSB7XG4gICAgaWYgKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIEZ1bGxVcGRhdGFibGVTdWJzY3JpcHRpb24pIHtcbiAgICAgIGF3YWl0IGRpc2FibGVEeW5hbWljUnVsZXMoc3Vic2NyaXB0aW9uLnVybCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYXdhaXQgZGlzYWJsZVJ1bGVzZXQoc3Vic2NyaXB0aW9uLmlkKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbWlncmF0aW9uTmVlZGVkKCkge1xuICBpZiAoYnJvd3Nlci5ydW50aW1lLmdldE1hbmlmZXN0KCkubWFuaWZlc3RfdmVyc2lvbiA9PSAyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZm9yIChsZXQgc3Vic2NyaXB0aW9uIG9mIGZpbHRlckVuZ2luZS5maWx0ZXJTdG9yYWdlLnN1YnNjcmlwdGlvbnMoKSkge1xuICAgIGlmIChzdWJzY3JpcHRpb24uZG93bmxvYWRhYmxlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtTdWJzY3JpcHRpb259IHN1YnNjcmlwdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IGVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYXZlTWlncmF0aW9uRXJyb3Ioc3Vic2NyaXB0aW9uLCBlcnJvcikge1xuICBsZXQgZXJyb3JzID0gUHJlZnMubWlncmF0aW9uX3N1YnNjcmlwdGlvbl9lcnJvcnM7XG4gIGVycm9ycy5wdXNoKHtzdWJzY3JpcHRpb24sIGVycm9yfSk7XG4gIFByZWZzLm1pZ3JhdGlvbl9zdWJzY3JpcHRpb25fZXJyb3JzID0gZXJyb3JzO1xufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGUoKSB7XG4gIGF3YWl0IGluaXRpYWxpemVyLnN0YXJ0KCk7XG5cbiAgaWYgKCFtaWdyYXRpb25OZWVkZWQoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBkb3dubG9hZGFibGVzID0gYXdhaXQgZ2V0U3Vic2NyaXB0aW9ucygpO1xuICBmb3IgKGxldCBkb3dubG9hZGFibGUgb2YgZG93bmxvYWRhYmxlcykge1xuICAgIC8vIHNvbWUgc3Vic2NyaXB0aW9ucyBhcmUgYWxyZWFkeSBgQ291bnRhYmxlU3Vic2NyaXB0aW9uYCxcbiAgICAvLyB0aGF0IHdlcmUgbWlncmF0ZWQgZnJvbSBNVjIgdG8gTVYzIHdpdGhvdXQgZGlmZiB1cGRhdGVkLlxuICAgIGlmICghZG93bmxvYWRhYmxlLmRvd25sb2FkYWJsZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgYXdhaXQgcmVtb3ZlKGRvd25sb2FkYWJsZS51cmwpOyAvLyBNVjIgVVJMXG4gICAgdHJ5IHtcbiAgICAgIG1pZ3JhdGVTdWJzY3JpcHRpb25Ub012Myhkb3dubG9hZGFibGUpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgc2F2ZU1pZ3JhdGlvbkVycm9yKGRvd25sb2FkYWJsZSwgZS5tZXNzYWdlKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbnN1cmVETlJSdWxlc2V0c0VuYWJsZWQoKSB7XG4gIGlmIChicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdCkge1xuICAgIGxldCBlbmFibGVkSXRlbXMgPSBhd2FpdCBicm93c2VyLmRlY2xhcmF0aXZlTmV0UmVxdWVzdC5nZXRFbmFibGVkUnVsZXNldHMoKTtcblxuICAgIGZvciAobGV0IHN1YnNjcmlwdGlvbiBvZiBmaWx0ZXJFbmdpbmUuZmlsdGVyU3RvcmFnZS5zdWJzY3JpcHRpb25zKCkpIHtcbiAgICAgIGlmICghZW5hYmxlZEl0ZW1zLmluY2x1ZGVzKHN1YnNjcmlwdGlvbi5pZCkgJiYgIXN1YnNjcmlwdGlvbi5kaXNhYmxlZCkge1xuICAgICAgICBlbmFibGVSdWxlc2V0KHN1YnNjcmlwdGlvbi5pZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIFRoZSBVUkwgb2YgdGhlIEFjY2VwdGFibGUgQWRzIHN1YnNjcmlwdGlvbi5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIGdldCBBQ0NFUFRBQkxFX0FEU19VUkwoKSB7XG4gICAgcmV0dXJuIGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0ID9cbiAgICAgIEFDQ0VQVEFCTEVfQURTX01WM19VUkwgOlxuICAgICAgQUNDRVBUQUJMRV9BRFNfTVYyX1VSTDtcbiAgfSxcblxuICAvKipcbiAgICogVGhlIFVVSUQgb2YgdGhlIEFjY2VwdGFibGUgQWRzIHN1YnNjcmlwdGlvbi5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIEFDQ0VQVEFCTEVfQURTX0lELFxuXG4gIC8qKlxuICAgKiBUaGUgVVJMIG9mIHRoZSBBY2NlcHRhYmxlIEFkc1xuICAgKiB3aXRob3V0IHRoaXJkLXBhcnR5IHRyYWNraW5nIHN1YnNjcmlwdGlvbi5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIGdldCBBQ0NFUFRBQkxFX0FEU19QUklWQUNZX1VSTCgpIHtcbiAgICByZXR1cm4gYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QgP1xuICAgICAgQUNDRVBUQUJMRV9BRFNfUFJJVkFDWV9NVjNfVVJMIDpcbiAgICAgIEFDQ0VQVEFCTEVfQURTX1BSSVZBQ1lfTVYyX1VSTDtcbiAgfSxcblxuICAvKipcbiAgICogVGhlIFVVSUQgb2YgdGhlIEFjY2VwdGFibGUgQWRzIHdpdGhvdXQgdGhpcmQtcGFydHkgdHJhY2tpbmcgc3Vic2NyaXB0aW9uLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgQUNDRVBUQUJMRV9BRFNfUFJJVkFDWV9JRCxcblxuICAvKipcbiAgICogQSByZXNvdXJjZSB0aGF0IHByb3ZpZGVzIGEgbGlzdCBvZiBmaWx0ZXJzIHRoYXQgZGVjaWRlIHdoYXQgdG8gYmxvY2suXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IFN1YnNjcmlwdGlvblxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGRvd25sb2FkYWJsZSBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIHN1YnNjcmlwdGlvbiBpc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZGVkIGFuZCB1cGRhdGVkIHdpdGggZnVsbCB1cGRhdGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlciB0aGUgbmV0d29yay5cbiAgICogQHByb3BlcnR5IHtib29sZWFufSB1cGRhdGFibGUgSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBzdWJzY3JpcHRpb24gY2FuIGJlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgd2l0aCBlaXRoZXIgZnVsbCBvciBkaWZmIHVwZGF0ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyIHRoZSBuZXR3b3JrLlxuICAgKiBAcHJvcGVydHkgez9zdHJpbmd9IGRpZmZVUkwgVGhlIFVSTCBvZiBkaWZmIHVwZGF0ZXMgZW5kcG9pbnQgZm9yXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaWZmVXBkYXRhYmxlU3Vic2NyaXB0aW9ucyBpbiBNVjMuXG4gICAqIEBwcm9wZXJ0eSB7P2Jvb2xlYW59IGRvd25sb2FkaW5nIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzdWJzY3JpcHRpb24gaXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5IGRvd25sb2FkaW5nICh1cGRhdGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucyBvbmx5KS5cbiAgICogQHByb3BlcnR5IHs/c3RyaW5nfSBkb3dubG9hZFN0YXR1cyBUaGUgc3RhdHVzIG9mIHRoZSBtb3N0IHJlY2VudCBkb3dubG9hZFxuICAgKiAgIGF0dGVtcHQgKHVwZGF0YWJsZSBzdWJzY3JpcHRpb25zIG9ubHkpLiBJdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHZhbHVlczpcbiAgICogLSBgc3luY2hyb25pemVfb2tgIC0gVGhlIHN1YnNjcmlwdGlvbiBpcyBwZXJmZWN0bHkgZmluZS5cbiAgICogLSBgc3luY2hyb25pemVfY29ubmVjdGlvbl9lcnJvcmAgLSBBbiBlcnJvciBoYXMgb2NjdXJyZWQgd2hlbiB0cnlpbmcgdG9cbiAgICogICBkb3dubG9hZCB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKiAtIGBzeW5jaHJvbml6ZV9pbnZhbGlkX3VybGAgLSBUaGUgc3Vic2NyaXB0aW9uIFVSTCBpcyBpbnZhbGlkLlxuICAgKiAtIGBzeW5jaHJvbml6ZV9pbnZhbGlkX2RhdGFgIC0gVGhlIGRvd25sb2FkZWQgZGF0YSBkb2VzIG5vdCBoYXZlIHRoZVxuICAgKiAgIGV4cGVjdGVkIGZvcm1hdC5cbiAgICogLSBgc3luY2hyb25pemVfdG9vX21hbnlfZmlsdGVyc2AgLSBBIGN1c3RvbSB1c2VyIHN1YnNjcmlwdGlvbiBjYW5ub3RcbiAgICogICB1cGRhdGUgYmVjYXVzZSB0aGVyZSBhcmVuJ3QgZW5vdWdoIGR5bmFtaWMgcnVsZXMgYXZhaWxhYmxlLlxuICAgKiAtIGBzeW5jaHJvbml6ZV9kbnJfZXJyb3JgIC0gRG93bmxvYWRpbmcgc3VjY2VlZGVkIGJ1dCwgYW4gZXJyb3Igb2NjdXJyZWRcbiAgICogICB3aGlsZSB1cGRhdGluZyB0aGUgY3VzdG9tIHN1YnNjcmlwdGlvbi5cbiAgICogLSBgc3luY2hyb25pemVfZGlmZl90b29fbWFueV9maWx0ZXJzYCAtIEEgZGlmZiB1cGRhdGFibGUgc3Vic2NyaXB0aW9uXG4gICAqICAgY2Fubm90IHVwZGF0ZSBiZWNhdXNlIHRoZXJlIGFyZW4ndCBlbm91Z2ggZHluYW1pYyBydWxlcyBhdmFpbGFibGUuXG4gICAqIC0gYHN5bmNocm9uaXplX2RpZmZfdG9vX29sZGAgLSBBbiBlcnJvciBvY2N1cnJlZCB3aGVuIHRyeWluZyB0byBkb3dubG9hZFxuICAgKiAgIHRoZSBkaWZmcy4gVGhlIGJ1bmRsZWQgc3Vic2NyaXB0aW9uIGlzIHRvbyBvbGQuXG4gICAqIC0gYHN5bmNocm9uaXplX2RpZmZfZXJyb3JgIC0gRG93bmxvYWRpbmcgc3VjY2VlZGVkIGJ1dCwgYW4gZXJyb3Igb2NjdXJyZWRcbiAgICogICB3aGlsZSB1cGRhdGluZyB0aGUgZGlmZiB1cGRhdGFibGUgc3Vic2NyaXB0aW9uLlxuICAgKiAtIG51bGwgLSBUaGUgaW5pdGlhbCBkb3dubG9hZCBpcyBub3QgY29tcGxldGVkIHlldCwgb3IgdGhlIHN1YnNjcmlwdGlvbiBpc1xuICAgKiAgIG5vdCB1cGRhdGFibGUuXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZW5hYmxlZCBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIHN1YnNjcmlwdGlvbiB3aWxsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBhcHBsaWVkLlxuICAgKiBAcHJvcGVydHkgez9udW1iZXJ9IGV4cGlyZXMgRXBvY2ggdGltZSB3aGVuIHRoZSBzdWJzY3JpcHRpb24gbXVzdCBiZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRlZCAoZG93bmxvYWRhYmxlIHN1YnNjcmlwdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubHkpLlxuICAgKiBAcHJvcGVydHkgez9zdHJpbmd9IGhvbWVwYWdlIFdlYnNpdGUgb2YgdGhlIHByb2plY3QgdGhhdCBtYW5hZ2VzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWx0ZXIgbGlzdC5cbiAgICogQHByb3BlcnR5IHs/bnVtYmVyfSBsYXN0RG93bmxvYWQgRXBvY2ggdGltZSB3aGVuIHRoZSBzdWJzY3JpcHRpb25cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FzIGxhc3QgZG93bmxvYWRlZCB0byB5b3VyIG1hY2hpbmVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRvd25sb2FkYWJsZSBzdWJzY3JpcHRpb25zIG9ubHkpLlxuICAgKiBAcHJvcGVydHkgez9zdHJpbmd9IGxhc3RNb2RpZmllZCBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGRhdGUgd2hlbiB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyIGxpc3Qgd2FzIGxhc3QgbW9kaWZpZWQuIEluIGNhc2Ugb2ZcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBEaWZmVXBkYXRhYmxlU3Vic2NyaXB0aW9uLCBpdCBpcyB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZSBkYXRlIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBkaWZmcy5cbiAgICogQHByb3BlcnR5IHs/bnVtYmVyfSBsYXN0U3VjY2VzcyBFcG9jaCB0aW1lIHdoZW4gdGhpcyBzdWJzY3JpcHRpb24gd2FzIGxhc3RcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzZnVsbHkgZG93bmxvYWRlZCAoZG93bmxvYWRhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucyBvbmx5KS5cbiAgICogQHByb3BlcnR5IHs/Ym9vbGVhbn0gcHJpdmlsZWdlZCBUcnVlIGlmIHRoaXMgc3Vic2NyaXB0aW9uIGNhbiBsb2FkIGZpbHRlcnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0IHJlcXVpcmUgcHJpdmlsZWdlZCBhY2Nlc3MsIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbmlwcGV0cy5cbiAgICogQHByb3BlcnR5IHs/bnVtYmVyfSBzb2Z0RXhwaXJhdGlvbiBFcG9jaCB0aW1lIGZvciB0aGUgbmV4dCBhdHRlbXB0IHRvXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWQgdGhlIHN1YnNjcmlwdGlvbi4gQ2FuIGJlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZCBldmVuIGlmIHRoZSBzdWJzY3JpcHRpb24gd2FzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90IGRvd25sb2FkZWQuIElmIGBleHBpcmVzYCBpcyBjbG9zZXIsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbiBgZXhwaXJlc2AgcHJldmFpbC4gKGRvd25sb2FkYWJsZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMgb25seSkuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0aXRsZSBUaGUgZGlzcGxheSBuYW1lIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIGZhbGxzIGJhY2sgdG8gdGhlIFVSTC5cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHVybCBXaGVyZSB0aGUgc3Vic2NyaXB0aW9uIGNhbiBiZSBmb3VuZCBpbiBwbGFpbiB0ZXh0LlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIFVzZWQgYSB0aGUgaWRlbnRpZmllci5cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHZlcnNpb24gVGhlIHZlcnNpb24gcHJvdmlkZWQgYnkgdGhlIHN1YnNjcmlwdGlvbidzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLiBEZWZhdWx0cyB0byAnMCcgaWYgbm90IHByb3ZpZGVkLiBJdFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWdodCBiZSBzZXQgaWYgdGhlIHN1YnNjcmlwdGlvbiBpcyBub3RcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRhYmxlLlxuICAgKi9cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBzdWJzY3JpcHRpb24gZnJvbSBhIGdpdmVuIFVSTC4gVGhlIHN1YnNjcmlwdGlvbiBhbHNvIGdldHNcbiAgICogc3luY2hyb25pc2VkIGlmIGl0IGhhZCBub3QgYmVlbiBwcmV2aW91c2x5IGRvd25sb2FkZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCBvZiB0aGUgc3Vic2NyaXB0aW9uIHRvIGJlIGFkZGVkLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW3Byb3BlcnRpZXNdIEFuIG9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgdG8gYmVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQgb24gdGhlIG5ldyBzdWJzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJvcGVydGllcy50aXRsZV0gVGhlIGRpc3BsYXkgbmFtZSBvZiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBwcm92aWRlZCwgZmFsbHMgYmFjayB0byB0aGUgVVJMLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3Byb3BlcnRpZXMuaG9tZXBhZ2VdIFdlYnNpdGUgb2YgdGhlIHByb2plY3QgdGhhdFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbmFnZXMgdGhpcyBmaWx0ZXIgbGlzdC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5wcml2aWxlZ2VkXSBXaGV0aGVyIG9yIG5vdCB0aGlzIHN1YnNjcmlwdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGFsbG93ZWQgdG8gcnVuIHNuaXBwZXRzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKiBAdGhyb3dzIHtFcnJvcn0gSW52YWxpZCBzdWJzY3JpcHRpb24gVVJMIHByb3ZpZGVkLlxuICAgKi9cbiAgYWRkLFxuXG4gIC8qKlxuICAgKiBBZGRzIGEgbGlzdCBvZiBkZWZhdWx0IHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGJ1bmRsZWRcbiAgICogc3Vic2NyaXB0aW9ucyBmcm9tIHRoZSBFV0Uuc3RhcnQoKSBjYWxsLlxuICAgKiBTdWJzY3JpcHRpb25zIGFyZSBzZWxlY3RlZCBiYXNlZCBvbiByZWxldmFudCBsYW5ndWFnZSwgdHlwZSBvZlxuICAgKiBjaXJjdW12ZW50aW9uLCBhbmQgdHlwZSBvZiBhbGxvd2luZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFt1aUxhbmd1YWdlXSBUaGUgcmVsZXZhbnQgbGFuZ3VhZ2UgdXNlZCBmb3JcbiAgICogZGV0ZXJtaW5pbmcgd2hpY2ggc3Vic2NyaXB0aW9ucyB0byBhZGQuIElmIG9taXR0ZWQsXG4gICAqIGJyb3dzZXIuaTE4bi5nZXRVSUxhbmd1YWdlIHdpbGwgYmUgdXNlZC4gSWZcbiAgICogYnJvd3Nlci5pMThuLmdldFVJTGFuZ3VhZ2UgaXMgdW5hdmFpbGFibGUsIG5hdmlnYXRvci5sYW5ndWFnZSBpc1xuICAgKiB1c2VkLlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gTm8gZGVmYXVsdCBsYW5ndWFnZSBzdWJzY3JpcHRpb25cbiAgICogQHRocm93cyB7RXJyb3J9IE5vIGFudGktY2lyY3VtdmVudGlvbiBzdWJzY3JpcHRpb25cbiAgICogQHRocm93cyB7RXJyb3J9IE5vIGFsbG93aW5nIHN1YnNjcmlwdGlvblxuICAgKiBAc2VlIHtAbGluayAjc3RhcnR8c3RhcnQoKX1cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIGFkZERlZmF1bHRzKHVpTGFuZ3VhZ2UpIHtcbiAgICBsZXQgc3Vic2NyaXB0aW9ucyA9IFtdO1xuXG4gICAgaWYgKHNob3VsZEFkZERlZmF1bHRTdWJzY3JpcHRpb25zKCkpIHtcbiAgICAgIGxldCBkZWZhdWx0U3Vic2NyaXB0aW9ucyA9IGdldERlZmF1bHRTdWJzY3JpcHRpb25zKHVpTGFuZ3VhZ2UpO1xuICAgICAgaWYgKCFkZWZhdWx0U3Vic2NyaXB0aW9ucy5oYXNEZWZhdWx0TGFuZykge1xuICAgICAgICB0aHJvdyBFcnJvcihcIk5vIGRlZmF1bHQgbGFuZ3VhZ2Ugc3Vic2NyaXB0aW9uXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWRlZmF1bHRTdWJzY3JpcHRpb25zLmhhc0FudGlDVikge1xuICAgICAgICB0aHJvdyBFcnJvcihcIk5vIGFudGktY2lyY3VtdmVudGlvbiBzdWJzY3JpcHRpb25cIik7XG4gICAgICB9XG5cbiAgICAgIGlmICghZGVmYXVsdFN1YnNjcmlwdGlvbnMuaGFzQUEpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJObyBhbGxvd2luZyBzdWJzY3JpcHRpb25cIik7XG4gICAgICB9XG5cbiAgICAgIHN1YnNjcmlwdGlvbnMucHVzaCguLi5kZWZhdWx0U3Vic2NyaXB0aW9ucy5jaG9zZW5TdWJzY3JpcHRpb25zKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBzdWJzY3JpcHRpb24gb2Ygc3Vic2NyaXB0aW9ucykge1xuICAgICAgYXdhaXQgdGhpcy5hZGQoYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QgP1xuICAgICAgICBzdWJzY3JpcHRpb24udXJsIDogc3Vic2NyaXB0aW9uLm12MlVSTCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHN1YnNjcmlwdGlvbiBvYmplY3RzIGZvciBhbGwgc3Vic2NyaXB0aW9ucyB0aGF0IGFyZVxuICAgKiBkb3dubG9hZGVkIGFuZCB1cGRhdGVkIG92ZXIgdGhlIG5ldHdvcmsuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8U3Vic2NyaXB0aW9uPj59XG4gICAqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgI2dldFN1YnNjcmlwdGlvbnN8Z2V0U3Vic2NyaXB0aW9ucygpfSBpbnN0ZWFkXG4gICAqL1xuICBhc3luYyBnZXREb3dubG9hZGFibGUoKSB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9ucyA9IGdldFN1YnNjcmlwdGlvbnMoKTtcbiAgICByZXR1cm4gc3Vic2NyaXB0aW9ucy5tYXAoZWFjaCA9PiB7XG4gICAgICBkZWxldGUgZWFjaC51cGRhdGFibGU7IC8vIG5ld2x5IGludHJvZHVjZWRcbiAgICAgIHJldHVybiBlYWNoO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHN1YnNjcmlwdGlvbiBvYmplY3RzIGZvciBhbGwgc3Vic2NyaXB0aW9ucyB0aGF0IGFyZVxuICAgKiBkb3dubG9hZGVkIGFuZCB1cGRhdGVkIG92ZXIgdGhlIG5ldHdvcmsuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8U3Vic2NyaXB0aW9uPj59XG4gICAqL1xuICBhc3luYyBnZXRTdWJzY3JpcHRpb25zKCkge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSBnZXRTdWJzY3JpcHRpb25zKCk7XG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvbnMubWFwKGVhY2ggPT4ge1xuICAgICAgZGVsZXRlIGVhY2guZG93bmxvYWRhYmxlOyAvLyBkZXByZWNhdGVkXG4gICAgICByZXR1cm4gZWFjaDtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBzdWJzY3JpcHRpb24gb2JqZWN0cyBmb3IgYSBnaXZlbiBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSBmaWx0ZXIgcnVsZSBmb3Igd2hpY2ggdG8gbG9vay5cbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxTdWJzY3JpcHRpb24+Pn1cbiAgICovXG4gIGFzeW5jIGdldEZvckZpbHRlcih0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQgPyBBcnJheS5mcm9tKGZpbHRlckVuZ2luZS5maWx0ZXJTdG9yYWdlLnN1YnNjcmlwdGlvbnModGV4dCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRTdWJzY3JpcHRpb24pIDogW107XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZpbHRlciBsaXN0IG9mIGEgZ2l2ZW4gc3Vic2NyaXB0aW9uIFVSTC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8RmlsdGVyPj59IEZpbHRlcnMgZnJvbSB0aGUgc3Vic2NyaXB0aW9uLlxuICAgKi9cbiAgYXN5bmMgZ2V0RmlsdGVycyh1cmwpIHtcbiAgICBsZXQgc3Vic2NyaXB0aW9uID0gZ2V0U3Vic2NyaXB0aW9uKHVybCk7XG4gICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20oc3Vic2NyaXB0aW9uLmZpbHRlclRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPT4gY29udmVydEZpbHRlcihGaWx0ZXIuZnJvbVRleHQodGV4dCkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW107XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIHN1YnNjcmlwdGlvbiBoYXMgYmVlbiBhZGRlZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIG9mIHRoZSBzdWJzY3JpcHRpb24gdG8gYmUgY2hlY2tlZC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxib29sZWFuPn0gVHJ1ZSBpZiBhIHN1YnNjcmlwdGlvbiBoYXMgYmVlbiBhZGRlZC5cbiAgICogQHRocm93cyB7VHlwZUVycm9yfSBJbnZhbGlkIFVSTCBwcm92aWRlZC5cbiAgICovXG4gIGFzeW5jIGhhcyh1cmwpIHtcbiAgICByZXR1cm4gZ2V0U3Vic2NyaXB0aW9uKG5ldyBVUkwodXJsKS5ocmVmKSAhPSBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFbmFibGVzIGEgcHJldmlvdXNseSBkaXNhYmxlZCBzdWJzY3JpcHRpb24uIEhhcyBubyBlZmZlY3Qgb3RoZXJ3aXNlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgb2YgdGhlIHN1YnNjcmlwdGlvbiB0byBiZSBlbmFibGVkLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKiBAdGhyb3dzIHtFcnJvcn0gU3Vic2NyaXB0aW9uIGRvZXMgbm90IGV4aXN0LlxuICAgKi9cbiAgYXN5bmMgZW5hYmxlKHVybCkge1xuICAgIGxldCBzdWJzY3JpcHRpb24gPSBnZXRTdWJzY3JpcHRpb24odXJsKTtcblxuICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFN1YnNjcmlwdGlvbiBkb2VzIG5vdCBleGlzdDogJHt1cmx9YCk7XG4gICAgfVxuXG4gICAgaWYgKGJyb3dzZXIuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0KSB7XG4gICAgICBpZiAoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgRnVsbFVwZGF0YWJsZVN1YnNjcmlwdGlvbikge1xuICAgICAgICBhd2FpdCByZXN0b3JlRHluYW1pY1J1bGVzKHN1YnNjcmlwdGlvbi51cmwpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGF3YWl0IGVuYWJsZVJ1bGVzZXQoc3Vic2NyaXB0aW9uLmlkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOb3RlOiB3ZSBtdXN0IG1hcmsgdGhlIHN1YnNjcmlwdGlvbiBhcyBlbmFibGVkIGFmdGVyXG4gICAgLy8gd2UgYWN0dWFsbHkgZmluaXNoIHdpdGggdGhlIHJlc3RvcmluZyBvZiBkeW5hbWljIHJ1bGVzXG4gICAgLy8gYXMgbWFya2luZyBzdWJzY3JpcHRpb24gYXMgZW5hYmxlZCB0cmlnZ2VycyB0aGUgc3Vic2NyaXB0aW9uIHVwZGF0ZSxcbiAgICAvLyBhbmQgdGhlIGRpZmYgdXBkYXRlIHByb2Nlc3Npbmcgd2hpY2ggaW5jbHVkZXMgZHluYW1pYyBydWxlcyBvcGVyYXRpb25zXG4gICAgLy8gY2FuIGhhcHBlbiBpbiBwYXJhbGxlbCB3aXRoIHJlc3RvcmluZyBvZiBkeW5hbWljIHJ1bGVzIGhlcmUuXG4gICAgc3Vic2NyaXB0aW9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIERpc2FibGVzIGEgc3Vic2NyaXB0aW9uIHNvIHRoYXQgaXQgZG9lc24ndCBoYXZlIGFueVxuICAgKiBlZmZlY3QgdW50aWwgaXQgZ2V0cyBlbmFibGVkIGFnYWluLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgb2YgdGhlIHN1YnNjcmlwdGlvbiB0byBiZSBkaXNhYmxlZC5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICogQHRocm93cyB7RXJyb3J9IFN1YnNjcmlwdGlvbiBkb2VzIG5vdCBleGlzdC5cbiAgICovXG4gIGRpc2FibGUsXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIHN1YnNjcmlwdGlvbiBmb3IgdGhlIGdpdmVuIFVSTC5cbiAgICogSXQgd2lsbCBubyBsb25nZXIgaGF2ZSBhbnkgZWZmZWN0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgb2YgdGhlIHN1YnNjcmlwdGlvbiB0byBiZSByZW1vdmVkLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKiBAdGhyb3dzIHtFcnJvcn0gU3Vic2NyaXB0aW9uIGRvZXMgbm90IGV4aXN0LlxuICAgKi9cbiAgcmVtb3ZlLFxuXG4gIC8qKlxuICAgKiBGb3JjZXMgYSBuZXcgdmVyc2lvbiBvZiBhIHN1YnNjcmlwdGlvbiB3aXRoIHRoZVxuICAgKiBnaXZlbiBVUkwgdG8gYmUgZG93bmxvYWRlZCBpbW1lZGlhdGVseS5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBbdXJsXSBUaGUgVVJMIG9mIHRoZSBzdWJzY3JpcHRpb24gdG8gYmUgc3luY2hyb25pemVkLlxuICAgKiAgIElmIG9taXR0ZWQsIGFsbCBzdWJzY3JpcHRpb25zIHdpbGwgYmUgc3luY2hyb25pemVkLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyB3aGVuIHN5bmNpbmcgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5XG4gICAqICAgdHJpZ2dlcmVkLiBTeW5jaW5nIG1heSBub3QgYmUgY29tcGxldGVkIHdoZW4gdGhpcyBwcm9taXNlXG4gICAqICAgcmVzb2x2ZXMuXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBTdWJzY3JpcHRpb24gZG9lcyBub3QgZXhpc3QuXG4gICAqL1xuICBhc3luYyBzeW5jKHVybCkge1xuICAgIGxldCBzdWJzY3JpcHRpb25zID0gW107XG4gICAgbGV0IHtmaWx0ZXJTdG9yYWdlfSA9IGZpbHRlckVuZ2luZTtcblxuICAgIGlmICh1cmwpIHtcbiAgICAgIGxldCBzdWJzY3JpcHRpb24gPSBnZXRTdWJzY3JpcHRpb24odXJsKTtcblxuICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdWJzY3JpcHRpb24gZG9lcyBub3QgZXhpc3Q6ICR7dXJsfWApO1xuICAgICAgfVxuXG4gICAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBmb3IgKGxldCBzdWJzY3JpcHRpb24gb2YgZmlsdGVyU3RvcmFnZS5zdWJzY3JpcHRpb25zKCkpIHtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFJlZ3VsYXJTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBzdWJzY3JpcHRpb24gb2Ygc3Vic2NyaXB0aW9ucykge1xuICAgICAgaWYgKCFpc1N5bmNocm9uaXppbmcoc3Vic2NyaXB0aW9uLnVybCkpIHtcbiAgICAgICAgZmlsdGVyU3RvcmFnZS5zeW5jaHJvbml6ZXIuZXhlY3V0ZShzdWJzY3JpcHRpb24sIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgcmVjb21tZW5kZWQgZmlsdGVyIHN1YnNjcmlwdGlvbnMgcGVyIGxhbmd1YWdlLlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBSZWNvbW1lbmRhdGlvblxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gaWQgVGhlIGlkZW50aWZpZXIgZm9yIHRoaXMgc3Vic2NyaXB0aW9uLlxuICAgKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IGxhbmd1YWdlcyBUaGUgbGFuZ3VhZ2VzIHRoYXQgdGhpcyByZWNvbW1lbmRhdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd291bGQgbWF0Y2ggdG8uXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0aXRsZSBUaGUgZGlzcGxheSBuYW1lIG9mIHRoZSByZWNvbW1lbmRlZCBzdWJzY3JpcHRpb24uXG4gICAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gcmVxdWlyZXMgQSBsaXN0IG9mIHN1YnNjcmlwdGlvbnMgdGhhdCB0aGlzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lIGRlcGVuZHMgb24uXG4gICAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gaW5jbHVkZXMgQSBsaXN0IG9mIHN1YnNjcmlwdGlvbnMgdGhhdCB0aGlzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lIGFsc28gY29udGFpbnMuXG4gICAqIEBwcm9wZXJ0eSB7P2Jvb2xlYW59IHByaXZpbGVnZWQgVHJ1ZSBpZiB0aGlzIHN1YnNjcmlwdGlvbiBjYW4gbG9hZCBmaWx0ZXJzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdCByZXF1aXJlIHByaXZpbGVnZWQgYWNjZXNzLCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc25pcHBldHMuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRlbnQgdGFyZ2V0ZWQgYnkgdGhpc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICByZWNvbW1lbmRlZCBzdWJzY3JpcHRpb24uXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB1cmwgV2hlcmUgdGhlIHJlY29tbWVuZGVkIHN1YnNjcmlwdGlvbiBjYW4gYmUgZm91bmRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBpbiBwbGFpbiB0ZXh0LlxuICAgKiBAcHJvcGVydHkgez9zdHJpbmd9IG12MlVSTCBXaGVyZSB0aGUgcmVjb21tZW5kZWQgc3Vic2NyaXB0aW9uIGNhbiBiZSBmb3VuZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgTVYyIGluIHBsYWluIHRleHQgKE1hbmlmZXN0IFYzIG9ubHkpLlxuICAgKi9cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgcmVjb21tZW5kZWQgc3Vic2NyaXB0aW9ucy5cbiAgICogQHJldHVybiB7QXJyYXk8UmVjb21tZW5kYXRpb24+fVxuICAgKi9cbiAgZ2V0UmVjb21tZW5kYXRpb25zKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHJlY29tbWVuZGF0aW9ucygpLCBjb252ZXJ0UmVjb21tZW5kYXRpb24pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIE1WMiB0byBNVjMgbWlncmF0aW9uIGVycm9ycyBhbmQgdGhlIHJlbGF0ZWRcbiAgICogc3Vic2NyaXB0aW9uLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PFN1YnNjcmlwdGlvbiwgc3RyaW5nPj59IFRoZSBtaWdyYXRpb24gZXJyb3JzLlxuICAgKi9cbiAgYXN5bmMgZ2V0TWlncmF0aW9uRXJyb3JzKCkge1xuICAgIHJldHVybiBQcmVmcy5taWdyYXRpb25fc3Vic2NyaXB0aW9uX2Vycm9ycztcbiAgfSxcblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSBtaWdyYXRpb24gZXJyb3JzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgYXN5bmMgY2xlYXJNaWdyYXRpb25FcnJvcnMoKSB7XG4gICAgUHJlZnMubWlncmF0aW9uX3N1YnNjcmlwdGlvbl9lcnJvcnMgPSBbXTtcbiAgfSxcblxuICAvKipcbiAgICogRW1pdHRlZCB3aGVuIGEgbmV3IHN1YnNjcmlwdGlvbiBpcyBhZGRlZC5cbiAgICogQGV2ZW50XG4gICAqIEB0eXBlIHtFdmVudERpc3BhdGNoZXI8U3Vic2NyaXB0aW9uPn1cbiAgICovXG4gIG9uQWRkZWQ6IG5ldyBFdmVudERpc3BhdGNoZXIoZGlzcGF0Y2ggPT4ge1xuICAgIGZpbHRlck5vdGlmaWVyLm9uKFwic3Vic2NyaXB0aW9uLmFkZGVkXCIsIG1ha2VMaXN0ZW5lcihkaXNwYXRjaCkpO1xuICB9KSxcblxuICAvKipcbiAgICogRW1pdHRlZCB3aGVuIGFueSBwcm9wZXJ0eSBvZiB0aGUgc3Vic2NyaXB0aW9uIGhhcyBjaGFuZ2VkLlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgc3BlY2lmaWMgcHJvcGVydHkgaXMgcHJvdmlkZWQgYXMgYSBzdHJpbmcsIGV4Y2VwdFxuICAgKiB3aGVuIHRoZSBzdWJzY3JpcHRpb24gaGFzIGJlZW4gdXBkYXRlZCwgd2hlcmUgaXQgd2lsbCBiZSBudWxsLlxuICAgKlxuICAgKiBAZXZlbnRcbiAgICogQHR5cGUge0V2ZW50RGlzcGF0Y2hlcjxTdWJzY3JpcHRpb24sIHN0cmluZz59XG4gICAqL1xuICBvbkNoYW5nZWQ6IG5ldyBFdmVudERpc3BhdGNoZXIoZGlzcGF0Y2ggPT4ge1xuICAgIGZ1bmN0aW9uIG1ha2VDaGFuZ2VMaXN0ZW5lcihwcm9wZXJ0eSkge1xuICAgICAgLy8gVGhpcyBuYW1lIGRpZmZlcnMgYmV0d2VlbiBFV0UgYW5kIGFkYmxvY2twbHVzY29yZS5cbiAgICAgIGlmIChwcm9wZXJ0eSA9PSBcImRpc2FibGVkXCIpIHtcbiAgICAgICAgcHJvcGVydHkgPSBcImVuYWJsZWRcIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbiA9PiB7XG4gICAgICAgIC8vIHRoZSBzdWJzY3JpcHRpb24gbWlnaHQgYmUgYWxyZWFkeSByZW1vdmVkLFxuICAgICAgICAvLyBzbyB3ZSBtaWdodCBuZWVkIHRvIHNraXAgZW1pdHRpbmcgZXZlbnRzXG4gICAgICAgIGlmICgoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgUmVndWxhclN1YnNjcmlwdGlvbikgJiZcbiAgICAgICAgICAgICBnZXRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uLnVybCkpIHtcbiAgICAgICAgICBkaXNwYXRjaChjb252ZXJ0U3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbiksIHByb3BlcnR5KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgcHJvcGVydGllcyA9IFtcImRpc2FibGVkXCIsIFwidGl0bGVcIiwgXCJob21lcGFnZVwiLCBcImxhc3REb3dubG9hZFwiLFxuICAgICAgICAgICAgICAgICAgICAgIFwiZG93bmxvYWRTdGF0dXNcIiwgXCJkb3dubG9hZGluZ1wiLCBcInByaXZpbGVnZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICBcImxhc3RNb2RpZmllZFwiXTtcbiAgICBmb3IgKGxldCBwcm9wZXJ0eSBvZiBwcm9wZXJ0aWVzKSB7XG4gICAgICBmaWx0ZXJOb3RpZmllci5vbihgc3Vic2NyaXB0aW9uLiR7cHJvcGVydHl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VDaGFuZ2VMaXN0ZW5lcihwcm9wZXJ0eSkpO1xuICAgIH1cblxuICAgIGZpbHRlck5vdGlmaWVyLm9uKFwic3Vic2NyaXB0aW9uLnVwZGF0ZWRcIiwgbWFrZUNoYW5nZUxpc3RlbmVyKG51bGwpKTtcbiAgfSksXG5cbiAgLyoqXG4gICAqIEVtaXR0ZWQgd2hlbiBhIHN1YnNjcmlwdGlvbiBpcyByZW1vdmVkLlxuICAgKiBAZXZlbnRcbiAgICogQHR5cGUge0V2ZW50RGlzcGF0Y2hlcjxTdWJzY3JpcHRpb24+fVxuICAgKi9cbiAgb25SZW1vdmVkOiBuZXcgRXZlbnREaXNwYXRjaGVyKGRpc3BhdGNoID0+IHtcbiAgICBmaWx0ZXJOb3RpZmllci5vbihcInN1YnNjcmlwdGlvbi5yZW1vdmVkXCIsIG1ha2VMaXN0ZW5lcihkaXNwYXRjaCkpO1xuICB9KVxufTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5pbXBvcnQge3Y0IGFzIHV1aWR2NH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7TUlMTElTX0lOX0hPVVIsIE1JTExJU19JTl9EQVl9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL3RpbWUuanNcIjtcblxuaW1wb3J0IHtQcmVmcywgaW5pdCBhcyBpbml0UHJlZnN9IGZyb20gXCIuL3ByZWZzLmpzXCI7XG5pbXBvcnQgKiBhcyBpbmZvIGZyb20gXCIuL2luZm8uanNcIjtcbmltcG9ydCB7aGFzQWNjZXB0YWJsZUFkc0VuYWJsZWR9IGZyb20gXCIuL3N1YnNjcmlwdGlvbnMuanNcIjtcbmltcG9ydCB7RXZlbnREaXNwYXRjaGVyfSBmcm9tIFwiLi90eXBlcy5qc1wiO1xuaW1wb3J0IHtTY2hlZHVsZXJ9IGZyb20gXCIuL3NjaGVkdWxlci5qc1wiO1xuaW1wb3J0IHtkZWZhdWx0IGFzIGluaXRpYWxpemVyfSBmcm9tIFwiLi9pbml0aWFsaXplci5qc1wiO1xuaW1wb3J0IHt0cmFjZSwgZXJyb3J9IGZyb20gXCIuL2RlYnVnZ2luZy5qc1wiO1xuXG5jb25zdCBURUxFTUVUUllfU1RPUkFHRV9LRVkgPSBcImV3ZTp0ZWxlbWV0cnlcIjtcblxubGV0IHNjaGVkdWxlciA9IG51bGw7XG5sZXQgb25FcnJvciA9IG5ldyBFdmVudERpc3BhdGNoZXIoZGlzcGF0Y2ggPT4ge30pO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqIFN0YXJ0cyB0aGUgdGVsZW1ldHJ5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRlbGVtZXRyeSBUZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoVVJMLCBiZWFyZXIpXG4gKiBAcGFyYW0ge251bWJlcn0gW2ludGVydmFsXVxuICogICAgICAgIFBpbmcgaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzIChkZWZhdWx0OiAxMiBob3VycylcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZXJyb3JSZXRyeURlbGF5XVxuICogICAgICAgIEVycm9yIHJldHJ5IGludGVydmFsIGluIG1pbGxpc2Vjb25kcyAoZGVmYXVsdDogMSBob3VyKVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhcnQodGVsZW1ldHJ5LCBpbnRlcnZhbCA9IDEyICogTUlMTElTX0lOX0hPVVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JSZXRyeURlbGF5ID0gMSAqIE1JTExJU19JTl9IT1VSKSB7XG4gIGlmICghdGVsZW1ldHJ5LnVybCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHRlbGVtZXRyeSBgdXJsYCBwcm92aWRlZFwiKTtcbiAgfVxuXG4gIGlmICghdGVsZW1ldHJ5LmJlYXJlcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHRlbGVtZXRyeSBgYmVhcmVyYCBwcm92aWRlZFwiKTtcbiAgfVxuXG4gIGlmIChzY2hlZHVsZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBhd2FpdCBpbml0UHJlZnMoKTtcblxuICBzY2hlZHVsZXIgPSBuZXcgU2NoZWR1bGVyKHtcbiAgICBpbnRlcnZhbCxcbiAgICBlcnJvclJldHJ5RGVsYXksXG4gICAgbGlzdGVuZXI6ICgpID0+IHBpbmcodGVsZW1ldHJ5KSxcbiAgICBhc3luYyBnZXROZXh0VGltZXN0YW1wKCkge1xuICAgICAgaWYgKFByZWZzLnRlbGVtZXRyeV9vcHRfb3V0KSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpICsgTUlMTElTX0lOX0RBWTtcbiAgICAgIH1cblxuICAgICAgbGV0IHN0b3JhZ2VSZXN1bHQgPSBhd2FpdCBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KFxuICAgICAgICBbVEVMRU1FVFJZX1NUT1JBR0VfS0VZXVxuICAgICAgKTtcbiAgICAgIGxldCBzdG9yYWdlID0gc3RvcmFnZVJlc3VsdFtURUxFTUVUUllfU1RPUkFHRV9LRVldO1xuICAgICAgbGV0IGxhc3RQaW5nID0gc3RvcmFnZSAmJiBzdG9yYWdlLmxhc3RQaW5nO1xuICAgICAgbGV0IGxhc3RFcnJvciA9IHN0b3JhZ2UgJiYgc3RvcmFnZS5sYXN0RXJyb3I7XG5cbiAgICAgIGlmIChsYXN0RXJyb3IpIHtcbiAgICAgICAgbGV0IG5leHRSZXRyeUFmdGVyRXJyb3IgPSBuZXcgRGF0ZShsYXN0RXJyb3IpLmdldFRpbWUoKSArXG4gICAgICAgICAgICBlcnJvclJldHJ5RGVsYXk7XG4gICAgICAgIGxldCBub3dUaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICBsZXQgbWF4TmV4dFJldHJ5ID0gbm93VGltZXN0YW1wICsgZXJyb3JSZXRyeURlbGF5O1xuICAgICAgICBpZiAobmV4dFJldHJ5QWZ0ZXJFcnJvciA+IG1heE5leHRSZXRyeSkge1xuICAgICAgICAgIC8vIFRoaXMgc2hvdWxkbid0IGhhcHBlbiBpZiB0aGUgY2xvY2tzIGFyZSB3b3JraW5nIHJpZ2h0LiBJdCBpbXBsaWVzXG4gICAgICAgICAgLy8gdGhhdCB0aGUgc3lzdGVtIGNsb2NrIGhhcyBiZWVuIHNldCBiYWNrd2FyZHMgc2luY2Ugd2Ugc3RvcmVkIHRoYXRcbiAgICAgICAgICAvLyB0aW1lc3RhbXAuIExldCdzIGNvcnJlY3QgdGhlIHN0b3JhZ2UgdXNpbmcgb3VyIGN1cnJlbnQgY2xvY2tcbiAgICAgICAgICAvLyB2YWx1ZS4gV2Ugc2hvdWxkbid0IGRvIHRoaXMgd2l0aCBsYXN0UGluZyBiZWNhdXNlIGxhc3RQaW5nIGNvbWVzXG4gICAgICAgICAgLy8gZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgIG5leHRSZXRyeUFmdGVyRXJyb3IgPSBtYXhOZXh0UmV0cnk7XG4gICAgICAgICAgYXdhaXQgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7XG4gICAgICAgICAgICBbVEVMRU1FVFJZX1NUT1JBR0VfS0VZXToge1xuICAgICAgICAgICAgICAuLi5zdG9yYWdlLFxuICAgICAgICAgICAgICBsYXN0RXJyb3I6IChuZXcgRGF0ZShub3dUaW1lc3RhbXApKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV4dFJldHJ5QWZ0ZXJFcnJvcjtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxhc3RQaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShsYXN0UGluZykuZ2V0VGltZSgpICsgaW50ZXJ2YWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzZXQoKSB7XG4gIHN0b3AoKTtcbiAgYXdhaXQgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnJlbW92ZShURUxFTUVUUllfU1RPUkFHRV9LRVkpO1xufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3AoKSB7XG4gIGlmICghc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc2NoZWR1bGVyLnN0b3AoKTtcbiAgc2NoZWR1bGVyID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gdHJ1bmNhdGVUaW1lcyh0aW1lc3RhbXApIHtcbiAgaWYgKCF0aW1lc3RhbXApIHtcbiAgICByZXR1cm4gdGltZXN0YW1wO1xuICB9XG5cbiAgcmV0dXJuIHRpbWVzdGFtcC5zcGxpdChcIlRcIilbMF0gKyBcIlQwMDowMDowMFpcIjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcGluZyh0ZWxlbWV0cnkpIHtcbiAgdHJhY2Uoe3RlbGVtZXRyeX0pO1xuICBhd2FpdCBpbml0aWFsaXplci5zdGFydCgpO1xuXG4gIC8vIFRoaXMgaXMgYSBsYXN0IGxpbmUgdG8gZW5zdXJlIHRoYXQgd2UgZG9uJ3QgZXZlciBzZW5kIGEgcGluZyBpZiBzb21lb25lIGhhc1xuICAvLyBvcHRlZCBvdXQsIGV2ZW4gaWYgdGhlIGRldGFpbHMgb2YgdGhlIHNjaGVkdWxlciBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS4gVGhlXG4gIC8vIG1haW4gb3B0IG91dCBtZWNoYW5pc20gaXMgdGVsbGluZyB0aGUgc2NoZWR1bGVyIGlmIGl0J3MgdGltZSB0byBwaW5nIG9yXG4gIC8vIG5vdC5cbiAgaWYgKFByZWZzLnRlbGVtZXRyeV9vcHRfb3V0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qgc3RvcmFnZVJlc3VsdCA9IGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQoXG4gICAgW1RFTEVNRVRSWV9TVE9SQUdFX0tFWV1cbiAgKTtcbiAgY29uc3Qgc3RvcmFnZSA9IHN0b3JhZ2VSZXN1bHRbVEVMRU1FVFJZX1NUT1JBR0VfS0VZXTtcblxuICBsZXQgcGF5bG9hZCA9IGF3YWl0IGdldEV4dGVuc2lvbk1ldGFkYXRhKCk7XG4gIGlmIChzdG9yYWdlKSB7XG4gICAgcGF5bG9hZC5maXJzdF9waW5nID0gdHJ1bmNhdGVUaW1lcyhzdG9yYWdlLmZpcnN0UGluZyk7XG4gICAgcGF5bG9hZC5sYXN0X3BpbmcgPSB0cnVuY2F0ZVRpbWVzKHN0b3JhZ2UubGFzdFBpbmcpO1xuICAgIHBheWxvYWQucHJldmlvdXNfbGFzdF9waW5nID0gdHJ1bmNhdGVUaW1lcyhzdG9yYWdlLnByZXZpb3VzTGFzdFBpbmcpO1xuICAgIHBheWxvYWQubGFzdF9waW5nX3RhZyA9IHN0b3JhZ2UubGFzdFBpbmdUYWc7XG4gIH1cblxuICBsZXQgcGluZ1Rva2VuO1xuICB0cnkge1xuICAgIGxldCBzZXJ2ZXJSZXNwb25zZSA9IGF3YWl0IHBvc3RXaXRoQmVhcmVyVG9rZW4oXG4gICAgICB0ZWxlbWV0cnkudXJsLFxuICAgICAgdGVsZW1ldHJ5LmJlYXJlcixcbiAgICAgIHtwYXlsb2FkfVxuICAgICk7XG4gICAgcGluZ1Rva2VuID0gc2VydmVyUmVzcG9uc2UudG9rZW47XG5cbiAgICBpZiAoIXBpbmdUb2tlbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGVsZW1ldHJ5IHNlcnZlciByZXNwb25zZSBkaWQgbm90IGluY2x1ZGUgYSB0b2tlbi5cIik7XG4gICAgfVxuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgZXJyb3IoYFRlbGVtZXRyeSBlcnJvcjogJHtlLm1lc3NhZ2V9YCk7XG5cbiAgICBsZXQgbGFzdEVycm9yID0gKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCk7XG4gICAgYXdhaXQgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7XG4gICAgICBbVEVMRU1FVFJZX1NUT1JBR0VfS0VZXToge1xuICAgICAgICAuLi5zdG9yYWdlLFxuICAgICAgICBsYXN0RXJyb3JcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG9uRXJyb3IuZW1pdCh7XG4gICAgICBtZXNzYWdlOiBlLm1lc3NhZ2UsXG4gICAgICBsYXN0RXJyb3JcbiAgICB9KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBhd2FpdCBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHtcbiAgICBbVEVMRU1FVFJZX1NUT1JBR0VfS0VZXToge1xuICAgICAgZmlyc3RQaW5nOiAoc3RvcmFnZSAmJiBzdG9yYWdlLmZpcnN0UGluZykgfHwgcGluZ1Rva2VuLFxuICAgICAgbGFzdFBpbmc6IHBpbmdUb2tlbixcbiAgICAgIHByZXZpb3VzTGFzdFBpbmc6IHN0b3JhZ2UgJiYgc3RvcmFnZS5sYXN0UGluZyxcbiAgICAgIGxhc3RQaW5nVGFnOiB1dWlkdjQoKVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFVzZXMgdGhlIGZldGNoIEFQSSB0byBtYWtlIGEgUE9TVCByZXF1ZXN0IHRvIHRoZSBzcGVjaWZpZWQgZW5kcG9pbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBVUkwgZm9yIHRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtzdHJpbmd9IGJlYXJlciBCZWFyZXIgdG9rZW4gZm9yIHVzZSBpbiBBdXRoZW50aWNhdGlvbiBoZWFkZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gYm9keSBSZXF1ZXN0IGJvZHksIHdpbGwgYmUgc2VyaWFsaXplZCBpbnRvIEpTT04gdG8gc2VuZC5cbiAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn0gUHJvbWlzZSByZXNvbHZlcyB3aXRoIHRoZSBvYmplY3QgcmV0dXJuZWQgZnJvbSB0aGVcbiAqICAgc2VydmVyLiBSZWplY3RzIGlmIHRoZSByZXF1ZXN0IGZhaWxzLCBvciB0aGUgcmVzcG9uc2UgaGFzIGFuIGVycm9yIHN0YXR1cy5cbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBvc3RXaXRoQmVhcmVyVG9rZW4odXJsLCBiZWFyZXIsIGJvZHkpIHtcbiAgdHJhY2Uoe3VybCwgYmVhcmVyLCBib2R5fSk7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkF1dGhvcml6YXRpb25cIjogYEJlYXJlciAke2JlYXJlcn1gLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gIH0pO1xuXG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVGVsZW1ldHJ5IHNlcnZlciByZXNwb25kZWQgd2l0aCBlcnJvciBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9LmBcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uTWV0YWRhdGEoKSB7XG4gIGxldCBwbGF0Zm9ybTtcbiAgbGV0IHBsYXRmb3JtVmVyc2lvbjtcblxuICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudERhdGEpIHtcbiAgICBjb25zdCBwbGF0Zm9ybUluZm8gPSBhd2FpdCBuYXZpZ2F0b3IudXNlckFnZW50RGF0YS5nZXRIaWdoRW50cm9weVZhbHVlcyhbXG4gICAgICBcInBsYXRmb3JtXCIsXG4gICAgICBcInBsYXRmb3JtVmVyc2lvblwiXG4gICAgXSk7XG5cbiAgICBwbGF0Zm9ybSA9IHBsYXRmb3JtSW5mby5wbGF0Zm9ybTtcbiAgICBwbGF0Zm9ybVZlcnNpb24gPSBwbGF0Zm9ybUluZm8ucGxhdGZvcm1WZXJzaW9uO1xuICB9XG4gIGVsc2Uge1xuICAgIGNvbnN0IHBsYXRmb3JtSW5mbyA9IGF3YWl0IGJyb3dzZXIucnVudGltZS5nZXRQbGF0Zm9ybUluZm8oKTtcbiAgICBwbGF0Zm9ybSA9IHBsYXRmb3JtSW5mby5vcztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLy8gVGhlIE9TLiBXaW5kb3dzLCBMaW51eCwgZXRjLlxuICAgIHBsYXRmb3JtLFxuXG4gICAgLy8gVGhlIHZlcnNpb24gb2YgdGhlIHN5c3RlbSBPUy5cbiAgICBwbGF0Zm9ybV92ZXJzaW9uOiBwbGF0Zm9ybVZlcnNpb24sXG5cbiAgICAvLyBUaGUgYnJvd3Nlci4gQ2hyb21lLCBGaXJlZm94LCBldGMuXG4gICAgYXBwbGljYXRpb246IGluZm8uYXBwbGljYXRpb24sXG5cbiAgICAvLyBUaGUgdmVyc2lvbiBvZiB0aGUgYnJvd3Nlci5cbiAgICBhcHBsaWNhdGlvbl92ZXJzaW9uOiBpbmZvLmFwcGxpY2F0aW9uVmVyc2lvbixcblxuICAgIC8vIFVzZWQgdG8gaWRlbnRpZnkgdGhpcyBzcGVjaWZpYyBwcm9qZWN0LlxuICAgIGFkZG9uX25hbWU6IGluZm8uc2RrTmFtZSxcblxuICAgIC8vIFRoZSBFbmdpbmUncyBjdXJyZW50IHZlcnNpb24uIFNlZSB0aGUgRG90ZW52IHBsdWdpbiBpbiB3ZWJwYWNrLmNvbmZpZy5qc1xuICAgIGFkZG9uX3ZlcnNpb246IGluZm8uc2RrVmVyc2lvbixcblxuICAgIC8vIFRoZSBuYW1lIG9mIHRoZSBleHRlbnNpb24gdXNpbmcgdGhlIEVuZ2luZS5cbiAgICBleHRlbnNpb25fbmFtZTogaW5mby5hZGRvbk5hbWUsXG5cbiAgICAvLyBUaGUgZXh0ZW5zaW9uJ3MgdmVyc2lvbi5cbiAgICBleHRlbnNpb25fdmVyc2lvbjogaW5mby5hZGRvblZlcnNpb24sXG5cbiAgICAvLyBEZXBlbmRzIG9uIGhhdmluZyB0aGUgYWNjZXB0YWJsZSBhZHMgc3Vic2NyaXB0aW9uIGVuYWJsZWQuXG4gICAgYWFfYWN0aXZlOiBhd2FpdCBoYXNBY2NlcHRhYmxlQWRzRW5hYmxlZCgpXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICogQHR5cGVkZWYge09iamVjdH0gVGVsZW1ldHJ5UGluZ0Vycm9yXG4gICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UsIGRlc2NyaWJpbmcgdGhlIGZhaWx1cmUuXG4gICogQHByb3BlcnR5IHtzdHJpbmd9IGxhc3RFcnJvciBUaGUgdGltZXN0YW1wIG9mIHRoZSBlcnJvci5cbiAgKi9cblxuICAvKipcbiAgICogRW1pdHRlZCB3aGVuIHNlbmRpbmcgYSB0ZWxlbWV0cnkgcGluZyBmYWlscy5cbiAgICpcbiAgICogQGV2ZW50XG4gICAqIEB0eXBlIHtFdmVudERpc3BhdGNoZXI8VGVsZW1ldHJ5UGluZ0Vycm9yPn1cbiAgICovXG4gIG9uRXJyb3IsXG5cbiAgLyoqXG4gICAqIE9wdC1vdXQgZnJvbSB0ZWxlbWV0cnkuIERlZmF1bHQgaXMgYHRydWVgICh1c2VkIG9wdGVkIG91dClcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSBQYXNzIGB0cnVlYCB0byBvcHQtb3V0LCBwYXNzIGBmYWxzZWAgdG8gb3B0IGluLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHNldHRpbmcgaXMgc2V0LlxuICAgKi9cbiAgYXN5bmMgc2V0T3B0T3V0KHZhbHVlKSB7XG4gICAgUHJlZnMudGVsZW1ldHJ5X29wdF9vdXQgPSB2YWx1ZTtcblxuICAgIGlmIChzY2hlZHVsZXIgJiYgIXZhbHVlKSB7XG4gICAgICBzY2hlZHVsZXIuY2hlY2tOb3coKTtcbiAgICB9XG4gIH1cbn07XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3Nlci5qc1wiO1xuaW1wb3J0IHtTdWJzY3JpcHRpb24sIF9jbGVhbiBhcyBfY2xlYW5TdWJzY3JpcHRpb25DbGFzc2VzQ2FjaGV9XG4gIGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL3N1YnNjcmlwdGlvbkNsYXNzZXMuanNcIjtcbmltcG9ydCB7c2V0UmVjb21tZW5kYXRpb25zLCByZWNvbW1lbmRhdGlvbnN9XG4gIGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL3JlY29tbWVuZGF0aW9ucy5qc1wiO1xuaW1wb3J0IHtub3RpZmljYXRpb25zfSBmcm9tIFwiYWRibG9ja3BsdXNjb3JlL2xpYi9ub3RpZmljYXRpb25zLmpzXCI7XG5pbXBvcnQge2lzRmVhdHVyZUVuYWJsZWQsIHNldEZlYXR1cmVGbGFncywgcmVzZXRGZWF0dXJlRmxhZ3N9XG4gIGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2ZlYXR1cmVzLmpzXCI7XG5cbmltcG9ydCB7ZmlsdGVyRW5naW5lfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQge1ByZWZzLCBhd2FpdFNhdmluZ0NvbXBsZXRlLCBpbml0IGFzIGluaXRQcmVmc30gZnJvbSBcIi4vcHJlZnMuanNcIjtcbmltcG9ydCB7ZGVmYXVsdCBhcyBkZWJ1Z2dpbmd9IGZyb20gXCIuL2RlYnVnZ2luZy5qc1wiO1xuaW1wb3J0IHtpbmZvLCBsb2csIGRlYnVnLCB3YXJuLCBlcnJvciwgdHJhY2V9IGZyb20gXCIuL2RlYnVnZ2luZy5qc1wiO1xuaW1wb3J0IHtkZWZhdWx0IGFzIHN1YnMsIHNhdmVNaWdyYXRpb25FcnJvciBhcyBzYXZlU3Vic2NyaXB0aW9uTWlncmF0aW9uRXJyb3J9XG4gIGZyb20gXCIuL3N1YnNjcmlwdGlvbnMuanNcIjtcbmltcG9ydCB7Y2xlYXJTa2lwSW5pdFJ1bGVzZXRzLCBjaGVja0FuZEluaXRTdWJzY3JpcHRpb25zfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHtnZXREZWZhdWx0U3Vic2NyaXB0aW9ucywgaXNTeW5jaHJvbml6aW5nfSBmcm9tIFwiLi9zdWJzY3JpcHRpb25zLmpzXCI7XG5pbXBvcnQge2RlZmF1bHQgYXMgaW5pdGlhbGl6ZXJ9IGZyb20gXCIuL2luaXRpYWxpemVyLmpzXCI7XG5pbXBvcnQge3NldEFkZG9uSW5mbywgYWRkb25CdW5kbGVkU3Vic2NyaXB0aW9uc1BhdGgsIGluaXRpYWxpemVEZWZhdWx0QWRkb25JbmZvfVxuICBmcm9tIFwiLi9pbmZvLmpzXCI7XG5pbXBvcnQge2RuckRpZmZTdWJzY3JpcHRpb25VcGRhdGUsIGR5bmFtaWNSdWxlc0F2YWlsYWJsZSwgZ2V0RHluYW1pY0ZpbHRlcnMsXG4gICAgICAgIHJlbW92ZUFsbER5bmFtaWNGaWx0ZXJzLCBjbGVhclJ1bGVzZXRVcGRhdGVzLFxuICAgICAgICB0ZXN0U2V0RHluYW1pY1J1bGVzQXZhaWxhYmxlLCBjbGVhcklzRG5yU3Vic2NyaXB0aW9uVXBkYXRpbmd9XG4gIGZyb20gXCIuL2Ruci1maWx0ZXJzLmpzXCI7XG5pbXBvcnQge2dldFN1YnNjcmlwdGlvblJ1bGVzZXRNYXB9IGZyb20gXCIuL3N1YnNjcmlwdGlvbnMtdXRpbHMuanNcIjtcbmltcG9ydCB7SU99IGZyb20gXCIuL2lvLmpzXCI7XG5pbXBvcnQge0ZpbHRlclN0b3JhZ2V9IGZyb20gXCJhZGJsb2NrcGx1c2NvcmUvbGliL2ZpbHRlclN0b3JhZ2UuanNcIjtcbmltcG9ydCAqIGFzIHRlbGVtZXRyeSBmcm9tIFwiLi90ZWxlbWV0cnkuanNcIjtcbmltcG9ydCAqIGFzIGNkcE1ldHJpY3NVcGxvYWRlciBmcm9tIFwiLi9jZHAtbWV0cmljcy11cGxvYWRlci5qc1wiO1xuXG5pbXBvcnQgKiBhcyBzaXRla2V5IGZyb20gXCIuL3NpdGVrZXkuanNcIjtcbmltcG9ydCB7Z2V0RGVmZXJyZWRNZXNzYWdlc30gZnJvbSBcIi4vY29udGVudC1tZXNzYWdlLWRlZmVycmVyLmpzXCI7XG5pbXBvcnQge3NldERhdGEsIGdldERhdGEsIGNsZWFyRGF0YSwgY2xlYXJBY3Rpdml0eSxcbiAgICAgICAgX3Jlc3RvcmVDb25maWcsIF9zZXRDb25maWd9XG4gIGZyb20gXCIuL2NkcC5qc1wiO1xuaW1wb3J0IHtfY2xlYXJ9IGZyb20gXCIuL2ZyYW1lLXN0YXRlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLi4uc2l0ZWtleSwgLy8gZXZlcnl0aGluZyBleHBvcnRlZCBmcm9tIFwic2l0ZWtleS5qc1wiXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogVXNlZCBpbnRlcm5hbGx5LiBTZXRzIHRoZSBwcmVmZXJlbmNlIHZhbHVlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gUHJlZmVyZW5jZSBrZXlcbiAgICogQHBhcmFtIHtPYmplY3R9IFt2YWx1ZV0gUHJlZmVyZW5jZSB2YWx1ZVxuICAgKi9cbiAgYXN5bmMgX3NldFByZWZzKGtleSwgdmFsdWUpIHtcbiAgICBhd2FpdCBpbml0UHJlZnMoKTtcbiAgICBQcmVmc1trZXldID0gdmFsdWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogVXNlZCBpbnRlcm5hbGx5LiBHZXRzIHRoZSBwcmVmZXJlbmNlIHZhbHVlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gUHJlZmVyZW5jZSBrZXlcbiAgICogQHJldHVybnMge09iamVjdH0gUHJlZmVyZW5jZSB2YWx1ZVxuICAgKi9cbiAgYXN5bmMgX2dldFByZWZzKGtleSkge1xuICAgIGF3YWl0IGluaXRQcmVmcygpO1xuICAgIHJldHVybiBQcmVmc1trZXldO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqIFVzZWQgaW50ZXJuYWxseS4gUmVzdGFydCB0aGUgU3luY2hyb25pemVyLlxuICAgKi9cbiAgX3Jlc3RhcnRTeW5jaHJvbml6ZXIoKSB7XG4gICAgbGV0IHtmaWx0ZXJTdG9yYWdlfSA9IGZpbHRlckVuZ2luZTtcbiAgICBmaWx0ZXJTdG9yYWdlLnN5bmNocm9uaXplci5zdG9wKCk7XG4gICAgZmlsdGVyU3RvcmFnZS5zeW5jaHJvbml6ZXIuc3RhcnQoKTtcbiAgfSxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBVc2VkIGludGVybmFsbHkuIFNldHMgdGhlIHN1YnNjcmlwdGlvbiBwcm9wZXJ0eS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFt1cmxdIFN1YnNjcmlwdGlvbiBVUkxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtwcm90b3R5cGVdIE9iamVjdCB0byBzZXQgdGhlIHN1YnNjcmlwdGlvbiBwcm9wZXJ0aWVzIGZyb20uXG4gICAqL1xuICBhc3luYyBfc2V0U3Vic2NyaXB0aW9uUHJvcGVydGllcyh1cmwsIHByb3RvdHlwZSkge1xuICAgIGxldCBzdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb24uZnJvbVVSTCh1cmwpO1xuICAgIGZvciAobGV0IHByb3BlcnR5IGluIHByb3RvdHlwZSkge1xuICAgICAgc3Vic2NyaXB0aW9uW3Byb3BlcnR5XSA9IHByb3RvdHlwZVtwcm9wZXJ0eV07XG4gICAgfVxuXG4gICAgYXdhaXQgZmlsdGVyRW5naW5lLmZpbHRlclN0b3JhZ2Uuc2F2ZVRvRGlzaygpO1xuICAgIGF3YWl0IGRlYnVnZ2luZy5lbnN1cmVFdmVyeXRoaW5nSGFzU2F2ZWQoKTtcbiAgfSxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBAcGFyYW0ge1JlY29tbWVuZGF0aW9ufSBzdWJzY3JpcHRpb25zXG4gICAqL1xuICBfc2V0U3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zKSB7XG4gICAgc2V0QWRkb25JbmZvKHtidW5kbGVkU3Vic2NyaXB0aW9uczogc3Vic2NyaXB0aW9ucyxcbiAgICAgICAgICAgICAgICAgIGJ1bmRsZWRTdWJzY3JpcHRpb25zUGF0aDogYWRkb25CdW5kbGVkU3Vic2NyaXB0aW9uc1BhdGh9KTtcbiAgICBzZXRSZWNvbW1lbmRhdGlvbnMoc3Vic2NyaXB0aW9ucyk7XG4gICAgX2NsZWFuU3Vic2NyaXB0aW9uQ2xhc3Nlc0NhY2hlKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogQHBhcmFtIHtBcnJheX0gc291cmNlcyBBbiBhcnJheSBvZiBzb3VyY2VzIGZvciByZWNvbW1lbmRhdGlvbnNcbiAgICovXG4gIF9zZXRSZWNvbW1lbmRhdGlvbnMoc291cmNlcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHNvdXJjZXMgP1xuICAgICAgc291cmNlcy5tYXAocmVjb21tZW5kYXRpb24gPT4gcmVjb21tZW5kYXRpb24uX3NvdXJjZSkgOiBudWxsO1xuICAgIHNldFJlY29tbWVuZGF0aW9ucyhyZXN1bHQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqIEByZXR1cm5zIHtBcnJheX0gQW4gYXJyYXkgb2YgcmVjb21tZW5kYXRpb25zXG4gICAqL1xuICBfcmVjb21tZW5kYXRpb25zKCkge1xuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnMoKTtcbiAgfSxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgX2dldERlZmF1bHRTdWJzY3JpcHRpb25zOiBnZXREZWZhdWx0U3Vic2NyaXB0aW9ucyxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgX3NldEFkZG9uSW5mbzogc2V0QWRkb25JbmZvLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBfcmVzZXREZWZhdWx0QWRkb25JbmZvOiBpbml0aWFsaXplRGVmYXVsdEFkZG9uSW5mbyxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgX3NldEZlYXR1cmVGbGFnczogc2V0RmVhdHVyZUZsYWdzLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBfcmVzZXRGZWF0dXJlRmxhZ3M6IHJlc2V0RmVhdHVyZUZsYWdzLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmZWF0dXJlXG4gICAqL1xuICBhc3luYyBfaXNGZWF0dXJlRW5hYmxlZChmZWF0dXJlKSB7XG4gICAgLy8gVGhlIG92ZXJyaWRlcyBzZXQgaW4gdGVzdHMgbWlnaHQgb25seSBoYXZlIGZpbmlzaGVkIGxvYWRpbmcgZnJvbSBzZXNzaW9uXG4gICAgLy8gc3RvcmFnZSBhZnRlciB0aGUgY2FsbCB0byBpbml0aWFsaXplci5zdGFydCBpcyBjb21wbGV0ZS4gVGhlIHZhbHVlcyBzZXRcbiAgICAvLyBieSBhbiBleHRlbnNpb24gd2hlbiBjYWxsaW5nIEVXRS5zdGFydCBhcmUgYXZhaWxhYmxlIGFzIHNvb24gYXMgdGhlXG4gICAgLy8gYWRkb25JbmZvIGlzIHNldCAoZmlyc3Qgc3RlcCBvZiBFV0Uuc3RhcnQpLlxuICAgIGF3YWl0IGluaXRpYWxpemVyLnN0YXJ0KCk7XG4gICAgcmV0dXJuIGlzRmVhdHVyZUVuYWJsZWQoZmVhdHVyZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogQ2xlYXJzIGFsbCBzdWJzY3JpcHRpb25zIGFuZCBmaWx0ZXJzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB0b1xuICAgKiAgICAgICAgICAgICAgICAgICAgcmVzdG9yZSB0aGUgcmVtb3ZlZCBzdWJzY3JpcHRpb25zIGFuZCBmaWx0ZXJzLlxuICAgKi9cbiAgYXN5bmMgX3JlbW92ZUFsbFN1YnNjcmlwdGlvbnMoKSB7XG4gICAgZm9yIChsZXQgc3Vic2NyaXB0aW9uIG9mIGF3YWl0IHN1YnMuZ2V0U3Vic2NyaXB0aW9ucygpKSB7XG4gICAgICBhd2FpdCBzdWJzLnJlbW92ZShzdWJzY3JpcHRpb24udXJsKTtcbiAgICB9XG5cbiAgICBhd2FpdCByZW1vdmVBbGxEeW5hbWljRmlsdGVycygpO1xuICAgIGF3YWl0IGNsZWFyUnVsZXNldFVwZGF0ZXMoKTtcbiAgICBjbGVhcklzRG5yU3Vic2NyaXB0aW9uVXBkYXRpbmcoKTtcblxuICAgIGNvbnN0IHtmaWx0ZXJTdG9yYWdlfSA9IGZpbHRlckVuZ2luZTtcbiAgICBmaWx0ZXJTdG9yYWdlLl9jbGVhcigpO1xuICAgIGF3YWl0IGZpbHRlclN0b3JhZ2Uuc2F2ZVRvRGlzaygpO1xuXG4gICAgZmlsdGVyRW5naW5lLmNsZWFyKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICogQ2FsbCBkbnJEaWZmU3Vic2NyaXB0aW9uVXBkYXRlIGJ5IHN1YnNjcmlwdGlvbiBVUkwgZm9yIHRlc3RpbmcuIEl0XG4gICAqIHdpbGwgZ2V0IGFuIHJlYWwgc3Vic2NyaXB0aW9uIG9iamVjdCBiZWZvcmUgY2FsbGluZyB0aGUgQVBJLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBzdWJzY3JpcHRpb24gVVJMLlxuICAgKiBAcGFyYW0ge09iamVjdH0gdXBkYXRlcyBUaGUgdXBkYXRlcyB0byBhcHBseS5cbiAgICovXG4gIGFzeW5jIF9kbnJEaWZmU3Vic2NyaXB0aW9uVXBkYXRlKHVybCwgdXBkYXRlcykge1xuICAgIGF3YWl0IHRoaXMuX3dhaXRGb3JJbml0aWFsaXphdGlvbigpO1xuXG4gICAgY29uc3Qge2ZpbHRlclN0b3JhZ2V9ID0gZmlsdGVyRW5naW5lO1xuICAgIGxldCBzdWJzY3JpcHRpb24gPSBmaWx0ZXJTdG9yYWdlLmdldFN1YnNjcmlwdGlvbih1cmwpO1xuICAgIC8vIFRoaXMgYWxsb3cgdGVzdGluZyBpZiB0aGUgc3Vic2NyaXB0aW9uIGlzIG5vdCBpbiB0aGUgc3RvcmFnZS5cbiAgICBpZiAoIXN1YnNjcmlwdGlvbikge1xuICAgICAgc3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uLmZyb21VUkwodXJsKTtcbiAgICB9XG4gICAgYXdhaXQgZG5yRGlmZlN1YnNjcmlwdGlvblVwZGF0ZShzdWJzY3JpcHRpb24sIHVwZGF0ZXMpO1xuICB9LFxuXG4gIGdldFN1YnNjcmlwdGlvblJ1bGVzZXRNYXAsXG5cbiAgLypcbiAgICogQGlnbm9yZVxuICAgKiBTZXJpYWxpemUgdGhlIHJlc3VsdCBvZiBnZXREeW5hbWljRmlsdGVycygpIHRvIGFuIGFycmF5LlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBUaGUgYXJyYXkuXG4gICAqL1xuICBhc3luYyBnZXREeW5hbWljRmlsdGVycygpIHtcbiAgICBhd2FpdCBpbml0UHJlZnMoKTtcblxuICAgIGxldCBkeW5GaWx0ZXJzID0gYXdhaXQgZ2V0RHluYW1pY0ZpbHRlcnMoKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShkeW5GaWx0ZXJzLmVudHJpZXMoKSk7XG4gIH0sXG5cbiAgZHluYW1pY1J1bGVzQXZhaWxhYmxlLFxuICB0ZXN0U2V0RHluYW1pY1J1bGVzQXZhaWxhYmxlLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBhc3luYyBfY2xlYXJOb3RpZmljYXRpb25zKCkge1xuICAgIGF3YWl0IGluaXRQcmVmcygpO1xuICAgIGZvciAobGV0IG5vdGlmaWNhdGlvbiBvZiBub3RpZmljYXRpb25zLl9sb2NhbE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgIG5vdGlmaWNhdGlvbnMucmVtb3ZlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbik7XG4gICAgfVxuXG4gICAgUHJlZnMubm90aWZpY2F0aW9uZGF0YSA9IHt9O1xuICAgIFByZWZzLm5vdGlmaWNhdGlvbnNfaWdub3JlZGNhdGVnb3JpZXMgPSBbXTtcbiAgICBhd2FpdCBhd2FpdFNhdmluZ0NvbXBsZXRlKCk7XG4gIH0sXG5cbiAgZW5hYmxlRGVidWdPdXRwdXQoZW5hYmxlZCkge1xuICAgIGxldCBsaXN0ZW5lciA9IGRlYnVnZ2luZy5PTl9SRVFVRVNUX0NPTlNPTEVfTE9HR0VSLmdldExpc3RlbmVyKCk7XG4gICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgIGRlYnVnZ2luZy5vbkxvZ0V2ZW50LmFkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBkZWJ1Z2dpbmcub25Mb2dFdmVudC5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgfVxuICB9LFxuXG4gIENPTlNPTEVfTE9HR0VSOiBkZWJ1Z2dpbmcubG9nZ2VyLFxuXG4gIF9sb2c6IGxvZyxcbiAgX2RlYnVnOiBkZWJ1ZyxcbiAgX2luZm86IGluZm8sXG4gIF93YXJuOiB3YXJuLFxuICBfZXJyb3I6IGVycm9yLFxuICBfdHJhY2U6IHRyYWNlLFxuXG4gIF9jbGVhckRlYnVnTG9nKCkge1xuICAgIGRlYnVnZ2luZy5PTl9SRVFVRVNUX0NPTlNPTEVfTE9HR0VSLmNsZWFyKCk7XG4gIH0sXG5cbiAgX3ByaW50RGVidWdMb2coKSB7XG4gICAgZGVidWdnaW5nLk9OX1JFUVVFU1RfQ09OU09MRV9MT0dHRVIucHJpbnQoKTtcbiAgfSxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBSZW1vdmVzIFwicGF0dGVybnMuaW5pXCIgdG8gYXZvaWQgc3RhdGUgbGVhayBiZXR3ZWVuIHRoZSB0ZXN0cy5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIF9jbGVhclN0b3JhZ2UoKSB7XG4gICAgYXdhaXQgSU8uaW5pdGlhbGl6ZSgpO1xuICAgIGxldCBvbGROYW1lID0gRmlsdGVyU3RvcmFnZS5zb3VyY2VGaWxlO1xuICAgIGxldCBuZXdOYW1lID0gXCJyZW1vdmVkLnRtcFwiO1xuICAgIGxldCBzdGF0ID0gYXdhaXQgSU8uc3RhdEZpbGUob2xkTmFtZSk7XG5cbiAgICBpZiAoc3RhdC5leGlzdHMpIHtcbiAgICAgIGNvbnN0IHtmaWx0ZXJTdG9yYWdlfSA9IGZpbHRlckVuZ2luZTtcbiAgICAgIGF3YWl0IElPLnJlbmFtZUZpbGUob2xkTmFtZSwgbmV3TmFtZSk7XG4gICAgICBmaWx0ZXJTdG9yYWdlLmNsZWFyU3RhdHMoKTtcbiAgICAgIGF3YWl0IGZpbHRlclN0b3JhZ2UubG9hZEZyb21EaXNrKCk7XG4gICAgfVxuICB9LFxuXG4gIGFzeW5jIF93YWl0Rm9ySW5pdGlhbGl6YXRpb24oKSB7XG4gICAgYXdhaXQgaW5pdGlhbGl6ZXIuc3RhcnQoKTtcbiAgfSxcblxuICBjbGVhcklzRG5yU3Vic2NyaXB0aW9uVXBkYXRpbmcsXG4gIGlzU3luY2hyb25pemluZyxcblxuICBzdG9wVGVsZW1ldHJ5OiB0ZWxlbWV0cnkuc3RvcCxcbiAgc3RhcnRUZWxlbWV0cnk6IHRlbGVtZXRyeS5zdGFydCxcbiAgcmVzZXRUZWxlbWV0cnk6IHRlbGVtZXRyeS5yZXNldCxcbiAgc3RvcENkcE1ldHJpY3NVcGxvYWRlcjogY2RwTWV0cmljc1VwbG9hZGVyLnN0b3AsXG4gIHN0YXJ0Q2RwTWV0cmljc1VwbG9hZGVyOiBjZHBNZXRyaWNzVXBsb2FkZXIuc3RhcnQsXG4gIHJlc2V0Q2RwTWV0cmljc1VwbG9hZGVyOiBjZHBNZXRyaWNzVXBsb2FkZXIucmVzZXQsXG5cbiAgY2xlYXJTa2lwSW5pdFJ1bGVzZXRzLFxuICBjaGVja0FuZEluaXRTdWJzY3JpcHRpb25zLFxuICBfY2xlYW5TdWJzY3JpcHRpb25DbGFzc2VzQ2FjaGUsXG5cbiAgLy8gSXQgbXVzdCBiZSBjYWxsZWQgYWZ0ZXIgZnJhbWUgbG9hZGluZyBpcyBzdGFydGVkLFxuICAvLyB1c2UgYGF3YWl0IG5ldyBQYWdlKCkubG9hZGVkYCBmb3IgaW5zdGFuY2UuXG4gIGFzeW5jIF9pc0NvbnRlbnRIZWxsb1JlY2VpdmVkKHRhYklkLCBmcmFtZUlkKSB7XG4gICAgcmV0dXJuICFnZXREZWZlcnJlZE1lc3NhZ2VzKHRhYklkLCBmcmFtZUlkKTtcbiAgfSxcblxuICBhc3luYyBfc2F2ZVN1YnNjcmlwdGlvbk1pZ3JhdGlvbkVycm9yKHN1YnNjcmlwdGlvbiwgZXJyb3JNZXNzYWdlKSB7XG4gICAgYXdhaXQgaW5pdGlhbGl6ZXIuc3RhcnQoKTtcbiAgICBzYXZlU3Vic2NyaXB0aW9uTWlncmF0aW9uRXJyb3Ioc3Vic2NyaXB0aW9uLCBlcnJvck1lc3NhZ2UpO1xuICB9LFxuXG4gIGFzeW5jIF9zYXZlU2Vzc2lvblN0b3JhZ2Uoa2V5LCB2YWx1ZSkge1xuICAgIGxldCBvYmogPSB7fTtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5zZXNzaW9uLnNldChvYmopO1xuICB9LFxuXG4gIGFzeW5jIF9yZW1vdmVTZXNzaW9uU3RvcmFnZShrZXlzKSB7XG4gICAgYXdhaXQgYnJvd3Nlci5zdG9yYWdlLnNlc3Npb24ucmVtb3ZlKGtleXMpO1xuICB9LFxuXG4gIGFzeW5jIGdldER5bmFtaWNSdWxlcygpIHtcbiAgICByZXR1cm4gYXdhaXQgYnJvd3Nlci5kZWNsYXJhdGl2ZU5ldFJlcXVlc3QuZ2V0RHluYW1pY1J1bGVzKCk7XG4gIH0sXG5cbiAgX3NldENkcENvbmZpZzogX3NldENvbmZpZyxcbiAgX3Jlc3RvcmVDZHBDb25maWc6IF9yZXN0b3JlQ29uZmlnLFxuICBfc2V0Q2RwRGF0YTogc2V0RGF0YSxcbiAgX2dldENkcERhdGE6IGdldERhdGEsXG4gIF9jbGVhckNkcERhdGE6IGNsZWFyRGF0YSxcbiAgX2NsZWFyQ2RwQWN0aXZpdHk6IGNsZWFyQWN0aXZpdHksXG4gIF9jbGVhckZyYW1lU3RhdGU6IF9jbGVhclxufTtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5leHBvcnQge0Jsb2NrYWJsZUV2ZW50RGlzcGF0Y2hlcn0gZnJvbSBcIi4vZGlhZ25vc3RpY3MuanNcIjtcblxuLyoqXG4gKiBUaGUgRXZlbnREaXNwYXRjaGVyIGNsYXNzIGFsbG93cyB1c2VycyB0byBsaXN0ZW4gdG9cbiAqIGNlcnRhaW4gZXZlbnRzIHRoYXQgYXJlIGVtaXR0ZWQuXG4gKiBAaGlkZWNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBpbml0aWFsaXplclxuICogQHBhcmFtIHtmdW5jdGlvbn0gW2ZpbmFsaXplcl1cbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50RGlzcGF0Y2hlciB7XG4gIGNvbnN0cnVjdG9yKGluaXRpYWxpemVyLCBmaW5hbGl6ZXIpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuICAgIGxldCBkaXNwYXRjaCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiB0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuX2luaXRpYWxpemUgPSBpbml0aWFsaXplci5iaW5kKG51bGwsIGRpc3BhdGNoKTtcbiAgICB0aGlzLl9maW5hbGl6ZSA9IGZpbmFsaXplciAmJiBmaW5hbGl6ZXIuYmluZChudWxsLCBkaXNwYXRjaCk7XG4gIH1cblxuICAvKipcbiAgICAqIEF0dGFjaGVzIGEgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYW4gZXZlbnQuIFRoaXMgbGlzdGVuZXIgd2lsbCBiZSBjYWxsZWRcbiAgICAqIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuIFBsZWFzZSBub3RlIHRoYXQgaW4gYW4gTVYzIGNvbnRleHQgdGhpcyBoYXNcbiAgICAqIHRvIGhhcHBlbiBpbiB0aGUgZmlyc3QgdHVybiBvZiB0aGUgZXZlbnQgbG9vcC4gVGhpcyBzaG91bGQgaGFwcGVuIHdoZW5cbiAgICAqIHlvdXIgc2VydmljZSB3b3JrZXIgc3RhcnRzLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXIgVGhlIHVzZXIgZGVmaW5lZCBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkXG4gICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNlIHRoZSBzcGVjaWZpZWQgZXZlbnQgaXMgZW1pdHRlZC5cbiAgICAqL1xuICBhZGRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRoaXMuX2luaXRpYWxpemUoKTtcbiAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLl9saXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgICogUmVtb3ZlcyB0aGUgYWRkZWQgZnVuY3Rpb24uIFRoZSBsaXN0ZW5lciB3aWxsIG5vIGxvbmdlciBiZSBjYWxsZWRcbiAgICAqIGJ5IHRoZSBldmVudC5cbiAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyIFRoZSB1c2VyIGRlZmluZWQgZnVuY3Rpb24gdG8gYmUgcmVtb3ZlZC5cbiAgICAqL1xuICByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgIHRoaXMuX2xpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuXG4gICAgaWYgKHRoaXMuX2luaXRpYWxpemVkICYmIHRoaXMuX2ZpbmFsaXplICYmIHRoaXMuX2xpc3RlbmVycy5zaXplID09IDApIHtcbiAgICAgIHRoaXMuX2ZpbmFsaXplKCk7XG4gICAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIGxpc3RlbmVycyB3aXRoIHRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAqIEBwYXJhbSB7W09iamVjdF19IGxpc3RlbmVyIGFyZ3VtZW50c1xuICAgKi9cbiAgZW1pdCguLi5hcmdzKSB7XG4gICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lciguLi5hcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgcmVzdWx0IG9mIHBhcnNpbmcgYW4gaW52YWxpZCBmaWx0ZXIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBFaXRoZXIgYGludmFsaWRfZmlsdGVyYCBvciBgaW52YWxpZF9kb21haW5gLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHJlYXNvbiBUaGUgcmVhc29uIHdoeSB0aGUgZmlsdGVyIGlzIGludmFsaWQuXG4gKiBAcHJvcGVydHkge3N0cmluZz99IG9wdGlvbiBUaGUgZmlsdGVyIG9wdGlvbiB0aGF0IG1hZGUgdGhlIGZpbHRlciBpbnZhbGlkLlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb25cbiAqIEBwYXJhbSB7c3RyaW5nP30gb3B0aW9uXG4gKiBAaGlkZWNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBGaWx0ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IodHlwZSwgcmVhc29uLCBvcHRpb24gPSBudWxsKSB7XG4gICAgc3VwZXIoSlNPTi5zdHJpbmdpZnkoe3R5cGUsIHJlYXNvbiwgb3B0aW9ufSkpO1xuICAgIHRoaXMubmFtZSA9IFwiRmlsdGVyRXJyb3JcIjtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMucmVhc29uID0gcmVhc29uO1xuICAgIHRoaXMub3B0aW9uID0gb3B0aW9uO1xuICB9XG59XG4iLCIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgZXllbydzIFdlYiBFeHRlbnNpb24gQWQgQmxvY2tpbmcgVG9vbGtpdCAoRVdFKSxcbiAqIENvcHlyaWdodCAoQykgMjAwNi1wcmVzZW50IGV5ZW8gR21iSFxuICpcbiAqIEVXRSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogRVdFIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBFV0UuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuLy8gcmVleHBvcnQgcG9seWZpbGwgYnJvd3NlclxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuZXhwb3J0IGRlZmF1bHQgYnJvd3NlcjtcbiIsIi8qXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBleWVvJ3MgV2ViIEV4dGVuc2lvbiBBZCBCbG9ja2luZyBUb29sa2l0IChFV0UpLFxuICogQ29weXJpZ2h0IChDKSAyMDA2LXByZXNlbnQgZXllbyBHbWJIXG4gKlxuICogRVdFIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBFV0UgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIEVXRS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5jb25zdCBFUlJPUl9OT19DT05ORUNUSU9OID0gXCJDb3VsZCBub3QgZXN0YWJsaXNoIGNvbm5lY3Rpb24uIFwiICtcbiAgICAgIFwiUmVjZWl2aW5nIGVuZCBkb2VzIG5vdCBleGlzdC5cIjtcbmNvbnN0IEVSUk9SX0NMT1NFRF9DT05ORUNUSU9OID0gXCJBIGxpc3RlbmVyIGluZGljYXRlZCBhbiBhc3luY2hyb25vdXMgXCIgK1xuICAgICAgXCJyZXNwb25zZSBieSByZXR1cm5pbmcgdHJ1ZSwgYnV0IHRoZSBtZXNzYWdlIGNoYW5uZWwgY2xvc2VkIGJlZm9yZSBhIFwiICtcbiAgICAgIFwicmVzcG9uc2Ugd2FzIHJlY2VpdmVkXCI7XG4vLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTc4Njk3XG5jb25zdCBFUlJPUl9NQU5BR0VSX0RJU0NPTk5FQ1RFRCA9IFwiTWVzc2FnZSBtYW5hZ2VyIGRpc2Nvbm5lY3RlZFwiO1xuXG5leHBvcnQgY29uc3QgRVJST1JfRElTQUJMRURfUlVMRV9MSU1JVF9SRUFDSEVEID0gXCJUaGUgbnVtYmVyIG9mIGRpc2FibGVkIHN0YXRpYyBcIiArXG4gICAgICBcInJ1bGVzIGV4Y2VlZHMgdGhlIGRpc2FibGVkIHJ1bGUgY291bnQgbGltaXQuXCI7XG5cbmV4cG9ydCBjb25zdCBFUlJPUl9GSUxURVJfTk9UX0ZPVU5EID0gXCJmaWx0ZXJfbm90X2ZvdW5kXCI7XG5leHBvcnQgY29uc3QgRVJST1JfVE9PX01BTllfRklMVEVSUyA9IFwidG9vX21hbnlfZmlsdGVyc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gaWdub3JlTm9Db25uZWN0aW9uRXJyb3IocHJvbWlzZSkge1xuICByZXR1cm4gcHJvbWlzZS5jYXRjaChlcnJvciA9PiB7XG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PSBcIm9iamVjdFwiICYmXG4gICAgICAgIChlcnJvci5tZXNzYWdlID09IEVSUk9SX05PX0NPTk5FQ1RJT04gfHxcbiAgICAgICAgIGVycm9yLm1lc3NhZ2UgPT0gRVJST1JfQ0xPU0VEX0NPTk5FQ1RJT04gfHxcbiAgICAgICAgIGVycm9yLm1lc3NhZ2UgPT0gRVJST1JfTUFOQUdFUl9ESVNDT05ORUNURUQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH0pO1xufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc2RrL2FwaS9pbmRleC5qc1wiKTtcbiIsIiJdLCJuYW1lcyI6WyJicm93c2VyIiwiT2JqZWN0IiwiZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJDSFJPTUVfU0VORF9NRVNTQUdFX0NBTExCQUNLX05PX1JFU1BPTlNFX01FU1NBR0UiLCJTRU5EX1JFU1BPTlNFX0RFUFJFQ0FUSU9OX1dBUk5JTkciLCJ3cmFwQVBJcyIsImV4dGVuc2lvbkFQSXMiLCJhcGlNZXRhZGF0YSIsImtleXMiLCJsZW5ndGgiLCJFcnJvciIsIkRlZmF1bHRXZWFrTWFwIiwiV2Vha01hcCIsImNvbnN0cnVjdG9yIiwiY3JlYXRlSXRlbSIsIml0ZW1zIiwidW5kZWZpbmVkIiwiZ2V0Iiwia2V5IiwiaGFzIiwic2V0IiwiaXNUaGVuYWJsZSIsInZhbHVlIiwidGhlbiIsIm1ha2VDYWxsYmFjayIsInByb21pc2UiLCJtZXRhZGF0YSIsImNhbGxiYWNrQXJncyIsInJ1bnRpbWUiLCJsYXN0RXJyb3IiLCJyZWplY3QiLCJtZXNzYWdlIiwic2luZ2xlQ2FsbGJhY2tBcmciLCJyZXNvbHZlIiwicGx1cmFsaXplQXJndW1lbnRzIiwibnVtQXJncyIsIndyYXBBc3luY0Z1bmN0aW9uIiwibmFtZSIsImFzeW5jRnVuY3Rpb25XcmFwcGVyIiwidGFyZ2V0IiwiYXJncyIsIm1pbkFyZ3MiLCJtYXhBcmdzIiwiUHJvbWlzZSIsImZhbGxiYWNrVG9Ob0NhbGxiYWNrIiwiY2JFcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwibm9DYWxsYmFjayIsIndyYXBNZXRob2QiLCJtZXRob2QiLCJ3cmFwcGVyIiwiUHJveHkiLCJhcHBseSIsInRhcmdldE1ldGhvZCIsInRoaXNPYmoiLCJjYWxsIiwiaGFzT3duUHJvcGVydHkiLCJGdW5jdGlvbiIsImJpbmQiLCJ3cmFwT2JqZWN0Iiwid3JhcHBlcnMiLCJjYWNoZSIsImNyZWF0ZSIsImhhbmRsZXJzIiwicHJveHlUYXJnZXQiLCJwcm9wIiwicmVjZWl2ZXIiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJkZXNjIiwiUmVmbGVjdCIsImRlbGV0ZVByb3BlcnR5Iiwid3JhcEV2ZW50Iiwid3JhcHBlck1hcCIsImFkZExpc3RlbmVyIiwibGlzdGVuZXIiLCJoYXNMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwib25SZXF1ZXN0RmluaXNoZWRXcmFwcGVycyIsIm9uUmVxdWVzdEZpbmlzaGVkIiwicmVxIiwid3JhcHBlZFJlcSIsImdldENvbnRlbnQiLCJsb2dnZWRTZW5kUmVzcG9uc2VEZXByZWNhdGlvbldhcm5pbmciLCJvbk1lc3NhZ2VXcmFwcGVycyIsIm9uTWVzc2FnZSIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsImRpZENhbGxTZW5kUmVzcG9uc2UiLCJ3cmFwcGVkU2VuZFJlc3BvbnNlIiwic2VuZFJlc3BvbnNlUHJvbWlzZSIsInJlc3BvbnNlIiwic3RhY2siLCJyZXN1bHQiLCJlcnIiLCJpc1Jlc3VsdFRoZW5hYmxlIiwic2VuZFByb21pc2VkUmVzdWx0IiwibXNnIiwiZXJyb3IiLCJfX21veldlYkV4dGVuc2lvblBvbHlmaWxsUmVqZWN0X18iLCJjYXRjaCIsIndyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrIiwicmVwbHkiLCJ3cmFwcGVkU2VuZE1lc3NhZ2UiLCJhcGlOYW1lc3BhY2VPYmoiLCJ3cmFwcGVkQ2IiLCJwdXNoIiwic2VuZE1lc3NhZ2UiLCJzdGF0aWNXcmFwcGVycyIsImRldnRvb2xzIiwibmV0d29yayIsIm9uTWVzc2FnZUV4dGVybmFsIiwidGFicyIsInNldHRpbmdNZXRhZGF0YSIsImNsZWFyIiwicHJpdmFjeSIsInNlcnZpY2VzIiwid2Vic2l0ZXMiLCJjaHJvbWUiLCJpZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9